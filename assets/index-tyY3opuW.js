const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/ElevationLayer--vT_2J6T.js","assets/ArcGISCachedService-XLQ05TQL.js","assets/TileInfoTilemapCache-a8QNk-FC.js","assets/TilemapCache-Dfkuocs_.js","assets/memoryEstimations-DHGmnvBy.js","assets/WorkerHandle-lnpkoV06.js","assets/statsWorker-dKfaedMR.js","assets/utils-CnqCQ2-S.js","assets/quantizationUtils-mrD8eCyB.js","assets/utils-BJakWFFj.js","assets/utils-D3Dqw-LW.js","assets/ClassBreaksDefinition-BmeqFjdm.js","assets/geometryEngineWorker-BkMQzpX8.js","assets/geometryEngineJSON-B_JiqPb-.js","assets/geometryEngineBase-BQTefT4Y.js","assets/_commonjsHelpers-DCkdB7M8.js","assets/CSVSourceWorker-BJlusAkW.js","assets/date-DCujAECq.js","assets/OptimizedFeature-CXc4T914.js","assets/FeatureStore-ASktzIje.js","assets/featureConversionUtils-DIT87Go3.js","assets/OptimizedFeatureSet-BR8EEvDc.js","assets/BoundsStore-WreMD12X.js","assets/PooledRBush-Dko7fZDq.js","assets/timeSupport-BX-JTn9c.js","assets/queryUtils-CaHCJjeA.js","assets/optimizedFeatureQueryEngineAdapter-DVYfyZfT.js","assets/QueryEngine-BzpgYcdj.js","assets/WhereClauseCache-BdUmY7G-.js","assets/WhereClause-CfHsenOD.js","assets/QueryEngineCapabilities-DJC_YILC.js","assets/SnappingCandidate-DGkpYqI6.js","assets/FixedIntervalBinParameters-CycjRXV0.js","assets/number-BignABY6.js","assets/locationUtils-Bsz8O0SG.js","assets/clientSideDefaults-Dz7mzlz2.js","assets/EdgeProcessingWorker-B_-MdCMF.js","assets/workerHelper-CSr1sdIT.js","assets/InterleavedLayout-B42gSFgX.js","assets/BufferView-BOF5J9rp.js","assets/types-BKo2foNY.js","assets/VertexElementDescriptor-BLyltQyJ.js","assets/VertexAttributeLocations-BfZbt_DV.js","assets/edgeProcessing-DSUPsJQH.js","assets/deduplicate-DdYeyxq4.js","assets/Indices-CzUDZv2g.js","assets/Normals-YaDI8ugO.js","assets/ElevationSamplerWorker-jNqyLKXl.js","assets/MeshLocalVertexSpace-DIXnG2Jr.js","assets/vertexSpaceConversion-CSQvn83T.js","assets/spatialReferenceEllipsoidUtils-DAAW_nNI.js","assets/computeTranslationToOriginAndRotation-0VaZ1UHY.js","assets/projectPointToVector-CTZ1wrGp.js","assets/meshVertexSpaceUtils-hTmGAXMc.js","assets/vec3-DiE-MV7P.js","assets/vec4-BuzsLfsv.js","assets/FeatureServiceSnappingSourceWorker-CSWXirIe.js","assets/symbologySnappingCandidates-C5OmHIlY.js","assets/pbfQueryUtils-fpsTX0lG.js","assets/pbf-CpizCfu8.js","assets/query-m3nb4kEL.js","assets/GeoJSONSourceWorker-DyHyCBpB.js","assets/geojson-Bm74a40l.js","assets/sourceUtils-QCqegsKO.js","assets/MemorySourceWorker-DOOUSDaa.js","assets/objectIdUtils-BmFjqQA3.js","assets/PBFDecoderWorker-DwE_qkVg.js","assets/dehydratedFeatures-CoT89xZf.js","assets/FeaturePipelineWorker-DbpOMwwa.js","assets/AttributeStore-BZ--ZczU.js","assets/Utils-BKrpOYvg.js","assets/BoundingBox-DSwR2_g2.js","assets/UpdateTracking2D-B-HO77xZ.js","assets/FeatureStoreQueryAdapter-BpAwMIxk.js","assets/labelPoint-BxR_--l_.js","assets/constants-BBnGEY1d.js","assets/streamLayerUtils-DFlbJ4P1.js","assets/MeshWriterRegistry-ByVf0ILA.js","assets/rasterizingUtils-Cnxvjxr_.js","assets/CIMSymbolHelper-BzrPq-H3.js","assets/BidiEngine-BvER9tXK.js","assets/GeometryUtils-DUacDhjT.js","assets/Rect-CUzevAry.js","assets/TexturedLineMeshWriter-Cctl7Lc4.js","assets/TurboLine-BF_-zzMn.js","assets/grouping-BmcyuT-U.js","assets/QueueProcessor-4khNYEmn.js","assets/FeatureMetadata-DXZ4ugnF.js","assets/SourceChunkStore-CFoRu65V.js","assets/parquet-D0jftb1R.js","assets/operatorGeodeticDensify-CN-1QrJ9.js","assets/SimpleGeometryCursor-B92kdZ15.js","assets/geodeticCurveType-CirnHLSB.js","assets/normalizeUtilsSync-JdleQUSh.js","assets/FeatureIdInfo-D4urJwr2.js","assets/ogcFeatureUtils-Cc9ExRlO.js","assets/CircularArray-CujHzHWW.js","assets/createConnection-DmLZLDHf.js","assets/PointCloudWorker-BZXETj__.js","assets/quat-MM7qsMrh.js","assets/quatf64-aQ5IuZRd.js","assets/vec3f32-WCVSSNPR.js","assets/PointCloudUniqueValueRenderer-DBUHjkGG.js","assets/I3SBinaryReader-SGX3Fgla.js","assets/orientedBoundingBox-BjlZex9A.js","assets/plane-XJQNVhrd.js","assets/vectorStacks-DWcYwVnY.js","assets/RasterWorker-BTfEO-0l.js","assets/PixelBlock-CekpO6ed.js","assets/RasterSymbolizer-D-Dk8XEz.js","assets/vectorFieldUtils-Cc35_csA.js","assets/colorUtils-UtQGdc0S.js","assets/rasterFunctionHelper-CDt3_cjR.js","assets/clipUtils-B48urvHp.js","assets/rasterProjectionHelper-Cb8Gppq-.js","assets/PolynomialTransform-Uf3lb1yy.js","assets/dataUtils-CKovKPcv.js","assets/SceneLayerSnappingSourceWorker-DLsR1R7b.js","assets/lineSegment-C3_8Dw6t.js","assets/sphere-CE59TCNS.js","assets/Octree-mpDvfrlR.js","assets/frustum-f5gCSMEy.js","assets/SceneLayerWorker-CI9ndp8z.js","assets/projectVectorToVector-Cvn2-b4C.js","assets/WFSSourceWorker-DZCj2z5m.js","assets/wfsUtils-OqvPhfjG.js","assets/xmlUtils-CtUoQO7q.js","assets/WorkerTileHandler-BSq8wrrc.js","assets/constants-BHYAGdRm.js","assets/config-BOD8--da.js","assets/SourceLayerData-D_Hs8lbA.js","assets/StyleRepository-BqTKcalf.js","assets/earcut-D9gy186-.js","assets/Feature3DPipelineWorker-Dw-ffr2U.js","assets/HUDMaterial.glsl-DGj2it1P.js","assets/hydratedFeatures-DZ99aBtl.js","assets/OutputColorHighlightOID.glsl-DAy6f2vv.js","assets/triangle-aAXlQFz9.js","assets/renderState-CKc66y4x.js","assets/glsl-B5bJgrnA.js","assets/ShaderBuilder-YqrUedyA.js","assets/placementUtils-DQzmp3X2.js","assets/sdfPrimitives-B-yawFYt.js","assets/Texture-4WNHoTd6.js","assets/videoUtils-D7hLRsYE.js","assets/requestImageUtils-B2ME34T2.js","assets/RealisticTree.glsl-n_7Rox-u.js","assets/DefaultMaterial-BYcbdp8g.js","assets/VertexBuffer-CrwTcO7Y.js","assets/BufferObject-ijQMKIhB.js","assets/boundedPlane-BMJ5sI8U.js","assets/FlowWorker-DNg9mKUN.js","assets/ParquetSourceWorker-RXV5QFWV.js","assets/parquetUtils-CdCzRb6o.js","assets/PanoramicMeshWorker-CVw7enLn.js","assets/projectOperator-DJV-m8Ec.js","assets/operatorProject-BB9ovB5R.js","assets/projectOperator-sDERQnt7.js","assets/Popup-C9LaNooX.js","assets/throttle-glPToGd8.js","assets/unitFormatUtils-DJnVGQnG.js","assets/quantityUtils-D96iDd_2.js","assets/AttachmentInfo-B3M4IZ7g.js","assets/featureUtils-DaQU3_3g.js","assets/utils-1gEzut3g.js","assets/cimSymbolUtils-DN4AZGHy.js","assets/executeQueryJSON-HAuwf9BS.js","assets/shared-CcJa_lN7.js","assets/isImageryGraphicOrigin-Ccuhb4eK.js","assets/isImageryTileGraphicOrigin-ZR-gBf9D.js","assets/ReactiveSet-CKbkSkpW.js","assets/symbolUtils-D4BIKnJK.js","assets/layerViewUtils-DHs6A6GP.js","assets/portalLayers-Br32oWuP.js","assets/associatedFeatureServiceUtils-v03hZ5hQ.js","assets/fetchService-Di-5DYSF.js","assets/loadUtils-90l0pVvu.js","assets/lazyLayerLoader-Bmz7tDlk.js","assets/arcgisLayers-BCpz390m.js","assets/layersCreator-CiKRSslc.js","assets/ElevationQuery-CGwMnvLs.js","assets/GeometryDescriptor-CEC-Per7.js","assets/arcadeUtils-DHmXf-2e.js","assets/arcade-BrMP2N5W.js","assets/arcadeEnvironment-Pbjl21wt.js","assets/Dictionary-TFfp3KIi.js","assets/ImmutableArray-BPVd6ESQ.js","assets/Feature-Cnu8k1pZ.js","assets/aiServices-B-na4zz-.js","assets/commonProperties-DHiB1uzW.js","assets/unitConversion-yJUyjm7d.js","assets/rasterFieldUtils-CnWYm4wH.js","assets/batchExec-Dubz70pe.js","assets/webStyleSymbolUtils-BP_N7UYK.js","assets/devEnvironmentUtils-8WtPGj6h.js","assets/webglDeps-CEXy3Wmw.js","assets/FramebufferObject-DW3kYxAA.js","assets/ProgramTemplate-DKCFlTDa.js","assets/VertexArrayObject-VkihLUIA.js","assets/mapViewDeps-CqXSGPE6.js","assets/FeatureCommandQueue-Daq2QTyT.js","assets/GraphShaderModule-BH7oxack.js","assets/utils-DCNt3cqe.js","assets/WGLContainer-D25wxk8h.js","assets/Container-BCvywskE.js","assets/SDFHelper-Bo0JWUKE.js","assets/OverrideHelper-CPkbnXtV.js","assets/callExpressionWithFeature-d9cNDg4J.js","assets/GridShader-LvVN04hq.js","assets/testSVGPremultipliedAlpha-FqCTjdGW.js","assets/SymbolFader-BbJyn99s.js","assets/RenderingContext-DOPnyLHN.js","assets/CIMResourceManager-Bl8QeQpH.js","assets/utils-Byq8TnYx.js","assets/utils-DDjZAYSk.js","assets/GraphicsView2D-BwLIcxoG.js","assets/GraphicContainer-D_mesVl7.js","assets/AGraphicContainer-Dlvy2qnB.js","assets/TechniqueInstance-D_-lH-k3.js","assets/TileContainer-BiJWfcCo.js","assets/gridUtils-B0SVPEEP.js","assets/geodesicUtils-C_kkBb3z.js","assets/TileLayerView2D-1IuWY2Mz.js","assets/imageUtils-CuaRXJVw.js","assets/BitmapTechnique-CaWO54YD.js","assets/bitmapUtils-msTQhfQZ.js","assets/LayerView2D-BvNvQNS8.js","assets/HighlightGraphicContainer-Dm4y6JUv.js","assets/LayerView-JJFpQ7GP.js","assets/RefreshableLayerView-CyNd10vz.js","assets/MapServiceLayerViewHelper-nASjuwjF.js","assets/floorFilterUtils-DKzVzLpH.js","assets/drapedUtils-PYZ3ksLR.js","assets/sublayerUtils-BEQnBRaB.js","assets/popupUtils-midRKR8B.js","assets/highlightOptionsUtils-kCamolmY.js","assets/FeatureLayerView2D-lKzzCYB8.js","assets/timeSupport-D3V54jv9.js","assets/AttributeBinsFeatureSet-CDcxhpRC.js","assets/AttributeBinsQuery-L18_yIfE.js","assets/constants-SxxbBSOD.js","assets/BaseDynamicLayerView2D-IgYyIO2g.js","assets/BitmapContainer-AIVdpJ0J.js","assets/ExportStrategy-iMr2bEr3.js","assets/CatalogLayerView2D-TzY4deLK.js","assets/CatalogDynamicGroupLayerView2D-DrIjZ4yO.js","assets/CatalogFootprintLayerView2D-CerNlYt_.js","assets/GeoRSSLayerView2D-DwtNrhXj.js","assets/GraphicsLayerView2D-WPIBE78G.js","assets/GroupLayerView2D-5vwipO85.js","assets/ImageryLayerView2D-B73fAKXv.js","assets/RasterVFDisplayObject-CduECQUm.js","assets/ImageryTileLayerView2D-BxmU-7Zq.js","assets/datasetUtils-oBu4K07J.js","assets/rasterUtils-B2Kf3rVc.js","assets/RawBlockCache-QalaadMM.js","assets/KMLLayerView2D-D4UBXOcZ.js","assets/kmlUtils-DnOykhIa.js","assets/KnowledgeGraphLayerView2D-DwMbYZYI.js","assets/MapImageLayerView2D-DcXPxXkl.js","assets/ExportImageParameters-Ds5tTelT.js","assets/MapNotesLayerView2D-CxTeEWqy.js","assets/MediaLayerView2D-DkROxyG7.js","assets/mediaLayerUtils-mOHzEKRr.js","assets/OverlayContainer-CMddiRbX.js","assets/OGCFeatureLayerView2D-DbVXkWhL.js","assets/RouteLayerView2D-Cb0sqvwN.js","assets/Stop--Cvdox6w.js","assets/networkEnums-jcmBGAs4.js","assets/StreamLayerView2D-JgRr97V-.js","assets/SubtypeGroupLayerView2D-t9UeN99o.js","assets/VectorTileLayerView2D-DsKGrDbE.js","assets/VideoLayerView2D-DmNoJtY0.js","assets/GraphicsLayer-DwlNKOjk.js","assets/videoUtils-CdMTPLLB.js","assets/ControlPoint-ECIN-ppU.js","assets/WMSLayerView2D-Ne9xFnRV.js","assets/ExportWMSImageParameters-CD4fom1j.js","assets/WMTSLayerView2D-Ctf4yUI5.js","assets/ElevationProfileAnalysisView2D-DYikZyp2.js","assets/createUtils-BLQCf1n9.js","assets/distanceOperator-BhhSiGiM.js","assets/Point2D-ByVU2sJE.js","assets/Distance2DCalculator-CXhBP-8I-BdbOqNeY.js","assets/ProjectionTransformation-D6kxGJeZ.js","assets/Envelope2D-PYZ6irrd.js","assets/Transformation2D-HOoFpL6n.js","assets/OperatorDefinitions-DP7_WWTp.js","assets/apiConverter-BUuiH-nU.js","assets/jsonConverter-49NFqf8h.js","assets/simplifyOperator-3LSuexgg.js","assets/operatorSimplify-CY7pLcET.js","assets/mapCollectionUtils-D2JvBe0G.js","assets/elevationInfoUtils-CQ2cQufU.js","assets/getDefaultUnitForView-BA5zVSVH.js","assets/SketchViewModel-DIve4bZd.js","assets/hitTestSelectUtils-DBsj756C.js","assets/geodeticLengthOperator-BPjgxMMj.js","assets/apng-dNmR4ho7.js","assets/webdocSaveUtils-CwVQCSJh.js","assets/originUtils-CSyikOqN.js","assets/basemapUtils-Baj_ToC7.js","assets/resourceUtils-CDGP2VQ3.js","assets/resourceUtils-Bnv7P3j-.js","assets/saveUtils-DZlxMMwh.js","assets/layersLoader-CooJw7ar.js","assets/featureLayerUtils-CzvasJax.js","assets/utils-DiZTDmlg.js","assets/FeatureLayerSource-Db8Ny7qq.js","assets/External-B3a_kLsG.js","assets/applyEditsUtils-Dxl713D4.js","assets/MeshTransform-Bq7vpG32.js","assets/axisAngleDegrees-CBK1hBmu.js","assets/editingSupport-UOGNwLzb.js","assets/QueryTask-DmLJ7Yur.js","assets/executeForIds-D_Ys26sv.js","assets/queryAssociations-CA-b9rAL.js","assets/Association-D88VZLu9.js","assets/synthesizeAssociationGeometries-DEiy7zEc.js"])))=>i.map(i=>d[i]);
var hve=Object.getPrototypeOf;var pve=Reflect.get;var AG=t=>{throw TypeError(t)};var K5=(t,e,i)=>e.has(t)||AG("Cannot "+i);var Ri=(t,e,i)=>(K5(t,e,"read from private field"),i?i.call(t):e.get(t)),Ic=(t,e,i)=>e.has(t)?AG("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,i),Cc=(t,e,i,r)=>(K5(t,e,"write to private field"),r?r.call(t,i):e.set(t,i),i),jx=(t,e,i)=>(K5(t,e,"access private method"),i);var OG=(t,e,i)=>pve(hve(t),i,e);function fve(t,e){for(var i=0;i<e.length;i++){const r=e[i];if(typeof r!="string"&&!Array.isArray(r)){for(const n in r)if(n!=="default"&&!(n in t)){const s=Object.getOwnPropertyDescriptor(r,n);s&&Object.defineProperty(t,n,s.get?s:{enumerable:!0,get:()=>r[n]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const s of n)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function i(n){const s={};return n.integrity&&(s.integrity=n.integrity),n.referrerPolicy&&(s.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?s.credentials="include":n.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(n){if(n.ep)return;n.ep=!0;const s=i(n);fetch(n.href,s)}})();function mve(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Q5={exports:{}},Fx={};var PG;function gve(){if(PG)return Fx;PG=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(r,n,s){var o=null;if(s!==void 0&&(o=""+s),n.key!==void 0&&(o=""+n.key),"key"in n){s={};for(var a in n)a!=="key"&&(s[a]=n[a])}else s=n;return n=s.ref,{$$typeof:t,type:r,key:o,ref:n!==void 0?n:null,props:s}}return Fx.Fragment=e,Fx.jsx=i,Fx.jsxs=i,Fx}var DG;function yve(){return DG||(DG=1,Q5.exports=gve()),Q5.exports}var ii=yve(),eL={exports:{}},Gt={};var RG;function vve(){if(RG)return Gt;RG=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),n=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),o=Symbol.for("react.context"),a=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),g=Symbol.for("react.activity"),v=Symbol.iterator;function w(X){return X===null||typeof X!="object"?null:(X=v&&X[v]||X["@@iterator"],typeof X=="function"?X:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},T=Object.assign,C={};function I(X,fe,Pe){this.props=X,this.context=fe,this.refs=C,this.updater=Pe||S}I.prototype.isReactComponent={},I.prototype.setState=function(X,fe){if(typeof X!="object"&&typeof X!="function"&&X!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,X,fe,"setState")},I.prototype.forceUpdate=function(X){this.updater.enqueueForceUpdate(this,X,"forceUpdate")};function A(){}A.prototype=I.prototype;function P(X,fe,Pe){this.props=X,this.context=fe,this.refs=C,this.updater=Pe||S}var D=P.prototype=new A;D.constructor=P,T(D,I.prototype),D.isPureReactComponent=!0;var L=Array.isArray;function B(){}var N={H:null,A:null,T:null,S:null},Y=Object.prototype.hasOwnProperty;function K(X,fe,Pe){var Be=Pe.ref;return{$$typeof:t,type:X,key:fe,ref:Be!==void 0?Be:null,props:Pe}}function te(X,fe){return K(X.type,fe,X.props)}function ue(X){return typeof X=="object"&&X!==null&&X.$$typeof===t}function ye(X){var fe={"=":"=0",":":"=2"};return"$"+X.replace(/[=:]/g,function(Pe){return fe[Pe]})}var se=/\/+/g;function G(X,fe){return typeof X=="object"&&X!==null&&X.key!=null?ye(""+X.key):fe.toString(36)}function ie(X){switch(X.status){case"fulfilled":return X.value;case"rejected":throw X.reason;default:switch(typeof X.status=="string"?X.then(B,B):(X.status="pending",X.then(function(fe){X.status==="pending"&&(X.status="fulfilled",X.value=fe)},function(fe){X.status==="pending"&&(X.status="rejected",X.reason=fe)})),X.status){case"fulfilled":return X.value;case"rejected":throw X.reason}}throw X}function J(X,fe,Pe,Be,Je){var lt=typeof X;(lt==="undefined"||lt==="boolean")&&(X=null);var St=!1;if(X===null)St=!0;else switch(lt){case"bigint":case"string":case"number":St=!0;break;case"object":switch(X.$$typeof){case t:case e:St=!0;break;case f:return St=X._init,J(St(X._payload),fe,Pe,Be,Je)}}if(St)return Je=Je(X),St=Be===""?"."+G(X,0):Be,L(Je)?(Pe="",St!=null&&(Pe=St.replace(se,"$&/")+"/"),J(Je,fe,Pe,"",function(fo){return fo})):Je!=null&&(ue(Je)&&(Je=te(Je,Pe+(Je.key==null||X&&X.key===Je.key?"":(""+Je.key).replace(se,"$&/")+"/")+St)),fe.push(Je)),1;St=0;var si=Be===""?".":Be+":";if(L(X))for(var qe=0;qe<X.length;qe++)Be=X[qe],lt=si+G(Be,qe),St+=J(Be,fe,Pe,lt,Je);else if(qe=w(X),typeof qe=="function")for(X=qe.call(X),qe=0;!(Be=X.next()).done;)Be=Be.value,lt=si+G(Be,qe++),St+=J(Be,fe,Pe,lt,Je);else if(lt==="object"){if(typeof X.then=="function")return J(ie(X),fe,Pe,Be,Je);throw fe=String(X),Error("Objects are not valid as a React child (found: "+(fe==="[object Object]"?"object with keys {"+Object.keys(X).join(", ")+"}":fe)+"). If you meant to render a collection of children, use an array instead.")}return St}function le(X,fe,Pe){if(X==null)return X;var Be=[],Je=0;return J(X,Be,"","",function(lt){return fe.call(Pe,lt,Je++)}),Be}function ve(X){if(X._status===-1){var fe=X._result;fe=fe(),fe.then(function(Pe){(X._status===0||X._status===-1)&&(X._status=1,X._result=Pe)},function(Pe){(X._status===0||X._status===-1)&&(X._status=2,X._result=Pe)}),X._status===-1&&(X._status=0,X._result=fe)}if(X._status===1)return X._result.default;throw X._result}var Me=typeof reportError=="function"?reportError:function(X){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var fe=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof X=="object"&&X!==null&&typeof X.message=="string"?String(X.message):String(X),error:X});if(!window.dispatchEvent(fe))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",X);return}console.error(X)},Ne={map:le,forEach:function(X,fe,Pe){le(X,function(){fe.apply(this,arguments)},Pe)},count:function(X){var fe=0;return le(X,function(){fe++}),fe},toArray:function(X){return le(X,function(fe){return fe})||[]},only:function(X){if(!ue(X))throw Error("React.Children.only expected to receive a single React element child.");return X}};return Gt.Activity=g,Gt.Children=Ne,Gt.Component=I,Gt.Fragment=i,Gt.Profiler=n,Gt.PureComponent=P,Gt.StrictMode=r,Gt.Suspense=l,Gt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,Gt.__COMPILER_RUNTIME={__proto__:null,c:function(X){return N.H.useMemoCache(X)}},Gt.cache=function(X){return function(){return X.apply(null,arguments)}},Gt.cacheSignal=function(){return null},Gt.cloneElement=function(X,fe,Pe){if(X==null)throw Error("The argument must be a React element, but you passed "+X+".");var Be=T({},X.props),Je=X.key;if(fe!=null)for(lt in fe.key!==void 0&&(Je=""+fe.key),fe)!Y.call(fe,lt)||lt==="key"||lt==="__self"||lt==="__source"||lt==="ref"&&fe.ref===void 0||(Be[lt]=fe[lt]);var lt=arguments.length-2;if(lt===1)Be.children=Pe;else if(1<lt){for(var St=Array(lt),si=0;si<lt;si++)St[si]=arguments[si+2];Be.children=St}return K(X.type,Je,Be)},Gt.createContext=function(X){return X={$$typeof:o,_currentValue:X,_currentValue2:X,_threadCount:0,Provider:null,Consumer:null},X.Provider=X,X.Consumer={$$typeof:s,_context:X},X},Gt.createElement=function(X,fe,Pe){var Be,Je={},lt=null;if(fe!=null)for(Be in fe.key!==void 0&&(lt=""+fe.key),fe)Y.call(fe,Be)&&Be!=="key"&&Be!=="__self"&&Be!=="__source"&&(Je[Be]=fe[Be]);var St=arguments.length-2;if(St===1)Je.children=Pe;else if(1<St){for(var si=Array(St),qe=0;qe<St;qe++)si[qe]=arguments[qe+2];Je.children=si}if(X&&X.defaultProps)for(Be in St=X.defaultProps,St)Je[Be]===void 0&&(Je[Be]=St[Be]);return K(X,lt,Je)},Gt.createRef=function(){return{current:null}},Gt.forwardRef=function(X){return{$$typeof:a,render:X}},Gt.isValidElement=ue,Gt.lazy=function(X){return{$$typeof:f,_payload:{_status:-1,_result:X},_init:ve}},Gt.memo=function(X,fe){return{$$typeof:h,type:X,compare:fe===void 0?null:fe}},Gt.startTransition=function(X){var fe=N.T,Pe={};N.T=Pe;try{var Be=X(),Je=N.S;Je!==null&&Je(Pe,Be),typeof Be=="object"&&Be!==null&&typeof Be.then=="function"&&Be.then(B,Me)}catch(lt){Me(lt)}finally{fe!==null&&Pe.types!==null&&(fe.types=Pe.types),N.T=fe}},Gt.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},Gt.use=function(X){return N.H.use(X)},Gt.useActionState=function(X,fe,Pe){return N.H.useActionState(X,fe,Pe)},Gt.useCallback=function(X,fe){return N.H.useCallback(X,fe)},Gt.useContext=function(X){return N.H.useContext(X)},Gt.useDebugValue=function(){},Gt.useDeferredValue=function(X,fe){return N.H.useDeferredValue(X,fe)},Gt.useEffect=function(X,fe){return N.H.useEffect(X,fe)},Gt.useEffectEvent=function(X){return N.H.useEffectEvent(X)},Gt.useId=function(){return N.H.useId()},Gt.useImperativeHandle=function(X,fe,Pe){return N.H.useImperativeHandle(X,fe,Pe)},Gt.useInsertionEffect=function(X,fe){return N.H.useInsertionEffect(X,fe)},Gt.useLayoutEffect=function(X,fe){return N.H.useLayoutEffect(X,fe)},Gt.useMemo=function(X,fe){return N.H.useMemo(X,fe)},Gt.useOptimistic=function(X,fe){return N.H.useOptimistic(X,fe)},Gt.useReducer=function(X,fe,Pe){return N.H.useReducer(X,fe,Pe)},Gt.useRef=function(X){return N.H.useRef(X)},Gt.useState=function(X){return N.H.useState(X)},Gt.useSyncExternalStore=function(X,fe,Pe){return N.H.useSyncExternalStore(X,fe,Pe)},Gt.useTransition=function(){return N.H.useTransition()},Gt.version="19.2.3",Gt}var LG;function XV(){return LG||(LG=1,eL.exports=vve()),eL.exports}var Re=XV();const Zte=mve(Re),zG=fve({__proto__:null,default:Zte},[Re]);var tL={exports:{}},Vx={},iL={exports:{}},rL={};var NG;function bve(){return NG||(NG=1,(function(t){function e(J,le){var ve=J.length;J.push(le);e:for(;0<ve;){var Me=ve-1>>>1,Ne=J[Me];if(0<n(Ne,le))J[Me]=le,J[ve]=Ne,ve=Me;else break e}}function i(J){return J.length===0?null:J[0]}function r(J){if(J.length===0)return null;var le=J[0],ve=J.pop();if(ve!==le){J[0]=ve;e:for(var Me=0,Ne=J.length,X=Ne>>>1;Me<X;){var fe=2*(Me+1)-1,Pe=J[fe],Be=fe+1,Je=J[Be];if(0>n(Pe,ve))Be<Ne&&0>n(Je,Pe)?(J[Me]=Je,J[Be]=ve,Me=Be):(J[Me]=Pe,J[fe]=ve,Me=fe);else if(Be<Ne&&0>n(Je,ve))J[Me]=Je,J[Be]=ve,Me=Be;else break e}}return le}function n(J,le){var ve=J.sortIndex-le.sortIndex;return ve!==0?ve:J.id-le.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],h=[],f=1,g=null,v=3,w=!1,S=!1,T=!1,C=!1,I=typeof setTimeout=="function"?setTimeout:null,A=typeof clearTimeout=="function"?clearTimeout:null,P=typeof setImmediate<"u"?setImmediate:null;function D(J){for(var le=i(h);le!==null;){if(le.callback===null)r(h);else if(le.startTime<=J)r(h),le.sortIndex=le.expirationTime,e(l,le);else break;le=i(h)}}function L(J){if(T=!1,D(J),!S)if(i(l)!==null)S=!0,B||(B=!0,ye());else{var le=i(h);le!==null&&ie(L,le.startTime-J)}}var B=!1,N=-1,Y=5,K=-1;function te(){return C?!0:!(t.unstable_now()-K<Y)}function ue(){if(C=!1,B){var J=t.unstable_now();K=J;var le=!0;try{e:{S=!1,T&&(T=!1,A(N),N=-1),w=!0;var ve=v;try{t:{for(D(J),g=i(l);g!==null&&!(g.expirationTime>J&&te());){var Me=g.callback;if(typeof Me=="function"){g.callback=null,v=g.priorityLevel;var Ne=Me(g.expirationTime<=J);if(J=t.unstable_now(),typeof Ne=="function"){g.callback=Ne,D(J),le=!0;break t}g===i(l)&&r(l),D(J)}else r(l);g=i(l)}if(g!==null)le=!0;else{var X=i(h);X!==null&&ie(L,X.startTime-J),le=!1}}break e}finally{g=null,v=ve,w=!1}le=void 0}}finally{le?ye():B=!1}}}var ye;if(typeof P=="function")ye=function(){P(ue)};else if(typeof MessageChannel<"u"){var se=new MessageChannel,G=se.port2;se.port1.onmessage=ue,ye=function(){G.postMessage(null)}}else ye=function(){I(ue,0)};function ie(J,le){N=I(function(){J(t.unstable_now())},le)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(J){J.callback=null},t.unstable_forceFrameRate=function(J){0>J||125<J?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Y=0<J?Math.floor(1e3/J):5},t.unstable_getCurrentPriorityLevel=function(){return v},t.unstable_next=function(J){switch(v){case 1:case 2:case 3:var le=3;break;default:le=v}var ve=v;v=le;try{return J()}finally{v=ve}},t.unstable_requestPaint=function(){C=!0},t.unstable_runWithPriority=function(J,le){switch(J){case 1:case 2:case 3:case 4:case 5:break;default:J=3}var ve=v;v=J;try{return le()}finally{v=ve}},t.unstable_scheduleCallback=function(J,le,ve){var Me=t.unstable_now();switch(typeof ve=="object"&&ve!==null?(ve=ve.delay,ve=typeof ve=="number"&&0<ve?Me+ve:Me):ve=Me,J){case 1:var Ne=-1;break;case 2:Ne=250;break;case 5:Ne=1073741823;break;case 4:Ne=1e4;break;default:Ne=5e3}return Ne=ve+Ne,J={id:f++,callback:le,priorityLevel:J,startTime:ve,expirationTime:Ne,sortIndex:-1},ve>Me?(J.sortIndex=ve,e(h,J),i(l)===null&&J===i(h)&&(T?(A(N),N=-1):T=!0,ie(L,ve-Me))):(J.sortIndex=Ne,e(l,J),S||w||(S=!0,B||(B=!0,ye()))),J},t.unstable_shouldYield=te,t.unstable_wrapCallback=function(J){var le=v;return function(){var ve=v;v=le;try{return J.apply(this,arguments)}finally{v=ve}}}})(rL)),rL}var jG;function wve(){return jG||(jG=1,iL.exports=bve()),iL.exports}var nL={exports:{}},Us={};var FG;function _ve(){if(FG)return Us;FG=1;var t=XV();function e(l){var h="https://react.dev/errors/"+l;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var f=2;f<arguments.length;f++)h+="&args[]="+encodeURIComponent(arguments[f])}return"Minified React error #"+l+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var r={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},n=Symbol.for("react.portal");function s(l,h,f){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:n,key:g==null?null:""+g,children:l,containerInfo:h,implementation:f}}var o=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function a(l,h){if(l==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return Us.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Us.createPortal=function(l,h){var f=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(e(299));return s(l,h,null,f)},Us.flushSync=function(l){var h=o.T,f=r.p;try{if(o.T=null,r.p=2,l)return l()}finally{o.T=h,r.p=f,r.d.f()}},Us.preconnect=function(l,h){typeof l=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,r.d.C(l,h))},Us.prefetchDNS=function(l){typeof l=="string"&&r.d.D(l)},Us.preinit=function(l,h){if(typeof l=="string"&&h&&typeof h.as=="string"){var f=h.as,g=a(f,h.crossOrigin),v=typeof h.integrity=="string"?h.integrity:void 0,w=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;f==="style"?r.d.S(l,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:g,integrity:v,fetchPriority:w}):f==="script"&&r.d.X(l,{crossOrigin:g,integrity:v,fetchPriority:w,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},Us.preinitModule=function(l,h){if(typeof l=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var f=a(h.as,h.crossOrigin);r.d.M(l,{crossOrigin:f,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&r.d.M(l)},Us.preload=function(l,h){if(typeof l=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var f=h.as,g=a(f,h.crossOrigin);r.d.L(l,f,{crossOrigin:g,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},Us.preloadModule=function(l,h){if(typeof l=="string")if(h){var f=a(h.as,h.crossOrigin);r.d.m(l,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:f,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else r.d.m(l)},Us.requestFormReset=function(l){r.d.r(l)},Us.unstable_batchedUpdates=function(l,h){return l(h)},Us.useFormState=function(l,h,f){return o.H.useFormState(l,h,f)},Us.useFormStatus=function(){return o.H.useHostTransitionStatus()},Us.version="19.2.3",Us}var VG;function Jte(){if(VG)return nL.exports;VG=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),nL.exports=_ve(),nL.exports}var UG;function xve(){if(UG)return Vx;UG=1;var t=wve(),e=XV(),i=Jte();function r(c){var d="https://react.dev/errors/"+c;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)d+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+c+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(c){return!(!c||c.nodeType!==1&&c.nodeType!==9&&c.nodeType!==11)}function s(c){var d=c,m=c;if(c.alternate)for(;d.return;)d=d.return;else{c=d;do d=c,(d.flags&4098)!==0&&(m=d.return),c=d.return;while(c)}return d.tag===3?m:null}function o(c){if(c.tag===13){var d=c.memoizedState;if(d===null&&(c=c.alternate,c!==null&&(d=c.memoizedState)),d!==null)return d.dehydrated}return null}function a(c){if(c.tag===31){var d=c.memoizedState;if(d===null&&(c=c.alternate,c!==null&&(d=c.memoizedState)),d!==null)return d.dehydrated}return null}function l(c){if(s(c)!==c)throw Error(r(188))}function h(c){var d=c.alternate;if(!d){if(d=s(c),d===null)throw Error(r(188));return d!==c?null:c}for(var m=c,b=d;;){var $=m.return;if($===null)break;var k=$.alternate;if(k===null){if(b=$.return,b!==null){m=b;continue}break}if($.child===k.child){for(k=$.child;k;){if(k===m)return l($),c;if(k===b)return l($),d;k=k.sibling}throw Error(r(188))}if(m.return!==b.return)m=$,b=k;else{for(var R=!1,U=$.child;U;){if(U===m){R=!0,m=$,b=k;break}if(U===b){R=!0,b=$,m=k;break}U=U.sibling}if(!R){for(U=k.child;U;){if(U===m){R=!0,m=k,b=$;break}if(U===b){R=!0,b=k,m=$;break}U=U.sibling}if(!R)throw Error(r(189))}}if(m.alternate!==b)throw Error(r(190))}if(m.tag!==3)throw Error(r(188));return m.stateNode.current===m?c:d}function f(c){var d=c.tag;if(d===5||d===26||d===27||d===6)return c;for(c=c.child;c!==null;){if(d=f(c),d!==null)return d;c=c.sibling}return null}var g=Object.assign,v=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),T=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),A=Symbol.for("react.consumer"),P=Symbol.for("react.context"),D=Symbol.for("react.forward_ref"),L=Symbol.for("react.suspense"),B=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),Y=Symbol.for("react.lazy"),K=Symbol.for("react.activity"),te=Symbol.for("react.memo_cache_sentinel"),ue=Symbol.iterator;function ye(c){return c===null||typeof c!="object"?null:(c=ue&&c[ue]||c["@@iterator"],typeof c=="function"?c:null)}var se=Symbol.for("react.client.reference");function G(c){if(c==null)return null;if(typeof c=="function")return c.$$typeof===se?null:c.displayName||c.name||null;if(typeof c=="string")return c;switch(c){case T:return"Fragment";case I:return"Profiler";case C:return"StrictMode";case L:return"Suspense";case B:return"SuspenseList";case K:return"Activity"}if(typeof c=="object")switch(c.$$typeof){case S:return"Portal";case P:return c.displayName||"Context";case A:return(c._context.displayName||"Context")+".Consumer";case D:var d=c.render;return c=c.displayName,c||(c=d.displayName||d.name||"",c=c!==""?"ForwardRef("+c+")":"ForwardRef"),c;case N:return d=c.displayName||null,d!==null?d:G(c.type)||"Memo";case Y:d=c._payload,c=c._init;try{return G(c(d))}catch{}}return null}var ie=Array.isArray,J=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ve={pending:!1,data:null,method:null,action:null},Me=[],Ne=-1;function X(c){return{current:c}}function fe(c){0>Ne||(c.current=Me[Ne],Me[Ne]=null,Ne--)}function Pe(c,d){Ne++,Me[Ne]=c.current,c.current=d}var Be=X(null),Je=X(null),lt=X(null),St=X(null);function si(c,d){switch(Pe(lt,d),Pe(Je,c),Pe(Be,null),d.nodeType){case 9:case 11:c=(c=d.documentElement)&&(c=c.namespaceURI)?eG(c):0;break;default:if(c=d.tagName,d=d.namespaceURI)d=eG(d),c=tG(d,c);else switch(c){case"svg":c=1;break;case"math":c=2;break;default:c=0}}fe(Be),Pe(Be,c)}function qe(){fe(Be),fe(Je),fe(lt)}function fo(c){c.memoizedState!==null&&Pe(St,c);var d=Be.current,m=tG(d,c.type);d!==m&&(Pe(Je,c),Pe(Be,m))}function qn(c){Je.current===c&&(fe(Be),fe(Je)),St.current===c&&(fe(St),Rx._currentValue=ve)}var xa,$u;function hs(c){if(xa===void 0)try{throw Error()}catch(m){var d=m.stack.trim().match(/\n( *(at )?)/);xa=d&&d[1]||"",$u=-1<m.stack.indexOf(`
    at`)?" (<anonymous>)":-1<m.stack.indexOf("@")?"@unknown:0:0":""}return`
`+xa+c+$u}var Sa=!1;function Ta(c,d){if(!c||Sa)return"";Sa=!0;var m=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var b={DetermineComponentFrameRoot:function(){try{if(d){var De=function(){throw Error()};if(Object.defineProperty(De.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(De,[])}catch(Te){var xe=Te}Reflect.construct(c,[],De)}else{try{De.call()}catch(Te){xe=Te}c.call(De.prototype)}}else{try{throw Error()}catch(Te){xe=Te}(De=c())&&typeof De.catch=="function"&&De.catch(function(){})}}catch(Te){if(Te&&xe&&typeof Te.stack=="string")return[Te.stack,xe.stack]}return[null,null]}};b.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var $=Object.getOwnPropertyDescriptor(b.DetermineComponentFrameRoot,"name");$&&$.configurable&&Object.defineProperty(b.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var k=b.DetermineComponentFrameRoot(),R=k[0],U=k[1];if(R&&U){var Q=R.split(`
`),_e=U.split(`
`);for($=b=0;b<Q.length&&!Q[b].includes("DetermineComponentFrameRoot");)b++;for(;$<_e.length&&!_e[$].includes("DetermineComponentFrameRoot");)$++;if(b===Q.length||$===_e.length)for(b=Q.length-1,$=_e.length-1;1<=b&&0<=$&&Q[b]!==_e[$];)$--;for(;1<=b&&0<=$;b--,$--)if(Q[b]!==_e[$]){if(b!==1||$!==1)do if(b--,$--,0>$||Q[b]!==_e[$]){var Ie=`
`+Q[b].replace(" at new "," at ");return c.displayName&&Ie.includes("<anonymous>")&&(Ie=Ie.replace("<anonymous>",c.displayName)),Ie}while(1<=b&&0<=$);break}}}finally{Sa=!1,Error.prepareStackTrace=m}return(m=c?c.displayName||c.name:"")?hs(m):""}function Qv(c,d){switch(c.tag){case 26:case 27:case 5:return hs(c.type);case 16:return hs("Lazy");case 13:return c.child!==d&&d!==null?hs("Suspense Fallback"):hs("Suspense");case 19:return hs("SuspenseList");case 0:case 15:return Ta(c.type,!1);case 11:return Ta(c.type.render,!1);case 1:return Ta(c.type,!0);case 31:return hs("Activity");default:return""}}function ku(c){try{var d="",m=null;do d+=Qv(c,m),m=c,c=c.return;while(c);return d}catch(b){return`
Error generating stack: `+b.message+`
`+b.stack}}var Gp=Object.prototype.hasOwnProperty,fc=t.unstable_scheduleCallback,ps=t.unstable_cancelCallback,eb=t.unstable_shouldYield,tb=t.unstable_requestPaint,hn=t.unstable_now,ib=t.unstable_getCurrentPriorityLevel,Eu=t.unstable_ImmediatePriority,rb=t.unstable_UserBlockingPriority,Iu=t.unstable_NormalPriority,G1=t.unstable_LowPriority,Wp=t.unstable_IdlePriority,lg=t.log,cg=t.unstable_setDisableYieldValue,Cu=null,Gn=null;function mo(c){if(typeof lg=="function"&&cg(c),Gn&&typeof Gn.setStrictMode=="function")try{Gn.setStrictMode(Cu,c)}catch{}}var Wn=Math.clz32?Math.clz32:qd,nb=Math.log,Hd=Math.LN2;function qd(c){return c>>>=0,c===0?32:31-(nb(c)/Hd|0)|0}var $a=256,Gd=262144,Mu=4194304;function xl(c){var d=c&42;if(d!==0)return d;switch(c&-c){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return c&261888;case 262144:case 524288:case 1048576:case 2097152:return c&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return c&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return c}}function Au(c,d,m){var b=c.pendingLanes;if(b===0)return 0;var $=0,k=c.suspendedLanes,R=c.pingedLanes;c=c.warmLanes;var U=b&134217727;return U!==0?(b=U&~k,b!==0?$=xl(b):(R&=U,R!==0?$=xl(R):m||(m=U&~c,m!==0&&($=xl(m))))):(U=b&~k,U!==0?$=xl(U):R!==0?$=xl(R):m||(m=b&~c,m!==0&&($=xl(m)))),$===0?0:d!==0&&d!==$&&(d&k)===0&&(k=$&-$,m=d&-d,k>=m||k===32&&(m&4194048)!==0)?d:$}function mc(c,d){return(c.pendingLanes&~(c.suspendedLanes&~c.pingedLanes)&d)===0}function sb(c,d){switch(c){case 1:case 2:case 4:case 8:case 64:return d+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return d+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Se(){var c=Mu;return Mu<<=1,(Mu&62914560)===0&&(Mu=4194304),c}function Di(c){for(var d=[],m=0;31>m;m++)d.push(c);return d}function js(c,d){c.pendingLanes|=d,d!==268435456&&(c.suspendedLanes=0,c.pingedLanes=0,c.warmLanes=0)}function gc(c,d,m,b,$,k){var R=c.pendingLanes;c.pendingLanes=m,c.suspendedLanes=0,c.pingedLanes=0,c.warmLanes=0,c.expiredLanes&=m,c.entangledLanes&=m,c.errorRecoveryDisabledLanes&=m,c.shellSuspendCounter=0;var U=c.entanglements,Q=c.expirationTimes,_e=c.hiddenUpdates;for(m=R&~m;0<m;){var Ie=31-Wn(m),De=1<<Ie;U[Ie]=0,Q[Ie]=-1;var xe=_e[Ie];if(xe!==null)for(_e[Ie]=null,Ie=0;Ie<xe.length;Ie++){var Te=xe[Ie];Te!==null&&(Te.lane&=-536870913)}m&=~De}b!==0&&Fs(c,b,0),k!==0&&$===0&&c.tag!==0&&(c.suspendedLanes|=k&~(R&~d))}function Fs(c,d,m){c.pendingLanes|=d,c.suspendedLanes&=~d;var b=31-Wn(d);c.entangledLanes|=d,c.entanglements[b]=c.entanglements[b]|1073741824|m&261930}function Wd(c,d){var m=c.entangledLanes|=d;for(c=c.entanglements;m;){var b=31-Wn(m),$=1<<b;$&d|c[b]&d&&(c[b]|=d),m&=~$}}function ct(c,d){var m=d&-d;return m=(m&42)!==0?1:Yn(m),(m&(c.suspendedLanes|d))!==0?0:m}function Yn(c){switch(c){case 2:c=1;break;case 8:c=4;break;case 32:c=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:c=128;break;case 268435456:c=134217728;break;default:c=0}return c}function ka(c){return c&=-c,2<c?8<c?(c&134217727)!==0?32:268435456:8:2}function ki(){var c=le.p;return c!==0?c:(c=window.event,c===void 0?32:TG(c.type))}function Ou(c,d){var m=le.p;try{return le.p=c,d()}finally{le.p=m}}var Sl=Math.random().toString(36).slice(2),Fi="__reactFiber$"+Sl,sr="__reactProps$"+Sl,Tt="__reactContainer$"+Sl,Ot="__reactEvents$"+Sl,ob="__reactListeners$"+Sl,ab="__reactHandles$"+Sl,lb="__reactResources$"+Sl,Ea="__reactMarker$"+Sl;function yc(c){delete c[Fi],delete c[sr],delete c[Ot],delete c[ob],delete c[ab]}function Pu(c){var d=c[Fi];if(d)return d;for(var m=c.parentNode;m;){if(d=m[Tt]||m[Fi]){if(m=d.alternate,d.child!==null||m!==null&&m.child!==null)for(c=lG(c);c!==null;){if(m=c[Fi])return m;c=lG(c)}return d}c=m,m=c.parentNode}return null}function Tl(c){if(c=c[Fi]||c[Tt]){var d=c.tag;if(d===5||d===6||d===13||d===31||d===26||d===27||d===3)return c}return null}function or(c){var d=c.tag;if(d===5||d===26||d===27||d===6)return c.stateNode;throw Error(r(33))}function vc(c){var d=c[lb];return d||(d=c[lb]={hoistableStyles:new Map,hoistableScripts:new Map}),d}function Ir(c){c[Ea]=!0}var ug=new Set,dg={};function No(c,d){bc(c,d),bc(c+"Capture",d)}function bc(c,d){for(dg[c]=d,c=0;c<d.length;c++)ug.add(d[c])}var hg=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Zn={},cb={};function pg(c){return Gp.call(cb,c)?!0:Gp.call(Zn,c)?!1:hg.test(c)?cb[c]=!0:(Zn[c]=!0,!1)}function Du(c,d,m){if(pg(d))if(m===null)c.removeAttribute(d);else{switch(typeof m){case"undefined":case"function":case"symbol":c.removeAttribute(d);return;case"boolean":var b=d.toLowerCase().slice(0,5);if(b!=="data-"&&b!=="aria-"){c.removeAttribute(d);return}}c.setAttribute(d,""+m)}}function wc(c,d,m){if(m===null)c.removeAttribute(d);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":c.removeAttribute(d);return}c.setAttribute(d,""+m)}}function Z(c,d,m,b){if(b===null)c.removeAttribute(m);else{switch(typeof b){case"undefined":case"function":case"symbol":case"boolean":c.removeAttribute(m);return}c.setAttributeNS(d,m,""+b)}}function be(c){switch(typeof c){case"bigint":case"boolean":case"number":case"string":case"undefined":return c;case"object":return c;default:return""}}function Fe(c){var d=c.type;return(c=c.nodeName)&&c.toLowerCase()==="input"&&(d==="checkbox"||d==="radio")}function $t(c,d,m){var b=Object.getOwnPropertyDescriptor(c.constructor.prototype,d);if(!c.hasOwnProperty(d)&&typeof b<"u"&&typeof b.get=="function"&&typeof b.set=="function"){var $=b.get,k=b.set;return Object.defineProperty(c,d,{configurable:!0,get:function(){return $.call(this)},set:function(R){m=""+R,k.call(this,R)}}),Object.defineProperty(c,d,{enumerable:b.enumerable}),{getValue:function(){return m},setValue:function(R){m=""+R},stopTracking:function(){c._valueTracker=null,delete c[d]}}}}function ui(c){if(!c._valueTracker){var d=Fe(c)?"checked":"value";c._valueTracker=$t(c,d,""+c[d])}}function Gi(c){if(!c)return!1;var d=c._valueTracker;if(!d)return!0;var m=d.getValue(),b="";return c&&(b=Fe(c)?c.checked?"true":"false":c.value),c=b,c!==m?(d.setValue(c),!0):!1}function Vi(c){if(c=c||(typeof document<"u"?document:void 0),typeof c>"u")return null;try{return c.activeElement||c.body}catch{return c.body}}var fr=/[\n"\\]/g;function Vs(c){return c.replace(fr,function(d){return"\\"+d.charCodeAt(0).toString(16)+" "})}function Yp(c,d,m,b,$,k,R,U){c.name="",R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"?c.type=R:c.removeAttribute("type"),d!=null?R==="number"?(d===0&&c.value===""||c.value!=d)&&(c.value=""+be(d)):c.value!==""+be(d)&&(c.value=""+be(d)):R!=="submit"&&R!=="reset"||c.removeAttribute("value"),d!=null?Yd(c,R,be(d)):m!=null?Yd(c,R,be(m)):b!=null&&c.removeAttribute("value"),$==null&&k!=null&&(c.defaultChecked=!!k),$!=null&&(c.checked=$&&typeof $!="function"&&typeof $!="symbol"),U!=null&&typeof U!="function"&&typeof U!="symbol"&&typeof U!="boolean"?c.name=""+be(U):c.removeAttribute("name")}function _c(c,d,m,b,$,k,R,U){if(k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"&&(c.type=k),d!=null||m!=null){if(!(k!=="submit"&&k!=="reset"||d!=null)){ui(c);return}m=m!=null?""+be(m):"",d=d!=null?""+be(d):m,U||d===c.value||(c.value=d),c.defaultValue=d}b=b??$,b=typeof b!="function"&&typeof b!="symbol"&&!!b,c.checked=U?c.checked:!!b,c.defaultChecked=!!b,R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"&&(c.name=R),ui(c)}function Yd(c,d,m){d==="number"&&Vi(c.ownerDocument)===c||c.defaultValue===""+m||(c.defaultValue=""+m)}function Zp(c,d,m,b){if(c=c.options,d){d={};for(var $=0;$<m.length;$++)d["$"+m[$]]=!0;for(m=0;m<c.length;m++)$=d.hasOwnProperty("$"+c[m].value),c[m].selected!==$&&(c[m].selected=$),$&&b&&(c[m].defaultSelected=!0)}else{for(m=""+be(m),d=null,$=0;$<c.length;$++){if(c[$].value===m){c[$].selected=!0,b&&(c[$].defaultSelected=!0);return}d!==null||c[$].disabled||(d=c[$])}d!==null&&(d.selected=!0)}}function W1(c,d,m){if(d!=null&&(d=""+be(d),d!==c.value&&(c.value=d),m==null)){c.defaultValue!==d&&(c.defaultValue=d);return}c.defaultValue=m!=null?""+be(m):""}function Y1(c,d,m,b){if(d==null){if(b!=null){if(m!=null)throw Error(r(92));if(ie(b)){if(1<b.length)throw Error(r(93));b=b[0]}m=b}m==null&&(m=""),d=m}m=be(d),c.defaultValue=m,b=c.textContent,b===m&&b!==""&&b!==null&&(c.value=b),ui(c)}function Ru(c,d){if(d){var m=c.firstChild;if(m&&m===c.lastChild&&m.nodeType===3){m.nodeValue=d;return}}c.textContent=d}var q3=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function wk(c,d,m){var b=d.indexOf("--")===0;m==null||typeof m=="boolean"||m===""?b?c.setProperty(d,""):d==="float"?c.cssFloat="":c[d]="":b?c.setProperty(d,m):typeof m!="number"||m===0||q3.has(d)?d==="float"?c.cssFloat=m:c[d]=(""+m).trim():c[d]=m+"px"}function Z1(c,d,m){if(d!=null&&typeof d!="object")throw Error(r(62));if(c=c.style,m!=null){for(var b in m)!m.hasOwnProperty(b)||d!=null&&d.hasOwnProperty(b)||(b.indexOf("--")===0?c.setProperty(b,""):b==="float"?c.cssFloat="":c[b]="");for(var $ in d)b=d[$],d.hasOwnProperty($)&&m[$]!==b&&wk(c,$,b)}else for(var k in d)d.hasOwnProperty(k)&&wk(c,k,d[k])}function J1(c){if(c.indexOf("-")===-1)return!1;switch(c){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var G3=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),_k=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function fg(c){return _k.test(""+c)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":c}function xc(){}var mg=null;function X1(c){return c=c.target||c.srcElement||window,c.correspondingUseElement&&(c=c.correspondingUseElement),c.nodeType===3?c.parentNode:c}var Zd=null,Jp=null;function gg(c){var d=Tl(c);if(d&&(c=d.stateNode)){var m=c[sr]||null;e:switch(c=d.stateNode,d.type){case"input":if(Yp(c,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name),d=m.name,m.type==="radio"&&d!=null){for(m=c;m.parentNode;)m=m.parentNode;for(m=m.querySelectorAll('input[name="'+Vs(""+d)+'"][type="radio"]'),d=0;d<m.length;d++){var b=m[d];if(b!==c&&b.form===c.form){var $=b[sr]||null;if(!$)throw Error(r(90));Yp(b,$.value,$.defaultValue,$.defaultValue,$.checked,$.defaultChecked,$.type,$.name)}}for(d=0;d<m.length;d++)b=m[d],b.form===c.form&&Gi(b)}break e;case"textarea":W1(c,m.value,m.defaultValue);break e;case"select":d=m.value,d!=null&&Zp(c,!!m.multiple,d,!1)}}}var K1=!1;function Q1(c,d,m){if(K1)return c(d,m);K1=!0;try{var b=c(d);return b}finally{if(K1=!1,(Zd!==null||Jp!==null)&&(yE(),Zd&&(d=Zd,c=Jp,Jp=Zd=null,gg(d),c)))for(d=0;d<c.length;d++)gg(c[d])}}function Xp(c,d){var m=c.stateNode;if(m===null)return null;var b=m[sr]||null;if(b===null)return null;m=b[d];e:switch(d){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(b=!b.disabled)||(c=c.type,b=!(c==="button"||c==="input"||c==="select"||c==="textarea")),c=!b;break e;default:c=!1}if(c)return null;if(m&&typeof m!="function")throw Error(r(231,d,typeof m));return m}var Sc=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ub=!1;if(Sc)try{var Kp={};Object.defineProperty(Kp,"passive",{get:function(){ub=!0}}),window.addEventListener("test",Kp,Kp),window.removeEventListener("test",Kp,Kp)}catch{ub=!1}var Lu=null,Jd=null,Xd=null;function xk(){if(Xd)return Xd;var c,d=Jd,m=d.length,b,$="value"in Lu?Lu.value:Lu.textContent,k=$.length;for(c=0;c<m&&d[c]===$[c];c++);var R=m-c;for(b=1;b<=R&&d[m-b]===$[k-b];b++);return Xd=$.slice(c,1<b?1-b:void 0)}function Qp(c){var d=c.keyCode;return"charCode"in c?(c=c.charCode,c===0&&d===13&&(c=13)):c=d,c===10&&(c=13),32<=c||c===13?c:0}function yg(){return!0}function Sk(){return!1}function Jn(c){function d(m,b,$,k,R){this._reactName=m,this._targetInst=$,this.type=b,this.nativeEvent=k,this.target=R,this.currentTarget=null;for(var U in c)c.hasOwnProperty(U)&&(m=c[U],this[U]=m?m(k):k[U]);return this.isDefaultPrevented=(k.defaultPrevented!=null?k.defaultPrevented:k.returnValue===!1)?yg:Sk,this.isPropagationStopped=Sk,this}return g(d.prototype,{preventDefault:function(){this.defaultPrevented=!0;var m=this.nativeEvent;m&&(m.preventDefault?m.preventDefault():typeof m.returnValue!="unknown"&&(m.returnValue=!1),this.isDefaultPrevented=yg)},stopPropagation:function(){var m=this.nativeEvent;m&&(m.stopPropagation?m.stopPropagation():typeof m.cancelBubble!="unknown"&&(m.cancelBubble=!0),this.isPropagationStopped=yg)},persist:function(){},isPersistent:yg}),d}var zu={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(c){return c.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},vg=Jn(zu),Kd=g({},zu,{view:0,detail:0}),W3=Jn(Kd),ex,$l,bg,db=g({},Kd,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ef,button:0,buttons:0,relatedTarget:function(c){return c.relatedTarget===void 0?c.fromElement===c.srcElement?c.toElement:c.fromElement:c.relatedTarget},movementX:function(c){return"movementX"in c?c.movementX:(c!==bg&&(bg&&c.type==="mousemove"?(ex=c.screenX-bg.screenX,$l=c.screenY-bg.screenY):$l=ex=0,bg=c),ex)},movementY:function(c){return"movementY"in c?c.movementY:$l}}),Tk=Jn(db),$k=g({},db,{dataTransfer:0}),kk=Jn($k),fs=g({},Kd,{relatedTarget:0}),tx=Jn(fs),Y3=g({},zu,{animationName:0,elapsedTime:0,pseudoElement:0}),Z3=Jn(Y3),J3=g({},zu,{clipboardData:function(c){return"clipboardData"in c?c.clipboardData:window.clipboardData}}),X3=Jn(J3),K3=g({},zu,{data:0}),Ek=Jn(K3),Q3={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ik={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},hb={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Qd(c){var d=this.nativeEvent;return d.getModifierState?d.getModifierState(c):(c=hb[c])?!!d[c]:!1}function ef(){return Qd}var eR=g({},Kd,{key:function(c){if(c.key){var d=Q3[c.key]||c.key;if(d!=="Unidentified")return d}return c.type==="keypress"?(c=Qp(c),c===13?"Enter":String.fromCharCode(c)):c.type==="keydown"||c.type==="keyup"?Ik[c.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ef,charCode:function(c){return c.type==="keypress"?Qp(c):0},keyCode:function(c){return c.type==="keydown"||c.type==="keyup"?c.keyCode:0},which:function(c){return c.type==="keypress"?Qp(c):c.type==="keydown"||c.type==="keyup"?c.keyCode:0}}),Ck=Jn(eR),Mk=g({},db,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ix=Jn(Mk),wg=g({},Kd,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ef}),tR=Jn(wg),iR=g({},zu,{propertyName:0,elapsedTime:0,pseudoElement:0}),rR=Jn(iR),nR=g({},db,{deltaX:function(c){return"deltaX"in c?c.deltaX:"wheelDeltaX"in c?-c.wheelDeltaX:0},deltaY:function(c){return"deltaY"in c?c.deltaY:"wheelDeltaY"in c?-c.wheelDeltaY:"wheelDelta"in c?-c.wheelDelta:0},deltaZ:0,deltaMode:0}),sR=Jn(nR),oR=g({},zu,{newState:0,oldState:0}),rx=Jn(oR),aR=[9,13,27,32],tf=Sc&&"CompositionEvent"in window,_g=null;Sc&&"documentMode"in document&&(_g=document.documentMode);var nx=Sc&&"TextEvent"in window&&!_g,Ak=Sc&&(!tf||_g&&8<_g&&11>=_g),Ok=" ",sx=!1;function rf(c,d){switch(c){case"keyup":return aR.indexOf(d.keyCode)!==-1;case"keydown":return d.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Tc(c){return c=c.detail,typeof c=="object"&&"data"in c?c.data:null}var eh=!1;function ox(c,d){switch(c){case"compositionend":return Tc(d);case"keypress":return d.which!==32?null:(sx=!0,Ok);case"textInput":return c=d.data,c===Ok&&sx?null:c;default:return null}}function lR(c,d){if(eh)return c==="compositionend"||!tf&&rf(c,d)?(c=xk(),Xd=Jd=Lu=null,eh=!1,c):null;switch(c){case"paste":return null;case"keypress":if(!(d.ctrlKey||d.altKey||d.metaKey)||d.ctrlKey&&d.altKey){if(d.char&&1<d.char.length)return d.char;if(d.which)return String.fromCharCode(d.which)}return null;case"compositionend":return Ak&&d.locale!=="ko"?null:d.data;default:return null}}var cR={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Pk(c){var d=c&&c.nodeName&&c.nodeName.toLowerCase();return d==="input"?!!cR[c.type]:d==="textarea"}function Dk(c,d,m,b){Zd?Jp?Jp.push(b):Jp=[b]:Zd=b,d=TE(d,"onChange"),0<d.length&&(m=new vg("onChange","change",null,m,b),c.push({event:m,listeners:d}))}var xg=null,Sg=null;function uR(c){Yq(c,0)}function pb(c){var d=or(c);if(Gi(d))return c}function Rk(c,d){if(c==="change")return d}var Lk=!1;if(Sc){var x;if(Sc){var _="oninput"in document;if(!_){var E=document.createElement("div");E.setAttribute("oninput","return;"),_=typeof E.oninput=="function"}x=_}else x=!1;Lk=x&&(!document.documentMode||9<document.documentMode)}function M(){xg&&(xg.detachEvent("onpropertychange",O),Sg=xg=null)}function O(c){if(c.propertyName==="value"&&pb(Sg)){var d=[];Dk(d,Sg,c,X1(c)),Q1(uR,d)}}function z(c,d,m){c==="focusin"?(M(),xg=d,Sg=m,xg.attachEvent("onpropertychange",O)):c==="focusout"&&M()}function V(c){if(c==="selectionchange"||c==="keyup"||c==="keydown")return pb(Sg)}function H(c,d){if(c==="click")return pb(d)}function q(c,d){if(c==="input"||c==="change")return pb(d)}function re(c,d){return c===d&&(c!==0||1/c===1/d)||c!==c&&d!==d}var W=typeof Object.is=="function"?Object.is:re;function pe(c,d){if(W(c,d))return!0;if(typeof c!="object"||c===null||typeof d!="object"||d===null)return!1;var m=Object.keys(c),b=Object.keys(d);if(m.length!==b.length)return!1;for(b=0;b<m.length;b++){var $=m[b];if(!Gp.call(d,$)||!W(c[$],d[$]))return!1}return!0}function $e(c){for(;c&&c.firstChild;)c=c.firstChild;return c}function Ve(c,d){var m=$e(c);c=0;for(var b;m;){if(m.nodeType===3){if(b=c+m.textContent.length,c<=d&&b>=d)return{node:m,offset:d-c};c=b}e:{for(;m;){if(m.nextSibling){m=m.nextSibling;break e}m=m.parentNode}m=void 0}m=$e(m)}}function je(c,d){return c&&d?c===d?!0:c&&c.nodeType===3?!1:d&&d.nodeType===3?je(c,d.parentNode):"contains"in c?c.contains(d):c.compareDocumentPosition?!!(c.compareDocumentPosition(d)&16):!1:!1}function He(c){c=c!=null&&c.ownerDocument!=null&&c.ownerDocument.defaultView!=null?c.ownerDocument.defaultView:window;for(var d=Vi(c.document);d instanceof c.HTMLIFrameElement;){try{var m=typeof d.contentWindow.location.href=="string"}catch{m=!1}if(m)c=d.contentWindow;else break;d=Vi(c.document)}return d}function st(c){var d=c&&c.nodeName&&c.nodeName.toLowerCase();return d&&(d==="input"&&(c.type==="text"||c.type==="search"||c.type==="tel"||c.type==="url"||c.type==="password")||d==="textarea"||c.contentEditable==="true")}var it=Sc&&"documentMode"in document&&11>=document.documentMode,mt=null,Ft=null,Jt=null,Ct=!1;function qt(c,d,m){var b=m.window===m?m.document:m.nodeType===9?m:m.ownerDocument;Ct||mt==null||mt!==Vi(b)||(b=mt,"selectionStart"in b&&st(b)?b={start:b.selectionStart,end:b.selectionEnd}:(b=(b.ownerDocument&&b.ownerDocument.defaultView||window).getSelection(),b={anchorNode:b.anchorNode,anchorOffset:b.anchorOffset,focusNode:b.focusNode,focusOffset:b.focusOffset}),Jt&&pe(Jt,b)||(Jt=b,b=TE(Ft,"onSelect"),0<b.length&&(d=new vg("onSelect","select",null,d,m),c.push({event:d,listeners:b}),d.target=mt)))}function Cr(c,d){var m={};return m[c.toLowerCase()]=d.toLowerCase(),m["Webkit"+c]="webkit"+d,m["Moz"+c]="moz"+d,m}var Ei={animationend:Cr("Animation","AnimationEnd"),animationiteration:Cr("Animation","AnimationIteration"),animationstart:Cr("Animation","AnimationStart"),transitionrun:Cr("Transition","TransitionRun"),transitionstart:Cr("Transition","TransitionStart"),transitioncancel:Cr("Transition","TransitionCancel"),transitionend:Cr("Transition","TransitionEnd")},ms={},jo={};Sc&&(jo=document.createElement("div").style,"AnimationEvent"in window||(delete Ei.animationend.animation,delete Ei.animationiteration.animation,delete Ei.animationstart.animation),"TransitionEvent"in window||delete Ei.transitionend.transition);function gs(c){if(ms[c])return ms[c];if(!Ei[c])return c;var d=Ei[c],m;for(m in d)if(d.hasOwnProperty(m)&&m in jo)return ms[c]=d[m];return c}var Tg=gs("animationend"),nf=gs("animationiteration"),k7=gs("animationstart"),Gge=gs("transitionrun"),Wge=gs("transitionstart"),Yge=gs("transitioncancel"),E7=gs("transitionend"),I7=new Map,dR="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");dR.push("scrollEnd");function $c(c,d){I7.set(c,d),No(d,[c])}var zk=typeof reportError=="function"?reportError:function(c){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var d=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof c=="object"&&c!==null&&typeof c.message=="string"?String(c.message):String(c),error:c});if(!window.dispatchEvent(d))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",c);return}console.error(c)},kl=[],fb=0,hR=0;function Nk(){for(var c=fb,d=hR=fb=0;d<c;){var m=kl[d];kl[d++]=null;var b=kl[d];kl[d++]=null;var $=kl[d];kl[d++]=null;var k=kl[d];if(kl[d++]=null,b!==null&&$!==null){var R=b.pending;R===null?$.next=$:($.next=R.next,R.next=$),b.pending=$}k!==0&&C7(m,$,k)}}function jk(c,d,m,b){kl[fb++]=c,kl[fb++]=d,kl[fb++]=m,kl[fb++]=b,hR|=b,c.lanes|=b,c=c.alternate,c!==null&&(c.lanes|=b)}function pR(c,d,m,b){return jk(c,d,m,b),Fk(c)}function $g(c,d){return jk(c,null,null,d),Fk(c)}function C7(c,d,m){c.lanes|=m;var b=c.alternate;b!==null&&(b.lanes|=m);for(var $=!1,k=c.return;k!==null;)k.childLanes|=m,b=k.alternate,b!==null&&(b.childLanes|=m),k.tag===22&&(c=k.stateNode,c===null||c._visibility&1||($=!0)),c=k,k=k.return;return c.tag===3?(k=c.stateNode,$&&d!==null&&($=31-Wn(m),c=k.hiddenUpdates,b=c[$],b===null?c[$]=[d]:b.push(d),d.lane=m|536870912),k):null}function Fk(c){if(50<Ix)throw Ix=0,x5=null,Error(r(185));for(var d=c.return;d!==null;)c=d,d=c.return;return c.tag===3?c.stateNode:null}var mb={};function Zge(c,d,m,b){this.tag=c,this.key=m,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=d,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=b,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ia(c,d,m,b){return new Zge(c,d,m,b)}function fR(c){return c=c.prototype,!(!c||!c.isReactComponent)}function th(c,d){var m=c.alternate;return m===null?(m=Ia(c.tag,d,c.key,c.mode),m.elementType=c.elementType,m.type=c.type,m.stateNode=c.stateNode,m.alternate=c,c.alternate=m):(m.pendingProps=d,m.type=c.type,m.flags=0,m.subtreeFlags=0,m.deletions=null),m.flags=c.flags&65011712,m.childLanes=c.childLanes,m.lanes=c.lanes,m.child=c.child,m.memoizedProps=c.memoizedProps,m.memoizedState=c.memoizedState,m.updateQueue=c.updateQueue,d=c.dependencies,m.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext},m.sibling=c.sibling,m.index=c.index,m.ref=c.ref,m.refCleanup=c.refCleanup,m}function M7(c,d){c.flags&=65011714;var m=c.alternate;return m===null?(c.childLanes=0,c.lanes=d,c.child=null,c.subtreeFlags=0,c.memoizedProps=null,c.memoizedState=null,c.updateQueue=null,c.dependencies=null,c.stateNode=null):(c.childLanes=m.childLanes,c.lanes=m.lanes,c.child=m.child,c.subtreeFlags=0,c.deletions=null,c.memoizedProps=m.memoizedProps,c.memoizedState=m.memoizedState,c.updateQueue=m.updateQueue,c.type=m.type,d=m.dependencies,c.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext}),c}function Vk(c,d,m,b,$,k){var R=0;if(b=c,typeof c=="function")fR(c)&&(R=1);else if(typeof c=="string")R=eve(c,m,Be.current)?26:c==="html"||c==="head"||c==="body"?27:5;else e:switch(c){case K:return c=Ia(31,m,d,$),c.elementType=K,c.lanes=k,c;case T:return kg(m.children,$,k,d);case C:R=8,$|=24;break;case I:return c=Ia(12,m,d,$|2),c.elementType=I,c.lanes=k,c;case L:return c=Ia(13,m,d,$),c.elementType=L,c.lanes=k,c;case B:return c=Ia(19,m,d,$),c.elementType=B,c.lanes=k,c;default:if(typeof c=="object"&&c!==null)switch(c.$$typeof){case P:R=10;break e;case A:R=9;break e;case D:R=11;break e;case N:R=14;break e;case Y:R=16,b=null;break e}R=29,m=Error(r(130,c===null?"null":typeof c,"")),b=null}return d=Ia(R,m,d,$),d.elementType=c,d.type=b,d.lanes=k,d}function kg(c,d,m,b){return c=Ia(7,c,b,d),c.lanes=m,c}function mR(c,d,m){return c=Ia(6,c,null,d),c.lanes=m,c}function A7(c){var d=Ia(18,null,null,0);return d.stateNode=c,d}function gR(c,d,m){return d=Ia(4,c.children!==null?c.children:[],c.key,d),d.lanes=m,d.stateNode={containerInfo:c.containerInfo,pendingChildren:null,implementation:c.implementation},d}var O7=new WeakMap;function El(c,d){if(typeof c=="object"&&c!==null){var m=O7.get(c);return m!==void 0?m:(d={value:c,source:d,stack:ku(d)},O7.set(c,d),d)}return{value:c,source:d,stack:ku(d)}}var gb=[],yb=0,Uk=null,ax=0,Il=[],Cl=0,sf=null,Nu=1,ju="";function ih(c,d){gb[yb++]=ax,gb[yb++]=Uk,Uk=c,ax=d}function P7(c,d,m){Il[Cl++]=Nu,Il[Cl++]=ju,Il[Cl++]=sf,sf=c;var b=Nu;c=ju;var $=32-Wn(b)-1;b&=~(1<<$),m+=1;var k=32-Wn(d)+$;if(30<k){var R=$-$%5;k=(b&(1<<R)-1).toString(32),b>>=R,$-=R,Nu=1<<32-Wn(d)+$|m<<$|b,ju=k+c}else Nu=1<<k|m<<$|b,ju=c}function yR(c){c.return!==null&&(ih(c,1),P7(c,1,0))}function vR(c){for(;c===Uk;)Uk=gb[--yb],gb[yb]=null,ax=gb[--yb],gb[yb]=null;for(;c===sf;)sf=Il[--Cl],Il[Cl]=null,ju=Il[--Cl],Il[Cl]=null,Nu=Il[--Cl],Il[Cl]=null}function D7(c,d){Il[Cl++]=Nu,Il[Cl++]=ju,Il[Cl++]=sf,Nu=d.id,ju=d.overflow,sf=c}var ys=null,mr=null,mi=!1,of=null,Ml=!1,bR=Error(r(519));function af(c){var d=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw lx(El(d,c)),bR}function R7(c){var d=c.stateNode,m=c.type,b=c.memoizedProps;switch(d[Fi]=c,d[sr]=b,m){case"dialog":li("cancel",d),li("close",d);break;case"iframe":case"object":case"embed":li("load",d);break;case"video":case"audio":for(m=0;m<Mx.length;m++)li(Mx[m],d);break;case"source":li("error",d);break;case"img":case"image":case"link":li("error",d),li("load",d);break;case"details":li("toggle",d);break;case"input":li("invalid",d),_c(d,b.value,b.defaultValue,b.checked,b.defaultChecked,b.type,b.name,!0);break;case"select":li("invalid",d);break;case"textarea":li("invalid",d),Y1(d,b.value,b.defaultValue,b.children)}m=b.children,typeof m!="string"&&typeof m!="number"&&typeof m!="bigint"||d.textContent===""+m||b.suppressHydrationWarning===!0||Kq(d.textContent,m)?(b.popover!=null&&(li("beforetoggle",d),li("toggle",d)),b.onScroll!=null&&li("scroll",d),b.onScrollEnd!=null&&li("scrollend",d),b.onClick!=null&&(d.onclick=xc),d=!0):d=!1,d||af(c,!0)}function L7(c){for(ys=c.return;ys;)switch(ys.tag){case 5:case 31:case 13:Ml=!1;return;case 27:case 3:Ml=!0;return;default:ys=ys.return}}function vb(c){if(c!==ys)return!1;if(!mi)return L7(c),mi=!0,!1;var d=c.tag,m;if((m=d!==3&&d!==27)&&((m=d===5)&&(m=c.type,m=!(m!=="form"&&m!=="button")||z5(c.type,c.memoizedProps)),m=!m),m&&mr&&af(c),L7(c),d===13){if(c=c.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(r(317));mr=aG(c)}else if(d===31){if(c=c.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(r(317));mr=aG(c)}else d===27?(d=mr,_f(c.type)?(c=U5,U5=null,mr=c):mr=d):mr=ys?Ol(c.stateNode.nextSibling):null;return!0}function Eg(){mr=ys=null,mi=!1}function wR(){var c=of;return c!==null&&(Bo===null?Bo=c:Bo.push.apply(Bo,c),of=null),c}function lx(c){of===null?of=[c]:of.push(c)}var _R=X(null),Ig=null,rh=null;function lf(c,d,m){Pe(_R,d._currentValue),d._currentValue=m}function nh(c){c._currentValue=_R.current,fe(_R)}function xR(c,d,m){for(;c!==null;){var b=c.alternate;if((c.childLanes&d)!==d?(c.childLanes|=d,b!==null&&(b.childLanes|=d)):b!==null&&(b.childLanes&d)!==d&&(b.childLanes|=d),c===m)break;c=c.return}}function SR(c,d,m,b){var $=c.child;for($!==null&&($.return=c);$!==null;){var k=$.dependencies;if(k!==null){var R=$.child;k=k.firstContext;e:for(;k!==null;){var U=k;k=$;for(var Q=0;Q<d.length;Q++)if(U.context===d[Q]){k.lanes|=m,U=k.alternate,U!==null&&(U.lanes|=m),xR(k.return,m,c),b||(R=null);break e}k=U.next}}else if($.tag===18){if(R=$.return,R===null)throw Error(r(341));R.lanes|=m,k=R.alternate,k!==null&&(k.lanes|=m),xR(R,m,c),R=null}else R=$.child;if(R!==null)R.return=$;else for(R=$;R!==null;){if(R===c){R=null;break}if($=R.sibling,$!==null){$.return=R.return,R=$;break}R=R.return}$=R}}function bb(c,d,m,b){c=null;for(var $=d,k=!1;$!==null;){if(!k){if(($.flags&524288)!==0)k=!0;else if(($.flags&262144)!==0)break}if($.tag===10){var R=$.alternate;if(R===null)throw Error(r(387));if(R=R.memoizedProps,R!==null){var U=$.type;W($.pendingProps.value,R.value)||(c!==null?c.push(U):c=[U])}}else if($===St.current){if(R=$.alternate,R===null)throw Error(r(387));R.memoizedState.memoizedState!==$.memoizedState.memoizedState&&(c!==null?c.push(Rx):c=[Rx])}$=$.return}c!==null&&SR(d,c,m,b),d.flags|=262144}function Bk(c){for(c=c.firstContext;c!==null;){if(!W(c.context._currentValue,c.memoizedValue))return!0;c=c.next}return!1}function Cg(c){Ig=c,rh=null,c=c.dependencies,c!==null&&(c.firstContext=null)}function vs(c){return z7(Ig,c)}function Hk(c,d){return Ig===null&&Cg(c),z7(c,d)}function z7(c,d){var m=d._currentValue;if(d={context:d,memoizedValue:m,next:null},rh===null){if(c===null)throw Error(r(308));rh=d,c.dependencies={lanes:0,firstContext:d},c.flags|=524288}else rh=rh.next=d;return m}var Jge=typeof AbortController<"u"?AbortController:function(){var c=[],d=this.signal={aborted:!1,addEventListener:function(m,b){c.push(b)}};this.abort=function(){d.aborted=!0,c.forEach(function(m){return m()})}},Xge=t.unstable_scheduleCallback,Kge=t.unstable_NormalPriority,pn={$$typeof:P,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function TR(){return{controller:new Jge,data:new Map,refCount:0}}function cx(c){c.refCount--,c.refCount===0&&Xge(Kge,function(){c.controller.abort()})}var ux=null,$R=0,wb=0,_b=null;function Qge(c,d){if(ux===null){var m=ux=[];$R=0,wb=I5(),_b={status:"pending",value:void 0,then:function(b){m.push(b)}}}return $R++,d.then(N7,N7),d}function N7(){if(--$R===0&&ux!==null){_b!==null&&(_b.status="fulfilled");var c=ux;ux=null,wb=0,_b=null;for(var d=0;d<c.length;d++)(0,c[d])()}}function eye(c,d){var m=[],b={status:"pending",value:null,reason:null,then:function($){m.push($)}};return c.then(function(){b.status="fulfilled",b.value=d;for(var $=0;$<m.length;$++)(0,m[$])(d)},function($){for(b.status="rejected",b.reason=$,$=0;$<m.length;$++)(0,m[$])(void 0)}),b}var j7=J.S;J.S=function(c,d){xq=hn(),typeof d=="object"&&d!==null&&typeof d.then=="function"&&Qge(c,d),j7!==null&&j7(c,d)};var Mg=X(null);function kR(){var c=Mg.current;return c!==null?c:Qi.pooledCache}function qk(c,d){d===null?Pe(Mg,Mg.current):Pe(Mg,d.pool)}function F7(){var c=kR();return c===null?null:{parent:pn._currentValue,pool:c}}var xb=Error(r(460)),ER=Error(r(474)),Gk=Error(r(542)),Wk={then:function(){}};function V7(c){return c=c.status,c==="fulfilled"||c==="rejected"}function U7(c,d,m){switch(m=c[m],m===void 0?c.push(d):m!==d&&(d.then(xc,xc),d=m),d.status){case"fulfilled":return d.value;case"rejected":throw c=d.reason,H7(c),c;default:if(typeof d.status=="string")d.then(xc,xc);else{if(c=Qi,c!==null&&100<c.shellSuspendCounter)throw Error(r(482));c=d,c.status="pending",c.then(function(b){if(d.status==="pending"){var $=d;$.status="fulfilled",$.value=b}},function(b){if(d.status==="pending"){var $=d;$.status="rejected",$.reason=b}})}switch(d.status){case"fulfilled":return d.value;case"rejected":throw c=d.reason,H7(c),c}throw Og=d,xb}}function Ag(c){try{var d=c._init;return d(c._payload)}catch(m){throw m!==null&&typeof m=="object"&&typeof m.then=="function"?(Og=m,xb):m}}var Og=null;function B7(){if(Og===null)throw Error(r(459));var c=Og;return Og=null,c}function H7(c){if(c===xb||c===Gk)throw Error(r(483))}var Sb=null,dx=0;function Yk(c){var d=dx;return dx+=1,Sb===null&&(Sb=[]),U7(Sb,c,d)}function hx(c,d){d=d.props.ref,c.ref=d!==void 0?d:null}function Zk(c,d){throw d.$$typeof===v?Error(r(525)):(c=Object.prototype.toString.call(d),Error(r(31,c==="[object Object]"?"object with keys {"+Object.keys(d).join(", ")+"}":c)))}function q7(c){function d(me,ae){if(c){var we=me.deletions;we===null?(me.deletions=[ae],me.flags|=16):we.push(ae)}}function m(me,ae){if(!c)return null;for(;ae!==null;)d(me,ae),ae=ae.sibling;return null}function b(me){for(var ae=new Map;me!==null;)me.key!==null?ae.set(me.key,me):ae.set(me.index,me),me=me.sibling;return ae}function $(me,ae){return me=th(me,ae),me.index=0,me.sibling=null,me}function k(me,ae,we){return me.index=we,c?(we=me.alternate,we!==null?(we=we.index,we<ae?(me.flags|=67108866,ae):we):(me.flags|=67108866,ae)):(me.flags|=1048576,ae)}function R(me){return c&&me.alternate===null&&(me.flags|=67108866),me}function U(me,ae,we,Oe){return ae===null||ae.tag!==6?(ae=mR(we,me.mode,Oe),ae.return=me,ae):(ae=$(ae,we),ae.return=me,ae)}function Q(me,ae,we,Oe){var Et=we.type;return Et===T?Ie(me,ae,we.props.children,Oe,we.key):ae!==null&&(ae.elementType===Et||typeof Et=="object"&&Et!==null&&Et.$$typeof===Y&&Ag(Et)===ae.type)?(ae=$(ae,we.props),hx(ae,we),ae.return=me,ae):(ae=Vk(we.type,we.key,we.props,null,me.mode,Oe),hx(ae,we),ae.return=me,ae)}function _e(me,ae,we,Oe){return ae===null||ae.tag!==4||ae.stateNode.containerInfo!==we.containerInfo||ae.stateNode.implementation!==we.implementation?(ae=gR(we,me.mode,Oe),ae.return=me,ae):(ae=$(ae,we.children||[]),ae.return=me,ae)}function Ie(me,ae,we,Oe,Et){return ae===null||ae.tag!==7?(ae=kg(we,me.mode,Oe,Et),ae.return=me,ae):(ae=$(ae,we),ae.return=me,ae)}function De(me,ae,we){if(typeof ae=="string"&&ae!==""||typeof ae=="number"||typeof ae=="bigint")return ae=mR(""+ae,me.mode,we),ae.return=me,ae;if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case w:return we=Vk(ae.type,ae.key,ae.props,null,me.mode,we),hx(we,ae),we.return=me,we;case S:return ae=gR(ae,me.mode,we),ae.return=me,ae;case Y:return ae=Ag(ae),De(me,ae,we)}if(ie(ae)||ye(ae))return ae=kg(ae,me.mode,we,null),ae.return=me,ae;if(typeof ae.then=="function")return De(me,Yk(ae),we);if(ae.$$typeof===P)return De(me,Hk(me,ae),we);Zk(me,ae)}return null}function xe(me,ae,we,Oe){var Et=ae!==null?ae.key:null;if(typeof we=="string"&&we!==""||typeof we=="number"||typeof we=="bigint")return Et!==null?null:U(me,ae,""+we,Oe);if(typeof we=="object"&&we!==null){switch(we.$$typeof){case w:return we.key===Et?Q(me,ae,we,Oe):null;case S:return we.key===Et?_e(me,ae,we,Oe):null;case Y:return we=Ag(we),xe(me,ae,we,Oe)}if(ie(we)||ye(we))return Et!==null?null:Ie(me,ae,we,Oe,null);if(typeof we.then=="function")return xe(me,ae,Yk(we),Oe);if(we.$$typeof===P)return xe(me,ae,Hk(me,we),Oe);Zk(me,we)}return null}function Te(me,ae,we,Oe,Et){if(typeof Oe=="string"&&Oe!==""||typeof Oe=="number"||typeof Oe=="bigint")return me=me.get(we)||null,U(ae,me,""+Oe,Et);if(typeof Oe=="object"&&Oe!==null){switch(Oe.$$typeof){case w:return me=me.get(Oe.key===null?we:Oe.key)||null,Q(ae,me,Oe,Et);case S:return me=me.get(Oe.key===null?we:Oe.key)||null,_e(ae,me,Oe,Et);case Y:return Oe=Ag(Oe),Te(me,ae,we,Oe,Et)}if(ie(Oe)||ye(Oe))return me=me.get(we)||null,Ie(ae,me,Oe,Et,null);if(typeof Oe.then=="function")return Te(me,ae,we,Yk(Oe),Et);if(Oe.$$typeof===P)return Te(me,ae,we,Hk(ae,Oe),Et);Zk(ae,Oe)}return null}function ht(me,ae,we,Oe){for(var Et=null,Ti=null,yt=ae,Kt=ae=0,hi=null;yt!==null&&Kt<we.length;Kt++){yt.index>Kt?(hi=yt,yt=null):hi=yt.sibling;var $i=xe(me,yt,we[Kt],Oe);if($i===null){yt===null&&(yt=hi);break}c&&yt&&$i.alternate===null&&d(me,yt),ae=k($i,ae,Kt),Ti===null?Et=$i:Ti.sibling=$i,Ti=$i,yt=hi}if(Kt===we.length)return m(me,yt),mi&&ih(me,Kt),Et;if(yt===null){for(;Kt<we.length;Kt++)yt=De(me,we[Kt],Oe),yt!==null&&(ae=k(yt,ae,Kt),Ti===null?Et=yt:Ti.sibling=yt,Ti=yt);return mi&&ih(me,Kt),Et}for(yt=b(yt);Kt<we.length;Kt++)hi=Te(yt,me,Kt,we[Kt],Oe),hi!==null&&(c&&hi.alternate!==null&&yt.delete(hi.key===null?Kt:hi.key),ae=k(hi,ae,Kt),Ti===null?Et=hi:Ti.sibling=hi,Ti=hi);return c&&yt.forEach(function(kf){return d(me,kf)}),mi&&ih(me,Kt),Et}function Pt(me,ae,we,Oe){if(we==null)throw Error(r(151));for(var Et=null,Ti=null,yt=ae,Kt=ae=0,hi=null,$i=we.next();yt!==null&&!$i.done;Kt++,$i=we.next()){yt.index>Kt?(hi=yt,yt=null):hi=yt.sibling;var kf=xe(me,yt,$i.value,Oe);if(kf===null){yt===null&&(yt=hi);break}c&&yt&&kf.alternate===null&&d(me,yt),ae=k(kf,ae,Kt),Ti===null?Et=kf:Ti.sibling=kf,Ti=kf,yt=hi}if($i.done)return m(me,yt),mi&&ih(me,Kt),Et;if(yt===null){for(;!$i.done;Kt++,$i=we.next())$i=De(me,$i.value,Oe),$i!==null&&(ae=k($i,ae,Kt),Ti===null?Et=$i:Ti.sibling=$i,Ti=$i);return mi&&ih(me,Kt),Et}for(yt=b(yt);!$i.done;Kt++,$i=we.next())$i=Te(yt,me,Kt,$i.value,Oe),$i!==null&&(c&&$i.alternate!==null&&yt.delete($i.key===null?Kt:$i.key),ae=k($i,ae,Kt),Ti===null?Et=$i:Ti.sibling=$i,Ti=$i);return c&&yt.forEach(function(dve){return d(me,dve)}),mi&&ih(me,Kt),Et}function Zi(me,ae,we,Oe){if(typeof we=="object"&&we!==null&&we.type===T&&we.key===null&&(we=we.props.children),typeof we=="object"&&we!==null){switch(we.$$typeof){case w:e:{for(var Et=we.key;ae!==null;){if(ae.key===Et){if(Et=we.type,Et===T){if(ae.tag===7){m(me,ae.sibling),Oe=$(ae,we.props.children),Oe.return=me,me=Oe;break e}}else if(ae.elementType===Et||typeof Et=="object"&&Et!==null&&Et.$$typeof===Y&&Ag(Et)===ae.type){m(me,ae.sibling),Oe=$(ae,we.props),hx(Oe,we),Oe.return=me,me=Oe;break e}m(me,ae);break}else d(me,ae);ae=ae.sibling}we.type===T?(Oe=kg(we.props.children,me.mode,Oe,we.key),Oe.return=me,me=Oe):(Oe=Vk(we.type,we.key,we.props,null,me.mode,Oe),hx(Oe,we),Oe.return=me,me=Oe)}return R(me);case S:e:{for(Et=we.key;ae!==null;){if(ae.key===Et)if(ae.tag===4&&ae.stateNode.containerInfo===we.containerInfo&&ae.stateNode.implementation===we.implementation){m(me,ae.sibling),Oe=$(ae,we.children||[]),Oe.return=me,me=Oe;break e}else{m(me,ae);break}else d(me,ae);ae=ae.sibling}Oe=gR(we,me.mode,Oe),Oe.return=me,me=Oe}return R(me);case Y:return we=Ag(we),Zi(me,ae,we,Oe)}if(ie(we))return ht(me,ae,we,Oe);if(ye(we)){if(Et=ye(we),typeof Et!="function")throw Error(r(150));return we=Et.call(we),Pt(me,ae,we,Oe)}if(typeof we.then=="function")return Zi(me,ae,Yk(we),Oe);if(we.$$typeof===P)return Zi(me,ae,Hk(me,we),Oe);Zk(me,we)}return typeof we=="string"&&we!==""||typeof we=="number"||typeof we=="bigint"?(we=""+we,ae!==null&&ae.tag===6?(m(me,ae.sibling),Oe=$(ae,we),Oe.return=me,me=Oe):(m(me,ae),Oe=mR(we,me.mode,Oe),Oe.return=me,me=Oe),R(me)):m(me,ae)}return function(me,ae,we,Oe){try{dx=0;var Et=Zi(me,ae,we,Oe);return Sb=null,Et}catch(yt){if(yt===xb||yt===Gk)throw yt;var Ti=Ia(29,yt,null,me.mode);return Ti.lanes=Oe,Ti.return=me,Ti}}}var Pg=q7(!0),G7=q7(!1),cf=!1;function IR(c){c.updateQueue={baseState:c.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function CR(c,d){c=c.updateQueue,d.updateQueue===c&&(d.updateQueue={baseState:c.baseState,firstBaseUpdate:c.firstBaseUpdate,lastBaseUpdate:c.lastBaseUpdate,shared:c.shared,callbacks:null})}function uf(c){return{lane:c,tag:0,payload:null,callback:null,next:null}}function df(c,d,m){var b=c.updateQueue;if(b===null)return null;if(b=b.shared,(Ii&2)!==0){var $=b.pending;return $===null?d.next=d:(d.next=$.next,$.next=d),b.pending=d,d=Fk(c),C7(c,null,m),d}return jk(c,b,d,m),Fk(c)}function px(c,d,m){if(d=d.updateQueue,d!==null&&(d=d.shared,(m&4194048)!==0)){var b=d.lanes;b&=c.pendingLanes,m|=b,d.lanes=m,Wd(c,m)}}function MR(c,d){var m=c.updateQueue,b=c.alternate;if(b!==null&&(b=b.updateQueue,m===b)){var $=null,k=null;if(m=m.firstBaseUpdate,m!==null){do{var R={lane:m.lane,tag:m.tag,payload:m.payload,callback:null,next:null};k===null?$=k=R:k=k.next=R,m=m.next}while(m!==null);k===null?$=k=d:k=k.next=d}else $=k=d;m={baseState:b.baseState,firstBaseUpdate:$,lastBaseUpdate:k,shared:b.shared,callbacks:b.callbacks},c.updateQueue=m;return}c=m.lastBaseUpdate,c===null?m.firstBaseUpdate=d:c.next=d,m.lastBaseUpdate=d}var AR=!1;function fx(){if(AR){var c=_b;if(c!==null)throw c}}function mx(c,d,m,b){AR=!1;var $=c.updateQueue;cf=!1;var k=$.firstBaseUpdate,R=$.lastBaseUpdate,U=$.shared.pending;if(U!==null){$.shared.pending=null;var Q=U,_e=Q.next;Q.next=null,R===null?k=_e:R.next=_e,R=Q;var Ie=c.alternate;Ie!==null&&(Ie=Ie.updateQueue,U=Ie.lastBaseUpdate,U!==R&&(U===null?Ie.firstBaseUpdate=_e:U.next=_e,Ie.lastBaseUpdate=Q))}if(k!==null){var De=$.baseState;R=0,Ie=_e=Q=null,U=k;do{var xe=U.lane&-536870913,Te=xe!==U.lane;if(Te?(di&xe)===xe:(b&xe)===xe){xe!==0&&xe===wb&&(AR=!0),Ie!==null&&(Ie=Ie.next={lane:0,tag:U.tag,payload:U.payload,callback:null,next:null});e:{var ht=c,Pt=U;xe=d;var Zi=m;switch(Pt.tag){case 1:if(ht=Pt.payload,typeof ht=="function"){De=ht.call(Zi,De,xe);break e}De=ht;break e;case 3:ht.flags=ht.flags&-65537|128;case 0:if(ht=Pt.payload,xe=typeof ht=="function"?ht.call(Zi,De,xe):ht,xe==null)break e;De=g({},De,xe);break e;case 2:cf=!0}}xe=U.callback,xe!==null&&(c.flags|=64,Te&&(c.flags|=8192),Te=$.callbacks,Te===null?$.callbacks=[xe]:Te.push(xe))}else Te={lane:xe,tag:U.tag,payload:U.payload,callback:U.callback,next:null},Ie===null?(_e=Ie=Te,Q=De):Ie=Ie.next=Te,R|=xe;if(U=U.next,U===null){if(U=$.shared.pending,U===null)break;Te=U,U=Te.next,Te.next=null,$.lastBaseUpdate=Te,$.shared.pending=null}}while(!0);Ie===null&&(Q=De),$.baseState=Q,$.firstBaseUpdate=_e,$.lastBaseUpdate=Ie,k===null&&($.shared.lanes=0),gf|=R,c.lanes=R,c.memoizedState=De}}function W7(c,d){if(typeof c!="function")throw Error(r(191,c));c.call(d)}function Y7(c,d){var m=c.callbacks;if(m!==null)for(c.callbacks=null,c=0;c<m.length;c++)W7(m[c],d)}var Tb=X(null),Jk=X(0);function Z7(c,d){c=ph,Pe(Jk,c),Pe(Tb,d),ph=c|d.baseLanes}function OR(){Pe(Jk,ph),Pe(Tb,Tb.current)}function PR(){ph=Jk.current,fe(Tb),fe(Jk)}var Ca=X(null),Al=null;function hf(c){var d=c.alternate;Pe(rn,rn.current&1),Pe(Ca,c),Al===null&&(d===null||Tb.current!==null||d.memoizedState!==null)&&(Al=c)}function DR(c){Pe(rn,rn.current),Pe(Ca,c),Al===null&&(Al=c)}function J7(c){c.tag===22?(Pe(rn,rn.current),Pe(Ca,c),Al===null&&(Al=c)):pf()}function pf(){Pe(rn,rn.current),Pe(Ca,Ca.current)}function Ma(c){fe(Ca),Al===c&&(Al=null),fe(rn)}var rn=X(0);function Xk(c){for(var d=c;d!==null;){if(d.tag===13){var m=d.memoizedState;if(m!==null&&(m=m.dehydrated,m===null||F5(m)||V5(m)))return d}else if(d.tag===19&&(d.memoizedProps.revealOrder==="forwards"||d.memoizedProps.revealOrder==="backwards"||d.memoizedProps.revealOrder==="unstable_legacy-backwards"||d.memoizedProps.revealOrder==="together")){if((d.flags&128)!==0)return d}else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===c)break;for(;d.sibling===null;){if(d.return===null||d.return===c)return null;d=d.return}d.sibling.return=d.return,d=d.sibling}return null}var sh=0,Xt=null,Wi=null,fn=null,Kk=!1,$b=!1,Dg=!1,Qk=0,gx=0,kb=null,tye=0;function jr(){throw Error(r(321))}function RR(c,d){if(d===null)return!1;for(var m=0;m<d.length&&m<c.length;m++)if(!W(c[m],d[m]))return!1;return!0}function LR(c,d,m,b,$,k){return sh=k,Xt=d,d.memoizedState=null,d.updateQueue=null,d.lanes=0,J.H=c===null||c.memoizedState===null?PH:XR,Dg=!1,k=m(b,$),Dg=!1,$b&&(k=K7(d,m,b,$)),X7(c),k}function X7(c){J.H=bx;var d=Wi!==null&&Wi.next!==null;if(sh=0,fn=Wi=Xt=null,Kk=!1,gx=0,kb=null,d)throw Error(r(300));c===null||mn||(c=c.dependencies,c!==null&&Bk(c)&&(mn=!0))}function K7(c,d,m,b){Xt=c;var $=0;do{if($b&&(kb=null),gx=0,$b=!1,25<=$)throw Error(r(301));if($+=1,fn=Wi=null,c.updateQueue!=null){var k=c.updateQueue;k.lastEffect=null,k.events=null,k.stores=null,k.memoCache!=null&&(k.memoCache.index=0)}J.H=DH,k=d(m,b)}while($b);return k}function iye(){var c=J.H,d=c.useState()[0];return d=typeof d.then=="function"?yx(d):d,c=c.useState()[0],(Wi!==null?Wi.memoizedState:null)!==c&&(Xt.flags|=1024),d}function zR(){var c=Qk!==0;return Qk=0,c}function NR(c,d,m){d.updateQueue=c.updateQueue,d.flags&=-2053,c.lanes&=~m}function jR(c){if(Kk){for(c=c.memoizedState;c!==null;){var d=c.queue;d!==null&&(d.pending=null),c=c.next}Kk=!1}sh=0,fn=Wi=Xt=null,$b=!1,gx=Qk=0,kb=null}function go(){var c={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return fn===null?Xt.memoizedState=fn=c:fn=fn.next=c,fn}function nn(){if(Wi===null){var c=Xt.alternate;c=c!==null?c.memoizedState:null}else c=Wi.next;var d=fn===null?Xt.memoizedState:fn.next;if(d!==null)fn=d,Wi=c;else{if(c===null)throw Xt.alternate===null?Error(r(467)):Error(r(310));Wi=c,c={memoizedState:Wi.memoizedState,baseState:Wi.baseState,baseQueue:Wi.baseQueue,queue:Wi.queue,next:null},fn===null?Xt.memoizedState=fn=c:fn=fn.next=c}return fn}function eE(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function yx(c){var d=gx;return gx+=1,kb===null&&(kb=[]),c=U7(kb,c,d),d=Xt,(fn===null?d.memoizedState:fn.next)===null&&(d=d.alternate,J.H=d===null||d.memoizedState===null?PH:XR),c}function tE(c){if(c!==null&&typeof c=="object"){if(typeof c.then=="function")return yx(c);if(c.$$typeof===P)return vs(c)}throw Error(r(438,String(c)))}function FR(c){var d=null,m=Xt.updateQueue;if(m!==null&&(d=m.memoCache),d==null){var b=Xt.alternate;b!==null&&(b=b.updateQueue,b!==null&&(b=b.memoCache,b!=null&&(d={data:b.data.map(function($){return $.slice()}),index:0})))}if(d==null&&(d={data:[],index:0}),m===null&&(m=eE(),Xt.updateQueue=m),m.memoCache=d,m=d.data[d.index],m===void 0)for(m=d.data[d.index]=Array(c),b=0;b<c;b++)m[b]=te;return d.index++,m}function oh(c,d){return typeof d=="function"?d(c):d}function iE(c){var d=nn();return VR(d,Wi,c)}function VR(c,d,m){var b=c.queue;if(b===null)throw Error(r(311));b.lastRenderedReducer=m;var $=c.baseQueue,k=b.pending;if(k!==null){if($!==null){var R=$.next;$.next=k.next,k.next=R}d.baseQueue=$=k,b.pending=null}if(k=c.baseState,$===null)c.memoizedState=k;else{d=$.next;var U=R=null,Q=null,_e=d,Ie=!1;do{var De=_e.lane&-536870913;if(De!==_e.lane?(di&De)===De:(sh&De)===De){var xe=_e.revertLane;if(xe===0)Q!==null&&(Q=Q.next={lane:0,revertLane:0,gesture:null,action:_e.action,hasEagerState:_e.hasEagerState,eagerState:_e.eagerState,next:null}),De===wb&&(Ie=!0);else if((sh&xe)===xe){_e=_e.next,xe===wb&&(Ie=!0);continue}else De={lane:0,revertLane:_e.revertLane,gesture:null,action:_e.action,hasEagerState:_e.hasEagerState,eagerState:_e.eagerState,next:null},Q===null?(U=Q=De,R=k):Q=Q.next=De,Xt.lanes|=xe,gf|=xe;De=_e.action,Dg&&m(k,De),k=_e.hasEagerState?_e.eagerState:m(k,De)}else xe={lane:De,revertLane:_e.revertLane,gesture:_e.gesture,action:_e.action,hasEagerState:_e.hasEagerState,eagerState:_e.eagerState,next:null},Q===null?(U=Q=xe,R=k):Q=Q.next=xe,Xt.lanes|=De,gf|=De;_e=_e.next}while(_e!==null&&_e!==d);if(Q===null?R=k:Q.next=U,!W(k,c.memoizedState)&&(mn=!0,Ie&&(m=_b,m!==null)))throw m;c.memoizedState=k,c.baseState=R,c.baseQueue=Q,b.lastRenderedState=k}return $===null&&(b.lanes=0),[c.memoizedState,b.dispatch]}function UR(c){var d=nn(),m=d.queue;if(m===null)throw Error(r(311));m.lastRenderedReducer=c;var b=m.dispatch,$=m.pending,k=d.memoizedState;if($!==null){m.pending=null;var R=$=$.next;do k=c(k,R.action),R=R.next;while(R!==$);W(k,d.memoizedState)||(mn=!0),d.memoizedState=k,d.baseQueue===null&&(d.baseState=k),m.lastRenderedState=k}return[k,b]}function Q7(c,d,m){var b=Xt,$=nn(),k=mi;if(k){if(m===void 0)throw Error(r(407));m=m()}else m=d();var R=!W((Wi||$).memoizedState,m);if(R&&($.memoizedState=m,mn=!0),$=$.queue,qR(iH.bind(null,b,$,c),[c]),$.getSnapshot!==d||R||fn!==null&&fn.memoizedState.tag&1){if(b.flags|=2048,Eb(9,{destroy:void 0},tH.bind(null,b,$,m,d),null),Qi===null)throw Error(r(349));k||(sh&127)!==0||eH(b,d,m)}return m}function eH(c,d,m){c.flags|=16384,c={getSnapshot:d,value:m},d=Xt.updateQueue,d===null?(d=eE(),Xt.updateQueue=d,d.stores=[c]):(m=d.stores,m===null?d.stores=[c]:m.push(c))}function tH(c,d,m,b){d.value=m,d.getSnapshot=b,rH(d)&&nH(c)}function iH(c,d,m){return m(function(){rH(d)&&nH(c)})}function rH(c){var d=c.getSnapshot;c=c.value;try{var m=d();return!W(c,m)}catch{return!0}}function nH(c){var d=$g(c,2);d!==null&&Ho(d,c,2)}function BR(c){var d=go();if(typeof c=="function"){var m=c;if(c=m(),Dg){mo(!0);try{m()}finally{mo(!1)}}}return d.memoizedState=d.baseState=c,d.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:oh,lastRenderedState:c},d}function sH(c,d,m,b){return c.baseState=m,VR(c,Wi,typeof b=="function"?b:oh)}function rye(c,d,m,b,$){if(sE(c))throw Error(r(485));if(c=d.action,c!==null){var k={payload:$,action:c,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(R){k.listeners.push(R)}};J.T!==null?m(!0):k.isTransition=!1,b(k),m=d.pending,m===null?(k.next=d.pending=k,oH(d,k)):(k.next=m.next,d.pending=m.next=k)}}function oH(c,d){var m=d.action,b=d.payload,$=c.state;if(d.isTransition){var k=J.T,R={};J.T=R;try{var U=m($,b),Q=J.S;Q!==null&&Q(R,U),aH(c,d,U)}catch(_e){HR(c,d,_e)}finally{k!==null&&R.types!==null&&(k.types=R.types),J.T=k}}else try{k=m($,b),aH(c,d,k)}catch(_e){HR(c,d,_e)}}function aH(c,d,m){m!==null&&typeof m=="object"&&typeof m.then=="function"?m.then(function(b){lH(c,d,b)},function(b){return HR(c,d,b)}):lH(c,d,m)}function lH(c,d,m){d.status="fulfilled",d.value=m,cH(d),c.state=m,d=c.pending,d!==null&&(m=d.next,m===d?c.pending=null:(m=m.next,d.next=m,oH(c,m)))}function HR(c,d,m){var b=c.pending;if(c.pending=null,b!==null){b=b.next;do d.status="rejected",d.reason=m,cH(d),d=d.next;while(d!==b)}c.action=null}function cH(c){c=c.listeners;for(var d=0;d<c.length;d++)(0,c[d])()}function uH(c,d){return d}function dH(c,d){if(mi){var m=Qi.formState;if(m!==null){e:{var b=Xt;if(mi){if(mr){t:{for(var $=mr,k=Ml;$.nodeType!==8;){if(!k){$=null;break t}if($=Ol($.nextSibling),$===null){$=null;break t}}k=$.data,$=k==="F!"||k==="F"?$:null}if($){mr=Ol($.nextSibling),b=$.data==="F!";break e}}af(b)}b=!1}b&&(d=m[0])}}return m=go(),m.memoizedState=m.baseState=d,b={pending:null,lanes:0,dispatch:null,lastRenderedReducer:uH,lastRenderedState:d},m.queue=b,m=MH.bind(null,Xt,b),b.dispatch=m,b=BR(!1),k=JR.bind(null,Xt,!1,b.queue),b=go(),$={state:d,dispatch:null,action:c,pending:null},b.queue=$,m=rye.bind(null,Xt,$,k,m),$.dispatch=m,b.memoizedState=c,[d,m,!1]}function hH(c){var d=nn();return pH(d,Wi,c)}function pH(c,d,m){if(d=VR(c,d,uH)[0],c=iE(oh)[0],typeof d=="object"&&d!==null&&typeof d.then=="function")try{var b=yx(d)}catch(R){throw R===xb?Gk:R}else b=d;d=nn();var $=d.queue,k=$.dispatch;return m!==d.memoizedState&&(Xt.flags|=2048,Eb(9,{destroy:void 0},nye.bind(null,$,m),null)),[b,k,c]}function nye(c,d){c.action=d}function fH(c){var d=nn(),m=Wi;if(m!==null)return pH(d,m,c);nn(),d=d.memoizedState,m=nn();var b=m.queue.dispatch;return m.memoizedState=c,[d,b,!1]}function Eb(c,d,m,b){return c={tag:c,create:m,deps:b,inst:d,next:null},d=Xt.updateQueue,d===null&&(d=eE(),Xt.updateQueue=d),m=d.lastEffect,m===null?d.lastEffect=c.next=c:(b=m.next,m.next=c,c.next=b,d.lastEffect=c),c}function mH(){return nn().memoizedState}function rE(c,d,m,b){var $=go();Xt.flags|=c,$.memoizedState=Eb(1|d,{destroy:void 0},m,b===void 0?null:b)}function nE(c,d,m,b){var $=nn();b=b===void 0?null:b;var k=$.memoizedState.inst;Wi!==null&&b!==null&&RR(b,Wi.memoizedState.deps)?$.memoizedState=Eb(d,k,m,b):(Xt.flags|=c,$.memoizedState=Eb(1|d,k,m,b))}function gH(c,d){rE(8390656,8,c,d)}function qR(c,d){nE(2048,8,c,d)}function sye(c){Xt.flags|=4;var d=Xt.updateQueue;if(d===null)d=eE(),Xt.updateQueue=d,d.events=[c];else{var m=d.events;m===null?d.events=[c]:m.push(c)}}function yH(c){var d=nn().memoizedState;return sye({ref:d,nextImpl:c}),function(){if((Ii&2)!==0)throw Error(r(440));return d.impl.apply(void 0,arguments)}}function vH(c,d){return nE(4,2,c,d)}function bH(c,d){return nE(4,4,c,d)}function wH(c,d){if(typeof d=="function"){c=c();var m=d(c);return function(){typeof m=="function"?m():d(null)}}if(d!=null)return c=c(),d.current=c,function(){d.current=null}}function _H(c,d,m){m=m!=null?m.concat([c]):null,nE(4,4,wH.bind(null,d,c),m)}function GR(){}function xH(c,d){var m=nn();d=d===void 0?null:d;var b=m.memoizedState;return d!==null&&RR(d,b[1])?b[0]:(m.memoizedState=[c,d],c)}function SH(c,d){var m=nn();d=d===void 0?null:d;var b=m.memoizedState;if(d!==null&&RR(d,b[1]))return b[0];if(b=c(),Dg){mo(!0);try{c()}finally{mo(!1)}}return m.memoizedState=[b,d],b}function WR(c,d,m){return m===void 0||(sh&1073741824)!==0&&(di&261930)===0?c.memoizedState=d:(c.memoizedState=m,c=Tq(),Xt.lanes|=c,gf|=c,m)}function TH(c,d,m,b){return W(m,d)?m:Tb.current!==null?(c=WR(c,m,b),W(c,d)||(mn=!0),c):(sh&42)===0||(sh&1073741824)!==0&&(di&261930)===0?(mn=!0,c.memoizedState=m):(c=Tq(),Xt.lanes|=c,gf|=c,d)}function $H(c,d,m,b,$){var k=le.p;le.p=k!==0&&8>k?k:8;var R=J.T,U={};J.T=U,JR(c,!1,d,m);try{var Q=$(),_e=J.S;if(_e!==null&&_e(U,Q),Q!==null&&typeof Q=="object"&&typeof Q.then=="function"){var Ie=eye(Q,b);vx(c,d,Ie,Pa(c))}else vx(c,d,b,Pa(c))}catch(De){vx(c,d,{then:function(){},status:"rejected",reason:De},Pa())}finally{le.p=k,R!==null&&U.types!==null&&(R.types=U.types),J.T=R}}function oye(){}function YR(c,d,m,b){if(c.tag!==5)throw Error(r(476));var $=kH(c).queue;$H(c,$,d,ve,m===null?oye:function(){return EH(c),m(b)})}function kH(c){var d=c.memoizedState;if(d!==null)return d;d={memoizedState:ve,baseState:ve,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:oh,lastRenderedState:ve},next:null};var m={};return d.next={memoizedState:m,baseState:m,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:oh,lastRenderedState:m},next:null},c.memoizedState=d,c=c.alternate,c!==null&&(c.memoizedState=d),d}function EH(c){var d=kH(c);d.next===null&&(d=c.alternate.memoizedState),vx(c,d.next.queue,{},Pa())}function ZR(){return vs(Rx)}function IH(){return nn().memoizedState}function CH(){return nn().memoizedState}function aye(c){for(var d=c.return;d!==null;){switch(d.tag){case 24:case 3:var m=Pa();c=uf(m);var b=df(d,c,m);b!==null&&(Ho(b,d,m),px(b,d,m)),d={cache:TR()},c.payload=d;return}d=d.return}}function lye(c,d,m){var b=Pa();m={lane:b,revertLane:0,gesture:null,action:m,hasEagerState:!1,eagerState:null,next:null},sE(c)?AH(d,m):(m=pR(c,d,m,b),m!==null&&(Ho(m,c,b),OH(m,d,b)))}function MH(c,d,m){var b=Pa();vx(c,d,m,b)}function vx(c,d,m,b){var $={lane:b,revertLane:0,gesture:null,action:m,hasEagerState:!1,eagerState:null,next:null};if(sE(c))AH(d,$);else{var k=c.alternate;if(c.lanes===0&&(k===null||k.lanes===0)&&(k=d.lastRenderedReducer,k!==null))try{var R=d.lastRenderedState,U=k(R,m);if($.hasEagerState=!0,$.eagerState=U,W(U,R))return jk(c,d,$,0),Qi===null&&Nk(),!1}catch{}if(m=pR(c,d,$,b),m!==null)return Ho(m,c,b),OH(m,d,b),!0}return!1}function JR(c,d,m,b){if(b={lane:2,revertLane:I5(),gesture:null,action:b,hasEagerState:!1,eagerState:null,next:null},sE(c)){if(d)throw Error(r(479))}else d=pR(c,m,b,2),d!==null&&Ho(d,c,2)}function sE(c){var d=c.alternate;return c===Xt||d!==null&&d===Xt}function AH(c,d){$b=Kk=!0;var m=c.pending;m===null?d.next=d:(d.next=m.next,m.next=d),c.pending=d}function OH(c,d,m){if((m&4194048)!==0){var b=d.lanes;b&=c.pendingLanes,m|=b,d.lanes=m,Wd(c,m)}}var bx={readContext:vs,use:tE,useCallback:jr,useContext:jr,useEffect:jr,useImperativeHandle:jr,useLayoutEffect:jr,useInsertionEffect:jr,useMemo:jr,useReducer:jr,useRef:jr,useState:jr,useDebugValue:jr,useDeferredValue:jr,useTransition:jr,useSyncExternalStore:jr,useId:jr,useHostTransitionStatus:jr,useFormState:jr,useActionState:jr,useOptimistic:jr,useMemoCache:jr,useCacheRefresh:jr};bx.useEffectEvent=jr;var PH={readContext:vs,use:tE,useCallback:function(c,d){return go().memoizedState=[c,d===void 0?null:d],c},useContext:vs,useEffect:gH,useImperativeHandle:function(c,d,m){m=m!=null?m.concat([c]):null,rE(4194308,4,wH.bind(null,d,c),m)},useLayoutEffect:function(c,d){return rE(4194308,4,c,d)},useInsertionEffect:function(c,d){rE(4,2,c,d)},useMemo:function(c,d){var m=go();d=d===void 0?null:d;var b=c();if(Dg){mo(!0);try{c()}finally{mo(!1)}}return m.memoizedState=[b,d],b},useReducer:function(c,d,m){var b=go();if(m!==void 0){var $=m(d);if(Dg){mo(!0);try{m(d)}finally{mo(!1)}}}else $=d;return b.memoizedState=b.baseState=$,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:c,lastRenderedState:$},b.queue=c,c=c.dispatch=lye.bind(null,Xt,c),[b.memoizedState,c]},useRef:function(c){var d=go();return c={current:c},d.memoizedState=c},useState:function(c){c=BR(c);var d=c.queue,m=MH.bind(null,Xt,d);return d.dispatch=m,[c.memoizedState,m]},useDebugValue:GR,useDeferredValue:function(c,d){var m=go();return WR(m,c,d)},useTransition:function(){var c=BR(!1);return c=$H.bind(null,Xt,c.queue,!0,!1),go().memoizedState=c,[!1,c]},useSyncExternalStore:function(c,d,m){var b=Xt,$=go();if(mi){if(m===void 0)throw Error(r(407));m=m()}else{if(m=d(),Qi===null)throw Error(r(349));(di&127)!==0||eH(b,d,m)}$.memoizedState=m;var k={value:m,getSnapshot:d};return $.queue=k,gH(iH.bind(null,b,k,c),[c]),b.flags|=2048,Eb(9,{destroy:void 0},tH.bind(null,b,k,m,d),null),m},useId:function(){var c=go(),d=Qi.identifierPrefix;if(mi){var m=ju,b=Nu;m=(b&~(1<<32-Wn(b)-1)).toString(32)+m,d="_"+d+"R_"+m,m=Qk++,0<m&&(d+="H"+m.toString(32)),d+="_"}else m=tye++,d="_"+d+"r_"+m.toString(32)+"_";return c.memoizedState=d},useHostTransitionStatus:ZR,useFormState:dH,useActionState:dH,useOptimistic:function(c){var d=go();d.memoizedState=d.baseState=c;var m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return d.queue=m,d=JR.bind(null,Xt,!0,m),m.dispatch=d,[c,d]},useMemoCache:FR,useCacheRefresh:function(){return go().memoizedState=aye.bind(null,Xt)},useEffectEvent:function(c){var d=go(),m={impl:c};return d.memoizedState=m,function(){if((Ii&2)!==0)throw Error(r(440));return m.impl.apply(void 0,arguments)}}},XR={readContext:vs,use:tE,useCallback:xH,useContext:vs,useEffect:qR,useImperativeHandle:_H,useInsertionEffect:vH,useLayoutEffect:bH,useMemo:SH,useReducer:iE,useRef:mH,useState:function(){return iE(oh)},useDebugValue:GR,useDeferredValue:function(c,d){var m=nn();return TH(m,Wi.memoizedState,c,d)},useTransition:function(){var c=iE(oh)[0],d=nn().memoizedState;return[typeof c=="boolean"?c:yx(c),d]},useSyncExternalStore:Q7,useId:IH,useHostTransitionStatus:ZR,useFormState:hH,useActionState:hH,useOptimistic:function(c,d){var m=nn();return sH(m,Wi,c,d)},useMemoCache:FR,useCacheRefresh:CH};XR.useEffectEvent=yH;var DH={readContext:vs,use:tE,useCallback:xH,useContext:vs,useEffect:qR,useImperativeHandle:_H,useInsertionEffect:vH,useLayoutEffect:bH,useMemo:SH,useReducer:UR,useRef:mH,useState:function(){return UR(oh)},useDebugValue:GR,useDeferredValue:function(c,d){var m=nn();return Wi===null?WR(m,c,d):TH(m,Wi.memoizedState,c,d)},useTransition:function(){var c=UR(oh)[0],d=nn().memoizedState;return[typeof c=="boolean"?c:yx(c),d]},useSyncExternalStore:Q7,useId:IH,useHostTransitionStatus:ZR,useFormState:fH,useActionState:fH,useOptimistic:function(c,d){var m=nn();return Wi!==null?sH(m,Wi,c,d):(m.baseState=c,[c,m.queue.dispatch])},useMemoCache:FR,useCacheRefresh:CH};DH.useEffectEvent=yH;function KR(c,d,m,b){d=c.memoizedState,m=m(b,d),m=m==null?d:g({},d,m),c.memoizedState=m,c.lanes===0&&(c.updateQueue.baseState=m)}var QR={enqueueSetState:function(c,d,m){c=c._reactInternals;var b=Pa(),$=uf(b);$.payload=d,m!=null&&($.callback=m),d=df(c,$,b),d!==null&&(Ho(d,c,b),px(d,c,b))},enqueueReplaceState:function(c,d,m){c=c._reactInternals;var b=Pa(),$=uf(b);$.tag=1,$.payload=d,m!=null&&($.callback=m),d=df(c,$,b),d!==null&&(Ho(d,c,b),px(d,c,b))},enqueueForceUpdate:function(c,d){c=c._reactInternals;var m=Pa(),b=uf(m);b.tag=2,d!=null&&(b.callback=d),d=df(c,b,m),d!==null&&(Ho(d,c,m),px(d,c,m))}};function RH(c,d,m,b,$,k,R){return c=c.stateNode,typeof c.shouldComponentUpdate=="function"?c.shouldComponentUpdate(b,k,R):d.prototype&&d.prototype.isPureReactComponent?!pe(m,b)||!pe($,k):!0}function LH(c,d,m,b){c=d.state,typeof d.componentWillReceiveProps=="function"&&d.componentWillReceiveProps(m,b),typeof d.UNSAFE_componentWillReceiveProps=="function"&&d.UNSAFE_componentWillReceiveProps(m,b),d.state!==c&&QR.enqueueReplaceState(d,d.state,null)}function Rg(c,d){var m=d;if("ref"in d){m={};for(var b in d)b!=="ref"&&(m[b]=d[b])}if(c=c.defaultProps){m===d&&(m=g({},m));for(var $ in c)m[$]===void 0&&(m[$]=c[$])}return m}function zH(c){zk(c)}function NH(c){console.error(c)}function jH(c){zk(c)}function oE(c,d){try{var m=c.onUncaughtError;m(d.value,{componentStack:d.stack})}catch(b){setTimeout(function(){throw b})}}function FH(c,d,m){try{var b=c.onCaughtError;b(m.value,{componentStack:m.stack,errorBoundary:d.tag===1?d.stateNode:null})}catch($){setTimeout(function(){throw $})}}function e5(c,d,m){return m=uf(m),m.tag=3,m.payload={element:null},m.callback=function(){oE(c,d)},m}function VH(c){return c=uf(c),c.tag=3,c}function UH(c,d,m,b){var $=m.type.getDerivedStateFromError;if(typeof $=="function"){var k=b.value;c.payload=function(){return $(k)},c.callback=function(){FH(d,m,b)}}var R=m.stateNode;R!==null&&typeof R.componentDidCatch=="function"&&(c.callback=function(){FH(d,m,b),typeof $!="function"&&(yf===null?yf=new Set([this]):yf.add(this));var U=b.stack;this.componentDidCatch(b.value,{componentStack:U!==null?U:""})})}function cye(c,d,m,b,$){if(m.flags|=32768,b!==null&&typeof b=="object"&&typeof b.then=="function"){if(d=m.alternate,d!==null&&bb(d,m,$,!0),m=Ca.current,m!==null){switch(m.tag){case 31:case 13:return Al===null?vE():m.alternate===null&&Fr===0&&(Fr=3),m.flags&=-257,m.flags|=65536,m.lanes=$,b===Wk?m.flags|=16384:(d=m.updateQueue,d===null?m.updateQueue=new Set([b]):d.add(b),$5(c,b,$)),!1;case 22:return m.flags|=65536,b===Wk?m.flags|=16384:(d=m.updateQueue,d===null?(d={transitions:null,markerInstances:null,retryQueue:new Set([b])},m.updateQueue=d):(m=d.retryQueue,m===null?d.retryQueue=new Set([b]):m.add(b)),$5(c,b,$)),!1}throw Error(r(435,m.tag))}return $5(c,b,$),vE(),!1}if(mi)return d=Ca.current,d!==null?((d.flags&65536)===0&&(d.flags|=256),d.flags|=65536,d.lanes=$,b!==bR&&(c=Error(r(422),{cause:b}),lx(El(c,m)))):(b!==bR&&(d=Error(r(423),{cause:b}),lx(El(d,m))),c=c.current.alternate,c.flags|=65536,$&=-$,c.lanes|=$,b=El(b,m),$=e5(c.stateNode,b,$),MR(c,$),Fr!==4&&(Fr=2)),!1;var k=Error(r(520),{cause:b});if(k=El(k,m),Ex===null?Ex=[k]:Ex.push(k),Fr!==4&&(Fr=2),d===null)return!0;b=El(b,m),m=d;do{switch(m.tag){case 3:return m.flags|=65536,c=$&-$,m.lanes|=c,c=e5(m.stateNode,b,c),MR(m,c),!1;case 1:if(d=m.type,k=m.stateNode,(m.flags&128)===0&&(typeof d.getDerivedStateFromError=="function"||k!==null&&typeof k.componentDidCatch=="function"&&(yf===null||!yf.has(k))))return m.flags|=65536,$&=-$,m.lanes|=$,$=VH($),UH($,c,m,b),MR(m,$),!1}m=m.return}while(m!==null);return!1}var t5=Error(r(461)),mn=!1;function bs(c,d,m,b){d.child=c===null?G7(d,null,m,b):Pg(d,c.child,m,b)}function BH(c,d,m,b,$){m=m.render;var k=d.ref;if("ref"in b){var R={};for(var U in b)U!=="ref"&&(R[U]=b[U])}else R=b;return Cg(d),b=LR(c,d,m,R,k,$),U=zR(),c!==null&&!mn?(NR(c,d,$),ah(c,d,$)):(mi&&U&&yR(d),d.flags|=1,bs(c,d,b,$),d.child)}function HH(c,d,m,b,$){if(c===null){var k=m.type;return typeof k=="function"&&!fR(k)&&k.defaultProps===void 0&&m.compare===null?(d.tag=15,d.type=k,qH(c,d,k,b,$)):(c=Vk(m.type,null,b,d,d.mode,$),c.ref=d.ref,c.return=d,d.child=c)}if(k=c.child,!c5(c,$)){var R=k.memoizedProps;if(m=m.compare,m=m!==null?m:pe,m(R,b)&&c.ref===d.ref)return ah(c,d,$)}return d.flags|=1,c=th(k,b),c.ref=d.ref,c.return=d,d.child=c}function qH(c,d,m,b,$){if(c!==null){var k=c.memoizedProps;if(pe(k,b)&&c.ref===d.ref)if(mn=!1,d.pendingProps=b=k,c5(c,$))(c.flags&131072)!==0&&(mn=!0);else return d.lanes=c.lanes,ah(c,d,$)}return i5(c,d,m,b,$)}function GH(c,d,m,b){var $=b.children,k=c!==null?c.memoizedState:null;if(c===null&&d.stateNode===null&&(d.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),b.mode==="hidden"){if((d.flags&128)!==0){if(k=k!==null?k.baseLanes|m:m,c!==null){for(b=d.child=c.child,$=0;b!==null;)$=$|b.lanes|b.childLanes,b=b.sibling;b=$&~k}else b=0,d.child=null;return WH(c,d,k,m,b)}if((m&536870912)!==0)d.memoizedState={baseLanes:0,cachePool:null},c!==null&&qk(d,k!==null?k.cachePool:null),k!==null?Z7(d,k):OR(),J7(d);else return b=d.lanes=536870912,WH(c,d,k!==null?k.baseLanes|m:m,m,b)}else k!==null?(qk(d,k.cachePool),Z7(d,k),pf(),d.memoizedState=null):(c!==null&&qk(d,null),OR(),pf());return bs(c,d,$,m),d.child}function wx(c,d){return c!==null&&c.tag===22||d.stateNode!==null||(d.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),d.sibling}function WH(c,d,m,b,$){var k=kR();return k=k===null?null:{parent:pn._currentValue,pool:k},d.memoizedState={baseLanes:m,cachePool:k},c!==null&&qk(d,null),OR(),J7(d),c!==null&&bb(c,d,b,!0),d.childLanes=$,null}function aE(c,d){return d=cE({mode:d.mode,children:d.children},c.mode),d.ref=c.ref,c.child=d,d.return=c,d}function YH(c,d,m){return Pg(d,c.child,null,m),c=aE(d,d.pendingProps),c.flags|=2,Ma(d),d.memoizedState=null,c}function uye(c,d,m){var b=d.pendingProps,$=(d.flags&128)!==0;if(d.flags&=-129,c===null){if(mi){if(b.mode==="hidden")return c=aE(d,b),d.lanes=536870912,wx(null,c);if(DR(d),(c=mr)?(c=oG(c,Ml),c=c!==null&&c.data==="&"?c:null,c!==null&&(d.memoizedState={dehydrated:c,treeContext:sf!==null?{id:Nu,overflow:ju}:null,retryLane:536870912,hydrationErrors:null},m=A7(c),m.return=d,d.child=m,ys=d,mr=null)):c=null,c===null)throw af(d);return d.lanes=536870912,null}return aE(d,b)}var k=c.memoizedState;if(k!==null){var R=k.dehydrated;if(DR(d),$)if(d.flags&256)d.flags&=-257,d=YH(c,d,m);else if(d.memoizedState!==null)d.child=c.child,d.flags|=128,d=null;else throw Error(r(558));else if(mn||bb(c,d,m,!1),$=(m&c.childLanes)!==0,mn||$){if(b=Qi,b!==null&&(R=ct(b,m),R!==0&&R!==k.retryLane))throw k.retryLane=R,$g(c,R),Ho(b,c,R),t5;vE(),d=YH(c,d,m)}else c=k.treeContext,mr=Ol(R.nextSibling),ys=d,mi=!0,of=null,Ml=!1,c!==null&&D7(d,c),d=aE(d,b),d.flags|=4096;return d}return c=th(c.child,{mode:b.mode,children:b.children}),c.ref=d.ref,d.child=c,c.return=d,c}function lE(c,d){var m=d.ref;if(m===null)c!==null&&c.ref!==null&&(d.flags|=4194816);else{if(typeof m!="function"&&typeof m!="object")throw Error(r(284));(c===null||c.ref!==m)&&(d.flags|=4194816)}}function i5(c,d,m,b,$){return Cg(d),m=LR(c,d,m,b,void 0,$),b=zR(),c!==null&&!mn?(NR(c,d,$),ah(c,d,$)):(mi&&b&&yR(d),d.flags|=1,bs(c,d,m,$),d.child)}function ZH(c,d,m,b,$,k){return Cg(d),d.updateQueue=null,m=K7(d,b,m,$),X7(c),b=zR(),c!==null&&!mn?(NR(c,d,k),ah(c,d,k)):(mi&&b&&yR(d),d.flags|=1,bs(c,d,m,k),d.child)}function JH(c,d,m,b,$){if(Cg(d),d.stateNode===null){var k=mb,R=m.contextType;typeof R=="object"&&R!==null&&(k=vs(R)),k=new m(b,k),d.memoizedState=k.state!==null&&k.state!==void 0?k.state:null,k.updater=QR,d.stateNode=k,k._reactInternals=d,k=d.stateNode,k.props=b,k.state=d.memoizedState,k.refs={},IR(d),R=m.contextType,k.context=typeof R=="object"&&R!==null?vs(R):mb,k.state=d.memoizedState,R=m.getDerivedStateFromProps,typeof R=="function"&&(KR(d,m,R,b),k.state=d.memoizedState),typeof m.getDerivedStateFromProps=="function"||typeof k.getSnapshotBeforeUpdate=="function"||typeof k.UNSAFE_componentWillMount!="function"&&typeof k.componentWillMount!="function"||(R=k.state,typeof k.componentWillMount=="function"&&k.componentWillMount(),typeof k.UNSAFE_componentWillMount=="function"&&k.UNSAFE_componentWillMount(),R!==k.state&&QR.enqueueReplaceState(k,k.state,null),mx(d,b,k,$),fx(),k.state=d.memoizedState),typeof k.componentDidMount=="function"&&(d.flags|=4194308),b=!0}else if(c===null){k=d.stateNode;var U=d.memoizedProps,Q=Rg(m,U);k.props=Q;var _e=k.context,Ie=m.contextType;R=mb,typeof Ie=="object"&&Ie!==null&&(R=vs(Ie));var De=m.getDerivedStateFromProps;Ie=typeof De=="function"||typeof k.getSnapshotBeforeUpdate=="function",U=d.pendingProps!==U,Ie||typeof k.UNSAFE_componentWillReceiveProps!="function"&&typeof k.componentWillReceiveProps!="function"||(U||_e!==R)&&LH(d,k,b,R),cf=!1;var xe=d.memoizedState;k.state=xe,mx(d,b,k,$),fx(),_e=d.memoizedState,U||xe!==_e||cf?(typeof De=="function"&&(KR(d,m,De,b),_e=d.memoizedState),(Q=cf||RH(d,m,Q,b,xe,_e,R))?(Ie||typeof k.UNSAFE_componentWillMount!="function"&&typeof k.componentWillMount!="function"||(typeof k.componentWillMount=="function"&&k.componentWillMount(),typeof k.UNSAFE_componentWillMount=="function"&&k.UNSAFE_componentWillMount()),typeof k.componentDidMount=="function"&&(d.flags|=4194308)):(typeof k.componentDidMount=="function"&&(d.flags|=4194308),d.memoizedProps=b,d.memoizedState=_e),k.props=b,k.state=_e,k.context=R,b=Q):(typeof k.componentDidMount=="function"&&(d.flags|=4194308),b=!1)}else{k=d.stateNode,CR(c,d),R=d.memoizedProps,Ie=Rg(m,R),k.props=Ie,De=d.pendingProps,xe=k.context,_e=m.contextType,Q=mb,typeof _e=="object"&&_e!==null&&(Q=vs(_e)),U=m.getDerivedStateFromProps,(_e=typeof U=="function"||typeof k.getSnapshotBeforeUpdate=="function")||typeof k.UNSAFE_componentWillReceiveProps!="function"&&typeof k.componentWillReceiveProps!="function"||(R!==De||xe!==Q)&&LH(d,k,b,Q),cf=!1,xe=d.memoizedState,k.state=xe,mx(d,b,k,$),fx();var Te=d.memoizedState;R!==De||xe!==Te||cf||c!==null&&c.dependencies!==null&&Bk(c.dependencies)?(typeof U=="function"&&(KR(d,m,U,b),Te=d.memoizedState),(Ie=cf||RH(d,m,Ie,b,xe,Te,Q)||c!==null&&c.dependencies!==null&&Bk(c.dependencies))?(_e||typeof k.UNSAFE_componentWillUpdate!="function"&&typeof k.componentWillUpdate!="function"||(typeof k.componentWillUpdate=="function"&&k.componentWillUpdate(b,Te,Q),typeof k.UNSAFE_componentWillUpdate=="function"&&k.UNSAFE_componentWillUpdate(b,Te,Q)),typeof k.componentDidUpdate=="function"&&(d.flags|=4),typeof k.getSnapshotBeforeUpdate=="function"&&(d.flags|=1024)):(typeof k.componentDidUpdate!="function"||R===c.memoizedProps&&xe===c.memoizedState||(d.flags|=4),typeof k.getSnapshotBeforeUpdate!="function"||R===c.memoizedProps&&xe===c.memoizedState||(d.flags|=1024),d.memoizedProps=b,d.memoizedState=Te),k.props=b,k.state=Te,k.context=Q,b=Ie):(typeof k.componentDidUpdate!="function"||R===c.memoizedProps&&xe===c.memoizedState||(d.flags|=4),typeof k.getSnapshotBeforeUpdate!="function"||R===c.memoizedProps&&xe===c.memoizedState||(d.flags|=1024),b=!1)}return k=b,lE(c,d),b=(d.flags&128)!==0,k||b?(k=d.stateNode,m=b&&typeof m.getDerivedStateFromError!="function"?null:k.render(),d.flags|=1,c!==null&&b?(d.child=Pg(d,c.child,null,$),d.child=Pg(d,null,m,$)):bs(c,d,m,$),d.memoizedState=k.state,c=d.child):c=ah(c,d,$),c}function XH(c,d,m,b){return Eg(),d.flags|=256,bs(c,d,m,b),d.child}var r5={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function n5(c){return{baseLanes:c,cachePool:F7()}}function s5(c,d,m){return c=c!==null?c.childLanes&~m:0,d&&(c|=Oa),c}function KH(c,d,m){var b=d.pendingProps,$=!1,k=(d.flags&128)!==0,R;if((R=k)||(R=c!==null&&c.memoizedState===null?!1:(rn.current&2)!==0),R&&($=!0,d.flags&=-129),R=(d.flags&32)!==0,d.flags&=-33,c===null){if(mi){if($?hf(d):pf(),(c=mr)?(c=oG(c,Ml),c=c!==null&&c.data!=="&"?c:null,c!==null&&(d.memoizedState={dehydrated:c,treeContext:sf!==null?{id:Nu,overflow:ju}:null,retryLane:536870912,hydrationErrors:null},m=A7(c),m.return=d,d.child=m,ys=d,mr=null)):c=null,c===null)throw af(d);return V5(c)?d.lanes=32:d.lanes=536870912,null}var U=b.children;return b=b.fallback,$?(pf(),$=d.mode,U=cE({mode:"hidden",children:U},$),b=kg(b,$,m,null),U.return=d,b.return=d,U.sibling=b,d.child=U,b=d.child,b.memoizedState=n5(m),b.childLanes=s5(c,R,m),d.memoizedState=r5,wx(null,b)):(hf(d),o5(d,U))}var Q=c.memoizedState;if(Q!==null&&(U=Q.dehydrated,U!==null)){if(k)d.flags&256?(hf(d),d.flags&=-257,d=a5(c,d,m)):d.memoizedState!==null?(pf(),d.child=c.child,d.flags|=128,d=null):(pf(),U=b.fallback,$=d.mode,b=cE({mode:"visible",children:b.children},$),U=kg(U,$,m,null),U.flags|=2,b.return=d,U.return=d,b.sibling=U,d.child=b,Pg(d,c.child,null,m),b=d.child,b.memoizedState=n5(m),b.childLanes=s5(c,R,m),d.memoizedState=r5,d=wx(null,b));else if(hf(d),V5(U)){if(R=U.nextSibling&&U.nextSibling.dataset,R)var _e=R.dgst;R=_e,b=Error(r(419)),b.stack="",b.digest=R,lx({value:b,source:null,stack:null}),d=a5(c,d,m)}else if(mn||bb(c,d,m,!1),R=(m&c.childLanes)!==0,mn||R){if(R=Qi,R!==null&&(b=ct(R,m),b!==0&&b!==Q.retryLane))throw Q.retryLane=b,$g(c,b),Ho(R,c,b),t5;F5(U)||vE(),d=a5(c,d,m)}else F5(U)?(d.flags|=192,d.child=c.child,d=null):(c=Q.treeContext,mr=Ol(U.nextSibling),ys=d,mi=!0,of=null,Ml=!1,c!==null&&D7(d,c),d=o5(d,b.children),d.flags|=4096);return d}return $?(pf(),U=b.fallback,$=d.mode,Q=c.child,_e=Q.sibling,b=th(Q,{mode:"hidden",children:b.children}),b.subtreeFlags=Q.subtreeFlags&65011712,_e!==null?U=th(_e,U):(U=kg(U,$,m,null),U.flags|=2),U.return=d,b.return=d,b.sibling=U,d.child=b,wx(null,b),b=d.child,U=c.child.memoizedState,U===null?U=n5(m):($=U.cachePool,$!==null?(Q=pn._currentValue,$=$.parent!==Q?{parent:Q,pool:Q}:$):$=F7(),U={baseLanes:U.baseLanes|m,cachePool:$}),b.memoizedState=U,b.childLanes=s5(c,R,m),d.memoizedState=r5,wx(c.child,b)):(hf(d),m=c.child,c=m.sibling,m=th(m,{mode:"visible",children:b.children}),m.return=d,m.sibling=null,c!==null&&(R=d.deletions,R===null?(d.deletions=[c],d.flags|=16):R.push(c)),d.child=m,d.memoizedState=null,m)}function o5(c,d){return d=cE({mode:"visible",children:d},c.mode),d.return=c,c.child=d}function cE(c,d){return c=Ia(22,c,null,d),c.lanes=0,c}function a5(c,d,m){return Pg(d,c.child,null,m),c=o5(d,d.pendingProps.children),c.flags|=2,d.memoizedState=null,c}function QH(c,d,m){c.lanes|=d;var b=c.alternate;b!==null&&(b.lanes|=d),xR(c.return,d,m)}function l5(c,d,m,b,$,k){var R=c.memoizedState;R===null?c.memoizedState={isBackwards:d,rendering:null,renderingStartTime:0,last:b,tail:m,tailMode:$,treeForkCount:k}:(R.isBackwards=d,R.rendering=null,R.renderingStartTime=0,R.last=b,R.tail=m,R.tailMode=$,R.treeForkCount=k)}function eq(c,d,m){var b=d.pendingProps,$=b.revealOrder,k=b.tail;b=b.children;var R=rn.current,U=(R&2)!==0;if(U?(R=R&1|2,d.flags|=128):R&=1,Pe(rn,R),bs(c,d,b,m),b=mi?ax:0,!U&&c!==null&&(c.flags&128)!==0)e:for(c=d.child;c!==null;){if(c.tag===13)c.memoizedState!==null&&QH(c,m,d);else if(c.tag===19)QH(c,m,d);else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===d)break e;for(;c.sibling===null;){if(c.return===null||c.return===d)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}switch($){case"forwards":for(m=d.child,$=null;m!==null;)c=m.alternate,c!==null&&Xk(c)===null&&($=m),m=m.sibling;m=$,m===null?($=d.child,d.child=null):($=m.sibling,m.sibling=null),l5(d,!1,$,m,k,b);break;case"backwards":case"unstable_legacy-backwards":for(m=null,$=d.child,d.child=null;$!==null;){if(c=$.alternate,c!==null&&Xk(c)===null){d.child=$;break}c=$.sibling,$.sibling=m,m=$,$=c}l5(d,!0,m,null,k,b);break;case"together":l5(d,!1,null,null,void 0,b);break;default:d.memoizedState=null}return d.child}function ah(c,d,m){if(c!==null&&(d.dependencies=c.dependencies),gf|=d.lanes,(m&d.childLanes)===0)if(c!==null){if(bb(c,d,m,!1),(m&d.childLanes)===0)return null}else return null;if(c!==null&&d.child!==c.child)throw Error(r(153));if(d.child!==null){for(c=d.child,m=th(c,c.pendingProps),d.child=m,m.return=d;c.sibling!==null;)c=c.sibling,m=m.sibling=th(c,c.pendingProps),m.return=d;m.sibling=null}return d.child}function c5(c,d){return(c.lanes&d)!==0?!0:(c=c.dependencies,!!(c!==null&&Bk(c)))}function dye(c,d,m){switch(d.tag){case 3:si(d,d.stateNode.containerInfo),lf(d,pn,c.memoizedState.cache),Eg();break;case 27:case 5:fo(d);break;case 4:si(d,d.stateNode.containerInfo);break;case 10:lf(d,d.type,d.memoizedProps.value);break;case 31:if(d.memoizedState!==null)return d.flags|=128,DR(d),null;break;case 13:var b=d.memoizedState;if(b!==null)return b.dehydrated!==null?(hf(d),d.flags|=128,null):(m&d.child.childLanes)!==0?KH(c,d,m):(hf(d),c=ah(c,d,m),c!==null?c.sibling:null);hf(d);break;case 19:var $=(c.flags&128)!==0;if(b=(m&d.childLanes)!==0,b||(bb(c,d,m,!1),b=(m&d.childLanes)!==0),$){if(b)return eq(c,d,m);d.flags|=128}if($=d.memoizedState,$!==null&&($.rendering=null,$.tail=null,$.lastEffect=null),Pe(rn,rn.current),b)break;return null;case 22:return d.lanes=0,GH(c,d,m,d.pendingProps);case 24:lf(d,pn,c.memoizedState.cache)}return ah(c,d,m)}function tq(c,d,m){if(c!==null)if(c.memoizedProps!==d.pendingProps)mn=!0;else{if(!c5(c,m)&&(d.flags&128)===0)return mn=!1,dye(c,d,m);mn=(c.flags&131072)!==0}else mn=!1,mi&&(d.flags&1048576)!==0&&P7(d,ax,d.index);switch(d.lanes=0,d.tag){case 16:e:{var b=d.pendingProps;if(c=Ag(d.elementType),d.type=c,typeof c=="function")fR(c)?(b=Rg(c,b),d.tag=1,d=JH(null,d,c,b,m)):(d.tag=0,d=i5(null,d,c,b,m));else{if(c!=null){var $=c.$$typeof;if($===D){d.tag=11,d=BH(null,d,c,b,m);break e}else if($===N){d.tag=14,d=HH(null,d,c,b,m);break e}}throw d=G(c)||c,Error(r(306,d,""))}}return d;case 0:return i5(c,d,d.type,d.pendingProps,m);case 1:return b=d.type,$=Rg(b,d.pendingProps),JH(c,d,b,$,m);case 3:e:{if(si(d,d.stateNode.containerInfo),c===null)throw Error(r(387));b=d.pendingProps;var k=d.memoizedState;$=k.element,CR(c,d),mx(d,b,null,m);var R=d.memoizedState;if(b=R.cache,lf(d,pn,b),b!==k.cache&&SR(d,[pn],m,!0),fx(),b=R.element,k.isDehydrated)if(k={element:b,isDehydrated:!1,cache:R.cache},d.updateQueue.baseState=k,d.memoizedState=k,d.flags&256){d=XH(c,d,b,m);break e}else if(b!==$){$=El(Error(r(424)),d),lx($),d=XH(c,d,b,m);break e}else for(c=d.stateNode.containerInfo,c.nodeType===9?c=c.body:c=c.nodeName==="HTML"?c.ownerDocument.body:c,mr=Ol(c.firstChild),ys=d,mi=!0,of=null,Ml=!0,m=G7(d,null,b,m),d.child=m;m;)m.flags=m.flags&-3|4096,m=m.sibling;else{if(Eg(),b===$){d=ah(c,d,m);break e}bs(c,d,b,m)}d=d.child}return d;case 26:return lE(c,d),c===null?(m=hG(d.type,null,d.pendingProps,null))?d.memoizedState=m:mi||(m=d.type,c=d.pendingProps,b=$E(lt.current).createElement(m),b[Fi]=d,b[sr]=c,ws(b,m,c),Ir(b),d.stateNode=b):d.memoizedState=hG(d.type,c.memoizedProps,d.pendingProps,c.memoizedState),null;case 27:return fo(d),c===null&&mi&&(b=d.stateNode=cG(d.type,d.pendingProps,lt.current),ys=d,Ml=!0,$=mr,_f(d.type)?(U5=$,mr=Ol(b.firstChild)):mr=$),bs(c,d,d.pendingProps.children,m),lE(c,d),c===null&&(d.flags|=4194304),d.child;case 5:return c===null&&mi&&(($=b=mr)&&(b=Vye(b,d.type,d.pendingProps,Ml),b!==null?(d.stateNode=b,ys=d,mr=Ol(b.firstChild),Ml=!1,$=!0):$=!1),$||af(d)),fo(d),$=d.type,k=d.pendingProps,R=c!==null?c.memoizedProps:null,b=k.children,z5($,k)?b=null:R!==null&&z5($,R)&&(d.flags|=32),d.memoizedState!==null&&($=LR(c,d,iye,null,null,m),Rx._currentValue=$),lE(c,d),bs(c,d,b,m),d.child;case 6:return c===null&&mi&&((c=m=mr)&&(m=Uye(m,d.pendingProps,Ml),m!==null?(d.stateNode=m,ys=d,mr=null,c=!0):c=!1),c||af(d)),null;case 13:return KH(c,d,m);case 4:return si(d,d.stateNode.containerInfo),b=d.pendingProps,c===null?d.child=Pg(d,null,b,m):bs(c,d,b,m),d.child;case 11:return BH(c,d,d.type,d.pendingProps,m);case 7:return bs(c,d,d.pendingProps,m),d.child;case 8:return bs(c,d,d.pendingProps.children,m),d.child;case 12:return bs(c,d,d.pendingProps.children,m),d.child;case 10:return b=d.pendingProps,lf(d,d.type,b.value),bs(c,d,b.children,m),d.child;case 9:return $=d.type._context,b=d.pendingProps.children,Cg(d),$=vs($),b=b($),d.flags|=1,bs(c,d,b,m),d.child;case 14:return HH(c,d,d.type,d.pendingProps,m);case 15:return qH(c,d,d.type,d.pendingProps,m);case 19:return eq(c,d,m);case 31:return uye(c,d,m);case 22:return GH(c,d,m,d.pendingProps);case 24:return Cg(d),b=vs(pn),c===null?($=kR(),$===null&&($=Qi,k=TR(),$.pooledCache=k,k.refCount++,k!==null&&($.pooledCacheLanes|=m),$=k),d.memoizedState={parent:b,cache:$},IR(d),lf(d,pn,$)):((c.lanes&m)!==0&&(CR(c,d),mx(d,null,null,m),fx()),$=c.memoizedState,k=d.memoizedState,$.parent!==b?($={parent:b,cache:b},d.memoizedState=$,d.lanes===0&&(d.memoizedState=d.updateQueue.baseState=$),lf(d,pn,b)):(b=k.cache,lf(d,pn,b),b!==$.cache&&SR(d,[pn],m,!0))),bs(c,d,d.pendingProps.children,m),d.child;case 29:throw d.pendingProps}throw Error(r(156,d.tag))}function lh(c){c.flags|=4}function u5(c,d,m,b,$){if((d=(c.mode&32)!==0)&&(d=!1),d){if(c.flags|=16777216,($&335544128)===$)if(c.stateNode.complete)c.flags|=8192;else if(Iq())c.flags|=8192;else throw Og=Wk,ER}else c.flags&=-16777217}function iq(c,d){if(d.type!=="stylesheet"||(d.state.loading&4)!==0)c.flags&=-16777217;else if(c.flags|=16777216,!yG(d))if(Iq())c.flags|=8192;else throw Og=Wk,ER}function uE(c,d){d!==null&&(c.flags|=4),c.flags&16384&&(d=c.tag!==22?Se():536870912,c.lanes|=d,Ab|=d)}function _x(c,d){if(!mi)switch(c.tailMode){case"hidden":d=c.tail;for(var m=null;d!==null;)d.alternate!==null&&(m=d),d=d.sibling;m===null?c.tail=null:m.sibling=null;break;case"collapsed":m=c.tail;for(var b=null;m!==null;)m.alternate!==null&&(b=m),m=m.sibling;b===null?d||c.tail===null?c.tail=null:c.tail.sibling=null:b.sibling=null}}function gr(c){var d=c.alternate!==null&&c.alternate.child===c.child,m=0,b=0;if(d)for(var $=c.child;$!==null;)m|=$.lanes|$.childLanes,b|=$.subtreeFlags&65011712,b|=$.flags&65011712,$.return=c,$=$.sibling;else for($=c.child;$!==null;)m|=$.lanes|$.childLanes,b|=$.subtreeFlags,b|=$.flags,$.return=c,$=$.sibling;return c.subtreeFlags|=b,c.childLanes=m,d}function hye(c,d,m){var b=d.pendingProps;switch(vR(d),d.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return gr(d),null;case 1:return gr(d),null;case 3:return m=d.stateNode,b=null,c!==null&&(b=c.memoizedState.cache),d.memoizedState.cache!==b&&(d.flags|=2048),nh(pn),qe(),m.pendingContext&&(m.context=m.pendingContext,m.pendingContext=null),(c===null||c.child===null)&&(vb(d)?lh(d):c===null||c.memoizedState.isDehydrated&&(d.flags&256)===0||(d.flags|=1024,wR())),gr(d),null;case 26:var $=d.type,k=d.memoizedState;return c===null?(lh(d),k!==null?(gr(d),iq(d,k)):(gr(d),u5(d,$,null,b,m))):k?k!==c.memoizedState?(lh(d),gr(d),iq(d,k)):(gr(d),d.flags&=-16777217):(c=c.memoizedProps,c!==b&&lh(d),gr(d),u5(d,$,c,b,m)),null;case 27:if(qn(d),m=lt.current,$=d.type,c!==null&&d.stateNode!=null)c.memoizedProps!==b&&lh(d);else{if(!b){if(d.stateNode===null)throw Error(r(166));return gr(d),null}c=Be.current,vb(d)?R7(d):(c=cG($,b,m),d.stateNode=c,lh(d))}return gr(d),null;case 5:if(qn(d),$=d.type,c!==null&&d.stateNode!=null)c.memoizedProps!==b&&lh(d);else{if(!b){if(d.stateNode===null)throw Error(r(166));return gr(d),null}if(k=Be.current,vb(d))R7(d);else{var R=$E(lt.current);switch(k){case 1:k=R.createElementNS("http://www.w3.org/2000/svg",$);break;case 2:k=R.createElementNS("http://www.w3.org/1998/Math/MathML",$);break;default:switch($){case"svg":k=R.createElementNS("http://www.w3.org/2000/svg",$);break;case"math":k=R.createElementNS("http://www.w3.org/1998/Math/MathML",$);break;case"script":k=R.createElement("div"),k.innerHTML="<script><\/script>",k=k.removeChild(k.firstChild);break;case"select":k=typeof b.is=="string"?R.createElement("select",{is:b.is}):R.createElement("select"),b.multiple?k.multiple=!0:b.size&&(k.size=b.size);break;default:k=typeof b.is=="string"?R.createElement($,{is:b.is}):R.createElement($)}}k[Fi]=d,k[sr]=b;e:for(R=d.child;R!==null;){if(R.tag===5||R.tag===6)k.appendChild(R.stateNode);else if(R.tag!==4&&R.tag!==27&&R.child!==null){R.child.return=R,R=R.child;continue}if(R===d)break e;for(;R.sibling===null;){if(R.return===null||R.return===d)break e;R=R.return}R.sibling.return=R.return,R=R.sibling}d.stateNode=k;e:switch(ws(k,$,b),$){case"button":case"input":case"select":case"textarea":b=!!b.autoFocus;break e;case"img":b=!0;break e;default:b=!1}b&&lh(d)}}return gr(d),u5(d,d.type,c===null?null:c.memoizedProps,d.pendingProps,m),null;case 6:if(c&&d.stateNode!=null)c.memoizedProps!==b&&lh(d);else{if(typeof b!="string"&&d.stateNode===null)throw Error(r(166));if(c=lt.current,vb(d)){if(c=d.stateNode,m=d.memoizedProps,b=null,$=ys,$!==null)switch($.tag){case 27:case 5:b=$.memoizedProps}c[Fi]=d,c=!!(c.nodeValue===m||b!==null&&b.suppressHydrationWarning===!0||Kq(c.nodeValue,m)),c||af(d,!0)}else c=$E(c).createTextNode(b),c[Fi]=d,d.stateNode=c}return gr(d),null;case 31:if(m=d.memoizedState,c===null||c.memoizedState!==null){if(b=vb(d),m!==null){if(c===null){if(!b)throw Error(r(318));if(c=d.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(r(557));c[Fi]=d}else Eg(),(d.flags&128)===0&&(d.memoizedState=null),d.flags|=4;gr(d),c=!1}else m=wR(),c!==null&&c.memoizedState!==null&&(c.memoizedState.hydrationErrors=m),c=!0;if(!c)return d.flags&256?(Ma(d),d):(Ma(d),null);if((d.flags&128)!==0)throw Error(r(558))}return gr(d),null;case 13:if(b=d.memoizedState,c===null||c.memoizedState!==null&&c.memoizedState.dehydrated!==null){if($=vb(d),b!==null&&b.dehydrated!==null){if(c===null){if(!$)throw Error(r(318));if($=d.memoizedState,$=$!==null?$.dehydrated:null,!$)throw Error(r(317));$[Fi]=d}else Eg(),(d.flags&128)===0&&(d.memoizedState=null),d.flags|=4;gr(d),$=!1}else $=wR(),c!==null&&c.memoizedState!==null&&(c.memoizedState.hydrationErrors=$),$=!0;if(!$)return d.flags&256?(Ma(d),d):(Ma(d),null)}return Ma(d),(d.flags&128)!==0?(d.lanes=m,d):(m=b!==null,c=c!==null&&c.memoizedState!==null,m&&(b=d.child,$=null,b.alternate!==null&&b.alternate.memoizedState!==null&&b.alternate.memoizedState.cachePool!==null&&($=b.alternate.memoizedState.cachePool.pool),k=null,b.memoizedState!==null&&b.memoizedState.cachePool!==null&&(k=b.memoizedState.cachePool.pool),k!==$&&(b.flags|=2048)),m!==c&&m&&(d.child.flags|=8192),uE(d,d.updateQueue),gr(d),null);case 4:return qe(),c===null&&O5(d.stateNode.containerInfo),gr(d),null;case 10:return nh(d.type),gr(d),null;case 19:if(fe(rn),b=d.memoizedState,b===null)return gr(d),null;if($=(d.flags&128)!==0,k=b.rendering,k===null)if($)_x(b,!1);else{if(Fr!==0||c!==null&&(c.flags&128)!==0)for(c=d.child;c!==null;){if(k=Xk(c),k!==null){for(d.flags|=128,_x(b,!1),c=k.updateQueue,d.updateQueue=c,uE(d,c),d.subtreeFlags=0,c=m,m=d.child;m!==null;)M7(m,c),m=m.sibling;return Pe(rn,rn.current&1|2),mi&&ih(d,b.treeForkCount),d.child}c=c.sibling}b.tail!==null&&hn()>mE&&(d.flags|=128,$=!0,_x(b,!1),d.lanes=4194304)}else{if(!$)if(c=Xk(k),c!==null){if(d.flags|=128,$=!0,c=c.updateQueue,d.updateQueue=c,uE(d,c),_x(b,!0),b.tail===null&&b.tailMode==="hidden"&&!k.alternate&&!mi)return gr(d),null}else 2*hn()-b.renderingStartTime>mE&&m!==536870912&&(d.flags|=128,$=!0,_x(b,!1),d.lanes=4194304);b.isBackwards?(k.sibling=d.child,d.child=k):(c=b.last,c!==null?c.sibling=k:d.child=k,b.last=k)}return b.tail!==null?(c=b.tail,b.rendering=c,b.tail=c.sibling,b.renderingStartTime=hn(),c.sibling=null,m=rn.current,Pe(rn,$?m&1|2:m&1),mi&&ih(d,b.treeForkCount),c):(gr(d),null);case 22:case 23:return Ma(d),PR(),b=d.memoizedState!==null,c!==null?c.memoizedState!==null!==b&&(d.flags|=8192):b&&(d.flags|=8192),b?(m&536870912)!==0&&(d.flags&128)===0&&(gr(d),d.subtreeFlags&6&&(d.flags|=8192)):gr(d),m=d.updateQueue,m!==null&&uE(d,m.retryQueue),m=null,c!==null&&c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(m=c.memoizedState.cachePool.pool),b=null,d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(b=d.memoizedState.cachePool.pool),b!==m&&(d.flags|=2048),c!==null&&fe(Mg),null;case 24:return m=null,c!==null&&(m=c.memoizedState.cache),d.memoizedState.cache!==m&&(d.flags|=2048),nh(pn),gr(d),null;case 25:return null;case 30:return null}throw Error(r(156,d.tag))}function pye(c,d){switch(vR(d),d.tag){case 1:return c=d.flags,c&65536?(d.flags=c&-65537|128,d):null;case 3:return nh(pn),qe(),c=d.flags,(c&65536)!==0&&(c&128)===0?(d.flags=c&-65537|128,d):null;case 26:case 27:case 5:return qn(d),null;case 31:if(d.memoizedState!==null){if(Ma(d),d.alternate===null)throw Error(r(340));Eg()}return c=d.flags,c&65536?(d.flags=c&-65537|128,d):null;case 13:if(Ma(d),c=d.memoizedState,c!==null&&c.dehydrated!==null){if(d.alternate===null)throw Error(r(340));Eg()}return c=d.flags,c&65536?(d.flags=c&-65537|128,d):null;case 19:return fe(rn),null;case 4:return qe(),null;case 10:return nh(d.type),null;case 22:case 23:return Ma(d),PR(),c!==null&&fe(Mg),c=d.flags,c&65536?(d.flags=c&-65537|128,d):null;case 24:return nh(pn),null;case 25:return null;default:return null}}function rq(c,d){switch(vR(d),d.tag){case 3:nh(pn),qe();break;case 26:case 27:case 5:qn(d);break;case 4:qe();break;case 31:d.memoizedState!==null&&Ma(d);break;case 13:Ma(d);break;case 19:fe(rn);break;case 10:nh(d.type);break;case 22:case 23:Ma(d),PR(),c!==null&&fe(Mg);break;case 24:nh(pn)}}function xx(c,d){try{var m=d.updateQueue,b=m!==null?m.lastEffect:null;if(b!==null){var $=b.next;m=$;do{if((m.tag&c)===c){b=void 0;var k=m.create,R=m.inst;b=k(),R.destroy=b}m=m.next}while(m!==$)}}catch(U){Bi(d,d.return,U)}}function ff(c,d,m){try{var b=d.updateQueue,$=b!==null?b.lastEffect:null;if($!==null){var k=$.next;b=k;do{if((b.tag&c)===c){var R=b.inst,U=R.destroy;if(U!==void 0){R.destroy=void 0,$=d;var Q=m,_e=U;try{_e()}catch(Ie){Bi($,Q,Ie)}}}b=b.next}while(b!==k)}}catch(Ie){Bi(d,d.return,Ie)}}function nq(c){var d=c.updateQueue;if(d!==null){var m=c.stateNode;try{Y7(d,m)}catch(b){Bi(c,c.return,b)}}}function sq(c,d,m){m.props=Rg(c.type,c.memoizedProps),m.state=c.memoizedState;try{m.componentWillUnmount()}catch(b){Bi(c,d,b)}}function Sx(c,d){try{var m=c.ref;if(m!==null){switch(c.tag){case 26:case 27:case 5:var b=c.stateNode;break;case 30:b=c.stateNode;break;default:b=c.stateNode}typeof m=="function"?c.refCleanup=m(b):m.current=b}}catch($){Bi(c,d,$)}}function Fu(c,d){var m=c.ref,b=c.refCleanup;if(m!==null)if(typeof b=="function")try{b()}catch($){Bi(c,d,$)}finally{c.refCleanup=null,c=c.alternate,c!=null&&(c.refCleanup=null)}else if(typeof m=="function")try{m(null)}catch($){Bi(c,d,$)}else m.current=null}function oq(c){var d=c.type,m=c.memoizedProps,b=c.stateNode;try{e:switch(d){case"button":case"input":case"select":case"textarea":m.autoFocus&&b.focus();break e;case"img":m.src?b.src=m.src:m.srcSet&&(b.srcset=m.srcSet)}}catch($){Bi(c,c.return,$)}}function d5(c,d,m){try{var b=c.stateNode;Rye(b,c.type,m,d),b[sr]=d}catch($){Bi(c,c.return,$)}}function aq(c){return c.tag===5||c.tag===3||c.tag===26||c.tag===27&&_f(c.type)||c.tag===4}function h5(c){e:for(;;){for(;c.sibling===null;){if(c.return===null||aq(c.return))return null;c=c.return}for(c.sibling.return=c.return,c=c.sibling;c.tag!==5&&c.tag!==6&&c.tag!==18;){if(c.tag===27&&_f(c.type)||c.flags&2||c.child===null||c.tag===4)continue e;c.child.return=c,c=c.child}if(!(c.flags&2))return c.stateNode}}function p5(c,d,m){var b=c.tag;if(b===5||b===6)c=c.stateNode,d?(m.nodeType===9?m.body:m.nodeName==="HTML"?m.ownerDocument.body:m).insertBefore(c,d):(d=m.nodeType===9?m.body:m.nodeName==="HTML"?m.ownerDocument.body:m,d.appendChild(c),m=m._reactRootContainer,m!=null||d.onclick!==null||(d.onclick=xc));else if(b!==4&&(b===27&&_f(c.type)&&(m=c.stateNode,d=null),c=c.child,c!==null))for(p5(c,d,m),c=c.sibling;c!==null;)p5(c,d,m),c=c.sibling}function dE(c,d,m){var b=c.tag;if(b===5||b===6)c=c.stateNode,d?m.insertBefore(c,d):m.appendChild(c);else if(b!==4&&(b===27&&_f(c.type)&&(m=c.stateNode),c=c.child,c!==null))for(dE(c,d,m),c=c.sibling;c!==null;)dE(c,d,m),c=c.sibling}function lq(c){var d=c.stateNode,m=c.memoizedProps;try{for(var b=c.type,$=d.attributes;$.length;)d.removeAttributeNode($[0]);ws(d,b,m),d[Fi]=c,d[sr]=m}catch(k){Bi(c,c.return,k)}}var ch=!1,gn=!1,f5=!1,cq=typeof WeakSet=="function"?WeakSet:Set,Xn=null;function fye(c,d){if(c=c.containerInfo,R5=OE,c=He(c),st(c)){if("selectionStart"in c)var m={start:c.selectionStart,end:c.selectionEnd};else e:{m=(m=c.ownerDocument)&&m.defaultView||window;var b=m.getSelection&&m.getSelection();if(b&&b.rangeCount!==0){m=b.anchorNode;var $=b.anchorOffset,k=b.focusNode;b=b.focusOffset;try{m.nodeType,k.nodeType}catch{m=null;break e}var R=0,U=-1,Q=-1,_e=0,Ie=0,De=c,xe=null;t:for(;;){for(var Te;De!==m||$!==0&&De.nodeType!==3||(U=R+$),De!==k||b!==0&&De.nodeType!==3||(Q=R+b),De.nodeType===3&&(R+=De.nodeValue.length),(Te=De.firstChild)!==null;)xe=De,De=Te;for(;;){if(De===c)break t;if(xe===m&&++_e===$&&(U=R),xe===k&&++Ie===b&&(Q=R),(Te=De.nextSibling)!==null)break;De=xe,xe=De.parentNode}De=Te}m=U===-1||Q===-1?null:{start:U,end:Q}}else m=null}m=m||{start:0,end:0}}else m=null;for(L5={focusedElem:c,selectionRange:m},OE=!1,Xn=d;Xn!==null;)if(d=Xn,c=d.child,(d.subtreeFlags&1028)!==0&&c!==null)c.return=d,Xn=c;else for(;Xn!==null;){switch(d=Xn,k=d.alternate,c=d.flags,d.tag){case 0:if((c&4)!==0&&(c=d.updateQueue,c=c!==null?c.events:null,c!==null))for(m=0;m<c.length;m++)$=c[m],$.ref.impl=$.nextImpl;break;case 11:case 15:break;case 1:if((c&1024)!==0&&k!==null){c=void 0,m=d,$=k.memoizedProps,k=k.memoizedState,b=m.stateNode;try{var ht=Rg(m.type,$);c=b.getSnapshotBeforeUpdate(ht,k),b.__reactInternalSnapshotBeforeUpdate=c}catch(Pt){Bi(m,m.return,Pt)}}break;case 3:if((c&1024)!==0){if(c=d.stateNode.containerInfo,m=c.nodeType,m===9)j5(c);else if(m===1)switch(c.nodeName){case"HEAD":case"HTML":case"BODY":j5(c);break;default:c.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((c&1024)!==0)throw Error(r(163))}if(c=d.sibling,c!==null){c.return=d.return,Xn=c;break}Xn=d.return}}function uq(c,d,m){var b=m.flags;switch(m.tag){case 0:case 11:case 15:dh(c,m),b&4&&xx(5,m);break;case 1:if(dh(c,m),b&4)if(c=m.stateNode,d===null)try{c.componentDidMount()}catch(R){Bi(m,m.return,R)}else{var $=Rg(m.type,d.memoizedProps);d=d.memoizedState;try{c.componentDidUpdate($,d,c.__reactInternalSnapshotBeforeUpdate)}catch(R){Bi(m,m.return,R)}}b&64&&nq(m),b&512&&Sx(m,m.return);break;case 3:if(dh(c,m),b&64&&(c=m.updateQueue,c!==null)){if(d=null,m.child!==null)switch(m.child.tag){case 27:case 5:d=m.child.stateNode;break;case 1:d=m.child.stateNode}try{Y7(c,d)}catch(R){Bi(m,m.return,R)}}break;case 27:d===null&&b&4&&lq(m);case 26:case 5:dh(c,m),d===null&&b&4&&oq(m),b&512&&Sx(m,m.return);break;case 12:dh(c,m);break;case 31:dh(c,m),b&4&&pq(c,m);break;case 13:dh(c,m),b&4&&fq(c,m),b&64&&(c=m.memoizedState,c!==null&&(c=c.dehydrated,c!==null&&(m=Sye.bind(null,m),Bye(c,m))));break;case 22:if(b=m.memoizedState!==null||ch,!b){d=d!==null&&d.memoizedState!==null||gn,$=ch;var k=gn;ch=b,(gn=d)&&!k?hh(c,m,(m.subtreeFlags&8772)!==0):dh(c,m),ch=$,gn=k}break;case 30:break;default:dh(c,m)}}function dq(c){var d=c.alternate;d!==null&&(c.alternate=null,dq(d)),c.child=null,c.deletions=null,c.sibling=null,c.tag===5&&(d=c.stateNode,d!==null&&yc(d)),c.stateNode=null,c.return=null,c.dependencies=null,c.memoizedProps=null,c.memoizedState=null,c.pendingProps=null,c.stateNode=null,c.updateQueue=null}var Sr=null,Fo=!1;function uh(c,d,m){for(m=m.child;m!==null;)hq(c,d,m),m=m.sibling}function hq(c,d,m){if(Gn&&typeof Gn.onCommitFiberUnmount=="function")try{Gn.onCommitFiberUnmount(Cu,m)}catch{}switch(m.tag){case 26:gn||Fu(m,d),uh(c,d,m),m.memoizedState?m.memoizedState.count--:m.stateNode&&(m=m.stateNode,m.parentNode.removeChild(m));break;case 27:gn||Fu(m,d);var b=Sr,$=Fo;_f(m.type)&&(Sr=m.stateNode,Fo=!1),uh(c,d,m),Ox(m.stateNode),Sr=b,Fo=$;break;case 5:gn||Fu(m,d);case 6:if(b=Sr,$=Fo,Sr=null,uh(c,d,m),Sr=b,Fo=$,Sr!==null)if(Fo)try{(Sr.nodeType===9?Sr.body:Sr.nodeName==="HTML"?Sr.ownerDocument.body:Sr).removeChild(m.stateNode)}catch(k){Bi(m,d,k)}else try{Sr.removeChild(m.stateNode)}catch(k){Bi(m,d,k)}break;case 18:Sr!==null&&(Fo?(c=Sr,nG(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,m.stateNode),jb(c)):nG(Sr,m.stateNode));break;case 4:b=Sr,$=Fo,Sr=m.stateNode.containerInfo,Fo=!0,uh(c,d,m),Sr=b,Fo=$;break;case 0:case 11:case 14:case 15:ff(2,m,d),gn||ff(4,m,d),uh(c,d,m);break;case 1:gn||(Fu(m,d),b=m.stateNode,typeof b.componentWillUnmount=="function"&&sq(m,d,b)),uh(c,d,m);break;case 21:uh(c,d,m);break;case 22:gn=(b=gn)||m.memoizedState!==null,uh(c,d,m),gn=b;break;default:uh(c,d,m)}}function pq(c,d){if(d.memoizedState===null&&(c=d.alternate,c!==null&&(c=c.memoizedState,c!==null))){c=c.dehydrated;try{jb(c)}catch(m){Bi(d,d.return,m)}}}function fq(c,d){if(d.memoizedState===null&&(c=d.alternate,c!==null&&(c=c.memoizedState,c!==null&&(c=c.dehydrated,c!==null))))try{jb(c)}catch(m){Bi(d,d.return,m)}}function mye(c){switch(c.tag){case 31:case 13:case 19:var d=c.stateNode;return d===null&&(d=c.stateNode=new cq),d;case 22:return c=c.stateNode,d=c._retryCache,d===null&&(d=c._retryCache=new cq),d;default:throw Error(r(435,c.tag))}}function hE(c,d){var m=mye(c);d.forEach(function(b){if(!m.has(b)){m.add(b);var $=Tye.bind(null,c,b);b.then($,$)}})}function Vo(c,d){var m=d.deletions;if(m!==null)for(var b=0;b<m.length;b++){var $=m[b],k=c,R=d,U=R;e:for(;U!==null;){switch(U.tag){case 27:if(_f(U.type)){Sr=U.stateNode,Fo=!1;break e}break;case 5:Sr=U.stateNode,Fo=!1;break e;case 3:case 4:Sr=U.stateNode.containerInfo,Fo=!0;break e}U=U.return}if(Sr===null)throw Error(r(160));hq(k,R,$),Sr=null,Fo=!1,k=$.alternate,k!==null&&(k.return=null),$.return=null}if(d.subtreeFlags&13886)for(d=d.child;d!==null;)mq(d,c),d=d.sibling}var kc=null;function mq(c,d){var m=c.alternate,b=c.flags;switch(c.tag){case 0:case 11:case 14:case 15:Vo(d,c),Uo(c),b&4&&(ff(3,c,c.return),xx(3,c),ff(5,c,c.return));break;case 1:Vo(d,c),Uo(c),b&512&&(gn||m===null||Fu(m,m.return)),b&64&&ch&&(c=c.updateQueue,c!==null&&(b=c.callbacks,b!==null&&(m=c.shared.hiddenCallbacks,c.shared.hiddenCallbacks=m===null?b:m.concat(b))));break;case 26:var $=kc;if(Vo(d,c),Uo(c),b&512&&(gn||m===null||Fu(m,m.return)),b&4){var k=m!==null?m.memoizedState:null;if(b=c.memoizedState,m===null)if(b===null)if(c.stateNode===null){e:{b=c.type,m=c.memoizedProps,$=$.ownerDocument||$;t:switch(b){case"title":k=$.getElementsByTagName("title")[0],(!k||k[Ea]||k[Fi]||k.namespaceURI==="http://www.w3.org/2000/svg"||k.hasAttribute("itemprop"))&&(k=$.createElement(b),$.head.insertBefore(k,$.querySelector("head > title"))),ws(k,b,m),k[Fi]=c,Ir(k),b=k;break e;case"link":var R=mG("link","href",$).get(b+(m.href||""));if(R){for(var U=0;U<R.length;U++)if(k=R[U],k.getAttribute("href")===(m.href==null||m.href===""?null:m.href)&&k.getAttribute("rel")===(m.rel==null?null:m.rel)&&k.getAttribute("title")===(m.title==null?null:m.title)&&k.getAttribute("crossorigin")===(m.crossOrigin==null?null:m.crossOrigin)){R.splice(U,1);break t}}k=$.createElement(b),ws(k,b,m),$.head.appendChild(k);break;case"meta":if(R=mG("meta","content",$).get(b+(m.content||""))){for(U=0;U<R.length;U++)if(k=R[U],k.getAttribute("content")===(m.content==null?null:""+m.content)&&k.getAttribute("name")===(m.name==null?null:m.name)&&k.getAttribute("property")===(m.property==null?null:m.property)&&k.getAttribute("http-equiv")===(m.httpEquiv==null?null:m.httpEquiv)&&k.getAttribute("charset")===(m.charSet==null?null:m.charSet)){R.splice(U,1);break t}}k=$.createElement(b),ws(k,b,m),$.head.appendChild(k);break;default:throw Error(r(468,b))}k[Fi]=c,Ir(k),b=k}c.stateNode=b}else gG($,c.type,c.stateNode);else c.stateNode=fG($,b,c.memoizedProps);else k!==b?(k===null?m.stateNode!==null&&(m=m.stateNode,m.parentNode.removeChild(m)):k.count--,b===null?gG($,c.type,c.stateNode):fG($,b,c.memoizedProps)):b===null&&c.stateNode!==null&&d5(c,c.memoizedProps,m.memoizedProps)}break;case 27:Vo(d,c),Uo(c),b&512&&(gn||m===null||Fu(m,m.return)),m!==null&&b&4&&d5(c,c.memoizedProps,m.memoizedProps);break;case 5:if(Vo(d,c),Uo(c),b&512&&(gn||m===null||Fu(m,m.return)),c.flags&32){$=c.stateNode;try{Ru($,"")}catch(ht){Bi(c,c.return,ht)}}b&4&&c.stateNode!=null&&($=c.memoizedProps,d5(c,$,m!==null?m.memoizedProps:$)),b&1024&&(f5=!0);break;case 6:if(Vo(d,c),Uo(c),b&4){if(c.stateNode===null)throw Error(r(162));b=c.memoizedProps,m=c.stateNode;try{m.nodeValue=b}catch(ht){Bi(c,c.return,ht)}}break;case 3:if(IE=null,$=kc,kc=kE(d.containerInfo),Vo(d,c),kc=$,Uo(c),b&4&&m!==null&&m.memoizedState.isDehydrated)try{jb(d.containerInfo)}catch(ht){Bi(c,c.return,ht)}f5&&(f5=!1,gq(c));break;case 4:b=kc,kc=kE(c.stateNode.containerInfo),Vo(d,c),Uo(c),kc=b;break;case 12:Vo(d,c),Uo(c);break;case 31:Vo(d,c),Uo(c),b&4&&(b=c.updateQueue,b!==null&&(c.updateQueue=null,hE(c,b)));break;case 13:Vo(d,c),Uo(c),c.child.flags&8192&&c.memoizedState!==null!=(m!==null&&m.memoizedState!==null)&&(fE=hn()),b&4&&(b=c.updateQueue,b!==null&&(c.updateQueue=null,hE(c,b)));break;case 22:$=c.memoizedState!==null;var Q=m!==null&&m.memoizedState!==null,_e=ch,Ie=gn;if(ch=_e||$,gn=Ie||Q,Vo(d,c),gn=Ie,ch=_e,Uo(c),b&8192)e:for(d=c.stateNode,d._visibility=$?d._visibility&-2:d._visibility|1,$&&(m===null||Q||ch||gn||Lg(c)),m=null,d=c;;){if(d.tag===5||d.tag===26){if(m===null){Q=m=d;try{if(k=Q.stateNode,$)R=k.style,typeof R.setProperty=="function"?R.setProperty("display","none","important"):R.display="none";else{U=Q.stateNode;var De=Q.memoizedProps.style,xe=De!=null&&De.hasOwnProperty("display")?De.display:null;U.style.display=xe==null||typeof xe=="boolean"?"":(""+xe).trim()}}catch(ht){Bi(Q,Q.return,ht)}}}else if(d.tag===6){if(m===null){Q=d;try{Q.stateNode.nodeValue=$?"":Q.memoizedProps}catch(ht){Bi(Q,Q.return,ht)}}}else if(d.tag===18){if(m===null){Q=d;try{var Te=Q.stateNode;$?sG(Te,!0):sG(Q.stateNode,!1)}catch(ht){Bi(Q,Q.return,ht)}}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===c)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===c)break e;for(;d.sibling===null;){if(d.return===null||d.return===c)break e;m===d&&(m=null),d=d.return}m===d&&(m=null),d.sibling.return=d.return,d=d.sibling}b&4&&(b=c.updateQueue,b!==null&&(m=b.retryQueue,m!==null&&(b.retryQueue=null,hE(c,m))));break;case 19:Vo(d,c),Uo(c),b&4&&(b=c.updateQueue,b!==null&&(c.updateQueue=null,hE(c,b)));break;case 30:break;case 21:break;default:Vo(d,c),Uo(c)}}function Uo(c){var d=c.flags;if(d&2){try{for(var m,b=c.return;b!==null;){if(aq(b)){m=b;break}b=b.return}if(m==null)throw Error(r(160));switch(m.tag){case 27:var $=m.stateNode,k=h5(c);dE(c,k,$);break;case 5:var R=m.stateNode;m.flags&32&&(Ru(R,""),m.flags&=-33);var U=h5(c);dE(c,U,R);break;case 3:case 4:var Q=m.stateNode.containerInfo,_e=h5(c);p5(c,_e,Q);break;default:throw Error(r(161))}}catch(Ie){Bi(c,c.return,Ie)}c.flags&=-3}d&4096&&(c.flags&=-4097)}function gq(c){if(c.subtreeFlags&1024)for(c=c.child;c!==null;){var d=c;gq(d),d.tag===5&&d.flags&1024&&d.stateNode.reset(),c=c.sibling}}function dh(c,d){if(d.subtreeFlags&8772)for(d=d.child;d!==null;)uq(c,d.alternate,d),d=d.sibling}function Lg(c){for(c=c.child;c!==null;){var d=c;switch(d.tag){case 0:case 11:case 14:case 15:ff(4,d,d.return),Lg(d);break;case 1:Fu(d,d.return);var m=d.stateNode;typeof m.componentWillUnmount=="function"&&sq(d,d.return,m),Lg(d);break;case 27:Ox(d.stateNode);case 26:case 5:Fu(d,d.return),Lg(d);break;case 22:d.memoizedState===null&&Lg(d);break;case 30:Lg(d);break;default:Lg(d)}c=c.sibling}}function hh(c,d,m){for(m=m&&(d.subtreeFlags&8772)!==0,d=d.child;d!==null;){var b=d.alternate,$=c,k=d,R=k.flags;switch(k.tag){case 0:case 11:case 15:hh($,k,m),xx(4,k);break;case 1:if(hh($,k,m),b=k,$=b.stateNode,typeof $.componentDidMount=="function")try{$.componentDidMount()}catch(_e){Bi(b,b.return,_e)}if(b=k,$=b.updateQueue,$!==null){var U=b.stateNode;try{var Q=$.shared.hiddenCallbacks;if(Q!==null)for($.shared.hiddenCallbacks=null,$=0;$<Q.length;$++)W7(Q[$],U)}catch(_e){Bi(b,b.return,_e)}}m&&R&64&&nq(k),Sx(k,k.return);break;case 27:lq(k);case 26:case 5:hh($,k,m),m&&b===null&&R&4&&oq(k),Sx(k,k.return);break;case 12:hh($,k,m);break;case 31:hh($,k,m),m&&R&4&&pq($,k);break;case 13:hh($,k,m),m&&R&4&&fq($,k);break;case 22:k.memoizedState===null&&hh($,k,m),Sx(k,k.return);break;case 30:break;default:hh($,k,m)}d=d.sibling}}function m5(c,d){var m=null;c!==null&&c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(m=c.memoizedState.cachePool.pool),c=null,d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(c=d.memoizedState.cachePool.pool),c!==m&&(c!=null&&c.refCount++,m!=null&&cx(m))}function g5(c,d){c=null,d.alternate!==null&&(c=d.alternate.memoizedState.cache),d=d.memoizedState.cache,d!==c&&(d.refCount++,c!=null&&cx(c))}function Ec(c,d,m,b){if(d.subtreeFlags&10256)for(d=d.child;d!==null;)yq(c,d,m,b),d=d.sibling}function yq(c,d,m,b){var $=d.flags;switch(d.tag){case 0:case 11:case 15:Ec(c,d,m,b),$&2048&&xx(9,d);break;case 1:Ec(c,d,m,b);break;case 3:Ec(c,d,m,b),$&2048&&(c=null,d.alternate!==null&&(c=d.alternate.memoizedState.cache),d=d.memoizedState.cache,d!==c&&(d.refCount++,c!=null&&cx(c)));break;case 12:if($&2048){Ec(c,d,m,b),c=d.stateNode;try{var k=d.memoizedProps,R=k.id,U=k.onPostCommit;typeof U=="function"&&U(R,d.alternate===null?"mount":"update",c.passiveEffectDuration,-0)}catch(Q){Bi(d,d.return,Q)}}else Ec(c,d,m,b);break;case 31:Ec(c,d,m,b);break;case 13:Ec(c,d,m,b);break;case 23:break;case 22:k=d.stateNode,R=d.alternate,d.memoizedState!==null?k._visibility&2?Ec(c,d,m,b):Tx(c,d):k._visibility&2?Ec(c,d,m,b):(k._visibility|=2,Ib(c,d,m,b,(d.subtreeFlags&10256)!==0||!1)),$&2048&&m5(R,d);break;case 24:Ec(c,d,m,b),$&2048&&g5(d.alternate,d);break;default:Ec(c,d,m,b)}}function Ib(c,d,m,b,$){for($=$&&((d.subtreeFlags&10256)!==0||!1),d=d.child;d!==null;){var k=c,R=d,U=m,Q=b,_e=R.flags;switch(R.tag){case 0:case 11:case 15:Ib(k,R,U,Q,$),xx(8,R);break;case 23:break;case 22:var Ie=R.stateNode;R.memoizedState!==null?Ie._visibility&2?Ib(k,R,U,Q,$):Tx(k,R):(Ie._visibility|=2,Ib(k,R,U,Q,$)),$&&_e&2048&&m5(R.alternate,R);break;case 24:Ib(k,R,U,Q,$),$&&_e&2048&&g5(R.alternate,R);break;default:Ib(k,R,U,Q,$)}d=d.sibling}}function Tx(c,d){if(d.subtreeFlags&10256)for(d=d.child;d!==null;){var m=c,b=d,$=b.flags;switch(b.tag){case 22:Tx(m,b),$&2048&&m5(b.alternate,b);break;case 24:Tx(m,b),$&2048&&g5(b.alternate,b);break;default:Tx(m,b)}d=d.sibling}}var $x=8192;function Cb(c,d,m){if(c.subtreeFlags&$x)for(c=c.child;c!==null;)vq(c,d,m),c=c.sibling}function vq(c,d,m){switch(c.tag){case 26:Cb(c,d,m),c.flags&$x&&c.memoizedState!==null&&tve(m,kc,c.memoizedState,c.memoizedProps);break;case 5:Cb(c,d,m);break;case 3:case 4:var b=kc;kc=kE(c.stateNode.containerInfo),Cb(c,d,m),kc=b;break;case 22:c.memoizedState===null&&(b=c.alternate,b!==null&&b.memoizedState!==null?(b=$x,$x=16777216,Cb(c,d,m),$x=b):Cb(c,d,m));break;default:Cb(c,d,m)}}function bq(c){var d=c.alternate;if(d!==null&&(c=d.child,c!==null)){d.child=null;do d=c.sibling,c.sibling=null,c=d;while(c!==null)}}function kx(c){var d=c.deletions;if((c.flags&16)!==0){if(d!==null)for(var m=0;m<d.length;m++){var b=d[m];Xn=b,_q(b,c)}bq(c)}if(c.subtreeFlags&10256)for(c=c.child;c!==null;)wq(c),c=c.sibling}function wq(c){switch(c.tag){case 0:case 11:case 15:kx(c),c.flags&2048&&ff(9,c,c.return);break;case 3:kx(c);break;case 12:kx(c);break;case 22:var d=c.stateNode;c.memoizedState!==null&&d._visibility&2&&(c.return===null||c.return.tag!==13)?(d._visibility&=-3,pE(c)):kx(c);break;default:kx(c)}}function pE(c){var d=c.deletions;if((c.flags&16)!==0){if(d!==null)for(var m=0;m<d.length;m++){var b=d[m];Xn=b,_q(b,c)}bq(c)}for(c=c.child;c!==null;){switch(d=c,d.tag){case 0:case 11:case 15:ff(8,d,d.return),pE(d);break;case 22:m=d.stateNode,m._visibility&2&&(m._visibility&=-3,pE(d));break;default:pE(d)}c=c.sibling}}function _q(c,d){for(;Xn!==null;){var m=Xn;switch(m.tag){case 0:case 11:case 15:ff(8,m,d);break;case 23:case 22:if(m.memoizedState!==null&&m.memoizedState.cachePool!==null){var b=m.memoizedState.cachePool.pool;b!=null&&b.refCount++}break;case 24:cx(m.memoizedState.cache)}if(b=m.child,b!==null)b.return=m,Xn=b;else e:for(m=c;Xn!==null;){b=Xn;var $=b.sibling,k=b.return;if(dq(b),b===m){Xn=null;break e}if($!==null){$.return=k,Xn=$;break e}Xn=k}}}var gye={getCacheForType:function(c){var d=vs(pn),m=d.data.get(c);return m===void 0&&(m=c(),d.data.set(c,m)),m},cacheSignal:function(){return vs(pn).controller.signal}},yye=typeof WeakMap=="function"?WeakMap:Map,Ii=0,Qi=null,ai=null,di=0,Ui=0,Aa=null,mf=!1,Mb=!1,y5=!1,ph=0,Fr=0,gf=0,zg=0,v5=0,Oa=0,Ab=0,Ex=null,Bo=null,b5=!1,fE=0,xq=0,mE=1/0,gE=null,yf=null,In=0,vf=null,Ob=null,fh=0,w5=0,_5=null,Sq=null,Ix=0,x5=null;function Pa(){return(Ii&2)!==0&&di!==0?di&-di:J.T!==null?I5():ki()}function Tq(){if(Oa===0)if((di&536870912)===0||mi){var c=Gd;Gd<<=1,(Gd&3932160)===0&&(Gd=262144),Oa=c}else Oa=536870912;return c=Ca.current,c!==null&&(c.flags|=32),Oa}function Ho(c,d,m){(c===Qi&&(Ui===2||Ui===9)||c.cancelPendingCommit!==null)&&(Pb(c,0),bf(c,di,Oa,!1)),js(c,m),((Ii&2)===0||c!==Qi)&&(c===Qi&&((Ii&2)===0&&(zg|=m),Fr===4&&bf(c,di,Oa,!1)),Vu(c))}function $q(c,d,m){if((Ii&6)!==0)throw Error(r(327));var b=!m&&(d&127)===0&&(d&c.expiredLanes)===0||mc(c,d),$=b?wye(c,d):T5(c,d,!0),k=b;do{if($===0){Mb&&!b&&bf(c,d,0,!1);break}else{if(m=c.current.alternate,k&&!vye(m)){$=T5(c,d,!1),k=!1;continue}if($===2){if(k=d,c.errorRecoveryDisabledLanes&k)var R=0;else R=c.pendingLanes&-536870913,R=R!==0?R:R&536870912?536870912:0;if(R!==0){d=R;e:{var U=c;$=Ex;var Q=U.current.memoizedState.isDehydrated;if(Q&&(Pb(U,R).flags|=256),R=T5(U,R,!1),R!==2){if(y5&&!Q){U.errorRecoveryDisabledLanes|=k,zg|=k,$=4;break e}k=Bo,Bo=$,k!==null&&(Bo===null?Bo=k:Bo.push.apply(Bo,k))}$=R}if(k=!1,$!==2)continue}}if($===1){Pb(c,0),bf(c,d,0,!0);break}e:{switch(b=c,k=$,k){case 0:case 1:throw Error(r(345));case 4:if((d&4194048)!==d)break;case 6:bf(b,d,Oa,!mf);break e;case 2:Bo=null;break;case 3:case 5:break;default:throw Error(r(329))}if((d&62914560)===d&&($=fE+300-hn(),10<$)){if(bf(b,d,Oa,!mf),Au(b,0,!0)!==0)break e;fh=d,b.timeoutHandle=iG(kq.bind(null,b,m,Bo,gE,b5,d,Oa,zg,Ab,mf,k,"Throttled",-0,0),$);break e}kq(b,m,Bo,gE,b5,d,Oa,zg,Ab,mf,k,null,-0,0)}}break}while(!0);Vu(c)}function kq(c,d,m,b,$,k,R,U,Q,_e,Ie,De,xe,Te){if(c.timeoutHandle=-1,De=d.subtreeFlags,De&8192||(De&16785408)===16785408){De={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:xc},vq(d,k,De);var ht=(k&62914560)===k?fE-hn():(k&4194048)===k?xq-hn():0;if(ht=ive(De,ht),ht!==null){fh=k,c.cancelPendingCommit=ht(Dq.bind(null,c,d,k,m,b,$,R,U,Q,Ie,De,null,xe,Te)),bf(c,k,R,!_e);return}}Dq(c,d,k,m,b,$,R,U,Q)}function vye(c){for(var d=c;;){var m=d.tag;if((m===0||m===11||m===15)&&d.flags&16384&&(m=d.updateQueue,m!==null&&(m=m.stores,m!==null)))for(var b=0;b<m.length;b++){var $=m[b],k=$.getSnapshot;$=$.value;try{if(!W(k(),$))return!1}catch{return!1}}if(m=d.child,d.subtreeFlags&16384&&m!==null)m.return=d,d=m;else{if(d===c)break;for(;d.sibling===null;){if(d.return===null||d.return===c)return!0;d=d.return}d.sibling.return=d.return,d=d.sibling}}return!0}function bf(c,d,m,b){d&=~v5,d&=~zg,c.suspendedLanes|=d,c.pingedLanes&=~d,b&&(c.warmLanes|=d),b=c.expirationTimes;for(var $=d;0<$;){var k=31-Wn($),R=1<<k;b[k]=-1,$&=~R}m!==0&&Fs(c,m,d)}function yE(){return(Ii&6)===0?(Cx(0),!1):!0}function S5(){if(ai!==null){if(Ui===0)var c=ai.return;else c=ai,rh=Ig=null,jR(c),Sb=null,dx=0,c=ai;for(;c!==null;)rq(c.alternate,c),c=c.return;ai=null}}function Pb(c,d){var m=c.timeoutHandle;m!==-1&&(c.timeoutHandle=-1,Nye(m)),m=c.cancelPendingCommit,m!==null&&(c.cancelPendingCommit=null,m()),fh=0,S5(),Qi=c,ai=m=th(c.current,null),di=d,Ui=0,Aa=null,mf=!1,Mb=mc(c,d),y5=!1,Ab=Oa=v5=zg=gf=Fr=0,Bo=Ex=null,b5=!1,(d&8)!==0&&(d|=d&32);var b=c.entangledLanes;if(b!==0)for(c=c.entanglements,b&=d;0<b;){var $=31-Wn(b),k=1<<$;d|=c[$],b&=~k}return ph=d,Nk(),m}function Eq(c,d){Xt=null,J.H=bx,d===xb||d===Gk?(d=B7(),Ui=3):d===ER?(d=B7(),Ui=4):Ui=d===t5?8:d!==null&&typeof d=="object"&&typeof d.then=="function"?6:1,Aa=d,ai===null&&(Fr=1,oE(c,El(d,c.current)))}function Iq(){var c=Ca.current;return c===null?!0:(di&4194048)===di?Al===null:(di&62914560)===di||(di&536870912)!==0?c===Al:!1}function Cq(){var c=J.H;return J.H=bx,c===null?bx:c}function Mq(){var c=J.A;return J.A=gye,c}function vE(){Fr=4,mf||(di&4194048)!==di&&Ca.current!==null||(Mb=!0),(gf&134217727)===0&&(zg&134217727)===0||Qi===null||bf(Qi,di,Oa,!1)}function T5(c,d,m){var b=Ii;Ii|=2;var $=Cq(),k=Mq();(Qi!==c||di!==d)&&(gE=null,Pb(c,d)),d=!1;var R=Fr;e:do try{if(Ui!==0&&ai!==null){var U=ai,Q=Aa;switch(Ui){case 8:S5(),R=6;break e;case 3:case 2:case 9:case 6:Ca.current===null&&(d=!0);var _e=Ui;if(Ui=0,Aa=null,Db(c,U,Q,_e),m&&Mb){R=0;break e}break;default:_e=Ui,Ui=0,Aa=null,Db(c,U,Q,_e)}}bye(),R=Fr;break}catch(Ie){Eq(c,Ie)}while(!0);return d&&c.shellSuspendCounter++,rh=Ig=null,Ii=b,J.H=$,J.A=k,ai===null&&(Qi=null,di=0,Nk()),R}function bye(){for(;ai!==null;)Aq(ai)}function wye(c,d){var m=Ii;Ii|=2;var b=Cq(),$=Mq();Qi!==c||di!==d?(gE=null,mE=hn()+500,Pb(c,d)):Mb=mc(c,d);e:do try{if(Ui!==0&&ai!==null){d=ai;var k=Aa;t:switch(Ui){case 1:Ui=0,Aa=null,Db(c,d,k,1);break;case 2:case 9:if(V7(k)){Ui=0,Aa=null,Oq(d);break}d=function(){Ui!==2&&Ui!==9||Qi!==c||(Ui=7),Vu(c)},k.then(d,d);break e;case 3:Ui=7;break e;case 4:Ui=5;break e;case 7:V7(k)?(Ui=0,Aa=null,Oq(d)):(Ui=0,Aa=null,Db(c,d,k,7));break;case 5:var R=null;switch(ai.tag){case 26:R=ai.memoizedState;case 5:case 27:var U=ai;if(R?yG(R):U.stateNode.complete){Ui=0,Aa=null;var Q=U.sibling;if(Q!==null)ai=Q;else{var _e=U.return;_e!==null?(ai=_e,bE(_e)):ai=null}break t}}Ui=0,Aa=null,Db(c,d,k,5);break;case 6:Ui=0,Aa=null,Db(c,d,k,6);break;case 8:S5(),Fr=6;break e;default:throw Error(r(462))}}_ye();break}catch(Ie){Eq(c,Ie)}while(!0);return rh=Ig=null,J.H=b,J.A=$,Ii=m,ai!==null?0:(Qi=null,di=0,Nk(),Fr)}function _ye(){for(;ai!==null&&!eb();)Aq(ai)}function Aq(c){var d=tq(c.alternate,c,ph);c.memoizedProps=c.pendingProps,d===null?bE(c):ai=d}function Oq(c){var d=c,m=d.alternate;switch(d.tag){case 15:case 0:d=ZH(m,d,d.pendingProps,d.type,void 0,di);break;case 11:d=ZH(m,d,d.pendingProps,d.type.render,d.ref,di);break;case 5:jR(d);default:rq(m,d),d=ai=M7(d,ph),d=tq(m,d,ph)}c.memoizedProps=c.pendingProps,d===null?bE(c):ai=d}function Db(c,d,m,b){rh=Ig=null,jR(d),Sb=null,dx=0;var $=d.return;try{if(cye(c,$,d,m,di)){Fr=1,oE(c,El(m,c.current)),ai=null;return}}catch(k){if($!==null)throw ai=$,k;Fr=1,oE(c,El(m,c.current)),ai=null;return}d.flags&32768?(mi||b===1?c=!0:Mb||(di&536870912)!==0?c=!1:(mf=c=!0,(b===2||b===9||b===3||b===6)&&(b=Ca.current,b!==null&&b.tag===13&&(b.flags|=16384))),Pq(d,c)):bE(d)}function bE(c){var d=c;do{if((d.flags&32768)!==0){Pq(d,mf);return}c=d.return;var m=hye(d.alternate,d,ph);if(m!==null){ai=m;return}if(d=d.sibling,d!==null){ai=d;return}ai=d=c}while(d!==null);Fr===0&&(Fr=5)}function Pq(c,d){do{var m=pye(c.alternate,c);if(m!==null){m.flags&=32767,ai=m;return}if(m=c.return,m!==null&&(m.flags|=32768,m.subtreeFlags=0,m.deletions=null),!d&&(c=c.sibling,c!==null)){ai=c;return}ai=c=m}while(c!==null);Fr=6,ai=null}function Dq(c,d,m,b,$,k,R,U,Q){c.cancelPendingCommit=null;do wE();while(In!==0);if((Ii&6)!==0)throw Error(r(327));if(d!==null){if(d===c.current)throw Error(r(177));if(k=d.lanes|d.childLanes,k|=hR,gc(c,m,k,R,U,Q),c===Qi&&(ai=Qi=null,di=0),Ob=d,vf=c,fh=m,w5=k,_5=$,Sq=b,(d.subtreeFlags&10256)!==0||(d.flags&10256)!==0?(c.callbackNode=null,c.callbackPriority=0,$ye(Iu,function(){return jq(),null})):(c.callbackNode=null,c.callbackPriority=0),b=(d.flags&13878)!==0,(d.subtreeFlags&13878)!==0||b){b=J.T,J.T=null,$=le.p,le.p=2,R=Ii,Ii|=4;try{fye(c,d,m)}finally{Ii=R,le.p=$,J.T=b}}In=1,Rq(),Lq(),zq()}}function Rq(){if(In===1){In=0;var c=vf,d=Ob,m=(d.flags&13878)!==0;if((d.subtreeFlags&13878)!==0||m){m=J.T,J.T=null;var b=le.p;le.p=2;var $=Ii;Ii|=4;try{mq(d,c);var k=L5,R=He(c.containerInfo),U=k.focusedElem,Q=k.selectionRange;if(R!==U&&U&&U.ownerDocument&&je(U.ownerDocument.documentElement,U)){if(Q!==null&&st(U)){var _e=Q.start,Ie=Q.end;if(Ie===void 0&&(Ie=_e),"selectionStart"in U)U.selectionStart=_e,U.selectionEnd=Math.min(Ie,U.value.length);else{var De=U.ownerDocument||document,xe=De&&De.defaultView||window;if(xe.getSelection){var Te=xe.getSelection(),ht=U.textContent.length,Pt=Math.min(Q.start,ht),Zi=Q.end===void 0?Pt:Math.min(Q.end,ht);!Te.extend&&Pt>Zi&&(R=Zi,Zi=Pt,Pt=R);var me=Ve(U,Pt),ae=Ve(U,Zi);if(me&&ae&&(Te.rangeCount!==1||Te.anchorNode!==me.node||Te.anchorOffset!==me.offset||Te.focusNode!==ae.node||Te.focusOffset!==ae.offset)){var we=De.createRange();we.setStart(me.node,me.offset),Te.removeAllRanges(),Pt>Zi?(Te.addRange(we),Te.extend(ae.node,ae.offset)):(we.setEnd(ae.node,ae.offset),Te.addRange(we))}}}}for(De=[],Te=U;Te=Te.parentNode;)Te.nodeType===1&&De.push({element:Te,left:Te.scrollLeft,top:Te.scrollTop});for(typeof U.focus=="function"&&U.focus(),U=0;U<De.length;U++){var Oe=De[U];Oe.element.scrollLeft=Oe.left,Oe.element.scrollTop=Oe.top}}OE=!!R5,L5=R5=null}finally{Ii=$,le.p=b,J.T=m}}c.current=d,In=2}}function Lq(){if(In===2){In=0;var c=vf,d=Ob,m=(d.flags&8772)!==0;if((d.subtreeFlags&8772)!==0||m){m=J.T,J.T=null;var b=le.p;le.p=2;var $=Ii;Ii|=4;try{uq(c,d.alternate,d)}finally{Ii=$,le.p=b,J.T=m}}In=3}}function zq(){if(In===4||In===3){In=0,tb();var c=vf,d=Ob,m=fh,b=Sq;(d.subtreeFlags&10256)!==0||(d.flags&10256)!==0?In=5:(In=0,Ob=vf=null,Nq(c,c.pendingLanes));var $=c.pendingLanes;if($===0&&(yf=null),ka(m),d=d.stateNode,Gn&&typeof Gn.onCommitFiberRoot=="function")try{Gn.onCommitFiberRoot(Cu,d,void 0,(d.current.flags&128)===128)}catch{}if(b!==null){d=J.T,$=le.p,le.p=2,J.T=null;try{for(var k=c.onRecoverableError,R=0;R<b.length;R++){var U=b[R];k(U.value,{componentStack:U.stack})}}finally{J.T=d,le.p=$}}(fh&3)!==0&&wE(),Vu(c),$=c.pendingLanes,(m&261930)!==0&&($&42)!==0?c===x5?Ix++:(Ix=0,x5=c):Ix=0,Cx(0)}}function Nq(c,d){(c.pooledCacheLanes&=d)===0&&(d=c.pooledCache,d!=null&&(c.pooledCache=null,cx(d)))}function wE(){return Rq(),Lq(),zq(),jq()}function jq(){if(In!==5)return!1;var c=vf,d=w5;w5=0;var m=ka(fh),b=J.T,$=le.p;try{le.p=32>m?32:m,J.T=null,m=_5,_5=null;var k=vf,R=fh;if(In=0,Ob=vf=null,fh=0,(Ii&6)!==0)throw Error(r(331));var U=Ii;if(Ii|=4,wq(k.current),yq(k,k.current,R,m),Ii=U,Cx(0,!1),Gn&&typeof Gn.onPostCommitFiberRoot=="function")try{Gn.onPostCommitFiberRoot(Cu,k)}catch{}return!0}finally{le.p=$,J.T=b,Nq(c,d)}}function Fq(c,d,m){d=El(m,d),d=e5(c.stateNode,d,2),c=df(c,d,2),c!==null&&(js(c,2),Vu(c))}function Bi(c,d,m){if(c.tag===3)Fq(c,c,m);else for(;d!==null;){if(d.tag===3){Fq(d,c,m);break}else if(d.tag===1){var b=d.stateNode;if(typeof d.type.getDerivedStateFromError=="function"||typeof b.componentDidCatch=="function"&&(yf===null||!yf.has(b))){c=El(m,c),m=VH(2),b=df(d,m,2),b!==null&&(UH(m,b,d,c),js(b,2),Vu(b));break}}d=d.return}}function $5(c,d,m){var b=c.pingCache;if(b===null){b=c.pingCache=new yye;var $=new Set;b.set(d,$)}else $=b.get(d),$===void 0&&($=new Set,b.set(d,$));$.has(m)||(y5=!0,$.add(m),c=xye.bind(null,c,d,m),d.then(c,c))}function xye(c,d,m){var b=c.pingCache;b!==null&&b.delete(d),c.pingedLanes|=c.suspendedLanes&m,c.warmLanes&=~m,Qi===c&&(di&m)===m&&(Fr===4||Fr===3&&(di&62914560)===di&&300>hn()-fE?(Ii&2)===0&&Pb(c,0):v5|=m,Ab===di&&(Ab=0)),Vu(c)}function Vq(c,d){d===0&&(d=Se()),c=$g(c,d),c!==null&&(js(c,d),Vu(c))}function Sye(c){var d=c.memoizedState,m=0;d!==null&&(m=d.retryLane),Vq(c,m)}function Tye(c,d){var m=0;switch(c.tag){case 31:case 13:var b=c.stateNode,$=c.memoizedState;$!==null&&(m=$.retryLane);break;case 19:b=c.stateNode;break;case 22:b=c.stateNode._retryCache;break;default:throw Error(r(314))}b!==null&&b.delete(d),Vq(c,m)}function $ye(c,d){return fc(c,d)}var _E=null,Rb=null,k5=!1,xE=!1,E5=!1,wf=0;function Vu(c){c!==Rb&&c.next===null&&(Rb===null?_E=Rb=c:Rb=Rb.next=c),xE=!0,k5||(k5=!0,Eye())}function Cx(c,d){if(!E5&&xE){E5=!0;do for(var m=!1,b=_E;b!==null;){if(c!==0){var $=b.pendingLanes;if($===0)var k=0;else{var R=b.suspendedLanes,U=b.pingedLanes;k=(1<<31-Wn(42|c)+1)-1,k&=$&~(R&~U),k=k&201326741?k&201326741|1:k?k|2:0}k!==0&&(m=!0,qq(b,k))}else k=di,k=Au(b,b===Qi?k:0,b.cancelPendingCommit!==null||b.timeoutHandle!==-1),(k&3)===0||mc(b,k)||(m=!0,qq(b,k));b=b.next}while(m);E5=!1}}function kye(){Uq()}function Uq(){xE=k5=!1;var c=0;wf!==0&&zye()&&(c=wf);for(var d=hn(),m=null,b=_E;b!==null;){var $=b.next,k=Bq(b,d);k===0?(b.next=null,m===null?_E=$:m.next=$,$===null&&(Rb=m)):(m=b,(c!==0||(k&3)!==0)&&(xE=!0)),b=$}In!==0&&In!==5||Cx(c),wf!==0&&(wf=0)}function Bq(c,d){for(var m=c.suspendedLanes,b=c.pingedLanes,$=c.expirationTimes,k=c.pendingLanes&-62914561;0<k;){var R=31-Wn(k),U=1<<R,Q=$[R];Q===-1?((U&m)===0||(U&b)!==0)&&($[R]=sb(U,d)):Q<=d&&(c.expiredLanes|=U),k&=~U}if(d=Qi,m=di,m=Au(c,c===d?m:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),b=c.callbackNode,m===0||c===d&&(Ui===2||Ui===9)||c.cancelPendingCommit!==null)return b!==null&&b!==null&&ps(b),c.callbackNode=null,c.callbackPriority=0;if((m&3)===0||mc(c,m)){if(d=m&-m,d===c.callbackPriority)return d;switch(b!==null&&ps(b),ka(m)){case 2:case 8:m=rb;break;case 32:m=Iu;break;case 268435456:m=Wp;break;default:m=Iu}return b=Hq.bind(null,c),m=fc(m,b),c.callbackPriority=d,c.callbackNode=m,d}return b!==null&&b!==null&&ps(b),c.callbackPriority=2,c.callbackNode=null,2}function Hq(c,d){if(In!==0&&In!==5)return c.callbackNode=null,c.callbackPriority=0,null;var m=c.callbackNode;if(wE()&&c.callbackNode!==m)return null;var b=di;return b=Au(c,c===Qi?b:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),b===0?null:($q(c,b,d),Bq(c,hn()),c.callbackNode!=null&&c.callbackNode===m?Hq.bind(null,c):null)}function qq(c,d){if(wE())return null;$q(c,d,!0)}function Eye(){jye(function(){(Ii&6)!==0?fc(Eu,kye):Uq()})}function I5(){if(wf===0){var c=wb;c===0&&(c=$a,$a<<=1,($a&261888)===0&&($a=256)),wf=c}return wf}function Gq(c){return c==null||typeof c=="symbol"||typeof c=="boolean"?null:typeof c=="function"?c:fg(""+c)}function Wq(c,d){var m=d.ownerDocument.createElement("input");return m.name=d.name,m.value=d.value,c.id&&m.setAttribute("form",c.id),d.parentNode.insertBefore(m,d),c=new FormData(c),m.parentNode.removeChild(m),c}function Iye(c,d,m,b,$){if(d==="submit"&&m&&m.stateNode===$){var k=Gq(($[sr]||null).action),R=b.submitter;R&&(d=(d=R[sr]||null)?Gq(d.formAction):R.getAttribute("formAction"),d!==null&&(k=d,R=null));var U=new vg("action","action",null,b,$);c.push({event:U,listeners:[{instance:null,listener:function(){if(b.defaultPrevented){if(wf!==0){var Q=R?Wq($,R):new FormData($);YR(m,{pending:!0,data:Q,method:$.method,action:k},null,Q)}}else typeof k=="function"&&(U.preventDefault(),Q=R?Wq($,R):new FormData($),YR(m,{pending:!0,data:Q,method:$.method,action:k},k,Q))},currentTarget:$}]})}}for(var C5=0;C5<dR.length;C5++){var M5=dR[C5],Cye=M5.toLowerCase(),Mye=M5[0].toUpperCase()+M5.slice(1);$c(Cye,"on"+Mye)}$c(Tg,"onAnimationEnd"),$c(nf,"onAnimationIteration"),$c(k7,"onAnimationStart"),$c("dblclick","onDoubleClick"),$c("focusin","onFocus"),$c("focusout","onBlur"),$c(Gge,"onTransitionRun"),$c(Wge,"onTransitionStart"),$c(Yge,"onTransitionCancel"),$c(E7,"onTransitionEnd"),bc("onMouseEnter",["mouseout","mouseover"]),bc("onMouseLeave",["mouseout","mouseover"]),bc("onPointerEnter",["pointerout","pointerover"]),bc("onPointerLeave",["pointerout","pointerover"]),No("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),No("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),No("onBeforeInput",["compositionend","keypress","textInput","paste"]),No("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),No("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),No("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Mx="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Aye=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Mx));function Yq(c,d){d=(d&4)!==0;for(var m=0;m<c.length;m++){var b=c[m],$=b.event;b=b.listeners;e:{var k=void 0;if(d)for(var R=b.length-1;0<=R;R--){var U=b[R],Q=U.instance,_e=U.currentTarget;if(U=U.listener,Q!==k&&$.isPropagationStopped())break e;k=U,$.currentTarget=_e;try{k($)}catch(Ie){zk(Ie)}$.currentTarget=null,k=Q}else for(R=0;R<b.length;R++){if(U=b[R],Q=U.instance,_e=U.currentTarget,U=U.listener,Q!==k&&$.isPropagationStopped())break e;k=U,$.currentTarget=_e;try{k($)}catch(Ie){zk(Ie)}$.currentTarget=null,k=Q}}}}function li(c,d){var m=d[Ot];m===void 0&&(m=d[Ot]=new Set);var b=c+"__bubble";m.has(b)||(Zq(d,c,2,!1),m.add(b))}function A5(c,d,m){var b=0;d&&(b|=4),Zq(m,c,b,d)}var SE="_reactListening"+Math.random().toString(36).slice(2);function O5(c){if(!c[SE]){c[SE]=!0,ug.forEach(function(m){m!=="selectionchange"&&(Aye.has(m)||A5(m,!1,c),A5(m,!0,c))});var d=c.nodeType===9?c:c.ownerDocument;d===null||d[SE]||(d[SE]=!0,A5("selectionchange",!1,d))}}function Zq(c,d,m,b){switch(TG(d)){case 2:var $=sve;break;case 8:$=ove;break;default:$=W5}m=$.bind(null,d,m,c),$=void 0,!ub||d!=="touchstart"&&d!=="touchmove"&&d!=="wheel"||($=!0),b?$!==void 0?c.addEventListener(d,m,{capture:!0,passive:$}):c.addEventListener(d,m,!0):$!==void 0?c.addEventListener(d,m,{passive:$}):c.addEventListener(d,m,!1)}function P5(c,d,m,b,$){var k=b;if((d&1)===0&&(d&2)===0&&b!==null)e:for(;;){if(b===null)return;var R=b.tag;if(R===3||R===4){var U=b.stateNode.containerInfo;if(U===$)break;if(R===4)for(R=b.return;R!==null;){var Q=R.tag;if((Q===3||Q===4)&&R.stateNode.containerInfo===$)return;R=R.return}for(;U!==null;){if(R=Pu(U),R===null)return;if(Q=R.tag,Q===5||Q===6||Q===26||Q===27){b=k=R;continue e}U=U.parentNode}}b=b.return}Q1(function(){var _e=k,Ie=X1(m),De=[];e:{var xe=I7.get(c);if(xe!==void 0){var Te=vg,ht=c;switch(c){case"keypress":if(Qp(m)===0)break e;case"keydown":case"keyup":Te=Ck;break;case"focusin":ht="focus",Te=tx;break;case"focusout":ht="blur",Te=tx;break;case"beforeblur":case"afterblur":Te=tx;break;case"click":if(m.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Te=Tk;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Te=kk;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Te=tR;break;case Tg:case nf:case k7:Te=Z3;break;case E7:Te=rR;break;case"scroll":case"scrollend":Te=W3;break;case"wheel":Te=sR;break;case"copy":case"cut":case"paste":Te=X3;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Te=ix;break;case"toggle":case"beforetoggle":Te=rx}var Pt=(d&4)!==0,Zi=!Pt&&(c==="scroll"||c==="scrollend"),me=Pt?xe!==null?xe+"Capture":null:xe;Pt=[];for(var ae=_e,we;ae!==null;){var Oe=ae;if(we=Oe.stateNode,Oe=Oe.tag,Oe!==5&&Oe!==26&&Oe!==27||we===null||me===null||(Oe=Xp(ae,me),Oe!=null&&Pt.push(Ax(ae,Oe,we))),Zi)break;ae=ae.return}0<Pt.length&&(xe=new Te(xe,ht,null,m,Ie),De.push({event:xe,listeners:Pt}))}}if((d&7)===0){e:{if(xe=c==="mouseover"||c==="pointerover",Te=c==="mouseout"||c==="pointerout",xe&&m!==mg&&(ht=m.relatedTarget||m.fromElement)&&(Pu(ht)||ht[Tt]))break e;if((Te||xe)&&(xe=Ie.window===Ie?Ie:(xe=Ie.ownerDocument)?xe.defaultView||xe.parentWindow:window,Te?(ht=m.relatedTarget||m.toElement,Te=_e,ht=ht?Pu(ht):null,ht!==null&&(Zi=s(ht),Pt=ht.tag,ht!==Zi||Pt!==5&&Pt!==27&&Pt!==6)&&(ht=null)):(Te=null,ht=_e),Te!==ht)){if(Pt=Tk,Oe="onMouseLeave",me="onMouseEnter",ae="mouse",(c==="pointerout"||c==="pointerover")&&(Pt=ix,Oe="onPointerLeave",me="onPointerEnter",ae="pointer"),Zi=Te==null?xe:or(Te),we=ht==null?xe:or(ht),xe=new Pt(Oe,ae+"leave",Te,m,Ie),xe.target=Zi,xe.relatedTarget=we,Oe=null,Pu(Ie)===_e&&(Pt=new Pt(me,ae+"enter",ht,m,Ie),Pt.target=we,Pt.relatedTarget=Zi,Oe=Pt),Zi=Oe,Te&&ht)t:{for(Pt=Oye,me=Te,ae=ht,we=0,Oe=me;Oe;Oe=Pt(Oe))we++;Oe=0;for(var Et=ae;Et;Et=Pt(Et))Oe++;for(;0<we-Oe;)me=Pt(me),we--;for(;0<Oe-we;)ae=Pt(ae),Oe--;for(;we--;){if(me===ae||ae!==null&&me===ae.alternate){Pt=me;break t}me=Pt(me),ae=Pt(ae)}Pt=null}else Pt=null;Te!==null&&Jq(De,xe,Te,Pt,!1),ht!==null&&Zi!==null&&Jq(De,Zi,ht,Pt,!0)}}e:{if(xe=_e?or(_e):window,Te=xe.nodeName&&xe.nodeName.toLowerCase(),Te==="select"||Te==="input"&&xe.type==="file")var Ti=Rk;else if(Pk(xe))if(Lk)Ti=q;else{Ti=V;var yt=z}else Te=xe.nodeName,!Te||Te.toLowerCase()!=="input"||xe.type!=="checkbox"&&xe.type!=="radio"?_e&&J1(_e.elementType)&&(Ti=Rk):Ti=H;if(Ti&&(Ti=Ti(c,_e))){Dk(De,Ti,m,Ie);break e}yt&&yt(c,xe,_e),c==="focusout"&&_e&&xe.type==="number"&&_e.memoizedProps.value!=null&&Yd(xe,"number",xe.value)}switch(yt=_e?or(_e):window,c){case"focusin":(Pk(yt)||yt.contentEditable==="true")&&(mt=yt,Ft=_e,Jt=null);break;case"focusout":Jt=Ft=mt=null;break;case"mousedown":Ct=!0;break;case"contextmenu":case"mouseup":case"dragend":Ct=!1,qt(De,m,Ie);break;case"selectionchange":if(it)break;case"keydown":case"keyup":qt(De,m,Ie)}var Kt;if(tf)e:{switch(c){case"compositionstart":var hi="onCompositionStart";break e;case"compositionend":hi="onCompositionEnd";break e;case"compositionupdate":hi="onCompositionUpdate";break e}hi=void 0}else eh?rf(c,m)&&(hi="onCompositionEnd"):c==="keydown"&&m.keyCode===229&&(hi="onCompositionStart");hi&&(Ak&&m.locale!=="ko"&&(eh||hi!=="onCompositionStart"?hi==="onCompositionEnd"&&eh&&(Kt=xk()):(Lu=Ie,Jd="value"in Lu?Lu.value:Lu.textContent,eh=!0)),yt=TE(_e,hi),0<yt.length&&(hi=new Ek(hi,c,null,m,Ie),De.push({event:hi,listeners:yt}),Kt?hi.data=Kt:(Kt=Tc(m),Kt!==null&&(hi.data=Kt)))),(Kt=nx?ox(c,m):lR(c,m))&&(hi=TE(_e,"onBeforeInput"),0<hi.length&&(yt=new Ek("onBeforeInput","beforeinput",null,m,Ie),De.push({event:yt,listeners:hi}),yt.data=Kt)),Iye(De,c,_e,m,Ie)}Yq(De,d)})}function Ax(c,d,m){return{instance:c,listener:d,currentTarget:m}}function TE(c,d){for(var m=d+"Capture",b=[];c!==null;){var $=c,k=$.stateNode;if($=$.tag,$!==5&&$!==26&&$!==27||k===null||($=Xp(c,m),$!=null&&b.unshift(Ax(c,$,k)),$=Xp(c,d),$!=null&&b.push(Ax(c,$,k))),c.tag===3)return b;c=c.return}return[]}function Oye(c){if(c===null)return null;do c=c.return;while(c&&c.tag!==5&&c.tag!==27);return c||null}function Jq(c,d,m,b,$){for(var k=d._reactName,R=[];m!==null&&m!==b;){var U=m,Q=U.alternate,_e=U.stateNode;if(U=U.tag,Q!==null&&Q===b)break;U!==5&&U!==26&&U!==27||_e===null||(Q=_e,$?(_e=Xp(m,k),_e!=null&&R.unshift(Ax(m,_e,Q))):$||(_e=Xp(m,k),_e!=null&&R.push(Ax(m,_e,Q)))),m=m.return}R.length!==0&&c.push({event:d,listeners:R})}var Pye=/\r\n?/g,Dye=/\u0000|\uFFFD/g;function Xq(c){return(typeof c=="string"?c:""+c).replace(Pye,`
`).replace(Dye,"")}function Kq(c,d){return d=Xq(d),Xq(c)===d}function Yi(c,d,m,b,$,k){switch(m){case"children":typeof b=="string"?d==="body"||d==="textarea"&&b===""||Ru(c,b):(typeof b=="number"||typeof b=="bigint")&&d!=="body"&&Ru(c,""+b);break;case"className":wc(c,"class",b);break;case"tabIndex":wc(c,"tabindex",b);break;case"dir":case"role":case"viewBox":case"width":case"height":wc(c,m,b);break;case"style":Z1(c,b,k);break;case"data":if(d!=="object"){wc(c,"data",b);break}case"src":case"href":if(b===""&&(d!=="a"||m!=="href")){c.removeAttribute(m);break}if(b==null||typeof b=="function"||typeof b=="symbol"||typeof b=="boolean"){c.removeAttribute(m);break}b=fg(""+b),c.setAttribute(m,b);break;case"action":case"formAction":if(typeof b=="function"){c.setAttribute(m,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof k=="function"&&(m==="formAction"?(d!=="input"&&Yi(c,d,"name",$.name,$,null),Yi(c,d,"formEncType",$.formEncType,$,null),Yi(c,d,"formMethod",$.formMethod,$,null),Yi(c,d,"formTarget",$.formTarget,$,null)):(Yi(c,d,"encType",$.encType,$,null),Yi(c,d,"method",$.method,$,null),Yi(c,d,"target",$.target,$,null)));if(b==null||typeof b=="symbol"||typeof b=="boolean"){c.removeAttribute(m);break}b=fg(""+b),c.setAttribute(m,b);break;case"onClick":b!=null&&(c.onclick=xc);break;case"onScroll":b!=null&&li("scroll",c);break;case"onScrollEnd":b!=null&&li("scrollend",c);break;case"dangerouslySetInnerHTML":if(b!=null){if(typeof b!="object"||!("__html"in b))throw Error(r(61));if(m=b.__html,m!=null){if($.children!=null)throw Error(r(60));c.innerHTML=m}}break;case"multiple":c.multiple=b&&typeof b!="function"&&typeof b!="symbol";break;case"muted":c.muted=b&&typeof b!="function"&&typeof b!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(b==null||typeof b=="function"||typeof b=="boolean"||typeof b=="symbol"){c.removeAttribute("xlink:href");break}m=fg(""+b),c.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",m);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":b!=null&&typeof b!="function"&&typeof b!="symbol"?c.setAttribute(m,""+b):c.removeAttribute(m);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":b&&typeof b!="function"&&typeof b!="symbol"?c.setAttribute(m,""):c.removeAttribute(m);break;case"capture":case"download":b===!0?c.setAttribute(m,""):b!==!1&&b!=null&&typeof b!="function"&&typeof b!="symbol"?c.setAttribute(m,b):c.removeAttribute(m);break;case"cols":case"rows":case"size":case"span":b!=null&&typeof b!="function"&&typeof b!="symbol"&&!isNaN(b)&&1<=b?c.setAttribute(m,b):c.removeAttribute(m);break;case"rowSpan":case"start":b==null||typeof b=="function"||typeof b=="symbol"||isNaN(b)?c.removeAttribute(m):c.setAttribute(m,b);break;case"popover":li("beforetoggle",c),li("toggle",c),Du(c,"popover",b);break;case"xlinkActuate":Z(c,"http://www.w3.org/1999/xlink","xlink:actuate",b);break;case"xlinkArcrole":Z(c,"http://www.w3.org/1999/xlink","xlink:arcrole",b);break;case"xlinkRole":Z(c,"http://www.w3.org/1999/xlink","xlink:role",b);break;case"xlinkShow":Z(c,"http://www.w3.org/1999/xlink","xlink:show",b);break;case"xlinkTitle":Z(c,"http://www.w3.org/1999/xlink","xlink:title",b);break;case"xlinkType":Z(c,"http://www.w3.org/1999/xlink","xlink:type",b);break;case"xmlBase":Z(c,"http://www.w3.org/XML/1998/namespace","xml:base",b);break;case"xmlLang":Z(c,"http://www.w3.org/XML/1998/namespace","xml:lang",b);break;case"xmlSpace":Z(c,"http://www.w3.org/XML/1998/namespace","xml:space",b);break;case"is":Du(c,"is",b);break;case"innerText":case"textContent":break;default:(!(2<m.length)||m[0]!=="o"&&m[0]!=="O"||m[1]!=="n"&&m[1]!=="N")&&(m=G3.get(m)||m,Du(c,m,b))}}function D5(c,d,m,b,$,k){switch(m){case"style":Z1(c,b,k);break;case"dangerouslySetInnerHTML":if(b!=null){if(typeof b!="object"||!("__html"in b))throw Error(r(61));if(m=b.__html,m!=null){if($.children!=null)throw Error(r(60));c.innerHTML=m}}break;case"children":typeof b=="string"?Ru(c,b):(typeof b=="number"||typeof b=="bigint")&&Ru(c,""+b);break;case"onScroll":b!=null&&li("scroll",c);break;case"onScrollEnd":b!=null&&li("scrollend",c);break;case"onClick":b!=null&&(c.onclick=xc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!dg.hasOwnProperty(m))e:{if(m[0]==="o"&&m[1]==="n"&&($=m.endsWith("Capture"),d=m.slice(2,$?m.length-7:void 0),k=c[sr]||null,k=k!=null?k[m]:null,typeof k=="function"&&c.removeEventListener(d,k,$),typeof b=="function")){typeof k!="function"&&k!==null&&(m in c?c[m]=null:c.hasAttribute(m)&&c.removeAttribute(m)),c.addEventListener(d,b,$);break e}m in c?c[m]=b:b===!0?c.setAttribute(m,""):Du(c,m,b)}}}function ws(c,d,m){switch(d){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":li("error",c),li("load",c);var b=!1,$=!1,k;for(k in m)if(m.hasOwnProperty(k)){var R=m[k];if(R!=null)switch(k){case"src":b=!0;break;case"srcSet":$=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,d));default:Yi(c,d,k,R,m,null)}}$&&Yi(c,d,"srcSet",m.srcSet,m,null),b&&Yi(c,d,"src",m.src,m,null);return;case"input":li("invalid",c);var U=k=R=$=null,Q=null,_e=null;for(b in m)if(m.hasOwnProperty(b)){var Ie=m[b];if(Ie!=null)switch(b){case"name":$=Ie;break;case"type":R=Ie;break;case"checked":Q=Ie;break;case"defaultChecked":_e=Ie;break;case"value":k=Ie;break;case"defaultValue":U=Ie;break;case"children":case"dangerouslySetInnerHTML":if(Ie!=null)throw Error(r(137,d));break;default:Yi(c,d,b,Ie,m,null)}}_c(c,k,U,Q,_e,R,$,!1);return;case"select":li("invalid",c),b=R=k=null;for($ in m)if(m.hasOwnProperty($)&&(U=m[$],U!=null))switch($){case"value":k=U;break;case"defaultValue":R=U;break;case"multiple":b=U;default:Yi(c,d,$,U,m,null)}d=k,m=R,c.multiple=!!b,d!=null?Zp(c,!!b,d,!1):m!=null&&Zp(c,!!b,m,!0);return;case"textarea":li("invalid",c),k=$=b=null;for(R in m)if(m.hasOwnProperty(R)&&(U=m[R],U!=null))switch(R){case"value":b=U;break;case"defaultValue":$=U;break;case"children":k=U;break;case"dangerouslySetInnerHTML":if(U!=null)throw Error(r(91));break;default:Yi(c,d,R,U,m,null)}Y1(c,b,$,k);return;case"option":for(Q in m)m.hasOwnProperty(Q)&&(b=m[Q],b!=null)&&(Q==="selected"?c.selected=b&&typeof b!="function"&&typeof b!="symbol":Yi(c,d,Q,b,m,null));return;case"dialog":li("beforetoggle",c),li("toggle",c),li("cancel",c),li("close",c);break;case"iframe":case"object":li("load",c);break;case"video":case"audio":for(b=0;b<Mx.length;b++)li(Mx[b],c);break;case"image":li("error",c),li("load",c);break;case"details":li("toggle",c);break;case"embed":case"source":case"link":li("error",c),li("load",c);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(_e in m)if(m.hasOwnProperty(_e)&&(b=m[_e],b!=null))switch(_e){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,d));default:Yi(c,d,_e,b,m,null)}return;default:if(J1(d)){for(Ie in m)m.hasOwnProperty(Ie)&&(b=m[Ie],b!==void 0&&D5(c,d,Ie,b,m,void 0));return}}for(U in m)m.hasOwnProperty(U)&&(b=m[U],b!=null&&Yi(c,d,U,b,m,null))}function Rye(c,d,m,b){switch(d){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var $=null,k=null,R=null,U=null,Q=null,_e=null,Ie=null;for(Te in m){var De=m[Te];if(m.hasOwnProperty(Te)&&De!=null)switch(Te){case"checked":break;case"value":break;case"defaultValue":Q=De;default:b.hasOwnProperty(Te)||Yi(c,d,Te,null,b,De)}}for(var xe in b){var Te=b[xe];if(De=m[xe],b.hasOwnProperty(xe)&&(Te!=null||De!=null))switch(xe){case"type":k=Te;break;case"name":$=Te;break;case"checked":_e=Te;break;case"defaultChecked":Ie=Te;break;case"value":R=Te;break;case"defaultValue":U=Te;break;case"children":case"dangerouslySetInnerHTML":if(Te!=null)throw Error(r(137,d));break;default:Te!==De&&Yi(c,d,xe,Te,b,De)}}Yp(c,R,U,Q,_e,Ie,k,$);return;case"select":Te=R=U=xe=null;for(k in m)if(Q=m[k],m.hasOwnProperty(k)&&Q!=null)switch(k){case"value":break;case"multiple":Te=Q;default:b.hasOwnProperty(k)||Yi(c,d,k,null,b,Q)}for($ in b)if(k=b[$],Q=m[$],b.hasOwnProperty($)&&(k!=null||Q!=null))switch($){case"value":xe=k;break;case"defaultValue":U=k;break;case"multiple":R=k;default:k!==Q&&Yi(c,d,$,k,b,Q)}d=U,m=R,b=Te,xe!=null?Zp(c,!!m,xe,!1):!!b!=!!m&&(d!=null?Zp(c,!!m,d,!0):Zp(c,!!m,m?[]:"",!1));return;case"textarea":Te=xe=null;for(U in m)if($=m[U],m.hasOwnProperty(U)&&$!=null&&!b.hasOwnProperty(U))switch(U){case"value":break;case"children":break;default:Yi(c,d,U,null,b,$)}for(R in b)if($=b[R],k=m[R],b.hasOwnProperty(R)&&($!=null||k!=null))switch(R){case"value":xe=$;break;case"defaultValue":Te=$;break;case"children":break;case"dangerouslySetInnerHTML":if($!=null)throw Error(r(91));break;default:$!==k&&Yi(c,d,R,$,b,k)}W1(c,xe,Te);return;case"option":for(var ht in m)xe=m[ht],m.hasOwnProperty(ht)&&xe!=null&&!b.hasOwnProperty(ht)&&(ht==="selected"?c.selected=!1:Yi(c,d,ht,null,b,xe));for(Q in b)xe=b[Q],Te=m[Q],b.hasOwnProperty(Q)&&xe!==Te&&(xe!=null||Te!=null)&&(Q==="selected"?c.selected=xe&&typeof xe!="function"&&typeof xe!="symbol":Yi(c,d,Q,xe,b,Te));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Pt in m)xe=m[Pt],m.hasOwnProperty(Pt)&&xe!=null&&!b.hasOwnProperty(Pt)&&Yi(c,d,Pt,null,b,xe);for(_e in b)if(xe=b[_e],Te=m[_e],b.hasOwnProperty(_e)&&xe!==Te&&(xe!=null||Te!=null))switch(_e){case"children":case"dangerouslySetInnerHTML":if(xe!=null)throw Error(r(137,d));break;default:Yi(c,d,_e,xe,b,Te)}return;default:if(J1(d)){for(var Zi in m)xe=m[Zi],m.hasOwnProperty(Zi)&&xe!==void 0&&!b.hasOwnProperty(Zi)&&D5(c,d,Zi,void 0,b,xe);for(Ie in b)xe=b[Ie],Te=m[Ie],!b.hasOwnProperty(Ie)||xe===Te||xe===void 0&&Te===void 0||D5(c,d,Ie,xe,b,Te);return}}for(var me in m)xe=m[me],m.hasOwnProperty(me)&&xe!=null&&!b.hasOwnProperty(me)&&Yi(c,d,me,null,b,xe);for(De in b)xe=b[De],Te=m[De],!b.hasOwnProperty(De)||xe===Te||xe==null&&Te==null||Yi(c,d,De,xe,b,Te)}function Qq(c){switch(c){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Lye(){if(typeof performance.getEntriesByType=="function"){for(var c=0,d=0,m=performance.getEntriesByType("resource"),b=0;b<m.length;b++){var $=m[b],k=$.transferSize,R=$.initiatorType,U=$.duration;if(k&&U&&Qq(R)){for(R=0,U=$.responseEnd,b+=1;b<m.length;b++){var Q=m[b],_e=Q.startTime;if(_e>U)break;var Ie=Q.transferSize,De=Q.initiatorType;Ie&&Qq(De)&&(Q=Q.responseEnd,R+=Ie*(Q<U?1:(U-_e)/(Q-_e)))}if(--b,d+=8*(k+R)/($.duration/1e3),c++,10<c)break}}if(0<c)return d/c/1e6}return navigator.connection&&(c=navigator.connection.downlink,typeof c=="number")?c:5}var R5=null,L5=null;function $E(c){return c.nodeType===9?c:c.ownerDocument}function eG(c){switch(c){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function tG(c,d){if(c===0)switch(d){case"svg":return 1;case"math":return 2;default:return 0}return c===1&&d==="foreignObject"?0:c}function z5(c,d){return c==="textarea"||c==="noscript"||typeof d.children=="string"||typeof d.children=="number"||typeof d.children=="bigint"||typeof d.dangerouslySetInnerHTML=="object"&&d.dangerouslySetInnerHTML!==null&&d.dangerouslySetInnerHTML.__html!=null}var N5=null;function zye(){var c=window.event;return c&&c.type==="popstate"?c===N5?!1:(N5=c,!0):(N5=null,!1)}var iG=typeof setTimeout=="function"?setTimeout:void 0,Nye=typeof clearTimeout=="function"?clearTimeout:void 0,rG=typeof Promise=="function"?Promise:void 0,jye=typeof queueMicrotask=="function"?queueMicrotask:typeof rG<"u"?function(c){return rG.resolve(null).then(c).catch(Fye)}:iG;function Fye(c){setTimeout(function(){throw c})}function _f(c){return c==="head"}function nG(c,d){var m=d,b=0;do{var $=m.nextSibling;if(c.removeChild(m),$&&$.nodeType===8)if(m=$.data,m==="/$"||m==="/&"){if(b===0){c.removeChild($),jb(d);return}b--}else if(m==="$"||m==="$?"||m==="$~"||m==="$!"||m==="&")b++;else if(m==="html")Ox(c.ownerDocument.documentElement);else if(m==="head"){m=c.ownerDocument.head,Ox(m);for(var k=m.firstChild;k;){var R=k.nextSibling,U=k.nodeName;k[Ea]||U==="SCRIPT"||U==="STYLE"||U==="LINK"&&k.rel.toLowerCase()==="stylesheet"||m.removeChild(k),k=R}}else m==="body"&&Ox(c.ownerDocument.body);m=$}while(m);jb(d)}function sG(c,d){var m=c;c=0;do{var b=m.nextSibling;if(m.nodeType===1?d?(m._stashedDisplay=m.style.display,m.style.display="none"):(m.style.display=m._stashedDisplay||"",m.getAttribute("style")===""&&m.removeAttribute("style")):m.nodeType===3&&(d?(m._stashedText=m.nodeValue,m.nodeValue=""):m.nodeValue=m._stashedText||""),b&&b.nodeType===8)if(m=b.data,m==="/$"){if(c===0)break;c--}else m!=="$"&&m!=="$?"&&m!=="$~"&&m!=="$!"||c++;m=b}while(m)}function j5(c){var d=c.firstChild;for(d&&d.nodeType===10&&(d=d.nextSibling);d;){var m=d;switch(d=d.nextSibling,m.nodeName){case"HTML":case"HEAD":case"BODY":j5(m),yc(m);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(m.rel.toLowerCase()==="stylesheet")continue}c.removeChild(m)}}function Vye(c,d,m,b){for(;c.nodeType===1;){var $=m;if(c.nodeName.toLowerCase()!==d.toLowerCase()){if(!b&&(c.nodeName!=="INPUT"||c.type!=="hidden"))break}else if(b){if(!c[Ea])switch(d){case"meta":if(!c.hasAttribute("itemprop"))break;return c;case"link":if(k=c.getAttribute("rel"),k==="stylesheet"&&c.hasAttribute("data-precedence"))break;if(k!==$.rel||c.getAttribute("href")!==($.href==null||$.href===""?null:$.href)||c.getAttribute("crossorigin")!==($.crossOrigin==null?null:$.crossOrigin)||c.getAttribute("title")!==($.title==null?null:$.title))break;return c;case"style":if(c.hasAttribute("data-precedence"))break;return c;case"script":if(k=c.getAttribute("src"),(k!==($.src==null?null:$.src)||c.getAttribute("type")!==($.type==null?null:$.type)||c.getAttribute("crossorigin")!==($.crossOrigin==null?null:$.crossOrigin))&&k&&c.hasAttribute("async")&&!c.hasAttribute("itemprop"))break;return c;default:return c}}else if(d==="input"&&c.type==="hidden"){var k=$.name==null?null:""+$.name;if($.type==="hidden"&&c.getAttribute("name")===k)return c}else return c;if(c=Ol(c.nextSibling),c===null)break}return null}function Uye(c,d,m){if(d==="")return null;for(;c.nodeType!==3;)if((c.nodeType!==1||c.nodeName!=="INPUT"||c.type!=="hidden")&&!m||(c=Ol(c.nextSibling),c===null))return null;return c}function oG(c,d){for(;c.nodeType!==8;)if((c.nodeType!==1||c.nodeName!=="INPUT"||c.type!=="hidden")&&!d||(c=Ol(c.nextSibling),c===null))return null;return c}function F5(c){return c.data==="$?"||c.data==="$~"}function V5(c){return c.data==="$!"||c.data==="$?"&&c.ownerDocument.readyState!=="loading"}function Bye(c,d){var m=c.ownerDocument;if(c.data==="$~")c._reactRetry=d;else if(c.data!=="$?"||m.readyState!=="loading")d();else{var b=function(){d(),m.removeEventListener("DOMContentLoaded",b)};m.addEventListener("DOMContentLoaded",b),c._reactRetry=b}}function Ol(c){for(;c!=null;c=c.nextSibling){var d=c.nodeType;if(d===1||d===3)break;if(d===8){if(d=c.data,d==="$"||d==="$!"||d==="$?"||d==="$~"||d==="&"||d==="F!"||d==="F")break;if(d==="/$"||d==="/&")return null}}return c}var U5=null;function aG(c){c=c.nextSibling;for(var d=0;c;){if(c.nodeType===8){var m=c.data;if(m==="/$"||m==="/&"){if(d===0)return Ol(c.nextSibling);d--}else m!=="$"&&m!=="$!"&&m!=="$?"&&m!=="$~"&&m!=="&"||d++}c=c.nextSibling}return null}function lG(c){c=c.previousSibling;for(var d=0;c;){if(c.nodeType===8){var m=c.data;if(m==="$"||m==="$!"||m==="$?"||m==="$~"||m==="&"){if(d===0)return c;d--}else m!=="/$"&&m!=="/&"||d++}c=c.previousSibling}return null}function cG(c,d,m){switch(d=$E(m),c){case"html":if(c=d.documentElement,!c)throw Error(r(452));return c;case"head":if(c=d.head,!c)throw Error(r(453));return c;case"body":if(c=d.body,!c)throw Error(r(454));return c;default:throw Error(r(451))}}function Ox(c){for(var d=c.attributes;d.length;)c.removeAttributeNode(d[0]);yc(c)}var Pl=new Map,uG=new Set;function kE(c){return typeof c.getRootNode=="function"?c.getRootNode():c.nodeType===9?c:c.ownerDocument}var mh=le.d;le.d={f:Hye,r:qye,D:Gye,C:Wye,L:Yye,m:Zye,X:Xye,S:Jye,M:Kye};function Hye(){var c=mh.f(),d=yE();return c||d}function qye(c){var d=Tl(c);d!==null&&d.tag===5&&d.type==="form"?EH(d):mh.r(c)}var Lb=typeof document>"u"?null:document;function dG(c,d,m){var b=Lb;if(b&&typeof d=="string"&&d){var $=Vs(d);$='link[rel="'+c+'"][href="'+$+'"]',typeof m=="string"&&($+='[crossorigin="'+m+'"]'),uG.has($)||(uG.add($),c={rel:c,crossOrigin:m,href:d},b.querySelector($)===null&&(d=b.createElement("link"),ws(d,"link",c),Ir(d),b.head.appendChild(d)))}}function Gye(c){mh.D(c),dG("dns-prefetch",c,null)}function Wye(c,d){mh.C(c,d),dG("preconnect",c,d)}function Yye(c,d,m){mh.L(c,d,m);var b=Lb;if(b&&c&&d){var $='link[rel="preload"][as="'+Vs(d)+'"]';d==="image"&&m&&m.imageSrcSet?($+='[imagesrcset="'+Vs(m.imageSrcSet)+'"]',typeof m.imageSizes=="string"&&($+='[imagesizes="'+Vs(m.imageSizes)+'"]')):$+='[href="'+Vs(c)+'"]';var k=$;switch(d){case"style":k=zb(c);break;case"script":k=Nb(c)}Pl.has(k)||(c=g({rel:"preload",href:d==="image"&&m&&m.imageSrcSet?void 0:c,as:d},m),Pl.set(k,c),b.querySelector($)!==null||d==="style"&&b.querySelector(Px(k))||d==="script"&&b.querySelector(Dx(k))||(d=b.createElement("link"),ws(d,"link",c),Ir(d),b.head.appendChild(d)))}}function Zye(c,d){mh.m(c,d);var m=Lb;if(m&&c){var b=d&&typeof d.as=="string"?d.as:"script",$='link[rel="modulepreload"][as="'+Vs(b)+'"][href="'+Vs(c)+'"]',k=$;switch(b){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":k=Nb(c)}if(!Pl.has(k)&&(c=g({rel:"modulepreload",href:c},d),Pl.set(k,c),m.querySelector($)===null)){switch(b){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(m.querySelector(Dx(k)))return}b=m.createElement("link"),ws(b,"link",c),Ir(b),m.head.appendChild(b)}}}function Jye(c,d,m){mh.S(c,d,m);var b=Lb;if(b&&c){var $=vc(b).hoistableStyles,k=zb(c);d=d||"default";var R=$.get(k);if(!R){var U={loading:0,preload:null};if(R=b.querySelector(Px(k)))U.loading=5;else{c=g({rel:"stylesheet",href:c,"data-precedence":d},m),(m=Pl.get(k))&&B5(c,m);var Q=R=b.createElement("link");Ir(Q),ws(Q,"link",c),Q._p=new Promise(function(_e,Ie){Q.onload=_e,Q.onerror=Ie}),Q.addEventListener("load",function(){U.loading|=1}),Q.addEventListener("error",function(){U.loading|=2}),U.loading|=4,EE(R,d,b)}R={type:"stylesheet",instance:R,count:1,state:U},$.set(k,R)}}}function Xye(c,d){mh.X(c,d);var m=Lb;if(m&&c){var b=vc(m).hoistableScripts,$=Nb(c),k=b.get($);k||(k=m.querySelector(Dx($)),k||(c=g({src:c,async:!0},d),(d=Pl.get($))&&H5(c,d),k=m.createElement("script"),Ir(k),ws(k,"link",c),m.head.appendChild(k)),k={type:"script",instance:k,count:1,state:null},b.set($,k))}}function Kye(c,d){mh.M(c,d);var m=Lb;if(m&&c){var b=vc(m).hoistableScripts,$=Nb(c),k=b.get($);k||(k=m.querySelector(Dx($)),k||(c=g({src:c,async:!0,type:"module"},d),(d=Pl.get($))&&H5(c,d),k=m.createElement("script"),Ir(k),ws(k,"link",c),m.head.appendChild(k)),k={type:"script",instance:k,count:1,state:null},b.set($,k))}}function hG(c,d,m,b){var $=($=lt.current)?kE($):null;if(!$)throw Error(r(446));switch(c){case"meta":case"title":return null;case"style":return typeof m.precedence=="string"&&typeof m.href=="string"?(d=zb(m.href),m=vc($).hoistableStyles,b=m.get(d),b||(b={type:"style",instance:null,count:0,state:null},m.set(d,b)),b):{type:"void",instance:null,count:0,state:null};case"link":if(m.rel==="stylesheet"&&typeof m.href=="string"&&typeof m.precedence=="string"){c=zb(m.href);var k=vc($).hoistableStyles,R=k.get(c);if(R||($=$.ownerDocument||$,R={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},k.set(c,R),(k=$.querySelector(Px(c)))&&!k._p&&(R.instance=k,R.state.loading=5),Pl.has(c)||(m={rel:"preload",as:"style",href:m.href,crossOrigin:m.crossOrigin,integrity:m.integrity,media:m.media,hrefLang:m.hrefLang,referrerPolicy:m.referrerPolicy},Pl.set(c,m),k||Qye($,c,m,R.state))),d&&b===null)throw Error(r(528,""));return R}if(d&&b!==null)throw Error(r(529,""));return null;case"script":return d=m.async,m=m.src,typeof m=="string"&&d&&typeof d!="function"&&typeof d!="symbol"?(d=Nb(m),m=vc($).hoistableScripts,b=m.get(d),b||(b={type:"script",instance:null,count:0,state:null},m.set(d,b)),b):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,c))}}function zb(c){return'href="'+Vs(c)+'"'}function Px(c){return'link[rel="stylesheet"]['+c+"]"}function pG(c){return g({},c,{"data-precedence":c.precedence,precedence:null})}function Qye(c,d,m,b){c.querySelector('link[rel="preload"][as="style"]['+d+"]")?b.loading=1:(d=c.createElement("link"),b.preload=d,d.addEventListener("load",function(){return b.loading|=1}),d.addEventListener("error",function(){return b.loading|=2}),ws(d,"link",m),Ir(d),c.head.appendChild(d))}function Nb(c){return'[src="'+Vs(c)+'"]'}function Dx(c){return"script[async]"+c}function fG(c,d,m){if(d.count++,d.instance===null)switch(d.type){case"style":var b=c.querySelector('style[data-href~="'+Vs(m.href)+'"]');if(b)return d.instance=b,Ir(b),b;var $=g({},m,{"data-href":m.href,"data-precedence":m.precedence,href:null,precedence:null});return b=(c.ownerDocument||c).createElement("style"),Ir(b),ws(b,"style",$),EE(b,m.precedence,c),d.instance=b;case"stylesheet":$=zb(m.href);var k=c.querySelector(Px($));if(k)return d.state.loading|=4,d.instance=k,Ir(k),k;b=pG(m),($=Pl.get($))&&B5(b,$),k=(c.ownerDocument||c).createElement("link"),Ir(k);var R=k;return R._p=new Promise(function(U,Q){R.onload=U,R.onerror=Q}),ws(k,"link",b),d.state.loading|=4,EE(k,m.precedence,c),d.instance=k;case"script":return k=Nb(m.src),($=c.querySelector(Dx(k)))?(d.instance=$,Ir($),$):(b=m,($=Pl.get(k))&&(b=g({},m),H5(b,$)),c=c.ownerDocument||c,$=c.createElement("script"),Ir($),ws($,"link",b),c.head.appendChild($),d.instance=$);case"void":return null;default:throw Error(r(443,d.type))}else d.type==="stylesheet"&&(d.state.loading&4)===0&&(b=d.instance,d.state.loading|=4,EE(b,m.precedence,c));return d.instance}function EE(c,d,m){for(var b=m.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),$=b.length?b[b.length-1]:null,k=$,R=0;R<b.length;R++){var U=b[R];if(U.dataset.precedence===d)k=U;else if(k!==$)break}k?k.parentNode.insertBefore(c,k.nextSibling):(d=m.nodeType===9?m.head:m,d.insertBefore(c,d.firstChild))}function B5(c,d){c.crossOrigin==null&&(c.crossOrigin=d.crossOrigin),c.referrerPolicy==null&&(c.referrerPolicy=d.referrerPolicy),c.title==null&&(c.title=d.title)}function H5(c,d){c.crossOrigin==null&&(c.crossOrigin=d.crossOrigin),c.referrerPolicy==null&&(c.referrerPolicy=d.referrerPolicy),c.integrity==null&&(c.integrity=d.integrity)}var IE=null;function mG(c,d,m){if(IE===null){var b=new Map,$=IE=new Map;$.set(m,b)}else $=IE,b=$.get(m),b||(b=new Map,$.set(m,b));if(b.has(c))return b;for(b.set(c,null),m=m.getElementsByTagName(c),$=0;$<m.length;$++){var k=m[$];if(!(k[Ea]||k[Fi]||c==="link"&&k.getAttribute("rel")==="stylesheet")&&k.namespaceURI!=="http://www.w3.org/2000/svg"){var R=k.getAttribute(d)||"";R=c+R;var U=b.get(R);U?U.push(k):b.set(R,[k])}}return b}function gG(c,d,m){c=c.ownerDocument||c,c.head.insertBefore(m,d==="title"?c.querySelector("head > title"):null)}function eve(c,d,m){if(m===1||d.itemProp!=null)return!1;switch(c){case"meta":case"title":return!0;case"style":if(typeof d.precedence!="string"||typeof d.href!="string"||d.href==="")break;return!0;case"link":if(typeof d.rel!="string"||typeof d.href!="string"||d.href===""||d.onLoad||d.onError)break;return d.rel==="stylesheet"?(c=d.disabled,typeof d.precedence=="string"&&c==null):!0;case"script":if(d.async&&typeof d.async!="function"&&typeof d.async!="symbol"&&!d.onLoad&&!d.onError&&d.src&&typeof d.src=="string")return!0}return!1}function yG(c){return!(c.type==="stylesheet"&&(c.state.loading&3)===0)}function tve(c,d,m,b){if(m.type==="stylesheet"&&(typeof b.media!="string"||matchMedia(b.media).matches!==!1)&&(m.state.loading&4)===0){if(m.instance===null){var $=zb(b.href),k=d.querySelector(Px($));if(k){d=k._p,d!==null&&typeof d=="object"&&typeof d.then=="function"&&(c.count++,c=CE.bind(c),d.then(c,c)),m.state.loading|=4,m.instance=k,Ir(k);return}k=d.ownerDocument||d,b=pG(b),($=Pl.get($))&&B5(b,$),k=k.createElement("link"),Ir(k);var R=k;R._p=new Promise(function(U,Q){R.onload=U,R.onerror=Q}),ws(k,"link",b),m.instance=k}c.stylesheets===null&&(c.stylesheets=new Map),c.stylesheets.set(m,d),(d=m.state.preload)&&(m.state.loading&3)===0&&(c.count++,m=CE.bind(c),d.addEventListener("load",m),d.addEventListener("error",m))}}var q5=0;function ive(c,d){return c.stylesheets&&c.count===0&&AE(c,c.stylesheets),0<c.count||0<c.imgCount?function(m){var b=setTimeout(function(){if(c.stylesheets&&AE(c,c.stylesheets),c.unsuspend){var k=c.unsuspend;c.unsuspend=null,k()}},6e4+d);0<c.imgBytes&&q5===0&&(q5=62500*Lye());var $=setTimeout(function(){if(c.waitingForImages=!1,c.count===0&&(c.stylesheets&&AE(c,c.stylesheets),c.unsuspend)){var k=c.unsuspend;c.unsuspend=null,k()}},(c.imgBytes>q5?50:800)+d);return c.unsuspend=m,function(){c.unsuspend=null,clearTimeout(b),clearTimeout($)}}:null}function CE(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)AE(this,this.stylesheets);else if(this.unsuspend){var c=this.unsuspend;this.unsuspend=null,c()}}}var ME=null;function AE(c,d){c.stylesheets=null,c.unsuspend!==null&&(c.count++,ME=new Map,d.forEach(rve,c),ME=null,CE.call(c))}function rve(c,d){if(!(d.state.loading&4)){var m=ME.get(c);if(m)var b=m.get(null);else{m=new Map,ME.set(c,m);for(var $=c.querySelectorAll("link[data-precedence],style[data-precedence]"),k=0;k<$.length;k++){var R=$[k];(R.nodeName==="LINK"||R.getAttribute("media")!=="not all")&&(m.set(R.dataset.precedence,R),b=R)}b&&m.set(null,b)}$=d.instance,R=$.getAttribute("data-precedence"),k=m.get(R)||b,k===b&&m.set(null,$),m.set(R,$),this.count++,b=CE.bind(this),$.addEventListener("load",b),$.addEventListener("error",b),k?k.parentNode.insertBefore($,k.nextSibling):(c=c.nodeType===9?c.head:c,c.insertBefore($,c.firstChild)),d.state.loading|=4}}var Rx={$$typeof:P,Provider:null,Consumer:null,_currentValue:ve,_currentValue2:ve,_threadCount:0};function nve(c,d,m,b,$,k,R,U,Q){this.tag=1,this.containerInfo=c,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Di(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Di(0),this.hiddenUpdates=Di(null),this.identifierPrefix=b,this.onUncaughtError=$,this.onCaughtError=k,this.onRecoverableError=R,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Q,this.incompleteTransitions=new Map}function vG(c,d,m,b,$,k,R,U,Q,_e,Ie,De){return c=new nve(c,d,m,R,Q,_e,Ie,De,U),d=1,k===!0&&(d|=24),k=Ia(3,null,null,d),c.current=k,k.stateNode=c,d=TR(),d.refCount++,c.pooledCache=d,d.refCount++,k.memoizedState={element:b,isDehydrated:m,cache:d},IR(k),c}function bG(c){return c?(c=mb,c):mb}function wG(c,d,m,b,$,k){$=bG($),b.context===null?b.context=$:b.pendingContext=$,b=uf(d),b.payload={element:m},k=k===void 0?null:k,k!==null&&(b.callback=k),m=df(c,b,d),m!==null&&(Ho(m,c,d),px(m,c,d))}function _G(c,d){if(c=c.memoizedState,c!==null&&c.dehydrated!==null){var m=c.retryLane;c.retryLane=m!==0&&m<d?m:d}}function G5(c,d){_G(c,d),(c=c.alternate)&&_G(c,d)}function xG(c){if(c.tag===13||c.tag===31){var d=$g(c,67108864);d!==null&&Ho(d,c,67108864),G5(c,67108864)}}function SG(c){if(c.tag===13||c.tag===31){var d=Pa();d=Yn(d);var m=$g(c,d);m!==null&&Ho(m,c,d),G5(c,d)}}var OE=!0;function sve(c,d,m,b){var $=J.T;J.T=null;var k=le.p;try{le.p=2,W5(c,d,m,b)}finally{le.p=k,J.T=$}}function ove(c,d,m,b){var $=J.T;J.T=null;var k=le.p;try{le.p=8,W5(c,d,m,b)}finally{le.p=k,J.T=$}}function W5(c,d,m,b){if(OE){var $=Y5(b);if($===null)P5(c,d,b,PE,m),$G(c,b);else if(lve($,c,d,m,b))b.stopPropagation();else if($G(c,b),d&4&&-1<ave.indexOf(c)){for(;$!==null;){var k=Tl($);if(k!==null)switch(k.tag){case 3:if(k=k.stateNode,k.current.memoizedState.isDehydrated){var R=xl(k.pendingLanes);if(R!==0){var U=k;for(U.pendingLanes|=2,U.entangledLanes|=2;R;){var Q=1<<31-Wn(R);U.entanglements[1]|=Q,R&=~Q}Vu(k),(Ii&6)===0&&(mE=hn()+500,Cx(0))}}break;case 31:case 13:U=$g(k,2),U!==null&&Ho(U,k,2),yE(),G5(k,2)}if(k=Y5(b),k===null&&P5(c,d,b,PE,m),k===$)break;$=k}$!==null&&b.stopPropagation()}else P5(c,d,b,null,m)}}function Y5(c){return c=X1(c),Z5(c)}var PE=null;function Z5(c){if(PE=null,c=Pu(c),c!==null){var d=s(c);if(d===null)c=null;else{var m=d.tag;if(m===13){if(c=o(d),c!==null)return c;c=null}else if(m===31){if(c=a(d),c!==null)return c;c=null}else if(m===3){if(d.stateNode.current.memoizedState.isDehydrated)return d.tag===3?d.stateNode.containerInfo:null;c=null}else d!==c&&(c=null)}}return PE=c,null}function TG(c){switch(c){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ib()){case Eu:return 2;case rb:return 8;case Iu:case G1:return 32;case Wp:return 268435456;default:return 32}default:return 32}}var J5=!1,xf=null,Sf=null,Tf=null,Lx=new Map,zx=new Map,$f=[],ave="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function $G(c,d){switch(c){case"focusin":case"focusout":xf=null;break;case"dragenter":case"dragleave":Sf=null;break;case"mouseover":case"mouseout":Tf=null;break;case"pointerover":case"pointerout":Lx.delete(d.pointerId);break;case"gotpointercapture":case"lostpointercapture":zx.delete(d.pointerId)}}function Nx(c,d,m,b,$,k){return c===null||c.nativeEvent!==k?(c={blockedOn:d,domEventName:m,eventSystemFlags:b,nativeEvent:k,targetContainers:[$]},d!==null&&(d=Tl(d),d!==null&&xG(d)),c):(c.eventSystemFlags|=b,d=c.targetContainers,$!==null&&d.indexOf($)===-1&&d.push($),c)}function lve(c,d,m,b,$){switch(d){case"focusin":return xf=Nx(xf,c,d,m,b,$),!0;case"dragenter":return Sf=Nx(Sf,c,d,m,b,$),!0;case"mouseover":return Tf=Nx(Tf,c,d,m,b,$),!0;case"pointerover":var k=$.pointerId;return Lx.set(k,Nx(Lx.get(k)||null,c,d,m,b,$)),!0;case"gotpointercapture":return k=$.pointerId,zx.set(k,Nx(zx.get(k)||null,c,d,m,b,$)),!0}return!1}function kG(c){var d=Pu(c.target);if(d!==null){var m=s(d);if(m!==null){if(d=m.tag,d===13){if(d=o(m),d!==null){c.blockedOn=d,Ou(c.priority,function(){SG(m)});return}}else if(d===31){if(d=a(m),d!==null){c.blockedOn=d,Ou(c.priority,function(){SG(m)});return}}else if(d===3&&m.stateNode.current.memoizedState.isDehydrated){c.blockedOn=m.tag===3?m.stateNode.containerInfo:null;return}}}c.blockedOn=null}function DE(c){if(c.blockedOn!==null)return!1;for(var d=c.targetContainers;0<d.length;){var m=Y5(c.nativeEvent);if(m===null){m=c.nativeEvent;var b=new m.constructor(m.type,m);mg=b,m.target.dispatchEvent(b),mg=null}else return d=Tl(m),d!==null&&xG(d),c.blockedOn=m,!1;d.shift()}return!0}function EG(c,d,m){DE(c)&&m.delete(d)}function cve(){J5=!1,xf!==null&&DE(xf)&&(xf=null),Sf!==null&&DE(Sf)&&(Sf=null),Tf!==null&&DE(Tf)&&(Tf=null),Lx.forEach(EG),zx.forEach(EG)}function RE(c,d){c.blockedOn===d&&(c.blockedOn=null,J5||(J5=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,cve)))}var LE=null;function IG(c){LE!==c&&(LE=c,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){LE===c&&(LE=null);for(var d=0;d<c.length;d+=3){var m=c[d],b=c[d+1],$=c[d+2];if(typeof b!="function"){if(Z5(b||m)===null)continue;break}var k=Tl(m);k!==null&&(c.splice(d,3),d-=3,YR(k,{pending:!0,data:$,method:m.method,action:b},b,$))}}))}function jb(c){function d(Q){return RE(Q,c)}xf!==null&&RE(xf,c),Sf!==null&&RE(Sf,c),Tf!==null&&RE(Tf,c),Lx.forEach(d),zx.forEach(d);for(var m=0;m<$f.length;m++){var b=$f[m];b.blockedOn===c&&(b.blockedOn=null)}for(;0<$f.length&&(m=$f[0],m.blockedOn===null);)kG(m),m.blockedOn===null&&$f.shift();if(m=(c.ownerDocument||c).$$reactFormReplay,m!=null)for(b=0;b<m.length;b+=3){var $=m[b],k=m[b+1],R=$[sr]||null;if(typeof k=="function")R||IG(m);else if(R){var U=null;if(k&&k.hasAttribute("formAction")){if($=k,R=k[sr]||null)U=R.formAction;else if(Z5($)!==null)continue}else U=R.action;typeof U=="function"?m[b+1]=U:(m.splice(b,3),b-=3),IG(m)}}}function CG(){function c(k){k.canIntercept&&k.info==="react-transition"&&k.intercept({handler:function(){return new Promise(function(R){return $=R})},focusReset:"manual",scroll:"manual"})}function d(){$!==null&&($(),$=null),b||setTimeout(m,20)}function m(){if(!b&&!navigation.transition){var k=navigation.currentEntry;k&&k.url!=null&&navigation.navigate(k.url,{state:k.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var b=!1,$=null;return navigation.addEventListener("navigate",c),navigation.addEventListener("navigatesuccess",d),navigation.addEventListener("navigateerror",d),setTimeout(m,100),function(){b=!0,navigation.removeEventListener("navigate",c),navigation.removeEventListener("navigatesuccess",d),navigation.removeEventListener("navigateerror",d),$!==null&&($(),$=null)}}}function X5(c){this._internalRoot=c}zE.prototype.render=X5.prototype.render=function(c){var d=this._internalRoot;if(d===null)throw Error(r(409));var m=d.current,b=Pa();wG(m,b,c,d,null,null)},zE.prototype.unmount=X5.prototype.unmount=function(){var c=this._internalRoot;if(c!==null){this._internalRoot=null;var d=c.containerInfo;wG(c.current,2,null,c,null,null),yE(),d[Tt]=null}};function zE(c){this._internalRoot=c}zE.prototype.unstable_scheduleHydration=function(c){if(c){var d=ki();c={blockedOn:null,target:c,priority:d};for(var m=0;m<$f.length&&d!==0&&d<$f[m].priority;m++);$f.splice(m,0,c),m===0&&kG(c)}};var MG=e.version;if(MG!=="19.2.3")throw Error(r(527,MG,"19.2.3"));le.findDOMNode=function(c){var d=c._reactInternals;if(d===void 0)throw typeof c.render=="function"?Error(r(188)):(c=Object.keys(c).join(","),Error(r(268,c)));return c=h(d),c=c!==null?f(c):null,c=c===null?null:c.stateNode,c};var uve={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:J,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var NE=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!NE.isDisabled&&NE.supportsFiber)try{Cu=NE.inject(uve),Gn=NE}catch{}}return Vx.createRoot=function(c,d){if(!n(c))throw Error(r(299));var m=!1,b="",$=zH,k=NH,R=jH;return d!=null&&(d.unstable_strictMode===!0&&(m=!0),d.identifierPrefix!==void 0&&(b=d.identifierPrefix),d.onUncaughtError!==void 0&&($=d.onUncaughtError),d.onCaughtError!==void 0&&(k=d.onCaughtError),d.onRecoverableError!==void 0&&(R=d.onRecoverableError)),d=vG(c,1,!1,null,null,m,b,null,$,k,R,CG),c[Tt]=d.current,O5(c),new X5(d)},Vx.hydrateRoot=function(c,d,m){if(!n(c))throw Error(r(299));var b=!1,$="",k=zH,R=NH,U=jH,Q=null;return m!=null&&(m.unstable_strictMode===!0&&(b=!0),m.identifierPrefix!==void 0&&($=m.identifierPrefix),m.onUncaughtError!==void 0&&(k=m.onUncaughtError),m.onCaughtError!==void 0&&(R=m.onCaughtError),m.onRecoverableError!==void 0&&(U=m.onRecoverableError),m.formState!==void 0&&(Q=m.formState)),d=vG(c,1,!0,d,m??null,b,$,Q,k,R,U,CG),d.context=bG(null),m=d.current,b=Pa(),b=Yn(b),$=uf(b),$.callback=null,df(m,$,b),m=b,d.current.lanes=m,js(d,m),Vu(d),c[Tt]=d.current,O5(c),new zE(d)},Vx.version="19.2.3",Vx}var BG;function Sve(){if(BG)return tL.exports;BG=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),tL.exports=xve(),tL.exports}var Tve=Sve();function u(t,e,i,r){var n=arguments.length,s=n<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,i):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,i,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(n<3?o(s):n>3?o(e,i,s):o(e,i))||s);return n>3&&s&&Object.defineProperty(e,i,s),s}function Det(t,e){return function(i,r){e(i,r,t)}}function fa(t,e,i,r){function n(s){return s instanceof i?s:new i(function(o){o(s)})}return new(i||(i=Promise))(function(s,o){function a(f){try{h(r.next(f))}catch(g){o(g)}}function l(f){try{h(r.throw(f))}catch(g){o(g)}}function h(f){f.done?s(f.value):n(f.value).then(a,l)}h((r=r.apply(t,e||[])).next())})}function Ret(t,e,i){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var r,n;if(i){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");r=e[Symbol.asyncDispose]}if(r===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");r=e[Symbol.dispose],i&&(n=r)}if(typeof r!="function")throw new TypeError("Object not disposable.");n&&(r=function(){try{n.call(this)}catch(s){return Promise.reject(s)}}),t.stack.push({value:e,dispose:r,async:i})}else i&&t.stack.push({async:!0});return e}var $ve=typeof SuppressedError=="function"?SuppressedError:function(t,e,i){var r=new Error(i);return r.name="SuppressedError",r.error=t,r.suppressed=e,r};function Let(t){function e(s){t.error=t.hasError?new $ve(s,t.error,"An error was suppressed during disposal."):s,t.hasError=!0}var i,r=0;function n(){for(;i=t.stack.pop();)try{if(!i.async&&r===1)return r=0,t.stack.push(i),Promise.resolve().then(n);if(i.dispose){var s=i.dispose.call(i.value);if(i.async)return r|=2,Promise.resolve(s).then(n,function(o){return e(o),n()})}else r|=1}catch(o){e(o)}if(r===1)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}return n()}let _m;const Ss=globalThis;function he(t){return typeof _m[t]=="function"?_m[t]=_m[t](Ss):_m[t]}_m=Ss.dojoConfig?.has||Ss.esriConfig?.has?{...Ss.dojoConfig?.has,...Ss.esriConfig?.has}:{},he.add=(t,e,i,r)=>{(r||_m[t]===void 0)&&(_m[t]=e),i&&he(t)},he.cache=_m,he.add("big-integer-warning-enabled",!0),he.add("esri-deprecation-warnings",!0),he.add("esri-tests-disable-screenshots",!1),he.add("esri-tests-use-full-window",!1),he.add("esri-tests-post-to-influx",!0),he.add("esri-cim-animations-enable-status","enabled"),he.add("esri-cim-animations-spotlight",!1),he.add("esri-cim-animations-freeze-time",!1),(()=>{he.add("host-webworker",Ss.WorkerGlobalScope!==void 0&&self instanceof Ss.WorkerGlobalScope);const t=typeof window<"u"&&typeof location<"u"&&typeof document<"u"&&window.location===location&&window.document===document;if(he.add("host-browser",t),he.add("host-node",!(typeof Ss.process!="object"||!Ss.process.versions?.node||!Ss.process.versions.v8)),he.add("dom",t),he("host-browser")){const e=navigator,i=e.userAgent,r=e.appVersion,n=parseFloat(r);if(he.add("wp",parseFloat(i.split("Windows Phone")[1])||void 0),he.add("msapp",parseFloat(i.split("MSAppHost/")[1])||void 0),he.add("khtml",r.includes("Konqueror")?n:void 0),he.add("edge",parseFloat(i.split("Edge/")[1])||void 0),he.add("opr",parseFloat(i.split("OPR/")[1])||void 0),he.add("webkit",!he("wp")&&!he("edge")&&parseFloat(i.split("WebKit/")[1])||void 0),he.add("chrome",!he("edge")&&!he("opr")&&parseFloat(i.split("Chrome/")[1])||void 0),he.add("android",!he("wp")&&parseFloat(i.split("Android ")[1])||void 0),he.add("safari",!r.includes("Safari")||he("wp")||he("chrome")||he("android")||he("edge")||he("opr")?void 0:parseFloat(r.split("Version/")[1])),he.add("mac",r.includes("Macintosh")),!he("wp")&&/(iPhone|iPod|iPad)/.test(i)){const s=RegExp.$1.replace(/P/,"p"),o=/OS ([\d_]+)/.test(i)?RegExp.$1:"1",a=parseFloat(o.replace(/_/,".").replaceAll("_",""));he.add(s,a),he.add("ios",a)}he("webkit")||(!i.includes("Gecko")||he("wp")||he("khtml")||he("edge")||he.add("mozilla",n),he("mozilla")&&he.add("ff",parseFloat(i.split("Firefox/")[1]||i.split("Minefield/")[1])||void 0))}})(),(()=>{if(Ss.navigator){const t=navigator.userAgent,e=/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini|IEMobile/i.test(t),i=/iPhone/i.test(t);e&&he.add("esri-mobile",e),i&&he.add("esri-iPhone",i),he.add("esri-geolocation",!!navigator.geolocation)}he.add("esri-wasm","WebAssembly"in Ss),he.add("esri-performance-mode-frames-between-render",20),he.add("esri-force-performance-mode",!1),he.add("esri-shared-array-buffer",()=>{const t="SharedArrayBuffer"in Ss,e=Ss.crossOriginIsolated===!1;return t&&!e}),he.add("wasm-simd",()=>{const t=[0,97,115,109,1,0,0,0,1,5,1,96,0,1,123,3,2,1,0,10,10,1,8,0,65,0,253,15,253,98,11];return WebAssembly.validate(new Uint8Array(t))}),he.add("esri-atomics","Atomics"in Ss),he.add("esri-workers","Worker"in Ss),he.add("web-feat:cache","caches"in Ss),he.add("esri-workers-arraybuffer-transfer",!he("safari")||Number(he("safari"))>=12),he.add("workers-pool-size",8),he.add("featurelayer-simplify-thresholds",[.5,.5,.5,.5]),he.add("featurelayer-simplify-payload-size-factors",[1,1,4]),he.add("featurelayer-fast-triangulation-enabled",!0),he.add("featurelayer-animation-enabled",!0),he.add("featurelayer-snapshot-enabled",!0),he.add("featurelayer-snapshot-initial-tolerance",0),he.add("featurelayer-snapshot-point-min-threshold",8e4),he.add("featurelayer-snapshot-point-max-threshold",4e5),he.add("featurelayer-snapshot-multipoint-min-threshold",2e4),he.add("featurelayer-snapshot-multipoint-max-threshold",1e5),he.add("featurelayer-snapshot-polygon-min-threshold",2e3),he.add("featurelayer-snapshot-polygon-max-threshold",2e3),he.add("featurelayer-snapshot-polyline-min-threshold",2e3),he.add("featurelayer-snapshot-polyline-max-threshold",2e3),he.add("featurelayer-snapshot-max-vertex-count",25e4),he.add("featurelayer-snapshot-non-hosted-exceedslimit-enabled",!0),he.add("featurelayer-snapshot-concurrency",4),he.add("featurelayer-snapshot-coverage",.1),he.add("featurelayer-query-max-depth",4),he.add("featurelayer-query-pausing-enabled",!1),he.add("featurelayer-query-tile-concurrency",4),he.add("featurelayer-query-tile-max-features",6e5),he.add("featurelayer-advanced-symbols",!1),he.add("featurelayer-pbf",!0),he.add("featurelayer-pbf-statistics",!1),he.add("feature-layers-workers",!0),he.add("feature-polyline-generalization-factor",1),he.add("parquetlayer-full-query-feature-count",2e4),he.add("parquetlayer-hittest-max-feature-count",1),he.add("parquetlayer-persistence-enabled",!1),he.add("mapview-transitions-duration",200),he.add("mapview-essential-goto-duration",200),he.add("mapview-srswitch-adjust-rotation-scale-threshold",24e6),he.add("mapserver-pbf-version-support",10.81),he.add("mapservice-popup-identify-max-tolerance",20),he.add("request-queue-concurrency-hosted",16),he.add("request-queue-concurrency-non-hosted",4),he.add("curve-densification-coarse-segments",128),he.add("curve-densification-max-segments",2e3),he.add("curve-densification-min-segments",3),he.add("curve-densification-pixel-deviation",.5),he.add("view-readyState-waiting-delay",1e3),he.add("gradient-depth-bias",.01),he.add("gradient-depth-epsilon",1e-8),he.add("enable-feature:esri-compress-textures",!0),he("host-webworker")||he("host-browser")&&(he.add("esri-csp-restrictions",()=>{try{new Function}catch{return!0}return!1}),he.add("esri-url-encodes-apostrophe",()=>{const t=window.document.createElement("a");return t.href="?'",t.href.includes("?%27")}))})();const HG=new WeakMap;function kve(t,e,i=!1){const r=` DEPRECATED - ${e}`;if(!i)return void t.warn(r);let n=HG.get(t);n||(n=new Set,HG.set(t,n)),n.has(e)||(n.add(e),t.warn(r))}const fA="https://www.esriurl.com/";function Eve(t,e,i,r={}){he("esri-deprecation-warnings")&&Um(t,`This widget is deprecated. Use the ${e} component instead.`,{see:[`${e} component reference: ${fA}${i}/`,`Esri's move to web components: ${fA}components-transition-plan/`],replacement:`<${i}></${i}>`,warnOnce:!0,...r})}function Ive(t,e,i,r={}){he("esri-deprecation-warnings")&&Um(t,`This view model is deprecated. Use the ${e} component directly instead.`,{see:[`${e} component reference: ${fA}${i}/`,`Esri's move to web components: ${fA}components-transition-plan/`],replacement:`<${i}></${i}>`,warnOnce:!0,...r})}function zet(t,e,i={}){he("esri-deprecation-warnings")&&Um(t,`Module: ${e}`,i)}function Xte(t,e,i={}){if(he("esri-deprecation-warnings")){const{moduleName:r}=i;Um(t,`Function: ${(r?r+"::":"")+e+"()"}`,i)}}function VN(t,e,i={}){if(he("esri-deprecation-warnings")){const{moduleName:r}=i;Um(t,`Property: ${(r?r+"::":"")+e}`,i)}}function Cve(t,e,i={}){he("esri-deprecation-warnings")&&Um(t,`Multiple argument constructor: ${e}`,{warnOnce:!0,replacement:`new ${e}({ <your properties here> })`,...i})}function Um(t,e,i={}){if(he("esri-deprecation-warnings")){const{replacement:r,version:n,see:s,warnOnce:o}=i;let a=e;if(r&&(a+=`
	 Replacement: ${r}`),n&&(a+=`
	 Version: ${n}`),s)if(Array.isArray(s)){a+=`
	 See for more details:`;for(const l of s)a+=`
		${l}`}else a+=`
	 See ${s} for more details.`;kve(t,a,o)}}function Net(t){const e=[];return function*(){yield*e;let i,r=e.length;for(;!(i=t.next()).done;)for(e.push(i.value),yield i.value;++r<e.length;)yield e[r]}}function Mve(t,e){for(const i of t)if(i!=null&&e(i))return i}function mA(t){return t!=null&&typeof t[Symbol.iterator]=="function"}let y1=class{constructor(){this._groups=new Map}destroy(){this.removeAll()}get size(){let e=0;return this._groups.forEach(i=>{e+=i.length}),e}add(e,i){if(mA(e)){const r=this._getOrCreateGroup(i);for(const n of e)GG(n)&&r.push(n)}else GG(e)&&this._getOrCreateGroup(i).push(e);return this}forEach(e,i){if(typeof e=="function")this._groups.forEach(r=>r.forEach(e));else{const r=this._getGroup(e);r&&i&&r.forEach(i)}}has(e){return this._groups.has(jE(e))}remove(e){if(typeof e!="string"&&mA(e)){for(const i of e)this.remove(i);return this}return this.has(e)?(qG(this._getGroup(e)),this._groups.delete(jE(e)),this):this}removeAll(){return this._groups.forEach(qG),this._groups.clear(),this}removeReference(e){return this._groups.delete(e),this}_getOrCreateGroup(e){if(this.has(e))return this._getGroup(e);const i=[];return this._groups.set(jE(e),i),i}_getGroup(e){return this._groups.get(jE(e))}};function jE(t){return t||"_default_"}function qG(t){for(const e of t)e instanceof y1?e.removeAll():e.remove()}function GG(t){return t!=null&&(!!t.remove||t instanceof y1)}function Fet(t){}function Ave(t){return()=>t}function Vet(t){return t}var aa;let Ove=(aa=class{constructor(e=1){this._seed=e}set seed(e){this._seed=e??Math.random()*aa._m}getInt(){return this._seed=(aa._a*this._seed+aa._c)%aa._m,this._seed}getFloat(){return this.getInt()/(aa._m-1)}getIntRange(e,i){return Math.round(this.getFloatRange(e,i))}getFloatRange(e,i){const r=i-e;return e+this.getInt()/aa._m*r}},aa._m=2147483647,aa._a=48271,aa._c=0,aa);const Pve=1.5,Uet=1/Pve,Bet=.5;function Kte(t){return t}function Dve(t,e=Kte){if(!t||t.length===0)return;let i=t[0],r=e(i);for(let n=1;n<t.length;++n){const s=t[n],o=Number(e(s));o>r&&(r=o,i=s)}return i}function Het(t,e=Kte){return Dve(t,i=>-e(i))}function Rve(t,e){return e?t.filter((i,r,n)=>n.findIndex(e.bind(null,i))===r):Array.from(new Set(t))}function Lve(t,e,i,r,n,s,o){if(t==null&&r==null)return!0;e=Math.max(0,e),n=Math.max(0,n),i=Math.max(0,i<0?(t?.length??0)+i:i),s=Math.max(0,s<0?(r?.length??0)+s:s);const a=i-e;if(t==null||r==null||a!==s-n)return!1;if(o){for(let l=0;l<a;l++)if(!o(t[e+l],r[n+l]))return!1}else for(let l=0;l<a;l++)if(t[e+l]!==r[n+l])return!1;return!0}function rD(t,e,i){return Lve(t,0,t?.length??0,e,0,e?.length??0,i)}function qet(){return(t,e)=>{if(t==null&&e==null)return!0;if(t==null||e==null||t.length!==e.length)return!1;for(let i=0;i<t.length;i++)if(t[i]!==e[i])return!1;return!0}}function WG(t,e,i){let r,n;return i?(r=e.filter(s=>!t.some(o=>i(o,s))),n=t.filter(s=>!e.some(o=>i(o,s)))):(r=e.filter(s=>!t.includes(s)),n=t.filter(s=>!e.includes(s))),{added:r,removed:n}}function Get(t){return t&&typeof t.length=="number"}function Wet(t,e){const i=t.length;if(i===0)return[];const r=[];for(let n=0;n<i;n+=e)r.push(t.slice(n,n+e));return r}let Qte=class{constructor(){this.last=0}};const eie=new Qte;function UN(t,e,i,r){r=r||eie;const n=Math.max(0,r.last-10);for(let o=n;o<i;++o)if(t[o]===e)return r.last=o,o;const s=Math.min(n,i);for(let o=0;o<s;++o)if(t[o]===e)return r.last=o,o;return-1}function BN(t,e,i,r){const n=t.length,s=UN(t,e,n,r);if(s!==-1)return t[s]=t[n-1],t.pop(),e}const Mc=new Set;function zve(t,e,i=t.length,r=e.length,n,s){if(r===0||i===0)return i;Mc.clear();for(let a=0;a<r;++a)Mc.add(e[a]);n=n||eie;const o=Math.max(0,n.last-10);for(let a=o;a<i;++a)if(Mc.has(t[a])&&(s?.push(t[a]),Mc.delete(t[a]),t[a]=t[i-1],--i,--a,Mc.size===0||i===0))return Mc.clear(),i;for(let a=0;a<o;++a)if(Mc.has(t[a])&&(s?.push(t[a]),Mc.delete(t[a]),t[a]=t[i-1],--i,--a,Mc.size===0||i===0))return Mc.clear(),i;return Mc.clear(),i}function Nve(t,e){let i=0;for(let r=0;r<t.length;++r){const n=t[r];e(n,r)&&(t[i]=n,i++)}return t.length=i,t}function Zet(t,e,i){const r=t.length;if(e>=r)return t.slice();const n=tie(i),s=new Set,o=[];for(;o.length<e;){const a=Math.floor(n()*r);s.has(a)||(s.add(a),o.push(t[a]))}return o}function tie(t){return t?(YG.seed=t,()=>YG.getFloat()):Math.random}const YG=new Ove;function Jet(t,e){if(!t)return t;const i=tie(e);for(let r=t.length-1;r>0;r--){const n=Math.floor(i()*(r+1)),s=t[r];t[r]=t[n],t[n]=s}return t}function KV(t,e){const i=t.indexOf(e);return i!==-1?(t.splice(i,1),e):null}function vu(t,e){return t!=null}const Xet=[];function Ket(t){return t instanceof ArrayBuffer}function QV(t){return t?.constructor?.name==="Int8Array"}function iie(t){return t?.constructor?.name==="Uint8Array"}function rie(t){return t?.constructor?.name==="Uint8ClampedArray"}function e9(t){return t?.constructor?.name==="Int16Array"}function nie(t){return t?.constructor?.name==="Uint16Array"}function t9(t){return t?.constructor?.name==="Int32Array"}function sie(t){return t?.constructor?.name==="Uint32Array"}function jve(t){return t?.constructor?.name==="Float16Array"}function nD(t){return t?.constructor?.name==="Float32Array"}function sD(t){return t?.constructor?.name==="Float64Array"}function Fve(t){return"buffer"in t}const oie=1024;function Qet(t){return sD(t)||nD(t)||t9(t)||e9(t)||QV(t)}function ett(t){return sD(t)||nD(t)}function ttt(t){return sD(t)?179769e303:jve(t)?65504:nD(t)?3402823e32:sie(t)?4294967295:nie(t)?65535:iie(t)||rie(t)?255:t9(t)?2147483647:e9(t)?32767:QV(t)?127:256}const itt=-32768,rtt=-2147483648;function ntt(t){return t}function i9(t,e){let i;for(i in t)t.hasOwnProperty(i)&&t[i]===void 0&&delete t[i];return t}function ne(t){if(!t||typeof t!="object"||typeof t=="function")return t;const e=cie(t);if(e!=null)return e;if(TT(t))return t.clone();if(aie(t))return t.map(ne);if(lie(t))throw new Error("Trying to clone an unclonable Accessor instance");const i={};for(const r of Object.getOwnPropertyNames(t))i[r]=ne(t[r]);return i}function HN(t,e){if(!t||typeof t!="object"||typeof t=="function"||"HTMLElement"in globalThis&&t instanceof HTMLElement)return t;const i=cie(t);if(i!=null)return i;if(aie(t)){let n=!0;const s=t.map(o=>{const a=HN(o,e);return o!=null&&a==null&&(n=!1),a});return n?s:null}if(TT(t))return t.clone(e);if(t instanceof File||t instanceof Blob)return t;if(lie(t))return null;const r=new(Object.getPrototypeOf(t)).constructor;for(const n of Object.getOwnPropertyNames(t)){const s=t[n],o=HN(s);if(s!=null&&o==null)return null;r[n]=o}return r}function TT(t){return typeof t.clone=="function"}function aie(t){return typeof t.map=="function"&&typeof t.forEach=="function"}function lie(t){return typeof t.notifyChange=="function"&&typeof t.watch=="function"}function ZG(t){if(Object.prototype.toString.call(t)!=="[object Object]")return!1;const e=Object.getPrototypeOf(t);return e===null||e===Object.prototype}function cie(t){if(QV(t)||iie(t)||rie(t)||e9(t)||nie(t)||t9(t)||sie(t)||nD(t)||sD(t))return t.slice();if(t instanceof Date)return new Date(t);if(t instanceof ArrayBuffer)return t.slice(0,t.byteLength);if(t instanceof Map){const e=new Map;for(const[i,r]of t)e.set(i,ne(r));return e}if(t instanceof Set){const e=new Set;for(const i of t)e.add(ne(i));return e}return null}function r9(t,e){return t===e||typeof t=="number"&&isNaN(t)&&typeof e=="number"&&isNaN(e)||typeof t?.getTime=="function"&&typeof e?.getTime=="function"&&t.getTime()===e.getTime()||!1}function uie(t,e){return t===e||(t==null||typeof t=="string"?t===e:typeof t=="number"?t===e||typeof e=="number"&&isNaN(t)&&isNaN(e):t instanceof Date?e instanceof Date&&t.getTime()===e.getTime():Array.isArray(t)?Array.isArray(e)&&rD(t,e):t instanceof Set?e instanceof Set&&Uve(t,e):t instanceof Map?e instanceof Map&&Bve(t,e):!!ZG(t)&&ZG(e)&&Vve(t,e))}function Vve(t,e){if(t===null||e===null)return!1;const i=Object.keys(t);if(e===null||Object.keys(e).length!==i.length)return!1;for(const r of i)if(t[r]!==e[r]||!Object.prototype.hasOwnProperty.call(e,r))return!1;return!0}function Uve(t,e){if(t.size!==e.size)return!1;for(const i of t)if(!e.has(i))return!1;return!0}function Bve(t,e){if(t.size!==e.size)return!1;for(const[i,r]of t){const n=e.get(i);if(n!==r||n===void 0&&!e.has(i))return!1}return!0}function n9(t,e,i=!1){return hie(t,e,i)}function vp(t,e){if(e!=null)return e[t]||die(t.split("."),!1,e)}function Kr(t,e,i){const r=t.split("."),n=r.pop(),s=die(r,!0,i);s&&n&&(s[n]=e)}function JG(t,e){if(t==null&&e==null)return!1;if(t==null||e==null)return!0;if(typeof t=="object"){if(Array.isArray(t)){const i=e;if(t.length!==i.length)return!0;for(let r=0;r<t.length;r++)if(JG(t[r],i[r]))return!0;return!1}if(Object.keys(t).length!==Object.keys(e).length)return!0;for(const i in t)if(JG(t[i],e[i]))return!0;return!1}return t!==e}function die(t,e,i){let r=i;for(const n of t){if(r==null)return;if(!(n in r)){if(!e)return;r[n]={}}r=r[n]}return r}function hie(t,e,i){return e?Object.keys(e).reduce((r,n)=>{if(n==="__proto__")return r;let s=r[n],o=e[n];return s===o?r:s===void 0?(r[n]=ne(o),r):(Array.isArray(o)||Array.isArray(r)?(s=s?Array.isArray(s)?r[n]=s.slice():r[n]=[s]:r[n]=[],o&&(Array.isArray(o)||(o=[o]),i?o.forEach(a=>{s.includes(a)||s.push(a)}):r[n]=o.slice())):o&&typeof o=="object"?r[n]=hie(s,o,i):r.hasOwnProperty(n)&&!e.hasOwnProperty(n)||(r[n]=o),r)},t||{}):t}function stt(t,e){for(const i of Object.entries(t))if(e===i[1])return i[0]}function oD(t,e){return Object.values(t).includes(e)}const ni={apiKey:void 0,apiKeys:{scopes:[]},applicationName:"",applicationUrl:globalThis.location?.href,assetsPath:"",fontsUrl:"https://static.arcgis.com/fonts",geometryServiceUrl:"https://utility.arcgisonline.com/arcgis/rest/services/Geometry/GeometryServer",geoRSSServiceUrl:"https://utility.arcgis.com/sharing/rss",kmlServiceUrl:"https://utility.arcgis.com/sharing/kml",userPrivilegesApplied:!0,portalUrl:"https://www.arcgis.com",respectPrefersReducedMotion:!0,routeServiceUrl:"https://route-api.arcgis.com/arcgis/rest/services/World/Route/NAServer/Route_World",workers:{loaderConfig:{has:{},paths:{},map:{},packages:[]}},request:{crossOriginNoCorsDomains:null,httpsDomains:["arcgis.com","arcgisonline.com","esrikr.com","premiumservices.blackbridge.com","esripremium.accuweather.com","gbm.digitalglobe.com","firstlook.digitalglobe.com","msi.digitalglobe.com"],interceptors:[],internalInterceptors:[],maxUrlLength:2e3,priority:"high",proxyRules:[],proxyUrl:null,timeout:62e3,trustedServers:[],useIdentity:!0},log:{interceptors:[],level:null}};if(globalThis.esriConfig&&(n9(ni,globalThis.esriConfig,!0),delete ni.has),!ni.assetsPath){{const t="4.34";ni.assetsPath=`https://js.arcgis.com/${t}/@arcgis/core/assets`}ni.defaultAssetsPath=ni.assetsPath}const Hve=/\{([^}]+)\}/g;function XG(t){return t??""}function eg(t,e){return e?t.replaceAll(Hve,typeof e=="object"?(i,r)=>XG(vp(r,e)):(i,r)=>XG(e(r))):t}function ott(t,e){return t.replaceAll(/([.$?*|{}()[\]\\/+\-^])/g,i=>e?.includes(i)?i:`\\${i}`)}function pie(t){let e=0;for(let i=0;i<t.length;i++)e=(e<<5)-e+t.charCodeAt(i),e|=0;return e}let KG;function att(t){return KG??=new DOMParser,KG.parseFromString(t||"","text/html").body.innerText||""}function ltt(t,e){return new RegExp(`{${e}}`,"ig").test(t)}function ctt(t,...e){let i=t[0];for(let r=0;r<e.length;++r)i+=e[r]+t[r+1];return i}const QG={info:0,warn:1,error:2,none:3};var cn;let Ee=(cn=class{constructor(e){this.level=null,this._module="",this._parent=null,this.writer=null,this._loggedMessages={error:new Map,warn:new Map,info:new Map},e.level!=null&&(this.level=e.level),e.writer!=null&&(this.writer=e.writer),this._module=e.module,cn._loggers.set(this.module,this);const i=this.module.lastIndexOf(".");i!==-1&&(this._parent=cn.getLogger(this.module.slice(0,i)))}get module(){return this._module}get parent(){return this._parent}error(...e){this._log("error","always",...e)}warn(...e){this._log("warn","always",...e)}info(...e){this._log("info","always",...e)}errorOnce(...e){this._log("error","once",...e)}warnOnce(...e){this._log("warn","once",...e)}infoOnce(...e){this._log("info","once",...e)}errorOncePerTick(...e){this._log("error","oncePerTick",...e)}warnOncePerTick(...e){this._log("warn","oncePerTick",...e)}infoOncePerTick(...e){this._log("info","oncePerTick",...e)}get test(){}static get test(){}static getLogger(e){return e=typeof e!="string"?e.declaredClass:e,cn._loggers.get(e)||new cn({module:e})}_log(e,i,...r){if(this._matchLevel(e)){if(i!=="always"&&!cn._throttlingDisabled){const n=Gve(r),s=this._loggedMessages[e].get(n);if(i==="once"&&s!=null||i==="oncePerTick"&&s&&s>=cn._tickCounter)return;this._loggedMessages[e].set(n,cn._tickCounter),cn._scheduleTickCounterIncrement()}for(const n of ni.log.interceptors)if(n(e,this.module,...r))return;this._inheritedWriter()(e,this.module,...r)}}_parentWithMember(e,i){let r=this;for(;r!=null;){const n=r[e];if(n!=null)return n;r=r.parent}return i}_inheritedWriter(){return this._parentWithMember("writer",qve)}_matchLevel(e){const i=ni.log.level||"warn";return QG[this._parentWithMember("level",i)]<=QG[e]}static _scheduleTickCounterIncrement(){cn._tickCounterScheduled||(cn._tickCounterScheduled=!0,Promise.resolve().then(()=>{cn._tickCounter++,cn._tickCounterScheduled=!1}))}},cn._loggers=new Map,cn._tickCounter=0,cn._tickCounterScheduled=!1,cn._throttlingDisabled=!1,cn);function qve(t,e,...i){console[t](`[${e}]`,...i)}function Gve(...t){return pie(JSON.stringify(t,(i,r)=>typeof r!="object"||Array.isArray(r)?r:"[Object]"))}function fie(t,e){if(t==null)throw new Error(e??"value is None")}function pr(t){return t?.destroy(),null}function utt(t){return t?.dispose(),null}function rr(t){return t?.remove(),null}function fv(t){return t?.abort(),null}function dtt(t){return t?.release(),null}function Wve(t,e,i){return t!=null&&e!=null?i!=null?i(t,e):t.equals(e):t===e}function Yve(t,e){let i;return t.some((r,n)=>(i=e(r,n),i!=null)),i??void 0}const mie=Symbol("Accessor-beforeDestroy"),Zve={remove:()=>{}};function oi(t){return t?{remove(){t&&(t(),t=void 0)}}:Zve}function gie(t){t.forEach(e=>e?.remove())}function htt(t){gie(t),t.length=0}function Fv(t){return oi(()=>gie(t))}function ptt(t){return oi(()=>t()?.remove())}function Jve(t){return oi(()=>t?.abort())}function ftt(t){return oi(t!=null?()=>t.destroy():void 0)}function Xve(t){return typeof t=="object"&&!!t&&"remove"in t&&typeof t.remove=="function"}function mtt(t){Xve(t)&&t.remove()}function gtt(t){return{[Symbol.dispose](){t.remove()}}}function zo(t){return t.__accessor__??null}function Kve(t,e){return t?.metadata?.[e]!=null}function TC(t,e,i){return i?gA(t,e,{policy:i,path:""}):gA(t,e,null)}function gA(t,e,i){return e?Object.keys(e).reduce((r,n)=>{const s=n;if(s==="__proto__")return r;let o=null,a="merge";if(i&&(o=i.path?`${i.path}.${n}`:n,a=i.policy(o)),a==="replace"||a==="replace-arrays"&&Array.isArray(r[s]))return r[s]=e[s],r;if(r[s]===void 0)return r[s]=ne(e[s]),r;let l=r[s],h=e[s];if(l===h)return r;if(Array.isArray(h)||Array.isArray(r))l=l?Array.isArray(l)?r[s]=l.slice():r[s]=[l]:r[s]=[],h&&(Array.isArray(h)||(h=[h]),h.forEach(f=>{l.includes(f)||l.push(f)}));else if(h&&typeof h=="object")if(i){const f=i.path;i.path=o,r[s]=gA(l,h,i),i.path=f}else r[s]=gA(l,h,null);else r.hasOwnProperty(n)&&!e.hasOwnProperty(n)||(r[s]=h);return r},t||{}):t}function yie(t){return Array.isArray(t)?t:t.split(".")}function eW(t){return t.includes(",")?t.split(",").map(e=>e.trim()):[t.trim()]}function Qve(t){if(Array.isArray(t)){const e=[];for(const i of t)e.push(...eW(i));return e}return eW(t)}function vie(t,e,i,r){const n=Qve(e);if(n.length!==1){const s=n.map(o=>r(t,o,i));return Fv(s)}return r(t,n[0],i)}function bie(t,e){const i=t.endsWith("?")?t.slice(0,-1):t;if(e.getItemAt!=null||Array.isArray(e)){const n=parseInt(i,10);if(!isNaN(n))return Array.isArray(e)?e[n]:e.at(n)}const r=zo(e);return Kve(r,i)?r.get(i):e[i]}function wie(t,e,i){if(t==null)return t;const r=bie(e[i],t);return!r&&i<e.length-1?void 0:i===e.length-1?r:wie(r,e,i+1)}function P$(t,e,i=0){return typeof e!="string"||e.includes(".")?wie(t,yie(e),i):bie(e,t)}function du(t,e){return P$(t,e)}function tW(t,e){return P$(e,t)!==void 0}const nl={INITIALIZING:0,CONSTRUCTING:1,CONSTRUCTED:2,DESTROYING:3,DESTROYED:4};function v1(t){let e=t.constructor.__accessorMetadata__;const i=Object.prototype.hasOwnProperty.call(t.constructor,"__accessorMetadata__");if(e){if(!i){e=Object.create(e);for(const r in e)e[r]=ne(e[r]);Object.defineProperty(t.constructor,"__accessorMetadata__",{value:e,enumerable:!1,configurable:!0,writable:!0})}}else e={},Object.defineProperty(t.constructor,"__accessorMetadata__",{value:e,enumerable:!1,configurable:!0,writable:!0});return t.constructor.__accessorMetadata__}function D$(t,e){const i=v1(t);let r=i[e];return r||(r=i[e]={}),r}function ebe(t,e){return TC(t,e,ibe)}const tbe=/^(?:[^.]+\.)?(?:value|type|(?:json\.type|json\.origins\.[^.]\.type))$/;function ibe(t){return tbe.test(t)?"replace":"merge"}function rbe(t){return t?.release&&typeof t.release=="function"}function nbe(t){return t?.acquire&&typeof t.acquire=="function"}var jm;let b1=(jm=class{constructor(e,i,r,n=1,s=0){this._creator=e,this._acquireFunction=i,this._releaseFunction=r,this.allocationSize=n,this._pool=new Array(s),this._initialSize=s;for(let o=0;o<s;o++)this._pool[o]=this._creator();this.allocationSize=Math.max(n,1)}destroy(){this.prune(0)}acquire(...e){let i;if(jm.test.disabled)i=this._creator();else{if(this._pool.length===0){const r=this.allocationSize;for(let n=0;n<r;n++)this._pool[n]=this._creator()}i=this._pool.pop()}return this._acquireFunction?this._acquireFunction(i,...e):nbe(i)&&i.acquire(...e),i}release(e){e&&!jm.test.disabled&&(this._releaseFunction?this._releaseFunction(e):rbe(e)&&e.release(),this._pool.push(e))}prune(e=this._initialSize){if(!(e>=this._pool.length)){for(let i=e;i<this._pool.length;++i){const r=this._pool[i];this._dispose(r)}this._pool.length=e}}_dispose(e){e.dispose&&typeof e.dispose=="function"&&e.dispose()}},jm.test={disabled:!!he("esri-tests-disable-memory-pools")},jm),sbe=class{constructor(e,i){this._observers=e,this._observer=i}remove(){KV(this._observers,this._observer)}},_ie=class{constructor(){this._observers=null,this.destroyed=!1}observe(e){if(this.destroyed||e.destroyed)return obe;this._observers==null&&(this._observers=[]);const i=this._observers;let r=!1,n=!1;const s=i.length;for(let o=0;o<s;++o){const a=i[o];if(a.destroyed)n=!0;else if(a===e){r=!0;break}}return r||(i.push(e),n&&this._removeDestroyedObservers()),new sbe(i,e)}_removeDestroyedObservers(){const e=this._observers;if(!e||e.length===0)return;const i=e.length;let r=0;for(let n=0;n<i;++n){for(;n+r<i&&e[n+r].destroyed;)++r;if(r>0){if(!(n+r<i))break;e[n]=e[n+r]}}e.length=i-r}destroy(){if(this.destroyed)return;this.destroyed=!0;const e=this._observers;if(e!=null){for(const i of e)i.onCommitted();this._observers=null}}};const obe=oi(),xr={Dirty:1,Overridden:2,Computing:4,NonNullable:8,HasDefaultValue:16,DepTrackingInitialized:32,AutoTracked:64,ExplicitlyTracking:128};let aD=class{constructor(e){this.accessed=void 0,this._handles=void 0,this._observer=e}destroy(){this.accessed?.clear(),this.clear()}onAccessed(e){this._observer!=null&&e!==this._observer&&(this.accessed==null&&(this.accessed=new Set),this.accessed.add(e))}onTrackingEnd(){this._observer!=null&&(this.clear(),this.accessed!=null&&(this._handles==null&&(this._handles=[]),this.accessed.forEach(e=>{this._handles.push(e.observe(this._observer))}),this.accessed.clear()))}clear(){if(this._handles!=null){for(let e=0;e<this._handles.length;++e)this._handles[e].remove();this._handles.length=0}}};const yA=new aD,vS=[];let $T=yA;function _t(t){$T.onAccessed(t)}let $C=!1,kC=!1;function Pd(t,e,i){if($C)return s9(t,e,i);let r=null;return xie(t),r=e.call(i),Sie(),r}function abe(t,e){return Pd(yA,t,e)}function s9(t,e,i){const r=$C;$C=!0,xie(t);let n=null;try{n=e.call(i)}catch(s){kC&&Ee.getLogger("esri.core.accessorSupport.tracking").error(s)}return Sie(),$C=r,n}function xie(t){$T=t,vS.push(t)}function Sie(){const t=vS.length;if(t>1){const e=vS.pop();$T=vS[t-2],e.onTrackingEnd()}else if(t===1){const e=vS.pop();$T=yA,e.onTrackingEnd()}else $T=yA}function Tie(t,e){if(e.flags&xr.DepTrackingInitialized)return;e.flags|=xr.DepTrackingInitialized;const i=kC;kC=!1,e.flags&xr.AutoTracked?s9(e.trackingTarget,e.metadata.get,t):$ie(t,e),kC=i}const lbe=[];function $ie(t,e){e.flags&xr.ExplicitlyTracking||(e.flags|=xr.ExplicitlyTracking,s9(e.trackingTarget,()=>{const i=e.metadata.dependsOn||lbe;for(const r of i)if(typeof r!="string"||r.includes(".")){const n=yie(r);for(let s=0,o=t;s<n.length&&o!=null&&typeof o=="object";++s)o=iW(o,n[s],s!==n.length-1)}else iW(t,r,!1)}),e.flags&=-129)}function iW(t,e,i){const r=e.endsWith("?")?e.slice(0,-1):e;if(t.getItemAt!=null||Array.isArray(t)){const s=parseInt(r,10);if(!isNaN(s))return Array.isArray(t)?t[s]:t.at(s)}const n=zo(t);if(n){const s=n.propertiesByName.get(r);s&&(_t(s),Tie(t,s))}return i?t[r]:void 0}let rW=class extends _ie{constructor(e,i){super(),this.propertyName=e,this.metadata=i,this.trackingTarget=new aD(this),this.flags=0,this.flags=xr.Dirty|(i.nonNullable?xr.NonNullable:0)|(i.hasOwnProperty("value")?xr.HasDefaultValue:0)|(i.get===void 0?xr.DepTrackingInitialized:0)|(i.dependsOn===void 0?xr.AutoTracked:0)}destroy(){this.flags&xr.Dirty&&this.onCommitted(),super.destroy(),this.trackingTarget.destroy()}getComputed(e){e.mutable&&_t(this);const i=e.store,r=this.propertyName,n=this.flags,s=i.get(r);if(n&xr.Computing||~n&xr.Dirty&&i.has(r))return s;this.flags|=xr.Computing;const o=e.host;let a;n&xr.AutoTracked?a=Pd(this.trackingTarget,this.metadata.get,o):($ie(o,this),a=this.metadata.get.call(o)),this.flags|=xr.DepTrackingInitialized,i.set(r,a,1);const l=i.get(r);return l===s?this.flags&=-2:abe(this.commit,this),this.flags&=-5,l}notifyChange(){this.onInvalidated(),this.onCommitted()}invalidate(){this.onInvalidated()}commit(){this.flags&=-2,this.onCommitted()}onInvalidated(){~this.flags&xr.Overridden&&(this.flags|=xr.Dirty);const e=this._observers;if(e&&e.length>0)for(const i of e)i.onInvalidated()}onCommitted(){const e=this._observers;if(e&&e.length>0){const i=e.slice();for(const r of i)r.onCommitted()}}};const qN=8;function bp(t){switch(t){case"defaults":return 0;case"service":return 2;case"portal-item":return 3;case"web-scene":return 4;case"web-map":return 5;case"link-chart":return 6;case"user":return 7;default:return null}}function S2(t){switch(t){case 0:return"defaults";case 2:return"service";case 3:return"portal-item";case 4:return"web-scene";case 5:return"web-map";case 6:return"link-chart";case 7:return"user"}}function cbe(t){return S2(t)}let ube=class kie{constructor(){this._values=new Map,this.multipleOriginsSupported=!1}clone(e){const i=new kie;return this._values.forEach((r,n)=>{e&&e.has(n)||i.set(n,ne(r))}),i}get(e){return this._values.get(e)}originOf(){return 7}keys(){return[...this._values.keys()]}set(e,i){this._values.set(e,i)}delete(e){this._values.delete(e)}has(e){return this._values.has(e)}isAtOrigin(e,i){return this.has(e)}isBelowOrigin(e,i){return!this.has(e)}forEach(e){this._values.forEach(e)}};function Fb(t,e,i){return t!==void 0}function nW(t,e,i,r){return t!==void 0&&(!(i==null&&t.flags&xr.NonNullable)||(r.lifecycle,!1))}let dbe=class{constructor(e){this.host=e,this.propertiesByName=new Map,this.ctorArgs=null,this.lifecycle=nl.INITIALIZING,this.store=new ube,this.mutable=!0,this._origin=7;const i=this.host.constructor.__accessorMetadata__;for(const r in i){const n=new rW(r,i[r]);this.propertiesByName.set(r,n)}this.metadata=i}initialize(){this.lifecycle=nl.CONSTRUCTING}constructed(){this.lifecycle=nl.CONSTRUCTED}destroy(){this.lifecycle=nl.DESTROYED,this.propertiesByName.forEach(e=>e.destroy())}get initialized(){return this.lifecycle!==nl.INITIALIZING}get(e){const i=this.propertiesByName.get(e);if(!Fb(i))return;if(i.metadata.get)return i.getComputed(this);this.mutable&&_t(i);const r=this.store;return r.has(e)?r.get(e):i.metadata.value}originOf(e){const i=this.store.originOf(e);if(i===void 0){const r=this.propertiesByName.get(e);if(r!==void 0&&r.flags&xr.HasDefaultValue)return"defaults"}return S2(i)}has(e){return this.propertiesByName.has(e)&&this.store.has(e)}keys(){return[...this.propertiesByName.keys()]}internalGet(e){const i=this.propertiesByName.get(e);if(Fb(i))return this.store.has(e)?this.store.get(e):i.metadata.value}internalSet(e,i){const r=this.propertiesByName.get(e);Fb(r)&&this._internalSet(r,i)}getDependsInfo(e,i,r){const n=this.propertiesByName.get(i);if(!Fb(n))return"";const s=new aD,o=Pd(s,()=>n.metadata.get?.call(e));let a=`${r}${e.declaredClass.split(".").pop()}.${i}: ${o}
`;const l=s.accessed??new Set;if(l.size===0)return a;r+="  ";for(const h of l)h instanceof rW&&(a+=`${r}${h.propertyName}: undefined
`);return a}setAtOrigin(e,i,r){const n=this.propertiesByName.get(e);if(Fb(n))return this._setAtOrigin(n,i,r)}isOverridden(e){const i=this.propertiesByName.get(e);return i!==void 0&&!!(i.flags&xr.Overridden)}clearOrigin(e,i){const r=this.store,n=this.propertiesByName.get(e);if(!Fb(n))return;const s=r.isAtOrigin(e,i)&&!(n.flags&xr.Overridden);r.delete(e,i),s&&n.notifyChange()}clearOverride(e){const i=this.propertiesByName.get(e);i&&i.flags&xr.Overridden&&(i.flags&=-3,i.notifyChange())}override(e,i){const r=this.propertiesByName.get(e);if(!nW(r,e,i,this))return;const n=r.metadata.cast;if(n){const s=this._cast(n,i),{valid:o,value:a}=s;if(sL.release(s),!o)return;i=a}r.flags|=xr.Overridden,this._internalSet(r,i)}set(e,i){const r=this.propertiesByName.get(e);if(!nW(r,e,i,this))return;const n=r.metadata.cast;if(n){const o=this._cast(n,i),{valid:a,value:l}=o;if(sL.release(o),!a)return;i=l}const s=r.metadata.set;s?s.call(this.host,i):this._internalSet(r,i)}setDefaultOrigin(e){this._origin=bp(e)}getDefaultOrigin(){return S2(this._origin)}notifyChange(e){const i=this.propertiesByName.get(e);i!==void 0&&i.notifyChange()}invalidate(e){const i=this.propertiesByName.get(e);i!==void 0&&i.invalidate()}commit(e){const i=this.propertiesByName.get(e);i!==void 0&&i.commit()}_internalSet(e,i){const r=this.lifecycle!==nl.INITIALIZING?this._origin:0;this._setAtOrigin(e,i,r)}_setAtOrigin(e,i,r){const n=this.store,s=e.propertyName;if(n.isAtOrigin(s,r)&&r9(i,n.get(s))&&~e.flags&xr.Overridden)return;const o=n.isBelowOrigin(s,r)||n.isAtOrigin(s,r);o&&e.invalidate(),n.set(s,i,r),o&&e.commit(),Tie(this.host,e)}_cast(e,i){const r=sL.acquire();return r.valid=!0,r.value=i,e&&(r.value=e.call(this.host,i,r)),r}},hbe=class{constructor(){this.value=null,this.valid=!0}acquire(){this.valid=!0}release(){this.value=null}};const sL=new b1(()=>new hbe);function pbe(t,e){return t.replaceAll(/\$\{([^\s:}]*)(?::([^\s:}]+))?\}/g,(i,r)=>r===""?"$":(vp(r,e)??"").toString())}let Eie=class{constructor(e,i,r=void 0){this.name=e,this.details=r,this.message=(i&&pbe(i,r))??""}toString(){return"["+this.name+"]: "+this.message}},ee=class Iie extends Eie{constructor(e,i,r){super(e,i,r)}toJSON(){if(this.details!=null)try{return{name:this.name,message:this.message,details:JSON.parse(JSON.stringify(this.details,(e,i)=>{if(i&&typeof i=="object"&&typeof i.toJSON=="function")return i;try{return ne(i)}catch{return"[object]"}}))}}catch(e){throw Ee.getLogger("esri.core.Error").error(e),e}return{name:this.name,message:this.message,details:this.details}}static fromJSON(e){return new Iie(e.name,e.message,e.details)}};ee.prototype.type="error";function vA(t,e,i){if(t&&e)if(typeof e=="object")for(const r of Object.getOwnPropertyNames(e))vA(t,r,e[r]);else{if(e.includes(".")){const n=e.split("."),s=n.splice(-1,1)[0];return void vA(du(t,n),s,i)}const r=t.__accessor__;r!=null&&fbe(e,r),t[e]=i}}function fbe(t,e){if(he("esri-unknown-property-errors")&&!mbe(t,e))throw new ee("set:unknown-property",gbe(t,e))}function mbe(t,e){return e.metadata[t]!=null}function gbe(t,e){return"setting unknown property '"+t+"' on instance of "+e.host.declaredClass}let ybe;function vbe(){return ybe}function bbe(t){t.length=0}let Eo=class{constructor(e=50,i=50){this._pool=new b1(()=>[],void 0,bbe,i,e)}acquire(){return this._pool.acquire()}release(e){this._pool.release(e)}prune(){this._pool.prune(0)}static acquire(){return oL.acquire()}static release(e){return oL.release(e)}static prune(){oL.prune()}};const oL=new Eo(100);let Cie=class extends b1{constructor(){super(...arguments),this._set=new Set}destroy(){super.destroy(),this._set=null}acquire(...e){const i=super.acquire(...e);return this._set.delete(i),i}release(e){e&&!this._set.has(e)&&(super.release(e),this._set.add(e))}_dispose(e){this._set.delete(e),super._dispose(e)}};const FE=[];function bA(t){FE.push(t),FE.length===1&&queueMicrotask(()=>{const e=FE.slice();FE.length=0;for(const i of e)i()})}let kT=class{constructor(e,i=30){this.name=e,this._counter=0,this._samples=new Array(i)}push(e){e!=null&&(this._samples[++this._counter%this._samples.length]=e)}set(e){e!=null&&(this._samples[this._counter%this._samples.length]=e)}get median(){return this._samples.slice().sort((e,i)=>e-i)[Math.floor(this._samples.length/2)]}get average(){return this._samples.reduce((e,i)=>e+i,0)/this._samples.length}get last(){return this._samples[this._counter%this._samples.length]}};const wA=(t,e,i,r)=>{let n=e,s=e;const o=i>>>1,a=t[n-1];for(;s<=o;){s=n<<1,s<i&&r(t[s-1],t[s])<0&&++s;const l=t[s-1];if(r(l,a)<=0)break;t[n-1]=l,n=s}t[n-1]=a},Mie=(t,e)=>t<e?-1:t>e?1:0;function wbe(t,e,i,r){i===void 0&&(i=t.length),r===void 0&&(r=Mie);for(let s=i>>>1;s>e;s--)wA(t,s,i,r);const n=e+1;for(let s=i-1;s>e;s--){const o=t[e];t[e]=t[s],t[s]=o,wA(t,n,s,r)}}function*_be(t,e,i,r){i===void 0&&(i=t.length),r===void 0&&(r=Mie);for(let s=i>>>1;s>e;s--)wA(t,s,i,r),yield;const n=e+1;for(let s=i-1;s>e;s--){const o=t[e];t[e]=t[s],t[s]=o,wA(t,n,s,r),yield}}const xbe=1.5,Sbe=1.1;let Aie=class{constructor(e){this.data=[],this._length=0,this._allocator=void 0,this._deallocator=()=>null,this._shrink=()=>{},this._hint=new Qte,e&&(e.initialSize&&(this.data=new Array(e.initialSize)),e.allocator&&(this._allocator=e.allocator),e.deallocator!==void 0&&(this._deallocator=e.deallocator),e.shrink&&(this._shrink=()=>sW(this)))}toArray(){return this.data.slice(0,this.length)}filter(e){const i=new Array;for(let r=0;r<this._length;r++){const n=this.data[r];e(n)&&i.push(n)}return i}at(e){if((e=Math.trunc(e)||0)<0&&(e+=this._length),!(e<0||e>=this._length))return this.data[e]}includes(e,i){const r=this.data.indexOf(e,i);return r!==-1&&r<this.length}get length(){return this._length}set length(e){if(e>this._length){if(this._allocator){for(;this._length<e;)this.data[this._length++]=this._allocator(this.data[this._length]);return}this._length=e}else{if(this._deallocator)for(let i=e;i<this._length;++i)this.data[i]=this._deallocator(this.data[i]);this._length=e,this._shrink()}}clear(){this.length=0}prune(){this.clear(),this.data=[]}push(e){this.data[this._length++]=e}pushArray(e,i=e.length){for(let r=0;r<i;r++)this.data[this._length++]=e[r]}fill(e,i){for(let r=0;r<i;r++)this.data[this._length++]=e}pushNew(){this._allocator&&(this.data[this.length]=this._allocator(this.data[this.length]));const e=this.data[this._length];return++this._length,e}unshift(e){this.data.unshift(e),this._length++,sW(this)}pop(){if(this.length===0)return;const e=this.data[this.length-1];return this.length=this.length-1,this._shrink(),e}remove(e){const i=UN(this.data,e,this.length,this._hint);if(i!==-1)return this.data.splice(i,1),this.length=this.length-1,e}removeUnordered(e){return this.removeUnorderedIndex(UN(this.data,e,this.length,this._hint))}removeUnorderedIndex(e){if(!(e>=this.length||e<0))return this.swapElements(e,this.length-1),this.pop()}removeUnorderedMany(e,i=e.length,r){this.length=zve(this.data,e,this.length,i,this._hint,r),this._shrink()}front(){if(this.length!==0)return this.data[0]}back(){if(this.length!==0)return this.data[this.length-1]}swapElements(e,i){if(e>=this.length||i>=this.length||e===i)return;const r=this.data[e];this.data[e]=this.data[i],this.data[i]=r}sort(e){wbe(this.data,0,this.length,e)}iterableSort(e){return _be(this.data,0,this.length,e)}some(e,i){for(let r=0;r<this.length;++r)if(e.call(i,this.data[r],r,this.data))return!0;return!1}find(e,i){const{data:r,length:n}=this;for(let s=0;s<n;++s)if(e.call(i,r[s]))return r[s]}filterInPlace(e,i){let r=0;for(let n=0;n<this._length;++n){const s=this.data[n];e.call(i,s,n,this.data)&&(this.data[n]=this.data[r],this.data[r]=s,r++)}if(this._deallocator)for(let n=r;n<this._length;n++)this.data[n]=this._deallocator(this.data[n]);return this._length=r,this._shrink(),this}forAll(e,i){const{data:r,length:n}=this;for(let s=0;s<n;++s)e.call(i,r[s],s,r)}forEach(e,i){this.data.slice(0,this.length).forEach(e,i)}map(e,i){const r=new Array(this.length);for(let n=0;n<this.length;++n)r[n]=e.call(i,this.data[n],n,this.data);return r}reduce(e,i){let r=i;for(let n=0;n<this.length;++n)r=e(r,this.data[n],n,this.data);return r}has(e){const i=this.length,r=this.data;for(let n=0;n<i;++n)if(r[n]===e)return!0;return!1}*[Symbol.iterator](){for(let e=0;e<this.length;e++)yield this.data[e]}};function sW(t){t.data.length>xbe*t.length&&(t.data.length=Math.floor(t.length*Sbe))}function Tbe(t){return{setTimeout:(e,i)=>{const r=t.setTimeout(e,i);return oi(()=>t.clearTimeout(r))}}}const w1=Tbe(globalThis);function lD(t){return $be(t)||Oie(t)}function $be(t){return t!=null&&typeof t=="object"&&"on"in t&&typeof t.on=="function"}function Oie(t){return t!=null&&typeof t=="object"&&"addEventListener"in t&&typeof t.addEventListener=="function"}function Sp(t,e,i){if(!lD(t))throw new TypeError("target is not a Evented or EventTarget object");return Oie(t)?kbe(t,e,i):t.on(e,i)}function kbe(t,e,i,r){if(Array.isArray(e)){const n=e.slice();for(const s of n)t.addEventListener(s,i,r);return oi(()=>{for(const s of n)t.removeEventListener(s,i,r)})}return t.addEventListener(e,i,r),oi(()=>t.removeEventListener(e,i,r))}function Pie(t,e,i){if(!lD(t))throw new TypeError("target is not a Evented or EventTarget object");if("once"in t)return t.once(e,i);const r=Sp(t,e,n=>{r.remove(),i.call(t,n)});return r}function Si(t="Aborted"){return new ee("AbortError",t)}function nr(t,e="Aborted"){if(Rs(t))throw Si(e)}function R$(t){return t instanceof AbortSignal?t:t?.signal??void 0}function Rs(t){const e=R$(t);return e!=null&&e.aborted}function md(t){if(us(t))throw t}function oW(t){if(!us(t))throw t}function Ds(t,e){const i=R$(t);if(i!=null){if(!i.aborted)return Pie(i,"abort",()=>e());e()}}function o9(t,e){const i=R$(t);if(i!=null)return nr(i),Pie(i,"abort",()=>e(Si()))}function Die(t,e){return R$(e)==null?t:new Promise((i,r)=>{let n=Ds(e,()=>r(Si()));const s=()=>{n=rr(n)};t.then(s,s),t.then(i,r)})}function us(t){return t?.name==="AbortError"}async function T2(t){try{return await t}catch(e){if(!us(e))throw e;return}}async function a9(t){if(!t)return;if(typeof t.forEach!="function"){const i=Object.keys(t),r=i.map(o=>t[o]),n=await a9(r),s={};return i.map((o,a)=>s[o]=n[a]),s}const e=t;return Promise.allSettled(e).then(i=>Array.from(e,(r,n)=>{const s=i[n];return s.status==="fulfilled"?{promise:r,value:s.value}:{promise:r,error:s.reason}}))}async function Ebe(t){return(await Promise.allSettled(t)).filter(e=>e.status==="fulfilled").map(e=>e.value)}async function Itt(t){return(await Promise.allSettled(t)).filter(e=>e.status==="rejected").map(e=>e.reason)}function Rie(t,e=void 0,i){const r=new AbortController;return Ds(i,()=>r.abort()),new Promise((n,s)=>{let o=setTimeout(()=>{o=0,n(e)},t);Ds(r,()=>{o&&(clearTimeout(o),s(Si()))})})}function Ctt(t,e,i,r){const n=i&&"abort"in i?i:null;r!=null||n||(r=i);let s=setTimeout(()=>{s=0,n?.abort()},e);const o=()=>r||new ee("promiseUtils:timeout","The wrapped promise did not resolve within "+e+" ms");return t.then(a=>{if(s===0)throw o();return clearTimeout(s),a},a=>{throw clearTimeout(s),s===0?o():a})}function Ibe(t,e){const i=new AbortController,r=setTimeout(()=>i.abort(),e);return Ds(t,()=>{i.abort(),clearTimeout(r)}),{...t,signal:i.signal}}function co(t){return t&&typeof t.then=="function"}function GN(t){return co(t)?t:Promise.resolve(t)}function cD(t,e=-1){let i,r,n,s,o=null;const a=(...l)=>{if(i){r=l,s&&s.reject(Si()),s=cs();const v=s.promise;if(o){const w=o;o=null,w.abort()}return v}if(n=s||cs(),s=null,e>0){const v=new AbortController;i=GN(t(...l,v.signal));const w=i;Rie(e).then(()=>{i===w&&(s?v.abort():o=v)})}else i=1,i=GN(t(...l));const h=()=>{const v=r;r=n=i=o=null,v!=null&&a(...v)},f=i,g=n;return f.then(h,h),f.then(g.resolve,g.reject),g.promise};return a}function cs(){let t,e;const i=new Promise((n,s)=>{t=n,e=s}),r=n=>{t(n)};return r.resolve=n=>t(n),r.reject=n=>e(n),r.timeout=(n,s)=>w1.setTimeout(()=>r.reject(s),n),r.promise=i,r}function Mtt(t,e){e.then(t.resolve,t.reject)}async function aW(t){await Promise.resolve(),nr(t)}function Att(t){return t}function Cbe(t){return 1e3*t}function Ott(t){return t}function Ptt(t){return .001*t}let Mbe=class{constructor(e){this.phases=e,this.paused=!1,this.ticks=-1,this.removed=!1}},Abe=class{constructor(e){this.callback=e,this.isActive=!0}remove(){this.isActive=!1}},WN=0;const Ux={time:0,deltaTime:0,elapsedFrameTime:0,frameDuration:0},YN=["prepare","preRender","render","postRender","update","finish"],ZN=[],mv=new Aie;let Obe=class{constructor(e){this._task=e}remove(){this._task.removed=!0}pause(){this._task.paused=!0}resume(){this._task.paused=!1,Lie()}};function Pbe(){Jy!=null&&(cancelAnimationFrame(Jy),Jy=requestAnimationFrame(l9))}function Lie(){Jy==null&&(WN=performance.now(),Jy=requestAnimationFrame(l9))}const _A={frameTasks:mv,willDispatch:!1,clearFrameTasks:Dbe,dispatch:Nie,executeFrameTasks:Rbe,reschedule:Pbe};function _1(t){const e=new Abe(t);return ZN.push(e),_A.willDispatch||(_A.willDispatch=!0,bA(Nie)),e}function j_(t){const e=new Mbe(t);return mv.push(e),Lie(),new Obe(e)}let Jy=null;function Dbe(t=!1){mv.forAll(e=>{e.removed=!0}),t&&zie()}function l9(){const t=performance.now();Jy=null,Jy=mv.some(i=>!i.paused&&!i.removed)?requestAnimationFrame(l9):null,_A.executeFrameTasks(t)}function Rbe(t){const e=t-WN;WN=t;const i=1e3/60,r=Math.max(0,e-i);Ux.time=t,Ux.frameDuration=i-r;for(let n=0;n<YN.length;n++){const s=performance.now(),o=YN[n];mv.forAll(a=>{a.paused||a.removed||(n===0&&a.ticks++,a.phases[o]&&(Ux.elapsedFrameTime=performance.now()-t,Ux.deltaTime=a.ticks===0?0:e,a.phases[o]?.call(a,Ux)))}),jbe[n].push(performance.now()-s)}zie(),Fbe.push(performance.now()-t)}const VE=new Aie;function zie(){mv.forAll(t=>{t.removed&&VE.push(t)}),mv.removeUnorderedMany(VE.data,VE.length),VE.clear()}function Nie(){for(;ZN.length;){const t=ZN.shift();t.isActive&&t.callback()}_A.willDispatch=!1}function Lbe(t=1,e){const i=cs(),r=()=>{Rs(e)?i.reject(Si()):t===0?i():(--t,bA(()=>r()))};return r(),i.promise}function zbe(t){return Lbe(1,t)}async function Nbe(t){await zbe(t),await new Promise(e=>requestAnimationFrame(()=>{t?.aborted||e()}))}const jbe=YN.map(t=>new kT(t)),Fbe=new kT("total");function jie(t,e){for(const i of t.values())if(e(i))return!0;return!1}function xA(t,e){if(!e)return t;for(const i of e)i!=null&&t.add(i);return t}function lW(t,e){return e!=null&&t.add(e),t}function c9(t,e){const i=new Set;return xA(i,t),xA(i,e),i}function Vbe(t,e){const i=new Set;for(const r of e)t.has(r)&&i.add(r);return i}function ztt(t,e){if(!t||!e)return!1;if(t===e)return!0;for(const i of t)if(!e.has(i))return!1;return!0}function Ntt(t,e){if(t==null&&e==null)return!0;if(t==null||e==null||t.size!==e.size)return!1;for(const i of t)if(!e.has(i))return!1;return!0}function Ube(t,e){const i=new Set(t);for(const r of e)i.delete(r);return i}function Bbe(t,e){return Ube(c9(t,e),Vbe(t,e))}let Hbe=0;function EC(){return++Hbe}let L$=class extends aD{constructor(e){super(new qbe(e)),this._observer&&cW.register(this,new WeakRef(this._observer),this)}destroy(){this._observer&&cW.unregister(this._observer),this.accessed?.clear(),this.clear(),this._observer?.destroy()}},qbe=class{constructor(e){this._notify=e,this._invalidCount=0,this.destroyed=!1}onInvalidated(){this._invalidCount++}onCommitted(){if(this.destroyed)return;const e=this._invalidCount;if(e===1)return this._invalidCount=0,void this._notify();this._invalidCount=e>0?e-1:0}destroy(){this.destroyed=!0,this._notify=Gbe}};const cW=new FinalizationRegistry(t=>{t.deref()?.destroy()});function Gbe(){}let Nw=!1;const SA=[];function Fie(t,e){let i=new L$(s),r=null,n=!1;function s(){if(!i||n)return;if(Nw)return void Bie(s);const a=r;i.clear(),Nw=!0,n=!0,r=Pd(i,t),n=!1,Nw=!1,e(r,a),Hie()}function o(){i&&(i.destroy(),i=null,r=null)}return n=!0,r=Pd(i,t),n=!1,oi(o)}function Vie(t,e){let i=new L$(n),r=null;function n(){e(r,o)}function s(){i&&(i.destroy(),i=null),r=null}function o(){return i?(i.clear(),r=Pd(i,t),r):null}return o(),oi(s)}function Uie(t,e){let i=!1,r=!1;const n=!!e?.sync;let s=new L$(()=>{i||r||(r=!0,n?o():queueMicrotask(o))});function o(){r=!1,s&&!i&&(Nw?Bie(o):(s.clear(),Nw=!0,i=!0,Pd(s,t),i=!1,Nw=!1,Hie()))}function a(){s&&(s.destroy(),s=null)}return i=!0,Pd(s,t),i=!1,oi(a)}function Bie(t){SA.includes(t)||SA.unshift(t)}function Hie(){for(;SA.length;)SA.pop()()}var lv;let u9=(lv=class{constructor(){this.uid=EC(),this.removed=!1,this.type=null,this.oldValue=null,this.callback=null,this.getValue=null,this.target=null,this.path=null,this.equals=null}static acquireUntracked(e,i,r,n,s){return this.pool.acquire(0,e,i,r,n,s,r9)}static acquireTracked(e,i,r,n){return this.pool.acquire(1,e,i,r,null,null,n)}notify(e,i){this.type===0?this.callback.call(this.target,e,i,this.path,this.target):this.callback.call(null,e,i,void 0,void 0)}acquire(e,i,r,n,s,o,a){this.uid=EC(),this.removed=!1,this.type=e,this.oldValue=i,this.callback=r,this.getValue=n,this.target=s,this.path=o,this.equals=a}release(){this.target=this.path=this.oldValue=this.callback=this.getValue=null,this.uid=EC(),this.removed=!0}},lv.pool=new Cie(()=>new lv),lv);const IC=new Eo,Tp=new Set;let TA;function $A(t){Tp.delete(t),Tp.add(t),qie()}function qie(){TA||(TA=_1(Zbe))}function Wbe(t){if(t.removed)return;const e=t.oldValue,i=t.getValue();t.equals(e,i)||(t.oldValue=i,t.notify(i,e))}function Ybe(t){for(const e of Tp.values())e.target===t&&(e.removed=!0)}function Zbe(){let t=10;for(;TA&&t--;){TA=null;const e=Jbe(),i=IC.acquire();for(const r of e){const n=r.uid;Wbe(r),n===r.uid&&r.removed&&i.push(r)}for(const r of Tp)r.removed&&(i.push(r),Tp.delete(r));for(const r of i)u9.pool.release(r);IC.release(i),IC.release(e),JN.forEach(r=>r())}}function Jbe(){const t=IC.acquire();t.length=Tp.size;let e=0;for(const i of Tp)t[e]=i,++e;return Tp.clear(),t}const JN=new Set;function Xbe(t){return JN.add(t),oi(()=>JN.delete(t))}function Kbe(t,e,i){let r=vie(t,e,i,(n,s,o)=>{let a,l,h=Vie(()=>P$(n,s),(f,g)=>{n.__accessor__?.lifecycle===nl.DESTROYED||a&&a.uid!==l?r.remove():(a||(a=u9.acquireUntracked(f,o,g,n,s),l=a.uid),$A(a))});return oi(()=>{h.remove(),a&&(a.uid!==l||a.removed||(a.removed=!0,$A(a)),a=null),r=h=null})});return r}function Qbe(t,e,i){const r=vie(t,e,i,(n,s,o)=>{let a=!1;return Fie(()=>P$(n,s),(l,h)=>{n.__accessor__.lifecycle!==nl.DESTROYED?a||(a=!0,r9(h,l)||o.call(n,l,h,s,n),a=!1):r.remove()})});return r}function e0e(t,e,i,r=!1){return t.__accessor__&&t.__accessor__.lifecycle!==nl.DESTROYED?r?Qbe(t,e,i):Kbe(t,e,i):oi()}function t0e(t,e,i){let r,n,s=Vie(t,(o,a)=>{r&&r.uid!==n?s.remove():(r||(r=u9.acquireTracked(o,e,a,i),n=r.uid),$A(r))});return oi(()=>{s.remove(),r&&(r.uid!==n||r.removed||(r.removed=!0,$A(r)),r=null),s=null})}function i0e(t,e,i){let r=!1;return Fie(t,(n,s)=>{r||(r=!0,i(s,n)||e(n,s),r=!1)})}function r0e(t,e,i=!1,r=uie){return i?i0e(t,e,r):t0e(t,e,r)}function uW(t){return jie(Tp,e=>e.oldValue===t)}function n0e(t,e){for(const i of t.values())if(e(i))return!0;return!1}function Vtt(t,e){for(const i of t.values())if(!e(i))return!1;return!0}function Utt(t,e){for(const i of t.values())if(e(i))return i;return null}function Vv(t,e,i){const r=t.get(e);if(r!==void 0)return r;const n=i();return t.set(e,n),n}function Btt(t){const e=new Map;return i=>(e.has(i)||e.set(i,t(i)),e.get(i))}const Xy=()=>Ee.getLogger("esri.core.accessorSupport.ensureTypes");function s0e(t){if(t==null)return t;const e=new Date(t);return isNaN(e.getTime())?(Xy().error("Accessor#set",`Invalid date value: '${t}', falling back to current date`),new Date):e}function o0e(t){return t==null?t:!!t}function z$(t){return t==null?t:t.toString()}function Io(t,e=0){return t==null?t:(t=parseFloat(t),isNaN(t)?e:t)}function d9(t){return t==null?t:Math.round(parseFloat(t))}function a0e(t){return null}function l0e(t,e){return i=>{let r=t(i);return e.step!=null&&(r=Math.round(r/e.step)*e.step),e.min!=null&&(r=Math.max(e.min,r)),e.max!=null&&(r=Math.min(e.max,r)),r}}function Gie(t){return t?.constructor&&t.constructor.__accessorMetadata__!==void 0}function kA(t,e){return e!=null&&t&&!(e instanceof t)}function Wie(t){return t&&"isCollection"in t}function dW(t){return t?.Type?typeof t.Type=="function"?t.Type:t.Type.base:null}function c0e(t,e){if(!e?.constructor||!Wie(e.constructor))return XN(t,e)?e:new t(e);const i=dW(t.prototype.itemType),r=dW(e.constructor.prototype.itemType);return i?r?i===r?e:i.prototype.isPrototypeOf(r.prototype)?new t(e):(XN(t,e),e):new t(e):e}function XN(t,e){return!!Gie(e)&&(Xy().error("Accessor#set","Assigning an instance of '"+(e.declaredClass||"unknown")+"' which is not a subclass of '"+uD(t)+"'"),!0)}function N$(t,e){return e==null?e:Wie(t)?c0e(t,e):kA(t,e)?XN(t,e)?e:new t(e):e}function uD(t){return t?.prototype?.declaredClass||"unknown"}const u0e=new WeakMap;function d0e(t){switch(t){case Number:return e=>Io(e);case Ht:return d9;case Boolean:return o0e;case String:return z$;case Date:return s0e;case x1:return a0e;default:return Vv(u0e,t,()=>N$.bind(null,t))}}function tn(t,e){const i=d0e(t);return arguments.length===1?i:i(e)}function $2(t,e,i){return arguments.length===1?$2.bind(null,t):e&&(Array.isArray(e)?e.map(r=>t(r,i)):[t(e,i)])}function h0e(t,e){return arguments.length===1?$2(i=>tn(t,i)):$2(i=>tn(t,i),e)}function Yie(t,e,i){return e!==0&&Array.isArray(i)?i.map(r=>Yie(t,e-1,r)):t(i)}function EA(t,e,i){if(arguments.length===2)return s=>EA(t,e,s);if(!i)return i;i=Yie(t,e,i);let r=e,n=i;for(;r>0&&Array.isArray(n);)r--,n=n[0];if(n!==void 0)for(let s=0;s<r;s++)i=[i];return i}function p0e(t,e,i){return arguments.length===2?EA(r=>tn(t,r),e):EA(r=>tn(t,r),e,i)}function Zie(t){return!!Array.isArray(t)&&!t.some(e=>{const i=typeof e;return!(i==="string"||i==="number"||i==="function"&&t.length>1)})}function KN(t,e){if(arguments.length===2)return KN(t).call(null,e);const i=new Set,r=t.filter(a=>typeof a!="function"),n=t.filter(a=>typeof a=="function");for(const a of t)typeof a!="string"&&typeof a!="number"||i.add(a);let s=null,o=null;return(a,l)=>{if(a==null)return a;const h=typeof a,f=h==="string"||h==="number";return f&&(i.has(a)||n.some(g=>h==="string"&&g===String||h==="number"&&g===Number))||h==="object"&&n.some(g=>!kA(g,a))?a:(f&&r.length?(s||(s=r.map(g=>typeof g=="string"?`'${g}'`:`${g}`).join(", ")),Xy().error("Accessor#set",`'${a}' is not a valid value for this property, only the following values are valid: ${s}`)):typeof a=="object"&&n.length?(o||(o=n.map(g=>uD(g)).join(", ")),Xy().error("Accessor#set",`'${a}' is not a valid value for this property, value must be one of ${o}`)):Xy().error("Accessor#set",`'${a}' is not a valid value for this property`),l&&(l.valid=!1),null)}}function Dd(t,e){if(arguments.length===2)return Dd(t).call(null,e);const i={},r=[],n=[];for(const l in t.typeMap){const h=t.typeMap[l];i[l]=tn(h),r.push(uD(h)),n.push(l)}const s=()=>`'${r.join("', '")}'`,o=()=>`'${n.join("', '")}'`,a=typeof t.key=="string"?l=>l[t.key]:t.key;return l=>{if(t.base&&!kA(t.base,l)||l==null)return l;const h=a(l)||t.defaultKeyValue,f=i[h];if(!f)return Xy().error("Accessor#set",`Invalid property value, value needs to be one of ${s()}, or a plain object that can autocast (having .type = ${o()})`),null;if(!kA(t.typeMap[h],l))return l;if(typeof t.key=="string"&&!Gie(l)){const g={};for(const v in l)v!==t.key&&(g[v]=l[v]);return f(g)}return f(l)}}let Ht=class{},x1=class{};const Gtt={native:t=>({type:"native",value:t}),array:t=>({type:"array",value:t}),oneOf:t=>({type:"one-of",values:t})};function f0e(t){if(!t||!("type"in t))return!1;switch(t.type){case"native":case"array":case"one-of":return!0}return!1}function Jie(t){switch(t.type){case"native":return tn(t.value);case"array":return $2(Jie(t.value));case"one-of":return m0e(t);default:return null}}function m0e(t){let e=null;return(i,r)=>ej(i,t)?i:(e==null&&(e=QN(t)),Xy().error("Accessor#set",`Invalid property value, value needs to be of type ${e}`),r&&(r.valid=!1),null)}function QN(t){switch(t.type){case"native":switch(t.value){case Number:return"number";case String:return"string";case Boolean:return"boolean";case Ht:return"integer";case Date:return"date";case x1:return"null";default:return uD(t.value)}case"array":return`array of ${QN(t.value)}`;case"one-of":{const e=t.values.map(i=>QN(i));return`one of ${e.slice(0,-1)} or ${e[e.length-1]}`}}return"unknown"}function ej(t,e){if(t==null)return!0;switch(e.type){case"native":switch(e.value){case Number:case Ht:return typeof t=="number";case Boolean:return typeof t=="boolean";case String:return typeof t=="string";case x1:return t===null}return t instanceof e.value;case"array":return!!Array.isArray(t)&&!t.some(i=>!ej(i,e.value));case"one-of":return e.values.some(i=>ej(t,i))}}function p(t={}){return(e,i)=>{if(e===Function.prototype)throw new Error(`Inappropriate use of @property() on a static field: ${e.name}.${i}. Accessor does not support static properties.`);const r=Object.getOwnPropertyDescriptor(e,i),n=D$(e,i);r&&(r.get||r.set?(n.get=r.get||n.get,n.set=r.set||n.set):"value"in r&&("value"in t&&Ee.getLogger("esri.core.accessorSupport.decorators.property").warn(`@property() will redefine the value of "${i}" on "${e.constructor.name}" already defined in the metadata`,t),n.value=t.value=r.value)),t.readOnly!=null&&(n.readOnly=t.readOnly);const s=t.aliasOf;if(s){const l=typeof s=="string"?s:s.source,h=typeof s=="string"?null:s.overridable===!0;let f;n.dependsOn=[l],n.get=function(){let g=du(this,l);if(typeof g=="function"){f||(f=l.split(".").slice(0,-1).join("."));const v=du(this,f);v&&(g=g.bind(v))}return g},n.readOnly||(n.set=h?function(g){this._override(i,g)}:function(g){vA(this,l,g)})}const o=t.type,a=t.types;if(!n.cast){let l;o?l=g0e(o):a&&(l=Array.isArray(a)?$2(Dd(a[0])):Dd(a)),t.cast=y0e(t.cast,l)}ebe(n,t),t.range&&(n.cast=l0e(n.cast,t.range))}}function h9(t,e,i){const r=D$(t,i);r.json||(r.json={});let n=r.json;return e!==void 0&&(n.origins||(n.origins={}),n.origins[e]||(n.origins[e]={}),n=n.origins[e]),n}function g0e(t){let e=0,i=t;if(f0e(t))return Jie(t);for(;Array.isArray(i)&&i.length===1&&typeof i[0]!="string"&&typeof i[0]!="number";)i=i[0],e++;const r=i;if(Zie(r))return e===0?KN(r):EA(KN(r),e);if(e===1)return h0e(r);if(e>1)return p0e(r,e);const n=t;return n.from?n.from:tn(n)}function y0e(t,e){if(t||e)return t?e?(i,r)=>e(t(i,r),r):t:e}function v0e(t){if(t.json&&t.json.origins){const e=t.json.origins,i={"web-document":["web-scene","web-map"]};for(const r in i)if(e[r]){const n=e[r];i[r].forEach(s=>{e[s]=n}),delete e[r]}}}let yl=class extends Eie{constructor(e,i,r){super(e,i,r)}};yl.prototype.type="warning";function Xie(t){return!!t&&t.prototype?.declaredClass&&t.prototype.declaredClass.indexOf("esri.core.Collection")===0}function b0e(t,e){return p9(t,"any",e?.origin)}function IA(t,e){return p9(t,"read",e?.origin)}function Kie(t,e){return p9(t,"write",e?.origin)}function p9(t,e,i){let r=t?.json;if(r?.origins&&i){let n;n=i==="link-chart"?r.origins[i]&&(e==="any"||e in r.origins[i])?r.origins[i]:r.origins["web-map"]:r.origins[i],n&&(e==="any"||e in n)&&(r=n)}return r}const tj=()=>Ee.getLogger("esri.core.accessorSupport.extensions.serializableProperty.reader");function hW(t,e,i){t&&(!i&&!e.read||e.read?.reader||e.read?.enabled===!1||x0e(t)&&Kr("read.reader",S1(t),e))}function S1(t){const e=t.ndimArray??0;if(e>1)return _0e(t);if(e===1)return pW(t);if("type"in t&&ere(t.type)){const i=t.type.prototype?.itemType?.Type,r=pW(typeof i=="function"?{type:i}:{types:i});return(n,s,o)=>{const a=r(n,s,o);return a&&new t.type(a)}}return f9(t)}function f9(t){return"type"in t?w0e(t.type):S0e(t.types)}function w0e(t){return t.prototype.read?(e,i,r)=>{if(e==null)return e;const n=typeof e;if(n!=="object")return void tj().error(`Expected JSON value of type 'object' to deserialize type '${t.prototype.declaredClass}', but got '${n}'`);const s=new t;return s.read(e,r),s}:t.fromJSON}function Qie(t,e,i,r){return r!==0&&Array.isArray(e)?e.map(n=>Qie(t,n,i,r-1)):t(e,void 0,i)}function _0e(t){const e=f9(t),i=Qie.bind(null,e),r=t.ndimArray??0;return(n,s,o)=>{if(n==null)return n;n=i(n,o,r);let a=r,l=n;for(;a>0&&Array.isArray(l);)a--,l=l[0];if(l!==void 0)for(let h=0;h<a;h++)n=[n];return n}}function pW(t){const e=f9(t);return(i,r,n)=>{if(i==null)return i;if(Array.isArray(i)){const o=[];for(const a of i){const l=e(a,void 0,n);l!==void 0&&o.push(l)}return o}const s=e(i,void 0,n);return s!==void 0?[s]:void 0}}function ere(t){if(!Xie(t))return!1;const e=t.prototype.itemType;return!(!e||!e.Type)&&(typeof e.Type=="function"?m9(e.Type):tre(e.Type))}function x0e(t){return"types"in t?tre(t.types):m9(t.type)}function m9(t){return!Array.isArray(t)&&!!t&&t.prototype&&("read"in t.prototype||"fromJSON"in t||ere(t))}function tre(t){for(const e in t.typeMap)if(!m9(t.typeMap[e]))return!1;return!0}function S0e(t){let e=null;const i=t.errorContext??"type",r=t.validate;return(n,s,o)=>{if(n==null)return n;const a=typeof n;if(a!=="object")return void tj().error(`Expected JSON value of type 'object' to deserialize, but got '${a}'`);e||(e=$0e(t));const l=t.key;if(typeof l!="string")return;const h=n[T0e(l,e,o)],f=h?e[h]:t.defaultKeyValue?t.typeMap[t.defaultKeyValue]:void 0;if(!f){const v=`Type '${h||"unknown"}' is not supported`;return o?.messages&&n&&o.messages.push(new yl(`${i}:unsupported`,v,{definition:n,context:o})),void tj().error(v)}const g=new f;return g.read(n,o),r?r(g):g}}function T0e(t,e,i){const r=Object.values(e)[0],n=v1(r.prototype)[t],s=IA(n,i),o=s?.read?.source;return o&&typeof o=="string"?o:t}function $0e(t){const e={};for(const i in t.typeMap){const r=t.typeMap[i],n=v1(r.prototype);if(typeof t.key=="function")continue;const s=n[t.key];if(!s)continue;if(s.json?.type&&Array.isArray(s.json.type)&&s.json.type.length===1&&typeof s.json.type[0]=="string"){e[s.json.type[0]]=r;continue}const o=s.json?.write;if(!o?.writer){e[i]=r;continue}const a=o.target,l=typeof a=="string"?a:t.key,h={};o.writer(i,h,l),h[l]&&(e[h[l]]=r)}return e}function k0e(t){if(t.json||(t.json={}),mW(t.json),gW(t.json),fW(t.json),t.json.origins)for(const e in t.json.origins)mW(t.json.origins[e]),gW(t.json.origins[e]),fW(t.json.origins[e]);return!0}function fW(t){t.name&&(t.read&&typeof t.read=="object"?t.read.source===void 0&&(t.read.source=t.name):t.read={source:t.name},t.write&&typeof t.write=="object"?t.write.target===void 0&&(t.write.target=t.name):t.write={target:t.name})}function mW(t){typeof t.read=="boolean"?t.read={enabled:t.read}:typeof t.read=="function"?t.read={enabled:!0,reader:t.read}:t.read&&typeof t.read=="object"&&t.read.enabled===void 0&&(t.read.enabled=!0)}function gW(t){typeof t.write=="boolean"?t.write={enabled:t.write}:typeof t.write=="function"?t.write={enabled:!0,writer:t.write}:t.write&&typeof t.write=="object"&&t.write.enabled===void 0&&(t.write.enabled=!0)}function yW(t,e){if(!e.write||e.write.writer||e.write.enabled===!1&&!e.write.overridePolicy)return;const i=t?.ndimArray??0;t&&(i===1||"type"in t&&Xie(t.type))?e.write.writer=C0e:i>1?e.write.writer=M0e(i):e.types?Array.isArray(e.types)?e.write.writer=I0e(e.types[0]):e.write.writer=E0e(e.types):e.write.writer=k2}function E0e(t){return(e,i,r,n)=>e?ire(e,t,n)?k2(e,i,r,n):void 0:k2(e,i,r,n)}function ire(t,e,i){for(const r in e.typeMap)if(t instanceof e.typeMap[r])return!0;if(i?.messages){const r=e.errorContext??"type",n=`Values of type '${(typeof e.key!="function"?t[e.key]:t.declaredClass)??"Unknown"}' cannot be written`;i&&i.messages&&t&&i.messages.push(new ee(`${r}:unsupported`,n,{definition:t,context:i})),Ee.getLogger("esri.core.accessorSupport.extensions.serializableProperty.writer").error(n)}return!1}function I0e(t){return(e,i,r,n)=>!e||!Array.isArray(e)?k2(e,i,r,n):k2(e.filter(s=>ire(s,t,n)),i,r,n)}function k2(t,e,i,r){Kr(i,CA(t,r),e)}function CA(t,e){return t&&typeof t.write=="function"?t.write({},e):t&&typeof t.toJSON=="function"?t.toJSON():typeof t=="number"?MA(t):t}function MA(t){return t===-1/0?-Number.MAX_VALUE:t===1/0?Number.MAX_VALUE:isNaN(t)?null:t}function C0e(t,e,i,r){let n;t===null?n=null:t&&typeof t.map=="function"?(n=t.map(s=>CA(s,r)),typeof n.toArray=="function"&&(n=n.toArray())):n=[CA(t,r)],Kr(i,n,e)}function rre(t,e,i){return i!==0&&Array.isArray(t)?t.map(r=>rre(r,e,i-1)):CA(t,e)}function M0e(t){return(e,i,r,n)=>{let s;if(e===null)s=null;else{s=rre(e,n,t);let o=t,a=s;for(;o>0&&Array.isArray(a);)o--,a=a[0];if(a!==void 0)for(let l=0;l<o;l++)s=[s]}Kr(r,s,i)}}function A0e(t){const e=O0e(t);if(t.json.origins)for(const i in t.json.origins){const r=t.json.origins[i],n=r.types?P0e(r):e;hW(n,r,!1),r.types&&!r.write&&t.json.write?.enabled&&(r.write={...t.json.write}),yW(n,r)}hW(e,t.json,!0),yW(e,t.json)}function O0e(t){return t.json.types?ij(t.json):t.type?nre(t):ij(t)}function P0e(t){return t.type?nre(t):ij(t)}function nre(t){if(!t.type)return;let e=0,i=t.type;for(;Array.isArray(i)&&!Zie(i);)i=i[0],e++;return{type:i,ndimArray:e}}function ij(t){if(!t.types)return;let e=0,i=t.types;for(;Array.isArray(i);)i=i[0],e++;return{types:i,ndimArray:e}}function D0e(t){k0e(t)&&(v0e(t),A0e(t))}const aL=new Set,lL=new Set;function j(t){return e=>{t??="esri.core.Accessor",e.prototype.declaredClass=t,L0e(e);const i=[],r=[];let n=e.prototype;for(;n;)n.hasOwnProperty("initialize")&&!aL.has(n.initialize)&&(aL.add(n.initialize),i.push(n.initialize)),n.hasOwnProperty("destroy")&&!lL.has(n.destroy)&&(lL.add(n.destroy),r.push(n.destroy)),n=Object.getPrototypeOf(n);aL.clear(),lL.clear();const s=class extends e{constructor(...a){if(super(...a),this.constructor===s&&typeof this.postscript=="function"){if(i.length&&Object.defineProperty(this,"initialize",{enumerable:!1,configurable:!0,value(){for(let l=i.length-1;l>=0;l--)i[l].call(this)}}),r.length){let l=!1;const h=this[mie];Object.defineProperty(this,"destroy",{enumerable:!1,configurable:!0,value(){if(!l){this.__accessor__.lifecycle=nl.DESTROYING,l=!0,h.call(this);for(let f=0;f<r.length;f++)r[f].call(this)}}})}Object.defineProperty(this,Symbol.dispose,{enumerable:!1,configurable:!0,value(){this.destroy()}}),this.postscript()}}};s.__accessorMetadata__=v1(e.prototype),s.prototype.declaredClass=t;const o=(t||"AccessorSubclass").split(".").slice(-1)[0];return Object.defineProperty(s,"name",{value:o,configurable:!0}),s}}function R0e(t,e){return e.get==null?function(){const i=this.__accessor__,r=i.propertiesByName.get(t);if(r===void 0)return;i.mutable&&_t(r);const n=i.store;return n.has(t)?n.get(t):r.metadata.value}:function(){const i=this.__accessor__,r=i.propertiesByName.get(t);if(r!==void 0)return r.getComputed(i)}}function L0e(t){const e=t.prototype,i=v1(e),r={};for(const n of Object.getOwnPropertyNames(i)){const s=i[n];D0e(s),r[n]={enumerable:!0,configurable:!0,get:R0e(n,s),set(o){const a=this.__accessor__;if(a!==void 0){if(a.mutable)return a.initialized&&s.readOnly?vW("read-only",n):a.lifecycle===nl.CONSTRUCTED&&s.constructOnly?vW("construct-only",n):void a.set(n,o)}else Object.defineProperty(this,n,{enumerable:!0,configurable:!0,writable:!0,value:o})}}}Object.defineProperties(t.prototype,r)}const vW=(t,e)=>{Ee.getLogger("esri.core.Accessor").error(`cannot assign to ${t} property '${e}'`)};var bW,wW;function z0e(t){if(t==null)return{value:t};if(Array.isArray(t))return{type:[t[0]],value:null};switch(typeof t){case"object":return t.constructor?.__accessorMetadata__||t instanceof Date?{type:t.constructor,value:t}:t;case"boolean":return{type:Boolean,value:t};case"string":return{type:String,value:t};case"number":return{type:Number,value:t};case"function":return{type:t,value:null};default:return}}const Ef=Symbol("Accessor-Handles"),cL=Symbol("Accessor-Initialized");var Fm;let at=(Fm=class{static createSubclass(e={}){if(Array.isArray(e))throw new Error("Multi-inheritance unsupported since 4.16");const{properties:i,declaredClass:r,constructor:n}=e;delete e.declaredClass,delete e.properties,delete e.constructor;const s=this;class o extends s{constructor(...l){super(...l),this.inherited=null,n&&n.apply(this,l)}}v1(o.prototype);for(const a in e){const l=e[a];o.prototype[a]=typeof l=="function"?function(...h){const f=this.inherited;let g;this.inherited=function(...v){if(s.prototype[a])return s.prototype[a].apply(this,v)};try{g=l.apply(this,h)}catch(v){throw this.inherited=f,v}return this.inherited=f,g}:e[a]}for(const a in i){const l=z0e(i[a]);p(l)(o.prototype,a)}return j(r)(o)}static freeze(e){return e instanceof Fm?e.__accessor__.mutable=!1:Object.freeze(e),e}static isFrozen(e){return e instanceof Fm?!e.__accessor__.mutable:Object.isFrozen(e)}constructor(...e){if(this[bW]=null,this[wW]=!1,this.constructor===Fm)throw new Error("[accessor] cannot instantiate Accessor. This can be fixed by creating a subclass of Accessor");const i=new dbe(this);Object.defineProperty(this,"__accessor__",{enumerable:!1,value:i}),e.length>0&&(i.ctorArgs=this.normalizeCtorArgs?.apply(this,e)??e[0])}postscript(){const e=this.__accessor__,i=e.ctorArgs;e.initialize(),i&&(this.set(i),e.ctorArgs=null),e.constructed(),this.initialize(),this[cL]=!0}initialize(){}[mie](){this[Ef]=pr(this[Ef])}destroy(){this.destroyed||(Ybe(this),this.__accessor__.destroy(),vbe()?.onInstanceDestroy(this))}[Symbol.dispose](){this.destroy()}get constructed(){return this.__accessor__&&this.__accessor__.initialized||!1}get initialized(){return this[cL]}get destroyed(){return this.__accessor__?.lifecycle===nl.DESTROYED||!1}get destroying(){return this.__accessor__?.lifecycle===nl.DESTROYING||!1}commitProperty(e){du(this,e)}hasOwnProperty(e){return this.__accessor__?this.__accessor__.has(e):Object.prototype.hasOwnProperty.call(this,e)}keys(){return this.__accessor__?this.__accessor__.keys():[]}set(e,i){return vA(this,e,i),this}watch(e,i,r){return Xte(Ee.getLogger(this),"`watch` is deprecated in favor of reactiveUtils.watch",{replacement:"reactiveUtils.watch",version:"4.32",see:"https://arcg.is/1vaqf42#watch",warnOnce:!0}),e0e(this,e,i,r)}addHandles(e,i){if(this.destroyed){const r=Array.isArray(e)?e:[e];for(const n of r)n.remove();return}(this[Ef]??=new y1).add(e,i)}removeHandles(e){this[Ef]?.remove(e)}removeAllHandles(){this[Ef]?.removeAll()}removeHandlesReference(e){this[Ef]?.removeReference(e)}hasHandles(e){return this[Ef]?.has(e)===!0}_override(e,i){i===void 0?this.__accessor__.clearOverride(e):this.__accessor__.override(e,i)}_clearOverride(e){return this.__accessor__.clearOverride(e)}_overrideIfSome(e,i){i==null?this.__accessor__.clearOverride(e):this.__accessor__.override(e,i)}_isOverridden(e){return this.__accessor__.isOverridden(e)}notifyChange(e){this.__accessor__.notifyChange(e)}_get(e){return this.__accessor__.internalGet(e)}_set(e,i){return this.__accessor__.internalSet(e,i),this}},bW=Ef,wW=cL,Fm),N0e=class sre{constructor(){this._values=new Map,this.multipleOriginsSupported=!1}clone(e){const i=new sre;return this._values.forEach((r,n)=>{e&&e.has(n)||i.set(n,ne(r.value),r.origin)}),i}get(e,i){i=this._normalizeOrigin(i);const r=this._values.get(e);return i==null||r?.origin===i?r?.value:void 0}originOf(e){return this._values.get(e)?.origin??7}keys(e){e=this._normalizeOrigin(e);const i=[...this._values.keys()];return e==null?i:i.filter(r=>this._values.get(r)?.origin===e)}set(e,i,r){if((r=this._normalizeOrigin(r))===0){const n=this._values.get(e);if(n?.origin!=null&&n.origin>r)return}this._values.set(e,new j0e(i,r))}delete(e,i){(i=this._normalizeOrigin(i))!=null&&this._values.get(e)?.origin!==i||this._values.delete(e)}has(e,i){return(i=this._normalizeOrigin(i))!=null?this._values.get(e)?.origin===i:this._values.has(e)}isAtOrigin(e,i){return i=this._normalizeOrigin(i),this.has(e,i)&&this.originOf(e)===i}isBelowOrigin(e,i){return i=this._normalizeOrigin(i),!this.has(e)||this.originOf(e)<i}forEach(e){this._values.forEach(({value:i},r)=>e(i,r))}_normalizeOrigin(e){if(e!=null)return e===0?e:7}},j0e=class{constructor(e,i){this.value=e,this.origin=i}};function ore(t,e,i){e.keys().forEach(n=>{i.set(n,e.get(n),0)});const r=t.metadata;Object.keys(r).forEach(n=>{t.internalGet(n)&&i.set(n,t.internalGet(n),0)})}function F0e(t,e,i){if(!t?.read||t.read.enabled===!1||!t.read.source)return!1;const r=t.read.source;if(typeof r=="string"){if(r===e||r.includes(".")&&r.startsWith(e)&&tW(r,i))return!0}else for(const n of r)if(n===e||n.includes(".")&&n.startsWith(e)&&tW(n,i))return!0;return!1}function V0e(t){return t&&(!t.read||t.read.enabled!==!1&&!t.read.source)}function U0e(t,e,i,r,n){let s=IA(e[i],n);V0e(s)&&(t[i]=!0);for(const o of Object.getOwnPropertyNames(e))s=IA(e[o],n),F0e(s,i,r)&&(t[o]=!0)}function B0e(t,e,i,r){const n=i.metadata,s=b0e(n[e],r),o=s?.default;if(o===void 0)return;const a=typeof o=="function"?o.call(t,e,r):o;a!==void 0&&i.set(e,a)}const are={origin:"service"};function lre(t,e,i=are){if(!e||typeof e!="object")return;const r=zo(t),n=r.metadata,s={};for(const o of Object.getOwnPropertyNames(e))U0e(s,n,o,e,i);r.setDefaultOrigin(i.origin);for(const o of Object.getOwnPropertyNames(s)){const a=IA(n[o],i).read,l=a?.source;let h;h=l&&typeof l=="string"?P$(e,l):e[o],a?.reader&&(h=a.reader.call(t,h,e,i)),h!==void 0&&r.set(o,h)}if(!i||!i.ignoreDefaults){r.setDefaultOrigin("defaults");for(const o of Object.getOwnPropertyNames(n))s[o]||B0e(t,o,r,i)}r.setDefaultOrigin("user")}function cre(t,e,i,r=are){const n={...r,messages:[]};i(n),n.messages?.forEach(s=>{s.type!=="warning"||t.loaded?r?.messages&&r.messages.push(s):t.loadWarnings.push(s)})}function H0e(t,e,i,r,n){const s={};return e.write?.writer?.call(t,r,s,i,n),s}function ure(t,e,i,r,n,s){if(!r?.write)return!1;const o=du(t,i);if(!n&&r.write.overridePolicy){const a=r.write.overridePolicy.call(t,o,i,s??void 0);a!==void 0&&(n=a)}if(n||(n=r.write),!n||n.enabled===!1||n.layerContainerTypes&&s?.layerContainerType&&!n.layerContainerTypes.includes(s.layerContainerType))return!1;if((o===null&&!n.allowNull&&!n.writerEnsuresNonNull||o===void 0)&&n.isRequired){const a=new ee("web-document-write:property-required",`Missing value for required property '${i}' on '${t.declaredClass}'`,{propertyName:i,target:t});return a&&s?.messages?s.messages.push(a):a&&!s&&Ee.getLogger("esri.core.accessorSupport.write").error(a.name,a.message),!1}return!(o===void 0||o===null&&!n.allowNull&&!n.writerEnsuresNonNull||!n.alwaysWriteDefaults&&(!e.store.multipleOriginsSupported||e.store.originOf(i)===0)&&q0e(t,i,s,r,o)||!n.ignoreOrigin&&s?.origin&&e.store.multipleOriginsSupported&&e.store.originOf(i)<bp(s.origin))}function q0e(t,e,i,r,n){const s=r.default;if(s===void 0)return!1;if(r.defaultEquals!=null)return r.defaultEquals(n);if(typeof s=="function"){if(Array.isArray(n)){const o=s.call(t,e,i??void 0);return rD(o,n)}return!1}return s===n}function G0e(t,e,i,r){const n=zo(t),s=n.metadata,o=Kie(s[e],r);return!!o&&ure(t,n,e,o,i,r)}function dre(t,e,i){if(t&&typeof t.toJSON=="function"&&(!t.toJSON.isDefaultToJSON||!t.write))return TC(e,t.toJSON(i));const r=zo(t),n=r.metadata;for(const s in n){const o=Kie(n[s],i);if(!ure(t,r,s,o,void 0,i))continue;const a=du(t,s),l=H0e(t,o,o.write&&typeof o.write.target=="string"?o.write.target:s,a,i);Object.keys(l).length>0&&(e=TC(e,l),i?.resources?.pendingOperations?.length&&i.resources.pendingOperations.push(Promise.all(i.resources.pendingOperations).then(()=>TC(e,l,()=>"replace-arrays"))),i?.writtenProperties&&i.writtenProperties.push({target:t,propName:s,oldOrigin:cbe(r.store.originOf(s)),newOrigin:i.origin}))}return e}const zp=t=>{const e=t;let i=class extends e{constructor(...r){super(...r);const n=zo(this),s=n.store,o=new N0e;n.store=o,ore(n,s,o)}read(r,n){lre(this,r,n)}write(r,n){return dre(this,r??{},n)}toJSON(r){return this.write({},r)}static fromJSON(r,n){return W0e.call(this,r,n)}};return i=u([j("esri.core.JSONSupport")],i),i.prototype.toJSON.isDefaultToJSON=!0,i};function W0e(t,e){if(!t)return null;if(t.declaredClass)throw new Error("JSON object is already hydrated");const i=new this;return i.read(t,e),i}const ge=zp(at);var rj,u_;let Ts=(u_=class extends ge{constructor(e){super(e),this._oAuthCred=null,this.appId=null,this.authNamespace="/",this.expiration=20160,this.flowType="auto",this.forceLogin=!1,this.forceUserId=!1,this.locale=null,this.minTimeUntilExpiration=30,this.popup=!1,this.popupCallbackUrl="oauth-callback.html",this.popupWindowFeatures="height=490,width=800,resizable,scrollbars,status",this.portalUrl="https://www.arcgis.com",this.preserveUrlHash=!1,this.userId=null}clone(){return rj.fromJSON(this.toJSON())}},rj=u_,u_);u([p({json:{write:!0}})],Ts.prototype,"appId",void 0),u([p({json:{write:!0}})],Ts.prototype,"authNamespace",void 0),u([p({json:{write:!0}})],Ts.prototype,"expiration",void 0),u([p({json:{write:!0}})],Ts.prototype,"flowType",void 0),u([p({json:{write:!0}})],Ts.prototype,"forceLogin",void 0),u([p({json:{write:!0}})],Ts.prototype,"forceUserId",void 0),u([p({json:{write:!0}})],Ts.prototype,"locale",void 0),u([p({json:{write:!0}})],Ts.prototype,"minTimeUntilExpiration",void 0),u([p({json:{write:!0}})],Ts.prototype,"popup",void 0),u([p({json:{write:!0}})],Ts.prototype,"popupCallbackUrl",void 0),u([p({json:{write:!0}})],Ts.prototype,"popupWindowFeatures",void 0),u([p({json:{write:!0}})],Ts.prototype,"portalUrl",void 0),u([p({json:{write:!0}})],Ts.prototype,"preserveUrlHash",void 0),u([p({json:{write:!0}})],Ts.prototype,"userId",void 0),Ts=rj=u([j("esri.identity.OAuthInfo")],Ts);const nj=Ts;function E2(t){return t&&typeof t=="object"&&"toJSON"in t&&typeof t.toJSON=="function"}const Y0e=/^https:\/\/([a-z\d-]+)(\.maps([^.]*))?\.arcgis\.com/i,Z0e={devext:{customBaseUrl:"mapsdevext.arcgis.com",portalHostname:"devext.arcgis.com"},qaext:{customBaseUrl:"mapsqa.arcgis.com",portalHostname:"qaext.arcgis.com"},www:{customBaseUrl:"maps.arcgis.com",portalHostname:"www.arcgis.com"}};function _W(t){const e=t?.match(Y0e);if(!e)return null;const[,i,r,n]=e;if(!i)return null;let s=null,o=null,a=null;const{devext:l,qaext:h,www:f}=Z0e;if(r)if(s=i,n)switch(n.toLowerCase()){case"devext":({customBaseUrl:o,portalHostname:a}=l);break;case"qa":({customBaseUrl:o,portalHostname:a}=h);break;default:return null}else({customBaseUrl:o,portalHostname:a}=f);else switch(i.toLowerCase()){case"devext":({customBaseUrl:o,portalHostname:a}=l);break;case"qaext":({customBaseUrl:o,portalHostname:a}=h);break;case"www":({customBaseUrl:o,portalHostname:a}=f);break;default:return null}return{customBaseUrl:o,isPortal:!1,portalHostname:a,urlKey:s}}function g9(t){return/\/(sharing|usrsvcs)\/(appservices|servers)\//i.test(t)}function AA(t){const e=/^https?:\/\/(?:cdn|[a-z\d-]+\.maps)\.arcgis\.com/i,i=/^https?:\/\/(?:cdndev|[a-z\d-]+\.mapsdevext)\.arcgis\.com/i,r=/^https?:\/\/(?:cdnqa|[a-z\d-]+\.mapsqa)\.arcgis\.com/i;return e.test(t)?t=t.replace(e,"https://www.arcgis.com"):i.test(t)?t=t.replace(i,"https://devext.arcgis.com"):r.test(t)&&(t=t.replace(r,"https://qaext.arcgis.com")),t}function hre(t){const e=atob(t),i=new Uint8Array(e.length);for(let r=0;r<e.length;r++)i[r]=e.charCodeAt(r);return i.buffer}function J0e(t){const e=new Uint8Array(t);let i="";for(let r=0;r<e.length;r++)i+=String.fromCharCode(e[r]);return btoa(i)}const X0e=()=>Ee.getLogger("esri.core.urlUtils"),T1=ni.request,xW="esri/config: esriConfig.request.proxyUrl is not set.",pre=/^\s*[a-z][a-z0-9-+.]*:(?![0-9])/i,fre=/^\s*http:/i,K0e=/^\s*https:/i,Q0e=/^\s*file:/i,mre=/:\d+$/,ewe=/^https?:\/\/[^/]+\.arcgis.com\/sharing(\/|$)/i,twe=new RegExp("^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?$"),iwe=new RegExp("^((([^[:]+):)?([^@]+)@)?(\\[([^\\]]+)\\]|([^[:]*))(:([0-9]+))?$");let ha=class{constructor(e=""){this.uri=e,this.scheme=null,this.authority=null,this.path=null,this.query=null,this.fragment=null,this.user=null,this.password=null,this.host=null,this.port=null;let i=this.uri.match(twe);this.scheme=i[2]||(i[1]?"":null),this.authority=i[4]||(i[3]?"":null),this.path=i[5],this.query=i[7]||(i[6]?"":null),this.fragment=i[9]||(i[8]?"":null),this.authority!=null&&(i=this.authority.match(iwe),this.user=i[3]||null,this.password=i[4]||null,this.host=i[6]||i[7],this.port=i[9]||null)}toString(){return this.uri}};const UE={},rwe=new ha(ni.applicationUrl);let so=rwe;const nwe=swe();let y9=nwe;const v9=()=>so,Jtt=()=>y9;function swe(){const t=so.path,e=t.slice(0,t.lastIndexOf("/")+1);return`${`${so.scheme}://${so.host}${so.port!=null?`:${so.port}`:""}`}${e}`}function Qr(t){if(!t)return null;const e={path:null,query:null},i=new ha(t),r=t.indexOf("?");return i.query===null?e.path=t:(e.path=t.slice(0,r),e.query=jy(i.query)),i.fragment&&(e.hash=i.fragment,i.query===null&&(e.path=e.path.slice(0,e.path.length-(i.fragment.length+1)))),e}function jy(t){const e=t.split("&"),i={};for(const r of e){if(!r)continue;const n=r.indexOf("=");let s,o;n<0?(s=decodeURIComponent(r),o=""):(s=decodeURIComponent(r.slice(0,n)),o=decodeURIComponent(r.slice(n+1)));let a=i[s];typeof a=="string"&&(a=i[s]=[a]),Array.isArray(a)?a.push(o):i[s]=o}return i}function gv(t,e){return t?Object.keys(t).map(i=>{const r=t[i];if(r==null)return"";const n=encodeURIComponent(i)+"=",s=e?.[i];return s?n+encodeURIComponent(s(r)):Array.isArray(r)?r.map(o=>E2(o)?n+encodeURIComponent(JSON.stringify(o)):n+encodeURIComponent(o)).join("&"):E2(r)?n+encodeURIComponent(JSON.stringify(r)):n+encodeURIComponent(r)}).filter(i=>i).join("&"):""}function gre(t=!1){let e,i=T1.proxyUrl;if(typeof t=="string"){e=wre(t);const r=j$(t);r&&(i=r.proxyUrl)}else e=!!t;if(!i)throw X0e().warn(xW),new ee("urlUtils:proxy-not-set",xW);return e&&oj()&&(i=S9(i)),Qr(i)}function Xtt(t,e=!1){const i=j$(t);let r,n;if(i){const s=b9(i.proxyUrl);r=s.path,n=s.query?jy(s.query):null}else if(e){const s=gre(t);r=s.path,n=s.query}if(r){const s=Qr(t);t=r+"?"+s.path;const o=gv({...n,...s.query});o&&(t=`${t}?${o}`)}return t}const Bx={path:"",query:""};function b9(t){const e=t.indexOf("?");return e!==-1?(Bx.path=t.slice(0,e),Bx.query=t.slice(e+1)):(Bx.path=t,Bx.query=null),Bx}function yre(t){return t=(t=PA(t=ywe(t=b9(t).path),!0)).toLowerCase()}function owe(t){const e={proxyUrl:t.proxyUrl,urlPrefix:yre(t.urlPrefix)},i=T1.proxyRules,r=e.urlPrefix;let n=i.length;for(let s=0;s<i.length;s++){const o=i[s].urlPrefix;if(r.startsWith(o)){if(r.length===o.length)return-1;n=s;break}o.startsWith(r)&&(n=s+1)}return i.splice(n,0,e),n}function j$(t){const e=T1.proxyRules,i=yre(t);for(let r=0;r<e.length;r++)if(i.startsWith(e[r].urlPrefix))return e[r]}function awe(t,e){if(!t||!e)return!1;t=OA(t),e=OA(e);const i=_W(t),r=_W(e);return i!=null&&r!=null?i.portalHostname===r.portalHostname:i==null&&r==null&&os(t,e,!0)}function vre(t,e){return t=OA(t),e=OA(e),PA(t)===PA(e)}function OA(t){const e=(t=lc(t)).indexOf("/sharing");return e>0?t.slice(0,e):t.replace(/\/+$/,"")}function sj(t,e=T1.interceptors){const i=r=>r instanceof RegExp?r.test(t):typeof r=="string"?t.startsWith(r):r==null;if(e){for(const r of e)if(Array.isArray(r.urls)){if(r.urls.some(i))return r}else if(i(r.urls))return r}return null}function os(t,e,i=!1){if(!t||!e)return!1;const r=lj(t),n=lj(e);return!(!i&&r.scheme!==n.scheme)&&r.host!=null&&n.host!=null&&r.host.toLowerCase()===n.host.toLowerCase()&&r.port===n.port}function w9(t){if(typeof t=="string"){if(!ga(t))return!0;t=lj(t)}if(os(t,so))return!0;const e=T1.trustedServers||[];for(let i=0;i<e.length;i++){const r=lwe(e[i]);for(let n=0;n<r.length;n++)if(os(t,r[n]))return!0}return!1}function lwe(t){return UE[t]||(x9(t)||Rd(t)?UE[t]=[new ha(Ao(t))]:UE[t]=[new ha(`http://${t}`),new ha(`https://${t}`)]),UE[t]}function Ao(t,e=y9,i){return Rd(t)?i?.preserveProtocolRelative?t:so.scheme==="http"&&so.authority===dl(t).slice(2)?`http:${t}`:`https:${t}`:x9(t)?t:yv(t.startsWith("/")?mwe(e):e,t)}function _9(t,e=y9,i){if(t==null||!ga(t))return t;const r=lc(t),n=r.toLowerCase(),s=lc(e).toLowerCase().replace(/\/+$/,""),o=i?lc(i).toLowerCase().replace(/\/+$/,""):null;if(o&&!s.startsWith(o))return t;const a=(g,v,w)=>(w=g.indexOf(v,w))===-1?g.length:w;let l=a(n,"/",n.indexOf("//")+2),h=-1;for(;n.slice(0,l+1)===s.slice(0,l)+"/"&&(h=l+1,l!==n.length);)l=a(n,"/",l+1);if(h===-1||o&&h<o.length)return t;t=r.slice(h);const f=s.slice(h-1).replaceAll(/[^/]+/g,"").length;if(f>0)for(let g=0;g<f;g++)t=`../${t}`;else t=`./${t}`;return t}function lc(t){return t=wwe(t=bwe(t=vwe(t=Ao(t=t.trim()))))}function yv(...t){const e=t.filter(vu);if(!e?.length)return;const i=[];if(ga(e[0])){const n=e[0],s=n.indexOf("//");s!==-1&&(i.push(n.slice(0,s+1)),pwe(e[0])&&(i[0]+="/"),e[0]=n.slice(s+2))}else e[0].startsWith("/")&&i.push("");const r=e.reduce((n,s)=>s?n.concat(s.split("/")):n,[]);for(let n=0;n<r.length;n++){const s=r[n];s===".."&&i.length>0&&i[i.length-1]!==".."?i.pop():(!s&&n===r.length-1||s&&(s!=="."||i.length===0))&&i.push(s)}return i.join("/")}function dl(t,e=!1){if(t==null||$1(t)||Np(t))return null;let i=t.indexOf("://");if(i===-1&&Rd(t))i=2;else{if(i===-1)return null;i+=3}const r=t.indexOf("/",i);return r!==-1&&(t=t.slice(0,r)),e&&(t=PA(t,!0)),t}function ga(t){return Rd(t)||x9(t)}function $1(t){return t!=null&&t.startsWith("blob:")}function Np(t){return t!=null&&t.startsWith("data:")}function cwe(t){const e=vv(t);return e?.isBase64?hre(e.data):null}function uL(t){return J0e(t).replaceAll("+","-").replaceAll("/","_").replace(/=+$/,"")}const uwe=/^data:(.*?)(;base64)?,(.*)$/;function vv(t){const e=t.match(uwe);if(!e)return null;const[,i,r,n]=e;return{mediaType:i,isBase64:!!r,data:n}}function bre(t){return t.isBase64?`data:${t.mediaType};base64,${t.data}`:`data:${t.mediaType},${t.data}`}async function dwe(t){return(await fetch(t)).blob()}function Ktt(t){const e=cwe(t);if(!e)return null;const i=vv(t);return new Blob([e],{type:i.mediaType})}function Rd(t){return t!=null&&t.startsWith("/")&&t[1]==="/"}function x9(t){return t!=null&&pre.test(t)}function wre(t){return t!=null&&K0e.test(t)||so.scheme==="https"&&Rd(t)}function hwe(t){return t!=null&&fre.test(t)||so.scheme==="http"&&Rd(t)}function pwe(t){return t!=null&&Q0e.test(t)}function S9(t){return Rd(t)?`https:${t}`:t.replace(fre,"https:")}function fwe(){return so.scheme==="http"}function oj(){return so.scheme==="https"}function PA(t,e=!1){return Rd(t)?t.slice(2):(t=t.replace(pre,""),e&&t.length>1&&t.startsWith("/")&&t[1]==="/"&&(t=t.slice(2)),t)}function mwe(t){const e=t.indexOf("//"),i=t.indexOf("/",e+2);return i===-1?t:t.slice(0,i)}function gwe(t){let e=0;if(ga(t)){const r=t.indexOf("//");r!==-1&&(e=r+2)}const i=t.lastIndexOf("/");return i<e?t:t.slice(0,i+1)}function Qtt(t,e){if(!t)return"";const i=Qr(t).path.replace(/\/+$/,""),r=i.slice(i.lastIndexOf("/")+1);if(!e?.length)return r;const n=new RegExp(`\\.(${e.join("|")})$`,"i");return r.replace(n,"")}function ywe(t){return t.endsWith("/")?t:`${t}/`}function _re(t){return t.replace(/\/+$/,"")}function vwe(t){if(/^https?:\/\//i.test(t)){const e=b9(t);t=(t=e.path.replaceAll(/\/{2,}/g,"/")).replace("/","//"),e.query&&(t+=`?${e.query}`)}return t}function bwe(t){return t.replace(/^(https?:\/\/)(arcgis\.com)/i,"$1www.$2")}function wwe(t){const e=T1.httpsDomains;if(!hwe(t))return t;const i=t.indexOf("/",7);let r;if(r=i===-1?t:t.slice(0,i),r=r.toLowerCase().slice(7),mre.test(r)){if(!r.endsWith(":80"))return t;r=r.slice(0,-3),t=t.replace(":80","")}return fwe()&&r===so.authority&&!ewe.test(t)||(oj()&&r===so.authority||e&&e.some(n=>r===n||r.endsWith(`.${n}`))||oj()&&!j$(t))&&(t=S9(t)),t}function aj(t,e,i){if(!(e&&i&&t&&ga(t)))return t;const r=t.indexOf("//"),n=t.indexOf("/",r+2),s=t.indexOf(":",r+2),o=Math.min(n<0?t.length:n,s<0?t.length:s);return t.slice(r+2,o).toLowerCase()!==e.toLowerCase()?t:`${t.slice(0,r+2)}${i}${t.slice(o)}`}function xre(t,e){const i=new URL(t);return i.host=e,i.port&&!mre.test(e)&&(i.port=""),i.toString()}function _we(t){return new URL(t).host}function lj(t){return typeof t=="string"?new ha(Ao(t)):(t.scheme||(t.scheme=so.scheme),t)}function eit(t){return xwe.test(t)}function Sre(t,e){const i=Qr(t),r=Object.keys(i.query||{});return r.length>0&&e&&e.warn("removeQueryParameters()",`Url query parameters are not supported, the following parameters have been removed: ${r.join(", ")}.`),i.path}function Tre(t,e,i){const r=Qr(t),n=r.query||{};return n[e]=String(i),`${r.path}?${gv(n)}`}function CC(t,e){if(!e)return t;const i=Qr(t),r=i.query||{};for(const[s,o]of Object.entries(e))o!=null&&(r[s]=o);const n=gv(r);return n?`${i.path}?${n}`:i.path}function $re(t){if(t==null)return null;const e=t.match(kre);return e?e[2]:null}function SW(t){if(t==null)return null;const e=t.match(kre);return e?{path:e[1],extension:e[2]}:{path:t,extension:null}}async function tit(t){return typeof t=="string"?vv(t)??{data:t}:new Promise((e,i)=>{const r=new FileReader;r.readAsDataURL(t),r.onload=()=>e(vv(r.result)),r.onerror=n=>i(n)})}const kre=/([^.]*)\.([^/]*)$/,xwe=/(^data:image\/svg|\.svg$)/i,Ere="20251114",Ire="ec088c999de2dac6fb9478a47da1bad775545540";Symbol.dispose??=Symbol("Symbol.dispose"),Symbol.asyncDispose??=Symbol("Symbol.asyncDispose");const Cre="4.34";let Zt,T9=Cre;function Swe(t){Zt=t}function iit(t){const e=Zt?.findCredential(t);return e?.token?Tre(t,"token",e.token):t}T9="4.34.8",he("host-webworker")||globalThis.$arcgis||Object.defineProperty(globalThis,"$arcgis",{configurable:!1,enumerable:!0,writable:!1,value:{}}),he("host-webworker");const Twe="modulepreload",$we=function(t){return"/test-eiji/"+t},TW={},ke=function(e,i,r){let n=Promise.resolve();if(i&&i.length>0){let l=function(h){return Promise.all(h.map(f=>Promise.resolve(f).then(g=>({status:"fulfilled",value:g}),g=>({status:"rejected",reason:g}))))};document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=o?.nonce||o?.getAttribute("nonce");n=l(i.map(h=>{if(h=$we(h),h in TW)return;TW[h]=!0;const f=h.endsWith(".css"),g=f?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${g}`))return;const v=document.createElement("link");if(v.rel=f?"stylesheet":Twe,f||(v.as="script"),v.crossOrigin="",v.href=h,a&&v.setAttribute("nonce",a),document.head.appendChild(v),f)return new Promise((w,S)=>{v.addEventListener("load",w),v.addEventListener("error",()=>S(new Error(`Unable to preload CSS for ${h}`)))})}))}function s(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return n.then(o=>{for(const a of o||[])a.status==="rejected"&&s(a.reason);return e().catch(s)})};function Uv(t,e){const i=e?.url?.path;if(t&&i&&(t=Ao(t,i,{preserveProtocolRelative:!0}),e.portalItem&&e.readResourcePaths)){const r=_9(t,e.portalItem.itemUrl);r!=null&&r.startsWith(kwe)&&e.readResourcePaths.push(e.portalItem.resourceFromPath(r).path)}return(t=cj(t,e?.portal))&&hD.test(t)?$9(t):t}function bv(t,e,i=0){if((t=t&&hD.test(t)?Pre(t):t)==null)return t;!ga(t)&&e?.blockedRelativeUrls&&e.blockedRelativeUrls.push(t);let r=Ao(t);if(e){const n=e.verifyItemRelativeUrls?.rootPath||e.url?.path;if(n){const s=cj(n,e.portal),o=cj(r,e.portal);r=_9(o,s,s),r!=null&&r!==o&&r!==t&&e.verifyItemRelativeUrls&&e.verifyItemRelativeUrls.writtenUrls.push(r)}}return r=Ore(r,e?.portal),ga(r)&&(r=lc(r)),e?.resources&&e?.portalItem&&!ga(r)&&!Np(r)&&i===0&&e.resources.toKeep.push({resource:e.portalItem.resourceFromPath(r),compress:!1}),r}function dD(t,e,i){return Uv(t,i)}function wv(t,e,i,r){const n=bv(t,r);n!==void 0&&(e[i]=n)}const hD=/\/items\/([^/]+)\/resources\/(.*)/,kwe="./resources/";function Mre(t){return(t?.match(hD)??null)?.[1]??null}function Are(t){const e=t?.match(hD)??null;if(e==null)return null;const i=e[2],r=i.lastIndexOf("/");if(r===-1){const{path:o,extension:a}=SW(i);return{prefix:null,filename:o,extension:a}}const{path:n,extension:s}=SW(i.slice(r+1));return{prefix:i.slice(0,r),filename:n,extension:s}}function Ore(t,e){return e&&!e.isPortal&&e.urlKey&&e.customBaseUrl?aj(t,`${e.urlKey}.${e.customBaseUrl}`,e.portalHostname):t}function cj(t,e){if(!e||e.isPortal||!e.urlKey||!e.customBaseUrl)return t;const i=`${e.urlKey}.${e.customBaseUrl}`,r=v9();return os(r,`${r.scheme}://${i}`)?aj(t,e.portalHostname,i):aj(t,i,e.portalHostname)}function $9(t){if(!t)return t||null;let e=t;return e&&Zt&&!Zt.findCredential(e)&&(e=AA(e),e=e.replace(/^https?:\/\/www\.arcgis\.com/,"https://cdn.arcgis.com"),e=e.replace(/^https?:\/\/devext\.arcgis\.com/,"https://cdndev.arcgis.com"),e=e.replace(/^https?:\/\/qaext\.arcgis\.com/,"https://cdnqa.arcgis.com")),e}function Pre(t){if(!t)return t||null;let e=t;return e=e.replace(/^https?:\/\/cdn\.arcgis\.com/,"https://www.arcgis.com"),e=e.replace(/^https?:\/\/cdndev\.arcgis\.com/,"https://devext.arcgis.com"),e=e.replace(/^https?:\/\/cdnqa\.arcgis\.com/,"https://qaext.arcgis.com"),e&&Zt&&!Zt.findCredential(e)&&(e=AA(e)),e}const Ewe=Object.freeze(Object.defineProperty({__proto__:null,ensureMainOnlineDomain:Ore,fromCDNUrl:Pre,fromJSON:Uv,itemIdFromResourceUrl:Mre,prefixAndFilenameFromResourceUrl:Are,read:dD,toCDNUrl:$9,toJSON:bv,write:wv},Symbol.toStringTag,{value:"Module"})),Dre={mapserver:"MapServer",imageserver:"ImageServer",featureserver:"FeatureServer",knowledgegraphserver:"KnowledgeGraphServer",sceneserver:"SceneServer",streamserver:"StreamServer",vectortileserver:"VectorTileServer","3dtilesserver":"3DTilesServer",videoserver:"VideoServer"},Rre=Object.values(Dre),Lre=new RegExp(`^((?:https?:)?\\/\\/\\S+?\\/rest\\/services\\/(.+?)\\/(${Rre.join("|")}))(?:\\/(?:layers\\/)?(\\d+))?`,"i"),Iwe=new RegExp(`^((?:https?:)?\\/\\/\\S+?\\/([^/\\n]+)\\/(${Rre.join("|")}))(?:\\/(?:layers\\/)?(\\d+))?`,"i"),Cwe=/(.*?)\/(?:layers\/)?(\d+)\/?$/i;function rit(t){return Lre.test(t)}function Ld(t){if(t==null)return null;const e=Qr(t),i=e?.path.match(Lre)||e?.path.match(Iwe);if(!i)return null;const[,r,n,s,o]=i,a=n.indexOf("/");return{title:k9(a!==-1?n.slice(a+1):n),serverType:Dre[s.toLowerCase()],sublayer:o!=null&&o!==""?parseInt(o,10):null,url:{path:r}}}function Mwe(t){const e=Qr(t).path.match(Cwe);return e?{serviceUrl:e[1],sublayerId:Number(e[2])}:null}function k9(t){return(t=t.replaceAll(/\s*[/_]+\s*/g," "))[0].toUpperCase()+t.slice(1)}function Awe(t,e){const i=[];if(t){const r=Ld(t);r!=null&&r.title&&i.push(r.title)}if(e){const r=k9(e);i.push(r)}if(i.length===2){if(i[0].toLowerCase().includes(i[1].toLowerCase()))return i[0];if(i[1].toLowerCase().includes(i[0].toLowerCase()))return i[1]}return i.join(" - ")}function DA(t){let e=dl(t,!0);return!!e&&(e=e.toLowerCase(),e.endsWith(".arcgis.com")&&(e.startsWith("services")||e.startsWith("tiles")||e.startsWith("features")||/^[a-z\d-]+\.svcs[a-z\d-]*\./.test(e)))}function Owe(t,e){return t&&_re(Sre(t,e))}function Pwe(t){let{url:e}=t;if(!e)return{url:e};e=Sre(e,t.logger);const i=Qr(e),r=Ld(i.path);let n;if(r!=null)r.sublayer!=null&&t.layer.layerId==null&&(n=r.sublayer),e=r.url.path;else if(t.nonStandardUrlAllowed){const s=Mwe(i.path);s!=null&&(e=s.serviceUrl,n=s.sublayerId)}return{url:_re(e),layerId:n}}function Dwe(t,e,i,r,n){wv(e,r,"url",n),r.url&&t.layerId!=null&&(r.url=yv(r.url,i,t.layerId.toString()))}function nit(t){if(!t)return!1;const e=t.toLowerCase(),i=e.includes("/services/"),r=e.includes("/mapserver/wmsserver"),n=e.includes("/imageserver/wmsserver"),s=e.includes("/wmsserver");return i&&(r||n||s)}function sit(t){if(!t)return!1;const e=new ha(Ao(t)),i=e.authority?.toLowerCase();return i==="server.arcgisonline.com"||i==="services.arcgisonline.com"}const Rwe=new Set(["elevation3d.arcgis.com","js.arcgis.com","jsdev.arcgis.com","jsqa.arcgis.com","static.arcgis.com"]);function E9(t){if(!I9(t))return null;const e=r=>r instanceof RegExp?r.test(t):typeof r=="string"&&t.startsWith(r),i=ni.apiKeys;if(Array.isArray(i.scopes)){for(const r of i.scopes)if(Array.isArray(r.urls)){if(r.urls.some(e))return r.token}else if(e(r.urls))return r.token}return i.basemapStyles&&/^https?:\/\/(i?basemaps|basemapstyles)-api\.arcgis\.com\//i.test(t)?i.basemapStyles:ni.apiKey&&/^https?:\/\/.+\.arcgis\.com(\/|$)/i.test(t)?ni.apiKey:null}function uj(){return ni.apiKey!=null||ni.apiKeys.basemapStyles!=null}function Lwe(t,e){return e?I9(t):E9(t)!=null}function I9(t){const e=dl(t,!0);return!!e&&!Rwe.has(e)&&!t.endsWith("/sharing/rest/generateToken")}function zwe(t,e,i=!1,r){return new Promise((n,s)=>{if(Rs(r))return void s($W());let o=()=>{h(),s(new Error(`Unable to load ${e}`))},a=async()=>{const f=t;try{await f.decode()}catch{}h(),n(f)},l=()=>{if(!t)return;const f=t;h(),f.src="",s($W())};const h=()=>{t&&(t.removeEventListener("error",o),t.removeEventListener("load",a),o=null,a=null,t=null,r?.removeEventListener("abort",l),l=null,i&&URL.revokeObjectURL(e))};r?.addEventListener("abort",l),t.addEventListener("error",o),t.addEventListener("load",a)})}function $W(){try{return new DOMException("Aborted","AbortError")}catch{const t=new Error;return t.name="AbortError",t}}const zre="Timeout exceeded";function Nwe(){return new Error(zre)}function oit(t){return typeof t=="object"&&!!t&&"message"in t&&t.message===zre}function jwe(t){ni.request.crossOriginNoCorsDomains||(ni.request.crossOriginNoCorsDomains={});const e=ni.request.crossOriginNoCorsDomains;for(let i of t)i=i.toLowerCase(),/^https?:\/\//.test(i)?e[dl(i)??""]=0:(e[dl("http://"+i)??""]=0,e[dl("https://"+i)??""]=0)}function Fwe(t){const e=ni.request.crossOriginNoCorsDomains;if(e){let i=dl(t);if(i)return i=i.toLowerCase(),!os(i,v9())&&e[i]<Date.now()-36e5}return!1}async function Vwe(t){const e=Qr(t);t=e.path,e.query?.f==="json"&&(t+="?f=json");try{await fetch(t,{mode:"no-cors",credentials:"include"})}catch{}const i=ni.request.crossOriginNoCorsDomains,r=dl(t);i&&r&&(i[r.toLowerCase()]=Date.now())}const dj=new Map;function Uwe(t,e){const i=e?.preferredHost;if(!i||os(t,`https://${i}`,!0))return;const r=Ld(t);if(!r||r.serverType!=="FeatureServer"||g9(t))return;const n=r.url.path.toLowerCase();dj.has(n)||dj.set(n,i)}function kW(t){const e=Ld(t)?.url.path.toLowerCase();if(!e)return t;const i=dj.get(e);return i?xre(t,i):t}async function Vt(t,e){t instanceof URL&&(t=t.toString()),e?.query instanceof URLSearchParams&&(e.query=jy(e.query.toString().replaceAll("+"," ")));const i=Np(t),r=$1(t);r||i||(t=lc(t));const n={url:t,requestOptions:{...e}},s=w=>({data:w,getAllHeaders:F_,getHeader:F_,httpStatus:200,requestOptions:n.requestOptions,url:n.url}),o=sj(t,Jl.internalInterceptors);if(o){const w=await IW(o,n);if(w!=null)return s(w)}let a=sj(t);if(a){const w=await IW(a,n);if(w!=null)return s(w);a.after||a.error||(a=null)}if(t=n.url,(e=n.requestOptions).responseType==="image"&&(he("host-webworker")||he("host-node")))throw gu("request:invalid-parameters",new Error("responseType 'image' is not supported in Web Workers or Node environment"),n);if(e.method==="head"){if(e.body)throw gu("request:invalid-parameters",new Error("body parameter cannot be set when method is 'head'"),n);if(i||r)throw gu("request:invalid-parameters",new Error("data and blob URLs are not supported for method 'head'"),n)}if(await Wwe(),RA)return RA.execute(t,e);const l=new AbortController,h=Ds(e,()=>l.abort()),f={controller:l,credential:void 0,credentialToken:void 0,fetchOptions:void 0,hasToken:!1,interceptor:a,params:n,redoRequest:!1,useIdentity:Jl.useIdentity,useProxy:!1,useSSL:!1,withCredentials:!1},g=e.useRequestQueue?Kwe(f):pj(f),v=await g.finally(()=>h?.remove());return a?.after?.(v),v}let RA,Nre=!1;const Jl=ni.request,jre="FormData"in globalThis,Bwe=new Set([499,498,403,401]),Hwe=new Set(["COM_0056","COM_0057","SB_0008"]),qwe=[/\/arcgis\/tokens/i,/\/sharing(\/rest)?\/generatetoken/i,/\/rest\/info/i],F_=()=>null,LA=Symbol();function Gwe(t){const e=dl(t);e&&!Vt._corsServers.includes(e)&&Vt._corsServers.push(e)}function EW(t){const e=dl(t);return!e||e.endsWith(".arcgis.com")||Vt._corsServers.includes(e)||w9(e)}function gu(t,e,i,r){let n;const s={url:i.url,requestOptions:i.requestOptions,getAllHeaders:F_,getHeader:F_,ssl:!1};if(e instanceof ee)return e.details?(e.details=ne(e.details),e.details.url=i.url,e.details.requestOptions=i.requestOptions):e.details=s,e;if(e){const o=r&&(()=>Array.from(r.headers)),a=r&&(f=>r.headers.get(f)),l=r?.status,h=e.message;h&&(n=h),o&&a&&(s.getAllHeaders=o,s.getHeader=a),s.httpStatus=(e.httpCode!=null?e.httpCode:e.code)||l||0,s.subCode=e.subcode,s.messageCode=e.messageCode,typeof e.details=="string"?(s.messages=[e.details],n??=e.details):(s.messages=e.details,n??=s.messages?.[0]),s.raw=LA in e?e[LA]:e}return n??="Error",us(e)?Si():new ee(t,n,s)}async function Wwe(){he("host-webworker")&&(!RA&&globalThis.invokeStaticMessage?RA=await ke(()=>import("./request-3fTQpchz.js"),[]):Nre=!0)}async function hj(){Zt||await ke(()=>Promise.resolve().then(()=>yoe),void 0)}async function Ywe(t){const e=t.params.url,i=t.params.requestOptions,r=t.controller.signal,n=i.body;let s=null,o=null;if(jre&&"HTMLFormElement"in globalThis&&(n instanceof FormData?s=n:n instanceof HTMLFormElement&&(s=new FormData(n))),typeof n=="string"&&(o=n),t.fetchOptions={cache:i.cacheBust?"no-cache":"default",credentials:"same-origin",headers:i.headers||{},keepalive:i.keepAlive??!1,method:i.method==="head"?"HEAD":"GET",mode:"cors",priority:Jl.priority,redirect:"follow",signal:r},(s||o)&&(t.fetchOptions.body=s||o),(Nre||i.authMode==="anonymous")&&(t.useIdentity=!1),t.hasToken=!!(/token=/i.test(e)||i.query?.token||s?.get("token")),!t.hasToken){const a=E9(e);a&&(i.query??={},i.query.token=a,t.hasToken=!0)}if(t.useIdentity&&!t.hasToken&&!t.credential&&!t.credentialToken&&!Fre(e)&&!Rs(r)){let a;i.authMode==="immediate"?(await hj(),a=await Zt.getCredential(e,{signal:r})):i.authMode==="no-prompt"?(await hj(),a=await Zt.getCredential(e,{prompt:!1,signal:r}).catch(()=>{})):Zt&&(a=Zt.findCredential(e)),a&&(t.credential=a,t.credentialToken=a.token,t.useSSL=!!a.ssl)}}function Fre(t){return qwe.some(e=>e.test(t))}async function Zwe(t){let e=t.params.url,i=kW(e);const r=t.params.requestOptions,n=t.fetchOptions??{},s=$1(e)||Np(e),o=r.responseType||"json",a=s?0:r.timeout!=null?r.timeout:Jl.timeout;let l=!1;if(!s){t.useSSL&&(e=S9(e));let w={...r.query};t.credentialToken&&(w.token=t.credentialToken);let S=gv(w);he("esri-url-encodes-apostrophe")&&(S=S.replaceAll("'","%27"));const T=i.length+1+S.length;let C;l=r.method==="delete"||r.method==="post"||r.method==="put"||!!r.body||T>Jl.maxUrlLength;const I=r.useProxy||!!j$(e);if(I){const A=gre(e);C=A.path,!l&&C.length+1+T>Jl.maxUrlLength&&(l=!0),A.query&&(w={...A.query,...w})}if(n.method==="HEAD"&&(l||I)){if(l)throw T>Jl.maxUrlLength?gu("request:invalid-parameters",new Error("URL exceeds maximum length"),t.params):gu("request:invalid-parameters",new Error("cannot use POST request when method is 'head'"),t.params);if(I)throw gu("request:invalid-parameters",new Error("cannot use proxy when method is 'head'"),t.params)}l?(n.method=r.method==="delete"?"DELETE":r.method==="put"?"PUT":"POST",r.body?e=CC(e,w):(n.body=gv(w),n.headers||(n.headers={}),n.headers["Content-Type"]="application/x-www-form-urlencoded")):e=CC(e,w),I&&(t.useProxy=!0,e=`${C}?${e}`),w.token&&jre&&n.body instanceof FormData&&!g9(e)&&n.body.set("token",w.token),r.hasOwnProperty("withCredentials")?t.withCredentials=r.withCredentials:os(e,v9())||(w9(e)||Zt&&Zt.findServerInfo(e)?.webTierAuth)&&(t.withCredentials=!0),t.withCredentials&&(n.credentials="include",Fwe(e)&&await Vwe(l?CC(e,w):e)),i=kW(e)}let h,f,g=0,v=!1;a>0&&(g=setTimeout(()=>{v=!0,t.controller.abort()},a));try{if(r.responseType==="native-request-init")f=n,f.url=i,r.signal?f.signal=r.signal:delete f.signal;else if(r.responseType!=="image"||n.cache!=="default"||n.keepalive||n.method!=="GET"||l||Jwe(r.headers)||!s&&!t.useProxy&&Jl.proxyUrl&&!EW(e)){if(Vt._beforeFetch&&await Vt._beforeFetch(e,n),h=await fetch(i,n),Vt._afterFetch&&await Vt._afterFetch(h),t.useProxy||Gwe(e),r.responseType==="native")f=h;else if(n.method!=="HEAD")if(h.ok){switch(o){case"array-buffer":f=await h.arrayBuffer();break;case"blob":case"image":f=await h.blob();break;default:f=await h.text()}if(g&&(clearTimeout(g),g=0),o==="json"||o==="xml"||o==="document")if(f)switch(o){case"json":f=JSON.parse(f);break;case"xml":f=CW(f,"application/xml");break;case"document":f=CW(f,"text/html")}else f=null;if(f){if(o==="array-buffer"||o==="blob"){const w=h.headers.get("Content-Type");if(w&&/application\/json|text\/plain/i.test(w)&&f[o==="blob"?"size":"byteLength"]<=750)try{const S=await new Response(f).json();S.error&&(f=S)}catch{}}o==="image"&&f instanceof Blob&&(f=await MW(URL.createObjectURL(f),t,!0))}}else{f=await h.text();try{f=JSON.parse(f)}catch{}}}else f=await MW(i,t)}catch(w){if(w.name==="AbortError")throw v?Nwe():Si("Request canceled");if(!(!h&&w instanceof TypeError&&Jl.proxyUrl)||r.body||r.method==="delete"||r.method==="head"||r.method==="post"||r.method==="put"||t.useProxy||EW(e))throw w;t.redoRequest=!0,owe({proxyUrl:Jl.proxyUrl,urlPrefix:dl(e)??""})}finally{g&&clearTimeout(g)}return[h,f]}async function IW(t,e){if(t.responseData!=null)return t.responseData;if(t.headers&&(e.requestOptions.headers={...e.requestOptions.headers,...t.headers}),t.query&&(e.requestOptions.query={...e.requestOptions.query,...t.query}),t.before){let i,r;try{r=await t.before(e)}catch(n){i=gu("request:interceptor",n,e)}if((r instanceof Error||r instanceof ee)&&(i=gu("request:interceptor",r,e)),i)throw t.error&&t.error(i),i;return r}}function Jwe(t){if(t){for(const e of Object.getOwnPropertyNames(t))if(t[e])return!0}return!1}function CW(t,e){let i;try{i=new DOMParser().parseFromString(t,e)}catch{}if(!i||i.getElementsByTagName("parsererror").length)throw new SyntaxError("XML Parse error");return i}Vt._corsServers=["https://server.arcgisonline.com","https://services.arcgisonline.com"],Vt._beforeFetch=void 0,Vt._afterFetch=void 0;const Xwe=new Map;async function Kwe(t){const e=e_e(t.params.url);if(!e)return pj(t);const{QueueProcessor:i}=await ke(()=>import("./QueueProcessor-4khNYEmn.js"),[]);return Vv(Xwe,e.origin,()=>{const n=e.isHosted?he("request-queue-concurrency-hosted"):he("request-queue-concurrency-non-hosted");return new i({concurrency:n,process:s=>{if(Rs(s.params.requestOptions))throw gu("",Si("Request canceled"),s.params);return pj(s)}})}).push(t)}async function pj(t){let e,i;await Ywe(t);try{do[e,i]=await Zwe(t);while(!await Qwe(t,e,i))}catch(s){const o=gu("request:server",s,t.params,e);throw o.details.ssl=t.useSSL,t.interceptor?.error&&t.interceptor.error(o),o}const r=t.params.url;if(i)if(/\/sharing\/rest\/(accounts|portals)\/self/i.test(r)){if(!t.hasToken&&!t.credentialToken&&i.user?.username&&!w9(r)){const s=dl(r,!0);s&&Jl.trustedServers.push(s)}Array.isArray(i.authorizedCrossOriginNoCorsDomains)&&jwe(i.authorizedCrossOriginNoCorsDomains)}else(t.params.requestOptions.responseType||"json")==="json"&&Uwe(r,i);const n=t.credential;if(n&&Zt){let o=Zt.findServerInfo(n.server)?.owningSystemUrl;if(o){o=o.replace(/\/?$/,"/sharing");const a=Zt.findCredential(o,n.userId);a&&Zt._getIdenticalSvcIdx(o,a)===-1&&a.resources.unshift(o)}}return{data:i,getAllHeaders:e?()=>Array.from(e.headers):F_,getHeader:e?s=>e.headers.get(s):F_,httpStatus:e?.status??200,requestOptions:t.params.requestOptions,ssl:t.useSSL,url:t.params.url}}async function Qwe(t,e,i){if(t.redoRequest)return t.redoRequest=!1,!1;const r=t.params.requestOptions;if(!e||r.responseType==="native"||r.responseType==="native-request-init")return!0;let n,s;if(i&&(i.error&&typeof i.error=="object"?n=i.error:i.status==="error"&&Array.isArray(i.messages)&&(n={...i},n[LA]=i,n.details=i.messages)),!n&&!e.ok)throw n=new Error(`Unable to load ${e.url} status: ${e.status}`),n[LA]=i,n;let o,a=null;n&&(s=Number(n.code),a=n.hasOwnProperty("subcode")?Number(n.subcode):null,o=n.messageCode,o=o?.toUpperCase());const l=r.authMode;if(s===403&&(a===4||n.message?.toLowerCase().includes("ssl")&&!n.message.toLowerCase().includes("permission"))){if(!t.useSSL)return t.useSSL=!0,!1}else if(!t.hasToken&&t.useIdentity&&(l!=="no-prompt"||s===498)&&s!==void 0&&Bwe.has(s)&&!Fre(t.params.url)&&(s!==403||(!o||!Hwe.has(o))&&(a==null||a===2&&t.credentialToken))){await hj();try{const h=await Zt.getCredential(t.params.url,{error:gu("request:server",n,t.params),credential:t.credential,prompt:l!=="no-prompt",signal:t.controller.signal,token:t.credentialToken});return t.credential=h,t.credentialToken=h.token,t.useSSL=t.useSSL||h.ssl,!1}catch(h){if(l==="no-prompt")return t.credential=void 0,t.credentialToken=void 0,!1;n=h}}if(n)throw n;return!0}function MW(t,e,i=!1){const r=e.controller.signal,n=new Image;return e.withCredentials?n.crossOrigin="use-credentials":n.crossOrigin="anonymous",n.alt="",n.fetchPriority=Jl.priority,n.src=t,zwe(n,t,i,r)}function e_e(t){let e,i;return typeof t=="string"?(e=dl(t,!0),i=DA(t)):(e=t.origin,i=DA(t.toString())),e==null?null:{origin:e,isHosted:i}}const pD=t=>{const e=t;class i extends e{constructor(){super(...arguments),this._listenersMap=null}clearEvents(){this._listenersMap?.clear(),this._listenersMap=null}destroy(){this.clearEvents()}emit(n,s){let o=this._listenersMap?.get(n);if(!o)return!1;let a=!1;for(const l of o.slice()){const h="deref"in l?l.deref():l;h?h?.call(this,s):a=!0}return a&&(o=o.filter(l=>!("deref"in l)||l.deref()!=null),this._listenersMap.set(n,o)),o.length>0}on(n,s){if(Array.isArray(n)){const a=n.map(l=>this.on(l,s));return Fv(a)}if(n.includes(","))throw new TypeError("Evented.on() with a comma delimited string of event types is not supported");this._listenersMap??=new Map;const o=this._listenersMap.get(n)||[];return o.push(s),this._listenersMap.set(n,o),oi(()=>{const a=this._listenersMap?.get(n),l=a?.indexOf(s)??-1;l>=0&&a.splice(l,1)})}once(n,s){const o=this.on(n,a=>{o.remove(),("deref"in s?s.deref():s)?.call(null,a)});return o}hasEventListener(n){const s=this._listenersMap?.get(n);return s!=null&&s.length>0}}return i},C9=pD(class{}),Vre=C9,k1=pD(at);let At=class{constructor(e,i={ignoreUnknown:!1,useNumericKeys:!1}){this._jsonToAPI=e,this._options=i,this.apiValues=[],this.jsonValues=[],this._apiToJSON=t_e(e),this.apiValues=AW(this._apiToJSON),this.jsonValues=AW(this._jsonToAPI),this.read=r=>this.fromJSON(r),this.write=(r,n,s)=>{const o=this.toJSON(r);o!==void 0&&Kr(s,o,n)},this.write.isJSONMapWriter=!0}toJSON(e){if(e==null)return null;if(this._apiToJSON.hasOwnProperty(e)){const i=this._apiToJSON[e];return this._options.useNumericKeys?+i:i}return this._options.ignoreUnknown?null:e}fromJSON(e){return e!=null&&this._jsonToAPI.hasOwnProperty(e)?this._jsonToAPI[e]:this._options.ignoreUnknown?void 0:e}};function t_e(t){const e={};for(const i in t)e[t[i]]=i;return e}function AW(t){const e=[];for(const i in t)e.push(i);return e.sort(),e}function En(){return function(t,e){return new At(t,{ignoreUnknown:!0,...e})}}let ET;const i_e=globalThis.esriConfig?.locale??globalThis.dojoConfig?.locale,fj=globalThis.document?.documentElement;function Ure(){const t=fj?.getAttribute("lang"),e=globalThis.navigator?.language;return i_e??t??e??"en"}function ya(){return ET===void 0&&(ET=Ure()),ET}const r_e=/^(?<language>[a-z]{2,3})(?:-(?<extlang>[a-z]{3}))?(?:-[A-Z][a-z]{3})?(?:-(?<region>[A-Z]{2}|\d{3}))?(?:-.*)?$/;function M9(t=ya()){return Hre(t)?.language}function Bre(t=ya()){const e=Hre(t);return e?.language&&e?.extlang?t.replace(`${e.language}-`,""):t}function Hre(t=ya()){return r_e.exec(t)?.groups}const MC=[];function qre(t){return MC.push(t),oi(()=>{MC.splice(MC.indexOf(t),1)})}const AC=[];function A9(t){return AC.push(t),oi(()=>AC.splice(AC.indexOf(t),1))}function OW(){const t=Ure();ET!==t&&([...AC].forEach(e=>e(t)),ET=t,[...MC].forEach(e=>e(t)))}globalThis.addEventListener?.("languagechange",OW),fj&&new MutationObserver(()=>{OW()}).observe(fj,{attributeFilter:["lang"]});const cc="system",Bm="unknown",Hm="UTC",n_e=Intl.DateTimeFormat().resolvedOptions().timeZone,PW=new Map([["AUS Central Standard Time","Australia/Darwin"],["AUS Eastern Standard Time","Australia/Sydney"],["Afghanistan Standard Time","Asia/Kabul"],["Alaskan Standard Time","America/Anchorage"],["Aleutian Standard Time","America/Adak"],["Altai Standard Time","Asia/Barnaul"],["Arab Standard Time","Asia/Riyadh"],["Arabian Standard Time","Asia/Dubai"],["Arabic Standard Time","Asia/Baghdad"],["Argentina Standard Time","America/Buenos_Aires"],["Astrakhan Standard Time","Europe/Astrakhan"],["Atlantic Standard Time","America/Halifax"],["Aus Central W. Standard Time","Australia/Eucla"],["Azerbaijan Standard Time","Asia/Baku"],["Azores Standard Time","Atlantic/Azores"],["Bahia Standard Time","America/Bahia"],["Bangladesh Standard Time","Asia/Dhaka"],["Belarus Standard Time","Europe/Minsk"],["Bougainville Standard Time","Pacific/Bougainville"],["Canada Central Standard Time","America/Regina"],["Cape Verde Standard Time","Atlantic/Cape_Verde"],["Caucasus Standard Time","Asia/Yerevan"],["Cen. Australia Standard Time","Australia/Adelaide"],["Central America Standard Time","America/Guatemala"],["Central Asia Standard Time","Asia/Bishkek"],["Central Brazilian Standard Time","America/Cuiaba"],["Central Europe Standard Time","Europe/Budapest"],["Central European Standard Time","Europe/Warsaw"],["Central Pacific Standard Time","Pacific/Guadalcanal"],["Central Standard Time","America/Chicago"],["Central Standard Time (Mexico)","America/Mexico_City"],["Chatham Islands Standard Time","Pacific/Chatham"],["China Standard Time","Asia/Shanghai"],["Cuba Standard Time","America/Havana"],["Dateline Standard Time","Etc/GMT+12"],["E. Africa Standard Time","Africa/Nairobi"],["E. Australia Standard Time","Australia/Brisbane"],["E. Europe Standard Time","Europe/Chisinau"],["E. South America Standard Time","America/Sao_Paulo"],["Easter Island Standard Time","Pacific/Easter"],["Eastern Standard Time","America/New_York"],["Eastern Standard Time (Mexico)","America/Cancun"],["Egypt Standard Time","Africa/Cairo"],["Ekaterinburg Standard Time","Asia/Yekaterinburg"],["FLE Standard Time","Europe/Kiev"],["Fiji Standard Time","Pacific/Fiji"],["GMT Standard Time","Europe/London"],["GTB Standard Time","Europe/Bucharest"],["Georgian Standard Time","Asia/Tbilisi"],["Greenland Standard Time","America/Godthab"],["Greenwich Standard Time","Atlantic/Reykjavik"],["Haiti Standard Time","America/Port-au-Prince"],["Hawaiian Standard Time","Pacific/Honolulu"],["India Standard Time","Asia/Calcutta"],["Iran Standard Time","Asia/Tehran"],["Israel Standard Time","Asia/Jerusalem"],["Jordan Standard Time","Asia/Amman"],["Kaliningrad Standard Time","Europe/Kaliningrad"],["Korea Standard Time","Asia/Seoul"],["Libya Standard Time","Africa/Tripoli"],["Line Islands Standard Time","Pacific/Kiritimati"],["Lord Howe Standard Time","Australia/Lord_Howe"],["Magadan Standard Time","Asia/Magadan"],["Magallanes Standard Time","America/Punta_Arenas"],["Marquesas Standard Time","Pacific/Marquesas"],["Mauritius Standard Time","Indian/Mauritius"],["Middle East Standard Time","Asia/Beirut"],["Montevideo Standard Time","America/Montevideo"],["Morocco Standard Time","Africa/Casablanca"],["Mountain Standard Time","America/Denver"],["Mountain Standard Time (Mexico)","America/Mazatlan"],["Myanmar Standard Time","Asia/Rangoon"],["N. Central Asia Standard Time","Asia/Novosibirsk"],["Namibia Standard Time","Africa/Windhoek"],["Nepal Standard Time","Asia/Katmandu"],["New Zealand Standard Time","Pacific/Auckland"],["Newfoundland Standard Time","America/St_Johns"],["Norfolk Standard Time","Pacific/Norfolk"],["North Asia East Standard Time","Asia/Irkutsk"],["North Asia Standard Time","Asia/Krasnoyarsk"],["North Korea Standard Time","Asia/Pyongyang"],["Omsk Standard Time","Asia/Omsk"],["Pacific SA Standard Time","America/Santiago"],["Pacific Standard Time","America/Los_Angeles"],["Pacific Standard Time (Mexico)","America/Tijuana"],["Pakistan Standard Time","Asia/Karachi"],["Paraguay Standard Time","America/Asuncion"],["Qyzylorda Standard Time","Asia/Qyzylorda"],["Romance Standard Time","Europe/Paris"],["Russia Time Zone 10","Asia/Srednekolymsk"],["Russia Time Zone 11","Asia/Kamchatka"],["Russia Time Zone 3","Europe/Samara"],["Russian Standard Time","Europe/Moscow"],["SA Eastern Standard Time","America/Cayenne"],["SA Pacific Standard Time","America/Bogota"],["SA Western Standard Time","America/La_Paz"],["SE Asia Standard Time","Asia/Bangkok"],["Saint Pierre Standard Time","America/Miquelon"],["Sakhalin Standard Time","Asia/Sakhalin"],["Samoa Standard Time","Pacific/Apia"],["Sao Tome Standard Time","Africa/Sao_Tome"],["Saratov Standard Time","Europe/Saratov"],["Singapore Standard Time","Asia/Singapore"],["South Africa Standard Time","Africa/Johannesburg"],["South Sudan Standard Time","Africa/Juba"],["Sri Lanka Standard Time","Asia/Colombo"],["Sudan Standard Time","Africa/Khartoum"],["Syria Standard Time","Asia/Damascus"],["Taipei Standard Time","Asia/Taipei"],["Tasmania Standard Time","Australia/Hobart"],["Tocantins Standard Time","America/Araguaina"],["Tokyo Standard Time","Asia/Tokyo"],["Tomsk Standard Time","Asia/Tomsk"],["Tonga Standard Time","Pacific/Tongatapu"],["Transbaikal Standard Time","Asia/Chita"],["Turkey Standard Time","Europe/Istanbul"],["Turks And Caicos Standard Time","America/Grand_Turk"],["US Eastern Standard Time","America/Indianapolis"],["US Mountain Standard Time","America/Phoenix"],["UTC","Etc/GMT"],["UTC+01","Etc/GMT-1"],["UTC+02","Etc/GMT-2"],["UTC+03","Etc/GMT-3"],["UTC+04","Etc/GMT-4"],["UTC+05","Etc/GMT-5"],["UTC+06","Etc/GMT-6"],["UTC+07","Etc/GMT-7"],["UTC+08","Etc/GMT-8"],["UTC+09","Etc/GMT-9"],["UTC+10","Etc/GMT-10"],["UTC+11","Etc/GMT-11"],["UTC+12","Etc/GMT-12"],["UTC+13","Etc/GMT-13"],["UTC+14","Etc/GMT-14"],["UTC-01","Etc/GMT+1"],["UTC-02","Etc/GMT+2"],["UTC-03","Etc/GMT+3"],["UTC-04","Etc/GMT+4"],["UTC-05","Etc/GMT+5"],["UTC-06","Etc/GMT+6"],["UTC-07","Etc/GMT+7"],["UTC-08","Etc/GMT+8"],["UTC-09","Etc/GMT+9"],["UTC-10","Etc/GMT+10"],["UTC-11","Etc/GMT+11"],["UTC-12","Etc/GMT+12"],["Ulaanbaatar Standard Time","Asia/Ulaanbaatar"],["Venezuela Standard Time","America/Caracas"],["Vladivostok Standard Time","Asia/Vladivostok"],["Volgograd Standard Time","Europe/Volgograd"],["W. Australia Standard Time","Australia/Perth"],["W. Central Africa Standard Time","Africa/Lagos"],["W. Europe Standard Time","Europe/Berlin"],["W. Mongolia Standard Time","Asia/Hovd"],["West Asia Standard Time","Asia/Tashkent"],["West Bank Standard Time","Asia/Hebron"],["West Pacific Standard Time","Pacific/Port_Moresby"],["Yakutsk Standard Time","Asia/Yakutsk"],["Yukon Standard Time","America/Whitehorse"]]);class Bv extends Error{}class s_e extends Bv{constructor(e){super(`Invalid DateTime: ${e.toMessage()}`)}}class o_e extends Bv{constructor(e){super(`Invalid Interval: ${e.toMessage()}`)}}class a_e extends Bv{constructor(e){super(`Invalid Duration: ${e.toMessage()}`)}}class _w extends Bv{}class Gre extends Bv{constructor(e){super(`Invalid unit ${e}`)}}class eo extends Bv{}class If extends Bv{constructor(){super("Zone is an abstract class")}}const tt="numeric",bu="short",hl="long",zA={year:tt,month:tt,day:tt},Wre={year:tt,month:bu,day:tt},l_e={year:tt,month:bu,day:tt,weekday:bu},Yre={year:tt,month:hl,day:tt},Zre={year:tt,month:hl,day:tt,weekday:hl},Jre={hour:tt,minute:tt},Xre={hour:tt,minute:tt,second:tt},Kre={hour:tt,minute:tt,second:tt,timeZoneName:bu},Qre={hour:tt,minute:tt,second:tt,timeZoneName:hl},ene={hour:tt,minute:tt,hourCycle:"h23"},tne={hour:tt,minute:tt,second:tt,hourCycle:"h23"},ine={hour:tt,minute:tt,second:tt,hourCycle:"h23",timeZoneName:bu},rne={hour:tt,minute:tt,second:tt,hourCycle:"h23",timeZoneName:hl},nne={year:tt,month:tt,day:tt,hour:tt,minute:tt},sne={year:tt,month:tt,day:tt,hour:tt,minute:tt,second:tt},one={year:tt,month:bu,day:tt,hour:tt,minute:tt},ane={year:tt,month:bu,day:tt,hour:tt,minute:tt,second:tt},c_e={year:tt,month:bu,day:tt,weekday:bu,hour:tt,minute:tt},lne={year:tt,month:hl,day:tt,hour:tt,minute:tt,timeZoneName:bu},cne={year:tt,month:hl,day:tt,hour:tt,minute:tt,second:tt,timeZoneName:bu},une={year:tt,month:hl,day:tt,weekday:hl,hour:tt,minute:tt,timeZoneName:hl},dne={year:tt,month:hl,day:tt,weekday:hl,hour:tt,minute:tt,second:tt,timeZoneName:hl};class Hv{get type(){throw new If}get name(){throw new If}get ianaName(){return this.name}get isUniversal(){throw new If}offsetName(e,i){throw new If}formatOffset(e,i){throw new If}offset(e){throw new If}equals(e){throw new If}get isValid(){throw new If}}let dL=null;class fD extends Hv{static get instance(){return dL===null&&(dL=new fD),dL}get type(){return"system"}get name(){return new Intl.DateTimeFormat().resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(e,{format:i,locale:r}){return xne(e,i,r)}formatOffset(e,i){return IT(this.offset(e),i)}offset(e){return-new Date(e).getTimezoneOffset()}equals(e){return e.type==="system"}get isValid(){return!0}}const mj=new Map;function u_e(t){let e=mj.get(t);return e===void 0&&(e=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:t,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"}),mj.set(t,e)),e}const d_e={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};function h_e(t,e){const i=t.format(e).replace(/\u200E/g,""),r=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(i),[,n,s,o,a,l,h,f]=r;return[o,n,s,a,l,h,f]}function p_e(t,e){const i=t.formatToParts(e),r=[];for(let n=0;n<i.length;n++){const{type:s,value:o}=i[n],a=d_e[s];s==="era"?r[a]=o:Nt(a)||(r[a]=parseInt(o,10))}return r}const hL=new Map;class ba extends Hv{static create(e){let i=hL.get(e);return i===void 0&&hL.set(e,i=new ba(e)),i}static resetCache(){hL.clear(),mj.clear()}static isValidSpecifier(e){return this.isValidZone(e)}static isValidZone(e){if(!e)return!1;try{return new Intl.DateTimeFormat("en-US",{timeZone:e}).format(),!0}catch{return!1}}constructor(e){super(),this.zoneName=e,this.valid=ba.isValidZone(e)}get type(){return"iana"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(e,{format:i,locale:r}){return xne(e,i,r,this.name)}formatOffset(e,i){return IT(this.offset(e),i)}offset(e){if(!this.valid)return NaN;const i=new Date(e);if(isNaN(i))return NaN;const r=u_e(this.name);let[n,s,o,a,l,h,f]=r.formatToParts?p_e(r,i):h_e(r,i);a==="BC"&&(n=-Math.abs(n)+1);const v=gD({year:n,month:s,day:o,hour:l===24?0:l,minute:h,second:f,millisecond:0});let w=+i;const S=w%1e3;return w-=S>=0?S:1e3+S,(v-w)/(60*1e3)}equals(e){return e.type==="iana"&&e.name===this.name}get isValid(){return this.valid}}let DW={};function f_e(t,e={}){const i=JSON.stringify([t,e]);let r=DW[i];return r||(r=new Intl.ListFormat(t,e),DW[i]=r),r}const gj=new Map;function yj(t,e={}){const i=JSON.stringify([t,e]);let r=gj.get(i);return r===void 0&&(r=new Intl.DateTimeFormat(t,e),gj.set(i,r)),r}const vj=new Map;function m_e(t,e={}){const i=JSON.stringify([t,e]);let r=vj.get(i);return r===void 0&&(r=new Intl.NumberFormat(t,e),vj.set(i,r)),r}const bj=new Map;function g_e(t,e={}){const{base:i,...r}=e,n=JSON.stringify([t,r]);let s=bj.get(n);return s===void 0&&(s=new Intl.RelativeTimeFormat(t,e),bj.set(n,s)),s}let bS=null;function y_e(){return bS||(bS=new Intl.DateTimeFormat().resolvedOptions().locale,bS)}const wj=new Map;function hne(t){let e=wj.get(t);return e===void 0&&(e=new Intl.DateTimeFormat(t).resolvedOptions(),wj.set(t,e)),e}const _j=new Map;function v_e(t){let e=_j.get(t);if(!e){const i=new Intl.Locale(t);e="getWeekInfo"in i?i.getWeekInfo():i.weekInfo,"minimalDays"in e||(e={...pne,...e}),_j.set(t,e)}return e}function b_e(t){const e=t.indexOf("-x-");e!==-1&&(t=t.substring(0,e));const i=t.indexOf("-u-");if(i===-1)return[t];{let r,n;try{r=yj(t).resolvedOptions(),n=t}catch{const l=t.substring(0,i);r=yj(l).resolvedOptions(),n=l}const{numberingSystem:s,calendar:o}=r;return[n,s,o]}}function w_e(t,e,i){return(i||e)&&(t.includes("-u-")||(t+="-u"),i&&(t+=`-ca-${i}`),e&&(t+=`-nu-${e}`)),t}function __e(t){const e=[];for(let i=1;i<=12;i++){const r=rt.utc(2009,i,1);e.push(t(r))}return e}function x_e(t){const e=[];for(let i=1;i<=7;i++){const r=rt.utc(2016,11,13+i);e.push(t(r))}return e}function BE(t,e,i,r){const n=t.listingMode();return n==="error"?null:n==="en"?i(e):r(e)}function S_e(t){return t.numberingSystem&&t.numberingSystem!=="latn"?!1:t.numberingSystem==="latn"||!t.locale||t.locale.startsWith("en")||hne(t.locale).numberingSystem==="latn"}class T_e{constructor(e,i,r){this.padTo=r.padTo||0,this.floor=r.floor||!1;const{padTo:n,floor:s,...o}=r;if(!i||Object.keys(o).length>0){const a={useGrouping:!1,...r};r.padTo>0&&(a.minimumIntegerDigits=r.padTo),this.inf=m_e(e,a)}}format(e){if(this.inf){const i=this.floor?Math.floor(e):e;return this.inf.format(i)}else{const i=this.floor?Math.floor(e):L9(e,3);return Sn(i,this.padTo)}}}class $_e{constructor(e,i,r){this.opts=r,this.originalZone=void 0;let n;if(this.opts.timeZone)this.dt=e;else if(e.zone.type==="fixed"){const o=-1*(e.offset/60),a=o>=0?`Etc/GMT+${o}`:`Etc/GMT${o}`;e.offset!==0&&ba.create(a).valid?(n=a,this.dt=e):(n="UTC",this.dt=e.offset===0?e:e.setZone("UTC").plus({minutes:e.offset}),this.originalZone=e.zone)}else e.zone.type==="system"?this.dt=e:e.zone.type==="iana"?(this.dt=e,n=e.zone.name):(n="UTC",this.dt=e.setZone("UTC").plus({minutes:e.offset}),this.originalZone=e.zone);const s={...this.opts};s.timeZone=s.timeZone||n,this.dtf=yj(i,s)}format(){return this.originalZone?this.formatToParts().map(({value:e})=>e).join(""):this.dtf.format(this.dt.toJSDate())}formatToParts(){const e=this.dtf.formatToParts(this.dt.toJSDate());return this.originalZone?e.map(i=>{if(i.type==="timeZoneName"){const r=this.originalZone.offsetName(this.dt.ts,{locale:this.dt.locale,format:this.opts.timeZoneName});return{...i,value:r}}else return i}):e}resolvedOptions(){return this.dtf.resolvedOptions()}}class k_e{constructor(e,i,r){this.opts={style:"long",...r},!i&&wne()&&(this.rtf=g_e(e,r))}format(e,i){return this.rtf?this.rtf.format(e,i):Y_e(i,e,this.opts.numeric,this.opts.style!=="long")}formatToParts(e,i){return this.rtf?this.rtf.formatToParts(e,i):[]}}const pne={firstDay:1,minimalDays:4,weekend:[6,7]};class ji{static fromOpts(e){return ji.create(e.locale,e.numberingSystem,e.outputCalendar,e.weekSettings,e.defaultToEN)}static create(e,i,r,n,s=!1){const o=e||Zr.defaultLocale,a=o||(s?"en-US":y_e()),l=i||Zr.defaultNumberingSystem,h=r||Zr.defaultOutputCalendar,f=Sj(n)||Zr.defaultWeekSettings;return new ji(a,l,h,f,o)}static resetCache(){bS=null,gj.clear(),vj.clear(),bj.clear(),wj.clear(),_j.clear()}static fromObject({locale:e,numberingSystem:i,outputCalendar:r,weekSettings:n}={}){return ji.create(e,i,r,n)}constructor(e,i,r,n,s){const[o,a,l]=b_e(e);this.locale=o,this.numberingSystem=i||a||null,this.outputCalendar=r||l||null,this.weekSettings=n,this.intl=w_e(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=s,this.fastNumbersCached=null}get fastNumbers(){return this.fastNumbersCached==null&&(this.fastNumbersCached=S_e(this)),this.fastNumbersCached}listingMode(){const e=this.isEnglish(),i=(this.numberingSystem===null||this.numberingSystem==="latn")&&(this.outputCalendar===null||this.outputCalendar==="gregory");return e&&i?"en":"intl"}clone(e){return!e||Object.getOwnPropertyNames(e).length===0?this:ji.create(e.locale||this.specifiedLocale,e.numberingSystem||this.numberingSystem,e.outputCalendar||this.outputCalendar,Sj(e.weekSettings)||this.weekSettings,e.defaultToEN||!1)}redefaultToEN(e={}){return this.clone({...e,defaultToEN:!0})}redefaultToSystem(e={}){return this.clone({...e,defaultToEN:!1})}months(e,i=!1){return BE(this,e,$ne,()=>{const r=this.intl==="ja"||this.intl.startsWith("ja-");i&=!r;const n=i?{month:e,day:"numeric"}:{month:e},s=i?"format":"standalone";if(!this.monthsCache[s][e]){const o=r?a=>this.dtFormatter(a,n).format():a=>this.extract(a,n,"month");this.monthsCache[s][e]=__e(o)}return this.monthsCache[s][e]})}weekdays(e,i=!1){return BE(this,e,Ine,()=>{const r=i?{weekday:e,year:"numeric",month:"long",day:"numeric"}:{weekday:e},n=i?"format":"standalone";return this.weekdaysCache[n][e]||(this.weekdaysCache[n][e]=x_e(s=>this.extract(s,r,"weekday"))),this.weekdaysCache[n][e]})}meridiems(){return BE(this,void 0,()=>Cne,()=>{if(!this.meridiemCache){const e={hour:"numeric",hourCycle:"h12"};this.meridiemCache=[rt.utc(2016,11,13,9),rt.utc(2016,11,13,19)].map(i=>this.extract(i,e,"dayperiod"))}return this.meridiemCache})}eras(e){return BE(this,e,Mne,()=>{const i={era:e};return this.eraCache[e]||(this.eraCache[e]=[rt.utc(-40,1,1),rt.utc(2017,1,1)].map(r=>this.extract(r,i,"era"))),this.eraCache[e]})}extract(e,i,r){const n=this.dtFormatter(e,i),s=n.formatToParts(),o=s.find(a=>a.type.toLowerCase()===r);return o?o.value:null}numberFormatter(e={}){return new T_e(this.intl,e.forceSimple||this.fastNumbers,e)}dtFormatter(e,i={}){return new $_e(e,this.intl,i)}relFormatter(e={}){return new k_e(this.intl,this.isEnglish(),e)}listFormatter(e={}){return f_e(this.intl,e)}isEnglish(){return this.locale==="en"||this.locale.toLowerCase()==="en-us"||hne(this.intl).locale.startsWith("en-us")}getWeekSettings(){return this.weekSettings?this.weekSettings:_ne()?v_e(this.locale):pne}getStartOfWeek(){return this.getWeekSettings().firstDay}getMinDaysInFirstWeek(){return this.getWeekSettings().minimalDays}getWeekendDays(){return this.getWeekSettings().weekend}equals(e){return this.locale===e.locale&&this.numberingSystem===e.numberingSystem&&this.outputCalendar===e.outputCalendar}toString(){return`Locale(${this.locale}, ${this.numberingSystem}, ${this.outputCalendar})`}}let pL=null;class kn extends Hv{static get utcInstance(){return pL===null&&(pL=new kn(0)),pL}static instance(e){return e===0?kn.utcInstance:new kn(e)}static parseSpecifier(e){if(e){const i=e.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(i)return new kn(yD(i[1],i[2]))}return null}constructor(e){super(),this.fixed=e}get type(){return"fixed"}get name(){return this.fixed===0?"UTC":`UTC${IT(this.fixed,"narrow")}`}get ianaName(){return this.fixed===0?"Etc/UTC":`Etc/GMT${IT(-this.fixed,"narrow")}`}offsetName(){return this.name}formatOffset(e,i){return IT(this.fixed,i)}get isUniversal(){return!0}offset(){return this.fixed}equals(e){return e.type==="fixed"&&e.fixed===this.fixed}get isValid(){return!0}}class E_e extends Hv{constructor(e){super(),this.zoneName=e}get type(){return"invalid"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}}function pm(t,e){if(Nt(t)||t===null)return e;if(t instanceof Hv)return t;if(P_e(t)){const i=t.toLowerCase();return i==="default"?e:i==="local"||i==="system"?fD.instance:i==="utc"||i==="gmt"?kn.utcInstance:kn.parseSpecifier(i)||ba.create(t)}else return Dm(t)?kn.instance(t):typeof t=="object"&&"offset"in t&&typeof t.offset=="function"?t:new E_e(t)}const O9={arab:"[-]",arabext:"[-]",bali:"[-]",beng:"[-]",deva:"[-]",fullwide:"[-]",gujr:"[-]",hanidec:"[|||||||||]",khmr:"[-]",knda:"[-]",laoo:"[-]",limb:"[-]",mlym:"[-]",mong:"[-]",mymr:"[-]",orya:"[-]",tamldec:"[-]",telu:"[-]",thai:"[-]",tibt:"[-]",latn:"\\d"},RW={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},I_e=O9.hanidec.replace(/[\[|\]]/g,"").split("");function C_e(t){let e=parseInt(t,10);if(isNaN(e)){e="";for(let i=0;i<t.length;i++){const r=t.charCodeAt(i);if(t[i].search(O9.hanidec)!==-1)e+=I_e.indexOf(t[i]);else for(const n in RW){const[s,o]=RW[n];r>=s&&r<=o&&(e+=r-s)}}return parseInt(e,10)}else return e}const xj=new Map;function M_e(){xj.clear()}function Ac({numberingSystem:t},e=""){const i=t||"latn";let r=xj.get(i);r===void 0&&(r=new Map,xj.set(i,r));let n=r.get(e);return n===void 0&&(n=new RegExp(`${O9[i]}${e}`),r.set(e,n)),n}let LW=()=>Date.now(),zW="system",NW=null,jW=null,FW=null,VW=60,UW,BW=null,Zr=class{static get now(){return LW}static set now(e){LW=e}static set defaultZone(e){zW=e}static get defaultZone(){return pm(zW,fD.instance)}static get defaultLocale(){return NW}static set defaultLocale(e){NW=e}static get defaultNumberingSystem(){return jW}static set defaultNumberingSystem(e){jW=e}static get defaultOutputCalendar(){return FW}static set defaultOutputCalendar(e){FW=e}static get defaultWeekSettings(){return BW}static set defaultWeekSettings(e){BW=Sj(e)}static get twoDigitCutoffYear(){return VW}static set twoDigitCutoffYear(e){VW=e%100}static get throwOnInvalid(){return UW}static set throwOnInvalid(e){UW=e}static resetCaches(){ji.resetCache(),ba.resetCache(),rt.resetCache(),M_e()}};class hu{constructor(e,i){this.reason=e,this.explanation=i}toMessage(){return this.explanation?`${this.reason}: ${this.explanation}`:this.reason}}const fne=[0,31,59,90,120,151,181,212,243,273,304,334],mne=[0,31,60,91,121,152,182,213,244,274,305,335];function rc(t,e){return new hu("unit out of range",`you specified ${e} (of type ${typeof e}) as a ${t}, which is invalid`)}function P9(t,e,i){const r=new Date(Date.UTC(t,e-1,i));t<100&&t>=0&&r.setUTCFullYear(r.getUTCFullYear()-1900);const n=r.getUTCDay();return n===0?7:n}function gne(t,e,i){return i+(F$(t)?mne:fne)[e-1]}function yne(t,e){const i=F$(t)?mne:fne,r=i.findIndex(s=>s<e),n=e-i[r];return{month:r+1,day:n}}function D9(t,e){return(t-e+7)%7+1}function NA(t,e=4,i=1){const{year:r,month:n,day:s}=t,o=gne(r,n,s),a=D9(P9(r,n,s),i);let l=Math.floor((o-a+14-e)/7),h;return l<1?(h=r-1,l=I2(h,e,i)):l>I2(r,e,i)?(h=r+1,l=1):h=r,{weekYear:h,weekNumber:l,weekday:a,...vD(t)}}function HW(t,e=4,i=1){const{weekYear:r,weekNumber:n,weekday:s}=t,o=D9(P9(r,1,e),i),a=jw(r);let l=n*7+s-o-7+e,h;l<1?(h=r-1,l+=jw(h)):l>a?(h=r+1,l-=jw(r)):h=r;const{month:f,day:g}=yne(h,l);return{year:h,month:f,day:g,...vD(t)}}function fL(t){const{year:e,month:i,day:r}=t,n=gne(e,i,r);return{year:e,ordinal:n,...vD(t)}}function qW(t){const{year:e,ordinal:i}=t,{month:r,day:n}=yne(e,i);return{year:e,month:r,day:n,...vD(t)}}function GW(t,e){if(!Nt(t.localWeekday)||!Nt(t.localWeekNumber)||!Nt(t.localWeekYear)){if(!Nt(t.weekday)||!Nt(t.weekNumber)||!Nt(t.weekYear))throw new _w("Cannot mix locale-based week fields with ISO-based week fields");return Nt(t.localWeekday)||(t.weekday=t.localWeekday),Nt(t.localWeekNumber)||(t.weekNumber=t.localWeekNumber),Nt(t.localWeekYear)||(t.weekYear=t.localWeekYear),delete t.localWeekday,delete t.localWeekNumber,delete t.localWeekYear,{minDaysInFirstWeek:e.getMinDaysInFirstWeek(),startOfWeek:e.getStartOfWeek()}}else return{minDaysInFirstWeek:4,startOfWeek:1}}function A_e(t,e=4,i=1){const r=mD(t.weekYear),n=nc(t.weekNumber,1,I2(t.weekYear,e,i)),s=nc(t.weekday,1,7);return r?n?s?!1:rc("weekday",t.weekday):rc("week",t.weekNumber):rc("weekYear",t.weekYear)}function O_e(t){const e=mD(t.year),i=nc(t.ordinal,1,jw(t.year));return e?i?!1:rc("ordinal",t.ordinal):rc("year",t.year)}function vne(t){const e=mD(t.year),i=nc(t.month,1,12),r=nc(t.day,1,jA(t.year,t.month));return e?i?r?!1:rc("day",t.day):rc("month",t.month):rc("year",t.year)}function bne(t){const{hour:e,minute:i,second:r,millisecond:n}=t,s=nc(e,0,23)||e===24&&i===0&&r===0&&n===0,o=nc(i,0,59),a=nc(r,0,59),l=nc(n,0,999);return s?o?a?l?!1:rc("millisecond",n):rc("second",r):rc("minute",i):rc("hour",e)}function Nt(t){return typeof t>"u"}function Dm(t){return typeof t=="number"}function mD(t){return typeof t=="number"&&t%1===0}function P_e(t){return typeof t=="string"}function D_e(t){return Object.prototype.toString.call(t)==="[object Date]"}function wne(){try{return typeof Intl<"u"&&!!Intl.RelativeTimeFormat}catch{return!1}}function _ne(){try{return typeof Intl<"u"&&!!Intl.Locale&&("weekInfo"in Intl.Locale.prototype||"getWeekInfo"in Intl.Locale.prototype)}catch{return!1}}function R_e(t){return Array.isArray(t)?t:[t]}function WW(t,e,i){if(t.length!==0)return t.reduce((r,n)=>{const s=[e(n),n];return r&&i(r[0],s[0])===r[0]?r:s},null)[1]}function L_e(t,e){return e.reduce((i,r)=>(i[r]=t[r],i),{})}function V_(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Sj(t){if(t==null)return null;if(typeof t!="object")throw new eo("Week settings must be an object");if(!nc(t.firstDay,1,7)||!nc(t.minimalDays,1,7)||!Array.isArray(t.weekend)||t.weekend.some(e=>!nc(e,1,7)))throw new eo("Invalid week settings");return{firstDay:t.firstDay,minimalDays:t.minimalDays,weekend:Array.from(t.weekend)}}function nc(t,e,i){return mD(t)&&t>=e&&t<=i}function z_e(t,e){return t-e*Math.floor(t/e)}function Sn(t,e=2){const i=t<0;let r;return i?r="-"+(""+-t).padStart(e,"0"):r=(""+t).padStart(e,"0"),r}function im(t){if(!(Nt(t)||t===null||t===""))return parseInt(t,10)}function Ng(t){if(!(Nt(t)||t===null||t===""))return parseFloat(t)}function R9(t){if(!(Nt(t)||t===null||t==="")){const e=parseFloat("0."+t)*1e3;return Math.floor(e)}}function L9(t,e,i="round"){const r=10**e;switch(i){case"expand":return t>0?Math.ceil(t*r)/r:Math.floor(t*r)/r;case"trunc":return Math.trunc(t*r)/r;case"round":return Math.round(t*r)/r;case"floor":return Math.floor(t*r)/r;case"ceil":return Math.ceil(t*r)/r;default:throw new RangeError(`Value rounding ${i} is out of range`)}}function F$(t){return t%4===0&&(t%100!==0||t%400===0)}function jw(t){return F$(t)?366:365}function jA(t,e){const i=z_e(e-1,12)+1,r=t+(e-i)/12;return i===2?F$(r)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][i-1]}function gD(t){let e=Date.UTC(t.year,t.month-1,t.day,t.hour,t.minute,t.second,t.millisecond);return t.year<100&&t.year>=0&&(e=new Date(e),e.setUTCFullYear(t.year,t.month-1,t.day)),+e}function YW(t,e,i){return-D9(P9(t,1,e),i)+e-1}function I2(t,e=4,i=1){const r=YW(t,e,i),n=YW(t+1,e,i);return(jw(t)-r+n)/7}function Tj(t){return t>99?t:t>Zr.twoDigitCutoffYear?1900+t:2e3+t}function xne(t,e,i,r=null){const n=new Date(t),s={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};r&&(s.timeZone=r);const o={timeZoneName:e,...s},a=new Intl.DateTimeFormat(i,o).formatToParts(n).find(l=>l.type.toLowerCase()==="timezonename");return a?a.value:null}function yD(t,e){let i=parseInt(t,10);Number.isNaN(i)&&(i=0);const r=parseInt(e,10)||0,n=i<0||Object.is(i,-0)?-r:r;return i*60+n}function Sne(t){const e=Number(t);if(typeof t=="boolean"||t===""||!Number.isFinite(e))throw new eo(`Invalid unit value ${t}`);return e}function FA(t,e){const i={};for(const r in t)if(V_(t,r)){const n=t[r];if(n==null)continue;i[e(r)]=Sne(n)}return i}function IT(t,e){const i=Math.trunc(Math.abs(t/60)),r=Math.trunc(Math.abs(t%60)),n=t>=0?"+":"-";switch(e){case"short":return`${n}${Sn(i,2)}:${Sn(r,2)}`;case"narrow":return`${n}${i}${r>0?`:${r}`:""}`;case"techie":return`${n}${Sn(i,2)}${Sn(r,2)}`;default:throw new RangeError(`Value format ${e} is out of range for property format`)}}function vD(t){return L_e(t,["hour","minute","second","millisecond"])}const N_e=["January","February","March","April","May","June","July","August","September","October","November","December"],Tne=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],j_e=["J","F","M","A","M","J","J","A","S","O","N","D"];function $ne(t){switch(t){case"narrow":return[...j_e];case"short":return[...Tne];case"long":return[...N_e];case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}const kne=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],Ene=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],F_e=["M","T","W","T","F","S","S"];function Ine(t){switch(t){case"narrow":return[...F_e];case"short":return[...Ene];case"long":return[...kne];case"numeric":return["1","2","3","4","5","6","7"];default:return null}}const Cne=["AM","PM"],V_e=["Before Christ","Anno Domini"],U_e=["BC","AD"],B_e=["B","A"];function Mne(t){switch(t){case"narrow":return[...B_e];case"short":return[...U_e];case"long":return[...V_e];default:return null}}function H_e(t){return Cne[t.hour<12?0:1]}function q_e(t,e){return Ine(e)[t.weekday-1]}function G_e(t,e){return $ne(e)[t.month-1]}function W_e(t,e){return Mne(e)[t.year<0?0:1]}function Y_e(t,e,i="always",r=!1){const n={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},s=["hours","minutes","seconds"].indexOf(t)===-1;if(i==="auto"&&s){const g=t==="days";switch(e){case 1:return g?"tomorrow":`next ${n[t][0]}`;case-1:return g?"yesterday":`last ${n[t][0]}`;case 0:return g?"today":`this ${n[t][0]}`}}const o=Object.is(e,-0)||e<0,a=Math.abs(e),l=a===1,h=n[t],f=r?l?h[1]:h[2]||h[1]:l?n[t][0]:t;return o?`${a} ${f} ago`:`in ${a} ${f}`}function ZW(t,e){let i="";for(const r of t)r.literal?i+=r.val:i+=e(r.val);return i}const Z_e={D:zA,DD:Wre,DDD:Yre,DDDD:Zre,t:Jre,tt:Xre,ttt:Kre,tttt:Qre,T:ene,TT:tne,TTT:ine,TTTT:rne,f:nne,ff:one,fff:lne,ffff:une,F:sne,FF:ane,FFF:cne,FFFF:dne};class oo{static create(e,i={}){return new oo(e,i)}static parseFormat(e){let i=null,r="",n=!1;const s=[];for(let o=0;o<e.length;o++){const a=e.charAt(o);a==="'"?((r.length>0||n)&&s.push({literal:n||/^\s+$/.test(r),val:r===""?"'":r}),i=null,r="",n=!n):n||a===i?r+=a:(r.length>0&&s.push({literal:/^\s+$/.test(r),val:r}),r=a,i=a)}return r.length>0&&s.push({literal:n||/^\s+$/.test(r),val:r}),s}static macroTokenToFormatOpts(e){return Z_e[e]}constructor(e,i){this.opts=i,this.loc=e,this.systemLoc=null}formatWithSystemDefault(e,i){return this.systemLoc===null&&(this.systemLoc=this.loc.redefaultToSystem()),this.systemLoc.dtFormatter(e,{...this.opts,...i}).format()}dtFormatter(e,i={}){return this.loc.dtFormatter(e,{...this.opts,...i})}formatDateTime(e,i){return this.dtFormatter(e,i).format()}formatDateTimeParts(e,i){return this.dtFormatter(e,i).formatToParts()}formatInterval(e,i){return this.dtFormatter(e.start,i).dtf.formatRange(e.start.toJSDate(),e.end.toJSDate())}resolvedOptions(e,i){return this.dtFormatter(e,i).resolvedOptions()}num(e,i=0,r=void 0){if(this.opts.forceSimple)return Sn(e,i);const n={...this.opts};return i>0&&(n.padTo=i),r&&(n.signDisplay=r),this.loc.numberFormatter(n).format(e)}formatDateTimeFromString(e,i){const r=this.loc.listingMode()==="en",n=this.loc.outputCalendar&&this.loc.outputCalendar!=="gregory",s=(w,S)=>this.loc.extract(e,w,S),o=w=>e.isOffsetFixed&&e.offset===0&&w.allowZ?"Z":e.isValid?e.zone.formatOffset(e.ts,w.format):"",a=()=>r?H_e(e):s({hour:"numeric",hourCycle:"h12"},"dayperiod"),l=(w,S)=>r?G_e(e,w):s(S?{month:w}:{month:w,day:"numeric"},"month"),h=(w,S)=>r?q_e(e,w):s(S?{weekday:w}:{weekday:w,month:"long",day:"numeric"},"weekday"),f=w=>{const S=oo.macroTokenToFormatOpts(w);return S?this.formatWithSystemDefault(e,S):w},g=w=>r?W_e(e,w):s({era:w},"era"),v=w=>{switch(w){case"S":return this.num(e.millisecond);case"u":case"SSS":return this.num(e.millisecond,3);case"s":return this.num(e.second);case"ss":return this.num(e.second,2);case"uu":return this.num(Math.floor(e.millisecond/10),2);case"uuu":return this.num(Math.floor(e.millisecond/100));case"m":return this.num(e.minute);case"mm":return this.num(e.minute,2);case"h":return this.num(e.hour%12===0?12:e.hour%12);case"hh":return this.num(e.hour%12===0?12:e.hour%12,2);case"H":return this.num(e.hour);case"HH":return this.num(e.hour,2);case"Z":return o({format:"narrow",allowZ:this.opts.allowZ});case"ZZ":return o({format:"short",allowZ:this.opts.allowZ});case"ZZZ":return o({format:"techie",allowZ:this.opts.allowZ});case"ZZZZ":return e.zone.offsetName(e.ts,{format:"short",locale:this.loc.locale});case"ZZZZZ":return e.zone.offsetName(e.ts,{format:"long",locale:this.loc.locale});case"z":return e.zoneName;case"a":return a();case"d":return n?s({day:"numeric"},"day"):this.num(e.day);case"dd":return n?s({day:"2-digit"},"day"):this.num(e.day,2);case"c":return this.num(e.weekday);case"ccc":return h("short",!0);case"cccc":return h("long",!0);case"ccccc":return h("narrow",!0);case"E":return this.num(e.weekday);case"EEE":return h("short",!1);case"EEEE":return h("long",!1);case"EEEEE":return h("narrow",!1);case"L":return n?s({month:"numeric",day:"numeric"},"month"):this.num(e.month);case"LL":return n?s({month:"2-digit",day:"numeric"},"month"):this.num(e.month,2);case"LLL":return l("short",!0);case"LLLL":return l("long",!0);case"LLLLL":return l("narrow",!0);case"M":return n?s({month:"numeric"},"month"):this.num(e.month);case"MM":return n?s({month:"2-digit"},"month"):this.num(e.month,2);case"MMM":return l("short",!1);case"MMMM":return l("long",!1);case"MMMMM":return l("narrow",!1);case"y":return n?s({year:"numeric"},"year"):this.num(e.year);case"yy":return n?s({year:"2-digit"},"year"):this.num(e.year.toString().slice(-2),2);case"yyyy":return n?s({year:"numeric"},"year"):this.num(e.year,4);case"yyyyyy":return n?s({year:"numeric"},"year"):this.num(e.year,6);case"G":return g("short");case"GG":return g("long");case"GGGGG":return g("narrow");case"kk":return this.num(e.weekYear.toString().slice(-2),2);case"kkkk":return this.num(e.weekYear,4);case"W":return this.num(e.weekNumber);case"WW":return this.num(e.weekNumber,2);case"n":return this.num(e.localWeekNumber);case"nn":return this.num(e.localWeekNumber,2);case"ii":return this.num(e.localWeekYear.toString().slice(-2),2);case"iiii":return this.num(e.localWeekYear,4);case"o":return this.num(e.ordinal);case"ooo":return this.num(e.ordinal,3);case"q":return this.num(e.quarter);case"qq":return this.num(e.quarter,2);case"X":return this.num(Math.floor(e.ts/1e3));case"x":return this.num(e.ts);default:return f(w)}};return ZW(oo.parseFormat(i),v)}formatDurationFromString(e,i){const r=this.opts.signMode==="negativeLargestOnly"?-1:1,n=f=>{switch(f[0]){case"S":return"milliseconds";case"s":return"seconds";case"m":return"minutes";case"h":return"hours";case"d":return"days";case"w":return"weeks";case"M":return"months";case"y":return"years";default:return null}},s=(f,g)=>v=>{const w=n(v);if(w){const S=g.isNegativeDuration&&w!==g.largestUnit?r:1;let T;return this.opts.signMode==="negativeLargestOnly"&&w!==g.largestUnit?T="never":this.opts.signMode==="all"?T="always":T="auto",this.num(f.get(w)*S,v.length,T)}else return v},o=oo.parseFormat(i),a=o.reduce((f,{literal:g,val:v})=>g?f:f.concat(v),[]),l=e.shiftTo(...a.map(n).filter(f=>f)),h={isNegativeDuration:l<0,largestUnit:Object.keys(l.values)[0]};return ZW(o,s(l,h))}}const Ane=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/;function E1(...t){const e=t.reduce((i,r)=>i+r.source,"");return RegExp(`^${e}$`)}function I1(...t){return e=>t.reduce(([i,r,n],s)=>{const[o,a,l]=s(e,n);return[{...i,...o},a||r,l]},[{},null,1]).slice(0,2)}function C1(t,...e){if(t==null)return[null,null];for(const[i,r]of e){const n=i.exec(t);if(n)return r(n)}return[null,null]}function One(...t){return(e,i)=>{const r={};let n;for(n=0;n<t.length;n++)r[t[n]]=im(e[i+n]);return[r,null,i+n]}}const Pne=/(?:([Zz])|([+-]\d\d)(?::?(\d\d))?)/,J_e=`(?:${Pne.source}?(?:\\[(${Ane.source})\\])?)?`,z9=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,Dne=RegExp(`${z9.source}${J_e}`),N9=RegExp(`(?:[Tt]${Dne.source})?`),X_e=/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,K_e=/(\d{4})-?W(\d\d)(?:-?(\d))?/,Q_e=/(\d{4})-?(\d{3})/,e1e=One("weekYear","weekNumber","weekDay"),t1e=One("year","ordinal"),i1e=/(\d{4})-(\d\d)-(\d\d)/,Rne=RegExp(`${z9.source} ?(?:${Pne.source}|(${Ane.source}))?`),r1e=RegExp(`(?: ${Rne.source})?`);function Fw(t,e,i){const r=t[e];return Nt(r)?i:im(r)}function n1e(t,e){return[{year:Fw(t,e),month:Fw(t,e+1,1),day:Fw(t,e+2,1)},null,e+3]}function M1(t,e){return[{hours:Fw(t,e,0),minutes:Fw(t,e+1,0),seconds:Fw(t,e+2,0),milliseconds:R9(t[e+3])},null,e+4]}function V$(t,e){const i=!t[e]&&!t[e+1],r=yD(t[e+1],t[e+2]),n=i?null:kn.instance(r);return[{},n,e+3]}function U$(t,e){const i=t[e]?ba.create(t[e]):null;return[{},i,e+1]}const s1e=RegExp(`^T?${z9.source}$`),o1e=/^-?P(?:(?:(-?\d{1,20}(?:\.\d{1,20})?)Y)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20}(?:\.\d{1,20})?)W)?(?:(-?\d{1,20}(?:\.\d{1,20})?)D)?(?:T(?:(-?\d{1,20}(?:\.\d{1,20})?)H)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,20}))?S)?)?)$/;function a1e(t){const[e,i,r,n,s,o,a,l,h]=t,f=e[0]==="-",g=l&&l[0]==="-",v=(w,S=!1)=>w!==void 0&&(S||w&&f)?-w:w;return[{years:v(Ng(i)),months:v(Ng(r)),weeks:v(Ng(n)),days:v(Ng(s)),hours:v(Ng(o)),minutes:v(Ng(a)),seconds:v(Ng(l),l==="-0"),milliseconds:v(R9(h),g)}]}const l1e={GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function j9(t,e,i,r,n,s,o){const a={year:e.length===2?Tj(im(e)):im(e),month:Tne.indexOf(i)+1,day:im(r),hour:im(n),minute:im(s)};return o&&(a.second=im(o)),t&&(a.weekday=t.length>3?kne.indexOf(t)+1:Ene.indexOf(t)+1),a}const c1e=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function u1e(t){const[,e,i,r,n,s,o,a,l,h,f,g]=t,v=j9(e,n,r,i,s,o,a);let w;return l?w=l1e[l]:h?w=0:w=yD(f,g),[v,new kn(w)]}function d1e(t){return t.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}const h1e=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,p1e=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,f1e=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function JW(t){const[,e,i,r,n,s,o,a]=t;return[j9(e,n,r,i,s,o,a),kn.utcInstance]}function m1e(t){const[,e,i,r,n,s,o,a]=t;return[j9(e,a,i,r,n,s,o),kn.utcInstance]}const g1e=E1(X_e,N9),y1e=E1(K_e,N9),v1e=E1(Q_e,N9),b1e=E1(Dne),Lne=I1(n1e,M1,V$,U$),w1e=I1(e1e,M1,V$,U$),_1e=I1(t1e,M1,V$,U$),x1e=I1(M1,V$,U$);function S1e(t){return C1(t,[g1e,Lne],[y1e,w1e],[v1e,_1e],[b1e,x1e])}function T1e(t){return C1(d1e(t),[c1e,u1e])}function $1e(t){return C1(t,[h1e,JW],[p1e,JW],[f1e,m1e])}function k1e(t){return C1(t,[o1e,a1e])}const E1e=I1(M1);function I1e(t){return C1(t,[s1e,E1e])}const C1e=E1(i1e,r1e),M1e=E1(Rne),A1e=I1(M1,V$,U$);function O1e(t){return C1(t,[C1e,Lne],[M1e,A1e])}const XW="Invalid Duration",zne={weeks:{days:7,hours:168,minutes:10080,seconds:10080*60,milliseconds:10080*60*1e3},days:{hours:24,minutes:1440,seconds:1440*60,milliseconds:1440*60*1e3},hours:{minutes:60,seconds:3600,milliseconds:3600*1e3},minutes:{seconds:60,milliseconds:60*1e3},seconds:{milliseconds:1e3}},P1e={years:{quarters:4,months:12,weeks:52,days:365,hours:365*24,minutes:365*24*60,seconds:365*24*60*60,milliseconds:365*24*60*60*1e3},quarters:{months:3,weeks:13,days:91,hours:2184,minutes:2184*60,seconds:2184*60*60,milliseconds:2184*60*60*1e3},months:{weeks:4,days:30,hours:720,minutes:720*60,seconds:720*60*60,milliseconds:720*60*60*1e3},...zne},Dl=146097/400,Vb=146097/4800,D1e={years:{quarters:4,months:12,weeks:Dl/7,days:Dl,hours:Dl*24,minutes:Dl*24*60,seconds:Dl*24*60*60,milliseconds:Dl*24*60*60*1e3},quarters:{months:3,weeks:Dl/28,days:Dl/4,hours:Dl*24/4,minutes:Dl*24*60/4,seconds:Dl*24*60*60/4,milliseconds:Dl*24*60*60*1e3/4},months:{weeks:Vb/7,days:Vb,hours:Vb*24,minutes:Vb*24*60,seconds:Vb*24*60*60,milliseconds:Vb*24*60*60*1e3},...zne},Fy=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],R1e=Fy.slice(0).reverse();function gh(t,e,i=!1){const r={values:i?e.values:{...t.values,...e.values||{}},loc:t.loc.clone(e.loc),conversionAccuracy:e.conversionAccuracy||t.conversionAccuracy,matrix:e.matrix||t.matrix};return new xi(r)}function Nne(t,e){let i=e.milliseconds??0;for(const r of R1e.slice(1))e[r]&&(i+=e[r]*t[r].milliseconds);return i}function KW(t,e){const i=Nne(t,e)<0?-1:1;Fy.reduceRight((r,n)=>{if(Nt(e[n]))return r;if(r){const s=e[r]*i,o=t[n][r],a=Math.floor(s/o);e[n]+=a*i,e[r]-=a*o*i}return n},null),Fy.reduce((r,n)=>{if(Nt(e[n]))return r;if(r){const s=e[r]%1;e[r]-=s,e[n]+=s*t[r][n]}return n},null)}function QW(t){const e={};for(const[i,r]of Object.entries(t))r!==0&&(e[i]=r);return e}class xi{constructor(e){const i=e.conversionAccuracy==="longterm"||!1;let r=i?D1e:P1e;e.matrix&&(r=e.matrix),this.values=e.values,this.loc=e.loc||ji.create(),this.conversionAccuracy=i?"longterm":"casual",this.invalid=e.invalid||null,this.matrix=r,this.isLuxonDuration=!0}static fromMillis(e,i){return xi.fromObject({milliseconds:e},i)}static fromObject(e,i={}){if(e==null||typeof e!="object")throw new eo(`Duration.fromObject: argument expected to be an object, got ${e===null?"null":typeof e}`);return new xi({values:FA(e,xi.normalizeUnit),loc:ji.fromObject(i),conversionAccuracy:i.conversionAccuracy,matrix:i.matrix})}static fromDurationLike(e){if(Dm(e))return xi.fromMillis(e);if(xi.isDuration(e))return e;if(typeof e=="object")return xi.fromObject(e);throw new eo(`Unknown duration argument ${e} of type ${typeof e}`)}static fromISO(e,i){const[r]=k1e(e);return r?xi.fromObject(r,i):xi.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static fromISOTime(e,i){const[r]=I1e(e);return r?xi.fromObject(r,i):xi.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static invalid(e,i=null){if(!e)throw new eo("need to specify a reason the Duration is invalid");const r=e instanceof hu?e:new hu(e,i);if(Zr.throwOnInvalid)throw new a_e(r);return new xi({invalid:r})}static normalizeUnit(e){const i={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[e&&e.toLowerCase()];if(!i)throw new Gre(e);return i}static isDuration(e){return e&&e.isLuxonDuration||!1}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}toFormat(e,i={}){const r={...i,floor:i.round!==!1&&i.floor!==!1};return this.isValid?oo.create(this.loc,r).formatDurationFromString(this,e):XW}toHuman(e={}){if(!this.isValid)return XW;const i=e.showZeros!==!1,r=Fy.map(n=>{const s=this.values[n];return Nt(s)||s===0&&!i?null:this.loc.numberFormatter({style:"unit",unitDisplay:"long",...e,unit:n.slice(0,-1)}).format(s)}).filter(n=>n);return this.loc.listFormatter({type:"conjunction",style:e.listStyle||"narrow",...e}).format(r)}toObject(){return this.isValid?{...this.values}:{}}toISO(){if(!this.isValid)return null;let e="P";return this.years!==0&&(e+=this.years+"Y"),(this.months!==0||this.quarters!==0)&&(e+=this.months+this.quarters*3+"M"),this.weeks!==0&&(e+=this.weeks+"W"),this.days!==0&&(e+=this.days+"D"),(this.hours!==0||this.minutes!==0||this.seconds!==0||this.milliseconds!==0)&&(e+="T"),this.hours!==0&&(e+=this.hours+"H"),this.minutes!==0&&(e+=this.minutes+"M"),(this.seconds!==0||this.milliseconds!==0)&&(e+=L9(this.seconds+this.milliseconds/1e3,3)+"S"),e==="P"&&(e+="T0S"),e}toISOTime(e={}){if(!this.isValid)return null;const i=this.toMillis();return i<0||i>=864e5?null:(e={suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended",...e,includeOffset:!1},rt.fromMillis(i,{zone:"UTC"}).toISOTime(e))}toJSON(){return this.toISO()}toString(){return this.toISO()}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Duration { values: ${JSON.stringify(this.values)} }`:`Duration { Invalid, reason: ${this.invalidReason} }`}toMillis(){return this.isValid?Nne(this.matrix,this.values):NaN}valueOf(){return this.toMillis()}plus(e){if(!this.isValid)return this;const i=xi.fromDurationLike(e),r={};for(const n of Fy)(V_(i.values,n)||V_(this.values,n))&&(r[n]=i.get(n)+this.get(n));return gh(this,{values:r},!0)}minus(e){if(!this.isValid)return this;const i=xi.fromDurationLike(e);return this.plus(i.negate())}mapUnits(e){if(!this.isValid)return this;const i={};for(const r of Object.keys(this.values))i[r]=Sne(e(this.values[r],r));return gh(this,{values:i},!0)}get(e){return this[xi.normalizeUnit(e)]}set(e){if(!this.isValid)return this;const i={...this.values,...FA(e,xi.normalizeUnit)};return gh(this,{values:i})}reconfigure({locale:e,numberingSystem:i,conversionAccuracy:r,matrix:n}={}){const o={loc:this.loc.clone({locale:e,numberingSystem:i}),matrix:n,conversionAccuracy:r};return gh(this,o)}as(e){return this.isValid?this.shiftTo(e).get(e):NaN}normalize(){if(!this.isValid)return this;const e=this.toObject();return KW(this.matrix,e),gh(this,{values:e},!0)}rescale(){if(!this.isValid)return this;const e=QW(this.normalize().shiftToAll().toObject());return gh(this,{values:e},!0)}shiftTo(...e){if(!this.isValid)return this;if(e.length===0)return this;e=e.map(o=>xi.normalizeUnit(o));const i={},r={},n=this.toObject();let s;for(const o of Fy)if(e.indexOf(o)>=0){s=o;let a=0;for(const h in r)a+=this.matrix[h][o]*r[h],r[h]=0;Dm(n[o])&&(a+=n[o]);const l=Math.trunc(a);i[o]=l,r[o]=(a*1e3-l*1e3)/1e3}else Dm(n[o])&&(r[o]=n[o]);for(const o in r)r[o]!==0&&(i[s]+=o===s?r[o]:r[o]/this.matrix[s][o]);return KW(this.matrix,i),gh(this,{values:i},!0)}shiftToAll(){return this.isValid?this.shiftTo("years","months","weeks","days","hours","minutes","seconds","milliseconds"):this}negate(){if(!this.isValid)return this;const e={};for(const i of Object.keys(this.values))e[i]=this.values[i]===0?0:-this.values[i];return gh(this,{values:e},!0)}removeZeros(){if(!this.isValid)return this;const e=QW(this.values);return gh(this,{values:e},!0)}get years(){return this.isValid?this.values.years||0:NaN}get quarters(){return this.isValid?this.values.quarters||0:NaN}get months(){return this.isValid?this.values.months||0:NaN}get weeks(){return this.isValid?this.values.weeks||0:NaN}get days(){return this.isValid?this.values.days||0:NaN}get hours(){return this.isValid?this.values.hours||0:NaN}get minutes(){return this.isValid?this.values.minutes||0:NaN}get seconds(){return this.isValid?this.values.seconds||0:NaN}get milliseconds(){return this.isValid?this.values.milliseconds||0:NaN}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}equals(e){if(!this.isValid||!e.isValid||!this.loc.equals(e.loc))return!1;function i(r,n){return r===void 0||r===0?n===void 0||n===0:r===n}for(const r of Fy)if(!i(this.values[r],e.values[r]))return!1;return!0}}const Ub="Invalid Interval";function L1e(t,e){return!t||!t.isValid?qr.invalid("missing or invalid start"):!e||!e.isValid?qr.invalid("missing or invalid end"):e<t?qr.invalid("end before start",`The end of an interval must be after its start, but you had start=${t.toISO()} and end=${e.toISO()}`):null}class qr{constructor(e){this.s=e.start,this.e=e.end,this.invalid=e.invalid||null,this.isLuxonInterval=!0}static invalid(e,i=null){if(!e)throw new eo("need to specify a reason the Interval is invalid");const r=e instanceof hu?e:new hu(e,i);if(Zr.throwOnInvalid)throw new o_e(r);return new qr({invalid:r})}static fromDateTimes(e,i){const r=Hx(e),n=Hx(i),s=L1e(r,n);return s??new qr({start:r,end:n})}static after(e,i){const r=xi.fromDurationLike(i),n=Hx(e);return qr.fromDateTimes(n,n.plus(r))}static before(e,i){const r=xi.fromDurationLike(i),n=Hx(e);return qr.fromDateTimes(n.minus(r),n)}static fromISO(e,i){const[r,n]=(e||"").split("/",2);if(r&&n){let s,o;try{s=rt.fromISO(r,i),o=s.isValid}catch{o=!1}let a,l;try{a=rt.fromISO(n,i),l=a.isValid}catch{l=!1}if(o&&l)return qr.fromDateTimes(s,a);if(o){const h=xi.fromISO(n,i);if(h.isValid)return qr.after(s,h)}else if(l){const h=xi.fromISO(r,i);if(h.isValid)return qr.before(a,h)}}return qr.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static isInterval(e){return e&&e.isLuxonInterval||!1}get start(){return this.isValid?this.s:null}get end(){return this.isValid?this.e:null}get lastDateTime(){return this.isValid&&this.e?this.e.minus(1):null}get isValid(){return this.invalidReason===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}length(e="milliseconds"){return this.isValid?this.toDuration(e).get(e):NaN}count(e="milliseconds",i){if(!this.isValid)return NaN;const r=this.start.startOf(e,i);let n;return i?.useLocaleWeeks?n=this.end.reconfigure({locale:r.locale}):n=this.end,n=n.startOf(e,i),Math.floor(n.diff(r,e).get(e))+(n.valueOf()!==this.end.valueOf())}hasSame(e){return this.isValid?this.isEmpty()||this.e.minus(1).hasSame(this.s,e):!1}isEmpty(){return this.s.valueOf()===this.e.valueOf()}isAfter(e){return this.isValid?this.s>e:!1}isBefore(e){return this.isValid?this.e<=e:!1}contains(e){return this.isValid?this.s<=e&&this.e>e:!1}set({start:e,end:i}={}){return this.isValid?qr.fromDateTimes(e||this.s,i||this.e):this}splitAt(...e){if(!this.isValid)return[];const i=e.map(Hx).filter(o=>this.contains(o)).sort((o,a)=>o.toMillis()-a.toMillis()),r=[];let{s:n}=this,s=0;for(;n<this.e;){const o=i[s]||this.e,a=+o>+this.e?this.e:o;r.push(qr.fromDateTimes(n,a)),n=a,s+=1}return r}splitBy(e){const i=xi.fromDurationLike(e);if(!this.isValid||!i.isValid||i.as("milliseconds")===0)return[];let{s:r}=this,n=1,s;const o=[];for(;r<this.e;){const a=this.start.plus(i.mapUnits(l=>l*n));s=+a>+this.e?this.e:a,o.push(qr.fromDateTimes(r,s)),r=s,n+=1}return o}divideEqually(e){return this.isValid?this.splitBy(this.length()/e).slice(0,e):[]}overlaps(e){return this.e>e.s&&this.s<e.e}abutsStart(e){return this.isValid?+this.e==+e.s:!1}abutsEnd(e){return this.isValid?+e.e==+this.s:!1}engulfs(e){return this.isValid?this.s<=e.s&&this.e>=e.e:!1}equals(e){return!this.isValid||!e.isValid?!1:this.s.equals(e.s)&&this.e.equals(e.e)}intersection(e){if(!this.isValid)return this;const i=this.s>e.s?this.s:e.s,r=this.e<e.e?this.e:e.e;return i>=r?null:qr.fromDateTimes(i,r)}union(e){if(!this.isValid)return this;const i=this.s<e.s?this.s:e.s,r=this.e>e.e?this.e:e.e;return qr.fromDateTimes(i,r)}static merge(e){const[i,r]=e.sort((n,s)=>n.s-s.s).reduce(([n,s],o)=>s?s.overlaps(o)||s.abutsStart(o)?[n,s.union(o)]:[n.concat([s]),o]:[n,o],[[],null]);return r&&i.push(r),i}static xor(e){let i=null,r=0;const n=[],s=e.map(l=>[{time:l.s,type:"s"},{time:l.e,type:"e"}]),o=Array.prototype.concat(...s),a=o.sort((l,h)=>l.time-h.time);for(const l of a)r+=l.type==="s"?1:-1,r===1?i=l.time:(i&&+i!=+l.time&&n.push(qr.fromDateTimes(i,l.time)),i=null);return qr.merge(n)}difference(...e){return qr.xor([this].concat(e)).map(i=>this.intersection(i)).filter(i=>i&&!i.isEmpty())}toString(){return this.isValid?`[${this.s.toISO()}  ${this.e.toISO()})`:Ub}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Interval { start: ${this.s.toISO()}, end: ${this.e.toISO()} }`:`Interval { Invalid, reason: ${this.invalidReason} }`}toLocaleString(e=zA,i={}){return this.isValid?oo.create(this.s.loc.clone(i),e).formatInterval(this):Ub}toISO(e){return this.isValid?`${this.s.toISO(e)}/${this.e.toISO(e)}`:Ub}toISODate(){return this.isValid?`${this.s.toISODate()}/${this.e.toISODate()}`:Ub}toISOTime(e){return this.isValid?`${this.s.toISOTime(e)}/${this.e.toISOTime(e)}`:Ub}toFormat(e,{separator:i="  "}={}){return this.isValid?`${this.s.toFormat(e)}${i}${this.e.toFormat(e)}`:Ub}toDuration(e,i){return this.isValid?this.e.diff(this.s,e,i):xi.invalid(this.invalidReason)}mapEndpoints(e){return qr.fromDateTimes(e(this.s),e(this.e))}}class HE{static hasDST(e=Zr.defaultZone){const i=rt.now().setZone(e).set({month:12});return!e.isUniversal&&i.offset!==i.set({month:6}).offset}static isValidIANAZone(e){return ba.isValidZone(e)}static normalizeZone(e){return pm(e,Zr.defaultZone)}static getStartOfWeek({locale:e=null,locObj:i=null}={}){return(i||ji.create(e)).getStartOfWeek()}static getMinimumDaysInFirstWeek({locale:e=null,locObj:i=null}={}){return(i||ji.create(e)).getMinDaysInFirstWeek()}static getWeekendWeekdays({locale:e=null,locObj:i=null}={}){return(i||ji.create(e)).getWeekendDays().slice()}static months(e="long",{locale:i=null,numberingSystem:r=null,locObj:n=null,outputCalendar:s="gregory"}={}){return(n||ji.create(i,r,s)).months(e)}static monthsFormat(e="long",{locale:i=null,numberingSystem:r=null,locObj:n=null,outputCalendar:s="gregory"}={}){return(n||ji.create(i,r,s)).months(e,!0)}static weekdays(e="long",{locale:i=null,numberingSystem:r=null,locObj:n=null}={}){return(n||ji.create(i,r,null)).weekdays(e)}static weekdaysFormat(e="long",{locale:i=null,numberingSystem:r=null,locObj:n=null}={}){return(n||ji.create(i,r,null)).weekdays(e,!0)}static meridiems({locale:e=null}={}){return ji.create(e).meridiems()}static eras(e="short",{locale:i=null}={}){return ji.create(i,null,"gregory").eras(e)}static features(){return{relative:wne(),localeWeek:_ne()}}}function eY(t,e){const i=n=>n.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf(),r=i(e)-i(t);return Math.floor(xi.fromMillis(r).as("days"))}function z1e(t,e,i){const r=[["years",(l,h)=>h.year-l.year],["quarters",(l,h)=>h.quarter-l.quarter+(h.year-l.year)*4],["months",(l,h)=>h.month-l.month+(h.year-l.year)*12],["weeks",(l,h)=>{const f=eY(l,h);return(f-f%7)/7}],["days",eY]],n={},s=t;let o,a;for(const[l,h]of r)i.indexOf(l)>=0&&(o=l,n[l]=h(t,e),a=s.plus(n),a>e?(n[l]--,t=s.plus(n),t>e&&(a=t,n[l]--,t=s.plus(n))):t=a);return[t,n,a,o]}function N1e(t,e,i,r){let[n,s,o,a]=z1e(t,e,i);const l=e-n,h=i.filter(g=>["hours","minutes","seconds","milliseconds"].indexOf(g)>=0);h.length===0&&(o<e&&(o=n.plus({[a]:1})),o!==n&&(s[a]=(s[a]||0)+l/(o-n)));const f=xi.fromObject(s,r);return h.length>0?xi.fromMillis(l,r).shiftTo(...h).plus(f):f}const j1e="missing Intl.DateTimeFormat.formatToParts support";function Ci(t,e=i=>i){return{regex:t,deser:([i])=>e(C_e(i))}}const F1e="",jne=`[ ${F1e}]`,Fne=new RegExp(jne,"g");function V1e(t){return t.replace(/\./g,"\\.?").replace(Fne,jne)}function tY(t){return t.replace(/\./g,"").replace(Fne," ").toLowerCase()}function Oc(t,e){return t===null?null:{regex:RegExp(t.map(V1e).join("|")),deser:([i])=>t.findIndex(r=>tY(i)===tY(r))+e}}function iY(t,e){return{regex:t,deser:([,i,r])=>yD(i,r),groups:e}}function qE(t){return{regex:t,deser:([e])=>e}}function U1e(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function B1e(t,e){const i=Ac(e),r=Ac(e,"{2}"),n=Ac(e,"{3}"),s=Ac(e,"{4}"),o=Ac(e,"{6}"),a=Ac(e,"{1,2}"),l=Ac(e,"{1,3}"),h=Ac(e,"{1,6}"),f=Ac(e,"{1,9}"),g=Ac(e,"{2,4}"),v=Ac(e,"{4,6}"),w=C=>({regex:RegExp(U1e(C.val)),deser:([I])=>I,literal:!0}),T=(C=>{if(t.literal)return w(C);switch(C.val){case"G":return Oc(e.eras("short"),0);case"GG":return Oc(e.eras("long"),0);case"y":return Ci(h);case"yy":return Ci(g,Tj);case"yyyy":return Ci(s);case"yyyyy":return Ci(v);case"yyyyyy":return Ci(o);case"M":return Ci(a);case"MM":return Ci(r);case"MMM":return Oc(e.months("short",!0),1);case"MMMM":return Oc(e.months("long",!0),1);case"L":return Ci(a);case"LL":return Ci(r);case"LLL":return Oc(e.months("short",!1),1);case"LLLL":return Oc(e.months("long",!1),1);case"d":return Ci(a);case"dd":return Ci(r);case"o":return Ci(l);case"ooo":return Ci(n);case"HH":return Ci(r);case"H":return Ci(a);case"hh":return Ci(r);case"h":return Ci(a);case"mm":return Ci(r);case"m":return Ci(a);case"q":return Ci(a);case"qq":return Ci(r);case"s":return Ci(a);case"ss":return Ci(r);case"S":return Ci(l);case"SSS":return Ci(n);case"u":return qE(f);case"uu":return qE(a);case"uuu":return Ci(i);case"a":return Oc(e.meridiems(),0);case"kkkk":return Ci(s);case"kk":return Ci(g,Tj);case"W":return Ci(a);case"WW":return Ci(r);case"E":case"c":return Ci(i);case"EEE":return Oc(e.weekdays("short",!1),1);case"EEEE":return Oc(e.weekdays("long",!1),1);case"ccc":return Oc(e.weekdays("short",!0),1);case"cccc":return Oc(e.weekdays("long",!0),1);case"Z":case"ZZ":return iY(new RegExp(`([+-]${a.source})(?::(${r.source}))?`),2);case"ZZZ":return iY(new RegExp(`([+-]${a.source})(${r.source})?`),2);case"z":return qE(/[a-z_+-/]{1,256}?/i);case" ":return qE(/[^\S\n\r]/);default:return w(C)}})(t)||{invalidReason:j1e};return T.token=t,T}const H1e={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour12:{numeric:"h","2-digit":"hh"},hour24:{numeric:"H","2-digit":"HH"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"},timeZoneName:{long:"ZZZZZ",short:"ZZZ"}};function q1e(t,e,i){const{type:r,value:n}=t;if(r==="literal"){const l=/^\s+$/.test(n);return{literal:!l,val:l?" ":n}}const s=e[r];let o=r;r==="hour"&&(e.hour12!=null?o=e.hour12?"hour12":"hour24":e.hourCycle!=null?e.hourCycle==="h11"||e.hourCycle==="h12"?o="hour12":o="hour24":o=i.hour12?"hour12":"hour24");let a=H1e[o];if(typeof a=="object"&&(a=a[s]),a)return{literal:!1,val:a}}function G1e(t){return[`^${t.map(i=>i.regex).reduce((i,r)=>`${i}(${r.source})`,"")}$`,t]}function W1e(t,e,i){const r=t.match(e);if(r){const n={};let s=1;for(const o in i)if(V_(i,o)){const a=i[o],l=a.groups?a.groups+1:1;!a.literal&&a.token&&(n[a.token.val[0]]=a.deser(r.slice(s,s+l))),s+=l}return[r,n]}else return[r,{}]}function Y1e(t){const e=s=>{switch(s){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}};let i=null,r;return Nt(t.z)||(i=ba.create(t.z)),Nt(t.Z)||(i||(i=new kn(t.Z)),r=t.Z),Nt(t.q)||(t.M=(t.q-1)*3+1),Nt(t.h)||(t.h<12&&t.a===1?t.h+=12:t.h===12&&t.a===0&&(t.h=0)),t.G===0&&t.y&&(t.y=-t.y),Nt(t.u)||(t.S=R9(t.u)),[Object.keys(t).reduce((s,o)=>{const a=e(o);return a&&(s[a]=t[o]),s},{}),i,r]}let mL=null;function Z1e(){return mL||(mL=rt.fromMillis(1555555555555)),mL}function J1e(t,e){if(t.literal)return t;const i=oo.macroTokenToFormatOpts(t.val),r=Hne(i,e);return r==null||r.includes(void 0)?t:r}function Vne(t,e){return Array.prototype.concat(...t.map(i=>J1e(i,e)))}class Une{constructor(e,i){if(this.locale=e,this.format=i,this.tokens=Vne(oo.parseFormat(i),e),this.units=this.tokens.map(r=>B1e(r,e)),this.disqualifyingUnit=this.units.find(r=>r.invalidReason),!this.disqualifyingUnit){const[r,n]=G1e(this.units);this.regex=RegExp(r,"i"),this.handlers=n}}explainFromTokens(e){if(this.isValid){const[i,r]=W1e(e,this.regex,this.handlers),[n,s,o]=r?Y1e(r):[null,null,void 0];if(V_(r,"a")&&V_(r,"H"))throw new _w("Can't include meridiem when specifying 24-hour format");return{input:e,tokens:this.tokens,regex:this.regex,rawMatches:i,matches:r,result:n,zone:s,specificOffset:o}}else return{input:e,tokens:this.tokens,invalidReason:this.invalidReason}}get isValid(){return!this.disqualifyingUnit}get invalidReason(){return this.disqualifyingUnit?this.disqualifyingUnit.invalidReason:null}}function Bne(t,e,i){return new Une(t,i).explainFromTokens(e)}function X1e(t,e,i){const{result:r,zone:n,specificOffset:s,invalidReason:o}=Bne(t,e,i);return[r,n,s,o]}function Hne(t,e){if(!t)return null;const r=oo.create(e,t).dtFormatter(Z1e()),n=r.formatToParts(),s=r.resolvedOptions();return n.map(o=>q1e(o,t,s))}const gL="Invalid DateTime",rY=864e13;function wS(t){return new hu("unsupported zone",`the zone "${t.name}" is not supported`)}function yL(t){return t.weekData===null&&(t.weekData=NA(t.c)),t.weekData}function vL(t){return t.localWeekData===null&&(t.localWeekData=NA(t.c,t.loc.getMinDaysInFirstWeek(),t.loc.getStartOfWeek())),t.localWeekData}function jg(t,e){const i={ts:t.ts,zone:t.zone,c:t.c,o:t.o,loc:t.loc,invalid:t.invalid};return new rt({...i,...e,old:i})}function qne(t,e,i){let r=t-e*60*1e3;const n=i.offset(r);if(e===n)return[r,e];r-=(n-e)*60*1e3;const s=i.offset(r);return n===s?[r,n]:[t-Math.min(n,s)*60*1e3,Math.max(n,s)]}function GE(t,e){t+=e*60*1e3;const i=new Date(t);return{year:i.getUTCFullYear(),month:i.getUTCMonth()+1,day:i.getUTCDate(),hour:i.getUTCHours(),minute:i.getUTCMinutes(),second:i.getUTCSeconds(),millisecond:i.getUTCMilliseconds()}}function OC(t,e,i){return qne(gD(t),e,i)}function nY(t,e){const i=t.o,r=t.c.year+Math.trunc(e.years),n=t.c.month+Math.trunc(e.months)+Math.trunc(e.quarters)*3,s={...t.c,year:r,month:n,day:Math.min(t.c.day,jA(r,n))+Math.trunc(e.days)+Math.trunc(e.weeks)*7},o=xi.fromObject({years:e.years-Math.trunc(e.years),quarters:e.quarters-Math.trunc(e.quarters),months:e.months-Math.trunc(e.months),weeks:e.weeks-Math.trunc(e.weeks),days:e.days-Math.trunc(e.days),hours:e.hours,minutes:e.minutes,seconds:e.seconds,milliseconds:e.milliseconds}).as("milliseconds"),a=gD(s);let[l,h]=qne(a,i,t.zone);return o!==0&&(l+=o,h=t.zone.offset(l)),{ts:l,o:h}}function Bb(t,e,i,r,n,s){const{setZone:o,zone:a}=i;if(t&&Object.keys(t).length!==0||e){const l=e||a,h=rt.fromObject(t,{...i,zone:l,specificOffset:s});return o?h:h.setZone(a)}else return rt.invalid(new hu("unparsable",`the input "${n}" can't be parsed as ${r}`))}function WE(t,e,i=!0){return t.isValid?oo.create(ji.create("en-US"),{allowZ:i,forceSimple:!0}).formatDateTimeFromString(t,e):null}function bL(t,e,i){const r=t.c.year>9999||t.c.year<0;let n="";if(r&&t.c.year>=0&&(n+="+"),n+=Sn(t.c.year,r?6:4),i==="year")return n;if(e){if(n+="-",n+=Sn(t.c.month),i==="month")return n;n+="-"}else if(n+=Sn(t.c.month),i==="month")return n;return n+=Sn(t.c.day),n}function sY(t,e,i,r,n,s,o){let a=!i||t.c.millisecond!==0||t.c.second!==0,l="";switch(o){case"day":case"month":case"year":break;default:if(l+=Sn(t.c.hour),o==="hour")break;if(e){if(l+=":",l+=Sn(t.c.minute),o==="minute")break;a&&(l+=":",l+=Sn(t.c.second))}else{if(l+=Sn(t.c.minute),o==="minute")break;a&&(l+=Sn(t.c.second))}if(o==="second")break;a&&(!r||t.c.millisecond!==0)&&(l+=".",l+=Sn(t.c.millisecond,3))}return n&&(t.isOffsetFixed&&t.offset===0&&!s?l+="Z":t.o<0?(l+="-",l+=Sn(Math.trunc(-t.o/60)),l+=":",l+=Sn(Math.trunc(-t.o%60))):(l+="+",l+=Sn(Math.trunc(t.o/60)),l+=":",l+=Sn(Math.trunc(t.o%60)))),s&&(l+="["+t.zone.ianaName+"]"),l}const Gne={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},K1e={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},Q1e={ordinal:1,hour:0,minute:0,second:0,millisecond:0},PC=["year","month","day","hour","minute","second","millisecond"],exe=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],txe=["year","ordinal","hour","minute","second","millisecond"];function DC(t){const e={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[t.toLowerCase()];if(!e)throw new Gre(t);return e}function oY(t){switch(t.toLowerCase()){case"localweekday":case"localweekdays":return"localWeekday";case"localweeknumber":case"localweeknumbers":return"localWeekNumber";case"localweekyear":case"localweekyears":return"localWeekYear";default:return DC(t)}}function ixe(t){if(_S===void 0&&(_S=Zr.now()),t.type!=="iana")return t.offset(_S);const e=t.name;let i=$j.get(e);return i===void 0&&(i=t.offset(_S),$j.set(e,i)),i}function aY(t,e){const i=pm(e.zone,Zr.defaultZone);if(!i.isValid)return rt.invalid(wS(i));const r=ji.fromObject(e);let n,s;if(Nt(t.year))n=Zr.now();else{for(const l of PC)Nt(t[l])&&(t[l]=Gne[l]);const o=vne(t)||bne(t);if(o)return rt.invalid(o);const a=ixe(i);[n,s]=OC(t,a,i)}return new rt({ts:n,zone:i,loc:r,o:s})}function lY(t,e,i){const r=Nt(i.round)?!0:i.round,n=Nt(i.rounding)?"trunc":i.rounding,s=(a,l)=>(a=L9(a,r||i.calendary?0:2,i.calendary?"round":n),e.loc.clone(i).relFormatter(i).format(a,l)),o=a=>i.calendary?e.hasSame(t,a)?0:e.startOf(a).diff(t.startOf(a),a).get(a):e.diff(t,a).get(a);if(i.unit)return s(o(i.unit),i.unit);for(const a of i.units){const l=o(a);if(Math.abs(l)>=1)return s(l,a)}return s(t>e?-0:0,i.units[i.units.length-1])}function cY(t){let e={},i;return t.length>0&&typeof t[t.length-1]=="object"?(e=t[t.length-1],i=Array.from(t).slice(0,t.length-1)):i=Array.from(t),[e,i]}let _S;const $j=new Map;class rt{constructor(e){const i=e.zone||Zr.defaultZone;let r=e.invalid||(Number.isNaN(e.ts)?new hu("invalid input"):null)||(i.isValid?null:wS(i));this.ts=Nt(e.ts)?Zr.now():e.ts;let n=null,s=null;if(!r)if(e.old&&e.old.ts===this.ts&&e.old.zone.equals(i))[n,s]=[e.old.c,e.old.o];else{const a=Dm(e.o)&&!e.old?e.o:i.offset(this.ts);n=GE(this.ts,a),r=Number.isNaN(n.year)?new hu("invalid input"):null,n=r?null:n,s=r?null:a}this._zone=i,this.loc=e.loc||ji.create(),this.invalid=r,this.weekData=null,this.localWeekData=null,this.c=n,this.o=s,this.isLuxonDateTime=!0}static now(){return new rt({})}static local(){const[e,i]=cY(arguments),[r,n,s,o,a,l,h]=i;return aY({year:r,month:n,day:s,hour:o,minute:a,second:l,millisecond:h},e)}static utc(){const[e,i]=cY(arguments),[r,n,s,o,a,l,h]=i;return e.zone=kn.utcInstance,aY({year:r,month:n,day:s,hour:o,minute:a,second:l,millisecond:h},e)}static fromJSDate(e,i={}){const r=D_e(e)?e.valueOf():NaN;if(Number.isNaN(r))return rt.invalid("invalid input");const n=pm(i.zone,Zr.defaultZone);return n.isValid?new rt({ts:r,zone:n,loc:ji.fromObject(i)}):rt.invalid(wS(n))}static fromMillis(e,i={}){if(Dm(e))return e<-rY||e>rY?rt.invalid("Timestamp out of range"):new rt({ts:e,zone:pm(i.zone,Zr.defaultZone),loc:ji.fromObject(i)});throw new eo(`fromMillis requires a numerical input, but received a ${typeof e} with value ${e}`)}static fromSeconds(e,i={}){if(Dm(e))return new rt({ts:e*1e3,zone:pm(i.zone,Zr.defaultZone),loc:ji.fromObject(i)});throw new eo("fromSeconds requires a numerical input")}static fromObject(e,i={}){e=e||{};const r=pm(i.zone,Zr.defaultZone);if(!r.isValid)return rt.invalid(wS(r));const n=ji.fromObject(i),s=FA(e,oY),{minDaysInFirstWeek:o,startOfWeek:a}=GW(s,n),l=Zr.now(),h=Nt(i.specificOffset)?r.offset(l):i.specificOffset,f=!Nt(s.ordinal),g=!Nt(s.year),v=!Nt(s.month)||!Nt(s.day),w=g||v,S=s.weekYear||s.weekNumber;if((w||f)&&S)throw new _w("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(v&&f)throw new _w("Can't mix ordinal dates with month/day");const T=S||s.weekday&&!w;let C,I,A=GE(l,h);T?(C=exe,I=K1e,A=NA(A,o,a)):f?(C=txe,I=Q1e,A=fL(A)):(C=PC,I=Gne);let P=!1;for(const te of C){const ue=s[te];Nt(ue)?P?s[te]=I[te]:s[te]=A[te]:P=!0}const D=T?A_e(s,o,a):f?O_e(s):vne(s),L=D||bne(s);if(L)return rt.invalid(L);const B=T?HW(s,o,a):f?qW(s):s,[N,Y]=OC(B,h,r),K=new rt({ts:N,zone:r,o:Y,loc:n});return s.weekday&&w&&e.weekday!==K.weekday?rt.invalid("mismatched weekday",`you can't specify both a weekday of ${s.weekday} and a date of ${K.toISO()}`):K.isValid?K:rt.invalid(K.invalid)}static fromISO(e,i={}){const[r,n]=S1e(e);return Bb(r,n,i,"ISO 8601",e)}static fromRFC2822(e,i={}){const[r,n]=T1e(e);return Bb(r,n,i,"RFC 2822",e)}static fromHTTP(e,i={}){const[r,n]=$1e(e);return Bb(r,n,i,"HTTP",i)}static fromFormat(e,i,r={}){if(Nt(e)||Nt(i))throw new eo("fromFormat requires an input string and a format");const{locale:n=null,numberingSystem:s=null}=r,o=ji.fromOpts({locale:n,numberingSystem:s,defaultToEN:!0}),[a,l,h,f]=X1e(o,e,i);return f?rt.invalid(f):Bb(a,l,r,`format ${i}`,e,h)}static fromString(e,i,r={}){return rt.fromFormat(e,i,r)}static fromSQL(e,i={}){const[r,n]=O1e(e);return Bb(r,n,i,"SQL",e)}static invalid(e,i=null){if(!e)throw new eo("need to specify a reason the DateTime is invalid");const r=e instanceof hu?e:new hu(e,i);if(Zr.throwOnInvalid)throw new s_e(r);return new rt({invalid:r})}static isDateTime(e){return e&&e.isLuxonDateTime||!1}static parseFormatForOpts(e,i={}){const r=Hne(e,ji.fromObject(i));return r?r.map(n=>n?n.val:null).join(""):null}static expandFormat(e,i={}){return Vne(oo.parseFormat(e),ji.fromObject(i)).map(n=>n.val).join("")}static resetCache(){_S=void 0,$j.clear()}get(e){return this[e]}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}get outputCalendar(){return this.isValid?this.loc.outputCalendar:null}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}get year(){return this.isValid?this.c.year:NaN}get quarter(){return this.isValid?Math.ceil(this.c.month/3):NaN}get month(){return this.isValid?this.c.month:NaN}get day(){return this.isValid?this.c.day:NaN}get hour(){return this.isValid?this.c.hour:NaN}get minute(){return this.isValid?this.c.minute:NaN}get second(){return this.isValid?this.c.second:NaN}get millisecond(){return this.isValid?this.c.millisecond:NaN}get weekYear(){return this.isValid?yL(this).weekYear:NaN}get weekNumber(){return this.isValid?yL(this).weekNumber:NaN}get weekday(){return this.isValid?yL(this).weekday:NaN}get isWeekend(){return this.isValid&&this.loc.getWeekendDays().includes(this.weekday)}get localWeekday(){return this.isValid?vL(this).weekday:NaN}get localWeekNumber(){return this.isValid?vL(this).weekNumber:NaN}get localWeekYear(){return this.isValid?vL(this).weekYear:NaN}get ordinal(){return this.isValid?fL(this.c).ordinal:NaN}get monthShort(){return this.isValid?HE.months("short",{locObj:this.loc})[this.month-1]:null}get monthLong(){return this.isValid?HE.months("long",{locObj:this.loc})[this.month-1]:null}get weekdayShort(){return this.isValid?HE.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}get weekdayLong(){return this.isValid?HE.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}get offset(){return this.isValid?+this.o:NaN}get offsetNameShort(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}get offsetNameLong(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isInDST(){return this.isOffsetFixed?!1:this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset}getPossibleOffsets(){if(!this.isValid||this.isOffsetFixed)return[this];const e=864e5,i=6e4,r=gD(this.c),n=this.zone.offset(r-e),s=this.zone.offset(r+e),o=this.zone.offset(r-n*i),a=this.zone.offset(r-s*i);if(o===a)return[this];const l=r-o*i,h=r-a*i,f=GE(l,o),g=GE(h,a);return f.hour===g.hour&&f.minute===g.minute&&f.second===g.second&&f.millisecond===g.millisecond?[jg(this,{ts:l}),jg(this,{ts:h})]:[this]}get isInLeapYear(){return F$(this.year)}get daysInMonth(){return jA(this.year,this.month)}get daysInYear(){return this.isValid?jw(this.year):NaN}get weeksInWeekYear(){return this.isValid?I2(this.weekYear):NaN}get weeksInLocalWeekYear(){return this.isValid?I2(this.localWeekYear,this.loc.getMinDaysInFirstWeek(),this.loc.getStartOfWeek()):NaN}resolvedLocaleOptions(e={}){const{locale:i,numberingSystem:r,calendar:n}=oo.create(this.loc.clone(e),e).resolvedOptions(this);return{locale:i,numberingSystem:r,outputCalendar:n}}toUTC(e=0,i={}){return this.setZone(kn.instance(e),i)}toLocal(){return this.setZone(Zr.defaultZone)}setZone(e,{keepLocalTime:i=!1,keepCalendarTime:r=!1}={}){if(e=pm(e,Zr.defaultZone),e.equals(this.zone))return this;if(e.isValid){let n=this.ts;if(i||r){const s=e.offset(this.ts),o=this.toObject();[n]=OC(o,s,e)}return jg(this,{ts:n,zone:e})}else return rt.invalid(wS(e))}reconfigure({locale:e,numberingSystem:i,outputCalendar:r}={}){const n=this.loc.clone({locale:e,numberingSystem:i,outputCalendar:r});return jg(this,{loc:n})}setLocale(e){return this.reconfigure({locale:e})}set(e){if(!this.isValid)return this;const i=FA(e,oY),{minDaysInFirstWeek:r,startOfWeek:n}=GW(i,this.loc),s=!Nt(i.weekYear)||!Nt(i.weekNumber)||!Nt(i.weekday),o=!Nt(i.ordinal),a=!Nt(i.year),l=!Nt(i.month)||!Nt(i.day),h=a||l,f=i.weekYear||i.weekNumber;if((h||o)&&f)throw new _w("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(l&&o)throw new _w("Can't mix ordinal dates with month/day");let g;s?g=HW({...NA(this.c,r,n),...i},r,n):Nt(i.ordinal)?(g={...this.toObject(),...i},Nt(i.day)&&(g.day=Math.min(jA(g.year,g.month),g.day))):g=qW({...fL(this.c),...i});const[v,w]=OC(g,this.o,this.zone);return jg(this,{ts:v,o:w})}plus(e){if(!this.isValid)return this;const i=xi.fromDurationLike(e);return jg(this,nY(this,i))}minus(e){if(!this.isValid)return this;const i=xi.fromDurationLike(e).negate();return jg(this,nY(this,i))}startOf(e,{useLocaleWeeks:i=!1}={}){if(!this.isValid)return this;const r={},n=xi.normalizeUnit(e);switch(n){case"years":r.month=1;case"quarters":case"months":r.day=1;case"weeks":case"days":r.hour=0;case"hours":r.minute=0;case"minutes":r.second=0;case"seconds":r.millisecond=0;break}if(n==="weeks")if(i){const s=this.loc.getStartOfWeek(),{weekday:o}=this;o<s&&(r.weekNumber=this.weekNumber-1),r.weekday=s}else r.weekday=1;if(n==="quarters"){const s=Math.ceil(this.month/3);r.month=(s-1)*3+1}return this.set(r)}endOf(e,i){return this.isValid?this.plus({[e]:1}).startOf(e,i).minus(1):this}toFormat(e,i={}){return this.isValid?oo.create(this.loc.redefaultToEN(i)).formatDateTimeFromString(this,e):gL}toLocaleString(e=zA,i={}){return this.isValid?oo.create(this.loc.clone(i),e).formatDateTime(this):gL}toLocaleParts(e={}){return this.isValid?oo.create(this.loc.clone(e),e).formatDateTimeParts(this):[]}toISO({format:e="extended",suppressSeconds:i=!1,suppressMilliseconds:r=!1,includeOffset:n=!0,extendedZone:s=!1,precision:o="milliseconds"}={}){if(!this.isValid)return null;o=DC(o);const a=e==="extended";let l=bL(this,a,o);return PC.indexOf(o)>=3&&(l+="T"),l+=sY(this,a,i,r,n,s,o),l}toISODate({format:e="extended",precision:i="day"}={}){return this.isValid?bL(this,e==="extended",DC(i)):null}toISOWeekDate(){return WE(this,"kkkk-'W'WW-c")}toISOTime({suppressMilliseconds:e=!1,suppressSeconds:i=!1,includeOffset:r=!0,includePrefix:n=!1,extendedZone:s=!1,format:o="extended",precision:a="milliseconds"}={}){return this.isValid?(a=DC(a),(n&&PC.indexOf(a)>=3?"T":"")+sY(this,o==="extended",i,e,r,s,a)):null}toRFC2822(){return WE(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toHTTP(){return WE(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toSQLDate(){return this.isValid?bL(this,!0):null}toSQLTime({includeOffset:e=!0,includeZone:i=!1,includeOffsetSpace:r=!0}={}){let n="HH:mm:ss.SSS";return(i||e)&&(r&&(n+=" "),i?n+="z":e&&(n+="ZZ")),WE(this,n,!0)}toSQL(e={}){return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(e)}`:null}toString(){return this.isValid?this.toISO():gL}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`DateTime { ts: ${this.toISO()}, zone: ${this.zone.name}, locale: ${this.locale} }`:`DateTime { Invalid, reason: ${this.invalidReason} }`}valueOf(){return this.toMillis()}toMillis(){return this.isValid?this.ts:NaN}toSeconds(){return this.isValid?this.ts/1e3:NaN}toUnixInteger(){return this.isValid?Math.floor(this.ts/1e3):NaN}toJSON(){return this.toISO()}toBSON(){return this.toJSDate()}toObject(e={}){if(!this.isValid)return{};const i={...this.c};return e.includeConfig&&(i.outputCalendar=this.outputCalendar,i.numberingSystem=this.loc.numberingSystem,i.locale=this.loc.locale),i}toJSDate(){return new Date(this.isValid?this.ts:NaN)}diff(e,i="milliseconds",r={}){if(!this.isValid||!e.isValid)return xi.invalid("created by diffing an invalid DateTime");const n={locale:this.locale,numberingSystem:this.numberingSystem,...r},s=R_e(i).map(xi.normalizeUnit),o=e.valueOf()>this.valueOf(),a=o?this:e,l=o?e:this,h=N1e(a,l,s,n);return o?h.negate():h}diffNow(e="milliseconds",i={}){return this.diff(rt.now(),e,i)}until(e){return this.isValid?qr.fromDateTimes(this,e):this}hasSame(e,i,r){if(!this.isValid)return!1;const n=e.valueOf(),s=this.setZone(e.zone,{keepLocalTime:!0});return s.startOf(i,r)<=n&&n<=s.endOf(i,r)}equals(e){return this.isValid&&e.isValid&&this.valueOf()===e.valueOf()&&this.zone.equals(e.zone)&&this.loc.equals(e.loc)}toRelative(e={}){if(!this.isValid)return null;const i=e.base||rt.fromObject({},{zone:this.zone}),r=e.padding?this<i?-e.padding:e.padding:0;let n=["years","months","days","hours","minutes","seconds"],s=e.unit;return Array.isArray(e.unit)&&(n=e.unit,s=void 0),lY(i,this.plus(r),{...e,numeric:"always",units:n,unit:s})}toRelativeCalendar(e={}){return this.isValid?lY(e.base||rt.fromObject({},{zone:this.zone}),this,{...e,numeric:"auto",units:["years","months","days"],calendary:!0}):null}static min(...e){if(!e.every(rt.isDateTime))throw new eo("min requires all arguments be DateTimes");return WW(e,i=>i.valueOf(),Math.min)}static max(...e){if(!e.every(rt.isDateTime))throw new eo("max requires all arguments be DateTimes");return WW(e,i=>i.valueOf(),Math.max)}static fromFormatExplain(e,i,r={}){const{locale:n=null,numberingSystem:s=null}=r,o=ji.fromOpts({locale:n,numberingSystem:s,defaultToEN:!0});return Bne(o,e,i)}static fromStringExplain(e,i,r={}){return rt.fromFormatExplain(e,i,r)}static buildFormatParser(e,i={}){const{locale:r=null,numberingSystem:n=null}=i,s=ji.fromOpts({locale:r,numberingSystem:n,defaultToEN:!0});return new Une(s,e)}static fromFormatParser(e,i,r={}){if(Nt(e)||Nt(i))throw new eo("fromFormatParser requires an input string and a format parser");const{locale:n=null,numberingSystem:s=null}=r,o=ji.fromOpts({locale:n,numberingSystem:s,defaultToEN:!0});if(!o.equals(i.locale))throw new eo(`fromFormatParser called with a locale of ${o}, but the format parser was created for ${i.locale}`);const{result:a,zone:l,specificOffset:h,invalidReason:f}=i.explainFromTokens(e);return f?rt.invalid(f):Bb(a,l,r,`format ${i.format}`,e,h)}static get DATE_SHORT(){return zA}static get DATE_MED(){return Wre}static get DATE_MED_WITH_WEEKDAY(){return l_e}static get DATE_FULL(){return Yre}static get DATE_HUGE(){return Zre}static get TIME_SIMPLE(){return Jre}static get TIME_WITH_SECONDS(){return Xre}static get TIME_WITH_SHORT_OFFSET(){return Kre}static get TIME_WITH_LONG_OFFSET(){return Qre}static get TIME_24_SIMPLE(){return ene}static get TIME_24_WITH_SECONDS(){return tne}static get TIME_24_WITH_SHORT_OFFSET(){return ine}static get TIME_24_WITH_LONG_OFFSET(){return rne}static get DATETIME_SHORT(){return nne}static get DATETIME_SHORT_WITH_SECONDS(){return sne}static get DATETIME_MED(){return one}static get DATETIME_MED_WITH_SECONDS(){return ane}static get DATETIME_MED_WITH_WEEKDAY(){return c_e}static get DATETIME_FULL(){return lne}static get DATETIME_FULL_WITH_SECONDS(){return cne}static get DATETIME_HUGE(){return une}static get DATETIME_HUGE_WITH_SECONDS(){return dne}}function Hx(t){if(rt.isDateTime(t))return t;if(t&&t.valueOf&&Dm(t.valueOf()))return rt.fromJSDate(t);if(t&&typeof t=="object")return rt.fromObject(t);throw new eo(`Unknown datetime argument: ${t}, of type ${typeof t}`)}const rxe="shortOffset";function nxe(t){return"timeZoneIANA"in t}function sxe(t){return t.startsWith("UTC")}function VA(t,e=!1){return{json:{read:{source:t,reader:(i,r)=>r[t]?RC(r[t]):null},write:!!e&&{allowNull:!0,writer(i,r){r[t]=i?oxe(i):null}}}}}function RC(t,e=cc){return t?nxe(t)?t.timeZoneIANA:axe(t,e):e}function oxe(t){return{timeZoneIANA:t}}function axe(t,e=cc){if(!t||!PW.has(t.timeZone))return e;const i=PW.get(t.timeZone);return sxe(t.timeZone)||t.respectsDaylightSaving?i:lxe(i)}function lxe(t){const e=rt.local().setZone(t),i=Math.min(e.set({month:1,day:1}).offset,e.set({month:5}).offset);return i===0?"Etc/UTC":`Etc/GMT${kn.instance(-i).formatOffset(0,"narrow")}`}function cit(t,e,i,r,n){if(e&&n==="date")return{timeZone:Hm,timeZoneName:void 0};const s=r.hour,o=i===Bm;return{timeZone:o?n==="timestamp-offset"?void 0:t??Hm:i,timeZoneName:o&&s?rxe:void 0}}function cxe(t){const e=new Set(["etc/utc","etc/gmt","gmt"]),i=new Set(Intl.supportedValuesOf("timeZone").map(r=>r.toLowerCase()));return t===cc||t===Bm||e.has(t.toLowerCase())||i.has(t.toLowerCase())}const uxe={dateStyle:void 0,year:void 0,month:void 0,day:void 0,weekday:void 0},dxe={timeStyle:void 0,hour12:void 0,hourCycle:void 0,hour:void 0,minute:void 0,second:void 0},Wne={timeZone:Hm},Uu={year:"numeric",month:"numeric",day:"numeric"},qx={year:"numeric",month:"long",day:"numeric"},Gx={year:"numeric",month:"short",day:"numeric"},Wx={year:"numeric",month:"long",weekday:"long",day:"numeric"},rm={hour:"numeric",minute:"numeric"},Kg={...rm,second:"numeric"},Yne={hourCycle:"h23"},Yx={...rm,...Yne},Zx={...Kg,...Yne},Zne={"short-date":Uu,"short-date-short-time":{...Uu,...rm},"short-date-short-time-24":{...Uu,...Yx},"short-date-long-time":{...Uu,...Kg},"short-date-long-time-24":{...Uu,...Zx},"short-date-le":Uu,"short-date-le-short-time":{...Uu,...rm},"short-date-le-short-time-24":{...Uu,...Yx},"short-date-le-long-time":{...Uu,...Kg},"short-date-le-long-time-24":{...Uu,...Zx},"long-month-day-year":qx,"long-month-day-year-short-time":{...qx,...rm},"long-month-day-year-short-time-24":{...qx,...Yx},"long-month-day-year-long-time":{...qx,...Kg},"long-month-day-year-long-time-24":{...qx,...Zx},"day-short-month-year":Gx,"day-short-month-year-short-time":{...Gx,...rm},"day-short-month-year-short-time-24":{...Gx,...Yx},"day-short-month-year-long-time":{...Gx,...Kg},"day-short-month-year-long-time-24":{...Gx,...Zx},"long-date":Wx,"long-date-short-time":{...Wx,...rm},"long-date-short-time-24":{...Wx,...Yx},"long-date-long-time":{...Wx,...Kg},"long-date-long-time-24":{...Wx,...Zx},"long-month-year":{month:"long",year:"numeric"},"short-month-year":{month:"short",year:"numeric"},year:{year:"numeric"},"short-time":rm,"long-time":Kg},hxe=En()({shortDate:"short-date",shortDateShortTime:"short-date-short-time",shortDateShortTime24:"short-date-short-time-24",shortDateLongTime:"short-date-long-time",shortDateLongTime24:"short-date-long-time-24",shortDateLE:"short-date-le",shortDateLEShortTime:"short-date-le-short-time",shortDateLEShortTime24:"short-date-le-short-time-24",shortDateLELongTime:"short-date-le-long-time",shortDateLELongTime24:"short-date-le-long-time-24",longMonthDayYear:"long-month-day-year",longMonthDayYearShortTime:"long-month-day-year-short-time",longMonthDayYearShortTime24:"long-month-day-year-short-time-24",longMonthDayYearLongTime:"long-month-day-year-long-time",longMonthDayYearLongTime24:"long-month-day-year-long-time-24",dayShortMonthYear:"day-short-month-year",dayShortMonthYearShortTime:"day-short-month-year-short-time",dayShortMonthYearShortTime24:"day-short-month-year-short-time-24",dayShortMonthYearLongTime:"day-short-month-year-long-time",dayShortMonthYearLongTime24:"day-short-month-year-long-time-24",longDate:"long-date",longDateShortTime:"long-date-short-time",longDateShortTime24:"long-date-short-time-24",longDateLongTime:"long-date-long-time",longDateLongTime24:"long-date-long-time-24",longMonthYear:"long-month-year",shortMonthYear:"short-month-year",year:"year"}),Jne={ar:"ar-u-nu-latn-ca-gregory",nn:"no-NN"},pxe=new Intl.DateTimeFormat("bs",{month:"long"}).formatToParts(new Date(2025,2)),fxe=pxe.find(({type:t})=>t==="month")?.value.toLowerCase();function Xne(){const t=M9();return(t&&Jne[t])??Bre()}fxe!=="mart"&&(Jne.bs="sr-Latn-CS");let kj=new WeakMap;const bD=Zne["short-date-short-time"];function mxe(t){let e=kj.get(t);if(!e){const i=Xne(),r=F9(t.timeZone??cc),n={...t,timeZone:r};e=new Intl.DateTimeFormat(i,n),kj.set(t,e)}return e}function uit(t){return Zne[t]}function dit(t){const{dateStyle:e,timeStyle:i,hour12:r,year:n,month:s}=t,o={};return e?o.dateStyle=e:n&&(o.year=n,o.month=s||void 0),i&&!o.year&&(o.timeStyle=i,o.hour12=r==="auto"?void 0:r==="always"),o}function _v(t,e=bD){return mxe(e).format(t)}function hit(t,e=bD){return _v(new Date(t),{...e,...Wne,...dxe})}function pit(t,e=bD){return _v(new Date(`1970-01-01T${t}Z`),{...e,...Wne,...uxe})}function fit(t,e=bD){if(e.timeZone)return _v(new Date(t),e);const i=rt.fromISO(t,{setZone:!0}),r=i.offset===0?Hm:e.timeZone,n={...e,timeZone:r};return i.toLocaleString(n,{locale:Xne()})}function F9(t){switch(t){case cc:return n_e;case Bm:return Hm;default:return t}}A9(()=>{kj=new WeakMap});const gxe={ar:"ar-u-nu-latn",bs:"sr-Latn-CS",nn:"no-NN"};let LC=new WeakMap,Kne={};function Ej(t){const e=t||Kne;if(!LC.has(e)){const i=M9(),r=i&&gxe[i]||Bre();LC.set(e,new Intl.NumberFormat(r,t))}return LC.get(e)}function mit(t={}){const e={};return t.digitSeparator!=null&&(e.useGrouping=t.digitSeparator),t.places!=null&&(e.minimumFractionDigits=e.maximumFractionDigits=t.places),e}function git(t){const{minimumFractionDigits:e,maximumFractionDigits:i,useGrouping:r}=t;return{minimumFractionDigits:e,maximumFractionDigits:i,useGrouping:r==="auto"?"auto":r==="always"}}function UA(t,e){return Object.is(t,-0)&&(t=0),Ej(e).format(t)}function yit(t,e=ya()){if(!t)return null;let i=uY.get(e);if(!i){const r=Ej().formatToParts(12345.6),n=[...Ej({useGrouping:!1}).format(9876543210)].reverse(),s=new Map(n.map((g,v)=>[g,v])),o=new RegExp(`[${r.find(g=>g.type==="group")?.value}]`,"g"),a=new RegExp(`[${r.find(g=>g.type==="decimal")?.value}]`),l=new RegExp(`[${n.join("")}]`,"g"),h=/[\u200E\u200F\u202A\u202B\u202C\u202D\u202E\u2066\u2067\u2068\u2069\u061C]/g,f=/[-\u2212\u2013\u2014\u2015]/g;i=g=>{if((g=g.trim().replaceAll(o,"").replace(a,".").replace(l,w=>String(s.get(w))).replaceAll(h,"").replaceAll(f,"-"))==="")return null;const v=Number(g);return isNaN(v)?null:v},uY.set(e,i)}return i(t)}A9(()=>{LC=new WeakMap,Kne={}});const uY=new Map,Qne=()=>Ee.getLogger("esri.intl.substitute");function yxe(t,e,i={}){const{format:r={}}=i;return eg(t,n=>vxe(n,e,r))}function vxe(t,e,i){let r,n;const s=t.indexOf(":");if(s===-1?r=t.trim():(r=t.slice(0,s).trim(),n=t.slice(s+1).trim()),!r)return"";const o=vp(r,e);if(o==null)return"";const a=(n?i?.[n]:null)??i?.[r];return a?bxe(o,a):n?wxe(o,n):V9(o)}function bxe(t,e){switch(e.type){case"date":return _v(t,e.intlOptions);case"number":return UA(t,e.intlOptions);default:return Qne().warn("missing format descriptor for key {key}"),V9(t)}}function wxe(t,e){switch(e.toLowerCase()){case"dateformat":return _v(t);case"numberformat":return UA(t);default:return Qne().warn(`inline format is unsupported since 4.12: ${e}`),/^(dateformat|datestring)/i.test(e)?_v(t):/^numberformat/i.test(e)?UA(t):V9(t)}}function V9(t){switch(typeof t){case"string":return t;case"number":return UA(t);case"boolean":return""+t;default:return t instanceof Date?_v(t):""}}const ese={ar:!0,bg:!0,bs:!0,ca:!0,cs:!0,da:!0,de:!0,el:!0,en:!0,es:!0,et:!0,fi:!0,fr:!0,he:!0,hr:!0,hu:!0,id:!0,it:!0,ja:!0,ko:!0,lt:!0,lv:!0,nb:"no",nl:!0,no:!0,nn:"no",pl:!0,pt:"pt-BR","pt-BR":!0,"pt-PT":!0,ro:!0,ru:!0,sk:!0,sl:!0,sr:!0,sv:!0,th:!0,tr:!0,uk:!0,vi:!0,zh:"zh-CN","zh-CN":!0,"zh-HK":!0,"zh-TW":!0};function _xe(t){return t in ese}function dY(t){if(_xe(t)){const e=ese[t];return e===!0?t:e}return null}const xS=[],Vw=new Map;function hY(t){for(const e of Vw.keys())rse(t.pattern,e)&&Vw.delete(e)}function xxe(t){return xS.includes(t)||(hY(t),xS.unshift(t)),oi(()=>{const e=xS.indexOf(t);e>-1&&(xS.splice(e,1),hY(t))})}async function tse(t){const e=ya();Vw.has(t)||Vw.set(t,Sxe(t,e));const i=Vw.get(t);return i&&await Txe.add(i),i}function ise(t){const e=M9(t);return e?dY(t)??dY(e):null}async function Sxe(t,e){const i=[];for(const r of xS)if(rse(r.pattern,t))try{return await r.fetchMessageBundle(t,e)}catch(n){i.push(n)}throw i.length?new ee("intl:message-bundle-error",`Errors occurred while loading "${t}"`,{errors:i}):new ee("intl:no-message-bundle-loader",`No loader found for message bundle "${t}"`)}function rse(t,e){return typeof t=="string"?e.startsWith(t):t.test(e)}A9(()=>{Vw.clear()});const Txe=new class{constructor(){this._numLoading=0,this._dfd=null}async waitForAll(){this._dfd&&await this._dfd.promise}add(t){return this._increase(),t.then(()=>this._decrease(),()=>this._decrease()),this.waitForAll()}_increase(){this._numLoading++,this._dfd||(this._dfd=cs())}_decrease(){this._numLoading=Math.max(this._numLoading-1,0),this._dfd&&this._numLoading===0&&(this._dfd.resolve(),this._dfd=null)}};async function $xe(t,e,i,r){const n=e.exec(i);if(!n)throw new ee("esri-intl:invalid-bundle",`Bundle id "${i}" is not compatible with the pattern "${e}"`);const s=n[1]?`${n[1]}/`:"",o=n[2],a=ise(r),l=`${s}${o}.json`,h=a?`${s}${o}_${a}.json`:l;let f;try{f=await pY(t(h))}catch(g){if(h===l)throw new ee("intl:unknown-bundle",`Bundle "${i}" cannot be loaded`,{error:g});try{f=await pY(t(l))}catch(v){throw new ee("intl:unknown-bundle",`Bundle "${i}" cannot be loaded`,{error:v})}}return f}async function pY(t){if(fY.fetchBundleAsset!=null)return fY.fetchBundleAsset(t);const e=await Vt(t,{responseType:"text"});return JSON.parse(e.data)}let kxe=class{constructor({base:e="",pattern:i,location:r=new URL(window.location.href)}){let n;n=typeof r=="string"?s=>new URL(s,new URL(r,window.location.href)).href:r instanceof URL?s=>new URL(s,r).href:r,this.pattern=typeof i=="string"?new RegExp(`^${i}`):i,this.getAssetUrl=n,e=e?e.endsWith("/")?e:e+"/":"",this.matcher=new RegExp(`^${e}(?:(.*)\\/)?(.*)$`)}fetchMessageBundle(e,i){return $xe(this.getAssetUrl,this.matcher,e,i)}};function Exe(t){return new kxe(t)}const fY={};function Gr(t){if(!ni.assetsPath)throw Ee.getLogger("esri.assets").errorOnce("The API assets location needs to be set using config.assetsPath. More information: https://arcg.is/1OzLe50"),new ee("assets:path-not-set","config.assetsPath is not set");return yv(ni.assetsPath,t)}xxe(Exe({pattern:"esri/",location:Gr}));function U9(t){return typeof t=="string"?document.getElementById(t):t??null}function mY(t,e){for(;;){const i=t.firstChild;if(!i)break;e.appendChild(i)}}let Ixe=class{constructor(){this._resolver=cs(),this._status=0,this._resolvingPromises=[],this._resolver.promise.then(()=>{this._status=1,this._cleanUp()},()=>{this._status=2,this._cleanUp()}),this.promise=this._resolver.promise}destroy(){this._cleanUp()}addResolvingPromise(e){this._resolvingPromises.push(e),this._tryResolve()}isResolved(){return this._status===1}isRejected(){return this._status===2}isFulfilled(){return this._status!==0}abort(){this._resolver.reject(Si())}_cleanUp(){this._allPromise=null,this._resolvingPromises=null}_tryResolve(){if(this.isFulfilled())return;const e=cs(),i=[...this._resolvingPromises,e.promise],r=this._allPromise=Promise.all(i);r.then(()=>{this.isFulfilled()||this._allPromise!==r||this._resolver.resolve()},n=>{this.isFulfilled()||this._allPromise!==r||us(n)||this._resolver.reject(n)}),e.resolve()}};const wD=t=>{const e=t;let i=class extends e{constructor(...r){super(...r),this._promiseProps=new Ixe,this.addResolvingPromise(Promise.resolve())}destroy(){this._promiseProps.destroy()}isResolved(){return this._promiseProps.isResolved()}isRejected(){return this._promiseProps.isRejected()}isFulfilled(){return this._promiseProps.isFulfilled()}when(r,n){return this._promiseProps.promise.then(()=>this).then(r,n)}catch(r){return this.when(null,r)}addResolvingPromise(r){r&&!this._promiseProps.isFulfilled()&&this._promiseProps.addResolvingPromise("_promiseProps"in r?r.when():r)}addResolvingTask(r){r&&!this._promiseProps.isFulfilled()&&(this.addHandles(Jve(r)),this._promiseProps.addResolvingPromise(r.promise))}};return i=u([j("esri.core.Promise")],i),i},B9=wD(at);function ft(t,e,i={}){return H9(t,e,i,nse)}function wa(t,e,i={}){return H9(t,e,i,sse)}function H9(t,e,i={},r){let n=null;const s=i.once?(o,a)=>{r(o)&&(rr(n),e(o,a))}:(o,a)=>{r(o)&&e(o,a)};if(n=r0e(t,s,i.sync,i.equals),i.initial){const o=t();s(o,o)}return n}function qm(t,e,i,r={}){let n=null,s=null,o=null;function a(){n&&s&&(s.remove(),r.onListenerRemove?.(n),n=null,s=null)}function l(f){r.once&&r.once&&rr(o),i(f)}const h=ft(t,(f,g)=>{a(),lD(f)&&(n=f,s=Sp(f,e,l),r.onListenerAdd?.(f))},{sync:r.sync,initial:!0});return o=oi(()=>{h.remove(),a()}),o}function _D(t,e){return Cxe(t,sse,e)}function Cxe(t,e,i){if(Rs(i))return Promise.reject(Si());const r=t();if(e?.(r))return Promise.resolve(r);let n=null;function s(){n=rr(n)}return new Promise((o,a)=>{n=Fv([Ds(i,()=>{s(),a(Si())}),H9(t,l=>{s(),o(l)},{sync:!1,once:!0},e??nse)])})}function nse(t){return!0}function sse(t){return!!t}function wit(t,e,i={}){let r=!1;const n=ft(t,(s,o)=>{r||e(s,o)},i);return{remove(){n.remove()},pause(){r=!0},resume(){r=!1}}}const zd={sync:!0},Ls={initial:!0},to={sync:!0,initial:!0},Mxe="randomUUID"in crypto;function A1(){if(Mxe)return crypto.randomUUID();const t=crypto.getRandomValues(new Uint16Array(8));t[3]=4095&t[3]|16384,t[4]=16383&t[4]|32768;const e=i=>t[i].toString(16).padStart(4,"0");return e(0)+e(1)+"-"+e(2)+"-"+e(3)+"-"+e(4)+"-"+e(5)+e(6)+e(7)}function _it(){return`{${A1().toUpperCase()}}`}function Axe(){return`{${A1()}}`}function Oxe(t){const e=t.toUpperCase();return t.startsWith("{")?e:`{${e}}`}const Pxe=Object.prototype.toString;function Dxe(t){const e="__accessorMetadata__"in t?tn(t):t;return function(...i){if(i.push(e),typeof i[2]=="number")throw new Error("Using @cast has parameter decorator is not supported since 4.16");return Rxe.apply(this,i)}}function Rxe(t,e,i,r){D$(t,e).cast=r}function Lxe(t){return(e,i)=>{D$(e,t).cast=e[i]}}function bi(...t){if(t.length!==3||typeof t[1]!="string")return t.length===1&&Pxe.call(t[0])==="[object Function]"?Dxe(t[0]):t.length===1&&typeof t[0]=="string"?Lxe(t[0]):void 0}var BA=function(){return BA=Object.assign||function(e){for(var i,r=1,n=arguments.length;r<n;r++){i=arguments[r];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(e[s]=i[s])}return e},BA.apply(this,arguments)},Ij={exports:{}},Nr={},Cj={exports:{}},qv={};function ose(){var t={};return t["align-content"]=!1,t["align-items"]=!1,t["align-self"]=!1,t["alignment-adjust"]=!1,t["alignment-baseline"]=!1,t.all=!1,t["anchor-point"]=!1,t.animation=!1,t["animation-delay"]=!1,t["animation-direction"]=!1,t["animation-duration"]=!1,t["animation-fill-mode"]=!1,t["animation-iteration-count"]=!1,t["animation-name"]=!1,t["animation-play-state"]=!1,t["animation-timing-function"]=!1,t.azimuth=!1,t["backface-visibility"]=!1,t.background=!0,t["background-attachment"]=!0,t["background-clip"]=!0,t["background-color"]=!0,t["background-image"]=!0,t["background-origin"]=!0,t["background-position"]=!0,t["background-repeat"]=!0,t["background-size"]=!0,t["baseline-shift"]=!1,t.binding=!1,t.bleed=!1,t["bookmark-label"]=!1,t["bookmark-level"]=!1,t["bookmark-state"]=!1,t.border=!0,t["border-bottom"]=!0,t["border-bottom-color"]=!0,t["border-bottom-left-radius"]=!0,t["border-bottom-right-radius"]=!0,t["border-bottom-style"]=!0,t["border-bottom-width"]=!0,t["border-collapse"]=!0,t["border-color"]=!0,t["border-image"]=!0,t["border-image-outset"]=!0,t["border-image-repeat"]=!0,t["border-image-slice"]=!0,t["border-image-source"]=!0,t["border-image-width"]=!0,t["border-left"]=!0,t["border-left-color"]=!0,t["border-left-style"]=!0,t["border-left-width"]=!0,t["border-radius"]=!0,t["border-right"]=!0,t["border-right-color"]=!0,t["border-right-style"]=!0,t["border-right-width"]=!0,t["border-spacing"]=!0,t["border-style"]=!0,t["border-top"]=!0,t["border-top-color"]=!0,t["border-top-left-radius"]=!0,t["border-top-right-radius"]=!0,t["border-top-style"]=!0,t["border-top-width"]=!0,t["border-width"]=!0,t.bottom=!1,t["box-decoration-break"]=!0,t["box-shadow"]=!0,t["box-sizing"]=!0,t["box-snap"]=!0,t["box-suppress"]=!0,t["break-after"]=!0,t["break-before"]=!0,t["break-inside"]=!0,t["caption-side"]=!1,t.chains=!1,t.clear=!0,t.clip=!1,t["clip-path"]=!1,t["clip-rule"]=!1,t.color=!0,t["color-interpolation-filters"]=!0,t["column-count"]=!1,t["column-fill"]=!1,t["column-gap"]=!1,t["column-rule"]=!1,t["column-rule-color"]=!1,t["column-rule-style"]=!1,t["column-rule-width"]=!1,t["column-span"]=!1,t["column-width"]=!1,t.columns=!1,t.contain=!1,t.content=!1,t["counter-increment"]=!1,t["counter-reset"]=!1,t["counter-set"]=!1,t.crop=!1,t.cue=!1,t["cue-after"]=!1,t["cue-before"]=!1,t.cursor=!1,t.direction=!1,t.display=!0,t["display-inside"]=!0,t["display-list"]=!0,t["display-outside"]=!0,t["dominant-baseline"]=!1,t.elevation=!1,t["empty-cells"]=!1,t.filter=!1,t.flex=!1,t["flex-basis"]=!1,t["flex-direction"]=!1,t["flex-flow"]=!1,t["flex-grow"]=!1,t["flex-shrink"]=!1,t["flex-wrap"]=!1,t.float=!1,t["float-offset"]=!1,t["flood-color"]=!1,t["flood-opacity"]=!1,t["flow-from"]=!1,t["flow-into"]=!1,t.font=!0,t["font-family"]=!0,t["font-feature-settings"]=!0,t["font-kerning"]=!0,t["font-language-override"]=!0,t["font-size"]=!0,t["font-size-adjust"]=!0,t["font-stretch"]=!0,t["font-style"]=!0,t["font-synthesis"]=!0,t["font-variant"]=!0,t["font-variant-alternates"]=!0,t["font-variant-caps"]=!0,t["font-variant-east-asian"]=!0,t["font-variant-ligatures"]=!0,t["font-variant-numeric"]=!0,t["font-variant-position"]=!0,t["font-weight"]=!0,t.grid=!1,t["grid-area"]=!1,t["grid-auto-columns"]=!1,t["grid-auto-flow"]=!1,t["grid-auto-rows"]=!1,t["grid-column"]=!1,t["grid-column-end"]=!1,t["grid-column-start"]=!1,t["grid-row"]=!1,t["grid-row-end"]=!1,t["grid-row-start"]=!1,t["grid-template"]=!1,t["grid-template-areas"]=!1,t["grid-template-columns"]=!1,t["grid-template-rows"]=!1,t["hanging-punctuation"]=!1,t.height=!0,t.hyphens=!1,t.icon=!1,t["image-orientation"]=!1,t["image-resolution"]=!1,t["ime-mode"]=!1,t["initial-letters"]=!1,t["inline-box-align"]=!1,t["justify-content"]=!1,t["justify-items"]=!1,t["justify-self"]=!1,t.left=!1,t["letter-spacing"]=!0,t["lighting-color"]=!0,t["line-box-contain"]=!1,t["line-break"]=!1,t["line-grid"]=!1,t["line-height"]=!1,t["line-snap"]=!1,t["line-stacking"]=!1,t["line-stacking-ruby"]=!1,t["line-stacking-shift"]=!1,t["line-stacking-strategy"]=!1,t["list-style"]=!0,t["list-style-image"]=!0,t["list-style-position"]=!0,t["list-style-type"]=!0,t.margin=!0,t["margin-bottom"]=!0,t["margin-left"]=!0,t["margin-right"]=!0,t["margin-top"]=!0,t["marker-offset"]=!1,t["marker-side"]=!1,t.marks=!1,t.mask=!1,t["mask-box"]=!1,t["mask-box-outset"]=!1,t["mask-box-repeat"]=!1,t["mask-box-slice"]=!1,t["mask-box-source"]=!1,t["mask-box-width"]=!1,t["mask-clip"]=!1,t["mask-image"]=!1,t["mask-origin"]=!1,t["mask-position"]=!1,t["mask-repeat"]=!1,t["mask-size"]=!1,t["mask-source-type"]=!1,t["mask-type"]=!1,t["max-height"]=!0,t["max-lines"]=!1,t["max-width"]=!0,t["min-height"]=!0,t["min-width"]=!0,t["move-to"]=!1,t["nav-down"]=!1,t["nav-index"]=!1,t["nav-left"]=!1,t["nav-right"]=!1,t["nav-up"]=!1,t["object-fit"]=!1,t["object-position"]=!1,t.opacity=!1,t.order=!1,t.orphans=!1,t.outline=!1,t["outline-color"]=!1,t["outline-offset"]=!1,t["outline-style"]=!1,t["outline-width"]=!1,t.overflow=!1,t["overflow-wrap"]=!1,t["overflow-x"]=!1,t["overflow-y"]=!1,t.padding=!0,t["padding-bottom"]=!0,t["padding-left"]=!0,t["padding-right"]=!0,t["padding-top"]=!0,t.page=!1,t["page-break-after"]=!1,t["page-break-before"]=!1,t["page-break-inside"]=!1,t["page-policy"]=!1,t.pause=!1,t["pause-after"]=!1,t["pause-before"]=!1,t.perspective=!1,t["perspective-origin"]=!1,t.pitch=!1,t["pitch-range"]=!1,t["play-during"]=!1,t.position=!1,t["presentation-level"]=!1,t.quotes=!1,t["region-fragment"]=!1,t.resize=!1,t.rest=!1,t["rest-after"]=!1,t["rest-before"]=!1,t.richness=!1,t.right=!1,t.rotation=!1,t["rotation-point"]=!1,t["ruby-align"]=!1,t["ruby-merge"]=!1,t["ruby-position"]=!1,t["shape-image-threshold"]=!1,t["shape-outside"]=!1,t["shape-margin"]=!1,t.size=!1,t.speak=!1,t["speak-as"]=!1,t["speak-header"]=!1,t["speak-numeral"]=!1,t["speak-punctuation"]=!1,t["speech-rate"]=!1,t.stress=!1,t["string-set"]=!1,t["tab-size"]=!1,t["table-layout"]=!1,t["text-align"]=!0,t["text-align-last"]=!0,t["text-combine-upright"]=!0,t["text-decoration"]=!0,t["text-decoration-color"]=!0,t["text-decoration-line"]=!0,t["text-decoration-skip"]=!0,t["text-decoration-style"]=!0,t["text-emphasis"]=!0,t["text-emphasis-color"]=!0,t["text-emphasis-position"]=!0,t["text-emphasis-style"]=!0,t["text-height"]=!0,t["text-indent"]=!0,t["text-justify"]=!0,t["text-orientation"]=!0,t["text-overflow"]=!0,t["text-shadow"]=!0,t["text-space-collapse"]=!0,t["text-transform"]=!0,t["text-underline-position"]=!0,t["text-wrap"]=!0,t.top=!1,t.transform=!1,t["transform-origin"]=!1,t["transform-style"]=!1,t.transition=!1,t["transition-delay"]=!1,t["transition-duration"]=!1,t["transition-property"]=!1,t["transition-timing-function"]=!1,t["unicode-bidi"]=!1,t["vertical-align"]=!1,t.visibility=!1,t["voice-balance"]=!1,t["voice-duration"]=!1,t["voice-family"]=!1,t["voice-pitch"]=!1,t["voice-range"]=!1,t["voice-rate"]=!1,t["voice-stress"]=!1,t["voice-volume"]=!1,t.volume=!1,t["white-space"]=!1,t.widows=!1,t.width=!0,t["will-change"]=!1,t["word-break"]=!0,t["word-spacing"]=!0,t["word-wrap"]=!0,t["wrap-flow"]=!1,t["wrap-through"]=!1,t["writing-mode"]=!1,t["z-index"]=!1,t}function zxe(t,e,i){}function Nxe(t,e,i){}var jxe=/javascript\s*\:/img;function Fxe(t,e){return jxe.test(e)?"":e}qv.whiteList=ose();qv.getDefaultWhiteList=ose;qv.onAttr=zxe;qv.onIgnoreAttr=Nxe;qv.safeAttrValue=Fxe;var Vxe={indexOf:function(t,e){var i,r;if(Array.prototype.indexOf)return t.indexOf(e);for(i=0,r=t.length;i<r;i++)if(t[i]===e)return i;return-1},forEach:function(t,e,i){var r,n;if(Array.prototype.forEach)return t.forEach(e,i);for(r=0,n=t.length;r<n;r++)e.call(i,t[r],r,t)},trim:function(t){return String.prototype.trim?t.trim():t.replace(/(^\s*)|(\s*$)/g,"")},trimRight:function(t){return String.prototype.trimRight?t.trimRight():t.replace(/(\s*$)/g,"")}},Jx=Vxe;function Uxe(t,e){t=Jx.trimRight(t),t[t.length-1]!==";"&&(t+=";");var i=t.length,r=!1,n=0,s=0,o="";function a(){if(!r){var f=Jx.trim(t.slice(n,s)),g=f.indexOf(":");if(g!==-1){var v=Jx.trim(f.slice(0,g)),w=Jx.trim(f.slice(g+1));if(v){var S=e(n,o.length,v,w,f);S&&(o+=S+"; ")}}}n=s+1}for(;s<i;s++){var l=t[s];if(l==="/"&&t[s+1]==="*"){var h=t.indexOf("*/",s+2);if(h===-1)break;s=h+1,n=s+1,r=!1}else l==="("?r=!0:l===")"?r=!1:l===";"?r||a():l===`
`&&a()}return Jx.trim(o)}var Bxe=Uxe,YE=qv,Hxe=Bxe;function gY(t){return t==null}function qxe(t){var e={};for(var i in t)e[i]=t[i];return e}function ase(t){t=qxe(t||{}),t.whiteList=t.whiteList||YE.whiteList,t.onAttr=t.onAttr||YE.onAttr,t.onIgnoreAttr=t.onIgnoreAttr||YE.onIgnoreAttr,t.safeAttrValue=t.safeAttrValue||YE.safeAttrValue,this.options=t}ase.prototype.process=function(t){if(t=t||"",t=t.toString(),!t)return"";var e=this,i=e.options,r=i.whiteList,n=i.onAttr,s=i.onIgnoreAttr,o=i.safeAttrValue,a=Hxe(t,function(l,h,f,g,v){var w=r[f],S=!1;if(w===!0?S=w:typeof w=="function"?S=w(g):w instanceof RegExp&&(S=w.test(g)),S!==!0&&(S=!1),g=o(f,g),!!g){var T={position:h,sourcePosition:l,source:v,isWhite:S};if(S){var C=n(f,g,T);return gY(C)?f+":"+g:C}else{var C=s(f,g,T);if(!gY(C))return C}}});return a};var Gxe=ase;(function(t,e){var i=qv,r=Gxe;function n(o,a){var l=new r(a);return l.process(o)}e=t.exports=n,e.FilterCSS=r;for(var s in i)e[s]=i[s]})(Cj,Cj.exports);var q9=Cj.exports,G9={indexOf:function(t,e){var i,r;if(Array.prototype.indexOf)return t.indexOf(e);for(i=0,r=t.length;i<r;i++)if(t[i]===e)return i;return-1},forEach:function(t,e,i){var r,n;if(Array.prototype.forEach)return t.forEach(e,i);for(r=0,n=t.length;r<n;r++)e.call(i,t[r],r,t)},trim:function(t){return String.prototype.trim?t.trim():t.replace(/(^\s*)|(\s*$)/g,"")},spaceIndex:function(t){var e=/\s|\n|\t/,i=e.exec(t);return i?i.index:-1}},Wxe=q9.FilterCSS,Yxe=q9.getDefaultWhiteList,HA=G9;function lse(){return{a:["target","href","title"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:["autoplay","controls","crossorigin","loop","muted","preload","src"],b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:[],dl:[],dt:[],em:[],figcaption:[],figure:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["src","alt","title","width","height"],ins:["datetime"],li:[],mark:[],nav:[],ol:[],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],summary:[],sup:[],strong:[],strike:[],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],th:["width","rowspan","colspan","align","valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],video:["autoplay","controls","crossorigin","loop","muted","playsinline","poster","preload","src","height","width"]}}var cse=new Wxe;function Zxe(t,e,i){}function Jxe(t,e,i){}function Xxe(t,e,i){}function Kxe(t,e,i){}function use(t){return t.replace(eSe,"&lt;").replace(tSe,"&gt;")}function Qxe(t,e,i,r){if(i=gse(i),e==="href"||e==="src"){if(i=HA.trim(i),i==="#")return"#";if(!(i.substr(0,7)==="http://"||i.substr(0,8)==="https://"||i.substr(0,7)==="mailto:"||i.substr(0,4)==="tel:"||i.substr(0,11)==="data:image/"||i.substr(0,6)==="ftp://"||i.substr(0,2)==="./"||i.substr(0,3)==="../"||i[0]==="#"||i[0]==="/"))return""}else if(e==="background"){if(ZE.lastIndex=0,ZE.test(i))return""}else if(e==="style"){if(yY.lastIndex=0,yY.test(i)||(vY.lastIndex=0,vY.test(i)&&(ZE.lastIndex=0,ZE.test(i))))return"";r!==!1&&(r=r||cse,i=r.process(i))}return i=yse(i),i}var eSe=/</g,tSe=/>/g,iSe=/"/g,rSe=/&quot;/g,nSe=/&#([a-zA-Z0-9]*);?/gim,sSe=/&colon;?/gim,oSe=/&newline;?/gim,ZE=/((j\s*a\s*v\s*a|v\s*b|l\s*i\s*v\s*e)\s*s\s*c\s*r\s*i\s*p\s*t\s*|m\s*o\s*c\s*h\s*a):/gi,yY=/e\s*x\s*p\s*r\s*e\s*s\s*s\s*i\s*o\s*n\s*\(.*/gi,vY=/u\s*r\s*l\s*\(.*/gi;function dse(t){return t.replace(iSe,"&quot;")}function hse(t){return t.replace(rSe,'"')}function pse(t){return t.replace(nSe,function(i,r){return r[0]==="x"||r[0]==="X"?String.fromCharCode(parseInt(r.substr(1),16)):String.fromCharCode(parseInt(r,10))})}function fse(t){return t.replace(sSe,":").replace(oSe," ")}function mse(t){for(var e="",i=0,r=t.length;i<r;i++)e+=t.charCodeAt(i)<32?" ":t.charAt(i);return HA.trim(e)}function gse(t){return t=hse(t),t=pse(t),t=fse(t),t=mse(t),t}function yse(t){return t=dse(t),t=use(t),t}function aSe(){return""}function lSe(t,e){typeof e!="function"&&(e=function(){});var i=!Array.isArray(t);function r(o){return i?!0:HA.indexOf(t,o)!==-1}var n=[],s=!1;return{onIgnoreTag:function(o,a,l){if(r(o))if(l.isClosing){var h="[/removed]",f=l.position+h.length;return n.push([s!==!1?s:l.position,f]),s=!1,h}else return s||(s=l.position),"[removed]";else return e(o,a,l)},remove:function(o){var a="",l=0;return HA.forEach(n,function(h){a+=o.slice(l,h[0]),l=h[1]}),a+=o.slice(l),a}}}function cSe(t){for(var e="",i=0;i<t.length;){var r=t.indexOf("<!--",i);if(r===-1){e+=t.slice(i);break}e+=t.slice(i,r);var n=t.indexOf("-->",r);if(n===-1)break;i=n+3}return e}function uSe(t){var e=t.split("");return e=e.filter(function(i){var r=i.charCodeAt(0);return r===127?!1:r<=31?r===10||r===13:!0}),e.join("")}Nr.whiteList=lse();Nr.getDefaultWhiteList=lse;Nr.onTag=Zxe;Nr.onIgnoreTag=Jxe;Nr.onTagAttr=Xxe;Nr.onIgnoreTagAttr=Kxe;Nr.safeAttrValue=Qxe;Nr.escapeHtml=use;Nr.escapeQuote=dse;Nr.unescapeQuote=hse;Nr.escapeHtmlEntities=pse;Nr.escapeDangerHtml5Entities=fse;Nr.clearNonPrintableCharacter=mse;Nr.friendlyAttrValue=gse;Nr.escapeAttrValue=yse;Nr.onIgnoreTagStripAll=aSe;Nr.StripTagBody=lSe;Nr.stripCommentTag=cSe;Nr.stripBlankChar=uSe;Nr.cssFilter=cse;Nr.getDefaultCSSWhiteList=Yxe;var xD={},nm=G9;function dSe(t){var e=nm.spaceIndex(t),i;return e===-1?i=t.slice(1,-1):i=t.slice(1,e+1),i=nm.trim(i).toLowerCase(),i.slice(0,1)==="/"&&(i=i.slice(1)),i.slice(-1)==="/"&&(i=i.slice(0,-1)),i}function hSe(t){return t.slice(0,2)==="</"}function pSe(t,e,i){var r="",n=0,s=!1,o=!1,a=0,l=t.length,h="",f="";e:for(a=0;a<l;a++){var g=t.charAt(a);if(s===!1){if(g==="<"){s=a;continue}}else if(o===!1){if(g==="<"){r+=i(t.slice(n,a)),s=a,n=a;continue}if(g===">"){r+=i(t.slice(n,s)),f=t.slice(s,a+1),h=dSe(f),r+=e(s,r.length,h,f,hSe(f)),n=a+1,s=!1;continue}if(g==='"'||g==="'")for(var v=1,w=t.charAt(a-v);w.trim()===""||w==="=";){if(w==="="){o=g;continue e}w=t.charAt(a-++v)}}else if(g===o){o=!1;continue}}return n<t.length&&(r+=i(t.substr(n))),r}var fSe=/[^a-zA-Z0-9\\_:.-]/gim;function mSe(t,e){var i=0,r=0,n=[],s=!1,o=t.length;function a(v,w){if(v=nm.trim(v),v=v.replace(fSe,"").toLowerCase(),!(v.length<1)){var S=e(v,w||"");S&&n.push(S)}}for(var l=0;l<o;l++){var h=t.charAt(l),f,g;if(s===!1&&h==="="){s=t.slice(i,l),i=l+1,r=t.charAt(i)==='"'||t.charAt(i)==="'"?i:ySe(t,l+1);continue}if(s!==!1&&l===r){if(g=t.indexOf(h,l+1),g===-1)break;f=nm.trim(t.slice(r+1,g)),a(s,f),s=!1,l=g,i=l+1;continue}if(/\s|\n|\t/.test(h))if(t=t.replace(/\s|\n|\t/g," "),s===!1)if(g=gSe(t,l),g===-1){f=nm.trim(t.slice(i,l)),a(f),s=!1,i=l+1;continue}else{l=g-1;continue}else if(g=vSe(t,l-1),g===-1){f=nm.trim(t.slice(i,l)),f=bY(f),a(s,f),s=!1,i=l+1;continue}else continue}return i<t.length&&(s===!1?a(t.slice(i)):a(s,bY(nm.trim(t.slice(i))))),nm.trim(n.join(" "))}function gSe(t,e){for(;e<t.length;e++){var i=t[e];if(i!==" ")return i==="="?e:-1}}function ySe(t,e){for(;e<t.length;e++){var i=t[e];if(i!==" ")return i==="'"||i==='"'?e:-1}}function vSe(t,e){for(;e>0;e--){var i=t[e];if(i!==" ")return i==="="?e:-1}}function bSe(t){return t[0]==='"'&&t[t.length-1]==='"'||t[0]==="'"&&t[t.length-1]==="'"}function bY(t){return bSe(t)?t.substr(1,t.length-2):t}xD.parseTag=pSe;xD.parseAttr=mSe;var wSe=q9.FilterCSS,Qc=Nr,vse=xD,_Se=vse.parseTag,xSe=vse.parseAttr,zC=G9;function JE(t){return t==null}function SSe(t){var e=zC.spaceIndex(t);if(e===-1)return{html:"",closing:t[t.length-2]==="/"};t=zC.trim(t.slice(e+1,-1));var i=t[t.length-1]==="/";return i&&(t=zC.trim(t.slice(0,-1))),{html:t,closing:i}}function TSe(t){var e={};for(var i in t)e[i]=t[i];return e}function $Se(t){var e={};for(var i in t)Array.isArray(t[i])?e[i.toLowerCase()]=t[i].map(function(r){return r.toLowerCase()}):e[i.toLowerCase()]=t[i];return e}function bse(t){t=TSe(t||{}),t.stripIgnoreTag&&(t.onIgnoreTag&&console.error('Notes: cannot use these two options "stripIgnoreTag" and "onIgnoreTag" at the same time'),t.onIgnoreTag=Qc.onIgnoreTagStripAll),t.whiteList||t.allowList?t.whiteList=$Se(t.whiteList||t.allowList):t.whiteList=Qc.whiteList,t.onTag=t.onTag||Qc.onTag,t.onTagAttr=t.onTagAttr||Qc.onTagAttr,t.onIgnoreTag=t.onIgnoreTag||Qc.onIgnoreTag,t.onIgnoreTagAttr=t.onIgnoreTagAttr||Qc.onIgnoreTagAttr,t.safeAttrValue=t.safeAttrValue||Qc.safeAttrValue,t.escapeHtml=t.escapeHtml||Qc.escapeHtml,this.options=t,t.css===!1?this.cssFilter=!1:(t.css=t.css||{},this.cssFilter=new wSe(t.css))}bse.prototype.process=function(t){if(t=t||"",t=t.toString(),!t)return"";var e=this,i=e.options,r=i.whiteList,n=i.onTag,s=i.onIgnoreTag,o=i.onTagAttr,a=i.onIgnoreTagAttr,l=i.safeAttrValue,h=i.escapeHtml,f=e.cssFilter;i.stripBlankChar&&(t=Qc.stripBlankChar(t)),i.allowCommentTag||(t=Qc.stripCommentTag(t));var g=!1;i.stripIgnoreTagBody&&(g=Qc.StripTagBody(i.stripIgnoreTagBody,s),s=g.onIgnoreTag);var v=_Se(t,function(w,S,T,C,I){var A={sourcePosition:w,position:S,isClosing:I,isWhite:Object.prototype.hasOwnProperty.call(r,T)},P=n(T,C,A);if(!JE(P))return P;if(A.isWhite){if(A.isClosing)return"</"+T+">";var D=SSe(C),L=r[T],B=xSe(D.html,function(N,Y){var K=zC.indexOf(L,N)!==-1,te=o(T,N,Y,K);return JE(te)?K?(Y=l(T,N,Y,f),Y?N+'="'+Y+'"':N):(te=a(T,N,Y,K),JE(te)?void 0:te):te});return C="<"+T,B&&(C+=" "+B),D.closing&&(C+=" /"),C+=">",C}else return P=s(T,C,A),JE(P)?h(C):P},h);return g&&(v=g.remove(v)),v};var kSe=bse;(function(t,e){var i=Nr,r=xD,n=kSe;function s(a,l){var h=new n(l);return h.process(a)}e=t.exports=s,e.filterXSS=s,e.FilterXSS=n,(function(){for(var a in i)e[a]=i[a];for(var l in r)e[l]=r[l]})();function o(){return typeof self<"u"&&typeof DedicatedWorkerGlobalScope<"u"&&self instanceof DedicatedWorkerGlobalScope}o()&&(self.filterXSS=t.exports)})(Ij,Ij.exports);var Hb=Ij.exports,ESe=function(t){if(typeof t!="object"||t===null||Object.prototype.toString.call(t)!=="[object Object]")return!1;var e=Object.getPrototypeOf(t);if(e===null)return!0;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e},wse=(function(){function t(e,i){var r=this;this.arcgisWhiteList={a:["href","style","target"],abbr:["title"],article:["style"],aside:["style"],audio:["autoplay","controls","loop","muted","preload"],b:[],blockquote:["style"],br:[],code:["style"],dd:["style"],del:["style"],details:["open","style"],div:["align","aria-hidden","aria-label","style"],dl:["style"],dt:["style"],em:[],figcaption:["style"],figure:["style"],font:["color","face","size","style"],footer:["style"],h1:["style"],h2:["style"],h3:["style"],h4:["style"],h5:["style"],h6:["style"],header:["style"],hr:[],i:[],img:["alt","border","height","src","style","width"],li:[],main:["style"],mark:["style"],nav:["style"],ol:[],p:["style"],pre:["style"],section:["style"],source:["media","src","type"],span:["aria-hidden","aria-label","style"],strong:[],sub:["style"],summary:["style"],sup:["style"],table:["border","cellpadding","cellspacing","height","style","width"],tbody:[],tr:["align","height","style","valign"],td:["align","colspan","height","nowrap","rowspan","style","valign","width"],th:["align","colspan","height","nowrap","rowspan","style","valign","width"],time:["style"],u:[],ul:[],video:["autoplay","controls","height","loop","muted","poster","preload","width"]},this.arcgisCSSWhiteList=BA(BA({},Hb.getDefaultCSSWhiteList()),{"align-items":!0,"align-self":!0,flex:!0,"flex-basis":!0,"flex-direction":!0,"flex-flow":!0,"flex-grow":!0,"flex-shrink":!0,"flex-wrap":!0,float:!0,gap:!0,grid:!0,"grid-area":!0,"grid-auto-columns":!0,"grid-auto-flow":!0,"grid-auto-rows":!0,"grid-column":!0,"grid-column-end":!0,"grid-column-start":!0,"grid-row":!0,"grid-row-end":!0,"grid-row-start":!0,"grid-template":!0,"grid-template-areas":!0,"grid-template-columns":!0,"grid-template-rows":!0,"justify-content":!0,"justify-items":!0,"justify-self":!0,"line-height":!0,overflow:!0}),this.allowedProtocols=["http","https","mailto","iform","tel","flow","lfmobile","arcgis-navigator","arcgis-appstudio-player","arcgis-survey123","arcgis-collector","arcgis-workforce","arcgis-explorer","arcgis-trek2there","arcgis-quickcapture","mspbi","comgooglemaps","pdfefile","pdfehttp","pdfehttps","boxapp","boxemm","awb","awbs","gropen","radarscope"],this.arcgisFilterOptions={allowCommentTag:!0,safeAttrValue:function(s,o,a,l){return s==="a"&&o==="href"||(s==="img"||s==="source")&&o==="src"?r.sanitizeUrl(a):Hb.safeAttrValue(s,o,a,l)}},this._entityMap={"&":"&#x38;","<":"&#x3C;",">":"&#x3E;",'"':"&#x22;","'":"&#x27;","/":"&#x2F;"};var n;e&&!i?n=e:e&&i?(n=Object.create(this.arcgisFilterOptions),n.css={whiteList:this.arcgisCSSWhiteList},Object.keys(e).forEach(function(s){if(s==="whiteList")n.whiteList=r._extendObjectOfArrays([r.arcgisWhiteList,e.whiteList||{}]);else if(s==="css"){var o=e.css.whiteList;o!=null&&e.css instanceof Object&&Object.keys(o).forEach(function(a){return n.css.whiteList[a]=o[a]})}else n[s]=e[s]})):(n=Object.create(this.arcgisFilterOptions),n.whiteList=this.arcgisWhiteList,n.css={whiteList:this.arcgisCSSWhiteList}),this.xssFilterOptions=n,this._xssFilter=new Hb.FilterXSS(n)}return t.prototype.sanitize=function(e,i){switch(i===void 0&&(i={}),typeof e){case"number":return isNaN(e)||!isFinite(e)?null:e;case"boolean":return e;case"string":return this._xssFilter.process(e);case"object":return this._iterateOverObject(e,i);default:return i.allowUndefined&&typeof e>"u"?void 0:null}},t.prototype.sanitizeUrl=function(e,i){var r=(i??{}).isProtocolRequired,n=r===void 0?!0:r,s=this._trim(e.substring(0,e.indexOf(":"))),o=e==="/",a=/^#/.test(e),l=s&&this.allowedProtocols.indexOf(s.toLowerCase())>-1;return o||a||l?Hb.escapeAttrValue(e):!s&&!n?Hb.escapeAttrValue("https://".concat(e)):""},t.prototype.sanitizeHTMLAttribute=function(e,i,r,n){return typeof this.xssFilterOptions.safeAttrValue=="function"?this.xssFilterOptions.safeAttrValue(e,i,r,n):Hb.safeAttrValue(e,i,r,n)},t.prototype.validate=function(e,i){i===void 0&&(i={});var r=this.sanitize(e,i);return{isValid:e===r,sanitized:r}},t.prototype.encodeHTML=function(e){var i=this;return String(e).replace(/[&<>"'\/]/g,function(r){return i._entityMap[r]})},t.prototype.encodeAttrValue=function(e){var i=/^[a-zA-Z0-9]$/;return String(e).replace(/[\x00-\xFF]/g,function(r,n){return i.test(r)?r:"&#x".concat(Number(e.charCodeAt(n)).toString(16),";")})},t.prototype._extendObjectOfArrays=function(e){var i={};return e.forEach(function(r){Object.keys(r).forEach(function(n){Array.isArray(r[n])&&Array.isArray(i[n])?i[n]=i[n].concat(r[n]):i[n]=r[n]})}),i},t.prototype._iterateOverObject=function(e,i){var r=this;i===void 0&&(i={});try{var n=!1,s=void 0;if(Array.isArray(e))s=e.reduce(function(a,l){var h=r.validate(l,i);return h.isValid?a.concat([l]):(n=!0,a.concat([h.sanitized]))},[]);else if(ESe(e)){var o=Object.keys(e);s=o.reduce(function(a,l){var h=e[l],f=r.validate(h,i);return f.isValid?a[l]=h:(n=!0,a[l]=f.sanitized),a},{})}else return i.allowUndefined&&typeof e>"u"?void 0:null;return n?s:e}catch{return null}},t.prototype._trim=function(e){return String.prototype.trim?e.trim():e.replace(/(^\s*)|(\s*$)/g,"")},t})();const ISe=["dd","dl","dt","h1","h2","h3","h4","h5","h6","sub","sup","animate","animatetransform","circle","clippath","defs","ellipse","g","image","line","lineargradient","marker","mask","path","pattern","polygon","polyline","radialgradient","rect","stop","svg","switch","symbol","text","textpath","tspan","use"],CSe=ISe.reduce((t,e)=>(t[e]=[],t),{}),MSe=["align","alink","alt","bgcolor","border","cellpadding","cellspacing","class","color","cols","colspan","coords","d","dir","face","height","hspace","ismap","lang","marginheight","marginwidth","multiple","nohref","noresize","noshade","nowrap","ref","rel","rev","rows","rowspan","scrolling","shape","span","summary","tabindex","title","usemap","valign","value","vlink","vspace","width"],_se=new wse({whiteList:CSe,onTagAttr:(t,e,i)=>{const r=`${e}="${i}"`;if(MSe.includes(e))return r},stripIgnoreTag:!0,stripIgnoreTagBody:["script","style"]},!0),ASe=new wse({whiteList:{br:[]},stripIgnoreTag:!0,escapeHtml:t=>t},!1),xse="http://www.w3.org/",SD=`${xse}2000/svg`,Sse=`${xse}1999/xlink`;let wY=[],W9=(t,e)=>{let i={};return Object.keys(t).forEach(r=>{i[r]=t[r]}),e&&Object.keys(e).forEach(r=>{i[r]=e[r]}),i},Y9=(t,e)=>t.vnodeSelector===e.vnodeSelector&&(t.properties&&e.properties?t.properties.key===e.properties.key&&t.properties.bind===e.properties.bind:!t.properties&&!e.properties),Tse=t=>{if(typeof t!="string")throw new Error("Style values must be strings")},OSe=(t,e,i)=>{if(e.vnodeSelector!==""){for(let r=i;r<t.length;r++)if(Y9(t[r],e))return r}return-1},wL=(t,e,i,r)=>{let n=t[e];if(n.vnodeSelector==="")return;let s=n.properties;if(!(s&&(s.key===void 0?s.bind:s.key))){for(let o=0;o<t.length;o++)if(o!==e){let a=t[o];if(Y9(a,n))throw new Error(`${i.vnodeSelector} had a ${n.vnodeSelector} child ${r==="added"?r:"removed"}, but there is now more than one. You must add unique key properties to make them distinguishable.`)}}},PSe=t=>{if(t.properties){let e=t.properties.enterAnimation;e&&e(t.domNode,t.properties)}},Mj=[],Aj=!1,$se=t=>{(t.children||[]).forEach($se),t.properties&&t.properties.afterRemoved&&t.properties.afterRemoved.apply(t.properties.bind||t.properties,[t.domNode])},_Y=()=>{Aj=!1,Mj.forEach($se),Mj.length=0},xY=t=>{Mj.push(t),Aj||(Aj=!0,typeof window<"u"&&"requestIdleCallback"in window?window.requestIdleCallback(_Y,{timeout:16}):setTimeout(_Y,16))},SY=t=>{let e=t.domNode;if(t.properties){let i=t.properties.exitAnimation;if(i)return e.style.pointerEvents="none",void i(e,()=>{e.parentNode&&(e.parentNode.removeChild(e),xY(t))},t.properties)}e.parentNode&&(e.parentNode.removeChild(e),xY(t))},DSe=(t,e,i)=>{if(!e)return;let r=i.eventHandlerInterceptor,n=Object.keys(e),s=n.length;for(let o=0;o<s;o++){let a=n[o],l=e[a];if(a==="className")throw new Error('Property "className" is not supported, use "class".');if(a==="class")Pj(t,l,!0);else if(a==="classes"){let h=Object.keys(l),f=h.length;for(let g=0;g<f;g++){let v=h[g];l[v]&&t.classList.add(v)}}else if(a==="styles"){let h=Object.keys(l),f=h.length;for(let g=0;g<f;g++){let v=h[g],w=l[v];w&&(Tse(w),i.styleApplyer(t,v,w))}}else if(a!=="key"&&l!=null){let h=typeof l;h==="function"?(a.lastIndexOf("on",0)===0&&(r&&(l=r(a,l,t,e)),a==="oninput"&&(function(){let f=l;l=function(g){f.apply(this,[g]),g.target["oninput-value"]=g.target.value}})()),t[a]=l):i.namespace===SD?a==="href"?t.setAttributeNS(Sse,a,l):t.setAttribute(a,l):h==="string"&&a!=="value"?a==="innerHTML"?t[a]=_se.sanitize(l):Oj(t)&&a in t?t[a]=l:t.setAttribute(a,l):t[a]=l}}};function Oj(t){if(!(t instanceof Element&&t.tagName.includes("-")))return!1;const e=window.customElements.get(t.tagName.toLowerCase());return!!e&&t instanceof e}let qA,RSe=(t,e,i)=>{if(e)for(let r of e)CT(r,t,void 0,i)},kse=(t,e,i)=>{RSe(t,e.children,i),e.text&&(t.textContent=e.text),DSe(t,e.properties,i),e.properties&&e.properties.afterCreate&&e.properties.afterCreate.apply(e.properties.bind||e.properties,[t,i,e.vnodeSelector,e.properties,e.children])},CT=(t,e,i,r)=>{let n,s=0,o=t.vnodeSelector,a=e.ownerDocument;if(o==="")n=t.domNode=a.createTextNode(t.text),i!==void 0?e.insertBefore(n,i):e.appendChild(n);else{for(let l=0;l<=o.length;++l){let h=o.charAt(l);if(l===o.length||h==="."||h==="#"){let f=o.charAt(s-1),g=o.slice(s,l);f==="."?n.classList.add(g):f==="#"?n.id=g:(g==="svg"&&(r=W9(r,{namespace:SD})),r.namespace!==void 0?n=t.domNode=a.createElementNS(r.namespace,g):(n=t.domNode=t.domNode||a.createElement(g),g==="input"&&t.properties&&t.properties.type!==void 0&&n.setAttribute("type",t.properties.type)),i!==void 0?e.insertBefore(n,i):n.parentNode!==e&&e.appendChild(n)),s=l+1}}kse(n,t,r)}},Pj=(t,e,i)=>{e&&e.split(" ").forEach(r=>{r&&t.classList.toggle(r,i)})},LSe=(t,e,i,r)=>{if(!i)return;let n=!1,s=Object.keys(i),o=s.length;for(let a=0;a<o;a++){let l=s[a],h=i[l],f=e[l];if(l==="class")f!==h&&(Pj(t,f,!1),Pj(t,h,!0));else if(l==="classes"){let g=t.classList,v=Object.keys(h),w=v.length;for(let S=0;S<w;S++){let T=v[S],C=!!h[T];C!==!!f[T]&&(n=!0,C?g.add(T):g.remove(T))}}else if(l==="styles"){let g=Object.keys(h),v=g.length;for(let w=0;w<v;w++){let S=g[w],T=h[S];T!==f[S]&&(n=!0,T?(Tse(T),r.styleApplyer(t,S,T)):r.styleApplyer(t,S,""))}}else if(h||typeof f!="string"||(h=""),l!=="value"||Oj(t)){if(h!==f){let g=typeof h;g==="function"&&r.eventHandlerInterceptor||(r.namespace===SD?l==="href"?t.setAttributeNS(Sse,l,h):t.setAttribute(l,h):g==="string"?l==="innerHTML"?t[l]=_se.sanitize(h):l==="role"&&h===""?t.removeAttribute(l):Oj(t)&&l in t?t[l]=h:t.setAttribute(l,h):t[l]!==h&&(t[l]=h),n=!0)}}else{let g=t[l];g!==h&&(t["oninput-value"]?g===t["oninput-value"]:h!==f)&&(t[l]=h,t["oninput-value"]=void 0),h!==f&&(n=!0)}}return n},zSe=(t,e,i,r,n)=>{if(i===r)return!1;r=r||wY;let s,o=(i=i||wY).length,a=r.length,l=0,h=0,f=!1;for(;h<a;){let g=l<o?i[l]:void 0,v=r[h];if(g!==void 0&&Y9(g,v))f=qA(g,v,n)||f,l++;else{let w=OSe(i,v,l+1);if(w>=0){for(s=l;s<w;s++)SY(i[s]),wL(i,s,t,"removed");f=qA(i[w],v,n)||f,l=w+1}else CT(v,e,l<o?i[l].domNode:void 0,n),PSe(v),wL(r,h,t,"added")}h++}if(o>l)for(s=l;s<o;s++)SY(i[s]),wL(i,s,t,"removed");return f};qA=(t,e,i)=>{let r=t.domNode,n=!1;if(t===e)return!1;let s=!1;if(e.vnodeSelector===""){if(e.text!==t.text){let o=r.ownerDocument.createTextNode(e.text);return r.parentNode.replaceChild(o,r),e.domNode=o,n=!0,n}e.domNode=r}else e.vnodeSelector.lastIndexOf("svg",0)===0&&(i=W9(i,{namespace:SD})),t.text!==e.text&&(s=!0,e.text===void 0?r.removeChild(r.firstChild):r.textContent=e.text),e.domNode=r,s=zSe(e,r,t.children,e.children,i)||s,s=LSe(r,t.properties,e.properties,i)||s,e.properties&&e.properties.afterUpdate&&e.properties.afterUpdate.apply(e.properties.bind||e.properties,[r,i,e.vnodeSelector,e.properties,e.children]);return s&&e.properties&&e.properties.updateAnimation&&e.properties.updateAnimation(r,e.properties,t.properties),n};let XE=(t,e)=>({getLastRender:()=>t,update:i=>{if(t.vnodeSelector!==i.vnodeSelector)throw new Error("The selector for the root VNode may not be changed. (consider using dom.merge and add one extra level to the virtual DOM)");let r=t;t=i,qA(r,i,e)},domNode:t.domNode});const NSe={namespace:void 0,performanceLogger:()=>{},eventHandlerInterceptor:void 0,styleApplyer:(t,e,i)=>{e.charAt(0)==="-"?t.style.setProperty(e,i):t.style[e]=i}};let SS=t=>W9(NSe,t),xm={append:(t,e,i)=>(i=SS(i),CT(e,t,void 0,i),XE(e,i)),insertBefore:(t,e,i)=>(i=SS(i),CT(e,t.parentNode,t,i),XE(e,i)),merge:(t,e,i)=>(i=SS(i),e.domNode=t,kse(t,e,i),XE(e,i)),replace:(t,e,i)=>(i=SS(i),CT(e,t.parentNode,t,i),t.parentNode.removeChild(t),XE(e,i))},Ese,jSe=(t,e)=>{let i=[];for(;t&&t!==e;)i.push(t),t=t.parentNode;return i};Ese=Array.prototype.find?(t,e)=>t.find(e):(t,e)=>t.filter(e)[0];let FSe=(t,e)=>{let i=t;return e.forEach(r=>{i=i&&i.children?Ese(i.children,n=>n.domNode===r):void 0}),i},VSe=(t,e,i)=>{let r=function(n){i("domEvent",n);let s=e(),o=jSe(n.currentTarget,s.domNode);o.reverse();let a,l=FSe(s.getLastRender(),o);return t.scheduleRender(),l&&(a=l.properties[`on${n.type}`].apply(l.properties.bind||this,arguments)),i("domEventProcessed",n),a};return(n,s,o,a)=>r},TY=t=>{let e,i,r=SS(t),n=r.performanceLogger,s=!0,o=!1,a=[],l=[],h=(g,v,w)=>{let S,T=()=>S;r.eventHandlerInterceptor=VSe(e,T,n),S=g(v,w(),r),a.push(S),l.push(w)},f=()=>{if(i=void 0,s){s=!1,n("renderStart",void 0);for(let g=0;g<a.length;g++){let v=l[g]();n("rendered",void 0),a[g].update(v),n("patched",void 0)}n("renderDone",void 0),s=!0}};return e={renderNow:f,scheduleRender:()=>{i||o||(i=requestAnimationFrame(f))},stop:()=>{i&&(cancelAnimationFrame(i),i=void 0),o=!0},resume:()=>{o=!1,s=!0,e.scheduleRender()},append:(g,v)=>{h(xm.append,g,v)},insertBefore:(g,v)=>{h(xm.insertBefore,g,v)},merge:(g,v)=>{h(xm.merge,g,v)},replace:(g,v)=>{h(xm.replace,g,v)},detach:g=>{for(let v=0;v<l.length;v++)if(l[v]===g)return l.splice(v,1),a.splice(v,1)[0];throw new Error("renderFunction was not found")}},e};const USe={handleInterceptedEvent:(t,e,i,r)=>(t.scheduleRender(),e.properties[`on${r.type}`].apply(e.properties.bind||i,[r]))},BSe={namespace:void 0,performanceLogger:()=>{},eventHandlerInterceptor:void 0,styleApplyer:(t,e,i)=>{e.startsWith("-")?t.style.setProperty(e,i):t.style[e]=i}},HSe=t=>({...BSe,...t}),qSe=(t,e)=>{const i=[];for(;t&&t!==e;)i.push(t),t=t.parentNode;return i},GSe=(t,e)=>t.find(e),$Y=(t,e,i=!1)=>{let r=t;return e.forEach((n,s)=>{const o=r?.children?GSe(r.children,a=>a.domNode===n):void 0;i&&!o&&s!==e.length-1||(r=o)}),r},WSe=t=>{let e;const i={...USe,...t},r=HSe(i),n=r.performanceLogger;let s,o=!0,a=!1;const l=[],h=[],f=(v,w,S)=>{let T;r.eventHandlerInterceptor=(I,A,P,D)=>function(L){let B;n("domEvent",L);const N=qSe(L.currentTarget,T.domNode),Y=N.some(te=>customElements.get(te?.tagName?.toLowerCase()));if(L.eventPhase===Event.CAPTURING_PHASE||!Y)N.reverse(),B=$Y(T.getLastRender(),N);else{const te=L.composedPath(),ue=te.slice(te.indexOf(L.currentTarget),te.indexOf(T.domNode)).reverse();B=$Y(T.getLastRender(),ue,!0)}let K;return B&&(K=i.handleInterceptedEvent(e,B,this,L)),n("domEventProcessed",L),K},i.postProcessProjectionOptions?.(r);const C=S();T=v(w,C,r),r.eventHandlerInterceptor=void 0,l.push(T),h.push(S),i.afterFirstVNodeRendered&&i.afterFirstVNodeRendered(T,C)};let g=()=>{if(s=void 0,o){o=!1,n("renderStart",void 0);for(let v=0;v<l.length;v++){const w=h[v]();n("rendered",void 0);try{l[v].update(w)}catch(S){console.error(S)}n("patched",void 0)}n("renderDone",void 0),o=!0}};return i.modifyDoRenderImplementation&&(g=i.modifyDoRenderImplementation(g,l,h)),e={renderNow:g,scheduleRender:()=>{s||a||(s=requestAnimationFrame(g))},stop:()=>{s&&(cancelAnimationFrame(s),s=void 0),a=!0},resume:()=>{a=!1,o=!0,e.scheduleRender()},append:(v,w)=>{f(xm.append,v,w)},insertBefore:(v,w)=>{f(xm.insertBefore,v,w)},merge:(v,w)=>{f(xm.merge,v,w)},replace:(v,w)=>{f(xm.replace,v,w)},detach:v=>{for(let w=0;w<h.length;w++)if(h[w]===v)return h.splice(w,1),l.splice(w,1)[0];throw new Error("renderFunction was not found")}},e},Or=(t,e,...i)=>{try{return t?.call(e,...i)}catch(r){console.error(r,t)}},Dj=async(t,e,...i)=>{try{return await t?.call(e,...i)}catch(r){console.error(r,t)}},Z9=Symbol.for("controller"),YSe=t=>typeof t=="object"&&t!==null&&(Z9 in t||"hostConnected"in t||"hostDisconnected"in t||"hostUpdate"in t||"hostUpdated"in t),ZSe=t=>typeof t?.then=="function";let TS;const xw=t=>{TS!==t&&(TS=t,queueMicrotask(()=>TS===t?TS=void 0:0))},B$=t=>TS;let Qg=[];const Ise=t=>{if(t===void 0){Qg=[];return}const e=Qg.indexOf(t);Qg=e===-1?[...Qg,t]:Qg.slice(0,e+1),queueMicrotask(()=>Qg=[])},Cse=()=>Qg;let Sw;const JSe=t=>{Sw!==t&&(Sw=t,queueMicrotask(()=>Sw===t?Sw=void 0:0))},XSe=()=>{const t=Sw;return Sw=void 0,t},KSe=async(t,e)=>{const i=J9(t);if(i===void 0)return t;if(await i.ready,typeof e=="function"){const r=i.watchExports(n=>e(n,r))}return i.exports},QSe=async t=>{const e=J9(t);return await e.ready,e},J9=t=>{const i=B$().manager.X(t);if(i!==void 0)return i;if(YSe(t))return t;const r=XSe();if(r!==void 0)return r};let Rj=!1;const eTe=t=>{Rj=!0;try{return t()}finally{Rj=!1}};const NC=globalThis,X9=NC.ShadowRoot&&(NC.ShadyCSS===void 0||NC.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,K9=Symbol(),kY=new WeakMap;let Mse=class{constructor(e,i,r){if(this._$cssResult$=!0,r!==K9)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=e,this.t=i}get styleSheet(){let e=this.o;const i=this.t;if(X9&&e===void 0){const r=i!==void 0&&i.length===1;r&&(e=kY.get(i)),e===void 0&&((this.o=e=new CSSStyleSheet).replaceSync(this.cssText),r&&kY.set(i,e))}return e}toString(){return this.cssText}};const tTe=t=>new Mse(typeof t=="string"?t:t+"",void 0,K9),vi=(t,...e)=>{const i=t.length===1?t[0]:e.reduce((r,n,s)=>r+(o=>{if(o._$cssResult$===!0)return o.cssText;if(typeof o=="number")return o;throw Error("Value passed to 'css' function must be a 'css' function result: "+o+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(n)+t[s+1],t[0]);return new Mse(i,t,K9)},iTe=(t,e)=>{if(X9)t.adoptedStyleSheets=e.map(i=>i instanceof CSSStyleSheet?i:i.styleSheet);else for(const i of e){const r=document.createElement("style"),n=NC.litNonce;n!==void 0&&r.setAttribute("nonce",n),r.textContent=i.cssText,t.appendChild(r)}},EY=X9?t=>t:t=>t instanceof CSSStyleSheet?(e=>{let i="";for(const r of e.cssRules)i+=r.cssText;return tTe(i)})(t):t;const{is:rTe,defineProperty:nTe,getOwnPropertyDescriptor:sTe,getOwnPropertyNames:oTe,getOwnPropertySymbols:aTe,getPrototypeOf:lTe}=Object,TD=globalThis,IY=TD.trustedTypes,cTe=IY?IY.emptyScript:"",uTe=TD.reactiveElementPolyfillSupport,MT=(t,e)=>t,Lj={toAttribute(t,e){switch(e){case Boolean:t=t?cTe:null;break;case Object:case Array:t=t==null?t:JSON.stringify(t)}return t},fromAttribute(t,e){let i=t;switch(e){case Boolean:i=t!==null;break;case Number:i=t===null?null:Number(t);break;case Object:case Array:try{i=JSON.parse(t)}catch{i=null}}return i}},Q9=(t,e)=>!rTe(t,e),CY={attribute:!0,type:String,converter:Lj,reflect:!1,useDefault:!1,hasChanged:Q9};Symbol.metadata??=Symbol("metadata"),TD.litPropertyMetadata??=new WeakMap;let y0=class extends HTMLElement{static addInitializer(e){this._$Ei(),(this.l??=[]).push(e)}static get observedAttributes(){return this.finalize(),this._$Eh&&[...this._$Eh.keys()]}static createProperty(e,i=CY){if(i.state&&(i.attribute=!1),this._$Ei(),this.prototype.hasOwnProperty(e)&&((i=Object.create(i)).wrapped=!0),this.elementProperties.set(e,i),!i.noAccessor){const r=Symbol(),n=this.getPropertyDescriptor(e,r,i);n!==void 0&&nTe(this.prototype,e,n)}}static getPropertyDescriptor(e,i,r){const{get:n,set:s}=sTe(this.prototype,e)??{get(){return this[i]},set(o){this[i]=o}};return{get:n,set(o){const a=n?.call(this);s?.call(this,o),this.requestUpdate(e,a,r)},configurable:!0,enumerable:!0}}static getPropertyOptions(e){return this.elementProperties.get(e)??CY}static _$Ei(){if(this.hasOwnProperty(MT("elementProperties")))return;const e=lTe(this);e.finalize(),e.l!==void 0&&(this.l=[...e.l]),this.elementProperties=new Map(e.elementProperties)}static finalize(){if(this.hasOwnProperty(MT("finalized")))return;if(this.finalized=!0,this._$Ei(),this.hasOwnProperty(MT("properties"))){const i=this.properties,r=[...oTe(i),...aTe(i)];for(const n of r)this.createProperty(n,i[n])}const e=this[Symbol.metadata];if(e!==null){const i=litPropertyMetadata.get(e);if(i!==void 0)for(const[r,n]of i)this.elementProperties.set(r,n)}this._$Eh=new Map;for(const[i,r]of this.elementProperties){const n=this._$Eu(i,r);n!==void 0&&this._$Eh.set(n,i)}this.elementStyles=this.finalizeStyles(this.styles)}static finalizeStyles(e){const i=[];if(Array.isArray(e)){const r=new Set(e.flat(1/0).reverse());for(const n of r)i.unshift(EY(n))}else e!==void 0&&i.push(EY(e));return i}static _$Eu(e,i){const r=i.attribute;return r===!1?void 0:typeof r=="string"?r:typeof e=="string"?e.toLowerCase():void 0}constructor(){super(),this._$Ep=void 0,this.isUpdatePending=!1,this.hasUpdated=!1,this._$Em=null,this._$Ev()}_$Ev(){this._$ES=new Promise(e=>this.enableUpdating=e),this._$AL=new Map,this._$E_(),this.requestUpdate(),this.constructor.l?.forEach(e=>e(this))}addController(e){(this._$EO??=new Set).add(e),this.renderRoot!==void 0&&this.isConnected&&e.hostConnected?.()}removeController(e){this._$EO?.delete(e)}_$E_(){const e=new Map,i=this.constructor.elementProperties;for(const r of i.keys())this.hasOwnProperty(r)&&(e.set(r,this[r]),delete this[r]);e.size>0&&(this._$Ep=e)}createRenderRoot(){const e=this.shadowRoot??this.attachShadow(this.constructor.shadowRootOptions);return iTe(e,this.constructor.elementStyles),e}connectedCallback(){this.renderRoot??=this.createRenderRoot(),this.enableUpdating(!0),this._$EO?.forEach(e=>e.hostConnected?.())}enableUpdating(e){}disconnectedCallback(){this._$EO?.forEach(e=>e.hostDisconnected?.())}attributeChangedCallback(e,i,r){this._$AK(e,r)}_$ET(e,i){const r=this.constructor.elementProperties.get(e),n=this.constructor._$Eu(e,r);if(n!==void 0&&r.reflect===!0){const s=(r.converter?.toAttribute!==void 0?r.converter:Lj).toAttribute(i,r.type);this._$Em=e,s==null?this.removeAttribute(n):this.setAttribute(n,s),this._$Em=null}}_$AK(e,i){const r=this.constructor,n=r._$Eh.get(e);if(n!==void 0&&this._$Em!==n){const s=r.getPropertyOptions(n),o=typeof s.converter=="function"?{fromAttribute:s.converter}:s.converter?.fromAttribute!==void 0?s.converter:Lj;this._$Em=n;const a=o.fromAttribute(i,s.type);this[n]=a??this._$Ej?.get(n)??a,this._$Em=null}}requestUpdate(e,i,r,n=!1,s){if(e!==void 0){const o=this.constructor;if(n===!1&&(s=this[e]),r??=o.getPropertyOptions(e),!((r.hasChanged??Q9)(s,i)||r.useDefault&&r.reflect&&s===this._$Ej?.get(e)&&!this.hasAttribute(o._$Eu(e,r))))return;this.C(e,i,r)}this.isUpdatePending===!1&&(this._$ES=this._$EP())}C(e,i,{useDefault:r,reflect:n,wrapped:s},o){r&&!(this._$Ej??=new Map).has(e)&&(this._$Ej.set(e,o??i??this[e]),s!==!0||o!==void 0)||(this._$AL.has(e)||(this.hasUpdated||r||(i=void 0),this._$AL.set(e,i)),n===!0&&this._$Em!==e&&(this._$Eq??=new Set).add(e))}async _$EP(){this.isUpdatePending=!0;try{await this._$ES}catch(i){Promise.reject(i)}const e=this.scheduleUpdate();return e!=null&&await e,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){if(!this.isUpdatePending)return;if(!this.hasUpdated){if(this.renderRoot??=this.createRenderRoot(),this._$Ep){for(const[n,s]of this._$Ep)this[n]=s;this._$Ep=void 0}const r=this.constructor.elementProperties;if(r.size>0)for(const[n,s]of r){const{wrapped:o}=s,a=this[n];o!==!0||this._$AL.has(n)||a===void 0||this.C(n,void 0,s,a)}}let e=!1;const i=this._$AL;try{e=this.shouldUpdate(i),e?(this.willUpdate(i),this._$EO?.forEach(r=>r.hostUpdate?.()),this.update(i)):this._$EM()}catch(r){throw e=!1,this._$EM(),r}e&&this._$AE(i)}willUpdate(e){}_$AE(e){this._$EO?.forEach(i=>i.hostUpdated?.()),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(e)),this.updated(e)}_$EM(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$ES}shouldUpdate(e){return!0}update(e){this._$Eq&&=this._$Eq.forEach(i=>this._$ET(i,this[i])),this._$EM()}updated(e){}firstUpdated(e){}};y0.elementStyles=[],y0.shadowRootOptions={mode:"open"},y0[MT("elementProperties")]=new Map,y0[MT("finalized")]=new Map,uTe?.({ReactiveElement:y0}),(TD.reactiveElementVersions??=[]).push("2.1.2");const eU=globalThis,MY=t=>t,GA=eU.trustedTypes,AY=GA?GA.createPolicy("lit-html",{createHTML:t=>t}):void 0,Ase="$lit$",fm=`lit$${Math.random().toFixed(9).slice(2)}$`,Ose="?"+fm,dTe=`<${Ose}>`,xv=document,C2=()=>xv.createComment(""),M2=t=>t===null||typeof t!="object"&&typeof t!="function",tU=Array.isArray,hTe=t=>tU(t)||typeof t?.[Symbol.iterator]=="function",_L=`[ 	
\f\r]`,Xx=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,OY=/-->/g,PY=/>/g,Fg=RegExp(`>|${_L}(?:([^\\s"'>=/]+)(${_L}*=${_L}*(?:[^ 	
\f\r"'\`<>=]|("|')|))|$)`,"g"),DY=/'/g,RY=/"/g,Pse=/^(?:script|style|textarea|title)$/i,Dse=t=>(e,...i)=>({_$litType$:t,strings:e,values:i}),de=Dse(1),A2=Dse(2),sc=Symbol.for("lit-noChange"),Ye=Symbol.for("lit-nothing"),LY=new WeakMap,Vy=xv.createTreeWalker(xv,129);function Rse(t,e){if(!tU(t)||!t.hasOwnProperty("raw"))throw Error("invalid template strings array");return AY!==void 0?AY.createHTML(e):e}const pTe=(t,e)=>{const i=t.length-1,r=[];let n,s=e===2?"<svg>":e===3?"<math>":"",o=Xx;for(let a=0;a<i;a++){const l=t[a];let h,f,g=-1,v=0;for(;v<l.length&&(o.lastIndex=v,f=o.exec(l),f!==null);)v=o.lastIndex,o===Xx?f[1]==="!--"?o=OY:f[1]!==void 0?o=PY:f[2]!==void 0?(Pse.test(f[2])&&(n=RegExp("</"+f[2],"g")),o=Fg):f[3]!==void 0&&(o=Fg):o===Fg?f[0]===">"?(o=n??Xx,g=-1):f[1]===void 0?g=-2:(g=o.lastIndex-f[2].length,h=f[1],o=f[3]===void 0?Fg:f[3]==='"'?RY:DY):o===RY||o===DY?o=Fg:o===OY||o===PY?o=Xx:(o=Fg,n=void 0);const w=o===Fg&&t[a+1].startsWith("/>")?" ":"";s+=o===Xx?l+dTe:g>=0?(r.push(h),l.slice(0,g)+Ase+l.slice(g)+fm+w):l+fm+(g===-2?a:w)}return[Rse(t,s+(t[i]||"<?>")+(e===2?"</svg>":e===3?"</math>":"")),r]};let zj=class Lse{constructor({strings:e,_$litType$:i},r){let n;this.parts=[];let s=0,o=0;const a=e.length-1,l=this.parts,[h,f]=pTe(e,i);if(this.el=Lse.createElement(h,r),Vy.currentNode=this.el.content,i===2||i===3){const g=this.el.content.firstChild;g.replaceWith(...g.childNodes)}for(;(n=Vy.nextNode())!==null&&l.length<a;){if(n.nodeType===1){if(n.hasAttributes())for(const g of n.getAttributeNames())if(g.endsWith(Ase)){const v=f[o++],w=n.getAttribute(g).split(fm),S=/([.?@])?(.*)/.exec(v);l.push({type:1,index:s,name:S[2],strings:w,ctor:S[1]==="."?mTe:S[1]==="?"?gTe:S[1]==="@"?yTe:$D}),n.removeAttribute(g)}else g.startsWith(fm)&&(l.push({type:6,index:s}),n.removeAttribute(g));if(Pse.test(n.tagName)){const g=n.textContent.split(fm),v=g.length-1;if(v>0){n.textContent=GA?GA.emptyScript:"";for(let w=0;w<v;w++)n.append(g[w],C2()),Vy.nextNode(),l.push({type:2,index:++s});n.append(g[v],C2())}}}else if(n.nodeType===8)if(n.data===Ose)l.push({type:2,index:s});else{let g=-1;for(;(g=n.data.indexOf(fm,g+1))!==-1;)l.push({type:7,index:s}),g+=fm.length-1}s++}}static createElement(e,i){const r=xv.createElement("template");return r.innerHTML=e,r}};function U_(t,e,i=t,r){if(e===sc)return e;let n=r!==void 0?i._$Co?.[r]:i._$Cl;const s=M2(e)?void 0:e._$litDirective$;return n?.constructor!==s&&(n?._$AO?.(!1),s===void 0?n=void 0:(n=new s(t),n._$AT(t,i,r)),r!==void 0?(i._$Co??=[])[r]=n:i._$Cl=n),n!==void 0&&(e=U_(t,n._$AS(t,e.values),n,r)),e}let fTe=class{constructor(e,i){this._$AV=[],this._$AN=void 0,this._$AD=e,this._$AM=i}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(e){const{el:{content:i},parts:r}=this._$AD,n=(e?.creationScope??xv).importNode(i,!0);Vy.currentNode=n;let s=Vy.nextNode(),o=0,a=0,l=r[0];for(;l!==void 0;){if(o===l.index){let h;l.type===2?h=new iU(s,s.nextSibling,this,e):l.type===1?h=new l.ctor(s,l.name,l.strings,this,e):l.type===6&&(h=new vTe(s,this,e)),this._$AV.push(h),l=r[++a]}o!==l?.index&&(s=Vy.nextNode(),o++)}return Vy.currentNode=xv,n}p(e){let i=0;for(const r of this._$AV)r!==void 0&&(r.strings!==void 0?(r._$AI(e,r,i),i+=r.strings.length-2):r._$AI(e[i])),i++}},iU=class zse{get _$AU(){return this._$AM?._$AU??this._$Cv}constructor(e,i,r,n){this.type=2,this._$AH=Ye,this._$AN=void 0,this._$AA=e,this._$AB=i,this._$AM=r,this.options=n,this._$Cv=n?.isConnected??!0}get parentNode(){let e=this._$AA.parentNode;const i=this._$AM;return i!==void 0&&e?.nodeType===11&&(e=i.parentNode),e}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(e,i=this){e=U_(this,e,i),M2(e)?e===Ye||e==null||e===""?(this._$AH!==Ye&&this._$AR(),this._$AH=Ye):e!==this._$AH&&e!==sc&&this._(e):e._$litType$!==void 0?this.$(e):e.nodeType!==void 0?this.T(e):hTe(e)?this.k(e):this._(e)}O(e){return this._$AA.parentNode.insertBefore(e,this._$AB)}T(e){this._$AH!==e&&(this._$AR(),this._$AH=this.O(e))}_(e){this._$AH!==Ye&&M2(this._$AH)?this._$AA.nextSibling.data=e:this.T(xv.createTextNode(e)),this._$AH=e}$(e){const{values:i,_$litType$:r}=e,n=typeof r=="number"?this._$AC(e):(r.el===void 0&&(r.el=zj.createElement(Rse(r.h,r.h[0]),this.options)),r);if(this._$AH?._$AD===n)this._$AH.p(i);else{const s=new fTe(n,this),o=s.u(this.options);s.p(i),this.T(o),this._$AH=s}}_$AC(e){let i=LY.get(e.strings);return i===void 0&&LY.set(e.strings,i=new zj(e)),i}k(e){tU(this._$AH)||(this._$AH=[],this._$AR());const i=this._$AH;let r,n=0;for(const s of e)n===i.length?i.push(r=new zse(this.O(C2()),this.O(C2()),this,this.options)):r=i[n],r._$AI(s),n++;n<i.length&&(this._$AR(r&&r._$AB.nextSibling,n),i.length=n)}_$AR(e=this._$AA.nextSibling,i){for(this._$AP?.(!1,!0,i);e!==this._$AB;){const r=MY(e).nextSibling;MY(e).remove(),e=r}}setConnected(e){this._$AM===void 0&&(this._$Cv=e,this._$AP?.(e))}},$D=class{get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}constructor(e,i,r,n,s){this.type=1,this._$AH=Ye,this._$AN=void 0,this.element=e,this.name=i,this._$AM=n,this.options=s,r.length>2||r[0]!==""||r[1]!==""?(this._$AH=Array(r.length-1).fill(new String),this.strings=r):this._$AH=Ye}_$AI(e,i=this,r,n){const s=this.strings;let o=!1;if(s===void 0)e=U_(this,e,i,0),o=!M2(e)||e!==this._$AH&&e!==sc,o&&(this._$AH=e);else{const a=e;let l,h;for(e=s[0],l=0;l<s.length-1;l++)h=U_(this,a[r+l],i,l),h===sc&&(h=this._$AH[l]),o||=!M2(h)||h!==this._$AH[l],h===Ye?e=Ye:e!==Ye&&(e+=(h??"")+s[l+1]),this._$AH[l]=h}o&&!n&&this.j(e)}j(e){e===Ye?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,e??"")}},mTe=class extends $D{constructor(){super(...arguments),this.type=3}j(e){this.element[this.name]=e===Ye?void 0:e}},gTe=class extends $D{constructor(){super(...arguments),this.type=4}j(e){this.element.toggleAttribute(this.name,!!e&&e!==Ye)}},yTe=class extends $D{constructor(e,i,r,n,s){super(e,i,r,n,s),this.type=5}_$AI(e,i=this){if((e=U_(this,e,i,0)??Ye)===sc)return;const r=this._$AH,n=e===Ye&&r!==Ye||e.capture!==r.capture||e.once!==r.once||e.passive!==r.passive,s=e!==Ye&&(r===Ye||n);n&&this.element.removeEventListener(this.name,this,r),s&&this.element.addEventListener(this.name,this,e),this._$AH=e}handleEvent(e){typeof this._$AH=="function"?this._$AH.call(this.options?.host??this.element,e):this._$AH.handleEvent(e)}},vTe=class{constructor(e,i,r){this.element=e,this.type=6,this._$AN=void 0,this._$AM=i,this.options=r}get _$AU(){return this._$AM._$AU}_$AI(e){U_(this,e)}};const bTe=eU.litHtmlPolyfillSupport;bTe?.(zj,iU),(eU.litHtmlVersions??=[]).push("3.3.2");const wTe=(t,e,i)=>{const r=i?.renderBefore??e;let n=r._$litPart$;if(n===void 0){const s=i?.renderBefore??null;r._$litPart$=n=new iU(e.insertBefore(C2(),s),s,void 0,i??{})}return n._$AI(t),n};const rU=globalThis;let Uw=class extends y0{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){const e=super.createRenderRoot();return this.renderOptions.renderBefore??=e.firstChild,e}update(e){const i=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(e),this._$Do=wTe(i,this.renderRoot,this.renderOptions)}connectedCallback(){super.connectedCallback(),this._$Do?.setConnected(!0)}disconnectedCallback(){super.disconnectedCallback(),this._$Do?.setConnected(!1)}render(){return sc}};Uw._$litElement$=!0,Uw.finalized=!0,rU.litElementHydrateSupport?.({LitElement:Uw});const _Te=rU.litElementPolyfillSupport;_Te?.({LitElement:Uw});(rU.litElementVersions??=[]).push("4.2.2");class O2{constructor(){this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}}const xTe=(t,e)=>{const i=e/STe;let r=0;const n=setInterval(()=>{r+=i,r>=e&&(clearInterval(n),t())},i);return n},STe=4,TTe=(t,e,i)=>{const r=Object.keys(t),n=r.length;Tw===void 0&&queueMicrotask(kD),Tw??=new Map;let s=Tw.get(t);return s===void 0&&(s={callbacks:[],keyCount:n},Tw.set(t,s)),s.keyCount!==n&&(s.callbacks.forEach(o=>o(r)),s.callbacks=[],s.keyCount=n),s.callbacks.push(o=>{const a=h=>Or(e,null,h),l=o[n];l===void 0?a(void 0):t[l]===i?a(l):a(void 0)}),i};let Tw;const kD=()=>{Tw?.forEach(({callbacks:t},e)=>{const i=Object.keys(e);t.forEach(r=>r(i))}),Tw=void 0},Nse=(t,e,i)=>{const r=t.manager;return r.V!==Ye&&r.V!==i&&r.S(void 0,void 0),r.T.length===0&&queueMicrotask(()=>r.S(void 0,void 0)),r.V=i,r.T.push((n,s)=>Or(e,void 0,i===s?n:void 0)),i},nU=(t=[B$(),...Cse()],e,i)=>{const r=Array.isArray(t)?t:[t];let n=r.length+1;const s=o=>{n-=1,o!==void 0&&(n=Math.min(n,0)),n===0&&e(o)};r.forEach(o=>TTe(o,a=>s(a===void 0?void 0:{key:a,host:o,isReactive:!1}),i));for(const o of r)if("manager"in o&&o.manager.component===o){Nse(o,a=>s(a===void 0?void 0:{key:a,host:o,isReactive:!0}),i);break}return i},jse=(t="",e={},i=B$())=>{const r={emit:n=>{t===""&&kD();const s=new CustomEvent(t,{detail:n,cancelable:!0,bubbles:!0,composed:!0,...e});return i.el.dispatchEvent(s),s}};return t===""&&nU(void 0,n=>t=n.key,r),r},Ge=jse.bind(null,"");var Fse;Fse=Z9;class sU{constructor(e){this.#t=[],this.#e=[],this.#i=[],this.#l=[],this.#c=[],this.#u=[],this.#d=[],this.#h=[],this.#o=[],this.#a=!1,this.P=new O2,this.connectedCalled=!1,this.loadedCalled=!1,this[Fse]=!0,this.#s=[];const i=this,r=e??B$();i.#r=r,i.ready=i.P.promise,i.#n=NY(i),i.component=r,i.#r.addController(i),i.#r.manager===void 0||(Ise(i),queueMicrotask(()=>i.catchUpLifecycle()))}#t;#e;#i;#l;#c;#u;#d;#h;#o;#a;#r;catchUpLifecycle(){const{manager:e}=this.#r;e.connectedCalled&&!this.connectedCalled&&this.triggerConnected(),e.#a&&this.triggerLoad().then(()=>e.loadedCalled&&this.triggerLoaded()).catch(console.error)}#n;get exports(){return this.#n}set exports(e){const i=this.#n;i!==e&&(this.#n=e,this.#s.forEach(Or),this.connectedCalled&&this.O!==!1&&this.#r.requestUpdate(this.O,i)),this.P.resolve(e)}setProvisionalExports(e,i=!0){this.#n=i?NY(e):e,this.#s.forEach(Or)}#s;watchExports(e){const i=()=>e(this.#n);return this.#s.push(i),()=>{this.#s.splice(this.#s.indexOf(i),1)}}get use(){return xw(this.#r),KSe}get useRef(){return xw(this.#r),QSe}get useRefSync(){return xw(this.#r),J9}controllerRemoved(){this.#r.el.isConnected&&this.triggerDisconnected(),this.triggerDestroy()}onConnected(e){this.#t.push(e)}onDisconnected(e){this.#e.push(e)}onLoad(e){this.#i.push(e)}onLoaded(e){this.#l.push(e)}onUpdate(e){this.#c.push(e)}onUpdated(e){this.#u.push(e)}onDestroy(e){this.#d.push(e)}onLifecycle(e){this.#h.push(e),this.connectedCalled&&this.#r.el.isConnected&&this.#p(e)}triggerConnected(){const e=this;e.hostConnected&&Or(e.hostConnected,e),e.#t.forEach(Or),e.triggerLifecycle(),e.connectedCalled=!0}triggerDisconnected(){const e=this;e.hostDisconnected&&Or(e.hostDisconnected,e),e.#e.forEach(Or),e.#o.forEach(Or),e.#o=[]}async triggerLoad(){if(this.#a)return;this.#a=!0;const e=this;e.hostLoad&&await Dj(e.hostLoad,e),this.#i.length>0&&await Promise.allSettled(this.#i.map(Dj)),this.P.resolve(this.#n)}triggerLoaded(){this.loadedCalled||(this.hostLoaded&&Or(this.hostLoaded,this),this.#l.forEach(Or),this.loadedCalled=!0)}triggerUpdate(e){this.hostUpdate&&Or(this.hostUpdate,this,e),this.#c.forEach(zY,e)}triggerUpdated(e){this.hostUpdated&&Or(this.hostUpdated,this,e),this.#u.forEach(zY,e)}triggerDestroy(){this.hostDestroy&&Or(this.hostDestroy,this),this.#d.forEach(Or)}triggerLifecycle(){this.hostLifecycle&&this.#p(()=>this.hostLifecycle()),this.#h.forEach(this.#p,this)}#p(e){xw(this.#r);const i=Or(e);(Array.isArray(i)?i:[i]).forEach(n=>{typeof n=="function"?this.#o.push(n):typeof n=="object"&&typeof n.remove=="function"&&this.#o.push(n.remove)})}}function zY(t){Or(t,void 0,this)}const oU=sU,NY=t=>{if(typeof t!="object"&&typeof t!="function"||t===null)return t;const e={get(r,n,s){if(!((n==="exports"||n==="_exports")&&n in r&&r[n]===i)&&(n in r||n in Promise.prototype||typeof n=="symbol"))return typeof r=="function"?r[n]:Reflect.get(r,n,s)}},i=new Proxy(t,e);return i},$Te=t=>t.replace(kTe,(e,i)=>`${i===0?"":"-"}${e.toLowerCase()}`),kTe=/[A-Z]+(?![a-z])|[A-Z]/gu,ETe=1,ITe=2,CTe=4,MTe=8,ATe=16,OTe=32,PTe=64,Vse=t=>{let e=t;for(;e=e.parentNode??e.host;)if(e?.constructor?.lumina){const i=e;return i.manager?.loadedCalled||(i.J??i._offspring).push(t),(i.I??i._postLoad).promise}return!1},jY={};function aU(){}const jC=Object.defineProperty,DTe=globalThis.HTMLElement??aU;var na,pp,d_,M$,Nj;const $7=class $7 extends DTe{constructor(){var n;super();Ic(this,M$);Ic(this,na);Ic(this,pp);Ic(this,d_);Cc(this,pp,{}),Cc(this,d_,[]),this.I=new O2,this.H=new O2,this.J=[];const i=this,r=i.constructor;i._offspring=i.J,i._postLoad=i.I,r.C?.forEach(s=>{Object.hasOwn(i,s)&&(Ri(i,pp)[s]=i[s],delete i[s])}),r.A?jx(n=i,M$,Nj).call(n,{a:r.A}):r.B.then(async s=>{var o;await r.K.p,jx(o=i,M$,Nj).call(o,await(s.default?.then(a=>typeof a=="function"?{a}:a)??s))}).catch(s=>{i.H.reject(s),setTimeout(()=>{throw s})})}static F(){for(const i of this.C??[])jC(this.prototype,i,{configurable:!0,enumerable:!0,get(){return Ri(this,pp)[i]},set(r){Ri(this,pp)[i]=r}});for(const i of this.E??[])jC(this.prototype,i,{async value(...r){return Ri(this,na)||await this.H.promise,await Ri(this,na)[i](...r)},configurable:!0});for(const i of this.D??[])jC(this.prototype,i,{value(...r){return Ri(this,na)[i](...r)},configurable:!0})}get manager(){return Ri(this,na)?.manager}attributeChangedCallback(i,r,n){Ri(this,na)?.attributeChangedCallback(i,r,n),Ri(this,na)||Ri(this,d_).push(i)}connectedCallback(){Ri(this,na)?Ri(this,na).connectedCallback?.():queueMicrotask(()=>this.G=Vse(this))}disconnectedCallback(){Ri(this,na)?.disconnectedCallback?.()}async componentOnReady(){return await this.H.promise,this}addController(){}requestUpdate(){Ri(this,na)?.requestUpdate()}};na=new WeakMap,pp=new WeakMap,d_=new WeakMap,M$=new WeakSet,Nj=function(i){const r=this.constructor,n=r.L,s=Ri(this,pp),o=Object.values(i).find(v=>v.L===n),a=`${n}--lazy`;let l=o;for(;l&&!Object.hasOwn(l,"lumina");)l=Object.getPrototypeOf(l);LTe(l),!r.A&&(r.A=o,customElements.define(a,o)),o.N=this;const f=document.createElement(a);o.N=void 0,Cc(this,na,f),Cc(this,pp,f),Ri(this,d_).forEach(v=>f.attributeChangedCallback(v,null,this.getAttribute(v))),Object.entries(s).forEach(RTe,f);const g=this.isConnected;(g||this.G)&&(f.connectedCallback?.(),g||f.disconnectedCallback())},$7.lumina=!0;let FY=$7;function RTe([t,e]){this[t]=e}const LTe=t=>{const e=t.prototype,i=Element.prototype;Object.hasOwn(e,"isConnected")||(e.setAttribute=function(n,s){i.setAttribute.call(this.el,n,s)},e.removeAttribute=function(n){i.removeAttribute.call(this.el,n)},jC(e,"isConnected",{get(){return Reflect.get(i,"isConnected",this.el)}}))};const sp={ATTRIBUTE:1,CHILD:2,PROPERTY:3,BOOLEAN_ATTRIBUTE:4},H$=t=>(...e)=>({_$litDirective$:t,values:e});let q$=class{constructor(e){}get _$AU(){return this._$AM._$AU}_$AT(e,i,r){this._$Ct=e,this._$AM=i,this._$Ci=r}_$AS(e,i){return this.update(e,i)}update(e,i){return this.render(...i)}};const zTe=H$(class extends q${constructor(t){if(super(t),t.type!==sp.ATTRIBUTE||t.name!=="class"||t.strings?.length>2)throw Error("`classMap()` can only be used in the `class` attribute and must be the only part in the attribute.")}render(t){return" "+Object.keys(t).filter(e=>t[e]).join(" ")+" "}update(t,[e]){if(this.st===void 0){this.st=new Set,t.strings!==void 0&&(this.nt=new Set(t.strings.join(" ").split(/\s/).filter(r=>r!=="")));for(const r in e)e[r]&&!this.nt?.has(r)&&this.st.add(r);return this.render(e)}const i=t.element.classList;for(const r of this.st)r in e||(i.remove(r),this.st.delete(r));for(const r in e){const n=!!e[r];n===this.st.has(r)||this.nt?.has(r)||(n?(i.add(r),this.st.add(r)):(i.remove(r),this.st.delete(r)))}return sc}});const Use="important",NTe=" !"+Use,jTe=H$(class extends q${constructor(t){if(super(t),t.type!==sp.ATTRIBUTE||t.name!=="style"||t.strings?.length>2)throw Error("The `styleMap` directive must be used in the `style` attribute and must be the only part in the attribute.")}render(t){return Object.keys(t).reduce((e,i)=>{const r=t[i];return r==null?e:e+`${i=i.includes("-")?i:i.replace(/(?:^(webkit|moz|ms|o)|)(?=[A-Z])/g,"-$&").toLowerCase()}:${r};`},"")}update(t,[e]){const{style:i}=t.element;if(this.ft===void 0)return this.ft=new Set(Object.keys(e)),this.render(e);for(const r of this.ft)e[r]==null&&(this.ft.delete(r),r.includes("-")?i.removeProperty(r):i[r]=null);for(const r in e){const n=e[r];if(n!=null){this.ft.add(r);const s=typeof n=="string"&&n.endsWith(NTe);r.includes("-")||s?i.setProperty(r,s?n.slice(0,-11):n,s?Use:""):i[r]=n}}return sc}});const Bse=t=>t.strings===void 0,FTe={},Hse=(t,e=FTe)=>t._$AH=e;const VY=H$(class extends q${constructor(t){if(super(t),t.type!==sp.PROPERTY&&t.type!==sp.ATTRIBUTE&&t.type!==sp.BOOLEAN_ATTRIBUTE)throw Error("The `live` directive is not allowed on child or event bindings");if(!Bse(t))throw Error("`live` bindings can only contain a single expression")}render(t){return t}update(t,[e]){if(e===sc||e===Ye)return e;const i=t.element,r=t.name;if(t.type===sp.PROPERTY){if(e===i[r])return sc}else if(t.type===sp.BOOLEAN_ATTRIBUTE){if(!!e===i.hasAttribute(r))return sc}else if(t.type===sp.ATTRIBUTE&&i.getAttribute(r)===e+"")return sc;return Hse(t),e}});const AT=(t,e)=>{const i=t._$AN;if(i===void 0)return!1;for(const r of i)r._$AO?.(e,!1),AT(r,e);return!0},WA=t=>{let e,i;do{if((e=t._$AM)===void 0)break;i=e._$AN,i.delete(t),t=e}while(i?.size===0)},qse=t=>{for(let e;e=t._$AM;t=e){let i=e._$AN;if(i===void 0)e._$AN=i=new Set;else if(i.has(t))break;i.add(t),BTe(e)}};function VTe(t){this._$AN!==void 0?(WA(this),this._$AM=t,qse(this)):this._$AM=t}function UTe(t,e=!1,i=0){const r=this._$AH,n=this._$AN;if(n!==void 0&&n.size!==0)if(e)if(Array.isArray(r))for(let s=i;s<r.length;s++)AT(r[s],!1),WA(r[s]);else r!=null&&(AT(r,!1),WA(r));else AT(this,t)}const BTe=t=>{t.type==sp.CHILD&&(t._$AP??=UTe,t._$AQ??=VTe)};let HTe=class extends q${constructor(){super(...arguments),this._$AN=void 0}_$AT(e,i,r){super._$AT(e,i,r),qse(this),this.isConnected=e._$AU}_$AO(e,i=!0){e!==this.isConnected&&(this.isConnected=e,e?this.reconnected?.():this.disconnected?.()),i&&(AT(this,e),WA(this))}setValue(e){if(Bse(this._$Ct))this._$Ct._$AI(e,this);else{const i=[...this._$Ct._$AH];i[this._$Ci]=e,this._$Ct._$AI(i,this,0)}}disconnected(){}reconnected(){}};const kr=()=>new qTe;let qTe=class{};const xL=new WeakMap,Ut=H$(class extends HTe{render(t){return Ye}update(t,[e]){const i=e!==this.G;return i&&this.G!==void 0&&this.rt(void 0),(i||this.lt!==this.ct)&&(this.G=e,this.ht=t.options?.host,this.rt(this.ct=t.element)),Ye}rt(t){if(this.isConnected||(t=void 0),typeof this.G=="function"){const e=this.ht??globalThis;let i=xL.get(e);i===void 0&&(i=new WeakMap,xL.set(e,i)),i.get(this.G)!==void 0&&this.G.call(this.ht,void 0),i.set(this.G,t),t!==void 0&&this.G.call(this.ht,t)}else this.G.value=t}get lt(){return typeof this.G=="function"?xL.get(this.ht??globalThis)?.get(this.G):this.G?.value}disconnected(){this.lt===this.ct&&this.rt(void 0)}reconnected(){this.rt(this.ct)}});class GTe extends oU{constructor(e){super(e),this.destroyed=!1,this.R=!1,this.V=Ye,this.T=[],this.#i=new WeakMap,this.#e=e,this.exports=void 0,this.hasDestroy=jj in e&&typeof e.destroy=="function",Uw.prototype.addController.call(e,{hostConnected:()=>{if(this.destroyed){const i=e.el.localName;throw e.el.remove(),new Error(`The ${i} component has already been destroyed. It cannot be used again. If you meant to disconnect and reconnect a component without automatic destroy, set the ${jj} prop.`)}this.#t!==void 0&&clearTimeout(this.#t),kD();for(const i of e.M)"triggerConnected"in i?i.triggerConnected():Or(i.hostConnected,i)},hostDisconnected:()=>{for(const i of e.M)"triggerDisconnected"in i?i.triggerDisconnected():Or(i.hostDisconnected,i);this.hasDestroy&&!this.destroyed&&this.U()},hostUpdate:()=>{for(const i of e.M)"triggerUpdate"in i?i.triggerUpdate(this.Q):Or(i.hostUpdate,i,this.Q)},hostUpdated:()=>{for(const i of e.M)"triggerUpdated"in i?i.triggerUpdated(this.Q):Or(i.hostUpdated,i,this.Q);this.Q=void 0}}),queueMicrotask(()=>this.R=!0),xw(e)}#t;#e;async destroy(){if(!this.destroyed){this.#e.el.isConnected&&(this.hasDestroy=!1,this.#e.el.remove()),this.#t=void 0,this.destroyed=!0;for(const e of this.#e.M)"triggerDestroy"in e?e.triggerDestroy():Or(e.hostDestroy,e);this.#e.M.splice(0)}}U(){if(this.#t!==void 0&&clearTimeout(this.#t),!this.#e.el.isConnected&&!this.#e.autoDestroyDisabled){const e=()=>{this.#e.destroy()};this.#t=xTe(e,WTe)}}S(e,i){const r=this.T;this.V=Ye,this.T=[],r.forEach(n=>n(e,i))}#i;W(e,i){(typeof i=="object"&&i!==null||typeof i=="function")&&this.#i.set(i,e)}X(e){if(typeof e=="object"&&e!==null||typeof e=="function")return this.#i.get(e)}}let WTe=1e3;const jj="autoDestroyDisabled";var Yy,A$,O$,Zy,fd,g1,Gse,Wse;const v2=class v2 extends Uw{constructor(){super();Ic(this,g1);Ic(this,Yy);Ic(this,A$);Ic(this,O$);Ic(this,Zy);Ic(this,fd);this.M=[],this.manager=new GTe(this);const i=this,r=i.constructor,n=r.N,s=r.K.o,o=v2.prototype.shouldUpdate;Cc(i,Zy,n?.H??new O2),i.I=n?.I??new O2,i.J=n?.J??[],i._offspring=i.J,i._postLoad=i.I,i.el=n??i,Cc(i,O$,i.enableUpdating),i.enableUpdating=aU,i.shouldUpdate!==o&&(Cc(i,A$,i.shouldUpdate),i.shouldUpdate=o),s&&(Cc(i,Yy,new Map),r.elementProperties.forEach((a,l)=>Ri(i,Yy).set(l,s())))}static finalizeStyles(i){const r=super.finalizeStyles(i),n=this.shadowRootOptions===jY;return this.K?.commonStyles===void 0||n?r:[this.K.commonStyles,...r]}static createProperty(i,r){const n=typeof r=="number"?r:Array.isArray(r)?r[0]:0,s=Array.isArray(r)?r[1]:void 0,o=s?.hasChanged??Q9,a={attribute:n&ETe&&typeof i=="string"?$Te(i):!1,reflect:!!(n&ITe),type:n&CTe?Boolean:n&MTe?Number:void 0,state:!!(n&ATe),readOnly:!!(n&OTe),noAccessor:!!(n&PTe),c:!1,...s,hasChanged(l,h){const f=o(l,h);return a.c=f,f}};super.createProperty(i,a)}static getPropertyDescriptor(i,r,n){const s=this.K,o=super.getPropertyDescriptor(i,r,n);return n.d=o,{...o,get(){return s.t?.(Ri(this,Yy).get(i)),o.get?.call(this)},set(a){const l=this.manager;if(n.readOnly&&!Rj&&(l.R||l.connectedCalled))throw Error(`Cannot assign to read-only property "${i}" of ${this.el.localName}. Trying to assign "${a}"`);o.set.call(this,a??void 0),n.c&&Ri(this,Yy)?.get(i)?.notify(),l.T.length>0&&(kD(),l?.S(i,a))}}}connectedCallback(){if(this.el.hasAttribute("defer-hydration"))return;const i=this.constructor.K.c?.(()=>this.requestUpdate());Cc(this,fd,i);const r=!this.manager.connectedCalled;super.connectedCallback(),r?queueMicrotask(()=>jx(this,g1,Wse).call(this).catch(n=>{Ri(this,Zy).reject(n),setTimeout(()=>{throw n})})):i&&this.requestUpdate()}disconnectedCallback(){super.disconnectedCallback(),Ri(this,fd)?.destroy(),Cc(this,fd,void 0)}createRenderRoot(){const i=this.el.shadowRoot,r=this.constructor,n=r.shadowRootOptions,o=i??(n===jY?this.el:this.el.attachShadow(n));if(this.isConnected){const a=o.getRootNode();a.adoptedStyleSheets=[...a.adoptedStyleSheets,...r.elementStyles.map(l=>"styleSheet"in l?l.styleSheet:l)]}return o}shouldUpdate(i){var r;return this.manager.Q=i,((r=Ri(this,A$))==null?void 0:r.call(this,i))??!0}update(i){Ri(this,fd)?jx(this,g1,Gse).call(this,i):super.update(i)}listen(i,r,n){const s=r?.bind(this)??r;this.manager.onLifecycle(()=>(this.el.addEventListener(i,s,n),()=>this.el.removeEventListener(i,s,n)))}listenOn(i,r,n,s){const o=n?.bind(this)??n;this.manager.onLifecycle(()=>(i.addEventListener(r,o,s),()=>i.removeEventListener(r,o,s)))}async componentOnReady(){return await Ri(this,Zy).promise,this}addController(i){this.M.push(i),!(Z9 in i)&&this.renderRoot&&this.el.isConnected&&i.hostConnected?.()}removeController(i){this.M.splice(this.M.indexOf(i),1),i.controllerRemoved?.()}};Yy=new WeakMap,A$=new WeakMap,O$=new WeakMap,Zy=new WeakMap,fd=new WeakMap,g1=new WeakSet,Gse=function(i){try{Ri(this,fd).clear(),this.constructor.K.r(Ri(this,fd),()=>OG(v2.prototype,this,"update").call(this,i))}catch(r){throw Ri(this,fd).clear(),r}},Wse=async function(){const i=this.el.G??Vse(this.el);i&&await i;const r=[];for(const s of this.M)"triggerLoad"in s?r.push(s.triggerLoad()):r.push(Dj(s.hostLoad,s));await Promise.all(r),await this.load?.(),this.manager.hasDestroy&&this.manager.onUpdate(s=>s.has(jj)&&this.manager.U()),Ri(this,O$).call(this,!0),this.performUpdate(),this.I.resolve(),await Promise.resolve();const n=this.J.filter(s=>!s.manager?.loadedCalled);n.length&&await Promise.allSettled(n.map(async s=>await s.componentOnReady())),this.J.length=0,this.el.setAttribute(this.constructor.K.hydratedAttribute,"");for(const s of this.M)"triggerLoaded"in s?s.triggerLoaded():Or(s.hostLoaded,s);this.loaded?.(),Ri(this,Zy).resolve()},v2.lumina=!0;let wi=v2;const Yse=t=>{let e;const i=n=>{e=new URL(n,globalThis.location?.href||void 0).href},r={...t,getAssetPath(n){const s=new URL(n,e);return s.origin!==globalThis.location?.origin?s.href:s.pathname},setAssetPath:i,customElement(n,s){s.K=r,s.L=n,customElements.get(n)||customElements.define(n,s)}};return i(t.defaultAssetPath),r},ce=t=>typeof t=="object"&&t!=null?zTe(t):t,lU=t=>typeof t=="object"&&t!=null?jTe(t):t,oc=Ye;function $p(t,e,i){i==null?t.removeAttribute(e):t.setAttribute(e,i)}const B_={toAttribute:t=>t===!0?"":t===!1?null:t},YTe={},ZTe=(t,e)=>i=>{const r=i.tagName;let n=YTe;const s={name:r,get prototype(){if(n===void 0){const a=customElements.get(r);if(!a)throw new Error(`Custom element "${r}" not found`);a.F?.(),a.F=aU,n=a.prototype,Object.defineProperty(s,"prototype",{value:n})}return n}},o=e({...i,react:t,elementClass:s});return n=void 0,o},jp=(t,e)=>({tagName:t,events:e}),Zse="calcite-mode-auto",Jse="calcite-mode-dark",JTe="calcite-mode-light",sl={autoMode:Zse,darkMode:Jse,lightMode:JTe,rtl:"calcite--rtl",calciteAnimate:"calcite-animate",calciteAnimateInUp:"calcite-animate__in-up",calciteAnimateInDown:"calcite-animate__in-down",calciteAnimateInRight:"calcite-animate__in-right",calciteAnimateInLeft:"calcite-animate__in-left"},ED={filter:250,nextTick:0,resize:150,reposition:100},XTe=10,KTe=25;function UY(){const{classList:t}=document.body,e=window.matchMedia("(prefers-color-scheme: dark)").matches,i=()=>t.contains(Jse)||t.contains(Zse)&&e?"dark":"light",r=o=>document.body.dispatchEvent(new CustomEvent("calciteModeChange",{bubbles:!0,detail:{mode:o}})),n=o=>{s!==o&&r(o),s=o};let s=i();r(s),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",o=>n(o.matches?"dark":"light")),new MutationObserver(()=>n(i())).observe(document.body,{attributes:!0,attributeFilter:["class"]})}const OT=globalThis.calciteConfig,QTe=OT?.focusTrapStack||[],e2e=OT?.logLevel||"info",BY="3.3.3",t2e="2025-10-08",i2e="7391af08e";function r2e(){if(OT&&OT.version)return;console.info(`Using Calcite Components ${BY} [Date: ${t2e}, Revision: ${i2e}]`);const t=OT||globalThis.calciteConfig||{};Object.defineProperty(t,"version",{value:BY,writable:!1}),globalThis.calciteConfig=t}document.readyState==="interactive"?UY():document.addEventListener("DOMContentLoaded",UY,{once:!0});queueMicrotask(r2e);const n2e=Yse({defaultAssetPath:"https://js.arcgis.com/calcite-components/3.3.3/",hydratedAttribute:"calcite-hydrated"}),{customElement:Pi,getAssetPath:Xse,setAssetPath:s2e}=n2e;let Kse=!1;const o2e=t=>{Kse=!0,s2e(t)};let Qse;function a2e(){Kse||o2e(Ao(Gr(Qse)))}function ID(t){const e=[];for(const i of Object.keys(t))customElements.get(`calcite-${i}`)||e.push(t[i]?.());return e.length>0?Promise.all(e):null}Qse="components/assets";const eoe=Symbol("widget"),toe=Symbol("widget-test-data"),l2e=[],c2e={},YA=new WeakMap;function ioe(t,e){let i=e.children;if(i?.length)for(let n=0;n<i.length;++n)i[n]=ioe(t,i[n]);else i=l2e;const r=e.vnodeSelector;if(ZA(r)){const n=e.properties||c2e,s=n.key||r,o={key:s,afterCreate:u2e,afterUpdate:d2e,afterRemoved:roe,parentWidget:t,widgetConstructor:r,widgetProperties:{...n,key:s,children:i}};return{vnodeSelector:r.vnodeSelector,properties:o,children:void 0,text:void 0,domNode:null}}return e}function u2e(t,e,i,{parentWidget:r,widgetConstructor:n,widgetProperties:s}){const o=new n(s);o.container=t,YA.set(t,o),o.afterCreate?.(o,t),r.addHandles(oi(()=>roe(t))),queueMicrotask(()=>{o[toe].projector?.renderNow()})}function d2e(t,e,i,{widgetProperties:r}){const n=YA.get(t);n&&(n.set(r),n.afterUpdate?.(n,t))}function roe(t){const e=YA.get(t);e&&(e.afterRemoved?.(e,t),e.destroy(),YA.delete(t))}function ZA(t){return typeof t=="function"&&t[eoe]}const HY=new Set;function h2e(t){HY.add(t),t.finally(()=>HY.delete(t))}function p2e(t){return oi()}const CD=new Map;function noe(){CD.clear()}function f2e(t){return CD.get(t)}function m2e(t,e){CD.set(t,e)}function SL(t){CD.delete(t)}function g2e(...t){const e=Eo.acquire();for(let r=0;r<t.length;r++){const n=t[r],s=typeof n;if(s==="string")e.push(n);else if(Array.isArray(n))e.push.apply(e,n);else if(s==="object")for(const o in n)n[o]&&e.push(o)}const i=e.join(" ");return Eo.release(e),i}(()=>{const t=new Map,e=new ResizeObserver(r=>{noe();for(const n of r)t.get(n.target)?.(n)}),i=(r,n,s)=>(t.set(r,n),e.observe(r,s),oi(()=>{e.unobserve(r),t.delete(r)}));return(r,n,s)=>{let o=null;return Fv([ft(()=>typeof r=="function"?r():r,a=>{o?.remove(),a&&(o=i(a,n,s))},to),oi(()=>o?.remove())])}})();function y2e(t){const e=t?.closest("[dir]");return e!==null&&e instanceof HTMLElement&&e.dir==="rtl"||document.dir==="rtl"}function Dit(t){const e="data-node-ref";this[t.getAttribute(e)]=null}function Rit(t){const e="data-node-ref";this[t.getAttribute(e)]=t}function v2e(t){return t==="Enter"||t===" "}async function soe(t,e){await Nbe(R$(e));const i=typeof t=="function"?t():t;i&&("setFocus"in i&&typeof i.setFocus=="function"?await i.setFocus():i instanceof HTMLElement&&i.focus())}function b2e(t,e){return t.assignedElements({flatten:!0}).filter(r=>r.matches(e))}const w2e=(t,e)=>{let i=t;for(;i;){if(i===e)return!0;if(!i.parentNode)return!1;i.parentNode instanceof ShadowRoot?i=i.parentNode.host:i=i.parentNode}return!1},ooe=(t,e,i)=>{const r=_2e(e).subscribe;return r(n=>{n.some(o=>w2e(t,o.target))&&i()})},TL={},_2e=t=>{const e=t.join(","),i=TL[e];if(i!==void 0)return i;const r=new Set,n=new MutationObserver(o=>r.forEach(a=>a(o)));globalThis.document&&n.observe(document.documentElement,{attributes:!0,attributeFilter:t,subtree:!0});const s={subscribe:o=>(r.add(o),()=>{r.delete(o),r.size===0&&(n.disconnect(),TL[e]=void 0)})};return TL[e]=s,s},aoe=(t,e)=>{let i=t;for(;i;){const r=i.closest?.(e);if(r)return r;const n=i.getRootNode?.();if(n===globalThis.document)return;i=n.host}};function x2e(t){const e=aoe(t,".calcite-mode-dark, .calcite-mode-light, .calcite-mode-auto");return e?.classList.contains("calcite-mode-dark")||e?.classList.contains("calcite-mode-auto")&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}const loe=(t,e,i)=>aoe(t,`[${e}]`)?.getAttribute(e)??i;var qY;let S2e=0;function coe(t,e){const i=Object.prototype.hasOwnProperty;for(const r in e)i.call(e,r)&&i.call(t,r)&&(t[r]!=null&&e[r]!=null&&typeof t[r]=="object"&&typeof e[r]=="object"?coe(t[r],e[r]):t[r]=e[r]);return t}const T2e=WSe({postProcessProjectionOptions(t){const e=t.eventHandlerInterceptor,i=/capture$/i;t.eventHandlerInterceptor=(r,n,s,o)=>{const a=e?.(r,n,s,o),l=i.test(r);if(!((r=r.replace(i,"")).toLowerCase()in s)||l){const h=r[2].toLowerCase()+r.slice(3),f=w=>a?.call(s,w);s.addEventListener(h,f,l);const g=()=>s.removeEventListener(h,f,l),v=o.afterRemoved;o.afterRemoved=w=>{v?.(w),g()}}return a}},handleInterceptedEvent(t,e,i,r){const{eventPhase:n,type:s}=r,o=n===Event.CAPTURING_PHASE;let a=`on${s}${o?"capture":""}`;const l=e.properties;(l&&a in l||(a=`on${s[0].toUpperCase()}${s.slice(1)}${o?"Capture":""}`,l&&a in l))&&(noe(),t.scheduleRender(),l[a].call(l.bind||i,r))}});let $L=!1;var cv;let es=(cv=class extends wD(k1){constructor(e,i){super(e,i),this._attached=!1,this._projector=T2e,this._readyForTrueRender=!1,this.key=this,this.autoRenderingEnabled=!0,this._loadLocale=cD(async()=>{if(this._messageBundleProps?.length){const l=await Promise.allSettled(this._messageBundleProps.map(async({bundlePath:h,propertyName:f})=>{if(this.destroyed)return;let g=await tse(h);this.destroyed||(this.uiStrings&&Object.keys(this.uiStrings)&&(g=coe(ne(g),this.uiStrings)),this[f]=g)}));if(this.destroyed)return;for(const h of l)h.status==="rejected"&&Ee.getLogger(this).error("widget-intl:locale-error",this.declaredClass,h.reason)}await this.loadLocale()}),this.addHandles(p2e()),a2e();const r="esri-widget-uid-"+A1(),n=this.render.bind(this);this._trackingTarget=new L$(()=>{this.autoRenderingEnabled&&this.scheduleRender()});const s=()=>({vnodeSelector:"div",properties:{key:`${r}-hidden`,class:"",styles:{display:"none"}},domNode:null,children:void 0,text:void 0}),o=()=>{if(!this._readyForTrueRender||this.destroyed)return null;const l=n()??s(),h=l.properties??={};if(h.key??=r,ZA(l.vnodeSelector)){if(!this.visible)return s()}else this.visible?h.styles||(h.styles={}):(h.class="",h.styles={display:"none"}),h.styles.display??="";let f=0;return l.children?.forEach(g=>{ZA(g.vnodeSelector)||(g.properties??={},g.properties.key??=`${this.id}--${f++}`)}),ioe(this,l)};this.render=()=>{if($L)return o();let l=f2e(this)??null;if(l)return l;this._trackingTarget.clear(),$L=!0;try{l=Pd(this._trackingTarget,o)}catch(h){throw Ee.getLogger(this).error(h),h}finally{$L=!1}return l&&m2e(this,l),l};const a=this.beforeFirstRender();a?this._resourcesFetch=a.then(()=>{this.destroyed||(this._readyForTrueRender=!0,this._postInitialize())}):(this._resourcesFetch=Promise.resolve().then(()=>{this.destroyed||this._postInitialize()}),this._readyForTrueRender=!0),this.addResolvingPromise(this._resourcesFetch),h2e(this._resourcesFetch)}normalizeCtorArgs(e,i){const r={...e};return i&&(r.container=i),r}postInitialize(){}beforeFirstRender(){const e=this.loadDependencies();return this._messageBundleProps?.length||e?Promise.all([e,this._loadLocale()]).then(()=>{}).catch(oW):null}loadDependencies(){return null}loadLocale(){return null}destroy(){this.destroyed||(pr(this._trackingTarget),pr(this.viewModel),this._detach(this.container),this._set("container",null),this.render=()=>null,this._projector=null,SL(this))}set container(e){this._get("container")||this._set("container",e)}castContainer(e){return U9(e)}get destroyed(){return super.destroyed}get domNode(){return this.container}set domNode(e){this.container=e}get icon(){return null}set icon(e){this._overrideIfSome("icon",e)}get id(){return this._get("id")||this.container?.id||Date.now().toString(16)+"-widget-"+S2e++}set id(e){e&&this._set("id",e)}get label(){return this.declaredClass.split(".").pop()}set label(e){this._overrideIfSome("label",e)}get renderable(){return this._resourcesFetch}get visible(){return this._get("visible")}set visible(e){this._set("visible",e)}get[(qY=eoe,toe)](){return{projector:this._projector}}render(){throw new Error("not implemented")}scheduleRender(){this.destroyed||(SL(this),this._projector.scheduleRender())}classes(...e){return g2e.apply(this,e)}renderNow(){SL(this),this._projector.renderNow()}_postInitialize(){if(this.destroyed)return;this.scheduleRender(),this._delegatedEventNames?.length&&this.addHandles(ft(()=>this.viewModel,(i,r)=>{r&&this.removeHandles("delegated-events"),i&&lD(i)&&this.addHandles(this._delegatedEventNames.map(n=>Sp(i,n,s=>{this.emit(n,s)})),"delegated-events")},to)),this.postInitialize();const e=async()=>{await this._loadLocale().catch(oW),this.scheduleRender()};this.addHandles([qre(e),ft(()=>this.uiStrings,e)]),this.addHandles(wa(()=>this.container,i=>{this.destroyed||this._attach(i)},{initial:!0,once:!0}))}_attach(e){e&&(this._projector.merge(e,this.render),this._attached=!0)}_detach(e){this._attached&&(this._projector.detach(this.render),this._attached=!1),e?.parentNode?.removeChild(e)}},cv[qY]=!0,cv.vnodeSelector="div",cv);u([p()],es.prototype,"_readyForTrueRender",void 0),u([p({value:null})],es.prototype,"container",null),u([bi("container")],es.prototype,"castContainer",null),u([p()],es.prototype,"icon",null),u([p()],es.prototype,"id",null),u([p()],es.prototype,"label",null),u([p()],es.prototype,"renderable",null),u([p()],es.prototype,"uiStrings",void 0),u([p()],es.prototype,"viewModel",void 0),u([p({value:!0})],es.prototype,"visible",null),u([p()],es.prototype,"key",void 0),u([p()],es.prototype,"children",void 0),u([p()],es.prototype,"afterCreate",void 0),u([p()],es.prototype,"afterUpdate",void 0),u([p()],es.prototype,"afterRemoved",void 0),es=u([j("esri.widgets.Widget")],es);const G$=es;function H_(t){return(e,i)=>{e.hasOwnProperty("_messageBundleProps")||(e._messageBundleProps=e._messageBundleProps?e._messageBundleProps.slice():[]),e._messageBundleProps.push({bundlePath:t,propertyName:i})}}var $2e=function(t){return{vnodeSelector:"",properties:void 0,children:void 0,text:t.toString(),domNode:null}},uoe=function(t,e){for(var i=0,r=t.length;i<r;i++){var n=t[i];Array.isArray(n)?uoe(n,e):n!=null&&n!==!1&&(n.hasOwnProperty("vnodeSelector")||(n=$2e(n)),e.push(n))}},k2e=function(t,e){for(var i=[],r=2;r<arguments.length;r++)i[r-2]=arguments[r];if(i.length===1&&typeof i[0]=="string")return{vnodeSelector:t,properties:e||void 0,children:void 0,text:i[0],domNode:null};var n=[];return uoe(i,n),{vnodeSelector:t,properties:e||void 0,children:n,text:void 0,domNode:null}};function dr(t,e,...i){return typeof t!="function"||ZA(t)?k2e(t,e??null,...i):t(e,...i)}function Lit(...t){return t}const E2e="--esri-calcite-mode-name";function I2e(){const t=getComputedStyle(document.body).getPropertyValue(E2e).replaceAll(/\W/g,"").toLowerCase();return t==="dark"||t==="light"?t:void 0}const doe="calcite-mode-";function hoe(t){return I2e()??x2e(t??document.body)}function zit(t){return hoe(t)==="dark"}function poe(t){return`${doe}${hoe(t)}`}function C2e(t){const e=poe(t);M2e(t),t.classList.add(e)}function M2e(t){Array.from(t.classList).forEach(e=>{e.startsWith(doe)&&t.classList.remove(e)})}const kL="esri-identity-modal",EL={base:kL,info:`${kL}__info`,notice:`${kL}__notice`},A2e="ArcGIS Online";let ja=class extends G${constructor(e,i){super(e,i),this.container=document.createElement("div"),this.error=null,this.oAuthPrompt=!1,this.open=!1,this.signingIn=!1,this.server=null,this.resource=null,this._usernameInputNode=null,this._passwordInputNode=null,document.body.appendChild(this.container)}loadDependencies(){return ID({button:()=>ke(()=>Promise.resolve().then(()=>R3),void 0),dialog:()=>ke(()=>import("./index-C2_pCOhP.js"),[]),input:()=>ke(()=>Promise.resolve().then(()=>GKe),void 0),label:()=>ke(()=>import("./index-DGY-LyQq.js"),[]),notice:()=>ke(()=>import("./index-Ds8jBaO4.js"),[])})}get title(){return this.commonMessages?.auth.signIn}render(){const{open:e,title:i,messages:r,signingIn:n,oAuthPrompt:s,server:o,resource:a,error:l}=this,{info:h,oAuthInfo:f,lblItem:g,invalidUser:v,noAuthService:w,lblUser:S,lblPwd:T,lblCancel:C,lblSigning:I,lblOk:A}=r;return dr("div",{class:this.classes(EL.base,poe(this.container))},dr("form",{bind:this,onsubmit:this._submit},dr("calcite-dialog",{bind:this,heading:i,modal:!0,open:e,outsideCloseDisabled:!0,scale:"s",widthScale:"s",onCalciteDialogClose:this._cancel,onCalciteDialogOpen:this._focusUsernameInput},dr("div",{class:EL.info},yxe(s?f:h,{server:o&&/\.arcgis\.com/i.test(o)?A2e:o,resource:`(${a||g})`})),l?dr("calcite-notice",{class:EL.notice,icon:"exclamation-mark-triangle",kind:"danger",open:!0},dr("div",{slot:"message"},l.details?.httpStatus?v:w)):null,s?null:[dr("calcite-label",null,S,dr("calcite-input",{afterCreate:P=>this._usernameInputNode=P,autocomplete:"off",bind:this,name:"username",required:!0,spellcheck:!1,type:"text",value:""})),dr("calcite-label",null,T,dr("calcite-input",{afterCreate:P=>this._passwordInputNode=P,bind:this,name:"password",required:!0,type:"password",value:""}))],dr("calcite-button",{appearance:"outline",bind:this,onclick:this._cancel,slot:"footer-end",type:"button"},C),dr("calcite-button",{loading:!!n,slot:"footer-end",type:"submit"},n?I:A))))}_focusUsernameInput(){return soe(()=>this._usernameInputNode)}_cancel(){this._set("signingIn",!1),this.open=!1,this._usernameInputNode&&(this._usernameInputNode.value=""),this._passwordInputNode&&(this._passwordInputNode.value=""),this.emit("cancel")}_submit(e){e.preventDefault(),this._set("signingIn",!0);const i=this.oAuthPrompt?{}:{username:this._usernameInputNode?.value,password:this._passwordInputNode?.value};this.emit("submit",i)}};u([p({readOnly:!0})],ja.prototype,"container",void 0),u([p(),H_("esri/t9n/common")],ja.prototype,"commonMessages",void 0),u([p()],ja.prototype,"error",void 0),u([p(),H_("esri/identity/t9n/identity")],ja.prototype,"messages",void 0),u([p()],ja.prototype,"oAuthPrompt",void 0),u([p()],ja.prototype,"open",void 0),u([p()],ja.prototype,"signingIn",void 0),u([p()],ja.prototype,"server",void 0),u([p({readOnly:!0})],ja.prototype,"title",null),u([p()],ja.prototype,"resource",void 0),ja=u([j("esri.identity.IdentityModal")],ja);const GY=ja,IL="esriJSAPIOAuth";let Fj=class{constructor(e,i){this.oAuthInfo=null,this.storage=null,this.appId=null,this.codeVerifier=null,this.expires=null,this.refreshToken=null,this.ssl=null,this.stateUID=null,this.token=null,this.userId=null,this.oAuthInfo=e,this.storage=i,this._init()}isValid(){let e=!1;if(this.oAuthInfo&&this.userId&&(this.refreshToken||this.token)){if(this.expires==null&&this.refreshToken)e=!0;else if(this.expires){const i=Date.now();this.expires>i&&(this.expires-i)/1e3>60*this.oAuthInfo.minTimeUntilExpiration&&(e=!0)}}return e}save(){if(!this.storage)return!1;const e=this._load(),i=this.oAuthInfo;if(i?.authNamespace&&i.portalUrl){let r=e[i.authNamespace];r||(r=e[i.authNamespace]={}),this.appId||(this.appId=i.appId),r[i.portalUrl]={appId:this.appId,codeVerifier:this.codeVerifier,expires:this.expires,refreshToken:this.refreshToken,ssl:this.ssl,stateUID:this.stateUID,token:this.token,userId:this.userId};try{this.storage.setItem(IL,JSON.stringify(e))}catch(n){return console.warn(n),!1}return!0}return!1}destroy(){const e=this._load(),i=this.oAuthInfo;if(i?.appId&&i?.portalUrl&&(this.expires==null||this.expires>Date.now())&&(this.refreshToken||this.token)){const r=i.portalUrl.replace(/^http:/i,"https:")+"/sharing/rest/oauth2/revokeToken";Vt(r,{authMode:"anonymous",keepAlive:!0,method:"post",query:{f:"json",auth_token:this.refreshToken||this.token,client_id:i.appId,token_type_hint:this.refreshToken?"refresh_token":"access_token"}})}if(i?.authNamespace&&i.portalUrl&&this.storage){const r=e[i.authNamespace];if(r){delete r[i.portalUrl];try{this.storage.setItem(IL,JSON.stringify(e))}catch(n){console.log(n)}}}i&&(i._oAuthCred=null,this.oAuthInfo=null)}_init(){const e=this._load(),i=this.oAuthInfo;if(i?.authNamespace&&i.portalUrl){let r=e[i.authNamespace];r&&(r=r[i.portalUrl],r&&(this.appId=r.appId,this.codeVerifier=r.codeVerifier,this.expires=r.expires,this.refreshToken=r.refreshToken,this.ssl=r.ssl,this.stateUID=r.stateUID,this.token=r.token,this.userId=r.userId))}}_load(){let e={};if(this.storage){const i=this.storage.getItem(IL);if(i)try{e=JSON.parse(i)}catch(r){console.warn(r)}}return e}};Fj.prototype.declaredClass="esri.identity.OAuthCredential";let Fa=class extends ge{constructor(e){super(e),this.adminTokenServiceUrl=null,this.currentVersion=null,this.hasPortal=null,this.hasServer=null,this.owningSystemUrl=null,this.owningTenant=null,this.server=null,this.shortLivedTokenValidity=null,this.tokenServiceUrl=null,this.webTierAuth=null}};u([p({json:{write:!0}})],Fa.prototype,"adminTokenServiceUrl",void 0),u([p({json:{write:!0}})],Fa.prototype,"currentVersion",void 0),u([p({json:{write:!0}})],Fa.prototype,"hasPortal",void 0),u([p({json:{write:!0}})],Fa.prototype,"hasServer",void 0),u([p({json:{write:!0}})],Fa.prototype,"owningSystemUrl",void 0),u([p({json:{write:!0}})],Fa.prototype,"owningTenant",void 0),u([p({json:{write:!0}})],Fa.prototype,"server",void 0),u([p({json:{write:!0}})],Fa.prototype,"shortLivedTokenValidity",void 0),u([p({json:{write:!0}})],Fa.prototype,"tokenServiceUrl",void 0),u([p({json:{write:!0}})],Fa.prototype,"webTierAuth",void 0),Fa=u([j("esri.identity.ServerInfo")],Fa);const CL=Fa,FC={},foe=t=>{const e=new ha(t.owningSystemUrl).host,i=new ha(t.server).host,r=/.+\.arcgis\.com$/i;return r.test(e)&&r.test(i)},Vj=(t,e)=>!!(foe(t)&&e&&e.some(i=>i.test(t.server)));let VC=null,UC=null;try{VC=window.localStorage,UC=window.sessionStorage}catch{}let moe=class extends C9{constructor(){super(),this._portalConfig=globalThis.esriGeowConfig,this.serverInfos=[],this.oAuthInfos=[],this.credentials=[],this._soReqs=[],this._xoReqs=[],this._portals=[],this._defaultOAuthInfo=null,this._defaultTokenValidity=60,this.dialog=null,this.tokenValidity=null,this.normalizeWebTierAuth=!1,this._appOrigin=window.origin!=="null"?window.origin:window.location.origin,this._appUrlObj=Qr(window.location.href),this._busy=null,this._rejectOnPersistedPageShow=!1,this._oAuthLocationParams=null,this._gwTokenUrl="/sharing/rest/generateToken",this._agsRest="/rest/services",this._agsPortal=/\/sharing(\/|$)/i,this._agsAdmin=/(https?:\/\/[^/]+\/[^/]+)\/admin\/?(\/.*)?$/i,this._adminSvcs=/\/rest\/admin\/services(\/|$)/i,this._gwDomains=[{regex:/^https?:\/\/www\.arcgis\.com/i,customBaseUrl:"maps.arcgis.com",tokenServiceUrl:"https://www.arcgis.com/sharing/rest/generateToken"},{regex:/^https?:\/\/(?:dev|[a-z\d-]+\.mapsdev)\.arcgis\.com/i,customBaseUrl:"mapsdev.arcgis.com",tokenServiceUrl:"https://dev.arcgis.com/sharing/rest/generateToken"},{regex:/^https?:\/\/(?:devext|[a-z\d-]+\.mapsdevext)\.arcgis\.com/i,customBaseUrl:"mapsdevext.arcgis.com",tokenServiceUrl:"https://devext.arcgis.com/sharing/rest/generateToken"},{regex:/^https?:\/\/(?:qaext|[a-z\d-]+\.mapsqa)\.arcgis\.com/i,customBaseUrl:"mapsqa.arcgis.com",tokenServiceUrl:"https://qaext.arcgis.com/sharing/rest/generateToken"},{regex:/^https?:\/\/[a-z\d-]+\.maps\.arcgis\.com/i,customBaseUrl:"maps.arcgis.com",tokenServiceUrl:"https://www.arcgis.com/sharing/rest/generateToken"}],this._legacyFed=[],this._regexSDirUrl=/http.+\/rest\/services\/?/gi,this._regexServerType=/(\/(FeatureServer|GPServer|GeoDataServer|GeocodeServer|GeoenrichmentServer|GeometryServer|GlobeServer|ImageServer|KnowledgeGraphServer|MapServer|MissionServer|MobileServer|NAServer|NetworkDiagramServer|OGCFeatureServer|ParcelFabricServer|RelationalCatalogServer|SceneServer|StreamServer|UtilityNetworkServer|ValidationServer|VectorTileServer|VersionManagementServer|VideoServer)).*/gi,this._gwUser=/http.+\/users\/([^/]+).*/i,this._gwItem=/http.+\/items\/([^/]+).*/i,this._gwGroup=/http.+\/groups\/([^/]+).*/i,this._rePortalTokenSvc=/\/sharing(\/rest)?\/generatetoken/i,this._createDefaultOAuthInfo=!0,this._hasTestedIfAppIsOnPortal=!1,this._getPlatformSelfError=null,this._getOAuthLocationParams(),window.addEventListener("pageshow",e=>{this._pageShowHandler(e)})}registerServers(e){const i=this.serverInfos;i?(e=e.filter(r=>!this.findServerInfo(r.server)),this.serverInfos=i.concat(e)):this.serverInfos=e,e.forEach(r=>{r.owningSystemUrl&&this._portals.push(r.owningSystemUrl),r.hasPortal&&this._portals.push(r.server)})}registerOAuthInfos(e){const i=this.oAuthInfos;if(i){for(const r of e){const n=this.findOAuthInfo(r.portalUrl);n&&i.splice(i.indexOf(n),1)}this.oAuthInfos=i.concat(e)}else this.oAuthInfos=e}registerToken(e){e={...e};const i=this._sanitizeUrl(e.server),r=this._isServerRsrc(i);let n,s=this.findServerInfo(i),o=!0;s||(s=new CL,s.server=this._getServerInstanceRoot(i),r?s.hasServer=!0:(s.tokenServiceUrl=this._getTokenSvcUrl(i),s.hasPortal=!0),this.registerServers([s])),n=this._findCredential(i),n?(delete e.server,Object.assign(n,e),o=!1):(n=new _r({userId:e.userId,server:s.server??void 0,token:e.token,expires:e.expires,ssl:e.ssl,scope:r?"server":"portal"}),n.resources=[i],this.credentials.push(n)),n.emitTokenChange(!1),o||n.refreshServerTokens()}toJSON(){return i9({serverInfos:this.serverInfos.map(e=>e.toJSON()),oAuthInfos:this.oAuthInfos.map(e=>e.toJSON()),credentials:this.credentials.map(e=>e.toJSON())})}initialize(e){if(!e)return;typeof e=="string"&&(e=JSON.parse(e));const i=e.serverInfos,r=e.oAuthInfos,n=e.credentials;if(i){const s=[];i.forEach(o=>{o.server&&o.tokenServiceUrl&&s.push(o.declaredClass?o:new CL(o))}),s.length&&this.registerServers(s)}if(r){const s=[];r.forEach(o=>{o.appId&&s.push(o.declaredClass?o:new nj(o))}),s.length&&this.registerOAuthInfos(s)}n&&n.forEach(s=>{s.server&&s.token&&s.expires&&s.expires>Date.now()&&((s=s.declaredClass?s:new _r(s)).emitTokenChange(),this.credentials.push(s))})}findServerInfo(e){let i;e=this._sanitizeUrl(e);for(const r of this.serverInfos)if(this._hasSameServerInstance(r.server,e)){i=r;break}return i}findOAuthInfo(e){let i;e=this._sanitizeUrl(e);for(const r of this.oAuthInfos)if(this._hasSameServerInstance(r.portalUrl,e)){i=r;break}return i}findCredential(e,i){if(!e)return;let r;e=this._sanitizeUrl(e);const n=this._isServerRsrc(e)?"server":"portal";if(i){for(const s of this.credentials)if(this._hasSameServerInstance(s.server,e)&&i===s.userId&&s.scope===n){r=s;break}}else for(const s of this.credentials)if(this._hasSameServerInstance(s.server,e)&&this._getIdenticalSvcIdx(e,s)!==-1&&s.scope===n){r=s;break}return r}getCredential(e,i){let r,n=!1,s=!0;i&&(n=!(!i.token&&!i.credential),r=i.error,s=i.prompt!==!1),i={...i},e=this._sanitizeUrl(e);const o=new AbortController,a=cs();if(i.signal&&Ds(i.signal,()=>{o.abort()}),Ds(o,()=>{a.reject(new ee("identity-manager:user-aborted","ABORTED"))}),Rs(o))return a.promise;i.signal=o.signal;const l=this._isAdminResource(e),h=n?this.findCredential(e):null;let f;if(h&&r?.details?.httpStatus===498)h.destroy();else if(h)return f=new ee("identity-manager:not-authorized","You are currently signed in as: '"+h.userId+"'. You do not have access to this resource: "+e,{error:r}),a.reject(f),a.promise;const g=this._findCredential(e,i);if(g)return a.resolve(g),a.promise;let v=this.findServerInfo(e);if(v)!v.hasPortal&&v.server&&v.owningSystemUrl&&this._hasSameServerInstance(v.server,v.owningSystemUrl)&&(v.hasPortal=!0),!v.hasServer&&this._isServerRsrc(e)&&(v._restInfoPms=this._getTokenSvcUrl(e),v.hasServer=!0);else{const w=this._getTokenSvcUrl(e);if(!w)return f=new ee("identity-manager:unknown-resource","Unknown resource - could not find token service endpoint."),a.reject(f),a.promise;v=new CL,v.server=this._getServerInstanceRoot(e),typeof w=="string"?(v.tokenServiceUrl=w,v.hasPortal=!0):(v._restInfoPms=w,v.hasServer=!0),this.registerServers([v])}return v.hasPortal&&v._selfReq===void 0&&(s||os(v.tokenServiceUrl,this._appOrigin)||this._gwDomains.some(w=>w.tokenServiceUrl===v.tokenServiceUrl))&&(v._selfReq={owningTenant:i?.owningTenant,selfDfd:this._getPortalSelf(v.tokenServiceUrl.replace(this._rePortalTokenSvc,"/sharing/rest/portals/self"),e)}),this._enqueue(e,v,i,a,l)}getResourceName(e){return this._isRESTService(e)?e.replace(this._regexSDirUrl,"").replace(this._regexServerType,"")||"":this._gwUser.test(e)&&e.replace(this._gwUser,"$1")||this._gwItem.test(e)&&e.replace(this._gwItem,"$1")||this._gwGroup.test(e)&&e.replace(this._gwGroup,"$1")||""}generateToken(e,i,r){const n=this._rePortalTokenSvc.test(e.tokenServiceUrl),s=new ha(this._appOrigin),o=e.shortLivedTokenValidity;let a,l,h,f,g,v,w,S;i&&(S=this.tokenValidity||o||this._defaultTokenValidity,S>o&&o>0&&(S=o)),r&&(a=r.isAdmin,l=r.serverUrl,h=r.token,v=r.signal,w=r.ssl,e.customParameters=r.customParameters),a?f=e.adminTokenServiceUrl:(f=e.tokenServiceUrl,g=new ha(f.toLowerCase()),e.webTierAuth&&r?.serverUrl&&!w&&s.scheme==="http"&&(os(s.uri,f,!0)||g.scheme==="https"&&s.host===g.host&&s.port==="7080"&&g.port==="7443")&&(f=f.replace(/^https:/i,"http:").replace(/:7443/i,":7080")));const T={query:{request:"getToken",username:i?.username,password:i?.password,serverUrl:l,token:h,expiration:S,referer:a||n?this._appOrigin:null,client:a?"referer":null,f:"json",...e.customParameters},method:"post",authMode:"anonymous",useProxy:this._useProxy(e,r),signal:v};return n||(T.withCredentials=!1),Vt(f,T).then(C=>{const I=C.data;if(!I?.token)return new ee("identity-manager:authentication-failed","Unable to generate token");const A=e.server;return FC[A]||(FC[A]={}),i&&(FC[A][i.username]=i.password),I.validity=S,I})}isBusy(){return!!this._busy}async checkSignInStatus(e){return(await this.checkAppAccess(e,"")).credential}checkAppAccess(e,i,r){let n=!1;return this.getCredential(e,{prompt:!1}).then(s=>{let o;const a={f:"json"};if(s.scope==="portal")if(i&&(this._doPortalSignIn(e)||r?.force))o=s.server+"/sharing/rest/oauth2/validateAppAccess",a.client_id=i;else{if(!s.token)return{credential:s};o=s.server+"/sharing/rest"}else{if(!s.token)return{credential:s};o=s.server+"/rest/services"}return s.token&&(a.token=s.token),Vt(o,{query:a,authMode:"anonymous"}).then(l=>{if(l.data.valid===!1)throw new ee("identity-manager:not-authorized",`You are currently signed in as: '${s.userId}'.`,l.data);return n=!!l.data.viewOnlyUserTypeApp,{credential:s}}).catch(l=>{if(l.name==="identity-manager:not-authorized")throw l;const h=l.details?.httpStatus;if(h===498)throw s.destroy(),new ee("identity-manager:not-authenticated","User is not signed in.");if(h===400)throw new ee("identity-manager:invalid-request","Bad request");return{credential:s}})}).then(s=>({credential:s.credential,viewOnly:n}))}setOAuthResponseHash(e){e&&(e.startsWith("#")&&(e=e.slice(1)),this._processOAuthPopupParams(jy(e)))}setOAuthRedirectionHandler(e){this._oAuthRedirectFunc=e}setProtocolErrorHandler(e){this._protocolFunc=e}signIn(e,i,r={}){const n=cs(),s=()=>{l?.remove(),h?.remove(),this.dialog?.destroy(),this.dialog=l=h=null},o=()=>{s(),this._oAuthDfd=null,n.reject(new ee("identity-manager:user-aborted","ABORTED"))};r.signal&&Ds(r.signal,()=>{o()});const a=new GY({open:!0,resource:this.getResourceName(e),server:i.server});this.dialog=a,this.emit("dialog-create");let l=a.on("cancel",o),h=a.on("submit",f=>{this.generateToken(i,f,{isAdmin:r.isAdmin,signal:r.signal}).then(g=>{s();const v=new _r({userId:f.username,server:i.server??void 0,token:g.token,expires:g.expires!=null?Number(g.expires):null,ssl:!!g.ssl,isAdmin:r.isAdmin,validity:g.validity});n.resolve(v)}).catch(g=>{a.error=g,a.signingIn=!1})});return n.promise}oAuthSignIn(e,i,r,n){this._oAuthDfd=cs();const s=this._oAuthDfd;let o;n?.signal&&Ds(n.signal,()=>{const v=this._oAuthDfd&&this._oAuthDfd.oAuthWin_;v&&!v.closed?v.close():this.dialog&&f()}),s.resUrl_=e,s.sinfo_=i,s.oinfo_=r;const a=r._oAuthCred;if(a.storage&&(r.flowType==="authorization-code"||r.flowType==="auto"&&i.currentVersion>=8.4)){let v=crypto.getRandomValues(new Uint8Array(32));o=uL(v),a.codeVerifier=o,v=crypto.getRandomValues(new Uint8Array(32)),a.stateUID=uL(v),a.save()||(a.codeVerifier=o=null)}else a.codeVerifier=null;let l,h;this._getCodeChallenge(o).then(v=>{const w=!n||n.oAuthPopupConfirmation!==!1;if(!r.popup||!w)return void this._doOAuthSignIn(e,i,r,v);const S=new GY({oAuthPrompt:!0,server:i.server,open:!0});this.dialog=S,this.emit("dialog-create"),l=S.on("cancel",f),h=S.on("submit",()=>{g(),this._doOAuthSignIn(e,i,r,v)})});const f=()=>{g(),this._oAuthDfd=null,s.reject(new ee("identity-manager:user-aborted","ABORTED"))},g=()=>{l?.remove(),h?.remove(),this.dialog?.destroy(),this.dialog=null};return s.promise}destroyCredentials(){this.credentials&&this.credentials.slice().forEach(e=>{e.destroy()}),this.emit("credentials-destroy")}enablePostMessageAuth(e="https://www.arcgis.com/sharing/rest"){this._postMessageAuthHandle&&this._postMessageAuthHandle.remove(),this._postMessageAuthHandle=Sp(window,"message",i=>{if((i.origin===this._appOrigin||i.origin.endsWith(".arcgis.com"))&&i.data?.type==="arcgis:auth:requestCredential"){const r=i.source;this.getCredential(e).then(n=>{r.postMessage({type:"arcgis:auth:credential",credential:{expires:n.expires,server:n.server,ssl:n.ssl,token:n.token,userId:n.userId}},i.origin)}).catch(n=>{r.postMessage({type:"arcgis:auth:error",error:{name:n.name,message:n.message}},i.origin)})}})}disablePostMessageAuth(){this._postMessageAuthHandle&&(this._postMessageAuthHandle.remove(),this._postMessageAuthHandle=null)}_getOAuthLocationParams(){let e=window.location.hash;if(e){e.startsWith("#")&&(e=e.slice(1));const r=jy(e);let n=!1;if(r.access_token&&r.expires_in&&r.state&&r.hasOwnProperty("username"))try{r.state=JSON.parse(r.state),r.state.portalUrl&&(this._oAuthLocationParams=r,n=!0)}catch{}else if(r.error&&r.error_description&&(console.log("IdentityManager OAuth Error: ",r.error," - ",r.error_description),r.error==="access_denied"&&(n=!0,r.state)))try{r.state=JSON.parse(r.state)}catch{}n&&(window.location.hash=r.state?.hash||"")}let i=window.location.search;if(i){i.startsWith("?")&&(i=i.slice(1));const r=jy(i);let n=!1;if(r.code&&r.state)try{r.state=JSON.parse(r.state),r.state.portalUrl&&r.state.uid&&(this._oAuthLocationParams=r,n=!0)}catch{}else if(r.error&&r.error_description&&(console.log("IdentityManager OAuth Error: ",r.error," - ",r.error_description),r.error==="access_denied"&&(n=!0,r.state)))try{r.state=JSON.parse(r.state)}catch{}if(n){const s={...r};["code","error","error_description","message_code","persist","state"].forEach(l=>{delete s[l]});const o=gv(s),a=window.location.pathname+(o?`?${o}`:"")+(r.state?.hash||"");window.history.replaceState(window.history.state,"",a)}}}_getOAuthToken(e,i,r,n,s){return e=e.replace(/^http:/i,"https:"),Vt(`${e}/sharing/rest/oauth2/token`,{authMode:"anonymous",method:"post",query:n&&s?{grant_type:"authorization_code",code:i,redirect_uri:n,client_id:r,code_verifier:s}:{grant_type:"refresh_token",refresh_token:i,client_id:r}}).then(o=>o.data)}async _getCodeChallenge(e){if(e&&globalThis.isSecureContext){const i=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",i);return uL(new Uint8Array(r))}return null}_pageShowHandler(e){if(e.persisted&&this.isBusy()&&this._rejectOnPersistedPageShow){const i=new ee("identity-manager:user-aborted","ABORTED");this._errbackFunc(i)}}_findCredential(e,i){let r,n,s,o,a=-1;const l=i?.token,h=i?.resource,f=this._isServerRsrc(e)?"server":"portal",g=this.credentials.filter(v=>this._hasSameServerInstance(v.server,e)&&v.scope===f);if(e=h||e,g.length)if(g.length===1){if(r=g[0],s=this.findServerInfo(r.server),n=s?.owningSystemUrl,o=n?this.findCredential(n,r.userId):void 0,a=this._getIdenticalSvcIdx(e,r),!l)return a===-1&&r.resources.push(e),this._addResource(e,o),r;a!==-1&&(r.resources.splice(a,1),this._removeResource(e,o))}else{let v,w;if(g.some(S=>(w=this._getIdenticalSvcIdx(e,S),w!==-1&&(v=S,s=this.findServerInfo(v.server),n=s?.owningSystemUrl,o=n?this.findCredential(n,v.userId):void 0,a=w,!0))),l)v&&(v.resources.splice(a,1),this._removeResource(e,o));else if(v)return this._addResource(e,o),v}}_findOAuthInfo(e){let i=this.findOAuthInfo(e);if(!i){for(const r of this.oAuthInfos)if(this._isIdProvider(r.portalUrl,e)){i=r;break}}return i}_addResource(e,i){i&&this._getIdenticalSvcIdx(e,i)===-1&&i.resources.push(e)}_removeResource(e,i){let r=-1;i&&(r=this._getIdenticalSvcIdx(e,i),r>-1&&i.resources.splice(r,1))}_useProxy(e,i){return i?.isAdmin&&!os(e.adminTokenServiceUrl,this._appOrigin)||!this._isPortalDomain(e.tokenServiceUrl)&&String(e.currentVersion)==="10.1"&&!os(e.tokenServiceUrl,this._appOrigin)}_getOrigin(e){const i=new ha(e);return i.scheme+"://"+i.host+(i.port!=null?":"+i.port:"")}_getServerInstanceRoot(e){const i=e.toLowerCase();let r=i.indexOf(this._agsRest);return r===-1&&this._isAdminResource(e)&&(r=this._agsAdmin.test(e)?e.replace(this._agsAdmin,"$1").length:e.search(this._adminSvcs)),r!==-1||g9(i)||(r=i.indexOf("/sharing")),r===-1&&i.endsWith("/")&&(r=i.length-1),r>-1?e.slice(0,r):e}_hasSameServerInstance(e,i){return e.endsWith("/")&&(e=e.slice(0,-1)),e=e.toLowerCase(),i=this._getServerInstanceRoot(i).toLowerCase(),e=AA(e),i=AA(i),(e=e.slice(Math.max(0,e.indexOf(":"))))===(i=i.slice(Math.max(0,i.indexOf(":"))))}_sanitizeUrl(e){const i=(ni.request.proxyUrl||"").toLowerCase(),r=i?e.toLowerCase().indexOf(i+"?"):-1;return r!==-1&&(e=e.slice(r+i.length+1)),e=lc(e),Qr(e).path}_isRESTService(e){return e.includes(this._agsRest)}_isAdminResource(e){return this._agsAdmin.test(e)||this._adminSvcs.test(e)}_isServerRsrc(e){return this._isRESTService(e)||this._isAdminResource(e)}_isIdenticalService(e,i){let r=!1;if(this._isRESTService(e)&&this._isRESTService(i)){const n=this._getSuffix(e).toLowerCase(),s=this._getSuffix(i).toLowerCase();if(r=n===s,!r){const o=/(.*)\/(MapServer|FeatureServer|UtilityNetworkServer).*/gi;r=n.replaceAll(o,"$1")===s.replaceAll(o,"$1")}}else this._isAdminResource(e)&&this._isAdminResource(i)?r=!0:this._isServerRsrc(e)||this._isServerRsrc(i)||!this._isPortalDomain(e)||(r=!0);return r}_isPortalDomain(e){const i=new ha(e.toLowerCase()),r=this._portalConfig;let n=this._gwDomains.some(s=>s.regex.test(i.uri));return!n&&r&&(n=this._hasSameServerInstance(this._getServerInstanceRoot(r.restBaseUrl),i.uri)),n||ni.portalUrl&&(n=os(i,ni.portalUrl,!0)),n||(n=this._portals.some(s=>this._hasSameServerInstance(s,i.uri))),n=n||this._agsPortal.test(i.path),n}_isIdProvider(e,i){let r=-1,n=-1;this._gwDomains.forEach((o,a)=>{r===-1&&o.regex.test(e)&&(r=a),n===-1&&o.regex.test(i)&&(n=a)});let s=!1;if(r>-1&&n>-1&&(r===0||r===4?n!==0&&n!==4||(s=!0):r===1?n!==1&&n!==2||(s=!0):r===2?n===2&&(s=!0):r===3&&n===3&&(s=!0)),!s){const o=this.findServerInfo(i),a=o?.owningSystemUrl;a&&foe(o)&&this._isPortalDomain(a)&&this._isIdProvider(e,a)&&(s=!0)}return s}_getIdenticalSvcIdx(e,i){let r=-1;for(let n=0;n<i.resources.length;n++){const s=i.resources[n];if(this._isIdenticalService(e,s)){r=n;break}}return r}_getSuffix(e){return e.replace(this._regexSDirUrl,"").replace(this._regexServerType,"$1")}_getTokenSvcUrl(e){let i,r,n;if(this._isRESTService(e)||this._isAdminResource(e)){const s=this._getServerInstanceRoot(e);return i=s+"/admin/generateToken",r=Vt(e=s+"/rest/info",{query:{f:"json"}}).then(o=>o.data),{adminUrl:i,promise:r}}if(this._isPortalDomain(e)){let s="";if(this._gwDomains.some(o=>(o.regex.test(e)&&(s=o.tokenServiceUrl),!!s)),s||this._portals.some(o=>(this._hasSameServerInstance(o,e)&&(s=o+this._gwTokenUrl),!!s)),s||(n=e.toLowerCase().indexOf("/sharing"),n!==-1&&(s=e.slice(0,n)+this._gwTokenUrl)),s||(s=this._getOrigin(e)+this._gwTokenUrl),s){const o=new ha(e).port;/^http:\/\//i.test(e)&&o==="7080"&&(s=s.replace(/:7080/i,":7443")),s=s.replace(/http:/i,"https:")}return s}}_processOAuthResponseParams(e,i,r){const n=i._oAuthCred;if(e.code){const o=n.codeVerifier;return n.codeVerifier=null,n.stateUID=null,n.save(),this._getOAuthToken(r.server,e.code,i.appId,this._getRedirectURI(i,!0),o).then(a=>{const l=new _r({userId:a.username,server:r.server??void 0,token:a.access_token,expires:Date.now()+1e3*a.expires_in,ssl:a.ssl,oAuthState:e.state,_oAuthCred:n});return i.userId=l.userId,n.storage=a.persist?VC:UC,n.refreshToken=a.refresh_token,n.token=null,n.expires=a.refresh_token_expires_in?Date.now()+1e3*a.refresh_token_expires_in:null,n.userId=l.userId,n.ssl=l.ssl,n.save(),l})}const s=new _r({userId:e.username,server:r.server??void 0,token:e.access_token,expires:Date.now()+1e3*Number(e.expires_in),ssl:e.ssl==="true",oAuthState:e.state,_oAuthCred:n});return i.userId=s.userId,n.storage=e.persist?VC:UC,n.refreshToken=null,n.token=s.token,n.expires=s.expires,n.userId=s.userId,n.ssl=s.ssl,n.save(),Promise.resolve(s)}_processOAuthPopupParams(e){const i=this._oAuthDfd;if(this._oAuthDfd=null,i)if(clearInterval(this._oAuthIntervalId),this._oAuthOnPopupHandle?.remove(),e.error){const r=e.error==="access_denied",n=new ee(r?"identity-manager:user-aborted":"identity-manager:authentication-failed",r?"ABORTED":"OAuth: "+e.error+" - "+e.error_description);i.reject(n)}else this._processOAuthResponseParams(e,i.oinfo_,i.sinfo_).then(r=>{i.resolve(r)}).catch(r=>{i.reject(r)})}_setOAuthResponseQueryString(e){e&&(e.startsWith("?")&&(e=e.slice(1)),this._processOAuthPopupParams(jy(e)))}async _exchangeToken(e,i,r){return(await Vt(`${e}/sharing/rest/oauth2/exchangeToken`,{authMode:"anonymous",method:"post",query:{f:"json",client_id:i,token:r}})).data.token}async _getPlatformSelf(e,i){if(this._getPlatformSelfError&&Date.now()-this._getPlatformSelfError[1]<1e3)throw this._getPlatformSelfError[0];e=e.replace(/^http:/i,"https:");try{const r=await Vt(`${e}/sharing/rest/oauth2/platformSelf`,{authMode:"anonymous",headers:{"X-Esri-Auth-Client-Id":i,"X-Esri-Auth-Redirect-Uri":window.location.href.replace(/#.*$/,"")},method:"post",query:{f:"json",expiration:30},withCredentials:!0});return this._getPlatformSelfError=null,r.data}catch(r){throw r.details?.messageCode==="OAUTH_0066"&&(this._getPlatformSelfError=[r,Date.now()]),r}}_getPortalSelf(e,i){let r;return this._gwDomains.some(n=>(n.regex.test(e)&&(r=n.customBaseUrl),!!r)),r?Promise.resolve({allSSL:!0,currentVersion:"8.4",customBaseUrl:r,portalMode:"multitenant",supportsOAuth:!0}):(this._appOrigin.startsWith("https:")?e=e.replace(/^http:/i,"https:").replace(/:7080/i,":7443"):/^http:/i.test(i)&&(e=e.replace(/^https:/i,"http:").replace(/:7443/i,":7080")),Vt(e,{query:{f:"json"},authMode:"anonymous",withCredentials:!0}).then(n=>n.data))}_doPortalSignIn(e){const i=this._portalConfig,r=window.location.href,n=this.findServerInfo(e);return!(!i&&!this._isPortalDomain(r)||!(n?n.hasPortal||n.owningSystemUrl&&this._isPortalDomain(n.owningSystemUrl):this._isPortalDomain(e))||!(this._isIdProvider(r,e)||i&&(this._hasSameServerInstance(this._getServerInstanceRoot(i.restBaseUrl),e)||this._isIdProvider(i.restBaseUrl,e))||os(r,e,!0)))}_checkProtocol(e,i,r,n){let s=!0;const o=n?i.adminTokenServiceUrl:i.tokenServiceUrl;return o.trim().toLowerCase().startsWith("https:")&&!this._appOrigin.startsWith("https:")&&j$(o)&&(s=!!this._protocolFunc&&!!this._protocolFunc({resourceUrl:e,serverInfo:i}),!s)&&r(new ee("identity-manager:aborted","Aborted the Sign-In process to avoid sending password over insecure connection.")),s}_enqueue(e,i,r,n,s,o){return n||(n=cs()),n.resUrl_=e,n.sinfo_=i,n.options_=r,n.admin_=s,n.refresh_=o,this._busy?this._hasSameServerInstance(this._getServerInstanceRoot(e),this._busy.resUrl_)?(this._oAuthDfd&&this._oAuthDfd.oAuthWin_&&this._oAuthDfd.oAuthWin_.focus(),this._soReqs.push(n)):this._xoReqs.push(n):this._doSignIn(n),n.promise}_doSignIn(e){this._busy=e,this._rejectOnPersistedPageShow=!1;const i=h=>{const f=e.options_?.resource,g=e.resUrl_,v=e.refresh_;let w=!1;this.credentials.includes(h)||(v&&this.credentials.includes(v)?(v.userId=h.userId,v.token=h.token,v.expires=h.expires,v.validity=h.validity,v.ssl=h.ssl,v.creationTime=h.creationTime,w=!0,h=v):this.credentials.push(h)),h.resources||(h.resources=[]),h.resources.includes(f||g)||h.resources.push(f||g),h.scope=this._isServerRsrc(g)?"server":"portal",h.emitTokenChange();const S=this._soReqs,T={};this._soReqs=[],S.forEach(C=>{if(!this._isIdenticalService(g,C.resUrl_)){const I=this._getSuffix(C.resUrl_);T[I]||(T[I]=!0,h.resources.push(C.resUrl_))}}),e.resolve(h),S.forEach(C=>{this._hasSameServerInstance(this._getServerInstanceRoot(g),C.resUrl_)?C.resolve(h):this._soReqs.push(C)}),this._busy=e.resUrl_=e.sinfo_=e.refresh_=null,w||this.emit("credential-create",{credential:h}),this._soReqs.length?this._doSignIn(this._soReqs.shift()):this._xoReqs.length&&this._doSignIn(this._xoReqs.shift())},r=h=>{e.reject(h),this._busy=e.resUrl_=e.sinfo_=e.refresh_=null,this._soReqs.length?this._doSignIn(this._soReqs.shift()):this._xoReqs.length&&this._doSignIn(this._xoReqs.shift())},n=(h,f,g,v)=>{const w=e.sinfo_,S=!e.options_||e.options_.prompt!==!1,T=w.hasPortal&&this._findOAuthInfo(e.resUrl_);let C,I;if(h)i(new _r({userId:h,server:w.server??void 0,token:g??void 0,expires:v!=null?Number(v):null,ssl:!!f}));else if(window!==window.parent&&this._appUrlObj.query?.["arcgis-auth-origin"]&&this._appUrlObj.query?.["arcgis-auth-portal"]&&this._hasSameServerInstance(this._getServerInstanceRoot(this._appUrlObj.query["arcgis-auth-portal"]),e.resUrl_)){window.parent.postMessage({type:"arcgis:auth:requestCredential"},this._appUrlObj.query["arcgis-auth-origin"]);const A=Sp(window,"message",P=>{P.source===window.parent&&P.data&&(P.data.type==="arcgis:auth:credential"?(A.remove(),P.data.credential.expires<Date.now()?r(new ee("identity-manager:credential-request-failed","Parent application's token has expired.")):i(new _r(P.data.credential))):P.data.type==="arcgis:auth:error"&&(A.remove(),P.data.error.name==="tokenExpiredError"?r(new ee("identity-manager:credential-request-failed","Parent application's token has expired.")):r(ee.fromJSON(P.data.error))))});Ds(e.options_?.signal,()=>{A.remove()})}else if(T){let A=T._oAuthCred;if(!A){const P=new Fj(T,VC),D=new Fj(T,UC);P.isValid()&&D.isValid()?P.expires>D.expires?(A=P,D.destroy()):(A=D,P.destroy()):A=P.isValid()?P:D,T._oAuthCred=A}if(A.isValid()){C=new _r({userId:A.userId??void 0,server:w.server??void 0,token:A.token??void 0,expires:A.expires,ssl:A.ssl??void 0,_oAuthCred:A});const P=T.appId!==A.appId&&this._doPortalSignIn(e.resUrl_);P||A.refreshToken?(e._pendingDfd=A.refreshToken?this._getOAuthToken(w.server,A.refreshToken,A.appId).then(D=>(C.expires=Date.now()+1e3*D.expires_in,C.token=D.access_token,C)):Promise.resolve(C),e._pendingDfd.then(D=>P?this._exchangeToken(D.server,T.appId,D.token).then(L=>(D.token=L,D)).catch(()=>D):D).then(D=>{i(D)}).catch(D=>{const L=D.details?.httpStatus;L>0&&L!==404?(A.destroy(),n()):r(D)})):i(C)}else if(this._oAuthLocationParams&&this._hasSameServerInstance(T.portalUrl,this._oAuthLocationParams.state.portalUrl)&&(this._oAuthLocationParams.access_token||this._oAuthLocationParams.code&&this._oAuthLocationParams.state.uid===A.stateUID&&A.codeVerifier)){const P=this._oAuthLocationParams;this._oAuthLocationParams=null,e._pendingDfd=this._processOAuthResponseParams(P,T,w).then(D=>{i(D)}).catch(r)}else{const P=()=>{S?e._pendingDfd=this.oAuthSignIn(e.resUrl_,w,T,e.options_).then(i,r):(I=new ee("identity-manager:not-authenticated","User is not signed in."),r(I))};this._doPortalSignIn(e.resUrl_)?e._pendingDfd=this._getPlatformSelf(w.server,T.appId).then(D=>{os(D.portalUrl,this._appOrigin,!0)?(C=new _r({userId:D.username,server:w.server??void 0,expires:Date.now()+1e3*D.expires_in,token:D.token}),i(C)):P()}).catch(P):P()}}else if(S){if(this._checkProtocol(e.resUrl_,w,r,e.admin_)){let A=e.options_;e.admin_&&(A=A||{},A.isAdmin=!0),e._pendingDfd=this.signIn(e.resUrl_,w,A).then(i,r)}}else I=new ee("identity-manager:not-authenticated","User is not signed in."),r(I)},s=()=>{const h=e.sinfo_,f=h.owningSystemUrl,g=e.options_;let v,w,S,T;if(g&&(v=g.token,w=g.error,S=g.prompt),T=this._findCredential(f,{token:v,resource:e.resUrl_}),!T){for(const C of this.credentials)if(this._isIdProvider(f,C.server)){T=C;break}}if(T){const C=this.findCredential(e.resUrl_,T.userId);if(C)i(C);else if(Vj(h,this._legacyFed)){const I=T.toJSON();I.server=h.server,I.resources=null,i(new _r(I))}else(e._pendingDfd=this.generateToken(this.findServerInfo(T.server),null,{serverUrl:e.resUrl_,token:T.token,signal:e.options_.signal,ssl:T.ssl})).then(I=>{i(new _r({userId:T?.userId,server:h.server??void 0,token:I.token,expires:I.expires!=null?Number(I.expires):null,ssl:!!I.ssl,isAdmin:e.admin_,validity:I.validity}))},r)}else this._busy=null,v&&(e.options_.token=null),(e._pendingDfd=this.getCredential(f.replace(/\/?$/,"/sharing"),{resource:e.resUrl_,owningTenant:h.owningTenant,signal:e.options_.signal,token:v,error:w,prompt:S})).then(()=>{this._enqueue(e.resUrl_,e.sinfo_,e.options_,e,e.admin_)},C=>{e.resUrl_=e.sinfo_=e.refresh_=null,e.reject(C)})};this._errbackFunc=r;const o=e.sinfo_.owningSystemUrl,a=this._isServerRsrc(e.resUrl_),l=e.sinfo_._restInfoPms;l?l.promise.then(h=>{const f=e.sinfo_;if(f._restInfoPms){f.adminTokenServiceUrl=f._restInfoPms.adminUrl,f._restInfoPms=null,f.tokenServiceUrl=(vp("authInfo.tokenServicesUrl",h)||vp("authInfo.tokenServiceUrl",h)||vp("tokenServiceUrl",h))??null,f.shortLivedTokenValidity=vp("authInfo.shortLivedTokenValidity",h)??null,f.currentVersion=h.currentVersion,f.owningTenant=h.owningTenant;const g=f.owningSystemUrl=h.owningSystemUrl;g&&this._portals.push(g)}a&&f.owningSystemUrl?s():n()},()=>{e.sinfo_._restInfoPms=null;const h=new ee("identity-manager:server-identification-failed","Unknown resource - could not find token service endpoint.");r(h)}):a&&o?s():e.sinfo_._selfReq?e.sinfo_._selfReq.selfDfd.then(h=>{const f={};let g,v,w,S;return h&&(g=h.user?.username,f.username=g,f.allSSL=h.allSSL,v=h.supportsOAuth,S=parseFloat(h.currentVersion),h.portalMode==="multitenant"&&(w=h.customBaseUrl),e.sinfo_.currentVersion=S),e.sinfo_.webTierAuth=!!g,g&&this.normalizeWebTierAuth?this.generateToken(e.sinfo_,null,{ssl:f.allSSL}).catch(()=>null).then(T=>(f.portalToken=T?.token,f.tokenExpiration=T?.expires,f)):!g&&v&&S>=4.4&&!this._findOAuthInfo(e.resUrl_)?this._generateOAuthInfo({portalUrl:e.sinfo_.server,customBaseUrl:w,owningTenant:e.sinfo_._selfReq.owningTenant}).catch(()=>null).then(()=>f):f}).catch(()=>null).then(h=>{e.sinfo_._selfReq=null,h?n(h.username,h.allSSL,h.portalToken,h.tokenExpiration):n()}):n()}_generateOAuthInfo(e){let i,r=null,n=e.portalUrl;const s=e.customBaseUrl,o=e.owningTenant,a=!this._defaultOAuthInfo&&this._createDefaultOAuthInfo&&!this._hasTestedIfAppIsOnPortal;if(a){r=this._appUrlObj.path;const l=r.search(/\/(apps|home)\//);r=l>-1?r.slice(0,l):null}return a&&r?(this._hasTestedIfAppIsOnPortal=!0,i=Vt(r+"/sharing/rest",{query:{f:"json"}}).then(()=>{this._defaultOAuthInfo=new nj({appId:"arcgisonline",popupCallbackUrl:r+"/home/oauth-callback.html"})})):i=Promise.resolve(),i.then(()=>{if(this._defaultOAuthInfo)return n=n.replace(/^http:/i,"https:"),Vt(n+"/sharing/rest/oauth2/validateRedirectUri",{query:{accountId:o,client_id:this._defaultOAuthInfo.appId,redirect_uri:Ao(this._defaultOAuthInfo.popupCallbackUrl),f:"json"}}).then(l=>{if(l.data.valid){const h=this._defaultOAuthInfo.clone();l.data.urlKey&&s?h.portalUrl="https://"+l.data.urlKey.toLowerCase()+"."+s:h.portalUrl=n,h.popup=window!==window.top||!(os(n,this._appOrigin)||this._gwDomains.some(f=>f.regex.test(n)&&f.regex.test(this._appOrigin))),this.oAuthInfos.push(h)}})})}_doOAuthSignIn(e,i,r,n){const s=r._oAuthCred,o={portalUrl:r.portalUrl};!r.popup&&r.preserveUrlHash&&window.location.hash&&(o.hash=window.location.hash),s.stateUID&&(o.uid=s.stateUID);const a={client_id:r.appId,response_type:s.codeVerifier?"code":"token",state:JSON.stringify(o),expiration:r.expiration,locale:r.locale,redirect_uri:this._getRedirectURI(r,!!s.codeVerifier)};r.forceLogin&&(a.force_login=!0),r.forceUserId&&r.userId&&(a.prepopulatedusername=r.userId),!r.popup&&this._doPortalSignIn(e)&&(a.redirectToUserOrgUrl=!0),s.codeVerifier&&(a.code_challenge=n||s.codeVerifier,a.code_challenge_method=n?"S256":"plain");const l=r.portalUrl.replace(/^http:/i,"https:")+"/sharing/oauth2/authorize",h=l+"?"+gv(a);if(r.popup){const f=window.open(h,"esriJSAPIOAuth",r.popupWindowFeatures);if(f)f.focus(),this._oAuthDfd.oAuthWin_=f,this._oAuthIntervalId=setInterval(()=>{if(f.closed){clearInterval(this._oAuthIntervalId),this._oAuthOnPopupHandle.remove();const g=this._oAuthDfd;if(g){const v=new ee("identity-manager:user-aborted","ABORTED");g.reject(v)}}},500),this._oAuthOnPopupHandle=Sp(window,["arcgis:auth:hash","arcgis:auth:location:search"],g=>{g.type==="arcgis:auth:hash"?this.setOAuthResponseHash(g.detail):this._setOAuthResponseQueryString(g.detail)});else{const g=new ee("identity-manager:popup-blocked","ABORTED");this._oAuthDfd.reject(g)}}else this._rejectOnPersistedPageShow=!0,this._oAuthRedirectFunc?this._oAuthRedirectFunc({authorizeParams:a,authorizeUrl:l,resourceUrl:e,serverInfo:i,oAuthInfo:r}):window.location.href=h}_getRedirectURI(e,i){const r=window.location.href.replace(/#.*$/,"");if(e.popup)return Ao(e.popupCallbackUrl);if(i){const n=Qr(r);return n.query&&["code","error","error_description","message_code","persist","state"].forEach(s=>{delete n.query[s]}),CC(n.path,n.query)}return r}};moe.prototype.declaredClass="esri.identity.IdentityManagerBase";let _r=class extends k1{constructor(e){super(e),this._oAuthCred=null,this.tokenRefreshBuffer=2,e?._oAuthCred&&(this._oAuthCred=e._oAuthCred)}initialize(){this.resources=this.resources||[],this.creationTime==null&&(this.creationTime=Date.now())}refreshToken(){const e=Zt,i=e.findServerInfo(this.server),r=i?.owningSystemUrl,n=!!r&&this.scope==="server",s=n&&Vj(i,e._legacyFed),o=i.webTierAuth,a=o&&e.normalizeWebTierAuth,l=FC[this.server],h=l?.[this.userId];let f,g=this.resources&&this.resources[0],v=n?e.findServerInfo(r):null,w={username:this.userId,password:h};if(o&&!a)return;n&&!v&&e.serverInfos.some(T=>(e._isIdProvider(r,T.server)&&(v=T),!!v));const S=v?e.findCredential(v.server,this.userId):null;if(!n||S){if(!s){if(n)f={serverUrl:g,token:S?.token,ssl:S?.ssl};else if(a)w=null,f={ssl:this.ssl};else{if(!h){let T;return g&&(g=e._sanitizeUrl(g),this._enqueued=1,T=e._enqueue(g,i,null,null,this.isAdmin,this),T.then(()=>{this._enqueued=0,this.refreshServerTokens()}).catch(()=>{this._enqueued=0})),T}this.isAdmin&&(f={isAdmin:!0})}return e.generateToken(n?v:i,n?null:w,f).then(T=>{this.token=T.token,this.expires=T.expires!=null?Number(T.expires):null,this.creationTime=Date.now(),this.validity=T.validity,this.emitTokenChange(),this.refreshServerTokens()}).catch(()=>{})}S?.refreshToken()}}refreshServerTokens(){if(this.scope==="portal"){const e=Zt;e.credentials.forEach(i=>{const r=e.findServerInfo(i.server),n=r?.owningSystemUrl;i!==this&&i.userId===this.userId&&n&&i.scope==="server"&&(e._hasSameServerInstance(this.server,n)||e._isIdProvider(n,this.server))&&(Vj(r,e._legacyFed)?(i.token=this.token,i.expires=this.expires,i.creationTime=this.creationTime,i.validity=this.validity,i.emitTokenChange()):i.refreshToken())})}}emitTokenChange(e){clearTimeout(this._refreshTimer);const i=Zt,r=this.server?i.findServerInfo(this.server):null,n=r?.owningSystemUrl,s=n?i.findServerInfo(n):null;e===!1||n&&this.scope!=="portal"&&(!s?.webTierAuth||i.normalizeWebTierAuth)||this.expires==null&&this.validity==null||this._startRefreshTimer(),this.emit("token-change")}destroy(){this.userId=this.server=this.token=this.expires=this.validity=this.resources=this.creationTime=null,this._oAuthCred&&(this._oAuthCred.destroy(),this._oAuthCred=null);const e=Zt,i=e.credentials.indexOf(this);i>-1&&e.credentials.splice(i,1),this.emitTokenChange(),this.emit("destroy")}toJSON(){const e=i9({userId:this.userId,server:this.server,token:this.token,expires:this.expires,validity:this.validity,ssl:this.ssl,isAdmin:this.isAdmin,creationTime:this.creationTime,scope:this.scope}),i=this.resources;return i&&i.length>0&&(e.resources=i.slice()),e}_startRefreshTimer(){clearTimeout(this._refreshTimer);const e=6e4*this.tokenRefreshBuffer,i=2**31-1;let r=(this.validity?this.creationTime+6e4*this.validity:this.expires)-Date.now();r<0?r=0:r>i&&(r=i),this._refreshTimer=setTimeout(this.refreshToken.bind(this),r>e?r-e:r)}};u([p()],_r.prototype,"creationTime",void 0),u([p()],_r.prototype,"expires",void 0),u([p()],_r.prototype,"isAdmin",void 0),u([p()],_r.prototype,"oAuthState",void 0),u([p()],_r.prototype,"resources",void 0),u([p()],_r.prototype,"scope",void 0),u([p()],_r.prototype,"server",void 0),u([p()],_r.prototype,"ssl",void 0),u([p()],_r.prototype,"token",void 0),u([p()],_r.prototype,"tokenRefreshBuffer",void 0),u([p()],_r.prototype,"userId",void 0),u([p()],_r.prototype,"validity",void 0),_r=u([j("esri.identity.Credential")],_r);let goe=class extends moe{};goe.prototype.declaredClass="esri.identity.IdentityManager";const PT=new goe;Swe(PT);const yoe=Object.freeze(Object.defineProperty({__proto__:null,default:PT},Symbol.toStringTag,{value:"Module"})),O2e="not-loaded",P2e="loading",D2e="failed",WY="loaded",cU=t=>{const e=t;let i=class extends e{constructor(...r){super(...r),this._loadController=null,this.loadError=null,this.loadStatus="not-loaded",this._set("loadWarnings",[]),this.addResolvingPromise(new Promise(n=>{const s=this.load.bind(this);this.load=o=>{const a=new Promise((l,h)=>{const f=o9(o,h);this.destroyed&&h(new ee("load:instance-destroyed",`Instance of '${this.declaredClass||this.constructor.name}' is already destroyed`,{instance:this})),this.when(l,h).finally(()=>{f&&f.remove()})});if(this.loadStatus===O2e){this._set("loadStatus",P2e);const l=this._loadController=new AbortController;s({signal:l.signal})}return n(),a}})),this.when(()=>{this._set("loadStatus",WY),this._loadController=null},n=>{this.destroyed||(this._set("loadStatus",D2e),this._set("loadError",n),this._loadController=null)})}destroy(){this._loadController&&(this._loadController=fv(this._loadController),this._promiseProps.abort()),this._set("loadError",null),this._set("loadWarnings",[])}get loaded(){return this.loadStatus===WY}get loadWarnings(){return this._get("loadWarnings")}load(r){return null}cancelLoad(){return this.isFulfilled()||(this._set("loadError",new ee("load:cancelled","Cancelled")),this._loadController?.abort(),this._promiseProps.abort()),this}};return u([p({readOnly:!0})],i.prototype,"loaded",null),u([p({readOnly:!0})],i.prototype,"loadError",void 0),u([p({clonable:!1})],i.prototype,"loadStatus",void 0),u([p({type:[yl],readOnly:!0})],i.prototype,"loadWarnings",null),i=u([j("esri.core.Loadable")],i),i},Gv=cU(B9);function Uj(t){return!(!t||!t.load)}function Ae(t,e,i){let r,n;return e===void 0||Array.isArray(e)?(n=t,i=e,r=[void 0]):(n=e,r=Array.isArray(t)?t:[t]),(s,o)=>{const a=s.constructor.prototype;r.forEach(l=>{const h=h9(s,l,n);h.read&&typeof h.read=="object"||(h.read={}),h.read.reader=a[o],i&&(h.read.source=(h.read.source||[]).concat(i))})}}let uU=class{constructor(e,i,r,n,s,o){this.semiMajorAxis=e,this.flattening=i,this.outerAtmosphereRimWidth=r,this.atmosphereHeight=n,this.scaleHeight=s;const a=1-this.flattening;this.semiMinorAxis=this.semiMajorAxis*a,this.halfSemiMajorAxis=this.semiMajorAxis/2,this.halfCircumference=Math.PI*this.semiMajorAxis,this.metersPerDegree=this.halfCircumference/180,this.inverseFlattening=1/(1-this.flattening)-1,this.eccentricitySquared=o||2*this.flattening-this.flattening*this.flattening,this.meanRadiusSemiAxes=(2*this.semiMajorAxis+this.semiMinorAxis)/3}get radius(){return this.semiMajorAxis}};const zr=new uU(6378137,1/298.257223563,3e5,1e5,.085,.006694379990137799),Sd=new uU(3396190,1/169.8944472236118,23e4,6e4,.111),Gm=new uU(1737400,0,0,0,0);let ML,oe=null;function voe(){return!!oe}function R2e(){return!!he("esri-wasm")}function L2e(){return ML||(ML=ke(async()=>{const{default:t}=await import("./pe-wasm-B87Q3u4k.js");return{default:t}},[]).then(({default:t})=>t({locateFile:e=>Gr(`esri/geometry/support/${e}`)})).then(t=>{Toe(t)}),ML)}const BC={geogToProj(t,e,i){oe.ensureCache.prepare();const r=Sv(i),n=i===r,s=oe.ensureFloat64(r),o=oe._pe_geog_to_proj(oe.getPointer(t),e,s);return o&&Wm(i,e,s,n),o},projGeog(t,e,i,r){switch(r){case Rr.PE_TRANSFORM_P_TO_G:return BC.projToGeog(t,e,i);case Rr.PE_TRANSFORM_G_TO_P:return BC.geogToProj(t,e,i)}return 0},projToGeog:(t,e,i)=>BC.projToGeogCenter(t,e,i,0),projToGeogCenter(t,e,i,r){oe.ensureCache.prepare();const n=Sv(i),s=i===n,o=oe.ensureFloat64(n),a=oe._pe_proj_to_geog_center(oe.getPointer(t),e,o,r);return a&&Wm(i,e,o,s),a}};let Rr=class _i{static init(){_i.PE_BUFFER_MAX=oe.PeDefs.prototype.PE_BUFFER_MAX,_i.PE_NAME_MAX=oe.PeDefs.prototype.PE_NAME_MAX,_i.PE_MGRS_MAX=oe.PeDefs.prototype.PE_MGRS_MAX,_i.PE_USNG_MAX=oe.PeDefs.prototype.PE_USNG_MAX,_i.PE_DD_MAX=oe.PeDefs.prototype.PE_DD_MAX,_i.PE_DDM_MAX=oe.PeDefs.prototype.PE_DDM_MAX,_i.PE_DMS_MAX=oe.PeDefs.prototype.PE_DMS_MAX,_i.PE_UTM_MAX=oe.PeDefs.prototype.PE_UTM_MAX,_i.PE_PARM_MAX=oe.PeDefs.prototype.PE_PARM_MAX,_i.PE_TYPE_NONE=oe.PeDefs.prototype.PE_TYPE_NONE,_i.PE_TYPE_GEOGCS=oe.PeDefs.prototype.PE_TYPE_GEOGCS,_i.PE_TYPE_PROJCS=oe.PeDefs.prototype.PE_TYPE_PROJCS,_i.PE_TYPE_GEOGTRAN=oe.PeDefs.prototype.PE_TYPE_GEOGTRAN,_i.PE_TYPE_COORDSYS=oe.PeDefs.prototype.PE_TYPE_COORDSYS,_i.PE_TYPE_UNIT=oe.PeDefs.prototype.PE_TYPE_UNIT,_i.PE_TYPE_LINUNIT=oe.PeDefs.prototype.PE_TYPE_LINUNIT,_i.PE_STR_OPTS_NONE=oe.PeDefs.prototype.PE_STR_OPTS_NONE,_i.PE_STR_AUTH_NONE=oe.PeDefs.prototype.PE_STR_AUTH_NONE,_i.PE_STR_AUTH_TOP=oe.PeDefs.prototype.PE_STR_AUTH_TOP,_i.PE_STR_NAME_CANON=oe.PeDefs.prototype.PE_STR_NAME_CANON,_i.PE_STR_FMT_WKT=oe.PeDefs.prototype.PE_STR_FMT_WKT,_i.PE_STR_FMT_WKT2=oe.PeDefs.prototype.PE_STR_FMT_WKT2,_i.PE_PARM_X0=oe.PeDefs.prototype.PE_PARM_X0,_i.PE_PARM_ND=oe.PeDefs.prototype.PE_PARM_ND,_i.PE_TRANSFORM_1_TO_2=oe.PeDefs.prototype.PE_TRANSFORM_1_TO_2,_i.PE_TRANSFORM_2_TO_1=oe.PeDefs.prototype.PE_TRANSFORM_2_TO_1,_i.PE_TRANSFORM_P_TO_G=oe.PeDefs.prototype.PE_TRANSFORM_P_TO_G,_i.PE_TRANSFORM_G_TO_P=oe.PeDefs.prototype.PE_TRANSFORM_G_TO_P,_i.PE_HORIZON_RECT=oe.PeDefs.prototype.PE_HORIZON_RECT,_i.PE_HORIZON_POLY=oe.PeDefs.prototype.PE_HORIZON_POLY,_i.PE_HORIZON_LINE=oe.PeDefs.prototype.PE_HORIZON_LINE,_i.PE_HORIZON_DELTA=oe.PeDefs.prototype.PE_HORIZON_DELTA}},boe=null;const YY={},ZY={},JY=t=>{const e=t.getType();switch(e){case Rr.PE_TYPE_GEOGCS:t=oe.castObject(t,oe.PeGeogcs);break;case Rr.PE_TYPE_PROJCS:t=oe.castObject(t,oe.PeProjcs);break;case Rr.PE_TYPE_GEOGTRAN:t=oe.castObject(t,oe.PeGeogtran);break;default:e&Rr.PE_TYPE_UNIT&&(t=oe.castObject(t,oe.PeUnit))}return t},v0={initialize(){oe.PeFactory.prototype.initialize(null)},coordsys:t=>v0.factoryByType(Rr.PE_TYPE_COORDSYS,t),factoryByType(t,e){let i=null,r=YY[t];if(r||(r={},YY[t]=r),r.hasOwnProperty(String(e))&&(i=r[e],oe.compare(i,oe.NULL)&&(i=null)),!i){const n=oe.PeFactory.prototype.factoryByType(t,e);oe.compare(n,oe.NULL)||(i=JY(n),r[e]=i)}return i},fromString(t,e){let i=null,r=ZY[t];if(r||(r={},ZY[t]=r),r.hasOwnProperty(e)&&(i=r[e],oe.compare(i,oe.NULL)&&(i=null)),!i){const n=oe.PeFactory.prototype.fromString(t,e);oe.compare(n,oe.NULL)||(i=JY(n),r[e]=i)}return i},geogcs:t=>v0.factoryByType(Rr.PE_TYPE_GEOGCS,t),geogtran:t=>v0.factoryByType(Rr.PE_TYPE_GEOGTRAN,t),getCode:t=>oe.PeFactory.prototype.getCode(t),projcs:t=>v0.factoryByType(Rr.PE_TYPE_PROJCS,t),unit:t=>v0.factoryByType(Rr.PE_TYPE_UNIT,t)};let XY,woe=null;const dU={PE_GTLIST_OPTS_COMMON:0,init(){dU.PE_GTLIST_OPTS_COMMON=oe.PeGTlistExtended.prototype.PE_GTLIST_OPTS_COMMON,XY=oe._pe_getPeGTlistExtendedEntrySize()},getGTlist(t,e,i,r,n,s){let o=null;const a=new oe.PeInteger(s);try{const l=oe.PeGTlistExtended.prototype.getGTlist(t,e,i,r,n,a);if((s=a.val)&&(o=[l],s>1)){const h=oe.getPointer(l);for(let f=1;f<s;f++)o.push(oe.wrapPointer(h+XY*f,oe.PeGTlistExtendedEntry))}}finally{oe.destroy(a)}return o}},z2e={destroy(t){if(t?.length){for(const e of t)Kc(e),e.getEntries().forEach(i=>{Kc(i);const r=i.getGeogtran();Kc(r),r.getParameters().forEach(Kc),[r.getGeogcs1(),r.getGeogcs2()].forEach(n=>{Kc(n);const s=n.getDatum();Kc(s),Kc(s.getSpheroid()),Kc(n.getPrimem()),Kc(n.getUnit())})});oe.PeGTlistExtendedEntry.prototype.Delete(t[0])}}},N2e={geogToGeog(t,e,i,r,n){oe.ensureCache.prepare();const s=Sv(i),o=i===s,a=oe.ensureFloat64(s);let l=0;r&&(l=oe.ensureFloat64(r));const h=oe._pe_geog_to_geog(oe.getPointer(t),e,a,l,n);return h&&Wm(i,e,a,o),h}},j2e={geodesicCoordinate(t,e,i,r,n,s,o,a){oe.PeLineType.prototype.geodesic_coordinate(t,e,i,r,n,s,o,a)},geodeticCoordinate(t,e,i,r,n,s,o,a,l){oe.PeLineType.prototype.geodetic_coordinate(t,e,i,r,n,s,o,a,l)},geodeticDistance(t,e,i,r,n,s,o,a,l,h){oe.PeLineType.prototype.geodetic_distance(t,e,i,r,n,s,o,a,l,h)},greatEllipticDistance(t,e,i,r,n,s,o,a,l){oe.PeLineType.prototype.great_elliptic_distance(t,e,i,r,n,s,o,a,l)}},F2e={phiToEta:(t,e)=>oe.PeMath.prototype.phi_to_eta(t,e),etaToPhi:(t,e)=>oe.PeMath.prototype.eta_to_phi(t,e),phiToPhig:(t,e)=>oe.PeMath.prototype.phi_to_phig(t,e),q:(t,e,i)=>oe.PeMath.prototype.q(t,e,i),q90:(t,e)=>oe.PeMath.prototype.q90(t,e)},AL=(t,e,i,r,n,s)=>{let o,a;switch(oe.ensureCache.prepare(),t){case"dd":o=oe._pe_geog_to_dd,a=Rr.PE_DD_MAX;break;case"ddm":o=oe._pe_geog_to_ddm,a=Rr.PE_DDM_MAX;break;case"dms":o=oe._pe_geog_to_dms,a=Rr.PE_DMS_MAX}let l=0;e&&(l=oe.getPointer(e));const h=Sv(r),f=oe.ensureFloat64(h),g=MD(i,a),v=o(l,i,f,n,oe.ensureInt32(g));if(v)for(let w=0;w<i;w++)s[w]=oe.UTF8ToString(g[w]);return v},OL=(t,e,i,r,n)=>{let s;switch(oe.ensureCache.prepare(),t){case"dd":s=oe._pe_dd_to_geog;break;case"ddm":s=oe._pe_ddm_to_geog;break;case"dms":s=oe._pe_dms_to_geog}let o=0;e&&(o=oe.getPointer(e));const a=r.map(g=>oe.ensureString(g)),l=oe.ensureInt32(a),h=oe.ensureFloat64(new Array(2*i)),f=s(o,i,l,h);return f&&Wm(n,i,h),f},V2e={geogToDms:(t,e,i,r,n)=>AL("dms",t,e,i,r,n),dmsToGeog:(t,e,i,r)=>OL("dms",t,e,i,r),geogToDdm:(t,e,i,r,n)=>AL("ddm",t,e,i,r,n),ddmToGeog:(t,e,i,r)=>OL("ddm",t,e,i,r),geogToDd:(t,e,i,r,n)=>AL("dd",t,e,i,r,n),ddToGeog:(t,e,i,r)=>OL("dd",t,e,i,r)};let _oe=class b0{static init(){b0.PE_MGRS_STYLE_NEW=oe.PeNotationMgrs.prototype.PE_MGRS_STYLE_NEW,b0.PE_MGRS_STYLE_OLD=oe.PeNotationMgrs.prototype.PE_MGRS_STYLE_OLD,b0.PE_MGRS_STYLE_AUTO=oe.PeNotationMgrs.prototype.PE_MGRS_STYLE_AUTO,b0.PE_MGRS_180_ZONE_1_PLUS=oe.PeNotationMgrs.prototype.PE_MGRS_180_ZONE_1_PLUS,b0.PE_MGRS_ADD_SPACES=oe.PeNotationMgrs.prototype.PE_MGRS_ADD_SPACES}static geogToMgrsExtended(e,i,r,n,s,o,a){oe.ensureCache.prepare();let l=0;e&&(l=oe.getPointer(e));const h=Sv(r),f=oe.ensureFloat64(h),g=MD(i,Rr.PE_MGRS_MAX),v=oe.ensureInt32(g),w=oe._pe_geog_to_mgrs_extended(l,i,f,n,s,o,v);if(w)for(let S=0;S<i;S++)a[S]=oe.UTF8ToString(g[S]);return w}static mgrsToGeogExtended(e,i,r,n,s){oe.ensureCache.prepare();let o=0;e&&(o=oe.getPointer(e));const a=r.map(g=>oe.ensureString(g)),l=oe.ensureInt32(a),h=oe.ensureFloat64(new Array(2*i)),f=oe._pe_mgrs_to_geog_extended(o,i,l,n,h);return f&&Wm(s,i,h),f}};const U2e={geogToUsng(t,e,i,r,n,s,o){oe.ensureCache.prepare();let a=0;t&&(a=oe.getPointer(t));const l=Sv(i),h=oe.ensureFloat64(l),f=MD(e,Rr.PE_MGRS_MAX),g=oe.ensureInt32(f),v=oe._pe_geog_to_usng(a,e,h,r,n,s,g);if(v)for(let w=0;w<e;w++)o[w]=oe.UTF8ToString(f[w]);return v},usngToGeog(t,e,i,r){oe.ensureCache.prepare();let n=0;t&&(n=oe.getPointer(t));const s=i.map(h=>oe.ensureString(h)),o=oe.ensureInt32(s),a=oe.ensureFloat64(new Array(2*e)),l=oe._pe_usng_to_geog(n,e,o,a);return l&&Wm(r,e,a),l}};let xoe=class HC{static init(){HC.PE_UTM_OPTS_NONE=oe.PeNotationUtm.prototype.PE_UTM_OPTS_NONE,HC.PE_UTM_OPTS_ADD_SPACES=oe.PeNotationUtm.prototype.PE_UTM_OPTS_ADD_SPACES,HC.PE_UTM_OPTS_NS=oe.PeNotationUtm.prototype.PE_UTM_OPTS_NS}static geogToUtm(e,i,r,n,s){oe.ensureCache.prepare();let o=0;e&&(o=oe.getPointer(e));const a=Sv(r),l=oe.ensureFloat64(a),h=MD(i,Rr.PE_UTM_MAX),f=oe.ensureInt32(h),g=oe._pe_geog_to_utm(o,i,l,n,f);if(g)for(let v=0;v<i;v++)s[v]=oe.UTF8ToString(h[v]);return g}static utmToGeog(e,i,r,n,s){oe.ensureCache.prepare();let o=0;e&&(o=oe.getPointer(e));const a=r.map(g=>oe.ensureString(g)),l=oe.ensureInt32(a),h=oe.ensureFloat64(new Array(2*i)),f=oe._pe_utm_to_geog(o,i,l,n,h);return f&&Wm(s,i,h),f}};var la;let Soe=(la=class{static init(){la.PE_PCSINFO_OPTION_NONE=oe.PePCSInfo.prototype.PE_PCSINFO_OPTION_NONE,la.PE_PCSINFO_OPTION_DOMAIN=oe.PePCSInfo.prototype.PE_PCSINFO_OPTION_DOMAIN,la.PE_POLE_OUTSIDE_BOUNDARY=oe.PePCSInfo.prototype.PE_POLE_OUTSIDE_BOUNDARY,la.PE_POLE_POINT=oe.PePCSInfo.prototype.PE_POLE_POINT}static generate(e,i=la.PE_PCSINFO_OPTION_DOMAIN){let r=null,n=null;return la.cache.has(e)&&(n=la.cache.get(e),n[i]&&(r=n[i])),r||(r=oe.PePCSInfo.prototype.generate(e,i),n||(n=[],la.cache.set(e,n)),n[i]=r),r}},la.cache=new Map,la);const B2e={versionString:()=>oe.PeVersion.prototype.version_string()};function Toe(t){function e(s,o,a){s[o]=a(s[o])}oe=t,Rr.init(),dU.init(),_oe.init(),xoe.init(),Soe.init(),boe=class extends oe.PeDouble{constructor(s=NaN){super(s)}destroy(){oe.destroy(this)}[Symbol.dispose](){this.destroy()}},woe=class extends oe.PeGCSExtent{destroy(){oe.destroy(this)}[Symbol.dispose](){this.destroy()}};const i=[oe.PeAngunit,oe.PeDatum,oe.PeGeogcs,oe.PeGeogtran,oe.PeObject,oe.PeParameter,oe.PePrimem,oe.PeProjcs,oe.PeSpheroid,oe.PeUnit];for(const s of i)e(s.prototype,"getName",o=>function(){return o.call(this,new Array(Rr.PE_NAME_MAX))});for(const s of[oe.PeGeogtran,oe.PeProjcs])e(s.prototype,"getParameters",o=>function(){const a=new Array(Rr.PE_PARM_MAX);let l=o.call(this);for(let h=0;h<a.length;h++){const f=oe.getValue(l,"*");a[h]=f?oe.wrapPointer(f,oe.PeParameter):null,l+=Int32Array.BYTES_PER_ELEMENT}return a});e(oe.PeHorizon.prototype,"getCoord",s=>function(o=!1){const a=this.getSize();if(!a)return null;const l=[];return Wm(l,a,s.call(this),o),l}),e(oe.PeGTlistExtendedEntry.prototype,"getEntries",s=>{const o=oe._pe_getPeGTlistExtendedGTsSize();return function(){let a=null;const l=s.call(this);if(!oe.compare(l,oe.NULL)){a=[l];const h=this.getSteps();if(h>1){const f=oe.getPointer(l);for(let g=1;g<h;g++)a.push(oe.wrapPointer(f+o*g,oe.PeGTlistExtendedGTs))}}return a}});const r=oe._pe_getPeHorizonSize(),n=s=>function(){let o=this._cache;if(o||(o=new Map,this._cache=o),o.has(s))return o.get(s);let a=null;const l=s.call(this);if(!oe.compare(l,oe.NULL)){a=[l];const h=l.getNump();if(h>1){const f=oe.getPointer(l);for(let g=1;g<h;g++)a.push(oe.wrapPointer(f+r*g,oe.PeHorizon))}}return o.set(s,a),a};e(oe.PeProjcs.prototype,"horizonGcsGenerate",n),e(oe.PeProjcs.prototype,"horizonPcsGenerate",n),oe.PeObject.prototype.toString=function(s=Rr.PE_STR_OPTS_NONE){oe.ensureCache.prepare();const o=oe.getPointer(this),a=oe.ensureInt8(new Array(Rr.PE_BUFFER_MAX));return oe.UTF8ToString(oe._pe_object_to_string_ext(o,s,a))},oe.PeGeogcs.prototype.destroy=function(){this.Delete(),Kc(this),this.ptr=0},oe.PeGeogcs.prototype[Symbol.dispose]=function(){this.destroy()},oe.PeProjcs.prototype.destroy=function(){this.Delete(),Kc(this),this.ptr=0},oe.PeProjcs.prototype[Symbol.dispose]=function(){this.destroy()}}function Kc(t){if(!t)return;const e=oe.getClass(t);if(!e)return;const i=oe.getCache(e);if(!i)return;const r=oe.getPointer(t);r&&delete i[r]}function MD(t,e){const i=[],r=new Array(e);for(let n=0;n<t;n++)i.push(oe.ensureInt8(r));return i}function Sv(t){return ArrayBuffer.isView(t)?t:Array.isArray(t[0])?t.flat():t}function Wm(t,e,i,r=!1){if(r)for(let n=0;n<2*e;n++)t[n]=oe.getValue(i+n*Float64Array.BYTES_PER_ELEMENT,"double");else{const n=t.length===0;for(let s=0;s<e;s++)n&&(t[s]=new Array(2)),t[s][0]=oe.getValue(i,"double"),t[s][1]=oe.getValue(i+Float64Array.BYTES_PER_ELEMENT,"double"),i+=2*Float64Array.BYTES_PER_ELEMENT}}const qit=Object.freeze(Object.defineProperty({__proto__:null,PeCSTransformations:BC,PeDefs:Rr,get PeDouble(){return boe},PeFactory:v0,get PeGCSExtent(){return woe},PeGTTransformations:N2e,PeGTlistExtended:dU,PeGTlistExtendedEntry:z2e,PeLineType:j2e,PeMath:F2e,PeNotationDms:V2e,PeNotationMgrs:_oe,PeNotationUsng:U2e,PeNotationUtm:xoe,PePCSInfo:Soe,PeVersion:B2e,_init:Toe,get _pe(){return oe},isLoaded:voe,isSupported:R2e,load:L2e},Symbol.toStringTag,{value:"Module"}));let y;const F={values:[1,.3048,.3048006096012192,.3047972654,.9143917962,.201166195164,.9143984146160287,.3047994715386762,20.11676512155263,20.11678249437587,.9143985307444408,.91439523,.3047997101815088,20.1168,20.116756,5e4,15e4],units:["Meter","Foot","Foot_US","Foot_Clarke","Yard_Clarke","Link_Clarke","Yard_Sears","Foot_Sears","Chain_Sears","Chain_Benoit_1895_B","Yard_Indian","Yard_Indian_1937","Foot_Gold_Coast","Chain","Chain_Sears_1922_Truncated","50_Kilometers","150_Kilometers"],2066:5,2136:12,2155:2,2157:0,2158:0,2159:12,2160:12,2204:2,2219:0,2220:0,2254:2,2255:2,2256:1,2265:1,2266:1,2267:2,2268:2,2269:1,2270:1,2271:2,2272:2,2273:1,2294:0,2295:0,2314:3,2899:2,2900:2,2901:1,2909:1,2910:1,2911:2,2912:2,2913:1,2914:1,2992:1,2993:0,2994:1,3080:1,3089:2,3090:0,3091:2,3102:2,3141:0,3142:0,3167:14,3359:2,3360:0,3361:1,3362:0,3363:2,3364:0,3365:2,3366:3,3404:2,3405:0,3406:0,3407:3,3439:0,3440:0,3479:1,3480:0,3481:1,3482:0,3483:1,3484:0,3485:2,3486:0,3487:2,3488:0,3489:0,3490:2,3491:0,3492:2,3493:0,3494:2,3495:0,3496:2,3497:0,3498:2,3499:0,3500:2,3501:0,3502:2,3503:0,3504:2,3505:0,3506:2,3507:0,3508:2,3509:0,3510:2,3511:0,3512:2,3513:0,3514:0,3515:2,3516:0,3517:2,3518:0,3519:2,3520:0,3521:2,3522:0,3523:2,3524:0,3525:2,3526:0,3527:2,3528:0,3529:2,3530:0,3531:2,3532:0,3533:2,3534:0,3535:2,3536:0,3537:2,3538:0,3539:2,3540:0,3541:2,3542:0,3543:2,3544:0,3545:2,3546:0,3547:2,3548:0,3549:2,3550:0,3551:2,3552:0,3553:2,3582:2,3583:0,3584:2,3585:0,3586:2,3587:0,3588:1,3589:0,3590:1,3591:0,3592:0,3593:1,3598:2,3599:0,3600:2,3605:1,3606:0,3607:0,3608:2,3609:0,3610:2,3611:0,3612:2,3613:0,3614:2,3615:0,3616:2,3617:0,3618:2,3619:0,3620:2,3621:0,3622:2,3623:0,3624:2,3625:0,3626:2,3627:0,3628:2,3629:0,3630:2,3631:0,3632:2,3633:0,3634:1,3635:0,3636:1,3640:2,3641:0,3642:2,3643:0,3644:1,3645:0,3646:1,3647:0,3648:1,3649:0,3650:2,3651:0,3652:2,3653:0,3654:2,3655:0,3656:1,3657:0,3658:2,3659:0,3660:2,3661:0,3662:2,3663:0,3664:2,3668:2,3669:0,3670:2,3671:0,3672:2,3673:0,3674:2,3675:0,3676:1,3677:2,3678:0,3679:1,3680:2,3681:0,3682:1,3683:2,3684:0,3685:0,3686:2,3687:0,3688:2,3689:0,3690:2,3691:0,3692:2,3696:2,3697:0,3698:2,3699:0,3700:2,3793:0,3794:0,3812:0,3854:0,3857:0,3920:0,3978:0,3979:0,3991:2,3992:2,4026:0,4037:0,4038:0,4071:0,4082:0,4083:0,4087:0,4088:0,4217:2,4414:0,4415:0,4417:0,4434:0,4437:0,4438:2,4439:2,4462:0,4467:0,4471:0,4474:0,4559:0,4647:0,4822:0,4826:0,4839:0,5018:0,5041:0,5042:0,5048:0,5221:0,5223:0,5234:0,5235:0,5243:0,5247:0,5266:0,5316:0,5320:0,5321:0,5325:0,5337:0,5361:0,5362:0,5367:0,5382:0,5383:0,5396:0,5456:0,5457:0,5469:0,5472:4,5490:0,5513:0,5514:0,5523:0,5559:0,5588:1,5589:3,5596:0,5627:0,5629:0,5641:0,5643:0,5644:0,5646:2,5654:2,5655:2,5659:0,5700:0,5825:0,5836:0,5837:0,5839:0,5842:0,5844:0,5858:0,5879:0,5880:0,5887:0,5890:0,6128:1,6129:1,6141:1,6204:0,6210:0,6211:0,6307:0,6312:0,6316:0,6362:0,6391:1,6405:1,6406:0,6407:1,6408:0,6409:1,6410:0,6411:2,6412:0,6413:2,6414:0,6415:0,6416:2,6417:0,6418:2,6419:0,6420:2,6421:0,6422:2,6423:0,6424:2,6425:0,6426:2,6427:0,6428:2,6429:0,6430:2,6431:0,6432:2,6433:0,6434:2,6435:0,6436:2,6437:0,6438:2,6439:0,6440:0,6441:2,6442:0,6443:2,6444:0,6445:2,6446:0,6447:2,6448:0,6449:2,6450:0,6451:2,6452:0,6453:2,6454:0,6455:2,6456:0,6457:2,6458:0,6459:2,6460:0,6461:2,6462:0,6463:2,6464:0,6465:2,6466:0,6467:2,6468:0,6469:2,6470:0,6471:2,6472:0,6473:2,6474:0,6475:2,6476:0,6477:2,6478:0,6479:2,6484:2,6485:0,6486:2,6487:0,6488:2,6489:0,6490:2,6491:0,6492:2,6493:0,6494:1,6495:0,6496:1,6497:0,6498:0,6499:1,6500:0,6501:2,6502:0,6503:2,6504:0,6505:2,6506:0,6507:2,6508:0,6509:0,6510:2,6515:1,6516:0,6518:0,6519:2,6520:0,6521:2,6522:0,6523:2,6524:0,6525:2,6526:0,6527:2,6528:0,6529:2,6530:0,6531:2,6532:0,6533:2,6534:0,6535:2,6536:0,6537:2,6538:0,6539:2,6540:0,6541:2,6542:0,6543:2,6544:0,6545:1,6546:0,6547:1,6548:0,6549:2,6550:0,6551:2,6552:0,6553:2,6554:0,6555:2,6556:0,6557:1,6558:0,6559:1,6560:0,6561:1,6562:0,6563:2,6564:0,6565:2,6566:0,6567:0,6568:2,6569:0,6570:1,6571:0,6572:2,6573:0,6574:2,6575:0,6576:2,6577:0,6578:2,6582:2,6583:0,6584:2,6585:0,6586:2,6587:0,6588:2,6589:0,6590:2,6591:0,6592:0,6593:2,6594:0,6595:2,6596:0,6597:2,6598:0,6599:2,6600:0,6601:2,6602:0,6603:2,6605:2,6606:0,6607:2,6608:0,6609:2,6610:0,6611:0,6612:2,6613:0,6614:2,6615:0,6616:2,6617:0,6618:2,6633:2,6646:0,6703:0,6784:0,6785:1,6786:0,6787:1,6788:0,6789:1,6790:0,6791:1,6792:0,6793:1,6794:0,6795:1,6796:0,6797:1,6798:0,6799:1,6800:0,6801:1,6802:0,6803:1,6804:0,6805:1,6806:0,6807:1,6808:0,6809:1,6810:0,6811:1,6812:0,6813:1,6814:0,6815:1,6816:0,6817:1,6818:0,6819:1,6820:0,6821:1,6822:0,6823:1,6824:0,6825:1,6826:0,6827:1,6828:0,6829:1,6830:0,6831:1,6832:0,6833:1,6834:0,6835:1,6836:0,6837:1,6838:0,6839:1,6840:0,6841:1,6842:0,6843:1,6844:0,6845:1,6846:0,6847:1,6848:0,6849:1,6850:0,6851:1,6852:0,6853:1,6854:0,6855:1,6856:0,6857:1,6858:0,6859:1,6860:0,6861:1,6862:0,6863:1,6867:0,6868:1,6870:0,6875:0,6876:0,6879:0,6880:2,6884:0,6885:1,6886:0,6887:1,6915:0,6922:0,6923:2,6924:0,6925:2,6962:0,6984:0,6991:0,7128:2,7131:0,7132:2,7142:0,7257:0,7258:2,7259:0,7260:2,7261:0,7262:2,7263:0,7264:2,7265:0,7266:2,7267:0,7268:2,7269:0,7270:2,7271:0,7272:2,7273:0,7274:2,7275:0,7276:2,7277:0,7278:2,7279:0,7280:2,7281:0,7282:2,7283:0,7284:2,7285:0,7286:2,7287:0,7288:2,7289:0,7290:2,7291:0,7292:2,7293:0,7294:2,7295:0,7296:2,7297:0,7298:2,7299:0,7300:2,7301:0,7302:2,7303:0,7304:2,7305:0,7306:2,7307:0,7308:2,7309:0,7310:2,7311:0,7312:2,7313:0,7314:2,7315:0,7316:2,7317:0,7318:2,7319:0,7320:2,7321:0,7322:2,7323:0,7324:2,7325:0,7326:2,7327:0,7328:2,7329:0,7330:2,7331:0,7332:2,7333:0,7334:2,7335:0,7336:2,7337:0,7338:2,7339:0,7340:2,7341:0,7342:2,7343:0,7344:2,7345:0,7346:2,7347:0,7348:2,7349:0,7350:2,7351:0,7352:2,7353:0,7354:2,7355:0,7356:2,7357:0,7358:2,7359:0,7360:2,7361:0,7362:2,7363:0,7364:2,7365:0,7366:2,7367:0,7368:2,7369:0,7370:2,7877:0,7878:0,7882:0,7883:0,7887:0,7899:0,7991:0,7992:0,8035:2,8036:2,8058:0,8059:0,8082:0,8083:0,8088:0,8090:0,8091:2,8092:0,8093:2,8095:0,8096:2,8097:0,8098:2,8099:0,8100:2,8101:0,8102:2,8103:0,8104:2,8105:0,8106:2,8107:0,8108:2,8109:0,8110:2,8111:0,8112:2,8113:0,8114:2,8115:0,8116:2,8117:0,8118:2,8119:0,8120:2,8121:0,8122:2,8123:0,8124:2,8125:0,8126:2,8127:0,8128:2,8129:0,8130:2,8131:0,8132:2,8133:0,8134:2,8135:0,8136:2,8137:0,8138:2,8139:0,8140:2,8141:0,8142:2,8143:0,8144:2,8145:0,8146:2,8147:0,8148:2,8149:0,8150:2,8151:0,8152:2,8153:0,8154:2,8155:0,8156:2,8157:0,8158:2,8159:0,8160:2,8161:0,8162:2,8163:0,8164:2,8165:0,8166:2,8167:0,8168:2,8169:0,8170:2,8171:0,8172:2,8173:0,8177:2,8179:0,8180:2,8181:0,8182:2,8184:0,8185:2,8187:0,8189:2,8191:0,8193:2,8196:0,8197:2,8198:0,8200:2,8201:0,8202:2,8203:0,8204:2,8205:0,8206:2,8207:0,8208:2,8209:0,8210:2,8212:0,8213:2,8214:0,8216:2,8218:0,8220:2,8222:0,8224:2,8225:0,8226:2,8311:0,8312:1,8313:0,8314:1,8315:0,8316:1,8317:0,8318:1,8319:0,8320:1,8321:0,8322:1,8323:0,8324:1,8325:0,8326:1,8327:0,8328:1,8329:0,8330:1,8331:0,8332:1,8333:0,8334:1,8335:0,8336:1,8337:0,8338:1,8339:0,8340:1,8341:0,8342:1,8343:0,8344:1,8345:0,8346:1,8347:0,8348:1,8352:0,8353:0,8379:0,8380:2,8381:0,8382:2,8383:0,8384:2,8385:0,8387:2,8391:0,8395:0,8433:0,8441:0,8455:0,8456:0,8531:2,8682:0,8686:0,8687:0,8692:0,8693:0,8826:0,8903:0,8950:0,8951:0,9039:0,9040:0,9141:0,9149:0,9150:0,9191:0,9221:0,9222:0,9249:0,9250:0,9252:0,9254:0,9265:0,9284:0,9285:0,9300:0,9354:0,9367:0,9373:0,9377:0,9387:0,9391:0,9456:0,9473:0,9498:0,9674:0,9678:0,9680:0,9709:0,9712:0,9713:0,9716:0,9741:0,9748:2,9749:2,9761:0,9766:0,9793:0,9794:0,9869:0,9874:0,9875:0,9880:0,9895:0,9943:0,9945:0,9947:0,9967:0,9972:0,9977:0,10160:0,10183:0,10188:0,10194:0,10199:0,10207:0,10212:0,10217:0,10222:0,10227:0,10235:0,10240:0,10250:0,10254:0,10270:0,10275:0,10280:0,10306:0,10329:0,10471:0,10477:0,10481:2,10516:2,10592:0,10594:0,10596:0,10598:0,10601:0,10603:0,10626:0,10632:0,10641:0,10665:0,10674:0,10744:0,10745:0,10759:0,10773:0,10802:0,10820:0,20002:0,20042:0,20050:1,20499:0,20538:0,20539:0,20790:0,20791:0,21291:0,21292:0,21500:0,21817:0,21818:0,22032:0,22033:0,22091:0,22092:0,22239:0,22240:0,22332:0,22337:0,22338:0,22391:0,22392:0,22639:0,22700:0,22739:0,22770:0,22780:0,22832:0,23090:0,23095:0,23239:0,23240:0,23433:0,23700:0,24047:0,24048:0,24100:3,24200:0,24305:0,24306:0,24382:10,24383:0,24500:0,24547:0,24548:0,24571:9,24600:0,25e3:0,25231:0,25884:0,25932:0,26237:0,26331:0,26332:0,26432:0,26591:0,26592:0,26632:0,26692:0,27120:0,27200:0,27291:6,27292:6,27429:0,27492:0,27493:0,27500:0,28232:0,28600:0,28991:0,28992:0,29100:0,29101:0,29220:0,29221:0,29333:0,29635:0,29636:0,29701:0,29738:0,29739:0,29849:0,29850:0,29871:8,29872:7,29873:0,29874:0,30200:5,30339:0,30340:0,30591:0,30592:0,30791:0,30792:0,30800:0,31028:0,31121:0,31154:0,31170:0,31171:0,31370:0,31528:0,31529:0,31600:0,31700:0,31838:0,31839:0,31900:0,31901:0,32061:0,32062:0,32098:0,32099:2,32100:0,32104:0,32161:0,32766:0,53048:0,53049:0,65061:2,65062:2,102041:2,102064:11,102068:15,102069:16,102118:2,102119:1,102120:2,102121:2,102217:2,102218:0,102219:2,102220:2,102378:1,102379:1,102380:0,102381:1,102589:2,102599:2,102600:2,102604:2,102647:0,102704:2,102705:2,102706:0,102731:0,102732:0,102759:1,102760:1,102761:2,102762:0,102763:2,102764:0,102765:0,102766:2,102970:1,102974:2,102993:0,102994:0,102995:2,102996:2,103015:0,103016:2,103017:0,103018:2,103025:0,103026:0,103027:2,103028:2,103035:0,103036:0,103037:2,103038:2,103039:0,103040:0,103041:2,103042:2,103043:0,103044:0,103045:2,103046:2,103047:0,103048:0,103049:2,103050:2,103051:0,103052:2,103053:0,103054:2,103055:0,103056:2,103057:0,103058:0,103059:2,103060:2,103061:0,103062:0,103063:2,103064:2,103069:2,103070:0,103071:0,103072:2,103073:2,103086:0,103087:0,103088:2,103089:2,103094:1,103095:0,103096:2,103103:0,103104:2,103105:0,103106:2,103121:0,103122:2,103123:0,103124:0,103125:1,103126:1,103127:0,103128:0,103129:2,103130:2,103131:0,103132:0,103133:2,103134:2,103135:0,103136:0,103137:1,103138:1,103139:0,103140:2,103141:0,103142:2,103143:0,103144:2,103145:0,103146:1,103147:0,103148:0,103149:2,103150:2,103151:0,103152:2,103172:0,103173:2,103174:0,103175:0,103176:2,103177:2,103178:0,103179:0,103180:2,103181:2,103182:0,103183:0,103184:2,103185:2,103228:0,103229:0,103230:2,103231:2,103250:0,103251:2,103252:0,103253:2,103260:0,103261:0,103262:2,103263:2,103270:0,103271:0,103272:2,103273:2,103274:0,103275:0,103276:2,103277:2,103278:0,103279:0,103280:2,103281:2,103282:0,103283:0,103284:2,103285:2,103286:0,103287:2,103288:0,103289:2,103290:0,103291:2,103292:0,103293:0,103294:2,103295:2,103296:0,103297:0,103298:2,103299:2,103376:2,103377:0,103378:0,103379:2,103380:2,103393:0,103394:0,103395:2,103396:2,103472:0,103473:1,103474:0,103475:2,103482:0,103483:2,103484:0,103485:2,103500:0,103501:2,103502:0,103503:0,103504:1,103505:1,103506:0,103507:0,103508:2,103509:2,103510:0,103511:0,103512:2,103513:2,103514:0,103515:2,103516:0,103517:2,103518:0,103519:2,103520:0,103521:1,103522:0,103523:0,103524:2,103525:2,103526:0,103527:2,103561:2,103562:2,103563:0,103564:0,103565:2,103566:2,103567:0,103568:0,103569:2,103570:2,103584:0,103585:2,103586:0,103587:2,103588:1,103589:0,103590:2,103591:1,103592:0,103593:2,103594:1,103695:2,103897:1,103978:2,103979:0,103980:2,103981:0};for(y=2e3;y<=2045;y++)F[y]=0;for(y=2056;y<=2065;y++)F[y]=0;for(y=2067;y<=2135;y++)F[y]=0;for(y=2137;y<=2154;y++)F[y]=0;for(y=2161;y<=2170;y++)F[y]=0;for(y=2172;y<=2193;y++)F[y]=0;for(y=2195;y<=2198;y++)F[y]=0;for(y=2200;y<=2203;y++)F[y]=0;for(y=2205;y<=2217;y++)F[y]=0;for(y=2222;y<=2224;y++)F[y]=1;for(y=2225;y<=2250;y++)F[y]=2;for(y=2251;y<=2253;y++)F[y]=1;for(y=2257;y<=2264;y++)F[y]=2;for(y=2274;y<=2279;y++)F[y]=2;for(y=2280;y<=2282;y++)F[y]=1;for(y=2283;y<=2289;y++)F[y]=2;for(y=2290;y<=2292;y++)F[y]=0;for(y=2308;y<=2313;y++)F[y]=0;for(y=2315;y<=2491;y++)F[y]=0;for(y=2494;y<=2866;y++)F[y]=0;for(y=2867;y<=2869;y++)F[y]=1;for(y=2870;y<=2888;y++)F[y]=2;for(y=2891;y<=2895;y++)F[y]=2;for(y=2896;y<=2898;y++)F[y]=1;for(y=2902;y<=2908;y++)F[y]=2;for(y=2915;y<=2920;y++)F[y]=2;for(y=2921;y<=2923;y++)F[y]=1;for(y=2924;y<=2930;y++)F[y]=2;for(y=2931;y<=2962;y++)F[y]=0;for(y=2964;y<=2968;y++)F[y]=2;for(y=2969;y<=2973;y++)F[y]=0;for(y=2975;y<=2991;y++)F[y]=0;for(y=2995;y<=3051;y++)F[y]=0;for(y=3054;y<=3079;y++)F[y]=0;for(y=3081;y<=3088;y++)F[y]=0;for(y=3092;y<=3101;y++)F[y]=0;for(y=3106;y<=3138;y++)F[y]=0;for(y=3146;y<=3151;y++)F[y]=0;for(y=3153;y<=3166;y++)F[y]=0;for(y=3168;y<=3172;y++)F[y]=0;for(y=3174;y<=3203;y++)F[y]=0;for(y=3294;y<=3358;y++)F[y]=0;for(y=3367;y<=3403;y++)F[y]=0;for(y=3408;y<=3416;y++)F[y]=0;for(y=3417;y<=3438;y++)F[y]=2;for(y=3441;y<=3446;y++)F[y]=2;for(y=3447;y<=3450;y++)F[y]=0;for(y=3451;y<=3459;y++)F[y]=2;for(y=3460;y<=3478;y++)F[y]=0;for(y=3554;y<=3559;y++)F[y]=0;for(y=3560;y<=3570;y++)F[y]=2;for(y=3571;y<=3581;y++)F[y]=0;for(y=3594;y<=3597;y++)F[y]=0;for(y=3601;y<=3604;y++)F[y]=0;for(y=3637;y<=3639;y++)F[y]=0;for(y=3665;y<=3667;y++)F[y]=0;for(y=3693;y<=3695;y++)F[y]=0;for(y=3701;y<=3727;y++)F[y]=0;for(y=3728;y<=3739;y++)F[y]=2;for(y=3740;y<=3751;y++)F[y]=0;for(y=3753;y<=3760;y++)F[y]=2;for(y=3761;y<=3773;y++)F[y]=0;for(y=3775;y<=3777;y++)F[y]=0;for(y=3779;y<=3781;y++)F[y]=0;for(y=3783;y<=3785;y++)F[y]=0;for(y=3788;y<=3791;y++)F[y]=0;for(y=3797;y<=3802;y++)F[y]=0;for(y=3814;y<=3816;y++)F[y]=0;for(y=3825;y<=3829;y++)F[y]=0;for(y=3832;y<=3841;y++)F[y]=0;for(y=3844;y<=3852;y++)F[y]=0;for(y=3873;y<=3885;y++)F[y]=0;for(y=3890;y<=3893;y++)F[y]=0;for(y=3907;y<=3912;y++)F[y]=0;for(y=3942;y<=3950;y++)F[y]=0;for(y=3968;y<=3970;y++)F[y]=0;for(y=3973;y<=3976;y++)F[y]=0;for(y=3986;y<=3989;y++)F[y]=0;for(y=3994;y<=3997;y++)F[y]=0;for(y=4048;y<=4051;y++)F[y]=0;for(y=4056;y<=4063;y++)F[y]=0;for(y=4093;y<=4096;y++)F[y]=0;for(y=4390;y<=4398;y++)F[y]=0;for(y=4399;y<=4413;y++)F[y]=2;for(y=4418;y<=4433;y++)F[y]=2;for(y=4455;y<=4457;y++)F[y]=2;for(y=4484;y<=4489;y++)F[y]=0;for(y=4491;y<=4554;y++)F[y]=0;for(y=4568;y<=4589;y++)F[y]=0;for(y=4652;y<=4656;y++)F[y]=0;for(y=4766;y<=4800;y++)F[y]=0;for(y=5014;y<=5016;y++)F[y]=0;for(y=5069;y<=5072;y++)F[y]=0;for(y=5105;y<=5130;y++)F[y]=0;for(y=5167;y<=5188;y++)F[y]=0;for(y=5253;y<=5259;y++)F[y]=0;for(y=5269;y<=5275;y++)F[y]=0;for(y=5292;y<=5311;y++)F[y]=0;for(y=5329;y<=5331;y++)F[y]=0;for(y=5343;y<=5349;y++)F[y]=0;for(y=5355;y<=5357;y++)F[y]=0;for(y=5387;y<=5389;y++)F[y]=0;for(y=5459;y<=5463;y++)F[y]=0;for(y=5479;y<=5482;y++)F[y]=0;for(y=5518;y<=5520;y++)F[y]=0;for(y=5530;y<=5539;y++)F[y]=0;for(y=5550;y<=5552;y++)F[y]=0;for(y=5562;y<=5583;y++)F[y]=0;for(y=5623;y<=5625;y++)F[y]=2;for(y=5631;y<=5639;y++)F[y]=0;for(y=5649;y<=5653;y++)F[y]=0;for(y=5663;y<=5680;y++)F[y]=0;for(y=5682;y<=5685;y++)F[y]=0;for(y=5875;y<=5877;y++)F[y]=0;for(y=5896;y<=5899;y++)F[y]=0;for(y=5921;y<=5940;y++)F[y]=0;for(y=6050;y<=6125;y++)F[y]=0;for(y=6244;y<=6275;y++)F[y]=0;for(y=6328;y<=6348;y++)F[y]=0;for(y=6350;y<=6356;y++)F[y]=0;for(y=6366;y<=6372;y++)F[y]=0;for(y=6381;y<=6387;y++)F[y]=0;for(y=6393;y<=6404;y++)F[y]=0;for(y=6480;y<=6483;y++)F[y]=0;for(y=6511;y<=6514;y++)F[y]=0;for(y=6579;y<=6581;y++)F[y]=0;for(y=6619;y<=6624;y++)F[y]=0;for(y=6625;y<=6627;y++)F[y]=2;for(y=6628;y<=6632;y++)F[y]=0;for(y=6634;y<=6637;y++)F[y]=0;for(y=6669;y<=6692;y++)F[y]=0;for(y=6707;y<=6709;y++)F[y]=0;for(y=6720;y<=6723;y++)F[y]=0;for(y=6732;y<=6738;y++)F[y]=0;for(y=6931;y<=6933;y++)F[y]=0;for(y=6956;y<=6959;y++)F[y]=0;for(y=7005;y<=7007;y++)F[y]=0;for(y=7057;y<=7070;y++)F[y]=2;for(y=7074;y<=7082;y++)F[y]=0;for(y=7109;y<=7118;y++)F[y]=0;for(y=7119;y<=7127;y++)F[y]=1;for(y=7374;y<=7376;y++)F[y]=0;for(y=7528;y<=7586;y++)F[y]=0;for(y=7587;y<=7645;y++)F[y]=2;for(y=7692;y<=7696;y++)F[y]=0;for(y=7755;y<=7787;y++)F[y]=0;for(y=7791;y<=7795;y++)F[y]=0;for(y=7799;y<=7801;y++)F[y]=0;for(y=7803;y<=7805;y++)F[y]=0;for(y=7825;y<=7831;y++)F[y]=0;for(y=7845;y<=7859;y++)F[y]=0;for(y=8013;y<=8032;y++)F[y]=0;for(y=8065;y<=8068;y++)F[y]=1;for(y=8518;y<=8529;y++)F[y]=2;for(y=8533;y<=8536;y++)F[y]=2;for(y=8538;y<=8540;y++)F[y]=2;for(y=8677;y<=8679;y++)F[y]=0;for(y=8836;y<=8840;y++)F[y]=0;for(y=8857;y<=8859;y++)F[y]=0;for(y=8908;y<=8910;y++)F[y]=0;for(y=9154;y<=9159;y++)F[y]=0;for(y=9205;y<=9218;y++)F[y]=0;for(y=9271;y<=9273;y++)F[y]=0;for(y=9295;y<=9297;y++)F[y]=0;for(y=9356;y<=9360;y++)F[y]=0;for(y=9404;y<=9407;y++)F[y]=0;for(y=9476;y<=9482;y++)F[y]=0;for(y=9487;y<=9494;y++)F[y]=0;for(y=9697;y<=9699;y++)F[y]=0;for(y=9821;y<=9865;y++)F[y]=0;for(y=10285;y<=10291;y++)F[y]=0;for(y=10314;y<=10317;y++)F[y]=0;for(y=10448;y<=10465;y++)F[y]=0;for(y=10726;y<=10729;y++)F[y]=0;for(y=10731;y<=10733;y++)F[y]=0;for(y=11114;y<=11118;y++)F[y]=0;for(y=20004;y<=20032;y++)F[y]=0;for(y=20047;y<=20049;y++)F[y]=0;for(y=20062;y<=20092;y++)F[y]=0;for(y=20135;y<=20138;y++)F[y]=0;for(y=20248;y<=20258;y++)F[y]=0;for(y=20348;y<=20358;y++)F[y]=0;for(y=20436;y<=20440;y++)F[y]=0;for(y=20822;y<=20824;y++)F[y]=0;for(y=20904;y<=20932;y++)F[y]=0;for(y=20934;y<=20936;y++)F[y]=0;for(y=21004;y<=21032;y++)F[y]=0;for(y=21035;y<=21037;y++)F[y]=0;for(y=21095;y<=21097;y++)F[y]=0;for(y=21148;y<=21150;y++)F[y]=0;for(y=21207;y<=21264;y++)F[y]=0;for(y=21307;y<=21364;y++)F[y]=0;for(y=21413;y<=21423;y++)F[y]=0;for(y=21453;y<=21463;y++)F[y]=0;for(y=21473;y<=21483;y++)F[y]=0;for(y=21780;y<=21782;y++)F[y]=0;for(y=21891;y<=21894;y++)F[y]=0;for(y=21896;y<=21899;y++)F[y]=0;for(y=22171;y<=22177;y++)F[y]=0;for(y=22181;y<=22187;y++)F[y]=0;for(y=22191;y<=22197;y++)F[y]=0;for(y=22207;y<=22222;y++)F[y]=0;for(y=22229;y<=22232;y++)F[y]=0;for(y=22234;y<=22236;y++)F[y]=0;for(y=22243;y<=22250;y++)F[y]=0;for(y=22262;y<=22265;y++)F[y]=0;for(y=22307;y<=22322;y++)F[y]=0;for(y=22348;y<=22357;y++)F[y]=0;for(y=22407;y<=22422;y++)F[y]=0;for(y=22462;y<=22465;y++)F[y]=0;for(y=22521;y<=22525;y++)F[y]=0;for(y=22607;y<=22622;y++)F[y]=0;for(y=22641;y<=22646;y++)F[y]=0;for(y=22648;y<=22657;y++)F[y]=0;for(y=22707;y<=22722;y++)F[y]=0;for(y=22762;y<=22765;y++)F[y]=0;for(y=22807;y<=22822;y++)F[y]=0;for(y=22991;y<=22994;y++)F[y]=0;for(y=23028;y<=23038;y++)F[y]=0;for(y=23301;y<=23333;y++)F[y]=2;for(y=23830;y<=23853;y++)F[y]=0;for(y=23866;y<=23872;y++)F[y]=0;for(y=23877;y<=23884;y++)F[y]=0;for(y=23886;y<=23894;y++)F[y]=0;for(y=23946;y<=23948;y++)F[y]=0;for(y=24311;y<=24313;y++)F[y]=0;for(y=24342;y<=24347;y++)F[y]=0;for(y=24370;y<=24374;y++)F[y]=10;for(y=24375;y<=24381;y++)F[y]=0;for(y=24718;y<=24721;y++)F[y]=0;for(y=24817;y<=24821;y++)F[y]=0;for(y=24877;y<=24882;y++)F[y]=0;for(y=24891;y<=24893;y++)F[y]=0;for(y=25391;y<=25395;y++)F[y]=0;for(y=25828;y<=25838;y++)F[y]=0;for(y=26191;y<=26195;y++)F[y]=0;for(y=26391;y<=26393;y++)F[y]=0;for(y=26701;y<=26722;y++)F[y]=0;for(y=26729;y<=26799;y++)F[y]=2;for(y=26801;y<=26803;y++)F[y]=2;for(y=26811;y<=26813;y++)F[y]=2;for(y=26847;y<=26870;y++)F[y]=2;for(y=26891;y<=26899;y++)F[y]=0;for(y=26901;y<=26923;y++)F[y]=0;for(y=26929;y<=26946;y++)F[y]=0;for(y=26948;y<=26998;y++)F[y]=0;for(y=27037;y<=27040;y++)F[y]=0;for(y=27205;y<=27232;y++)F[y]=0;for(y=27258;y<=27260;y++)F[y]=0;for(y=27391;y<=27398;y++)F[y]=0;for(y=27561;y<=27564;y++)F[y]=0;for(y=27571;y<=27574;y++)F[y]=0;for(y=27581;y<=27584;y++)F[y]=0;for(y=27591;y<=27594;y++)F[y]=0;for(y=27700;y<=27707;y++)F[y]=0;for(y=28191;y<=28193;y++)F[y]=0;for(y=28348;y<=28358;y++)F[y]=0;for(y=28402;y<=28432;y++)F[y]=0;for(y=28462;y<=28492;y++)F[y]=0;for(y=29118;y<=29122;y++)F[y]=0;for(y=29168;y<=29172;y++)F[y]=0;for(y=29177;y<=29185;y++)F[y]=0;for(y=29187;y<=29195;y++)F[y]=0;for(y=29900;y<=29903;y++)F[y]=0;for(y=30161;y<=30179;y++)F[y]=0;for(y=30491;y<=30494;y++)F[y]=0;for(y=30729;y<=30732;y++)F[y]=0;for(y=31251;y<=31259;y++)F[y]=0;for(y=31265;y<=31268;y++)F[y]=0;for(y=31275;y<=31279;y++)F[y]=0;for(y=31281;y<=31297;y++)F[y]=0;for(y=31461;y<=31469;y++)F[y]=0;for(y=31491;y<=31495;y++)F[y]=0;for(y=31917;y<=31922;y++)F[y]=0;for(y=31965;y<=32e3;y++)F[y]=0;for(y=32001;y<=32003;y++)F[y]=2;for(y=32005;y<=32031;y++)F[y]=2;for(y=32033;y<=32060;y++)F[y]=2;for(y=32064;y<=32067;y++)F[y]=2;for(y=32074;y<=32077;y++)F[y]=2;for(y=32081;y<=32086;y++)F[y]=0;for(y=32107;y<=32130;y++)F[y]=0;for(y=32133;y<=32159;y++)F[y]=0;for(y=32164;y<=32167;y++)F[y]=2;for(y=32180;y<=32199;y++)F[y]=0;for(y=32201;y<=32260;y++)F[y]=0;for(y=32301;y<=32360;y++)F[y]=0;for(y=32401;y<=32460;y++)F[y]=0;for(y=32501;y<=32560;y++)F[y]=0;for(y=32601;y<=32662;y++)F[y]=0;for(y=32664;y<=32667;y++)F[y]=2;for(y=32701;y<=32761;y++)F[y]=0;for(y=53001;y<=53004;y++)F[y]=0;for(y=53008;y<=53019;y++)F[y]=0;for(y=53021;y<=53032;y++)F[y]=0;for(y=53034;y<=53037;y++)F[y]=0;for(y=53042;y<=53046;y++)F[y]=0;for(y=53074;y<=53080;y++)F[y]=0;for(y=54001;y<=54004;y++)F[y]=0;for(y=54008;y<=54019;y++)F[y]=0;for(y=54021;y<=54032;y++)F[y]=0;for(y=54034;y<=54037;y++)F[y]=0;for(y=54042;y<=54046;y++)F[y]=0;for(y=54048;y<=54053;y++)F[y]=0;for(y=54074;y<=54080;y++)F[y]=0;for(y=54090;y<=54096;y++)F[y]=0;for(y=54098;y<=54101;y++)F[y]=0;for(y=65161;y<=65163;y++)F[y]=0;for(y=102001;y<=102040;y++)F[y]=0;for(y=102042;y<=102063;y++)F[y]=0;for(y=102065;y<=102067;y++)F[y]=0;for(y=102070;y<=102117;y++)F[y]=0;for(y=102122;y<=102216;y++)F[y]=0;for(y=102221;y<=102377;y++)F[y]=0;for(y=102382;y<=102388;y++)F[y]=0;for(y=102389;y<=102398;y++)F[y]=2;for(y=102399;y<=102444;y++)F[y]=0;for(y=102445;y<=102447;y++)F[y]=2;for(y=102448;y<=102458;y++)F[y]=0;for(y=102459;y<=102468;y++)F[y]=2;for(y=102469;y<=102499;y++)F[y]=0;for(y=102500;y<=102519;y++)F[y]=1;for(y=102520;y<=102524;y++)F[y]=0;for(y=102525;y<=102529;y++)F[y]=2;for(y=102530;y<=102588;y++)F[y]=0;for(y=102590;y<=102598;y++)F[y]=0;for(y=102601;y<=102603;y++)F[y]=0;for(y=102605;y<=102628;y++)F[y]=0;for(y=102629;y<=102646;y++)F[y]=2;for(y=102648;y<=102700;y++)F[y]=2;for(y=102701;y<=102703;y++)F[y]=0;for(y=102707;y<=102730;y++)F[y]=2;for(y=102733;y<=102758;y++)F[y]=2;for(y=102767;y<=102900;y++)F[y]=0;for(y=102901;y<=102933;y++)F[y]=2;for(y=102934;y<=102950;y++)F[y]=13;for(y=102951;y<=102963;y++)F[y]=0;for(y=102965;y<=102969;y++)F[y]=0;for(y=102971;y<=102973;y++)F[y]=0;for(y=102975;y<=102989;y++)F[y]=0;for(y=102990;y<=102992;y++)F[y]=1;for(y=102997;y<=103002;y++)F[y]=0;for(y=103003;y<=103008;y++)F[y]=2;for(y=103009;y<=103011;y++)F[y]=0;for(y=103012;y<=103014;y++)F[y]=2;for(y=103019;y<=103021;y++)F[y]=0;for(y=103022;y<=103024;y++)F[y]=2;for(y=103029;y<=103031;y++)F[y]=0;for(y=103032;y<=103034;y++)F[y]=2;for(y=103065;y<=103068;y++)F[y]=0;for(y=103074;y<=103076;y++)F[y]=0;for(y=103077;y<=103079;y++)F[y]=1;for(y=103080;y<=103082;y++)F[y]=0;for(y=103083;y<=103085;y++)F[y]=2;for(y=103090;y<=103093;y++)F[y]=0;for(y=103097;y<=103099;y++)F[y]=0;for(y=103100;y<=103102;y++)F[y]=2;for(y=103107;y<=103109;y++)F[y]=0;for(y=103110;y<=103112;y++)F[y]=2;for(y=103113;y<=103116;y++)F[y]=0;for(y=103117;y<=103120;y++)F[y]=2;for(y=103153;y<=103157;y++)F[y]=0;for(y=103158;y<=103162;y++)F[y]=2;for(y=103163;y<=103165;y++)F[y]=0;for(y=103166;y<=103168;y++)F[y]=1;for(y=103169;y<=103171;y++)F[y]=2;for(y=103186;y<=103188;y++)F[y]=0;for(y=103189;y<=103191;y++)F[y]=2;for(y=103192;y<=103195;y++)F[y]=0;for(y=103196;y<=103199;y++)F[y]=2;for(y=103200;y<=103224;y++)F[y]=0;for(y=103225;y<=103227;y++)F[y]=1;for(y=103232;y<=103237;y++)F[y]=0;for(y=103238;y<=103243;y++)F[y]=2;for(y=103244;y<=103246;y++)F[y]=0;for(y=103247;y<=103249;y++)F[y]=2;for(y=103254;y<=103256;y++)F[y]=0;for(y=103257;y<=103259;y++)F[y]=2;for(y=103264;y<=103266;y++)F[y]=0;for(y=103267;y<=103269;y++)F[y]=2;for(y=103300;y<=103375;y++)F[y]=0;for(y=103381;y<=103383;y++)F[y]=0;for(y=103384;y<=103386;y++)F[y]=1;for(y=103387;y<=103389;y++)F[y]=0;for(y=103390;y<=103392;y++)F[y]=2;for(y=103397;y<=103399;y++)F[y]=0;for(y=103400;y<=103471;y++)F[y]=2;for(y=103476;y<=103478;y++)F[y]=0;for(y=103479;y<=103481;y++)F[y]=2;for(y=103486;y<=103488;y++)F[y]=0;for(y=103489;y<=103491;y++)F[y]=2;for(y=103492;y<=103495;y++)F[y]=0;for(y=103496;y<=103499;y++)F[y]=2;for(y=103528;y<=103543;y++)F[y]=0;for(y=103544;y<=103548;y++)F[y]=2;for(y=103549;y<=103551;y++)F[y]=0;for(y=103552;y<=103554;y++)F[y]=1;for(y=103555;y<=103557;y++)F[y]=2;for(y=103558;y<=103560;y++)F[y]=0;for(y=103571;y<=103573;y++)F[y]=0;for(y=103574;y<=103576;y++)F[y]=2;for(y=103577;y<=103580;y++)F[y]=0;for(y=103581;y<=103583;y++)F[y]=2;for(y=103595;y<=103694;y++)F[y]=0;for(y=103696;y<=103699;y++)F[y]=0;for(y=103700;y<=103793;y++)F[y]=2;for(y=103794;y<=103890;y++)F[y]=0;for(y=103891;y<=103896;y++)F[y]=2;for(y=103900;y<=103971;y++)F[y]=2;for(y=103972;y<=103977;y++)F[y]=0;for(y=112e3;y<=112101;y++)F[y]=0;const $oe=[102100,102113,3857,3785,900913],H2e=[104905,104971],q2e=[104903],G2e=[4326,...$oe,...H2e,...q2e],P2=[-20037508342788905e-9,20037508342788905e-9],Bj=[-20037508342787e-6,20037508342787e-6],PL={wkTemplate:'PROJCS["WGS_1984_Web_Mercator_Auxiliary_Sphere",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator_Auxiliary_Sphere"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],PARAMETER["Auxiliary_Sphere_Type",0.0],UNIT["Meter",1.0]]',valid:P2,origin:Bj,dx:1e-5},koe={102113:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator",GEOGCS["GCS_WGS_1984_Major_Auxiliary_Sphere",DATUM["D_WGS_1984_Major_Auxiliary_Sphere",SPHEROID["WGS_1984_Major_Auxiliary_Sphere",6378137.0,0.0]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],UNIT["Meter",1.0]]',valid:P2,origin:Bj,dx:1e-5},102100:PL,3785:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator",GEOGCS["GCS_WGS_1984_Major_Auxiliary_Sphere",DATUM["D_WGS_1984_Major_Auxiliary_Sphere",SPHEROID["WGS_1984_Major_Auxiliary_Sphere",6378137.0,0.0]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],UNIT["Meter",1.0]]',valid:P2,origin:Bj,dx:1e-5},3857:PL,4326:{wkTemplate:'GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",{Central_Meridian}],UNIT["Degree",0.0174532925199433]]',altTemplate:'PROJCS["WGS_1984_Plate_Carree",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Plate_Carree"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],UNIT["Degrees",111319.491]]',valid:[-180,180],origin:[-180,90],dx:1e-5},104971:{wkTemplate:'GEOGCS["Mars_2000_(Sphere)",DATUM["Mars_2000_(Sphere)",SPHEROID["Mars_2000_(Sphere)",3396190.0,0.0]],PRIMEM["Reference_Meridian",0.0],UNIT["Degree",0.0174532925199433]]',valid:[-180,180],origin:[-180,90],dx:1e-5},104905:{wkTemplate:'GEOGCS["GCS_Mars_2000",DATUM["D_Mars_2000",SPHEROID["Mars_2000_IAU_IAG",3396190.0,169.8944472236118]],PRIMEM["Reference_Meridian",0.0],UNIT["Degree",0.0174532925199433]]',valid:[-180,180],origin:[-180,90],dx:1e-5},900913:PL,104903:{wkTemplate:'GEOGCS["GCS_Moon_2000",DATUM["D_Moon_2000",SPHEROID["Moon_2000_IAU_IAG",1737400,0,AUTHORITY["ESRI","107903"]],AUTHORITY["ESRI","106903"]],PRIMEM["Reference_Meridian",0,AUTHORITY["ESRI","108900"]],UNIT["degree",0.0174532925199433,AUTHORITY["EPSG","9122"]],AUTHORITY["ESRI","104903"]]',valid:[-180,180],origin:[-180,90],dx:1e-5}};function Un(t,e){if(t===e)return!0;if(t==null||e==null)return!1;const i=t.wkid,r=e.wkid;if(i!=null||r!=null){if(i===r||Nd(t)&&Nd(e))return!0;const o=t.latestWkid;if(o!=null&&r===o)return!0;const a=e.latestWkid;return a!=null&&i===a}let n,s;return t.wkt2&&e.wkt2?(n=t.wkt2,s=e.wkt2):t.wkt&&e.wkt&&(n=t.wkt,s=e.wkt),!(!n||!s)&&n.toUpperCase()===s.toUpperCase()}function Ro(t){const e=t?.wkid;return e!=null&&e>=2e3&&koe[e]||null}function JA(t){if(!t)return;const{wkid:e,vcsWkid:i}=t;if(e)return i?JSON.stringify({wkid:e,vcsWkid:i}):String(e);const r=t.wkt||t.wkt2;return JSON.stringify(r?i?{wkt:r,vcsWkid:i}:{wkt:r}:{})}function O1(t){if(!ll(t))return!1;const{wkid:e}=t;if(e)return F[e]==null;const i=t.wkt2||t.wkt;return!!i&&/^\s*(?:GEOGCS|GEOGCRS|GEOGRAPHICCRS)/i.test(i)}function W2e(t){return!(Eoe(t)||Ioe(t))}function Tv(t){return t?.wkid===4326}function Git(t){return/^\s*(?:GEOD|GEODETIC|GEOG|GEOGRAPHIC|PROJ|PROJECTED|VERT|VERTICAL|ENG|ENGINEERING|PARAMETRIC|TIME|DERIVEDPROJ|COMPOUND|BOUND)CRS/i.test(t)}function KY(t){return t?.wkid===4490}function Nd(t){const e=t?.wkid;return e!=null&&e>=2e3&&$oe.includes(e)}function Y2e(t){return t?.wkid===32662}function AD(t){return t===104971||t===104905}function Eoe(t){return AD(t?.wkid)}function OD(t){return t===104903}function Ioe(t){return OD(t?.wkid)}function Z2e(t){const e=t?.wkid;return e!=null&&e>=2e3&&G2e.includes(e)}function ll(t){if(t==null)return!1;const e=t.wkid;return e!=null&&e>=2e3||t.wkt2!=null||t.wkt!=null}const Coe={wkid:4326,wkt:eg(koe[4326].wkTemplate,{Central_Meridian:"0.0"})},Moe={wkid:102100,latestWkid:3857},J2e={wkid:32662};function hU(t){return{wkt:`GEOCCS["Spherical geocentric",
    DATUM["Not specified",
      SPHEROID["Sphere",${t.radius},0]],
    PRIMEM["Greenwich",0.0,
      AUTHORITY["EPSG","8901"]],
    UNIT["m",1.0],
    AXIS["Geocentric X",OTHER],
    AXIS["Geocentric Y",EAST],
    AXIS["Geocentric Z",NORTH]
  ]`}}const X2e=hU(zr),pU=hU(Sd),fU=hU(Gm),K2e={wkt:`GEOCCS["WGS 84",
  DATUM["WGS_1984",
    SPHEROID["WGS 84",${zr.radius},298.257223563,
      AUTHORITY["EPSG","7030"]],
    AUTHORITY["EPSG","6326"]],
  PRIMEM["Greenwich",0,
    AUTHORITY["EPSG","8901"]],
  UNIT["m",1.0,
    AUTHORITY["EPSG","9001"]],
  AXIS["Geocentric X",OTHER],
  AXIS["Geocentric Y",OTHER],
  AXIS["Geocentric Z",NORTH],
  AUTHORITY["EPSG","4978"]
]`},Q2e=pU.wkt.toUpperCase(),e$e=fU.wkt.toUpperCase();function t$e(t){if(t!=null&&ll(t)){const e=t.wkid,i=t.wkt2??t.wkt;if(AD(e))return Sd;const r=i?.toUpperCase();if(i&&r===Q2e)return Sd;if(OD(e)||r&&r===e$e)return Gm}return zr}function Wit(t){return AD(t)?Sd:OD(t)?Gm:zr}function XA(t){return Un(t,X2e)}function Ym(t){return XA(t)||Un(t,pU)||Un(t,fU)}const Aoe=39.37,i$e=zr.radius*Math.PI/200,Ooe=/(?:LENGTH)?UNIT\[([^\]]+)]]$/i,q_=F,Poe=/UNIT\[([^\]]+)]/i,r$e=new Set([4305,4807,4810,4811,4812,4816,4819,4821,4901,4902,37225,104025,104026,104139,104140]),n$e=En()({millimeter:"millimeters",centimeter:"centimeters",meter:"meters",meter_german:"german-meters",kilometer:"kilometers",decimeter:"decimeters",micrometer:"micrometers",nanometer:"nanometers","50_kilometers":"50-kilometers","150_kilometers":"150-kilometers",foot:"feet",foot_us:"us-feet",foot_clarke:"clarke-feet",fathom:"fathoms",nautical_mile:"nautical-miles",chain_us:"us-chains",link_us:"us-links",mile_us:"us-miles",yard_clarke:"clarke-yards",chain_clarke:"clarke-chains",link_clarke:"clarke-links",yard_sears:"sears-yards",foot_sears:"sears-feet",chain_sears:"sears-chains",link_sears:"sears-links",yard_benoit_1895_a:"benoit-1895-a-yards",foot_benoit_1895_a:"benoit-1895-a-feet",chain_benoit_1895_a:"benoit-1895-a-chains",link_benoit_1895_a:"benoit-1895-a-links",yard_benoit_1895_b:"benoit-1895-b-yards",foot_benoit_1895_b:"benoit-1895-b-feet",chain_benoit_1895_b:"benoit-1895-b-chains",link_benoit_1895_b:"benoit-1895-b-links",foot_1865:"1865-feet",foot_indian:"indian-feet",foot_indian_1937:"indian-1937-feet",foot_indian_1962:"indian-1962-feet",foot_indian_1975:"indian-1975-feet",yard_indian:"indian-yards",yard_indian_1937:"indian-1937-yards",yard_indian_1962:"indian-1962-yards",yard_indian_1975:"indian-1975-yards",statute_mile:"statute-miles",foot_gold_coast:"gold-coast-feet",foot_british_1936:"british-1936-feet",yard:"yards",chain:"chains",link:"links",yard_sears_1922_truncated:"sears-1922-truncated-yards",foot_sears_1922_truncated:"sears-1922-truncated-feet",chain_sears_1922_truncated:"sears-1922-truncated-chains",link_sears_1922_truncated:"sears-1922-truncated-links",yard_us:"us-yards",inch:"inches",inch_us:"us-inches",rod:"rods",rod_us:"us-rods",nautical_mile_us:"us-nautical-miles",nautical_mile_uk:"uk-nautical-miles",smoot:"smoots",vara_tx:"tx-vara",point:"points"}),Pc=t=>t*t,Cf=t=>t*t*t,D2={length:{baseUnit:"meters",units:{millimeters:{inBaseUnits:.001},centimeters:{inBaseUnits:.01},meters:{inBaseUnits:1},feet:{inBaseUnits:.3048},"us-feet":{inBaseUnits:.3048006096012192},"clarke-feet":{inBaseUnits:.3047972654},fathoms:{inBaseUnits:1.8288},"nautical-miles":{inBaseUnits:1852},"german-meters":{inBaseUnits:1.0000135965},"us-chains":{inBaseUnits:20.11684023368047},"us-links":{inBaseUnits:.2011684023368047},"us-miles":{inBaseUnits:1609.347218694438},kilometers:{inBaseUnits:1e3},"clarke-yards":{inBaseUnits:.9143917962},"clarke-chains":{inBaseUnits:20.1166195164},"clarke-links":{inBaseUnits:.201166195164},"sears-yards":{inBaseUnits:.9143984146160287},"sears-feet":{inBaseUnits:.3047994715386762},"sears-chains":{inBaseUnits:20.11676512155263},"sears-links":{inBaseUnits:.2011676512155263},"benoit-1895-a-yards":{inBaseUnits:.9143992},"benoit-1895-a-feet":{inBaseUnits:.3047997333333333},"benoit-1895-a-chains":{inBaseUnits:20.1167824},"benoit-1895-a-links":{inBaseUnits:.201167824},"benoit-1895-b-yards":{inBaseUnits:.9143992042898124},"benoit-1895-b-feet":{inBaseUnits:.3047997347632708},"benoit-1895-b-chains":{inBaseUnits:20.11678249437587},"benoit-1895-b-links":{inBaseUnits:.2011678249437587},"1865-feet":{inBaseUnits:.3048008333333334},"indian-feet":{inBaseUnits:.3047995102481469},"indian-1937-feet":{inBaseUnits:.30479841},"indian-1962-feet":{inBaseUnits:.3047996},"indian-1975-feet":{inBaseUnits:.3047995},"indian-yards":{inBaseUnits:.9143985307444408},"indian-1937-yards":{inBaseUnits:.91439523},"indian-1962-yards":{inBaseUnits:.9143988},"indian-1975-yards":{inBaseUnits:.9143985},miles:{inBaseUnits:1609.344},"statute-miles":{inBaseUnits:1609.344},"gold-coast-feet":{inBaseUnits:.3047997101815088},"british-1936-feet":{inBaseUnits:.3048007491},yards:{inBaseUnits:.9144},chains:{inBaseUnits:20.1168},links:{inBaseUnits:.201168},"sears-1922-truncated-yards":{inBaseUnits:.914398},"sears-1922-truncated-feet":{inBaseUnits:.3047993333333334},"sears-1922-truncated-chains":{inBaseUnits:20.116756},"sears-1922-truncated-links":{inBaseUnits:.20116756},"us-yards":{inBaseUnits:.9144018288036576},decimeters:{inBaseUnits:.1},inches:{inBaseUnits:.0254},"us-inches":{inBaseUnits:.0254000508001016},rods:{inBaseUnits:5.0292},"us-rods":{inBaseUnits:5.029210058420118},"us-nautical-miles":{inBaseUnits:1853.248},"uk-nautical-miles":{inBaseUnits:1853.184},smoots:{inBaseUnits:1.7018},"tx-vara":{inBaseUnits:.8466683600033867},points:{inBaseUnits:.0003527777777777778},micrometers:{inBaseUnits:1e-6},nanometers:{inBaseUnits:1e-9},"50-kilometers":{inBaseUnits:5e4},"150-kilometers":{inBaseUnits:15e4}}},area:{baseUnit:"square-meters",units:{"square-millimeters":{inBaseUnits:Pc(.001)},"square-centimeters":{inBaseUnits:Pc(.01)},"square-decimeters":{inBaseUnits:Pc(.1)},"square-meters":{inBaseUnits:1},"square-kilometers":{inBaseUnits:Pc(1e3)},"square-inches":{inBaseUnits:Pc(.0254)},"square-feet":{inBaseUnits:Pc(.3048)},"square-yards":{inBaseUnits:Pc(.9144)},"square-miles":{inBaseUnits:Pc(1609.344)},"square-nautical-miles":{inBaseUnits:Pc(1852)},"square-us-feet":{inBaseUnits:Pc(1200/3937)},acres:{inBaseUnits:.0015625*Pc(1609.344)},ares:{inBaseUnits:100},hectares:{inBaseUnits:1e4}}},volume:{baseUnit:"liters",units:{liters:{inBaseUnits:1},"cubic-millimeters":{inBaseUnits:1e3*Cf(.001)},"cubic-centimeters":{inBaseUnits:1e3*Cf(.01)},"cubic-decimeters":{inBaseUnits:1e3*Cf(.1)},"cubic-meters":{inBaseUnits:1e3},"cubic-kilometers":{inBaseUnits:1e3*Cf(1e3)},"cubic-inches":{inBaseUnits:1e3*Cf(.0254)},"cubic-feet":{inBaseUnits:1e3*Cf(.3048)},"cubic-yards":{inBaseUnits:1e3*Cf(.9144)},"cubic-miles":{inBaseUnits:1e3*Cf(1609.344)}}},angle:{baseUnit:"radians",units:{radians:{inBaseUnits:1},degrees:{inBaseUnits:Math.PI/180}}}},s$e=(()=>{const t={};for(const e in D2)for(const i in D2[e].units)t[i]=e;return t})();function o$e(t,e,i){return t*D2[i].units[e].inBaseUnits}function a$e(t,e,i){return t/D2[i].units[e].inBaseUnits}const l$e=["inches","feet","yards","miles","nautical-miles","us-feet","millimeters","centimeters","decimeters","meters","kilometers"],c$e=["metric","imperial"],Doe=[...c$e,...l$e],u$e=new Map([["meters","square-meters"],["feet","square-feet"],["us-feet","square-us-feet"]]);function Hj(t){const e=s$e[t];if(!e)throw new Error("unknown type");return e}function QY(t,e=null){return e=e||Hj(t),D2[e].baseUnit===t}function Wr(t,e,i){if(e===i)return t;const r=Hj(e);if(r!==Hj(i))throw new Error("incompatible units");const n=QY(e,r)?t:o$e(t,e,r);return QY(i,r)?n:a$e(n,i,r)}function Yit(t,e,i,r=!1){if(!r&&O1(e))throw new Error("Unable to convert from an angular unit to a linear unit.");const n=Wv(e);return n!==i&&(t=n?Wr(t,n,i):Wr(t*=dc(e),"meters",i)),t}function Zit(t,e,i,r=!1){if(!r&&O1(i))throw new Error("Unable to convert from a linear unit to an angular unit.");const n=Wv(i);return e!==n&&(t=n?Wr(t,e,n):Wr(t,e,"meters")/dc(i)),t}function d$e(t){switch(t){case"metric":return"meters";case"imperial":return"feet";default:return t}}function Jit(t){return d$e(t)}function Xit(t){switch(t){case"metric":return"square-meters";case"imperial":return"square-feet";default:return t}}function Kit(t,e,i){switch(i){case"metric":return h$e(t,e);case"imperial":return f$e(t,e);default:return i}}function Qit(t,e,i){switch(i){case"metric":return p$e(t,e);case"imperial":return m$e(t,e);default:return i}}function h$e(t,e){const i=Wr(t,e,"meters");return Math.abs(i)<3e3?"meters":"kilometers"}function p$e(t,e){const i=Wr(t,e,"meters");return Math.abs(i)<1e5?"meters":"kilometers"}function f$e(t,e){const i=Wr(t,e,"feet");return Math.abs(i)<1e3?"feet":"miles"}function m$e(t,e){const i=Wr(t,e,"feet");return Math.abs(i)<1e5?"feet":"miles"}function ert(t,e){const i=Wr(t,e,"square-meters");return Math.abs(i)<3e6?"square-meters":"square-kilometers"}function trt(t,e){const i=Wr(t,e,"square-feet");return Math.abs(i)<1e6?"square-feet":"square-miles"}function g$e(t,e,i){return Wr(t,e,"meters")/(i*Math.PI/180)}function mU(t){return n$e.fromJSON(t.toLowerCase())||null}function KA(t){if(t!=null&&!W2e(t))return 1;const e=dc(t);return e>1e5?1:e}function Roe(t){return dc(t)>=t$e(t).metersPerDegree?"meters":Wv(t)}function dc(t,e=zr.metersPerDegree){return y$e(t,!0)??e}function y$e(t,e=!1){const i=t?.wkid??null,r=t?.wkt2??t?.wkt??null;let n=null;if(i){if(AD(i))return Sd.metersPerDegree;if(OD(i))return Gm.metersPerDegree;n=q_.values[q_[i]],!n&&e&&r$e.has(i)&&(n=i$e)}else r&&(Noe(r)?n=eZ(Ooe.exec(r),n):zoe(r)&&(n=eZ(Poe.exec(r),n)));return n}function irt(t){return O1(t)?1:dc(t)}function eZ(t,e){return t?.[1]?Loe(t[1]):e}function Loe(t){return parseFloat(t.split(",")[1])}function Wv(t){const e=t?.wkid??null,i=t?.wkt2??t?.wkt??null;let r=null;if(e)r=q_.units[q_[e]];else if(i){const n=Noe(i)?Ooe:zoe(i)?Poe:null;if(n){const s=n.exec(i);s?.[1]&&(r=b$e(s[1]))}}return r!=null?mU(r):null}function rrt(t){const e=Wv(t);return e!=null&&Doe.includes(e)?e:null}function nrt(t){const e=Roe(t);return e!=null&&Doe.includes(e)?e:null}function srt(t){const e=Wv(t);return e==null?null:u$e.get(e)}function zoe(t){return/^GEOCCS/i.test(t)}function Noe(t){return/^\s*(?:PROJCS|PROJCRS|PROJECTEDCRS)/i.test(t)}const v$e=1e-7;function b$e(t){let i=/[\\"']([^\\"']+)/.exec(t)?.[1];if(!i||!mU(i)){const r=Loe(t);i=null;const n=q_.values;for(let s=0;s<n.length;++s)if(Math.abs(r-n[s])<v$e){i=q_.units[s];break}}return i}function ort(t){const e=Wv(t);if(e==null)return null;switch(e){case"feet":case"us-feet":case"clarke-feet":case"fathoms":case"nautical-miles":case"us-chains":case"us-links":case"us-miles":case"clarke-yards":case"clarke-chains":case"clarke-links":case"sears-yards":case"sears-feet":case"sears-chains":case"sears-links":case"benoit-1895-a-yards":case"benoit-1895-a-feet":case"benoit-1895-a-chains":case"benoit-1895-a-links":case"benoit-1895-b-yards":case"benoit-1895-b-feet":case"benoit-1895-b-chains":case"benoit-1895-b-links":case"1865-feet":case"indian-feet":case"indian-1937-feet":case"indian-1962-feet":case"indian-1975-feet":case"indian-yards":case"indian-1937-yards":case"indian-1962-yards":case"indian-1975-yards":case"statute-miles":case"gold-coast-feet":case"british-1936-feet":case"yards":case"chains":case"links":case"sears-1922-truncated-yards":case"sears-1922-truncated-feet":case"sears-1922-truncated-chains":case"sears-1922-truncated-links":case"us-yards":case"inches":case"us-inches":case"rods":case"us-rods":case"us-nautical-miles":case"uk-nautical-miles":case"smoots":case"tx-vara":case"points":return"imperial";case"millimeters":case"centimeters":case"meters":case"german-meters":case"kilometers":case"decimeters":case"micrometers":case"nanometers":case"50-kilometers":case"150-kilometers":return"metric"}return null}const w$e={esriAcres:"acres",esriAres:"ares",esriHectares:"hectares",esriSquareCentimeters:"square-centimeters",esriSquareDecimeters:"square-decimeters",esriSquareFeet:"square-feet",esriSquareInches:"square-inches",esriSquareKilometers:"square-kilometers",esriSquareMeters:"square-meters",esriSquareMiles:"square-miles",esriSquareMillimeters:"square-millimeters",esriSquareUsFeet:"square-us-feet",esriSquareYards:"square-yards"},_$e={esriCentimeters:"centimeters",esriDecimeters:"decimeters",esriFeet:"feet",esriInches:"inches",esriKilometers:"kilometers",esriMeters:"meters",esriMiles:"miles",esriMillimeters:"millimeters",esriNauticalMiles:"nautical-miles",esriYards:"yards"},x$e={esriDUDecimalDegrees:"degrees",esriDURadians:"radians"},S$e=En()(w$e),T$e=En()(_$e),art=En()(x$e);function ze(t,e,i){let r,n;return e===void 0?(n=t,r=[void 0]):typeof e!="string"?(n=t,r=[void 0],i=e):(n=e,r=Array.isArray(t)?t:[t]),(s,o)=>{const a=s.constructor.prototype;for(const l of r){const h=h9(s,l,n);h.write&&typeof h.write=="object"||(h.write={}),i&&(h.write.target=i),h.write.writer=a[o]}}}var Wu,wd;let Ke=(wd=class extends ge{static fromJSON(e){if(!e)return null;if(e?.wkid===102100)return Wu.WebMercator;if(e?.wkid===4326)return Wu.WGS84;const i=new Wu;return i.read(e),i}constructor(e){super(e),this.latestWkid=null,this.wkid=null,this.wkt=null,this.wkt2=null,this.vcsWkid=null,this.latestVcsWkid=null,this.imageCoordinateSystem=null}normalizeCtorArgs(e){return e&&typeof e=="object"?e:{[typeof e=="string"?"wkt":"wkid"]:e}}get isWGS84(){return Tv(this)}get isWebMercator(){return Nd(this)}get isGeographic(){return O1(this)}get isWrappable(){return Z2e(this)}get metersPerUnit(){return dc(this)}get unit(){return Wv(this)||(this.isGeographic?"degrees":null)}writeWkt(e,i){this.wkid||(i.wkt=e)}clone(){if(this===Wu.WGS84)return new Wu(Coe);if(this===Wu.WebMercator)return new Wu(Moe);const e=new Wu;return this.wkid!=null?(e.wkid=this.wkid,this.latestWkid!=null&&(e.latestWkid=this.latestWkid),this.vcsWkid!=null&&(e.vcsWkid=this.vcsWkid),this.latestVcsWkid!=null&&(e.latestVcsWkid=this.latestVcsWkid)):(this.wkt!=null&&(e.wkt=this.wkt),this.wkt2!=null&&(e.wkt2=this.wkt2)),this.imageCoordinateSystem&&(e.imageCoordinateSystem=ne(this.imageCoordinateSystem)),e}equals(e){if(e==null)return!1;if(this.imageCoordinateSystem||e.imageCoordinateSystem){if(this.imageCoordinateSystem==null||e.imageCoordinateSystem==null)return!1;const{id:i,referenceServiceName:r}=e.imageCoordinateSystem,{geodataXform:n}=e.imageCoordinateSystem,s=this.imageCoordinateSystem;return i==null||n?JSON.stringify(s)===JSON.stringify(e.imageCoordinateSystem):r?s.id===i&&s.referenceServiceName===r:s.id===i}return Un(this,e)}toJSON(e){return this.write(void 0,e)}},Wu=wd,wd.GCS_NAD_1927=null,wd.WGS84=null,wd.WebMercator=null,wd.PlateCarree=null,wd);u([p({readOnly:!0})],Ke.prototype,"isWGS84",null),u([p({readOnly:!0})],Ke.prototype,"isWebMercator",null),u([p({readOnly:!0})],Ke.prototype,"isGeographic",null),u([p({readOnly:!0})],Ke.prototype,"isWrappable",null),u([p({type:Ht,json:{write:!0}})],Ke.prototype,"latestWkid",void 0),u([p({readOnly:!0})],Ke.prototype,"metersPerUnit",null),u([p({readOnly:!0})],Ke.prototype,"unit",null),u([p({type:Ht,json:{write:!0,origins:{"web-scene":{write:{overridePolicy(){return{isRequired:this.wkt==null}}}}}}})],Ke.prototype,"wkid",void 0),u([p({type:String,json:{origins:{"web-scene":{write:{overridePolicy(){return{isRequired:this.wkid==null}}}}}}})],Ke.prototype,"wkt",void 0),u([ze("wkt"),ze("web-scene","wkt")],Ke.prototype,"writeWkt",null),u([p({type:String,json:{write:!1}})],Ke.prototype,"wkt2",void 0),u([p({type:Ht,json:{write:!0}})],Ke.prototype,"vcsWkid",void 0),u([p({type:Ht,json:{write:!0}})],Ke.prototype,"latestVcsWkid",void 0),u([p()],Ke.prototype,"imageCoordinateSystem",void 0),Ke=Wu=u([j("esri.geometry.SpatialReference")],Ke),Ke.prototype.toJSON.isDefaultToJSON=!0,Ke.GCS_NAD_1927=at.freeze(new Ke({wkid:4267,wkt:'GEOGCS["GCS_North_American_1927",DATUM["D_North_American_1927",SPHEROID["Clarke_1866",6378206.4,294.9786982]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]]'})),Ke.WGS84=at.freeze(new Ke(Coe)),Ke.WebMercator=at.freeze(new Ke(Moe)),Ke.PlateCarree=at.freeze(new Ke(J2e));let Rn=class extends ge{constructor(...e){super(...e),this.type=null,this.hasM=!1,this.hasZ=!1,this.spatialReference=Ke.WGS84}get cache(){return this.commitProperty("spatialReference"),{}}get extent(){return null}readSpatialReference(e,i){if(e instanceof Ke)return e;if(e!=null){const r=new Ke;return r.read(e,i),r}return e}clone(){return console.warn(".clone() is not implemented for "+this.declaredClass),null}clearCache(){this.notifyChange("cache")}getCacheValue(e){return this.cache[e]}setCacheValue(e,i){this.cache[e]=i}};u([p()],Rn.prototype,"type",void 0),u([p({readOnly:!0})],Rn.prototype,"cache",null),u([p({readOnly:!0})],Rn.prototype,"extent",null),u([p({type:Boolean,json:{write:{overridePolicy:t=>({enabled:t})}}})],Rn.prototype,"hasM",void 0),u([p({type:Boolean,json:{write:{overridePolicy:t=>({enabled:t})}}})],Rn.prototype,"hasZ",void 0),u([p({type:Ke,json:{write:!0},value:Ke.WGS84})],Rn.prototype,"spatialReference",void 0),u([Ae("spatialReference")],Rn.prototype,"readSpatialReference",null),Rn=u([j("esri.geometry.Geometry")],Rn);function G_(t){if(t&&typeof t=="object"&&"type"in t&&t.type==="mesh")throw new ee("internal:mesh","Mesh geometries are not supported for this operation")}function $$e(t){t.forEach(G_)}const k$e=57.29577951308232,E$e=.017453292519943;function tZ(t){return t*k$e}function iZ(t){return t*E$e}function crt(t){return Math.PI/2-2*Math.atan(Math.exp(-t/zr.radius))}function qj(t){return t.wkid!=null||t.wkt!=null}const DL=[0,0];function QA(t,e,i,r,n){const s=t,o=n;if(o.spatialReference=i,"x"in s&&"x"in o)[o.x,o.y]=e(s.x,s.y,DL,r);else if("xmin"in s&&"xmin"in o)[o.xmin,o.ymin]=e(s.xmin,s.ymin,DL,r),[o.xmax,o.ymax]=e(s.xmax,s.ymax,DL,r);else if("paths"in s&&"paths"in o||"rings"in s&&"rings"in o){const a="paths"in s?s.paths:s.rings,l=[];let h;for(let f=0;f<a.length;f++){const g=a[f];h=[],l.push(h);for(let v=0;v<g.length;v++)h.push(e(g[v][0],g[v][1],[0,0],r)),g[v].length>2&&h[v].push(g[v][2]),g[v].length>3&&h[v].push(g[v][3])}"paths"in o?o.paths=l:o.rings=l}else if("points"in s&&"points"in o){const a=s.points,l=[];for(let h=0;h<a.length;h++)l[h]=e(a[h][0],a[h][1],[0,0],r),a[h].length>2&&l[h].push(a[h][2]),a[h].length>3&&l[h].push(a[h][3]);o.points=l}return n}function qC(t,e){const i=t&&(qj(t)?t:t.spatialReference),r=e&&(qj(e)?e:e.spatialReference);return!(t&&"type"in t&&t.type==="mesh"||e&&"type"in e&&e.type==="mesh"||!i||!r)&&(!!Un(r,i)||Nd(r)&&Tv(i)||Nd(i)&&Tv(r))}function PD(t,e){if(t==null)return null;const i=t.spatialReference,r=e&&(qj(e)?e:e.spatialReference);return qC(i,r)?Un(i,r)?ne(t):Nd(r)?QA(t,$w,Ke.WebMercator,!1,ne(t)):Tv(r)?QA(t,DD,Ke.WGS84,!1,ne(t)):null:null}function $w(t,e,i=[0,0]){e>89.99999?e=89.99999:e<-89.99999&&(e=-89.99999);const r=iZ(e);return i[0]=iZ(t)*zr.radius,i[1]=zr.halfSemiMajorAxis*Math.log((1+Math.sin(r))/(1-Math.sin(r))),i}function DD(t,e,i=[0,0],r=!1){if(t===P2[0])i[0]=-180;else if(t===P2[1])i[0]=180;else{const n=tZ(t/zr.radius);i[0]=r?n:n-360*Math.floor((n+180)/360)}return i[1]=tZ(Math.PI/2-2*Math.atan(Math.exp(-e/zr.radius))),i}function Rm(t,e=!1,i=ne(t)){return G_(t),G_(i),QA(t,$w,Ke.WebMercator,e,i)}function kw(t,e=!1,i=ne(t)){return G_(t),G_(i),QA(t,DD,Ke.WGS84,e,i)}function joe(t,e){const i=t.x-e.x,r=t.y-e.y,n=t.z!=null&&e.z!=null?t.z-e.z:0;return Math.sqrt(i*i+r*r+n*n)}function I$e(t){return Foe(t,Voe)?.[0]??null}function C$e(t){return Foe(t,Voe)?.[1]??null}function Foe({x:t,y:e,spatialReference:i},r=[0,0]){if(i){if(Nd(i))return DD(t,e,r);if(O1(i))return r[0]=t,r[1]=e,r}return null}const Voe=[0,0];var GC;const RL=[0,0];function rZ(t){return t&&(t.declaredClass==="esri.geometry.SpatialReference"||t.wkid!=null)}let wt=GC=class extends Rn{static copy(t,e){e._set("x",t._get("x")),e._set("y",t._get("y")),e._set("z",t._get("z")),e._set("m",t._get("m"));const i=t._get("spatialReference");e._set("spatialReference",at.isFrozen(i)?i:i.clone())}constructor(...t){super(...t),this.x=0,this.y=0,this.z=void 0,this.m=void 0,this.type="point"}normalizeCtorArgs(t,e,i,r,n){let s;if(Array.isArray(t))s=t,n=e,t=s[0],e=s[1],i=s[2],r=s[3];else if(t&&typeof t=="object"){if(s=t,t=s.x!=null?s.x:s.longitude,e=s.y!=null?s.y:s.latitude,i=s.z,r=s.m,(n=s.spatialReference)&&n.declaredClass!=="esri.geometry.SpatialReference"&&(n=new Ke(n)),s.longitude!=null||s.latitude!=null){if(s.longitude==null)Ee.getLogger(this).warn(".longitude=","Latitude was defined without longitude");else if(s.latitude==null)Ee.getLogger(this).warn(".latitude=","Longitude was defined without latitude");else if(!s.declaredClass&&n?.isWebMercator){const a=$w(s.longitude,s.latitude,RL);t=a[0],e=a[1]}}}else rZ(i)?(n=i,i=null):rZ(r)&&(n=r,r=null);const o={x:t,y:e};return o.x==null&&o.y!=null?Ee.getLogger(this).warn(".y=","Y coordinate was defined without an X coordinate"):o.y==null&&o.x!=null&&Ee.getLogger(this).warn(".x=","X coordinate was defined without a Y coordinate"),n!=null&&(o.spatialReference=n),i!=null&&(o.z=i),r!=null&&(o.m=r),o}get cache(){return this.commitProperty("x"),this.commitProperty("y"),this.commitProperty("z"),this.commitProperty("m"),this.commitProperty("spatialReference"),{}}get hasM(){return this.m!==void 0}set hasM(t){t!==(this._get("m")!==void 0)&&(this._set("m",t?0:void 0),this._set("hasM",t))}get hasZ(){return this.z!==void 0}set hasZ(t){t!==(this._get("z")!==void 0)&&(this._set("z",t?0:void 0),this._set("hasZ",t))}get latitude(){return C$e(this)}set latitude(t){const{spatialReference:e,x:i}=this;t!=null&&e&&(e.isWebMercator?this._set("y",$w(i,t,RL)[1]):e.isGeographic&&this._set("y",t),this._set("latitude",t))}get longitude(){return I$e(this)}set longitude(t){const{y:e,spatialReference:i}=this;t!=null&&i&&(i.isWebMercator?this._set("x",$w(t,e,RL)[0]):i.isGeographic&&this._set("x",t),this._set("longitude",t))}writeX(t,e,i){e[i]=isNaN(t)?"NaN":t}readX(t){return typeof t=="string"?NaN:t}clone(){const t=new GC;return t.x=this.x,t.y=this.y,t.z=this.z,t.m=this.m,t.spatialReference=this.spatialReference,t}copy(t){return GC.copy(t,this),this}equals(t){if(t==null)return!1;const{x:e,y:i,z:r,m:n,spatialReference:s}=this,{z:o,m:a}=t;let{x:l,y:h,spatialReference:f}=t;if(!s.equals(f))if(s.isWebMercator&&f.isWGS84)[l,h]=$w(l,h),f=s;else{if(!s.isWGS84||!f.isWebMercator)return!1;[l,h]=DD(l,h),f=s}return e===l&&i===h&&r===o&&n===a&&s.wkid===f.wkid}offset(t,e,i){return this.x+=t,this.y+=e,i!=null&&(this.z=(this.z??0)+i),this}normalize(){if(!this.spatialReference)return this;const t=Ro(this.spatialReference);if(!t)return this;let e=this.x;const[i,r]=t.valid,n=2*r;let s;return e>r?(s=Math.ceil(Math.abs(e-r)/n),e-=s*n):e<i&&(s=Math.ceil(Math.abs(e-i)/n),e+=s*n),this._set("x",e),this}distance(t){return joe(this,t)}toArray(){const t=this.hasZ,e=this.hasM;return t&&e?[this.x,this.y,this.z,this.m]:t?[this.x,this.y,this.z]:e?[this.x,this.y,this.m]:[this.x,this.y]}toJSON(t){return this.write({},t)}};u([p({readOnly:!0})],wt.prototype,"cache",null),u([p({type:Boolean,json:{read:!1,write:{enabled:!1,overridePolicy:null}}})],wt.prototype,"hasM",null),u([p({type:Boolean,json:{read:!1,write:{enabled:!1,overridePolicy:null}}})],wt.prototype,"hasZ",null),u([p({type:Number})],wt.prototype,"latitude",null),u([p({type:Number})],wt.prototype,"longitude",null),u([p({type:Number,json:{type:[Number,String],write:{isRequired:!0,allowNull:!0}}}),bi(t=>isNaN(t)?t:Io(t))],wt.prototype,"x",void 0),u([ze("x")],wt.prototype,"writeX",null),u([Ae("x")],wt.prototype,"readX",null),u([p({type:Number,json:{write:!0}})],wt.prototype,"y",void 0),u([p({type:Number,json:{write:{overridePolicy(){return{enabled:this.hasZ}}}}})],wt.prototype,"z",void 0),u([p({type:Number,json:{write:{overridePolicy(){return{enabled:this.hasM}}}}})],wt.prototype,"m",void 0),wt=GC=u([j("esri.geometry.Point")],wt),wt.prototype.toJSON.isDefaultToJSON=!0;const LL=[0,0];function W$(t,e){return e!=null&&xo(t,e.x,e.y,e.z)}function urt(t,e){if(!e.points?.length)return!1;for(const i of e.points)if(!W_(t,i))return!1;return!0}function M$e(t,e){const{xmin:i,ymin:r,zmin:n,xmax:s,ymax:o,zmax:a}=e;return t.hasZ&&e.hasZ?xo(t,i,r,n)&&xo(t,i,o,n)&&xo(t,s,o,n)&&xo(t,s,r,n)&&xo(t,i,r,a)&&xo(t,i,o,a)&&xo(t,s,o,a)&&xo(t,s,r,a):xo(t,i,r)&&xo(t,i,o)&&xo(t,s,o)&&xo(t,s,r)}function W_(t,e){return xo(t,e[0],e[1])}function A$e(t,e){return xo(t,e[0],e[1],e[2])}function xo(t,e,i,r){return e>=t.xmin&&e<=t.xmax&&i>=t.ymin&&i<=t.ymax&&(r==null||!t.hasZ||r>=t.zmin&&r<=t.zmax)}function gU(t,e){return LL[1]=e.y,LL[0]=e.x,O$e(t,LL)}function O$e(t,e){return yU(t.rings,e)}function yU(t,e){if(!t||t.length<1)return!1;if(P$e(t))return nZ(!1,t,e);let i=!1;for(let r=0,n=t.length;r<n;r++)i=nZ(i,t[r],e);return i}function P$e(t){return!Array.isArray(t[0][0])}function nZ(t,e,i){const[r,n]=i;let s=t,o=0;for(let a=0,l=e.length;a<l;a++){o++,o===l&&(o=0);const[h,f]=e[a],[g,v]=e[o];(f<n&&v>=n||v<n&&f>=n)&&h+(n-f)/(v-f)*(g-h)<r&&(s=!s)}return s}function D$e(t,e){return W$(t,e)}function R$e(t,e){const i=t.hasZ&&e.hasZ;let r,n,s;if(t.xmin<=e.xmin){if(r=e.xmin,t.xmax<r)return!1}else if(r=t.xmin,e.xmax<r)return!1;if(t.ymin<=e.ymin){if(n=e.ymin,t.ymax<n)return!1}else if(n=t.ymin,e.ymax<n)return!1;if(i&&e.hasZ){if(t.zmin<=e.zmin){if(s=e.zmin,t.zmax<s)return!1}else if(s=t.zmin,e.zmax<s)return!1}return!0}function L$e(t,e){const{points:i,hasZ:r}=e,n=r?A$e:W_;for(const s of i)if(n(t,s))return!0;return!1}const $v=[0,0],kv=[0,0],Ev=[0,0],Iv=[0,0],z$e=[$v,kv,Ev,Iv],Uoe=[[Ev,$v],[$v,kv],[kv,Iv],[Iv,Ev]];function N$e(t,e){return j$e(t,e.rings)}function j$e(t,e){$v[0]=t.xmin,$v[1]=t.ymax,kv[0]=t.xmax,kv[1]=t.ymax,Ev[0]=t.xmin,Ev[1]=t.ymin,Iv[0]=t.xmax,Iv[1]=t.ymin;for(const i of z$e)if(yU(e,i))return!0;for(const i of e){if(!i.length)continue;let r=i[0];if(W_(t,r))return!0;for(let n=1;n<i.length;n++){const s=i[n];if(W_(t,s)||Boe(r,s,Uoe))return!0;r=s}}return!1}function F$e(t,e){$v[0]=t.xmin,$v[1]=t.ymax,kv[0]=t.xmax,kv[1]=t.ymax,Ev[0]=t.xmin,Ev[1]=t.ymin,Iv[0]=t.xmax,Iv[1]=t.ymin;const i=e.paths;for(const r of i){if(!i.length)continue;let n=r[0];if(W_(t,n))return!0;for(let s=1;s<r.length;s++){const o=r[s];if(W_(t,o)||Boe(n,o,Uoe))return!0;n=o}}return!1}const Kn=[0,0];function V$e(t){for(let e=0;e<t.length;e++){const i=t[e];for(let n=0;n<i.length-1;n++){const s=i[n],o=i[n+1];for(let a=e+1;a<t.length;a++)for(let l=0;l<t[a].length-1;l++){const h=t[a][l],f=t[a][l+1];if(Gj(s,o,h,f,Kn)&&!(Kn[0]===s[0]&&Kn[1]===s[1]||Kn[0]===h[0]&&Kn[1]===h[1]||Kn[0]===o[0]&&Kn[1]===o[1]||Kn[0]===f[0]&&Kn[1]===f[1]))return!0}}const r=i.length;if(!(r<=4))for(let n=0;n<r-3;n++){let s=r-1;n===0&&(s=r-2);const o=i[n],a=i[n+1];for(let l=n+2;l<s;l++){const h=i[l],f=i[l+1];if(Gj(o,a,h,f,Kn)&&!(Kn[0]===o[0]&&Kn[1]===o[1]||Kn[0]===h[0]&&Kn[1]===h[1]||Kn[0]===a[0]&&Kn[1]===a[1]||Kn[0]===f[0]&&Kn[1]===f[1]))return!0}}}return!1}function Boe(t,e,i){for(let r=0;r<i.length;r++)if(Gj(t,e,i[r][0],i[r][1]))return!0;return!1}function Gj(t,e,i,r,n){const[s,o]=t,[a,l]=e,[h,f]=i,[g,v]=r,w=g-h,S=s-h,T=a-s,C=v-f,I=o-f,A=l-o,P=C*T-w*A;if(P===0)return!1;const D=(w*I-C*S)/P,L=(T*I-A*S)/P;return D>=0&&D<=1&&L>=0&&L<=1&&(n&&(n[0]=s+D*(a-s),n[1]=o+D*(l-o)),!0)}function U$e(t){switch(t){case"esriGeometryEnvelope":case"extent":return R$e;case"esriGeometryMultipoint":case"multipoint":return L$e;case"esriGeometryPoint":case"point":return D$e;case"esriGeometryMultiPatch":case"multipatch":case"esriGeometryPolygon":case"polygon":return N$e;case"esriGeometryPolyline":case"polyline":return F$e}}var Bc;function B$e(t){return t&&(t.declaredClass==="esri.geometry.SpatialReference"||t.wkid!=null)}function Mf(t,e,i){return e==null?i:i==null?e:t(e,i)}let jt=Bc=class extends Rn{constructor(...t){super(...t),this.type="extent",this.xmin=0,this.ymin=0,this.mmin=void 0,this.zmin=void 0,this.xmax=0,this.ymax=0,this.mmax=void 0,this.zmax=void 0}normalizeCtorArgs(t,e,i,r,n){return B$e(t)?{spatialReference:t,xmin:0,ymin:0,xmax:0,ymax:0}:typeof t=="object"?(t.spatialReference=t.spatialReference==null?Ke.WGS84:t.spatialReference,t):{xmin:t,ymin:e,xmax:i,ymax:r,spatialReference:n??Ke.WGS84}}static fromPoint(t){return new Bc({xmin:t.x,ymin:t.y,zmin:t.z,xmax:t.x,ymax:t.y,zmax:t.z,spatialReference:t.spatialReference})}get cache(){return this.commitProperty("xmin"),this.commitProperty("ymin"),this.commitProperty("zmin"),this.commitProperty("mmin"),this.commitProperty("xmax"),this.commitProperty("ymax"),this.commitProperty("zmax"),this.commitProperty("mmax"),this.commitProperty("spatialReference"),{}}get center(){const t=new wt({x:.5*(this.xmin+this.xmax),y:.5*(this.ymin+this.ymax),spatialReference:this.spatialReference});return this.hasZ&&(t.z=.5*(this.zmin+this.zmax)),this.hasM&&(t.m=.5*(this.mmin+this.mmax)),t}get extent(){return this.clone()}get hasM(){return this.mmin!=null&&this.mmax!=null}get hasZ(){return this.zmin!=null&&this.zmax!=null}get height(){return Math.abs(this.ymax-this.ymin)}get width(){return Math.abs(this.xmax-this.xmin)}centerAt(t){const e=this.center;return t.z!=null&&this.hasZ?this.offset(t.x-e.x,t.y-e.y,t.z-e.z):this.offset(t.x-e.x,t.y-e.y)}clone(){const t=new Bc;return t.xmin=this.xmin,t.ymin=this.ymin,t.xmax=this.xmax,t.ymax=this.ymax,t.spatialReference=this.spatialReference,this.zmin!=null&&(t.zmin=this.zmin,t.zmax=this.zmax),this.mmin!=null&&(t.mmin=this.mmin,t.mmax=this.mmax),t}contains(t){if(!t)return!1;const e=this.spatialReference,i=t.spatialReference;return e&&i&&!e.equals(i)&&qC(e,i)&&(t=e.isWebMercator?Rm(t):kw(t,!0)),t.type==="point"?W$(this,t):t.type==="extent"&&M$e(this,t)}equals(t){if(this===t)return!0;if(t==null)return!1;const e=this.spatialReference,i=t.spatialReference;return e&&i&&!e.equals(i)&&qC(e,i)&&(t=e.isWebMercator?Rm(t):kw(t,!0)),this.xmin===t.xmin&&this.ymin===t.ymin&&this.zmin===t.zmin&&this.mmin===t.mmin&&this.xmax===t.xmax&&this.ymax===t.ymax&&this.zmax===t.zmax&&this.mmax===t.mmax}expand(t){const e=.5*(1-t),i=this.width*e,r=this.height*e;if(this.xmin+=i,this.ymin+=r,this.xmax-=i,this.ymax-=r,this.hasZ){const n=(this.zmax-this.zmin)*e;this.zmin+=n,this.zmax-=n}if(this.hasM){const n=(this.mmax-this.mmin)*e;this.mmin+=n,this.mmax-=n}return this}intersects(t){if(t==null)return!1;t.type==="mesh"&&(t=t.extent);const e=this.spatialReference,i=t.spatialReference;return e&&i&&!Un(e,i)&&qC(e,i)&&(t=e.isWebMercator?Rm(t):kw(t,!0)),U$e(t.type)(this,t)}normalize(){const t=this._normalize(!1,!0);return Array.isArray(t)?t:[t]}offset(t,e,i){return this.xmin+=t,this.ymin+=e,this.xmax+=t,this.ymax+=e,i!=null&&(this.zmin+=i,this.zmax+=i),this}shiftCentralMeridian(){return this._normalize(!0)}union(t){return this===t||(this.xmin=Math.min(this.xmin,t.xmin),this.ymin=Math.min(this.ymin,t.ymin),this.xmax=Math.max(this.xmax,t.xmax),this.ymax=Math.max(this.ymax,t.ymax),(this.hasZ||t.hasZ)&&(this.zmin=Mf(Math.min,this.zmin,t.zmin),this.zmax=Mf(Math.max,this.zmax,t.zmax)),(this.hasM||t.hasM)&&(this.mmin=Mf(Math.min,this.mmin,t.mmin),this.mmax=Mf(Math.max,this.mmax,t.mmax))),this}intersection(t){return this===t?this:t!=null&&this.intersects(t)?(this.xmin=Math.max(this.xmin,t.xmin),this.ymin=Math.max(this.ymin,t.ymin),this.xmax=Math.min(this.xmax,t.xmax),this.ymax=Math.min(this.ymax,t.ymax),(this.hasZ||t.hasZ)&&(this.zmin=Mf(Math.max,this.zmin,t.zmin),this.zmax=Mf(Math.min,this.zmax,t.zmax)),(this.hasM||t.hasM)&&(this.mmin=Mf(Math.max,this.mmin,t.mmin),this.mmax=Mf(Math.min,this.mmax,t.mmax)),this):null}toJSON(t){return this.write({},t)}_shiftCM(t=Ro(this.spatialReference)){if(!t||!this.spatialReference)return this;const e=this.spatialReference,i=this._getCM(t);if(i){const r=e.isWebMercator?kw(i):i;this.xmin-=i.x,this.xmax-=i.x,e.isWebMercator||(r.x=zL(r.x,t).x),this.spatialReference=new Ke(eg((e.isWGS84?t.altTemplate:null)??t.wkTemplate,{Central_Meridian:r.x}))}return this}_getCM(t){let e=null;const[i,r]=t.valid,n=this.xmin,s=this.xmax;return n>=i&&n<=r&&s>=i&&s<=r||(e=this.center),e}_normalize(t,e,i){const r=this.spatialReference;if(!r)return this;const n=i??Ro(r);if(n==null)return this;const s=this._getParts(n).map(l=>l.extent);if(s.length<2)return s[0]||this;if(s.length>2)return t?this._shiftCM(n):this.set({xmin:n.valid[0],xmax:n.valid[1]});if(t)return this._shiftCM(n);if(e)return s;let o=!0,a=!0;return s.forEach(l=>{l.hasZ||(o=!1),l.hasM||(a=!1)}),{rings:s.map(l=>{const h=[[l.xmin,l.ymin],[l.xmin,l.ymax],[l.xmax,l.ymax],[l.xmax,l.ymin],[l.xmin,l.ymin]];if(o){const f=(l.zmax-l.zmin)/2;for(let g=0;g<h.length;g++)h[g].push(f)}if(a){const f=(l.mmax-l.mmin)/2;for(let g=0;g<h.length;g++)h[g].push(f)}return h}),hasZ:o,hasM:a,spatialReference:r}}_getParts(t){let e=this.cache._parts;if(!e){e=[];const{ymin:n,ymax:s,spatialReference:o}=this,a=this.width,l=this.xmin,h=this.xmax;let f;t=t||Ro(o);const[g,v]=t.valid;f=zL(this.xmin,t);const w=f.x,S=f.frameId;f=zL(this.xmax,t);const T=f.x,C=f.frameId,I=w===T&&a>0;if(a>2*v){const A=new Bc(l<h?w:T,n,v,s,o),P=new Bc(g,n,l<h?T:w,s,o),D=new Bc(0,n,v,s,o),L=new Bc(g,n,0,s,o),B=[],N=[];A.contains(D)&&B.push(S),A.contains(L)&&N.push(S),P.contains(D)&&B.push(C),P.contains(L)&&N.push(C);for(let Y=S+1;Y<C;Y++)B.push(Y),N.push(Y);e.push({extent:A,frameIds:[S]},{extent:P,frameIds:[C]},{extent:D,frameIds:B},{extent:L,frameIds:N})}else w>T||I?e.push({extent:new Bc(w,n,v,s,o),frameIds:[S]},{extent:new Bc(g,n,T,s,o),frameIds:[C]}):e.push({extent:new Bc(w,n,T,s,o),frameIds:[S]});this.cache._parts=e}const i=this.hasZ,r=this.hasM;if(i||r){const n={};i&&(n.zmin=this.zmin,n.zmax=this.zmax),r&&(n.mmin=this.mmin,n.mmax=this.mmax);for(let s=0;s<e.length;s++)e[s].extent.set(n)}return e}};function zL(t,e){const[i,r]=e.valid,n=2*r;let s,o=0;return t>r?(s=Math.ceil(Math.abs(t-r)/n),t-=s*n,o=s):t<i&&(s=Math.ceil(Math.abs(t-i)/n),t+=s*n,o=-s),{x:t,frameId:o}}u([p({readOnly:!0})],jt.prototype,"cache",null),u([p({readOnly:!0})],jt.prototype,"center",null),u([p({readOnly:!0})],jt.prototype,"extent",null),u([p({readOnly:!0,json:{write:{enabled:!1,overridePolicy:null}}})],jt.prototype,"hasM",null),u([p({readOnly:!0,json:{write:{enabled:!1,overridePolicy:null}}})],jt.prototype,"hasZ",null),u([p({readOnly:!0})],jt.prototype,"height",null),u([p({readOnly:!0})],jt.prototype,"width",null),u([p({type:Number,json:{type:[Number,String],write:{enabled:!0,allowNull:!0}}})],jt.prototype,"xmin",void 0),u([p({type:Number,json:{write:!0}})],jt.prototype,"ymin",void 0),u([p({type:Number,json:{origins:{"web-scene":{write:!1}},read:t=>t??void 0,write:{overridePolicy(){return{enabled:this.hasM}}}}})],jt.prototype,"mmin",void 0),u([p({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasZ}}}}})],jt.prototype,"zmin",void 0),u([p({type:Number,json:{write:!0}})],jt.prototype,"xmax",void 0),u([p({type:Number,json:{write:!0}})],jt.prototype,"ymax",void 0),u([p({type:Number,json:{origins:{"web-scene":{write:!1}},read:t=>t??void 0,write:{overridePolicy(){return{enabled:this.hasM}}}}})],jt.prototype,"mmax",void 0),u([p({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasZ}}}}})],jt.prototype,"zmax",void 0),jt=Bc=u([j("esri.geometry.Extent")],jt),jt.prototype.toJSON.isDefaultToJSON=!0;let KE;function H$e(t){return KE&&!KE.destroyed||(KE=t()),KE}var Wj;const q$e=new At({avgRating:"avg-rating",numRatings:"num-ratings",numComments:"num-comments",numViews:"num-views"});let Yr=Wj=class extends at{constructor(t){super(t),this.categories=null,this.disableExtraQuery=!1,this.extent=null,this.filter=null,this.num=10,this.query=null,this.sortField=null,this.start=1}get sortOrder(){return this._get("sortOrder")||"asc"}set sortOrder(t){t!=="asc"&&t!=="desc"||this._set("sortOrder",t)}clone(){return new Wj({categories:this.categories?ne(this.categories):null,disableExtraQuery:this.disableExtraQuery,extent:this.extent?this.extent.clone():null,filter:this.filter,num:this.num,query:this.query,sortField:this.sortField,sortOrder:this.sortOrder,start:this.start})}toRequestOptions(t,e){let i=[];this.categories&&(i=this.categories.map(o=>Array.isArray(o)?JSON.stringify(o):o));let r="";if(this.extent){const o=PD(this.extent,Ke.WGS84);o!=null&&(r=`${o.xmin},${o.ymin},${o.xmax},${o.ymax}`)}let n=this.query;!this.disableExtraQuery&&t.extraQuery&&(n="("+n+")"+t.extraQuery);const s={categories:i,bbox:r,q:n,filter:this.filter,num:this.num,sortField:null,sortOrder:null,start:this.start};return this.sortField&&(s.sortField=this.sortField.split(",").map(o=>q$e.toJSON(o.trim())).join(","),s.sortOrder=this.sortOrder),{query:{...e,...s}}}};u([p()],Yr.prototype,"categories",void 0),u([p()],Yr.prototype,"disableExtraQuery",void 0),u([p({type:jt})],Yr.prototype,"extent",void 0),u([p()],Yr.prototype,"filter",void 0),u([p()],Yr.prototype,"num",void 0),u([p()],Yr.prototype,"query",void 0),u([p()],Yr.prototype,"sortField",void 0),u([p()],Yr.prototype,"sortOrder",null),u([p()],Yr.prototype,"start",void 0),Yr=Wj=u([j("esri.portal.PortalQueryParams")],Yr);var Yj;let Hr=Yj=class extends ge{constructor(t){super(t),this.access=null,this.created=null,this.description=null,this.id=null,this.isInvitationOnly=!1,this.modified=null,this.owner=null,this.portal=null,this.snippet=null,this.sortField=null,this.sortOrder=null,this.sourceJSON=null,this.tags=null,this.title=null}get thumbnailUrl(){const t=this.url,e=this.thumbnail;return t&&e&&this.portal?this.portal?.normalizeUrl(`${t}/info/${e}?f=json`):null}get url(){const t=this.portal?.restUrl;return t?t+"/community/groups/"+this.id:null}fetchCategorySchema(t){return this.portal.request(this.url+"/categorySchema",t).then(e=>{const i=e.categorySchema||[];return i.some(r=>r.source==="contentCategorySetsGroupQuery.LivingAtlas")?this._fetchCategorySchemaSet("LivingAtlas",t):i})}fetchMembers(t){return this.portal.request(this.url+"/users",t)}getThumbnailUrl(t){let e=this.thumbnailUrl;return e&&t&&(e+=`&w=${t}`),e}toJSON(){throw new ee("internal:not-yet-implemented","PortalGroup.toJSON is not yet implemented")}static fromJSON(t){if(!t)return null;if(t.declaredClass)throw new Error("JSON object is already hydrated");const e=new Yj({sourceJSON:t});return e.read(t),e}queryItems(t,e){let i=tn(Yr,t);const r=this.portal;return parseFloat(r.currentVersion)>5?(i=i||new Yr,r.queryPortal(`/content/groups/${this.id}/search`,i,"PortalItem",e)):(i=i?i.clone():new Yr,i.query="group:"+this.id+(i.query?" "+i.query:""),r.queryItems(i,e))}_fetchCategorySchemaSet(t,e){const i=this.portal;return i.fetchSelf(i.authMode,!0,e).then(r=>{const n=r.contentCategorySetsGroupQuery;if(n){const s=new Yr({disableExtraQuery:!0,num:1,query:n});return i.queryGroups(s,e)}throw new ee("portal-group:fetchCategorySchema","contentCategorySetsGroupQuery value not found")}).then(r=>{if(r.total){const n=r.results[0],s=new Yr({num:1,query:`typekeywords:"${t}"`});return n.queryItems(s,e)}throw new ee("portal-group:fetchCategorySchema","contentCategorySetsGroupQuery group not found")}).then(r=>r.total?r.results[0].fetchData("json",e).then(n=>{const s=n?.categorySchema;return s?.length?s:[]}):[])}};u([p()],Hr.prototype,"access",void 0),u([p({type:Date})],Hr.prototype,"created",void 0),u([p()],Hr.prototype,"description",void 0),u([p()],Hr.prototype,"id",void 0),u([p()],Hr.prototype,"isInvitationOnly",void 0),u([p({type:Date})],Hr.prototype,"modified",void 0),u([p()],Hr.prototype,"owner",void 0),u([p()],Hr.prototype,"portal",void 0),u([p()],Hr.prototype,"snippet",void 0),u([p()],Hr.prototype,"sortField",void 0),u([p()],Hr.prototype,"sortOrder",void 0),u([p()],Hr.prototype,"sourceJSON",void 0),u([p()],Hr.prototype,"tags",void 0),u([p()],Hr.prototype,"thumbnail",void 0),u([p({readOnly:!0})],Hr.prototype,"thumbnailUrl",null),u([p()],Hr.prototype,"title",void 0),u([p({readOnly:!0})],Hr.prototype,"url",null),Hr=Yj=u([j("esri.portal.PortalGroup")],Hr);let ey=class extends at{constructor(e){super(e),this.nextQueryParams=null,this.queryParams=null,this.results=null,this.total=null}};u([p()],ey.prototype,"nextQueryParams",void 0),u([p()],ey.prototype,"queryParams",void 0),u([p()],ey.prototype,"results",void 0),u([p()],ey.prototype,"total",void 0),ey=u([j("esri.portal.PortalQueryResult")],ey);let $h=class extends ge{constructor(e){super(e),this.created=null,this.id=null,this.portal=null,this.title=null,this.username=null}get url(){const e=this.portal?.restUrl;return e?`${e}/content/users/${this.username}/${this.id}`:null}toJSON(){throw new ee("internal:not-yet-implemented","PortalFolder.toJSON is not yet implemented")}};u([p({type:Date})],$h.prototype,"created",void 0),u([p()],$h.prototype,"id",void 0),u([p()],$h.prototype,"portal",void 0),u([p()],$h.prototype,"title",void 0),u([p({readOnly:!0})],$h.prototype,"url",null),u([p()],$h.prototype,"username",void 0),$h=u([j("esri.portal.PortalFolder")],$h);var Zj;let zi=Zj=class extends ge{constructor(t){super(t),this.access=null,this.created=null,this.culture=null,this.description=null,this.email=null,this.fullName=null,this.id=null,this.modified=null,this.orgId=null,this.portal=null,this.preferredView=null,this.privileges=null,this.region=null,this.role=null,this.roleId=null,this.sourceJSON=null,this.units=null,this.username=null,this.userLicenseTypeId=null,this.userType=null}get thumbnailUrl(){const t=this.url,e=this.thumbnail;return t&&e?this.portal.normalizeUrl(`${t}/info/${e}?f=json`):null}get userContentUrl(){const t=this.portal?.restUrl;return t?`${t}/content/users/${this.id}`:null}get url(){const t=this.portal?.restUrl;return t?`${t}/community/users/${this.id}`:null}addItem(t){const e=t&&t.item,i=t?.data,r=t?.folder,n={method:"post"};e&&(n.query=e.createPostQuery(),i!=null&&(typeof i=="string"?n.query.text=i:typeof i=="object"&&(n.query.text=JSON.stringify(i))));let s=this.userContentUrl;return r&&(s+="/"+(typeof r=="string"?r:r.id)),this.portal.request(s+"/addItem",n).then(o=>(e.id=o.id,e.portal=this.portal,e.loaded?e.reload():e.load()))}async deleteItem(t,e=!1){let i=this.userContentUrl;t.ownerFolder&&(i+="/"+t.ownerFolder);const r=e?{permanentDelete:!0}:{};await this.portal.request(i+`/items/${t.id}/delete`,{method:"post",query:r}),t.id=null,t.portal=null}async deleteItems(t,e=!1){t=t.slice();const i=this.userContentUrl+"/deleteItems",r=[],n=t.map(s=>s.id);if(n.length){const s={method:"post",query:{items:n.join(","),permanentDelete:e}},o=await this.portal.request(i,s);for(const a of o.results){const l=t.find(g=>a.itemId===g.id),h=a.success;let f=null;h?(l.id=null,l.portal=null):a.error&&(f=new ee("portal:delete-item-failed",a.error.message,a.error)),r.push({item:l,success:h,error:f})}}return r}fetchFolders(){const t={query:{num:1}};return this.portal.request(this.userContentUrl??"",t).then(e=>{let i;return i=e&&e.folders?e.folders.map(r=>{const n=$h.fromJSON(r);return n.portal=this.portal,n}):[],i})}fetchGroups(){return this.portal.request(this.url??"").then(t=>{let e;return e=t&&t.groups?t.groups.map(i=>{const r=Hr.fromJSON(i);return r.portal=this.portal,r}):[],e})}async fetchItems(t){t??={};let e=this.userContentUrl??"";t.folder&&(e+="/"+t.folder.id);const{default:i}=await ke(()=>Promise.resolve().then(()=>Xle),void 0),r={folders:!1,inRecycleBin:!!t.inRecycleBin||null,foldersContent:!(t.folder||!t.includeSubfolderItems)||null,num:t.num||10,start:t.start||1,sortField:t.sortField||"created",sortOrder:t.sortOrder||"asc"},n=await this.portal.request(e,{query:r});let s;return n?.items?(s=n.items.map(o=>{const a=i.fromJSON(o);return a.portal=this.portal,a}),await Promise.all(s.map(o=>o.load())),{items:s,nextStart:n.nextStart,total:n.total}):{items:[],nextStart:-1,total:0}}fetchTags(){return this.portal.request(this.url+"/tags").then(t=>t.tags)}getThumbnailUrl(t){let e=this.thumbnailUrl;return e&&t&&(e+=`&w=${t}`),e}queryFavorites(t){return this.favGroupId?(this._favGroup||(this._favGroup=new Hr({id:this.favGroupId,portal:this.portal})),this._favGroup.queryItems(t)):Promise.reject(new ee("internal:unknown","Unknown internal error",{internalError:"Unknown favGroupId"}))}async restoreItem(t,e){const i=this.userContentUrl,r=e?{folderID:typeof e=="string"?e:e.id}:null;await this.portal.request(i+`/items/${t.id}/restore`,{method:"post",query:r})}toJSON(){throw new ee("internal:not-yet-implemented","PortalUser.toJSON is not yet implemented")}static fromJSON(t){if(!t)return null;if(t.declaredClass)throw new Error("JSON object is already hydrated");const e=new Zj({sourceJSON:t});return e.read(t),e}};u([p()],zi.prototype,"access",void 0),u([p({type:Date})],zi.prototype,"created",void 0),u([p()],zi.prototype,"culture",void 0),u([p()],zi.prototype,"description",void 0),u([p()],zi.prototype,"email",void 0),u([p()],zi.prototype,"favGroupId",void 0),u([p()],zi.prototype,"fullName",void 0),u([p()],zi.prototype,"id",void 0),u([p({type:Date})],zi.prototype,"modified",void 0),u([p()],zi.prototype,"orgId",void 0),u([p()],zi.prototype,"portal",void 0),u([p()],zi.prototype,"preferredView",void 0),u([p()],zi.prototype,"privileges",void 0),u([p()],zi.prototype,"region",void 0),u([p()],zi.prototype,"role",void 0),u([p()],zi.prototype,"roleId",void 0),u([p()],zi.prototype,"sourceJSON",void 0),u([p()],zi.prototype,"thumbnail",void 0),u([p({readOnly:!0})],zi.prototype,"thumbnailUrl",null),u([p()],zi.prototype,"units",void 0),u([p({readOnly:!0})],zi.prototype,"userContentUrl",null),u([p({readOnly:!0})],zi.prototype,"url",null),u([p()],zi.prototype,"username",void 0),u([p()],zi.prototype,"userLicenseTypeId",void 0),u([p()],zi.prototype,"userType",void 0),zi=Zj=u([j("esri.portal.PortalUser")],zi);var Va;let Kx;const sZ={PortalGroup:()=>Promise.resolve({default:Hr}),PortalItem:()=>ke(()=>Promise.resolve().then(()=>Xle),void 0),PortalUser:()=>Promise.resolve({default:zi})};var _d;let Le=(_d=class extends zp(Gv){constructor(e){super(e),this._esriIdCredentialCreateHandle=null,this.access=null,this.allSSL=!1,this.authMode="auto",this.authorizedCrossOriginDomains=null,this.basemapGalleryGroupQuery=null,this.basemapGalleryGroupQuery3D=null,this.g3DTilesGalleryGroupQuery=null,this.g3dTilesEnabled=null,this.bingKey=null,this.canListApps=!1,this.canListData=!1,this.canListPreProvisionedItems=!1,this.canProvisionDirectPurchase=!1,this.canSearchPublic=!0,this.canShareBingPublic=!1,this.canSharePublic=!1,this.canSignInArcGIS=!1,this.canSignInIDP=!1,this.colorSetsGroupQuery=null,this.commentsEnabled=!1,this.created=null,this.culture=null,this.customBaseUrl=null,this.default3DBasemapQuery=null,this.defaultBasemap=null,this.defaultDevBasemap=null,this.defaultExtent=null,this.defaultVectorBasemap=null,this.description=null,this.devBasemapGalleryGroupQuery=null,this.eueiEnabled=null,this.featuredGroups=null,this.featuredItemsGroupQuery=null,this.galleryTemplatesGroupQuery=null,this.layoutGroupQuery=null,this.livingAtlasGroupQuery=null,this.hasCategorySchema=!1,this.hasClassificationSchema=!1,this.helperServices=null,this.homePageFeaturedContent=null,this.homePageFeaturedContentCount=null,this.httpPort=null,this.httpsPort=null,this.id=null,this.ipCntryCode=null,this.isPortal=!1,this.isReadOnly=!1,this.layerTemplatesGroupQuery=null,this.maxTokenExpirationMinutes=null,this.modified=null,this.name=null,this.portalHostname=null,this.portalMode=null,this.portalProperties=null,this.region=null,this.recycleBinEnabled=!1,this.rotatorPanels=null,this.showHomePageDescription=!1,this.sourceJSON=null,this.supportsHostedServices=!1,this.symbolSetsGroupQuery=null,this.templatesGroupQuery=null,this.units=null,this.url=ni.portalUrl,this.urlKey=null,this.user=null,this.use3dBasemaps=!0,this.useDefault3dBasemap=!1,this.useStandardizedQuery=!1,this.useVectorBasemaps=!1,this.vectorBasemapGalleryGroupQuery=null}normalizeCtorArgs(e){return typeof e=="string"?{url:e}:e}destroy(){oZ.unregister(this),this.defaultBasemap=pr(this.defaultBasemap),this.defaultDevBasemap=pr(this.defaultDevBasemap),this.defaultVectorBasemap=pr(this.defaultVectorBasemap),this._esriIdCredentialCreateHandle=rr(this._esriIdCredentialCreateHandle)}readAuthorizedCrossOriginDomains(e){if(e)for(const i of e)ni.request.trustedServers.includes(i)||ni.request.trustedServers.push(i);return e}readDefaultBasemap(e){return this._readBasemap(e)}readDefaultDevBasemap(e){return this._readBasemap(e)}readDefaultVectorBasemap(e){return this._readBasemap(e)}get extraQuery(){const e=this.user?.orgId,i=!e||this.canSearchPublic;return this.id&&!i?` AND orgid:${this.id}`:null}get hasAPIKey(){return Lwe(this.restUrl)}get isOrganization(){return!!this.access}get itemPageUrl(){return this.url?`${this.url}/home/item.html`:null}get loaded(){return super.loaded}get restUrl(){let e=this.url;if(e){const i=e.indexOf("/sharing");e=i>0?e.slice(0,i):this.url.replace(/\/+$/,""),e+="/sharing/rest"}return e}get thumbnailUrl(){const e=this.restUrl,i=this.thumbnail;return e&&i?this._normalizeSSL(e+"/portals/self/resources/"+i):null}readUrlKey(e){return e&&e.toLowerCase()}readUser(e){let i=null;return e&&(i=zi.fromJSON(e),i.portal=this),i}load(e){const i=ke(async()=>{const{default:r}=await Promise.resolve().then(()=>QAe);return{default:r}},void 0).then(({default:r})=>{nr(e),Kx=r}).then(()=>this.sourceJSON?this.sourceJSON:this.fetchSelf(this.authMode,!1,e)).then(r=>{if(!this.hasAPIKey&&Zt){const n=Zt;this.credential=n.findCredential(this.restUrl),this.credential||this.authMode!==Va.AUTH_MODE_AUTO&&this.authMode!==Va.AUTH_MODE_NO_PROMPT||(this._esriIdCredentialCreateHandle?.remove(),this._esriIdCredentialCreateHandle=n.on("credential-create",G$e(new WeakRef(this))),oZ.register(this,this._esriIdCredentialCreateHandle,this))}this.sourceJSON=r,this.read(r)});return this.addResolvingPromise(i),Promise.resolve(this)}async createElevationLayers(){await this.load();const e=this._getHelperService("defaultElevationLayers"),i=(await ke(async()=>{const{default:r}=await import("./ElevationLayer--vT_2J6T.js");return{default:r}},__vite__mapDeps([0,1,2,3,4,5]))).default;return e?e.map(r=>new i({id:r.id,url:r.url})):[]}async fetchBasemaps(e,i){const r=await this._fetchBasemaps(e,i);if(i?.include3d===!0&&this.use3dBasemaps!==!1){const n=await this._fetchBasemaps3D(e,i);r.unshift(...n)}return r}async fetchDefault3DBasemap(e){if(!this.useDefault3dBasemap||!this.default3DBasemapQuery||this.default3DBasemapQuery==="none")return null;const i=new Yr;i.query=this.default3DBasemapQuery,i.disableExtraQuery=!0;const r=(await this.queryItems(i,e)).results.find(n=>n.type==="Web Scene");return r?new Kx({portalItem:r}):null}fetchCategorySchema(e){return this.hasCategorySchema?this.request(this.restUrl+"/portals/self/categorySchema",e).then(i=>i.categorySchema):Rs(e)?Promise.reject(Si()):Promise.resolve([])}async fetchClassificationSchema(e){return this.hasClassificationSchema?this.request(this.restUrl+"/portals/self/classification/classificationSchema",e).then(i=>i.classificationSchema):null}fetchFeaturedGroups(e){const i=this.featuredGroups,r=new Yr({num:100,sortField:"title"});if(i?.length){const n=[];for(const s of i)n.push(`(title:"${s.title}" AND owner:${s.owner})`);return r.query=n.join(" OR "),this.queryGroups(r,e).then(s=>s.results)}return Rs(e)?Promise.reject(Si()):Promise.resolve([])}fetchRegions(e){const i=this.user?.culture||this.culture||ya();return this.request(this.restUrl+"/portals/regions",{...e,query:{culture:i}})}fetchSettings(e){const i=this.user?.culture||this.culture||ya();return this.request(this.restUrl+"/portals/self/settings",{...e,query:{culture:i}})}static getDefault(){return H$e(()=>new Va)}queryGroups(e,i){return this.queryPortal("/community/groups",e,"PortalGroup",i)}queryItems(e,i){return this.queryPortal("/search",e,"PortalItem",i)}queryUsers(e,i){return e.sortField||(e.sortField="username"),this.queryPortal("/community/users",e,"PortalUser",i)}fetchSelf(e=this.authMode,i=!1,r){const n=this.restUrl+"/portals/self",s={authMode:e,query:{culture:ya().toLowerCase()},withCredentials:!0,...r};return s.authMode==="auto"&&(s.authMode="no-prompt"),i&&(s.query.default=!0),this.request(n,s)}queryPortal(e,i,r,n){const s=tn(Yr,i),o=a=>this.request(this.restUrl+e,{...s.toRequestOptions(this),...n}).then(l=>{const h=s.clone();return h.start=l.nextStart,new ey({nextQueryParams:h,queryParams:s,total:l.total,results:Va._resultsToTypedArray(a,{portal:this},l,n)})}).then(l=>Promise.all(l.results.map(h=>typeof h.when=="function"?h.when():l)).then(()=>l,h=>(md(h),l)));return r&&sZ[r]?sZ[r]().then(({default:a})=>(nr(n),o(a))):o()}signIn(){if(this.hasAPIKey)return this.load().then(()=>{if(!this.user)throw new ee("portal:not-authenticated","Unable to authenticate user. Portal.user is missing")});if(this.authMode===Va.AUTH_MODE_ANONYMOUS||this.authMode===Va.AUTH_MODE_NO_PROMPT&&!Zt)return Promise.reject(new ee("portal:invalid-auth-mode",`Current "authMode"' is "${this.authMode}"`));if(this.loadStatus==="failed")return Promise.reject(this.loadError);const e=i=>Promise.resolve().then(()=>this.loadStatus==="not-loaded"?(i||(this.authMode="immediate"),this.load().then(()=>null)):this.loadStatus==="loading"?this.load().then(()=>this.credential?null:(this.credential=i,this.fetchSelf("immediate"))):this.user&&this.credential===i?null:(this.credential=i,this.fetchSelf("immediate"))).then(r=>{r&&(this.sourceJSON=r,this.read(r))});return Zt?Zt.getCredential(this.restUrl,{prompt:this.authMode!==Va.AUTH_MODE_NO_PROMPT}).then(i=>e(i)):e(this.credential)}normalizeUrl(e){const i=this.credential?.token;return this._normalizeSSL(i?e+(e.includes("?")?"&":"?")+"token="+i:e)}requestToTypedArray(e,i,r){return this.request(e,i).then(n=>{const s=Va._resultsToTypedArray(r,{portal:this},n);return Promise.all(s.map(o=>typeof o.when=="function"?o.when():n)).then(()=>s,()=>s)})}request(e,i={}){const r={f:"json",...i.query},{authMode:n=this.authMode===Va.AUTH_MODE_ANONYMOUS||this.authMode===Va.AUTH_MODE_NO_PROMPT?this.authMode:"auto",body:s=null,cacheBust:o=!1,method:a="auto",responseType:l="json",signal:h}=i,f={authMode:n,body:s,cacheBust:o,method:a,query:r,responseType:l,timeout:0,signal:h};return i.withCredentials&&(f.withCredentials=!0),Vt(this._normalizeSSL(e),f).then(g=>g.data)}toJSON(){throw new ee("internal:not-yet-implemented","Portal.toJSON is not yet implemented")}static fromJSON(e){if(!e)return null;if(e.declaredClass)throw new Error("JSON object is already hydrated");return new Va({sourceJSON:e})}_getHelperService(e){const i=this.helperServices?.[e];if(!i)throw new ee("portal:service-not-found",`The \`helperServices\` do not include an entry named "${e}"`);return i}async _fetchBasemaps(e,i){const r=new Yr;r.query=e||(uj()?this.devBasemapGalleryGroupQuery:this.useVectorBasemaps?this.vectorBasemapGalleryGroupQuery:this.basemapGalleryGroupQuery),r.disableExtraQuery=!0;const n=await this.queryGroups(r,i);if(!n.total)return[];const s=n.results[0];r.num=100,r.query='type:"Web Map" -type:"Web Application"',r.sortField=s.sortField||"name",r.sortOrder=s.sortOrder||"desc";const o=await s.queryItems(r,i);return o.total?o.results.filter(a=>a.type==="Web Map").map(a=>new Kx({portalItem:a})):[]}async _fetchBasemaps3D(e,i){const r=e||this.basemapGalleryGroupQuery3D;if(!r)return[];if(uj())return[];const n=new Yr({query:r,disableExtraQuery:!0}),s=await this.queryGroups(n,i);if(!s.total)return[];const o=s.results[0];n.num=100,n.query='type:"Web Scene"',n.sortField=o.sortField||"name",n.sortOrder=o.sortOrder||"desc";const a=await o.queryItems(n,i);return a.total?a.results.filter(l=>l.type==="Web Scene").map(l=>new Kx({portalItem:l})):[]}_normalizeSSL(e){return e.replace(/^http:/i,"https:").replace(":7080",":7443")}_readBasemap(e){if(e){const i=Kx.fromJSON(e);return i.portalItem={portal:this},i}return null}static _resultsToTypedArray(e,i,r,n){let s;if(r){const o=n!=null?n.signal:null;s=r.listings||r.notifications||r.userInvitations||r.tags||r.items||r.groups||r.comments||r.provisions||r.results||r.relatedItems||r,(e||i)&&(s=s.map(a=>{const l=Object.assign(e?e.fromJSON(a):a,i);return typeof l.load=="function"&&l.load(o),l}))}else s=[];return s}},Va=_d,_d.AUTH_MODE_ANONYMOUS="anonymous",_d.AUTH_MODE_AUTO="auto",_d.AUTH_MODE_IMMEDIATE="immediate",_d.AUTH_MODE_NO_PROMPT="no-prompt",_d);u([p()],Le.prototype,"access",void 0),u([p()],Le.prototype,"allSSL",void 0),u([p()],Le.prototype,"authMode",void 0),u([p()],Le.prototype,"authorizedCrossOriginDomains",void 0),u([Ae("authorizedCrossOriginDomains")],Le.prototype,"readAuthorizedCrossOriginDomains",null),u([p()],Le.prototype,"basemapGalleryGroupQuery",void 0),u([p({json:{name:"3DBasemapGalleryGroupQuery"}})],Le.prototype,"basemapGalleryGroupQuery3D",void 0),u([p({json:{name:"g3DTilesGalleryGroupQuery"}})],Le.prototype,"g3DTilesGalleryGroupQuery",void 0),u([p({json:{name:"g3dTilesEnabled"}})],Le.prototype,"g3dTilesEnabled",void 0),u([p()],Le.prototype,"bingKey",void 0),u([p()],Le.prototype,"canListApps",void 0),u([p()],Le.prototype,"canListData",void 0),u([p()],Le.prototype,"canListPreProvisionedItems",void 0),u([p()],Le.prototype,"canProvisionDirectPurchase",void 0),u([p()],Le.prototype,"canSearchPublic",void 0),u([p()],Le.prototype,"canShareBingPublic",void 0),u([p()],Le.prototype,"canSharePublic",void 0),u([p()],Le.prototype,"canSignInArcGIS",void 0),u([p()],Le.prototype,"canSignInIDP",void 0),u([p()],Le.prototype,"colorSetsGroupQuery",void 0),u([p()],Le.prototype,"commentsEnabled",void 0),u([p({type:Date})],Le.prototype,"created",void 0),u([p()],Le.prototype,"credential",void 0),u([p()],Le.prototype,"culture",void 0),u([p()],Le.prototype,"currentVersion",void 0),u([p()],Le.prototype,"customBaseUrl",void 0),u([p()],Le.prototype,"default3DBasemapQuery",void 0),u([p()],Le.prototype,"defaultBasemap",void 0),u([Ae("defaultBasemap")],Le.prototype,"readDefaultBasemap",null),u([p()],Le.prototype,"defaultDevBasemap",void 0),u([Ae("defaultDevBasemap")],Le.prototype,"readDefaultDevBasemap",null),u([p({type:jt})],Le.prototype,"defaultExtent",void 0),u([p()],Le.prototype,"defaultVectorBasemap",void 0),u([Ae("defaultVectorBasemap")],Le.prototype,"readDefaultVectorBasemap",null),u([p()],Le.prototype,"description",void 0),u([p()],Le.prototype,"devBasemapGalleryGroupQuery",void 0),u([p()],Le.prototype,"eueiEnabled",void 0),u([p({readOnly:!0})],Le.prototype,"extraQuery",null),u([p()],Le.prototype,"featuredGroups",void 0),u([p()],Le.prototype,"featuredItemsGroupQuery",void 0),u([p()],Le.prototype,"galleryTemplatesGroupQuery",void 0),u([p()],Le.prototype,"layoutGroupQuery",void 0),u([p()],Le.prototype,"livingAtlasGroupQuery",void 0),u([p({readOnly:!0})],Le.prototype,"hasAPIKey",null),u([p()],Le.prototype,"hasCategorySchema",void 0),u([p()],Le.prototype,"hasClassificationSchema",void 0),u([p()],Le.prototype,"helpBase",void 0),u([p()],Le.prototype,"helperServices",void 0),u([p()],Le.prototype,"helpMap",void 0),u([p()],Le.prototype,"homePageFeaturedContent",void 0),u([p()],Le.prototype,"homePageFeaturedContentCount",void 0),u([p()],Le.prototype,"httpPort",void 0),u([p()],Le.prototype,"httpsPort",void 0),u([p()],Le.prototype,"id",void 0),u([p()],Le.prototype,"ipCntryCode",void 0),u([p({readOnly:!0})],Le.prototype,"isOrganization",null),u([p()],Le.prototype,"isPortal",void 0),u([p()],Le.prototype,"isReadOnly",void 0),u([p({readOnly:!0})],Le.prototype,"itemPageUrl",null),u([p()],Le.prototype,"layerTemplatesGroupQuery",void 0),u([p()],Le.prototype,"maxTokenExpirationMinutes",void 0),u([p({type:Date})],Le.prototype,"modified",void 0),u([p()],Le.prototype,"name",void 0),u([p()],Le.prototype,"portalHostname",void 0),u([p()],Le.prototype,"portalMode",void 0),u([p()],Le.prototype,"portalProperties",void 0),u([p()],Le.prototype,"region",void 0),u([p()],Le.prototype,"recycleBinEnabled",void 0),u([p({readOnly:!0})],Le.prototype,"restUrl",null),u([p()],Le.prototype,"rotatorPanels",void 0),u([p()],Le.prototype,"showHomePageDescription",void 0),u([p()],Le.prototype,"sourceJSON",void 0),u([p()],Le.prototype,"staticImagesUrl",void 0),u([p({json:{name:"2DStylesGroupQuery"}})],Le.prototype,"stylesGroupQuery2d",void 0),u([p({json:{name:"stylesGroupQuery"}})],Le.prototype,"stylesGroupQuery3d",void 0),u([p()],Le.prototype,"supportsHostedServices",void 0),u([p()],Le.prototype,"symbolSetsGroupQuery",void 0),u([p()],Le.prototype,"templatesGroupQuery",void 0),u([p()],Le.prototype,"thumbnail",void 0),u([p({readOnly:!0})],Le.prototype,"thumbnailUrl",null),u([p()],Le.prototype,"units",void 0),u([p()],Le.prototype,"url",void 0),u([p()],Le.prototype,"urlKey",void 0),u([Ae("urlKey")],Le.prototype,"readUrlKey",null),u([p()],Le.prototype,"user",void 0),u([Ae("user")],Le.prototype,"readUser",null),u([p()],Le.prototype,"use3dBasemaps",void 0),u([p()],Le.prototype,"useDefault3dBasemap",void 0),u([p()],Le.prototype,"useStandardizedQuery",void 0),u([p()],Le.prototype,"useVectorBasemaps",void 0),u([p()],Le.prototype,"vectorBasemapGalleryGroupQuery",void 0),Le=Va=u([j("esri.portal.Portal")],Le);const oZ=new FinalizationRegistry(t=>{t.remove()});function G$e(t){const e=Zt;return()=>{const i=t.deref();i&&e.findCredential(i.restUrl)&&i.signIn().catch(()=>{})}}function W$e(t){return t.map(e=>{let i="";for(let r=0;r<e;r++)i+=((1+Math.random())*65536|0).toString(16).substring(1);return i}).join("-")}const tg=()=>W$e([2,1,1,1,3]);var Y$e=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],Jj=Y$e.join(","),Hoe=typeof Element>"u",R2=Hoe?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,eO=!Hoe&&Element.prototype.getRootNode?function(t){var e;return t==null||(e=t.getRootNode)===null||e===void 0?void 0:e.call(t)}:function(t){return t?.ownerDocument},tO=function t(e,i){var r;i===void 0&&(i=!0);var n=e==null||(r=e.getAttribute)===null||r===void 0?void 0:r.call(e,"inert"),s=n===""||n==="true",o=s||i&&e&&t(e.parentNode);return o},Z$e=function(e){var i,r=e==null||(i=e.getAttribute)===null||i===void 0?void 0:i.call(e,"contenteditable");return r===""||r==="true"},qoe=function(e,i,r){if(tO(e))return[];var n=Array.prototype.slice.apply(e.querySelectorAll(Jj));return i&&R2.call(e,Jj)&&n.unshift(e),n=n.filter(r),n},Goe=function t(e,i,r){for(var n=[],s=Array.from(e);s.length;){var o=s.shift();if(!tO(o,!1))if(o.tagName==="SLOT"){var a=o.assignedElements(),l=a.length?a:o.children,h=t(l,!0,r);r.flatten?n.push.apply(n,h):n.push({scopeParent:o,candidates:h})}else{var f=R2.call(o,Jj);f&&r.filter(o)&&(i||!e.includes(o))&&n.push(o);var g=o.shadowRoot||typeof r.getShadowRoot=="function"&&r.getShadowRoot(o),v=!tO(g,!1)&&(!r.shadowRootFilter||r.shadowRootFilter(o));if(g&&v){var w=t(g===!0?o.children:g.children,!0,r);r.flatten?n.push.apply(n,w):n.push({scopeParent:o,candidates:w})}else s.unshift.apply(s,o.children)}}return n},Woe=function(e){return!isNaN(parseInt(e.getAttribute("tabindex"),10))},Yoe=function(e){if(!e)throw new Error("No node provided");return e.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(e.tagName)||Z$e(e))&&!Woe(e)?0:e.tabIndex},J$e=function(e,i){var r=Yoe(e);return r<0&&i&&!Woe(e)?0:r},X$e=function(e,i){return e.tabIndex===i.tabIndex?e.documentOrder-i.documentOrder:e.tabIndex-i.tabIndex},Zoe=function(e){return e.tagName==="INPUT"},K$e=function(e){return Zoe(e)&&e.type==="hidden"},Q$e=function(e){var i=e.tagName==="DETAILS"&&Array.prototype.slice.apply(e.children).some(function(r){return r.tagName==="SUMMARY"});return i},eke=function(e,i){for(var r=0;r<e.length;r++)if(e[r].checked&&e[r].form===i)return e[r]},tke=function(e){if(!e.name)return!0;var i=e.form||eO(e),r=function(a){return i.querySelectorAll('input[type="radio"][name="'+a+'"]')},n;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")n=r(window.CSS.escape(e.name));else try{n=r(e.name)}catch(o){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",o.message),!1}var s=eke(n,e.form);return!s||s===e},ike=function(e){return Zoe(e)&&e.type==="radio"},rke=function(e){return ike(e)&&!tke(e)},nke=function(e){var i,r=e&&eO(e),n=(i=r)===null||i===void 0?void 0:i.host,s=!1;if(r&&r!==e){var o,a,l;for(s=!!((o=n)!==null&&o!==void 0&&(a=o.ownerDocument)!==null&&a!==void 0&&a.contains(n)||e!=null&&(l=e.ownerDocument)!==null&&l!==void 0&&l.contains(e));!s&&n;){var h,f,g;r=eO(n),n=(h=r)===null||h===void 0?void 0:h.host,s=!!((f=n)!==null&&f!==void 0&&(g=f.ownerDocument)!==null&&g!==void 0&&g.contains(n))}}return s},aZ=function(e){var i=e.getBoundingClientRect(),r=i.width,n=i.height;return r===0&&n===0},ske=function(e,i){var r=i.displayCheck,n=i.getShadowRoot;if(getComputedStyle(e).visibility==="hidden")return!0;var s=R2.call(e,"details>summary:first-of-type"),o=s?e.parentElement:e;if(R2.call(o,"details:not([open]) *"))return!0;if(!r||r==="full"||r==="legacy-full"){if(typeof n=="function"){for(var a=e;e;){var l=e.parentElement,h=eO(e);if(l&&!l.shadowRoot&&n(l)===!0)return aZ(e);e.assignedSlot?e=e.assignedSlot:!l&&h!==e.ownerDocument?e=h.host:e=l}e=a}if(nke(e))return!e.getClientRects().length;if(r!=="legacy-full")return!0}else if(r==="non-zero-area")return aZ(e);return!1},oke=function(e){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(e.tagName))for(var i=e.parentElement;i;){if(i.tagName==="FIELDSET"&&i.disabled){for(var r=0;r<i.children.length;r++){var n=i.children.item(r);if(n.tagName==="LEGEND")return R2.call(i,"fieldset[disabled] *")?!0:!n.contains(e)}return!0}i=i.parentElement}return!1},Xj=function(e,i){return!(i.disabled||tO(i)||K$e(i)||ske(i,e)||Q$e(i)||oke(i))},lZ=function(e,i){return!(rke(i)||Yoe(i)<0||!Xj(e,i))},ake=function(e){var i=parseInt(e.getAttribute("tabindex"),10);return!!(isNaN(i)||i>=0)},lke=function t(e){var i=[],r=[];return e.forEach(function(n,s){var o=!!n.scopeParent,a=o?n.scopeParent:n,l=J$e(a,o),h=o?t(n.candidates):a;l===0?o?i.push.apply(i,h):i.push(a):r.push({documentOrder:s,tabIndex:l,item:n,isScope:o,content:h})}),r.sort(X$e).reduce(function(n,s){return s.isScope?n.push.apply(n,s.content):n.push(s.content),n},[]).concat(i)},cke=function(e,i){i=i||{};var r;return i.getShadowRoot?r=Goe([e],i.includeContainer,{filter:lZ.bind(null,i),flatten:!1,getShadowRoot:i.getShadowRoot,shadowRootFilter:ake}):r=qoe(e,i.includeContainer,lZ.bind(null,i)),lke(r)},uke=function(e,i){i=i||{};var r;return i.getShadowRoot?r=Goe([e],i.includeContainer,{filter:Xj.bind(null,i),flatten:!0,getShadowRoot:i.getShadowRoot}):r=qoe(e,i.includeContainer,Xj.bind(null,i)),r};const vU={getShadowRoot:!0};function Joe(t){return Array.isArray(t)?t:Array.from(t)}function dke(t){const e=Yv(t,`.${sl.darkMode}, .${sl.lightMode}, .${sl.autoMode}`);return e?.classList.contains("calcite-mode-dark")||e?.classList.contains("calcite-mode-auto")&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}function pl(t){const r=Yv(t,"[dir]");return r?r.getAttribute("dir"):"ltr"}function Y$(t){return t.getRootNode()}function prt(t){const e=Y$(t);return"host"in e?e:null}function Xoe(t){return t.host||null}function RD(t,{selector:e,id:i}){if(!t)return null;t.assignedSlot&&(t=t.assignedSlot);const r=Y$(t);return(i?"getElementById"in r?r.getElementById(i):null:e?r.querySelector(e):null)||RD(Xoe(r),{selector:e,id:i})}function Yv(t,e){return t?t.closest(e)||Yv(Xoe(Y$(t)),e):null}function hke(t){return typeof t?.setFocus=="function"}async function Y_(t,e=!1,i="tabbable",r,n){return t?hke(t)&&r!==t?t.setFocus(n):(i==="tabbable"?pke:mke)(t,e,n):void 0}function Koe(t,e){if(t)return cke(t,{...vU,includeContainer:e})[0]??t}function pke(t,e,i){Koe(t,e)?.focus(i)}function fke(t,e){if(t)return uke(t,{...vU,includeContainer:e})[0]??t}function mke(t,e,i){fke(t,e)?.focus(i)}function cZ(t,e){return Array.from(t.children).filter(i=>i.matches(e))}function gke(t,e){return t.filter(i=>i.matches(e))}function L2(t,e,i){if(typeof e=="string"&&e!=="")return e;if(e===""||e===!0)return t[i]}function Z$(t){return(!!t).toString()}function yke(t){return ri(t)||wke(t)}function vke(t){return _ke(t).filter(e=>e.nodeType===Node.TEXT_NODE).map(e=>e.textContent).join("").trim()}function bke(t){for(const e of t.childNodes)if(e.nodeType===Node.TEXT_NODE&&e.textContent?.trim()!==""||e.nodeType===Node.ELEMENT_NODE)return!0;return!1}function wke(t){return!!vke(t)}function _ke(t){return t.currentTarget.assignedNodes({flatten:!0})}function ri(t){return!!xd(t).length}function xd(t,e){return Qoe(t.currentTarget,e)}function Qoe(t,e){const i=t.assignedElements({flatten:!0});return e?gke(i,e):i}function eae(t){return!!(t.isPrimary&&t.button===0)}function xke(t){return t.detail===0}const $S=(t,e,i,r=!0,n=!0,s=!1)=>{const o=t.indexOf(e),a=o===0,l=o===t.length-1;r&&(i=i==="previous"&&a?"last":i==="next"&&l?"first":i);let h;return i==="previous"?h=t[o-1]||t[r?t.length-1:o]:i==="next"?h=t[o+1]||t[r?0:o]:i==="last"?h=t[t.length-1]:h=t[0],Y_(h,n,"tabbable",s?h:void 0),h};function Ske(t,e){if(t.parentNode!==e.parentNode)return!1;const i=Array.from(t.parentNode.children);return i.indexOf(t)<i.indexOf(e)}async function frt(t,e){return tae(t,e,"animation")}async function Tke(t,e){return tae(t,e,"transition")}function uZ(t,e,i){const r=e==="transition"?"transitionProperty":"animationName";return t.getAnimations().find(n=>n[r]===i)}async function tae(t,e,i){let r=uZ(t,i,e);if(r||(await Kj(),r=uZ(t,i,e)),!!r)try{await r.finished}catch{}}async function Kj(){await new Promise(t=>requestAnimationFrame(()=>t()))}function qb(t){return t.endsWith("px")?parseFloat(t):t.endsWith("vw")?dZ(parseFloat(t),window.innerWidth):t.endsWith("vh")?dZ(parseFloat(t),window.innerHeight):0}function dZ(t,e){return t*e/100}function zs(t,e,i){const r=$ke(t);return new r(e,i)}function $ke(t){class e extends window.MutationObserver{constructor(r){super(r),this.observedEntry=[],this.callback=r}observe(r,n){return this.observedEntry.push({target:r,options:n}),super.observe(r,n)}unobserve(r){const n=this.observedEntry.filter(s=>s.target!==r);this.observedEntry=[],this.callback(super.takeRecords(),this),this.disconnect(),n.forEach(s=>this.observe(s.target,s.options))}}return(function(){return t==="intersection"?window.IntersectionObserver:t==="mutation"?e:window.ResizeObserver})()}function z2(t,e,i,r){if(t&&(e&&t.unobserve(e),!!i)){if(t instanceof MutationObserver){t.observe(i,r);return}t.observe(i)}}const hZ=new Set,pZ={trace:0,debug:1,info:2,warn:4,error:8,off:10};function kke(t){return pZ[t]>=pZ[e2e]}function w0(t,...e){if(!kke(t))return;console[t].call(this,"%ccalcite","background: #007AC2; color: #fff; border-radius: 4px; padding: 2px 4px;",...e)}let NL;const iae={debug:t=>w0("debug",t),info:t=>w0("info",t),warn:t=>w0("warn",t),error:t=>w0("error",t),trace:t=>w0("trace",t),deprecated:Eke};function Eke(t,{component:e,name:i,suggested:r,removalVersion:n}){const s=`${t}:${t==="component"?"":e}${i}`;if(hZ.has(s))return;hZ.add(s);const o=Array.isArray(r);o&&!NL&&(NL=new Intl.ListFormat("en",{style:"long",type:"disjunction"}));const a=`[${i}] ${t} is deprecated and will be removed in ${n==="future"?"a future version":`v${n}`}.${r?` Use ${o?NL.format(r.map(l=>`"${l}"`)):`"${r}"`} instead.`:""}`;w0("warn",a)}const fZ={flipRtl:"flip-rtl",svg:"svg"},rae={},jL={},nae={s:16,m:24,l:32};function sae({icon:t,scale:e}){const i=nae[e],r=Mke(t),n=r.charAt(r.length-1)==="F";return`${n?r.substring(0,r.length-1):r}${i}${n?"F":""}`}async function Ike(t){const e=sae(t),i=oae(e);if(i)return i;jL[e]||(jL[e]=fetch(Xse(`./assets/icon/${e}.json`)).then(n=>n.json()).catch(()=>(iae.error(`${t.icon} (${t.scale}) icon failed to load`),"")));const r=await jL[e];return rae[e]=r,r}function Cke(t){return oae(sae(t))}function oae(t){return rae[t]}function Mke(t){const e=!isNaN(Number(t.charAt(0))),i=t.split("-");if(i.length>0){const n=/[a-z]/i;t=i.map((s,o)=>s.replace(n,function(l,h){return o===0&&h===0?l:l.toUpperCase()})).join("")}return e?`i${t}`:t}const Ake=vi`:host{--calcite-internal-color-focus: var( --calcite-color-focus, var(--calcite-ui-focus-color, var(--calcite-color-brand)) )}:host{display:inline-flex;color:var(--calcite-icon-color, var(--calcite-ui-icon-color, currentColor))}:host([scale=s]){inline-size:16px;block-size:16px;min-inline-size:16px;min-block-size:16px}:host([scale=m]){inline-size:24px;block-size:24px;min-inline-size:24px;min-block-size:24px}:host([scale=l]){inline-size:32px;block-size:32px;min-inline-size:32px;min-block-size:32px}.flip-rtl{transform:scaleX(-1)}.svg{display:block}:host([hidden]){display:none}[hidden]{display:none}`,CP=class CP extends wi{constructor(){super(...arguments),this.visible=!1,this.flipRtl=!1,this.icon=null,this.preload=!1,this.scale="m"}connectedCallback(){if(super.connectedCallback(),this.preload){this.visible=!0,this.loadIconPathData();return}this.visible||this.waitUntilVisible(()=>{this.visible=!0,this.loadIconPathData()})}willUpdate(e){(e.has("icon")&&(this.hasUpdated||this.icon!==null)||e.has("scale")&&(this.hasUpdated||this.scale!=="m"))&&this.loadIconPathData()}disconnectedCallback(){super.disconnectedCallback(),this.intersectionObserver?.disconnect(),this.intersectionObserver=null}async loadIconPathData(){const{icon:e,scale:i,visible:r}=this;if(!e||!r)return;const n={icon:e,scale:i},s=Cke(n)||await Ike(n);e===this.icon&&(this.pathData=s)}waitUntilVisible(e){if(this.intersectionObserver=zs("intersection",i=>{i.forEach(r=>{r.isIntersecting&&(this.intersectionObserver.disconnect(),this.intersectionObserver=null,e())})},{rootMargin:"50px"}),!this.intersectionObserver){e();return}this.intersectionObserver.observe(this.el)}render(){const{el:e,flipRtl:i,pathData:r,scale:n,textLabel:s}=this,o=pl(e),a=nae[n],l=!!s,h=[].concat(r||"");return this.el.ariaHidden=Z$(!l),this.el.ariaLabel=l?s:null,this.el.role=l?"img":null,de`<svg aria-hidden=true class=${ce({[fZ.flipRtl]:o==="rtl"&&i,[fZ.svg]:!0})} fill=currentColor height=100% viewBox=${`0 0 ${a} ${a}`} width=100% xmlns=http://www.w3.org/2000/svg>${h.map(f=>typeof f=="string"?A2`<path d=${f??Ye} />`:A2`<path d=${f.d??Ye} opacity=${("opacity"in f?f.opacity:1)??Ye} />`)}</svg>`}};CP.properties={pathData:[16,{},{state:!0}],visible:[16,{},{state:!0}],flipRtl:[7,{},{reflect:!0,type:Boolean}],icon:[3,{},{reflect:!0}],preload:[7,{},{reflect:!0,type:Boolean}],scale:[3,{},{reflect:!0}],textLabel:1},CP.styles=Ake;let iO=CP;Pi("calcite-icon",iO);const Oke=Object.freeze(Object.defineProperty({__proto__:null,Icon:iO},Symbol.toStringTag,{value:"Module"}));function Pke(){const{disabled:t}=this;t||HTMLElement.prototype.click.call(this)}function aae(t){t.target.disabled&&t.preventDefault()}const lae=["mousedown","mouseup","click"];function cae(t){t.target.disabled&&(t.stopImmediatePropagation(),t.preventDefault())}const rO={capture:!0};function wl(t){if(t.disabled){t.el.setAttribute("aria-disabled","true"),t.el.contains(document.activeElement)&&document.activeElement.blur(),Dke(t);return}Lke(t),t.el.removeAttribute("aria-disabled")}function Dke(t){t.el.click=Pke,Rke(t.el)}function Rke(t){t.addEventListener("pointerdown",aae,rO),lae.forEach(e=>t.addEventListener(e,cae,rO))}function Lke(t){delete t.el.click,zke(t.el)}function zke(t){t.removeEventListener("pointerdown",aae,rO),lae.forEach(e=>t.removeEventListener(e,cae,rO))}const Nke={container:"interaction-container"},_l=({children:t,disabled:e})=>de`<div class=${ce(Nke.container)} .inert=${e}>${t}</div>`;function LD(t){return t==="Enter"||t===" "}const zD=["0","1","2","3","4","5","6","7","8","9"];function Er(t){return t==="l"?"m":"s"}async function jke(t){await t.componentOnReady(),await t.updateComplete}const uae=t=>(...e)=>{const i=Cse(),r=new t(...e),n=r.exports;Ise(i.at(-1));const s=r.component.manager;s.W(r,n),r.watchExports(s.W.bind(s,r)),JSe(r);const o=[r.component,...i].reverse();return nU(o,a=>a===void 0?void 0:Fke(r,a,n),n)},Fke=(t,{host:e,key:i,isReactive:r},n)=>{const s=e,o=s[i]!==t.exports,a=s[i]!==n,l=n!==t.exports;if(o&&!a&&l&&(s[i]=t.exports),e===t.component){if(r){const g=t.component.manager;a&&g.W(t,s[i]),t.onUpdate(v=>{if(v.has(i)){const w=s[i];w!==t.exports&&g.W(t,w)}})}t.O=r?void 0:i}const f=t.component.constructor.elementProperties.get(i)?.readOnly;t.watchExports(()=>{s[i]!==t.exports&&(f?eTe(()=>{s[i]=t.exports}):s[i]=t.exports)})},Vke="ar,bg,bs,ca,cs,da,de,el,en,es,et,fi,fr,he,hr,hu,id,it,ja,ko,lt,lv,nl,nb,no,pl,pt-BR,pt-PT,ro,ru,sk,sl,sr,sv,th,tr,uk,vi,zh-CN,zh-HK,zh-TW".split(","),Uke=new Set(Vke),nO="en",Bke={pt:"pt-PT",nb:"no",nn:"no",zh:"zh-CN"},Hke=async(t,e,i="")=>{const r=`${e}/${i}`,n=`${r}${t}.json`;return FL[n]??(FL[n]=dae(t,r)),await FL[n]},FL={},dae=async(t,e)=>{const i=`${e}${t}.json`;try{const r=await fetch(i);if(r.ok)return await r.json()}catch(r){return console.error(r),{}}return t===nO?{}:await dae(nO,e)},hae=t=>{const e=loe(t,"lang",globalThis.navigator?.language||nO);return{lang:e,t9nLocale:pae(e)}},pae=t=>{const[e,i]=t.split("-"),r=e.toLowerCase();let n=r;return i&&(n=`${r}-${i.toUpperCase()}`),n=Bke[n]??n,Uke.has(n)?n:i?pae(r):nO},qke=(t,e,i,r)=>{let n;const s=()=>Gke(t,e(),r).then(o=>{(n?.lang!==o.lang||n.t9nLocale!==o.t9nLocale||n.t9nStrings!==o.t9nStrings)&&i(o),n=o}).catch(console.error);return queueMicrotask(s),ooe(t,["lang"],s)},Gke=async(t,e,i=t.localName.split("-").slice(1).join("-"))=>{const{lang:r,t9nLocale:n}=hae(t),s=`${e}/${i}/t9n`,a=i===null?{}:await Hke(n,s,"messages.");return{lang:r,t9nLocale:n,t9nStrings:a}},fae=t=>mae(void 0,t),J$=t=>e=>mae(e,t);class Wke extends sU{constructor(e,i){super(e);const r=this.exports;try{xw(this.component);const n=i(this.component,this),s=this.exports!==r;if(ZSe(n)){s||this.setProvisionalExports(n);const o=n.then(a=>{this.exports=a,super.catchUpLifecycle()}).catch(a=>{this.P.reject(a),console.error(a)});this.onLoad(async()=>await o)}else(!s||n!==void 0)&&(this.exports=n),queueMicrotask(()=>super.catchUpLifecycle())}catch(n){this.P.reject(n),console.error(n)}}catchUpLifecycle(){}}const mae=uae(Wke),gae=(t,e)=>new Yke(t,e);class Yke extends sU{#t;#e;#i;constructor(e,i){super(),this.#e=e,this.#i=i,this.#t=new MutationObserver(r=>{r.forEach(n=>{e.includes(n.attributeName)&&i.call(this.component,this.component.el.getAttribute(n.attributeName),n.oldValue,n.attributeName)})})}hostConnected(){this.#e.forEach(e=>{this.component.el.hasAttribute(e)&&this.#i.call(this.component,null,this.component.el.getAttribute(e),e)}),this.#t.observe(this.component.el,{attributes:!0,attributeOldValue:!0,attributeFilter:this.#e})}hostDisconnected(){this.#t.disconnect()}}const mZ="ltr",Zke=()=>fae((t,e)=>{e.exports=mZ,e.onLifecycle(()=>{const i=()=>{const r=loe(t.el,"dir",mZ);e.exports=r==="rtl"?"rtl":"ltr"};return i(),ooe(t.el,["dir"],i)})}),Jke=t=>(e={})=>fae((i,r)=>{const n=hae(i.el),s={_lang:n.lang,_t9nLocale:n.t9nLocale,_loading:!0},o=i;r.onLifecycle(()=>qke(i.el,()=>t("./assets"),({t9nLocale:l,t9nStrings:h,lang:f})=>{const g={...h,_lang:f,_t9nLocale:l,_loading:!1};r.exports=g;const v=h.componentLabel;typeof v=="string"&&"label"in i&&i.label==null&&(i.label??=v),a(o.messageOverrides)},e.name));const a=l=>{const h=r.exports,f=h._original??h,g=yae(f,l);l&&(g._original=f),r.exports=g};return"messageOverrides"in o&&r.onUpdate(l=>{l.has("messageOverrides")&&a(o.messageOverrides)}),e.blocking?(r.setProvisionalExports(s,!1),r.ready):s}),yae=(t,e)=>{if(!e)return t;const i={...t};return Object.entries(e).forEach(([r,n])=>{typeof n=="object"?i[r]=yae(t[r],n):i[r]=n??t[r]}),i};const ds=Jke(Xse);const Ns=()=>J$((t,e)=>{let i;function r(){i?.abort()}return e.onLoad(()=>{t.listen("focus",()=>{i=new AbortController,t.el.addEventListener("focusout",r,{signal:i.signal})})}),e.onDisconnected(()=>{t.el.removeEventListener("focusout",r)}),async(n,s)=>{if(t.disabled)return;const o=Kke(n());if(!o)return;const{target:a,includeContainer:l,strategy:h}=o,f=Y$(t.el),g=f.activeElement;if(await jke(t),!(g!==f.activeElement||i&&!i?.signal.aborted))return t.el.removeEventListener("focus",r),Y_(a,l,h,t.el,s)}});function Xke(t){return"target"in t&&("includeContainer"in t||"strategy"in t)}function Kke(t){if(t)return Xke(t)?t:{target:t}}const Bs={title:"title",close:"close",imageContainer:"image-container",chipIcon:"chip-icon",textSlotted:"text--slotted",container:"container",imageSlotted:"image--slotted",closable:"closable",multiple:"multiple",single:"single",selectable:"selectable",selectIcon:"select-icon",selectIconActive:"select-icon--active",nonInteractive:"non-interactive",isCircle:"is-circle",selected:"selected"},Qke={image:"image"},QE={close:"x",checkedSingle:"circle-f",uncheckedMultiple:"square",checkedMultiple:"check-square-f"},eEe=vi`:host{--calcite-internal-color-focus: var( --calcite-color-focus, var(--calcite-ui-focus-color, var(--calcite-color-brand)) )}:host([disabled]){cursor:default;-webkit-user-select:none;user-select:none;opacity:var(--calcite-opacity-disabled)}:host([disabled]) *,:host([disabled]) ::slotted(*){pointer-events:none}:host{display:inline-flex;cursor:default;border-radius:var(--calcite-chip-corner-radius, 9999px)}:host([closed]){display:none}:host([appearance=outline]) .container,:host([appearance=outline-fill]) .container{color:var(--calcite-chip-text-color, var(--calcite-color-text-1))}:host([appearance=outline]) .close,:host([appearance=outline-fill]) .close{color:var(--calcite-chip-close-icon-color, var(--calcite-close-icon-color, var(--calcite-color-text-3)))}:host([appearance=outline]):host([kind=brand]),:host([appearance=outline-fill]):host([kind=brand]){--calcite-internal-chip-border-color: var(--calcite-chip-border-color, var(--calcite-color-brand));--calcite-internal-chip-selectable-hover-border-color: var(--calcite-chip-border-color, var(--calcite-color-brand));--calcite-internal-chip-selectable-active-border-color: var( --calcite-chip-border-color, var(--calcite-color-brand) )}:host([appearance=outline]):host([kind=inverse]),:host([appearance=outline-fill]):host([kind=inverse]){--calcite-internal-chip-border-color: var(--calcite-chip-border-color, var(--calcite-color-border-inverse))}:host([appearance=outline]):host([kind=neutral]),:host([appearance=outline-fill]):host([kind=neutral]){--calcite-internal-chip-border-color: var(--calcite-chip-border-color, var(--calcite-color-border-1))}:host([appearance=outline]){--calcite-internal-chip-background-color: transparent}:host([appearance=outline-fill]){--calcite-internal-chip-background-color: var(--calcite-chip-background-color, var(--calcite-color-foreground-1))}:host([appearance=solid]){--calcite-internal-chip-border-color: transparent;--calcite-internal-chip-selectable-hover-border-color: transparent;--calcite-internal-chip-selectable-active-border-color: transparent}:host([appearance=solid]):host([kind=brand]) .container,:host([appearance=solid]):host([kind=inverse]) .container{color:var(--calcite-chip-text-color, var(--calcite-color-text-inverse))}:host([appearance=solid]):host([kind=brand]) .close,:host([appearance=solid]):host([kind=inverse]) .close{outline-color:var(--calcite-color-text-inverse)}:host([appearance=solid]):host([kind=brand]){--calcite-internal-chip-background-color: var(--calcite-chip-background-color, var(--calcite-color-brand))}:host([appearance=solid]):host([kind=inverse]){--calcite-internal-chip-background-color: var(--calcite-chip-background-color, var(--calcite-color-inverse))}:host([appearance=solid]):host([kind=inverse]) .close:hover{background-color:var(--calcite-color-inverse-hover)}:host([appearance=solid]):host([kind=inverse]) .close:active{background-color:var(--calcite-color-inverse-press)}:host([appearance=solid]):host([kind=neutral]){--calcite-internal-chip-background-color: var(--calcite-chip-background-color, var(--calcite-color-foreground-2))}:host([kind=neutral]) .container{color:var(--calcite-chip-text-color, var(--calcite-color-text-1))}:host([kind=neutral]) .close{color:var(--calcite-chip-close-icon-color, var(--calcite-close-icon-color, var(--calcite-color-text-3)))}:host([selected]) .select-icon{opacity:1}:host([appearance=solid]):host([kind=neutral]){--calcite-internal-chip-selectable-hover-background-color: var(--calcite-color-foreground-3);--calcite-internal-chip-selectable-active-background-color: var(--calcite-color-border-3)}:host([appearance=solid]):host([kind=inverse]){--calcite-internal-chip-selectable-hover-background-color: var(--calcite-color-inverse-hover);--calcite-internal-chip-selectable-active-background-color: var(--calcite-color-inverse-press)}:host([appearance=solid]):host([kind=brand]){--calcite-internal-chip-selectable-hover-background-color: var(--calcite-color-brand-hover);--calcite-internal-chip-selectable-active-background-color: var(--calcite-color-brand-press)}:host([appearance=outline-fill]):host([kind=neutral]){--calcite-internal-chip-selectable-hover-background-color: var(--calcite-color-foreground-2);--calcite-internal-chip-selectable-hover-border-color: var(--calcite-color-border-input);--calcite-internal-chip-selectable-active-background-color: var(--calcite-color-foreground-3);--calcite-internal-chip-selectable-active-border-color: var(--calcite-color-text-3)}:host([appearance=outline-fill]):host([kind=inverse]),:host([appearance=outline-fill]):host([kind=brand]){--calcite-internal-chip-selectable-hover-background-color: var(--calcite-color-foreground-2);--calcite-internal-chip-selectable-active-background-color: var(--calcite-color-foreground-3)}:host([appearance=outline]):host([kind=neutral]){--calcite-internal-chip-selectable-hover-background-color: var(--calcite-color-transparent-hover);--calcite-internal-chip-selectable-hover-border-color: var(--calcite-color-border-input);--calcite-internal-chip-selectable-active-background-color: var(--calcite-color-transparent-press);--calcite-internal-chip-selectable-active-border-color: var(--calcite-color-text-3)}:host([appearance=outline]):host([kind=inverse]),:host([appearance=outline]):host([kind=brand]){--calcite-internal-chip-selectable-hover-background-color: var(--calcite-color-transparent-hover);--calcite-internal-chip-selectable-active-background-color: var(--calcite-color-transparent-press)}:host([scale=s]) .container{--calcite-internal-chip-block-size: var(--calcite-size-sm, 1.5rem) ;--calcite-internal-chip-container-space-x-end: var(--calcite-spacing-xxs, .25rem) ;--calcite-internal-chip-container-space-x-start: var(--calcite-spacing-xxs, .25rem) ;--calcite-internal-chip-font-size: var(--calcite-font-size--2);--calcite-internal-chip-icon-size: var(--calcite-size-xs, 1rem) ;--calcite-internal-chip-icon-space: var(--calcite-spacing-xxs, .25rem) ;--calcite-internal-chip-image-size: var(--calcite-spacing-xl, 1.25rem) ;--calcite-internal-chip-title-space: var(--calcite-spacing-xxs, .25rem) ;--calcite-internal-close-size: var(--calcite-size-xs, 1rem) }:host([scale=s]) .container:not(.closable).is-circle{--calcite-internal-chip-container-space-x-start: var(--calcite-spacing-px);--calcite-internal-chip-container-space-x-end: var(--calcite-spacing-px)}:host([scale=s]) .container.image--slotted:has(.chip-icon),:host([scale=s]) .container.image--slotted.text--slotted,:host([scale=s]) .container.image--slotted.closable{--calcite-internal-chip-image-space-x-end: var(--calcite-spacing-xxs, .25rem) }:host([scale=s]) .container.image--slotted:not(.text--slotted,:has(.chip-icon)),:host([scale=s]) .container.image--slotted:not(.selectable){--calcite-internal-chip-container-space-x-start: var(--calcite-spacing-px)}:host([scale=s]) .container.selectable.single:not(.is-circle).image--slotted{--calcite-internal-chip-container-space-x-start: var(--calcite-spacing-px)}:host([scale=s]) .container.selectable.single:not(.is-circle).selected{--calcite-internal-chip-select-space-x-end: var(--calcite-spacing-xs, .375rem) ;--calcite-internal-chip-select-space-x-start: var(--calcite-spacing-none, 0)}:host([scale=s]) .container.selectable.single:not(.is-circle).selected.image--slotted{--calcite-internal-chip-select-space-x-end: .5rem ;--calcite-internal-chip-select-space-x-start: .125rem }:host([scale=s]) .container.multiple:not(.is-circle){--calcite-internal-chip-container-space-x-start: var(--calcite-spacing-xxs, .25rem) ;--calcite-internal-chip-select-space-x-end: var(--calcite-spacing-xxs, .25rem) ;--calcite-internal-chip-select-space-x-start: var(--calcite-spacing-xxs, .25rem) }:host([scale=s]) .container.multiple:not(.is-circle).image--slotted{--calcite-internal-chip-select-space-x-end: .5rem ;--calcite-internal-chip-select-space-x-start: var(--calcite-spacing-xs, .375rem) ;--calcite-internal-chip-container-space-x-start: var(--calcite-spacing-px)}:host([scale=s]) .container.multiple:not(.is-circle).image--slotted:not(.text--slotted){--calcite-internal-chip-select-space-x-start: var(--calcite-spacing-xs, .375rem) }:host([scale=m]) .container{--calcite-internal-chip-block-size: var(--calcite-size-md, 2rem) ;--calcite-internal-chip-container-space-x-end: var(--calcite-spacing-xs, .375rem) ;--calcite-internal-chip-container-space-x-start: var(--calcite-spacing-xs, .375rem) ;--calcite-internal-chip-font-size: var(--calcite-font-size--1);--calcite-internal-chip-icon-size: var(--calcite-size-sm, 1.5rem) ;--calcite-internal-chip-icon-space: var(--calcite-spacing-xs, .375rem) ;--calcite-internal-chip-image-size: var(--calcite-size-sm, 1.5rem) ;--calcite-internal-chip-title-space: var(--calcite-spacing-xs, .375rem) ;--calcite-internal-close-size: var(--calcite-size-sm, 1.5rem) }:host([scale=m]) .container:not(.closable).is-circle{--calcite-internal-chip-container-space-x-end: var(--calcite-spacing-px);--calcite-internal-chip-container-space-x-start: var(--calcite-spacing-px)}:host([scale=m]) .container.image--slotted:not(.is-circle){--calcite-internal-chip-container-space-x-start: var(--calcite-spacing-xxs, .25rem) }:host([scale=m]) .container.image--slotted:has(.chip-icon),:host([scale=m]) .container.image--slotted.text--slotted,:host([scale=m]) .container.image--slotted.closable{--calcite-internal-chip-image-space-x-end: var(--calcite-spacing-xs, .375rem) }:host([scale=m]) .container.selectable.single:not(.is-circle).image--slotted{--calcite-internal-chip-container-space-x-start: var(--calcite-spacing-xxs, .25rem) }:host([scale=m]) .container.selectable.single:not(.is-circle).selected{--calcite-internal-chip-select-space-x-end: var(--calcite-spacing-px);--calcite-internal-chip-select-space-x-start: var(--calcite-spacing-none, 0)}:host([scale=m]) .container.selectable.single:not(.is-circle).selected.image--slotted{--calcite-internal-chip-select-space-x-end: var(--calcite-spacing-xxs, .25rem) ;--calcite-internal-chip-select-space-x-start: var(--calcite-spacing-xs, .375rem) }:host([scale=m]) .container.multiple:not(.is-circle){--calcite-internal-chip-select-space-x-end: .125rem ;--calcite-internal-chip-select-space-x-start: .125rem }:host([scale=m]) .container.multiple:not(.is-circle).image--slotted{--calcite-internal-chip-select-space-x-end: .5rem ;--calcite-internal-chip-select-space-x-start: var(--calcite-spacing-xxs, .25rem) }:host([scale=m]) .container.closable:not(.is-circle){--calcite-internal-chip-container-space-x-end: var(--calcite-spacing-xxs, .25rem) }:host([scale=l]) .container{--calcite-internal-chip-block-size: 2.75rem ;--calcite-internal-chip-container-space-x-end: .5rem ;--calcite-internal-chip-container-space-x-start: .5rem ;--calcite-internal-chip-font-size: var(--calcite-font-size-0);--calcite-internal-chip-icon-size: var(--calcite-size-md, 2rem) ;--calcite-internal-chip-icon-space: .5rem ;--calcite-internal-chip-image-size: var(--calcite-size-md, 2rem) ;--calcite-internal-chip-title-space: .5rem ;--calcite-internal-close-size: var(--calcite-size-md, 2rem) }:host([scale=l]) .container:not(.closable).is-circle{--calcite-internal-chip-container-space-x-end: var(--calcite-spacing-xxs, .25rem) ;--calcite-internal-chip-container-space-x-start: var(--calcite-spacing-xxs, .25rem) }:host([scale=l]) .container.image--slotted:not(.is-circle){--calcite-internal-chip-container-space-x-start: var(--calcite-spacing-xs, .375rem) }:host([scale=l]) .container.image--slotted:has(.chip-icon),:host([scale=l]) .container.image--slotted.text--slotted,:host([scale=l]) .container.image--slotted.closable{--calcite-internal-chip-image-space-x-end: .5rem }:host([scale=l]) .container.selectable.single:not(.is-circle).image--slotted{--calcite-internal-chip-container-space-x-start: var(--calcite-spacing-xs, .375rem) }:host([scale=l]) .container.selectable.single:not(.is-circle).selected{--calcite-internal-chip-select-space-x-end: var(--calcite-spacing-xxs, .25rem) ;--calcite-internal-chip-select-space-x-start: var(--calcite-spacing-none, 0)}:host([scale=l]) .container.selectable.single:not(.is-circle).selected.image--slotted{--calcite-internal-chip-select-space-x-end: var(--calcite-spacing-xs, .375rem) ;--calcite-internal-chip-select-space-x-start: .5rem }:host([scale=l]) .container.multiple:not(.is-circle){--calcite-internal-chip-container-space-x-start: .5rem ;--calcite-internal-chip-select-space-x-end: var(--calcite-spacing-xxs, .25rem) ;--calcite-internal-chip-select-space-x-start: var(--calcite-spacing-xxs, .25rem) }:host([scale=l]) .container.multiple:not(.is-circle).image--slotted{--calcite-internal-chip-select-space-x-end: .75rem }:host([scale=l]) .container.closable:not(.is-circle){--calcite-internal-chip-container-space-x-end: var(--calcite-spacing-xs, .375rem) }.container{box-sizing:border-box;display:inline-flex;block-size:100%;max-inline-size:100%;align-items:center;justify-content:center;font-weight:var(--calcite-font-weight-medium);outline-color:transparent;background-color:var(--calcite-internal-chip-background-color);border-color:var(--calcite-internal-chip-border-color);border-radius:var(--calcite-chip-corner-radius, 9999px);border-width:var(--calcite-border-width-sm);border-style:solid;font-size:var(--calcite-internal-chip-font-size, var(--calcite-font-size));padding-inline-start:var(--calcite-internal-chip-container-space-x-start);padding-inline-end:var(--calcite-internal-chip-container-space-x-end);block-size:var(--calcite-internal-chip-block-size, auto);inline-size:var(--calcite-internal-chip-inline-size, auto);min-inline-size:var(--calcite-internal-chip-block-size, auto)}.container:hover .select-icon--active{opacity:var(--calcite-opacity-full, 1)}.container.selectable{cursor:pointer}.container.selectable:hover{background-color:var(--calcite-internal-chip-selectable-hover-background-color);border-color:var(--calcite-internal-chip-selectable-hover-border-color)}.container.selectable:active{background-color:var(--calcite-internal-chip-selectable-active-background-color);border-color:var(--calcite-internal-chip-selectable-active-border-color)}.container:not(.non-interactive):focus{outline:var(--calcite-border-width-md) solid var(--calcite-color-focus, var(--calcite-ui-focus-color, var(--calcite-color-brand)));outline:var(--calcite-border-width-md) solid var(--calcite-internal-color-focus);outline-offset:calc(var(--calcite-spacing-base) * calc(1 - (2*clamp(0,var(--calcite-offset-invert-focus),1))))}.container.text--slotted .title{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.container:not(.text--slotted) .title,.container:not(.image--slotted) .image-container{display:none}.container.is-circle .chip-icon,.container.is-circle .image-container{padding:var(--calcite-spacing-none, 0)}.title{padding-inline:var(--calcite-internal-chip-title-space)}.image-container{display:inline-flex;overflow:hidden;align-items:center;justify-content:center;pointer-events:none;block-size:var(--calcite-internal-chip-image-size, var(--calcite-spacing-xxl, 1.5rem));inline-size:var(--calcite-internal-chip-image-size, var(--calcite-spacing-xxl, 1.5rem));padding-inline-start:var(--calcite-spacing-none, 0);padding-inline-end:var(--calcite-internal-chip-image-space-x-end, 0)}.chip-icon{position:relative;margin-block:0px;display:inline-flex;transition-timing-function:cubic-bezier(.4,0,.2,1);color:var(--calcite-chip-icon-color, var(--calcite-chip-text-color, var(--calcite-icon-color, currentColor)));padding-inline:var(--calcite-internal-chip-icon-space, var(--calcite-spacing-xs, .375rem))}.select-icon{align-self:center;justify-content:center;align-items:center;display:flex;inset-block-start:-1px;position:absolute;visibility:hidden;inline-size:auto;opacity:0;transition:opacity .15s ease-in-out,inline-size .15s ease-in-out;color:var(--calcite-chip-select-icon-color, currentColor)}.select-icon.select-icon--active{position:relative;visibility:visible;opacity:var(--calcite-opacity-half, .5);color:var(--calcite-chip-select-icon-color-press, var(--calcite-chip-select-icon-color-pressed, var(--calcite-chip-select-icon-color, currentColor)))}.multiple .select-icon{display:flex;align-items:center;justify-content:center}.multiple .select-icon,.single .select-icon--active{padding-inline-start:var(--calcite-internal-chip-select-space-x-start);padding-inline-end:var(--calcite-internal-chip-select-space-x-end);block-size:var(--calcite-internal-chip-icon-size, var(--calcite-spacing-xxl, 1.5rem));inline-size:var(--calcite-internal-chip-icon-size, var(--calcite-spacing-xxl, 1.5rem))}slot[name=image]::slotted(*){display:flex;block-size:100%;inline-size:100%;overflow:hidden;border-radius:50%}.close{margin:0;cursor:pointer;align-items:center;border-radius:50%;border-style:none;transition-property:background-color,block-size,border-color,box-shadow,color,inset-block-end,inset-block-start,inset-inline-end,inset-inline-start,inset-size,opacity,outline-color,transform;transition-duration:var(--calcite-animation-timing);transition-timing-function:ease-in-out;outline-color:transparent;background-color:var(--calcite-close-background-color, var(--calcite-color-transparent));-webkit-appearance:none;display:flex;align-content:center;justify-content:center;color:var(--calcite-chip-close-icon-color, var(--calcite-close-icon-color, currentColor));block-size:var(--calcite-internal-close-size, var(--calcite-spacing-xxl, 1.5rem));inline-size:var(--calcite-internal-close-size, var(--calcite-spacing-xxl, 1.5rem));padding:0}.close:hover,.close:focus{background-color:var(--calcite-close-background-color-hover, var(--calcite-color-transparent-hover))}.close:focus{outline:var(--calcite-border-width-md) solid var(--calcite-color-focus, var(--calcite-ui-focus-color, var(--calcite-color-brand)));outline:var(--calcite-border-width-md) solid var(--calcite-internal-color-focus);outline-offset:calc(calc(-1 * var(--calcite-spacing-base)) * calc(1 - (2*clamp(0,var(--calcite-offset-invert-focus),1))))}.close:active{background-color:var(--calcite-close-background-color-press, var(--calcite-color-transparent-press))}.close calcite-icon{color:inherit}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}.interaction-container{display:contents}:host([hidden]){display:none}[hidden]{display:none}`,MP=class MP extends wi{constructor(){super(),this.closeButtonRef=kr(),this.containerRef=kr(),this.messages=ds(),this.focusSetter=Ns()(this),this.hasImage=!1,this.hasText=!1,this.appearance="solid",this.closable=!1,this.closed=!1,this.closeOnDelete=!1,this.disabled=!1,this.iconFlipRtl=!1,this.interactive=!1,this.kind="neutral",this.scale="m",this.selected=!1,this.selectionMode="none",this.calciteChipClose=Ge({cancelable:!1}),this.calciteChipSelect=Ge({cancelable:!1}),this.calciteInternalChipKeyEvent=Ge({cancelable:!1}),this.calciteInternalChipSelect=Ge({cancelable:!1}),this.calciteInternalSyncSelectedChips=Ge({cancelable:!1}),this.listen("keydown",this.keyDownHandler),this.listen("click",this.clickHandler)}async setFocus(e){return this.focusSetter(()=>{if(this.interactive)return this.containerRef.value;if(this.closable)return this.closeButtonRef.value},e)}async load(){this.updateHasText()}willUpdate(e){e.has("selected")&&this.hasUpdated&&this.watchSelected(this.selected)}updated(){wl(this)}loaded(){this.selectionMode!=="none"&&this.interactive&&this.selected&&this.handleSelectionPropertyChange(this.selected)}watchSelected(e){this.selectionMode!=="none"&&this.handleSelectionPropertyChange(e)}keyDownHandler(e){if(e.target===this.el)switch(e.key){case" ":case"Enter":this.handleEmittingEvent(),e.preventDefault();break;case"Backspace":case"Delete":this.closable&&!this.closed&&this.closeOnDelete&&(e.preventDefault(),this.close());break;case"ArrowRight":case"ArrowLeft":case"Home":case"End":this.calciteInternalChipKeyEvent.emit(e),e.preventDefault();break}}clickHandler(){!this.interactive&&this.closable&&Y_(this.closeButtonRef.value)}handleDefaultSlotChange(){this.updateHasText()}close(){this.calciteChipClose.emit(),this.selected=!1,this.closed=!0}closeButtonKeyDownHandler(e){LD(e.key)&&(e.preventDefault(),this.close())}updateHasText(){this.hasText=this.el.textContent.trim().length>0}handleSlotImageChange(e){this.hasImage=ri(e)}handleEmittingEvent(){this.interactive&&this.calciteChipSelect.emit()}handleSelectionPropertyChange(e){this.selectionMode==="single"&&this.calciteInternalSyncSelectedChips.emit(),!this.parentChipGroup.selectedItems.includes(this.el)&&e&&this.selectionMode!=="multiple"&&this.calciteInternalChipSelect.emit(),this.selectionMode!=="single"&&this.calciteInternalSyncSelectedChips.emit()}renderChipImage(){return de`<div class=${ce(Bs.imageContainer)}><slot name=${Qke.image} @slotchange=${this.handleSlotImageChange}></slot></div>`}renderSelectionIcon(){const e=this.selectionMode==="multiple"?this.selected?QE.checkedMultiple:QE.uncheckedMultiple:this.selected?QE.checkedSingle:void 0;return de`<div class=${ce({[Bs.selectIcon]:!0,[Bs.selectIconActive]:this.selectionMode==="multiple"||this.selected})}>${e?de`<calcite-icon .icon=${e} .scale=${Er(this.scale)}></calcite-icon>`:null}</div>`}renderCloseButton(){return de`<button .ariaLabel=${this.messages.dismissLabel} class=${ce(Bs.close)} @click=${this.close} @keydown=${this.closeButtonKeyDownHandler} .tabIndex=${this.disabled?-1:0} ${Ut(this.closeButtonRef)}><calcite-icon .icon=${QE.close} .scale=${Er(this.scale)}></calcite-icon></button>`}renderIcon(){return de`<calcite-icon class=${ce(Bs.chipIcon)} .flipRtl=${this.iconFlipRtl} .icon=${this.icon} .scale=${Er(this.scale)}></calcite-icon>`}render(){const{disabled:e}=this,i=e||!e&&!this.interactive,r=this.selectionMode==="multiple"&&this.interactive?"checkbox":this.selectionMode!=="none"&&this.interactive?"radio":this.interactive?"button":"img";return _l({disabled:e,children:de`<div .ariaChecked=${this.selectionMode!=="none"&&this.interactive?this.selected:void 0} .ariaLabel=${this.label} class=${ce({[Bs.container]:!0,[Bs.textSlotted]:this.hasText,[Bs.imageSlotted]:this.hasImage,[Bs.selectable]:this.selectionMode!=="none",[Bs.multiple]:this.selectionMode==="multiple",[Bs.single]:this.selectionMode==="single"||this.selectionMode==="single-persist",[Bs.selected]:this.selected,[Bs.closable]:this.closable,[Bs.nonInteractive]:!this.interactive,[Bs.isCircle]:!this.closable&&!this.hasText&&(!this.icon||!this.hasImage)&&(this.selectionMode==="none"||!!this.selectionMode&&this.selectionMode!=="multiple"&&!this.selected)})} @click=${this.handleEmittingEvent} .role=${r} .tabIndex=${i?-1:0} ${Ut(this.containerRef)}>${this.selectionMode!=="none"&&this.renderSelectionIcon()||""}${this.renderChipImage()}${this.icon&&this.renderIcon()||""}<span class=${ce(Bs.title)}><slot @slotchange=${this.handleDefaultSlotChange}></slot></span>${this.closable&&this.renderCloseButton()||""}</div>`})}};MP.properties={hasImage:[16,{},{state:!0}],hasText:[16,{},{state:!0}],appearance:[3,{},{reflect:!0}],closable:[7,{},{reflect:!0,type:Boolean}],closed:[7,{},{reflect:!0,type:Boolean}],closeOnDelete:[7,{},{reflect:!0,type:Boolean}],disabled:[7,{},{reflect:!0,type:Boolean}],icon:[3,{},{reflect:!0}],iconFlipRtl:[7,{},{reflect:!0,type:Boolean}],interactive:[5,{},{type:Boolean}],kind:[3,{},{reflect:!0}],label:1,messageOverrides:[0,{},{attribute:!1}],parentChipGroup:[0,{},{attribute:!1}],scale:[3,{},{reflect:!0}],selected:[7,{},{reflect:!0,type:Boolean}],selectionMode:1,value:1},MP.styles=eEe;let sO=MP;Pi("calcite-chip",sO);const mrt=Object.freeze(Object.defineProperty({__proto__:null,Chip:sO},Symbol.toStringTag,{value:"Module"}));const vt=H$(class extends q${constructor(){super(...arguments),this.key=Ye}render(t,e){return this.key=t,e}update(t,[e,i]){return e!==this.key&&(Hse(t),this.key=e),i}});const tEe=new RegExp("\\.(0+)?$"),iEe=new RegExp("0+$"),Hi=class Hi{constructor(e){if(e instanceof Hi)return e;const[i,r]=dEe(e).split(".").concat("");this.value=BigInt(i+r.padEnd(Hi.DECIMALS,"0").slice(0,Hi.DECIMALS))+BigInt(Hi.ROUNDED&&r[Hi.DECIMALS]>="5"),this.isNegative=e.charAt(0)==="-"}getIntegersAndDecimals(){const e=this.value.toString().replace("-","").padStart(Hi.DECIMALS+1,"0"),i=e.slice(0,-Hi.DECIMALS),r=e.slice(-Hi.DECIMALS).replace(iEe,"");return{integers:i,decimals:r}}toString(){const{integers:e,decimals:i}=this.getIntegersAndDecimals();return`${this.isNegative?"-":""}${e}${i.length?"."+i:""}`}formatToParts(e){const{integers:i,decimals:r}=this.getIntegersAndDecimals(),n=e.numberFormatter.formatToParts(BigInt(i));return this.isNegative&&n.unshift({type:"minusSign",value:e.minusSign}),r.length&&(n.push({type:"decimal",value:e.decimal}),r.split("").forEach(s=>n.push({type:"fraction",value:s}))),n}format(e){const{integers:i,decimals:r}=this.getIntegersAndDecimals(),n=`${this.isNegative?e.minusSign:""}${e.numberFormatter.format(BigInt(i))}`,s=r.length?`${e.decimal}${r.split("").map(o=>e.numberFormatter.format(Number(o))).join("")}`:"";return`${n}${s}`}add(e){return Hi.fromBigInt(this.value+new Hi(e).value)}subtract(e){return Hi.fromBigInt(this.value-new Hi(e).value)}multiply(e){return Hi._divRound(this.value*new Hi(e).value,Hi.SHIFT)}divide(e){return Hi._divRound(this.value*Hi.SHIFT,new Hi(e).value)}};Hi.DECIMALS=100,Hi.ROUNDED=!0,Hi.SHIFT=BigInt("1"+"0".repeat(Hi.DECIMALS)),Hi._divRound=(e,i)=>Hi.fromBigInt(e/i+(Hi.ROUNDED?e*BigInt(2)/i%BigInt(2):BigInt(0))),Hi.fromBigInt=e=>Object.assign(Object.create(Hi.prototype),{value:e,isNegative:e<BigInt(0)});let Z_=Hi;function op(t){return!(!t||isNaN(Number(t)))}function rEe(t){return!t||!hEe(t)?"":oO(t,e=>{let i=!1;const r=e.split("").filter((n,s)=>n.match(/\./g)&&!i?(i=!0,!0):n.match(/-/g)&&s===0?!0:zD.includes(n)).join("");return op(r)?new Z_(r).toString():""})}const vae=/^([-0])0+(?=\d)/,nEe=/(?!^\.)\.$/,sEe=/(?!^-)-/g,oEe=/^-\b0\b\.?0*$/,aEe=/0*$/,lEe=new Set(["e","E","-",",",".",...zD]),cEe=t=>{const e=Array.from(t).filter(i=>lEe.has(i)).join("");return oO(e,i=>{const r=i.replace(sEe,"").replace(nEe,"").replace(vae,"$1");return op(r)?oEe.test(r)?r:uEe(r):i})};function uEe(t){const e=t.split(".")[1],i=new Z_(t).toString(),[r,n]=i.split(".");return e&&n!==e?`${r}.${e}`:i}function oO(t,e){if(!t)return t;const i=t.toLowerCase().indexOf("e")+1;return i?t.replace(/[eE]*$/g,"").substring(0,i).concat(t.slice(i).replace(/[eE]/g,"")).split(/[eE]/).map((r,n)=>e(n===1?r.replace(/\./g,""):r)).join("e").replace(/^e/,"1e"):e(t)}function dEe(t){const e=t.split(/[eE]/);if(e.length===1)return t;const i=+t;if(Number.isSafeInteger(i))return`${i}`;const r=t.charAt(0)==="-",n=+e[1],s=e[0].split("."),o=(r?s[0].substring(1):s[0])||"",a=s[1]||"",l=(g,v)=>{const w=Math.abs(v)-g.length,S=w>0?`${"0".repeat(w)}${g}`:g;return`${S.slice(0,v)}.${S.slice(v)}`},h=(g,v)=>{const w=v>g.length?`${g}${"0".repeat(v-g.length)}`:g;return`${w.slice(0,v)}.${w.slice(v)}`},f=n>0?`${o}${h(a,n)}`:`${l(o,n)}${a}`;return`${r?"-":""}${f.charAt(0)==="."?"0":""}${f.replace(tEe,"").replace(vae,"")}`}function hEe(t){return zD.some(e=>t.includes(e))}function pEe(t,e,i){const r=e.split(".")[1];if(r){const n=r.match(aEe)[0];if(n&&i.delocalize(t).length!==e.length&&r.indexOf("e")===-1){const s=i.decimal;return t=t.includes(s)?t:`${t}${s}`,t.padEnd(t.length+n.length,i.localize("0"))}}return t}const aO="en",fEe=["ar","bg","bs","ca","cs","da","de","de-AT","de-CH","el",aO,"en-AU","en-CA","en-GB","es","es-MX","et","fi","fr","fr-CH","he","hi","hr","hu","id","it","it-CH","ja","ko","lt","lv","mk","no","nl","pl","pt","pt-PT","ro","ru","sk","sl","sr","sv","th","tr","uk","vi","zh-CN","zh-HK","zh-TW"];new Map(Object.entries({bg:{am:"..",pm:".."},bs:{am:"prijepodne",pm:"popodne"},ca:{am:"a.m.",pm:"p.m."},cs:{am:"dop.",pm:"odp."},es:{am:"a.m.",pm:"p.m."},"es-mx":{am:"a.m.",pm:"p.m."},"es-MX":{am:"a.m.",pm:"p.m."},fi:{am:"ap.",pm:"ip."},he:{am:"",pm:""},hu:{am:"de. ",pm:"du."},lt:{am:"priepiet",pm:"popiet"},lv:{am:"priekpusdien",pm:"pcpusdien"},mk:{am:".",pm:"."},no:{am:"a.m.",pm:"p.m."},nl:{am:"a.m.",pm:"p.m."},"pt-pt":{am:"da manh",pm:"da tarde"},"pt-PT":{am:"da manh",pm:"da tarde"},ro:{am:"a.m.",pm:"p.m."},sl:{am:"dop.",pm:"pop."},sv:{am:"fm",pm:"em"},th:{am:"",pm:""},tr:{am:"",pm:"S"},uk:{am:"",pm:""},vi:{am:"SA",pm:"CH"}}));const mEe=["arab","arabext","latn"],VL=[...fEe],bae=t=>mEe.includes(t),UL=new Intl.NumberFormat().resolvedOptions().numberingSystem,wae=UL==="arab"||!bae(UL)?"latn":UL,gEe=t=>bae(t)?t:wae;function yEe(t){return t?VL.includes(t)?t:(t=t.toLowerCase(),t.includes("-")&&(t=t.replace(/(\w+)-(\w+)/,(e,i,r)=>`${i}-${r.toUpperCase()}`),VL.includes(t)||(t=t.split("-")[0])),t==="nb"||t==="nn"?"no":t==="zh"?"zh-CN":VL.includes(t)?t:(console.warn(`Translations for the "${t}" locale are not available and will fall back to the default, English (en).`),aO)):aO}class _ae{constructor(){this.delocalize=e=>this._numberFormatOptions?oO(e,i=>i.replace(new RegExp(`[${this._minusSign}]`,"g"),"-").replace(new RegExp(`[${this._group}]`,"g"),"").replace(new RegExp(`[${this._decimal}]`,"g"),".").replace(new RegExp(`[${this._digits.join("")}]`,"g"),this._getDigitIndex)):e,this.localize=e=>this._numberFormatOptions?oO(e,i=>op(i.trim())?new Z_(i.trim()).format(this).replace(new RegExp(`[${this._actualGroup}]`,"g"),this._group):i):e}get group(){return this._group}get decimal(){return this._decimal}get minusSign(){return this._minusSign}get digits(){return this._digits}get numberFormatter(){return this._numberFormatter}get numberFormatOptions(){return this._numberFormatOptions}set numberFormatOptions(e){if(e.locale=yEe(e?.locale),e.numberingSystem=gEe(e?.numberingSystem),!this._numberFormatOptions&&e.locale===aO&&e.numberingSystem===wae&&Object.keys(e).length===2||JSON.stringify(this._numberFormatOptions)===JSON.stringify(e))return;this._numberFormatOptions=e,this._numberFormatter=new Intl.NumberFormat(this._numberFormatOptions.locale,this._numberFormatOptions),this._digits=[...new Intl.NumberFormat(this._numberFormatOptions.locale,{useGrouping:!1,numberingSystem:this._numberFormatOptions.numberingSystem}).format(9876543210)].reverse();const i=new Map(this._digits.map((n,s)=>[n,s])),r=new Intl.NumberFormat(this._numberFormatOptions.locale,{numberingSystem:this._numberFormatOptions.numberingSystem}).formatToParts(-123456789e-1);this._actualGroup=r.find(n=>n.type==="group").value,this._group=this._actualGroup.trim().length===0||this._actualGroup==" "?"":this._actualGroup,this._decimal=e.locale==="bs"||e.locale==="mk"?",":r.find(n=>n.type==="decimal").value,this._minusSign=r.find(n=>n.type==="minusSign").value,this._getDigitIndex=n=>i.get(n)}}const ql=new _ae;function gZ(t){return t[t.openProp||"open"]}async function bU(t){await t.updateComplete,gZ(t)?t.onBeforeOpen():t.onBeforeClose(),await t.updateComplete,t.transitionEl&&await Tke(t.transitionEl,t.transitionProp),gZ(t)?t.onOpen():t.onClose()}const vEe={brand:"lightbulb",danger:"exclamationMarkTriangle",info:"information",success:"checkCircle",warning:"exclamationMarkTriangle"};const BL={slow:14e3,medium:1e4,fast:6e3},eI={actionsEnd:"actions-end",title:"title",message:"message",link:"link"},Rl={actionsEnd:"actions-end",close:"close",container:"container",containerActive:"container--active",dismissProgress:"dismiss-progress",icon:"icon",containerEmbedded:"container--embedded",queueCount:"queue-count",queueCountActive:"queue-count--active",textContainer:"text-container",focused:"focused"},bEe=300;class wEe{constructor(){this.registeredElements=[],this.queueTimeoutId=null}registerElement(e){const{registeredElements:i}=this;if(!i.includes(e)){switch(e.queue){case"immediate":i.unshift(e);break;case"next":i.splice(1,0,e);break;case"last":i.push(e);break}this.updateAlerts()}}unregisterElement(e){const{registeredElements:i}=this,r=i.indexOf(e);r!==-1&&i.splice(r,1),e.active=!1,this.updateAlerts()}updateAlerts(){window.clearTimeout(this.queueTimeoutId),this.queueTimeoutId=null,this.registeredElements.forEach((e,i)=>{e.openAlertCount=this.registeredElements.length,i===0?this.queueTimeoutId=window.setTimeout(()=>e.active=!0,bEe):e.active=!1})}}const _Ee=vi`:host{--calcite-internal-color-focus: var( --calcite-color-focus, var(--calcite-ui-focus-color, var(--calcite-color-brand)) )}:host{display:block;inline-size:var(--calcite-alert-width)}.container{pointer-events:none;position:fixed;z-index:var(--calcite-z-index-toast);margin-inline:auto;margin-block:0px;box-sizing:border-box;display:flex;inline-size:100%;min-inline-size:min-content;align-items:center;justify-content:center;text-align:start;opacity:0;--tw-shadow: 0 6px 20px -4px rgba(0, 0, 0, .1), 0 4px 12px -2px rgba(0, 0, 0, .08);--tw-shadow-colored: 0 6px 20px -4px var(--tw-shadow-color), 0 4px 12px -2px var(--tw-shadow-color);box-shadow:var(--calcite-alert-shadow, var(--tw-ring-offset-shadow, 0 0 rgba(0, 0, 0, 0)), var(--tw-ring-shadow, 0 0 rgba(0, 0, 0, 0)), var(--tw-shadow));background-color:var(--calcite-alert-background-color, var(--calcite-color-foreground-1));border-radius:var(--calcite-alert-corner-radius, var(--calcite-border-radius));border-block-start:0 solid transparent;border-inline:1px solid var(--calcite-color-border-3);border-block-end:1px solid var(--calcite-color-border-3);max-inline-size:calc(100% - var(--calcite-alert-offset-size, 2rem) * 2);transition:opacity var(--calcite-internal-animation-timing-slow) cubic-bezier(.215,.44,.42,.88),all var(--calcite-animation-timing) ease-in-out}.container--bottom,.container--top{inset-inline-end:0;inset-inline-start:0}.container[class*=bottom]{transform:translate3d(0,var(--calcite-alert-offset-size, 2rem),0);inset-block-end:var(--calcite-alert-offset-size, 2rem)}.container[class*=top]{transform:translate3d(0,calc(-1 * var(--calcite-alert-offset-size, 2rem)),0);inset-block-start:var(--calcite-alert-offset-size, 2rem)}.container[class*=start]{inset-inline-start:var(--calcite-alert-offset-size, 2rem);inset-inline-end:auto}.container[class*=end]{inset-inline-end:var(--calcite-alert-offset-size, 2rem);inset-inline-start:auto}.icon{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:0;margin-block:auto;margin-inline-end:auto}.close{display:flex;cursor:pointer;align-items:center;justify-content:flex-end;align-self:stretch;border-style:none;background-color:transparent;color:var(--calcite-color-text-3);outline:2px solid transparent;outline-offset:2px;-webkit-appearance:none;border-start-end-radius:var(--calcite-alert-corner-radius, var(--calcite-border-radius));border-end-end-radius:var(--calcite-alert-corner-radius, var(--calcite-border-radius));outline-color:transparent}.close:focus{outline:var(--calcite-border-width-md) solid var(--calcite-color-focus, var(--calcite-ui-focus-color, var(--calcite-color-brand)));outline:var(--calcite-border-width-md) solid var(--calcite-internal-color-focus);outline-offset:calc(calc(-1 * var(--calcite-spacing-base)) * calc(1 - (2*clamp(0,var(--calcite-offset-invert-focus),1))))}.close:hover,.close:focus{color:var(--calcite-color-text-1);background-color:var(--calcite-color-foreground-2)}.close:active{background-color:var(--calcite-color-foreground-3)}.queue-count{visibility:hidden;display:flex;min-inline-size:min-content;cursor:default;align-items:center;justify-content:space-around;align-self:stretch;overflow:hidden;text-align:center;font-weight:var(--calcite-font-weight-medium);color:var(--calcite-color-text-2);opacity:0;transition-property:background-color,block-size,border-color,box-shadow,color,inset-block-end,inset-block-start,inset-inline-end,inset-inline-start,inset-size,opacity,outline-color,transform;transition-duration:var(--calcite-animation-timing);transition-timing-function:ease-in-out;border-inline:0 solid transparent;border-start-end-radius:0}.queue-count--active{visibility:visible;opacity:1}.dismiss-progress{position:absolute;display:block;inline-size:100%;overflow:hidden;inset-inline:0;inset-block-start:-2px;block-size:2px;border-radius:var(--calcite-border-radius) var(--calcite-border-radius) 0 0}.dismiss-progress:after{position:absolute;inset-block-start:0px;display:block;block-size:2px;content:"";background-color:var(--calcite-color-transparent-tint);inset-inline-end:0}.actions-end{display:flex;align-self:stretch}.text-container{box-sizing:border-box;display:flex;min-inline-size:0px;flex:1 1 auto;flex-direction:column;overflow-wrap:break-word}.footer{position:relative;display:flex;inline-size:auto;justify-content:flex-end;align-self:stretch;padding-block-start:1px;block-size:inherit}:host([scale=s]) slot[name=title]::slotted(*),:host([scale=s]) *::slotted([slot=title]){font-size:var(--calcite-font-size--1);line-height:1.375}:host([scale=s]) slot[name=message]::slotted(*),:host([scale=s]) *::slotted([slot=message]){font-size:var(--calcite-font-size--2);line-height:1.375}:host([scale=s]) slot[name=link]::slotted(*),:host([scale=s]) *::slotted([slot=link]){font-size:var(--calcite-font-size--2);line-height:1.375}:host([scale=s]) .queue-count{margin-inline:.5rem}:host([scale=s]) .container{--calcite-internal-alert-min-height: 3.5rem;inline-size:var(--calcite-alert-width, 40em)}:host([scale=s]) .close{padding:.75rem}:host([scale=s]) .icon{padding-inline-start:.75rem}:host([scale=s]) .text-container{padding-block:.5rem;padding-inline:.75rem .5rem}:host([scale=m]) slot[name=title]::slotted(*),:host([scale=m]) *::slotted([slot=title]){font-size:var(--calcite-font-size-0);line-height:1.375}:host([scale=m]) slot[name=message]::slotted(*),:host([scale=m]) *::slotted([slot=message]){font-size:var(--calcite-font-size--1);line-height:1.375}:host([scale=m]) slot[name=link]::slotted(*),:host([scale=m]) *::slotted([slot=link]){font-size:var(--calcite-font-size--1);line-height:1.375}:host([scale=m]) .queue-count{margin-inline:.75rem}:host([scale=m]) .container{--calcite-internal-alert-min-height: 4.1875rem;inline-size:var(--calcite-alert-width, 50em)}:host([scale=m]) .close{padding:1rem}:host([scale=m]) .icon{padding-inline-start:1rem}:host([scale=m]) .text-container{padding-block:.75rem;padding-inline:1rem .75rem}:host([scale=l]) slot[name=title]::slotted(*),:host([scale=l]) *::slotted([slot=title]){margin-block-end:.25rem;font-size:var(--calcite-font-size-1);line-height:1.375}:host([scale=l]) slot[name=message]::slotted(*),:host([scale=l]) *::slotted([slot=message]){font-size:var(--calcite-font-size-0);line-height:1.375}:host([scale=l]) slot[name=link]::slotted(*),:host([scale=l]) *::slotted([slot=link]){font-size:var(--calcite-font-size-0);line-height:1.375}:host([scale=l]) .queue-count{margin-inline:1rem}:host([scale=l]) .container{--calcite-internal-alert-min-height: 5.625rem;inline-size:var(--calcite-alert-width, 60em)}:host([scale=l]) .close{padding:1.25rem}:host([scale=l]) .icon{padding-inline-start:1.25rem}:host([scale=l]) .text-container{padding-block:1rem;padding-inline:1.25rem 1rem}:host([open]) .container--active{border-block-start-width:2px;opacity:1;pointer-events:initial}:host([open]) .container--active[class*=bottom]{transform:translate3d(0,calc(-1 * var(--calcite-alert-offset-size, 2rem)),inherit)}:host([open]) .container--active[class*=top]{transform:translate3d(0,var(--calcite-alert-offset-size, 2rem),inherit)}:host([auto-close])>.queue-count{border-inline-end:0 solid transparent}slot[name=title]::slotted(*),*::slotted([slot=title]){font-size:var(--calcite-font-size-0);line-height:1.375;font-weight:var(--calcite-font-weight-medium);color:var(--calcite-color-text-1)}slot[name=message]::slotted(*),*::slotted([slot=message]){margin:0;display:inline;font-size:var(--calcite-font-size--1);line-height:1.375;font-weight:var(--calcite-font-weight-normal);margin-inline-end:.5rem;color:var(--calcite-color-text-2)}slot[name=link]::slotted(*),*::slotted([slot=link]){display:inline-flex;color:var(--calcite-color-text-link)}:host([kind=brand]) .container{border-block-start-color:var(--calcite-color-brand)}:host([kind=brand]) .container .icon{color:var(--calcite-color-brand)}:host([kind=info]) .container{border-block-start-color:var(--calcite-color-status-info)}:host([kind=info]) .container .icon{color:var(--calcite-color-status-info)}:host([kind=danger]) .container{border-block-start-color:var(--calcite-color-status-danger)}:host([kind=danger]) .container .icon{color:var(--calcite-color-status-danger)}:host([kind=success]) .container{border-block-start-color:var(--calcite-color-status-success)}:host([kind=success]) .container .icon{color:var(--calcite-color-status-success)}:host([kind=warning]) .container{border-block-start-color:var(--calcite-color-status-warning)}:host([kind=warning]) .container .icon{color:var(--calcite-color-status-warning)}:host([auto-close-duration=fast]) .dismiss-progress:after{animation:dismissProgress 6s ease-out}:host(:hover[auto-close-duration=fast]) .dismiss-progress:after,:host(:focus[auto-close-duration=fast]) .dismiss-progress:after{animation-play-state:paused}:host([auto-close-duration=medium]) .dismiss-progress:after{animation:dismissProgress 10s ease-out}:host(:hover[auto-close-duration=medium]) .dismiss-progress:after,:host(:focus[auto-close-duration=medium]) .dismiss-progress:after{animation-play-state:paused}:host([auto-close-duration=slow]) .dismiss-progress:after{animation:dismissProgress 14s ease-out}:host(:hover[auto-close-duration=slow]) .dismiss-progress:after,:host(:focus[auto-close-duration=slow]) .dismiss-progress:after{animation-play-state:paused}.container.focused .dismiss-progress:after{animation-play-state:paused}@keyframes dismissProgress{0%{inline-size:0px;opacity:.75}to{inline-size:100%;opacity:1}}.container--embedded{position:absolute}:host([hidden]){display:none}[hidden]{display:none}:host([calcite-hydrated-hidden]){visibility:hidden!important;pointer-events:none}`,Gb=new wEe,AP=class AP extends wi{constructor(){super(...arguments),this.autoCloseTimeoutId=null,this.transitionProp="opacity",this.totalHoverTime=0,this.totalOpenTime=0,this.messages=ds(),this.focusSetter=Ns()(this),this.hasEndActions=!1,this.isFocused=!1,this.numberStringFormatter=new _ae,this.active=!1,this.autoClose=!1,this.autoCloseDuration="medium",this.embedded=!1,this.iconFlipRtl=!1,this.kind="brand",this.open=!1,this.openAlertCount=0,this.placement="bottom",this.queue="last",this.scale="m",this.calciteAlertBeforeClose=Ge({cancelable:!1}),this.calciteAlertBeforeOpen=Ge({cancelable:!1}),this.calciteAlertClose=Ge({cancelable:!1}),this.calciteAlertOpen=Ge({cancelable:!1})}async setFocus(e){return this.focusSetter(()=>this.el,e)}connectedCallback(){super.connectedCallback(),this.open&&Gb.registerElement(this.el),this.numberStringFormatter.numberFormatOptions={locale:this.messages._lang,numberingSystem:this.numberingSystem,signDisplay:"always"}}willUpdate(e){e.has("open")&&(this.hasUpdated||this.open!==!1)&&this.openHandler(),e.has("active")&&(this.hasUpdated||this.active!==!1)&&this.handleActiveChange(),e.has("autoCloseDuration")&&(this.hasUpdated||this.autoCloseDuration!=="medium")&&this.updateDuration(),e.has("queue")&&(this.hasUpdated||this.queue!=="last")&&this.handleQueueChange(),e.has("numberingSystem")&&this.numberingSystemChange(),e.has("messages")&&this.effectiveLocaleChange()}disconnectedCallback(){super.disconnectedCallback(),Gb.unregisterElement(this.el),this.clearAutoCloseTimeout(),this.embedded=!1}handleActiveChange(){bU(this),this.clearAutoCloseTimeout(),this.active&&this.autoClose&&!this.autoCloseTimeoutId&&(this.initialOpenTime=Date.now(),this.autoCloseTimeoutId=window.setTimeout(()=>this.closeAlert(),BL[this.autoCloseDuration]))}openHandler(){this.open?Gb.registerElement(this.el):Gb.unregisterElement(this.el)}updateDuration(){this.autoClose&&this.autoCloseTimeoutId&&(this.clearAutoCloseTimeout(),this.autoCloseTimeoutId=window.setTimeout(()=>this.closeAlert(),BL[this.autoCloseDuration]))}handleQueueChange(){this.open&&(Gb.unregisterElement(this.el),Gb.registerElement(this.el))}handleKeyBoardFocus(){this.isFocused=!0,this.handleFocus()}handleKeyBoardBlur(){this.isFocused=!1,this.isHovered||this.handleBlur()}effectiveLocaleChange(){this.numberStringFormatter.numberFormatOptions={locale:this.messages._lang,numberingSystem:this.numberingSystem,signDisplay:"always"}}numberingSystemChange(){this.numberStringFormatter.numberFormatOptions={locale:this.messages._lang,numberingSystem:this.numberingSystem,signDisplay:"always"}}clearAutoCloseTimeout(){window.clearTimeout(this.autoCloseTimeoutId),this.autoCloseTimeoutId=null}setTransitionEl(e){e&&(this.transitionEl=e)}closeAlert(){this.open=!1,this.clearAutoCloseTimeout()}onBeforeOpen(){this.calciteAlertBeforeOpen.emit()}onOpen(){this.calciteAlertOpen.emit()}onBeforeClose(){this.calciteAlertBeforeClose.emit()}onClose(){this.calciteAlertClose.emit()}actionsEndSlotChangeHandler(e){this.hasEndActions=ri(e)}handleMouseOver(){this.isHovered=!0,this.handleFocus()}handleMouseLeave(){this.isHovered=!1,this.isFocused||this.handleBlur()}handleFocus(){this.clearAutoCloseTimeout(),this.totalOpenTime=Date.now()-this.initialOpenTime,this.lastMouseOverBegin=Date.now()}handleBlur(){const e=Date.now()-this.lastMouseOverBegin,i=BL[this.autoCloseDuration]-this.totalOpenTime+this.totalHoverTime;this.totalHoverTime=this.totalHoverTime?e+this.totalHoverTime:e,this.autoCloseTimeoutId=window.setTimeout(()=>this.closeAlert(),i)}render(){const{open:e,autoClose:i,label:r,placement:n,active:s,openAlertCount:o}=this,a=i?"alert":"alertdialog",l=!e,h=L2(vEe,this.icon,this.kind),f=o>1;return this.el.inert=l,this.el.ariaLabel=r,this.el.toggleAttribute("calcite-hydrated-hidden",l),this.el.role=a,de`<div class=${ce({[Rl.container]:!0,[Rl.containerActive]:s,[`${Rl.container}--${n}`]:!0,[Rl.containerEmbedded]:this.embedded,[Rl.focused]:this.isFocused})} @pointerenter=${this.autoClose&&this.autoCloseTimeoutId?this.handleMouseOver:null} @pointerleave=${this.autoClose?this.handleMouseLeave:null} ${Ut(this.setTransitionEl)}>${h&&this.renderIcon(h)||""}<div class=${ce(Rl.textContainer)} @focusin=${this.autoClose&&this.autoCloseTimeoutId?this.handleKeyBoardFocus:null} @focusout=${this.autoClose?this.handleKeyBoardBlur:null}><slot name=${eI.title}></slot><slot name=${eI.message}></slot><slot name=${eI.link}></slot></div>${this.renderActionsEnd()}${f?this.renderQueueCount():null}${this.renderCloseButton()}${e&&s&&i?de`<div class=${ce(Rl.dismissProgress)}></div>`:null}</div>`}renderCloseButton(){return vt("close",de`<button .ariaLabel=${this.messages.close} class=${ce(Rl.close)} @click=${this.closeAlert} @focusin=${this.autoClose?this.handleKeyBoardFocus:null} @focusout=${this.autoClose?this.handleKeyBoardBlur:null} type=button><calcite-icon icon=x .scale=${Er(this.scale)}></calcite-icon></button>`)}renderQueueCount(){const{openAlertCount:e}=this,i=e>2?e-1:1,r=this.numberStringFormatter.numberFormatter.format(i);return vt("queue-count",de`<div class=${ce({[Rl.queueCount]:!0,[Rl.queueCountActive]:e>1})}><calcite-chip .label=${r} .scale=${this.scale} .value=${r}>${r}</calcite-chip></div>`)}renderActionsEnd(){return de`<div class=${ce(Rl.actionsEnd)}><slot name=${eI.actionsEnd} @slotchange=${this.actionsEndSlotChangeHandler}></slot></div>`}renderIcon(e){return de`<div class=${ce(Rl.icon)}><calcite-icon .flipRtl=${this.iconFlipRtl} .icon=${e} .scale=${Er(this.scale)}></calcite-icon></div>`}};AP.properties={hasEndActions:[16,{},{state:!0}],isFocused:[16,{},{state:!0}],numberStringFormatter:[16,{},{state:!0}],active:[5,{},{type:Boolean}],autoClose:[7,{},{reflect:!0,type:Boolean}],autoCloseDuration:[3,{},{reflect:!0}],embedded:[5,{},{type:Boolean}],icon:[3,{converter:B_},{reflect:!0}],iconFlipRtl:[7,{},{reflect:!0,type:Boolean}],kind:[3,{},{reflect:!0}],label:1,messageOverrides:[0,{},{attribute:!1}],numberingSystem:[3,{},{reflect:!0}],open:[7,{},{reflect:!0,type:Boolean}],openAlertCount:[9,{},{type:Number}],placement:[3,{},{reflect:!0}],queue:[3,{},{reflect:!0}],scale:[3,{},{reflect:!0}]},AP.styles=_Ee;let Qj=AP;Pi("calcite-alert",Qj);const wU=Symbol.for(""),xEe=t=>{if(t?.r===wU)return t?._$litStatic$},SEe=t=>({_$litStatic$:t,r:wU}),Cv=(t,...e)=>({_$litStatic$:e.reduce((i,r,n)=>i+(s=>{if(s._$litStatic$!==void 0)return s._$litStatic$;throw Error(`Value passed to 'literal' function must be a 'literal' result: ${s}. Use 'unsafeStatic' to pass non-literal values, but
            take care to ensure page security.`)})(r)+t[n+1],t[0]),r:wU}),yZ=new Map,TEe=t=>(e,...i)=>{const r=i.length;let n,s;const o=[],a=[];let l,h=0,f=!1;for(;h<r;){for(l=e[h];h<r&&(s=i[h],(n=xEe(s))!==void 0);)l+=n+e[++h],f=!0;h!==r&&a.push(s),o.push(l),h++}if(h===r&&o.push(e[r]),f){const g=o.join("$$lit$$");(e=yZ.get(g))===void 0&&(o.raw=o,yZ.set(g,e=o)),i=a}return t(e,...i)},ND=TEe(de);const $Ee=vi`:host{--calcite-internal-color-focus: var( --calcite-color-focus, var(--calcite-ui-focus-color, var(--calcite-color-brand)) )}:host([disabled]){cursor:default;-webkit-user-select:none;user-select:none;opacity:var(--calcite-opacity-disabled)}:host([disabled]) *,:host([disabled]) ::slotted(*){pointer-events:none}:host{display:inline}:host a,:host button{position:relative;display:flex;cursor:pointer;align-items:center;justify-content:center;border-radius:0;border-style:none;font-family:inherit;text-decoration:none;line-height:inherit;font-size:inherit;-webkit-appearance:none}:host a:hover,:host button:hover{text-decoration:none}:host a,:host button{transition-property:background-color,block-size,border-color,box-shadow,color,inset-block-end,inset-block-start,inset-inline-end,inset-inline-start,inset-size,opacity,outline-color,transform,background-size;transition-duration:var(--calcite-animation-timing);transition-timing-function:ease-in-out;outline-color:transparent}:host a:focus,:host button:focus{outline:var(--calcite-border-width-md) solid var(--calcite-color-focus, var(--calcite-ui-focus-color, var(--calcite-color-brand)));outline:var(--calcite-border-width-md) solid var(--calcite-internal-color-focus);outline-offset:calc(var(--calcite-spacing-base) * calc(1 - (2*clamp(0,var(--calcite-offset-invert-focus),1))))}calcite-icon{inline-size:1em;block-size:1em;min-inline-size:unset;min-block-size:unset}.calcite-link--icon{vertical-align:middle;margin-block-start:-.25em}:host .calcite-link--icon.icon-start{margin-inline-end:.5rem}:host .calcite-link--icon.icon-end{margin-inline-start:.5rem}:host button,:host a{position:relative;display:inline;border-style:none;background-color:transparent;padding:0;color:var(--calcite-link-text-color, var(--calcite-color-text-link));line-height:inherit;white-space:initial;background-image:linear-gradient(currentColor,currentColor),linear-gradient(var(--calcite-color-brand-underline),var(--calcite-color-brand-underline));background-position-x:0%,100%;background-position-y:min(1.5em,100%);background-repeat:no-repeat,no-repeat;background-size:0% 1px,100% 1px}:host button:hover,:host button:focus,:host a:hover,:host a:focus{background-size:100% 1px,100% 1px}:host button:active,:host a:active{background-size:100% 2px,100% 2px}:host button.calcite--rtl,:host a.calcite--rtl{background-position:100% 100%,100% 100%}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}.interaction-container{display:contents}:host([hidden]){display:none}[hidden]{display:none}`,tI={calciteLinkIcon:"calcite-link--icon",iconStart:"icon-start",iconEnd:"icon-end"},OP=class OP extends wi{constructor(){super(),this.childRef=kr(),this.focusSetter=Ns()(this),this.disabled=!1,this.download=!1,this.listen("click",this.clickHandler)}async setFocus(e){return this.focusSetter(()=>this.childRef.value,e)}updated(){wl(this)}clickHandler(e){this.disabled||e.isTrusted||this.childRef.value.click()}childElClickHandler(e){e.isTrusted||e.stopPropagation()}render(){const{download:e,el:i}=this,r=pl(i),n=this.href?"a":"button",s=de`<calcite-icon class=${ce({[tI.calciteLinkIcon]:!0,[tI.iconStart]:!0})} .flipRtl=${this.iconFlipRtl==="start"||this.iconFlipRtl==="both"} .icon=${this.iconStart} scale=s></calcite-icon>`,o=de`<calcite-icon class=${ce({[tI.calciteLinkIcon]:!0,[tI.iconEnd]:!0})} .flipRtl=${this.iconFlipRtl==="end"||this.iconFlipRtl==="both"} .icon=${this.iconEnd} scale=s></calcite-icon>`,a=n==="button"?Cv`button`:Cv`a`,l=n==="button"?0:null;return this.el.role="presentation",_l({disabled:this.disabled,children:ND`<${a} class=${ce({[sl.rtl]:r==="rtl"})} download=${(n==="a"?e===!0||e===""?"":e||null:null)??oc} href=${(n==="a"&&this.href)??oc} @click=${this.childElClickHandler} rel=${(n==="a"&&this.rel)??oc} tabindex=${l} target=${(n==="a"&&this.target)??oc} ${Ut(this.childRef)}>${de`${this.iconStart?s:null}<slot></slot>${this.iconEnd?o:null}`}</${a}>`})}};OP.properties={disabled:[7,{},{reflect:!0,type:Boolean}],download:[3,{converter:B_},{reflect:!0}],href:[3,{},{reflect:!0}],iconEnd:[3,{},{reflect:!0}],iconFlipRtl:[3,{},{reflect:!0}],iconStart:[3,{},{reflect:!0}],rel:1,target:1},OP.styles=$Ee;let eF=OP;Pi("calcite-link",eF);let P1=class extends _ie{notify(){const e=this._observers;if(e&&e.length>0){const i=e.slice();for(const r of i)r.onInvalidated(),r.onCommitted()}}},kEe=class{constructor(e,i){this._observable=new P1,this._value=e,this._equalityFunction=i}get value(){return _t(this._observable),this._value}set value(e){this._equalityFunction(e,this._value)||(this._value=e,this._observable.notify())}mutate(e){e(this._value),this._observable.notify()}};function J_(t,e=uie){return new kEe(t,e)}function xae(){return new P1}function EEe(t){return new L$(t)}function Sae(t){_t(t)}function IEe(t,e){return Pd(t,e)}const CEe=vi`:host{display:block;box-sizing:border-box;*,*:before,*:after{box-sizing:inherit}}:host([hidden]){display:none}:host(:not(arcgis-basemap-gallery-item,arcgis-layer-list-item,arcgis-print-custom-text-elements,arcgis-print-dpi-input,arcgis-print-export-button,arcgis-print-exported-link,arcgis-print-exports-panel,arcgis-print-format-select,arcgis-print-layout-advanced-options,arcgis-print-layout-panel,arcgis-print-main-panel,arcgis-print-map-only-advanced-options,arcgis-print-map-only-panel,arcgis-print-out-spatial-reference-input,arcgis-print-preview-input,arcgis-print-scale-section,arcgis-print-template-select,arcgis-print-template-selector,arcgis-labeled-switch,arcgis-measurement-content,arcgis-version-management-service-item,arcgis-version-management-version-item,arcgis-version-management-version-list,arcgis-version-management-version-properties,arcgis-video-player-action-bar,arcgis-video-player-actions-group,arcgis-video-player-controls-group,arcgis-video-player-metadata,arcgis-video-player-settings,arcgis-video-player-slider)){font-family:var(--calcite-font-family)}`,X$=Yse({defaultAssetPath:"https://js.arcgis.com/4.34/map-components/",hydratedAttribute:"hydrated",commonStyles:CEe}),{customElement:MEe,getAssetPath:vrt,setAssetPath:brt}=X$;X$.t=Sae;X$.o=xae;X$.c=EEe;X$.r=IEe;const AEe=Symbol("ClonableMixin"),dt=t=>{var n;var e;const i=t;let r=(n=class extends i{constructor(){super(...arguments),this[e]=!0}clone(s){const o=zo(this);fie(o,"unable to clone instance of non-accessor class");const a=o.metadata,l=o.store,h={},f=new Map;for(const v in a){const w=a[v],S=l?.originOf(v),T=w.clonable;if(w.readOnly||T===!1||S!==7&&S!==0&&S!==5&&S!==4)continue;const C=this[v];let I=null;if(typeof T=="function")I=T(C,s);else if(T==="reference")I=C;else if(I=HN(C,s),C!=null&&I==null)continue;S===0?f.set(v,I):h[v]=I}const g=new(Object.getPrototypeOf(this)).constructor(h);if(f.size){const v=zo(g)?.store;if(v)for(const[w,S]of f)v.set(w,S,0)}return g}},e=AEe,n);return r=u([j("esri.core.Clonable")],r),r},_U=dt(at);let ty=class extends _U{constructor(e){super(e),this.row=0,this.column=0,this.rows=1,this.columns=1}equals(e){return e!=null&&this.row===e.row&&this.rows===e.rows&&this.column===e.column&&this.columns===e.columns}};u([p({type:Number,nonNullable:!0,json:{read:!1,write:!1}})],ty.prototype,"row",void 0),u([p({type:Number,nonNullable:!0,json:{read:!1,write:!1}})],ty.prototype,"column",void 0),u([p({type:Number,nonNullable:!0,json:{read:!1,write:!1}})],ty.prototype,"rows",void 0),u([p({type:Number,nonNullable:!0,json:{read:!1,write:!1}})],ty.prototype,"columns",void 0),ty=u([j("esri.CameraLayout")],ty);const Tae=ty,vZ=new Float32Array(1);function _rt(t){--t;for(let e=1;e<32;e<<=1)t|=t>>e;return t+1}function vl(t,e,i){return Math.min(Math.max(t,e),i)}function xrt(t){return!(t&t-1)}function Srt(t){return t--,t|=t>>1,t|=t>>2,t|=t>>4,t|=t>>8,t|=t>>16,++t}function kS(t,e,i){return t+(e-t)*i}function Trt(t,e,i,r,n){return kS(r,n,(t-e)/(i-e))}function K$(t){return t*Math.PI/180}function $ae(t){return 180*t/Math.PI}function $rt(t,e=1e-6){return(t<0?-1:1)/Math.max(Math.abs(t),e)}function krt(t){return Math.acos(vl(t,-1,1))}function OEe(t){return Math.asin(vl(t,-1,1))}function fl(t,e,i=1e-6){return t===e?!0:!Number.isFinite(t)||!Number.isFinite(e)?!1:(t>e?t-e:e-t)<=i}function kae(t,e,i=1e-6){return!fl(t,e,i)&&t>e}function tF(t,e,i=1e-6){return!fl(t,e,i)&&t<e}function PEe(t,e,i=1e-6){return fl(t,e,i)||t>e}const lO=new DataView(new ArrayBuffer(Float64Array.BYTES_PER_ELEMENT));function iF(t){return lO.setFloat64(0,t),lO.getBigInt64(0)}function DEe(t){return lO.setBigInt64(0,t),lO.getFloat64(0)}const WC=1000000n,REe=Eae(1);function Eae(t){const e=iF(t=Math.abs(t)),i=DEe(e<=WC?WC:e-WC);return Math.abs(t-i)}function Ert(t,e,i=REe){if(t===e)return!0;if(!Number.isFinite(t)||!Number.isFinite(e))return!1;if(i!=null&&Eae(Math.min(Math.abs(t),Math.abs(e)))<i)return Math.abs(t-e)<=i;const r=iF(t),n=iF(e);return r<0!=n<0?!1:!((r<n?n-r:r-n)>WC)}function Iae(t,e,i=1e-6){if(t===e)return!0;if(!Number.isFinite(t)||!Number.isFinite(e))return!1;const r=Math.abs(t-e),n=Math.abs(t),s=Math.abs(e);if(t===0||e===0||n<1e-12&&s<1e-12){if(r>.01*i)return!1}else if(r/(n+s)>i)return!1;return!0}function Irt(t){return Cae(Math.max(-bZ,Math.min(t,bZ)))}function Cae(t){return vZ[0]=t,vZ[0]}function Crt(t){const e=t[0]*t[0]+t[1]*t[1]+t[2]*t[2],i=t[3]*t[3]+t[4]*t[4]+t[5]*t[5],r=t[6]*t[6]+t[7]*t[7]+t[8]*t[8];return!(fl(e,1)&&fl(i,1)&&fl(r,1))}function Mrt(t,e){return(t%e+e)%e}const bZ=Cae(34028234663852886e22);function Art(t,e,i){if(i===void 0||+i==0)return Math[t](e);if(e=+e,i=+i,isNaN(e)||typeof i!="number"||i%1!=0)return NaN;let r=e.toString().split("e");return r=(e=Math[t](+(r[0]+"e"+(r[1]?+r[1]-i:-i)))).toString().split("e"),+(r[0]+"e"+(r[1]?+r[1]+i:i))}let jD=class{constructor(e,i){this.min=e,this.max=i,this.range=i-e}normalize(e,i=0,r=!1){return wZ(this.range,this.min,this.max,e,i,r)}clamp(e,i=0){return vl(e-i,this.min,this.max)+i}monotonic(e,i,r){return e<i?i:i+rF(this.range,e-i,r)}minimalMonotonic(e,i,r){return wZ(this.range,e,e+this.range,i,r)}center(e,i,r){return i=this.monotonic(e,i,r),this.normalize((e+i)/2,r)}diff(e,i,r){return this.monotonic(e,i,r)-e}shortestSignedDiff(e,i){e=this.normalize(e);const r=(i=this.normalize(i))-e,n=i<e?this.minimalMonotonic(e,i)-e:i-this.minimalMonotonic(i,e);return Math.abs(r)<Math.abs(n)?r:n}contains(e,i,r){return i=this.minimalMonotonic(e,i),(r=this.minimalMonotonic(e,r))>e&&r<i}};function wZ(t,e,i,r,n=0,s=!1){return(r-=n)<e?r+=rF(t,e-r):r>i&&(r-=rF(t,r-i)),s&&r===i&&(r=e),r+n}function rF(t,e,i=0){return Math.ceil((e-i)/t)*t+i}const Prt=new jD(0,2*Math.PI),Drt=new jD(-Math.PI,Math.PI),LEe=new jD(0,360);let Yu=class extends dt(ge){constructor(...e){super(...e),this.position=new wt([0,0,0]),this.heading=0,this.tilt=0,this.fov=55,this.layout=new Tae}normalizeCtorArgs(e,i,r,n){if(e&&typeof e=="object"&&("x"in e||Array.isArray(e))){const s={position:e};return i!=null&&(s.heading=i),r!=null&&(s.tilt=r),n!=null&&(s.fov=n),s}return e}writePosition(e,i,r,n){const s=e.clone();s.x=Io(e.x||0),s.y=Io(e.y||0),s.z=e.hasZ?Io(e.z||0):e.z,i[r]=s.write({},n)}readPosition(e,i){const r=new wt;return r.read(e,i),r.x=Io(r.x||0),r.y=Io(r.y||0),r.z=r.hasZ?Io(r.z||0):r.z,r}equals(e){return e!=null&&this.tilt===e.tilt&&this.heading===e.heading&&this.fov===e.fov&&this.position.equals(e.position)&&this.layout.equals(e.layout)}};u([p({type:wt,json:{write:{isRequired:!0}}})],Yu.prototype,"position",void 0),u([ze("position")],Yu.prototype,"writePosition",null),u([Ae("position")],Yu.prototype,"readPosition",null),u([p({type:Number,nonNullable:!0,json:{write:{isRequired:!0}}}),bi(t=>LEe.normalize(Io(t)))],Yu.prototype,"heading",void 0),u([p({type:Number,nonNullable:!0,json:{write:{isRequired:!0}}}),bi(t=>vl(Io(t),-180,180))],Yu.prototype,"tilt",void 0),u([p({type:Number,nonNullable:!0,json:{default:55,write:!0}}),bi(t=>vl(Io(t,55),1,170))],Yu.prototype,"fov",void 0),u([p({type:Tae,nonNullable:!0,json:{read:!1,write:!1}})],Yu.prototype,"layout",void 0),Yu=u([j("esri.Camera")],Yu);const zEe=Yu;function ma(t=BEe){return[t[0],t[1],t[2],t[3]]}function Mae(t,e){return t!==e&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3]),t}function NEe(t,e,i,r,n=ma()){return n[0]=t,n[1]=e,n[2]=i,n[3]=r,n}function Lrt(t,e=ma()){return e[0]=t.xmin,e[1]=t.ymin,e[2]=t.xmax,e[3]=t.ymax,e}function jEe(t,e,i=new jt){return i.xmin=t[0],i.ymin=t[1],i.xmax=t[2],i.ymax=t[3],i.spatialReference=e,i}function ec(t,e){e[0]<t[0]&&(t[0]=e[0]),e[0]>t[2]&&(t[2]=e[0]),e[1]<t[1]&&(t[1]=e[1]),e[1]>t[3]&&(t[3]=e[1])}function FEe(t,e){e<t[0]&&(t[0]=e),e>t[2]&&(t[2]=e)}function VEe(t,e){e<t[1]&&(t[1]=e),e>t[3]&&(t[3]=e)}function zrt(t,e,i){if(e!=null)if("length"in e)sF(e)?(i[0]=Math.min(t[0],e[0]),i[1]=Math.min(t[1],e[1]),i[2]=Math.max(t[2],e[2]),i[3]=Math.max(t[3],e[3])):e.length!==2&&e.length!==3||(i[0]=Math.min(t[0],e[0]),i[1]=Math.min(t[1],e[1]),i[2]=Math.max(t[2],e[0]),i[3]=Math.max(t[3],e[1]));else switch(e.type){case"extent":i[0]=Math.min(t[0],e.xmin),i[1]=Math.min(t[1],e.ymin),i[2]=Math.max(t[2],e.xmax),i[3]=Math.max(t[3],e.ymax);break;case"point":i[0]=Math.min(t[0],e.x),i[1]=Math.min(t[1],e.y),i[2]=Math.max(t[2],e.x),i[3]=Math.max(t[3],e.y)}else Mae(i,t)}function Nrt(t,e,i=t){const r=e.length;let n=t[0],s=t[1],o=t[2],a=t[3];for(let l=0;l<r;l++){const h=e[l];n=Math.min(n,h[0]),s=Math.min(s,h[1]),o=Math.max(o,h[0]),a=Math.max(a,h[1])}return i[0]=n,i[1]=s,i[2]=o,i[3]=a,i}function jrt(t){for(let e=0;e<4;e++)if(!isFinite(t[e]))return!1;return!0}function xU(t){return t==null||t[0]>=t[2]?0:t[2]-t[0]}function SU(t){return t==null||t[1]>=t[3]?0:t[3]-t[1]}function Frt(t){return xU(t)*SU(t)}function Vrt(t,e=[0,0]){return e[0]=(t[0]+t[2])/2,e[1]=(t[1]+t[3])/2,e}function Urt(t){const e=xU(t),i=SU(t);return Math.sqrt(e*e+i*i)}function Brt(t,e){return!!t&&nF(t,e.x,e.y)}function nF(t,e,i){return e>=t[0]&&i>=t[1]&&e<=t[2]&&i<=t[3]}function Hrt(t,e){return Math.max(e[0],t[0])<=Math.min(e[2],t[2])&&Math.max(e[1],t[1])<=Math.min(e[3],t[3])}function qrt(t,e,i){return Math.max(e[0],t[0])-i<=Math.min(e[2],t[2])&&Math.max(e[1],t[1])-i<=Math.min(e[3],t[3])}function UEe(t,e){return e[0]>=t[0]&&e[2]<=t[2]&&e[1]>=t[1]&&e[3]<=t[3]}function Grt(t,e,i,r){return r??=t,r[0]=t[0]+e,r[1]=t[1]+i,r[2]=t[2]+e,r[3]=t[3]+i,r}function Wrt(t){return t?Mae(t,_Z):ma(_Z)}function sF(t){return t!=null&&t.length===4}function Yrt(t,e){return sF(t)&&sF(e)?t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]:t===e}const _Z=[1/0,1/0,-1/0,-1/0],BEe=[0,0,0,0];let TU=1e-6;function Lo(){return TU}function HEe(t){TU=t}const FD=Math.random,qEe=Math.PI/180,GEe=180/Math.PI;function $U(t){return t*qEe}function WEe(t){return t*GEe}function YEe(t,e){return Math.abs(t-e)<=TU*Math.max(1,Math.abs(t),Math.abs(e))}Object.freeze(Object.defineProperty({__proto__:null,RANDOM:FD,equals:YEe,getEpsilon:Lo,setEpsilon:HEe,toDegree:WEe,toRadian:$U},Symbol.toStringTag,{value:"Module"}));function Bw(t,e){return t[0]=e[0],t[1]=e[1],t}function ss(t,e,i){return t[0]=e,t[1]=i,t}function Aae(t,e,i){return t[0]=e[0]+i[0],t[1]=e[1]+i[1],t}function N2(t,e,i){return t[0]=e[0]-i[0],t[1]=e[1]-i[1],t}function Oae(t,e,i){return t[0]=e[0]*i[0],t[1]=e[1]*i[1],t}function Pae(t,e,i){return t[0]=e[0]/i[0],t[1]=e[1]/i[1],t}function ZEe(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t}function JEe(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t}function XEe(t,e,i){return t[0]=Math.min(e[0],i[0]),t[1]=Math.min(e[1],i[1]),t}function KEe(t,e,i){return t[0]=Math.max(e[0],i[0]),t[1]=Math.max(e[1],i[1]),t}function QEe(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t}function Q$(t,e,i){return t[0]=e[0]*i,t[1]=e[1]*i,t}function eIe(t,e,i,r){return t[0]=e[0]+i[0]*r,t[1]=e[1]+i[1]*r,t}function VD(t,e){const i=e[0]-t[0],r=e[1]-t[1];return Math.sqrt(i*i+r*r)}function j2(t,e){const i=e[0]-t[0],r=e[1]-t[1];return i*i+r*r}function cO(t){const e=t[0],i=t[1];return Math.sqrt(e*e+i*i)}function Dae(t){const e=t[0],i=t[1];return e*e+i*i}function Rae(t,e){return t[0]=-e[0],t[1]=-e[1],t}function tIe(t,e){return t[0]=1/e[0],t[1]=1/e[1],t}function oF(t,e){const i=e[0],r=e[1];let n=i*i+r*r;return n>0&&(n=1/Math.sqrt(n),t[0]=e[0]*n,t[1]=e[1]*n),t}function Lae(t,e){return t[0]*e[0]+t[1]*e[1]}function zae(t,e,i){const r=e[0]*i[1]-e[1]*i[0];return t[0]=t[1]=0,t[2]=r,t}function iIe(t,e,i,r){const n=e[0],s=e[1];return t[0]=n+r*(i[0]-n),t[1]=s+r*(i[1]-s),t}function rIe(t,e=1){const i=2*FD()*Math.PI;return t[0]=Math.cos(i)*e,t[1]=Math.sin(i)*e,t}function nIe(t,e,i){const r=e[0],n=e[1];return t[0]=i[0]*r+i[2]*n,t[1]=i[1]*r+i[3]*n,t}function gd(t,e,i){const r=e[0],n=e[1];return t[0]=i[0]*r+i[2]*n+i[4],t[1]=i[1]*r+i[3]*n+i[5],t}function YC(t,e,i){const r=e[0],n=e[1];return t[0]=i[0]*r+i[3]*n+i[6],t[1]=i[1]*r+i[4]*n+i[7],t}function sIe(t,e,i){const r=e[0],n=e[1];return t[0]=i[0]*r+i[4]*n+i[12],t[1]=i[1]*r+i[5]*n+i[13],t}function oIe(t,e,i,r){const n=e[0]-i[0],s=e[1]-i[1],o=Math.sin(r),a=Math.cos(r);return t[0]=n*a-s*o+i[0],t[1]=n*o+s*a+i[1],t}function aIe(t,e){const i=t[0],r=t[1],n=e[0],s=e[1];let o=i*i+r*r;o>0&&(o=1/Math.sqrt(o));let a=n*n+s*s;a>0&&(a=1/Math.sqrt(a));const l=(i*n+r*s)*o*a;return l>1?0:l<-1?Math.PI:Math.acos(l)}function lIe(t){return"vec2("+t[0]+", "+t[1]+")"}function cIe(t,e){return t[0]===e[0]&&t[1]===e[1]}function uIe(t,e){const i=t[0],r=t[1],n=e[0],s=e[1],o=Lo();return Math.abs(i-n)<=o*Math.max(1,Math.abs(i),Math.abs(n))&&Math.abs(r-s)<=o*Math.max(1,Math.abs(r),Math.abs(s))}function dIe(t,e,i,r,n){let s=e[0]-i[0],o=e[1]-i[1];const a=(r[0]*s+r[1]*o)*(n-1);return s=r[0]*a,o=r[1]*a,t[0]=e[0]+s,t[1]=e[1]+o,t}const hIe=cO,kU=N2,pIe=Oae,fIe=Pae,mIe=VD,gIe=j2,yIe=Dae;Object.freeze(Object.defineProperty({__proto__:null,add:Aae,angle:aIe,ceil:ZEe,copy:Bw,cross:zae,dist:mIe,distance:VD,div:fIe,divide:Pae,dot:Lae,equals:uIe,exactEquals:cIe,floor:JEe,inverse:tIe,len:hIe,length:cO,lerp:iIe,max:KEe,min:XEe,mul:pIe,multiply:Oae,negate:Rae,normalize:oF,projectAndScale:dIe,random:rIe,rotate:oIe,round:QEe,scale:Q$,scaleAndAdd:eIe,set:ss,sqrDist:gIe,sqrLen:yIe,squaredDistance:j2,squaredLength:Dae,str:lIe,sub:kU,subtract:N2,transformMat2:nIe,transformMat2d:gd,transformMat3:YC,transformMat4:sIe},Symbol.toStringTag,{value:"Module"}));function ap(t,e,i,r){return t[0]=e[0]*(1-r)+i[0]*r,t[1]=e[1]*(1-r)+i[1]*r,t}function Po(t,e){return j2(t,e)}function Zrt(t,e,i){const r=Po(e,i);if(r===0)return Po(e,t);const n=(e[0]-t[0])*(i[1]-t[1])-(e[1]-t[1])*(i[0]-t[0]);return n*n/r}function vIe(t,e,i,r,n){const[s,o]=e,[a,l]=i,[h,f]=r,[g,v]=n,w=(s-a)*(f-v)-(o-l)*(h-g);if(w===0)return null;const S=(s*l-o*a)*(h-g)-(s-a)*(h*v-f*g),T=(s*l-o*a)*(f-v)-(o-l)*(h*v-f*g);return t[0]=S/w,t[1]=T/w,t}const pu=2*Math.PI;function Ky(t,e){const i=Math.atan2(t,e);return i<0?i+pu:i}function Nae(t){return Math.abs(t)%pu}function xZ(t){const e=Nae(t);return e<Math.PI?e:pu-e}function UD(t,e){return{min:Math.min(t,e),max:Math.max(t,e)}}function jae(t,e,i,r){if(fl(Nae(t-e),0))return i?[t,t]:[t,r?t-pu:t+pu];const[n,s]=r?[t-pu,t]:[t,t+pu];return[t,ek({min:n,max:s},e)]}function ek({min:t,max:e},i){let r;return r=e-i,r>=pu?(r-=r%pu,i+r):(r=i-t,r>=pu?(r-=r%pu,i-r):i)}function bIe(t,e){const i=ek(t,e);return i>t.min&&i<t.max?i:xZ(i-t.min)<xZ(i-t.max)?t.min:t.max}function Fae(t,e,i,r=10){return e.map(n=>{let s=n;for(let o=0;o<r;o++){const[a,l,h,f,g,v]=i(s),w=t[0]-a,S=t[1]-l,T=-h,C=-f;s+=-(2*w*T+2*S*C)/(2*T*T+2*w*-g+2*C*C+2*S*-v||1e-6)}return s})}const wIe=[0,0];function Vae(t){const e=1-t,i=e*e,r=t*t;return[i*e,3*t*i,3*r*e,r*t]}function aF(t,e,i,r,n){const[s,o,a,l]=Vae(n);return[t[0]*s+e[0]*o+i[0]*a+r[0]*l,t[1]*s+e[1]*o+i[1]*a+r[1]*l]}function SZ(t,e,i,r,n){const[s,o,a,l]=Vae(n);return t*s+e*o+i*a+r*l}function Jrt(t,e,i){const r=t,[n,s,o]=e.b;return aF(r,s,o,n,i)}function _Ie(t,e,i){const r=t,[n,s,o]=e.b,a=ap([0,0],r,s,i),l=ap(wIe,s,o,i),h=ap([0,0],o,n,i),f=ap([0,0],a,l,i),g=ap([0,0],l,h,i);return[{b:[ap([],f,g,i),a,f]},{b:[[...n],g,h]}]}function Xrt(t,e,i){const r=t,[n,s,o]=e.b,a=Fae(i,[.1,.5,.9],g=>{const v=1-g,[w,S]=aF(r,s,o,n,g);return[w,S,3*v*v*(s[0]-r[0])+6*v*g*(o[0]-s[0])+3*g*g*(n[0]-o[0]),3*v*v*(s[1]-r[1])+6*v*g*(o[1]-s[1])+3*g*g*(n[1]-o[1]),6*v*(o[0]-2*s[0]+r[0])+6*g*(n[0]-2*o[0]+s[0]),6*v*(o[1]-2*s[1]+r[1])+6*g*(n[1]-2*o[1]+s[1])]}).map(g=>Math.min(1,Math.max(0,g)));a.push(0,1);let l=1/0;const h=a.map(g=>{const v=aF(r,s,o,n,g),[w,S]=v,T=i[0]-w,C=i[1]-S,I=Math.sqrt(T*T+C*C);return l=Math.min(I,l),{t:g,curvePoint:v,distance:I}}),f=[];for(const g of h){const{t:v,distance:w}=g;Iae(w,l)&&!f.some(({t:S})=>fl(S,v))&&f.push(g)}return f}function xIe(t,e,i){const r=e,[n,s,o]=i.b;if(ec(t,r),ec(t,n),nF(t,s[0],s[1])&&nF(t,o[0],o[1]))return t;for(const a of TZ(r[0],s[0],o[0],n[0]))a>0&&a<1&&FEe(t,SZ(r[0],s[0],o[0],n[0],a));for(const a of TZ(r[1],s[1],o[1],n[1]))a>0&&a<1&&VEe(t,SZ(r[1],s[1],o[1],n[1],a));return t}function TZ(t,e,i,r){const n=3*(3*(e-i)-t+r),s=6*(t-2*e+i),o=3*(e-t);if(n===0)return s!==0?[-o/s]:[];const a=Math.sqrt(s*s-4*n*o);return[(-s+a)/(2*n),(-s-a)/(2*n)]}function Krt(t,e,i){let n=0,s=[e];for(let o=0;o<16;o++){let a=t;const l=[];for(const f of s)l.push(..._Ie(a,f,.5)),a=f.b[0];s=l,a=t,n=0;let h=0;for(const f of s){const[g,v,w]=f.b,S=Math.sqrt(Po(a,g));n+=(S+(Math.sqrt(Po(a,v))+Math.sqrt(Po(v,w))+Math.sqrt(Po(w,g))))/2,h+=S,a=g}if(n-h<i)return n}return n}function SIe(t,e,i){const[r,n]=t,[s,o]=e,[a,l]=i,[h,f]=[s-r,o-n];let g=h*(a-r)+f*(l-n);g/=h**2+f**2,g=vl(g,0,1);const v=ap([0,0],t,e,g);return{t:g,curvePoint:v,distance:Math.sqrt(Po(v,i))}}let Uae=class{constructor(e,i,r,n,s,o){this.cx=e,this.cy=i,this.radius=r,this.thetaStart=n,this.thetaEnd=s,this.isInvalid=o}get startPoint(){const{cx:e,cy:i,radius:r,thetaStart:n}=this;return[e+r*Math.cos(n),i+r*Math.sin(n)]}get endPoint(){const{cx:e,cy:i,radius:r,thetaEnd:n}=this;return[e+r*Math.cos(n),i+r*Math.sin(n)]}};function uO(t,e){const{cx:i,cy:r,radius:n}=t;return[i+n*Math.cos(e),r+n*Math.sin(e)]}function ZC(t,e){if(t.isInvalid)return ap([0,0],t.startPoint,t.endPoint,e);const{thetaStart:i,thetaEnd:r}=t;return uO(t,i*(1-e)+r*e)}function ent(t,e){if(t.isInvalid)return SIe(t.startPoint,t.endPoint,e);const{cx:i,cy:r,thetaStart:n,thetaEnd:s}=t,[o,a]=e,l=bIe(UD(n,s),Math.atan2(a-r,o-i)),h=uO(t,l);return{t:(l-n)/(s-n),curvePoint:h,distance:Math.sqrt(Po(e,h))}}function $Z(t,e){if(e.isInvalid)return ec(t,e.startPoint),ec(t,e.endPoint),t;const{cx:i,cy:r,radius:n,thetaStart:s,thetaEnd:o}=e;ec(t,uO(e,s)),ec(t,uO(e,o));const a=UD(s,o),l=Math.PI/2;let h=0;for(const f of[[i+n,r],[i,r+n],[i-n,r],[i,r-n]])h=ek(a,h),h>a.min&&h<a.max&&ec(t,f),h+=l;return t}function tnt(t){if(t.isInvalid)return 2*t.radius;const{radius:e,thetaStart:i,thetaEnd:r}=t;return e*Math.abs(r-i)}function TIe(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[4],t[4]=e[5],t[5]=e[6],t[6]=e[8],t[7]=e[9],t[8]=e[10],t}function $Ie(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t}function Hw(t,e,i,r,n,s,o,a,l,h){return t[0]=e,t[1]=i,t[2]=r,t[3]=n,t[4]=s,t[5]=o,t[6]=a,t[7]=l,t[8]=h,t}function Bae(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function Hae(t,e){if(t===e){const i=e[1],r=e[2],n=e[5];t[1]=e[3],t[2]=e[6],t[3]=i,t[5]=e[7],t[6]=r,t[7]=n}else t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8];return t}function qae(t,e){const i=e[0],r=e[1],n=e[2],s=e[3],o=e[4],a=e[5],l=e[6],h=e[7],f=e[8],g=f*o-a*h,v=-f*s+a*l,w=h*s-o*l;let S=i*g+r*v+n*w;return S?(S=1/S,t[0]=g*S,t[1]=(-f*r+n*h)*S,t[2]=(a*r-n*o)*S,t[3]=v*S,t[4]=(f*i-n*l)*S,t[5]=(-a*i+n*s)*S,t[6]=w*S,t[7]=(-h*i+r*l)*S,t[8]=(o*i-r*s)*S,t):null}function kIe(t,e){const i=e[0],r=e[1],n=e[2],s=e[3],o=e[4],a=e[5],l=e[6],h=e[7],f=e[8];return t[0]=o*f-a*h,t[1]=n*h-r*f,t[2]=r*a-n*o,t[3]=a*l-s*f,t[4]=i*f-n*l,t[5]=n*s-i*a,t[6]=s*h-o*l,t[7]=r*l-i*h,t[8]=i*o-r*s,t}function JC(t){const e=t[0],i=t[1],r=t[2],n=t[3],s=t[4],o=t[5],a=t[6],l=t[7],h=t[8];return e*(h*s-o*l)+i*(-h*n+o*a)+r*(l*n-s*a)}function F2(t,e,i){const r=e[0],n=e[1],s=e[2],o=e[3],a=e[4],l=e[5],h=e[6],f=e[7],g=e[8],v=i[0],w=i[1],S=i[2],T=i[3],C=i[4],I=i[5],A=i[6],P=i[7],D=i[8];return t[0]=v*r+w*o+S*h,t[1]=v*n+w*a+S*f,t[2]=v*s+w*l+S*g,t[3]=T*r+C*o+I*h,t[4]=T*n+C*a+I*f,t[5]=T*s+C*l+I*g,t[6]=A*r+P*o+D*h,t[7]=A*n+P*a+D*f,t[8]=A*s+P*l+D*g,t}function lF(t,e,i){const r=e[0],n=e[1],s=e[2],o=e[3],a=e[4],l=e[5],h=e[6],f=e[7],g=e[8],v=i[0],w=i[1];return t[0]=r,t[1]=n,t[2]=s,t[3]=o,t[4]=a,t[5]=l,t[6]=v*r+w*o+h,t[7]=v*n+w*a+f,t[8]=v*s+w*l+g,t}function Gae(t,e,i){const r=e[0],n=e[1],s=e[2],o=e[3],a=e[4],l=e[5],h=e[6],f=e[7],g=e[8],v=Math.sin(i),w=Math.cos(i);return t[0]=w*r+v*o,t[1]=w*n+v*a,t[2]=w*s+v*l,t[3]=w*o-v*r,t[4]=w*a-v*n,t[5]=w*l-v*s,t[6]=h,t[7]=f,t[8]=g,t}function EIe(t,e,i){const r=i[0],n=i[1],s=i[2];return t[0]=r*e[0],t[1]=r*e[1],t[2]=r*e[2],t[3]=n*e[3],t[4]=n*e[4],t[5]=n*e[5],t[6]=s*e[6],t[7]=s*e[7],t[8]=s*e[8],t}function IIe(t,e,i){const r=i[0],n=i[1];return t[0]=r*e[0],t[1]=r*e[1],t[2]=r*e[2],t[3]=n*e[3],t[4]=n*e[4],t[5]=n*e[5],t}function CIe(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=e[0],t[7]=e[1],t[8]=1,t}function MIe(t,e){const i=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=i,t[2]=0,t[3]=-i,t[4]=r,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function AIe(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=e[1],t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function OIe(t,e){return t[0]=e[0],t[1]=e[1],t[2]=0,t[3]=e[2],t[4]=e[3],t[5]=0,t[6]=e[4],t[7]=e[5],t[8]=1,t}function PIe(t,e){const i=e[0],r=e[1],n=e[2],s=e[3],o=i+i,a=r+r,l=n+n,h=i*o,f=r*o,g=r*a,v=n*o,w=n*a,S=n*l,T=s*o,C=s*a,I=s*l;return t[0]=1-g-S,t[3]=f-I,t[6]=v+C,t[1]=f+I,t[4]=1-h-S,t[7]=w-T,t[2]=v-C,t[5]=w+T,t[8]=1-h-g,t}function DIe(t,e){const i=e[0],r=e[1],n=e[2],s=e[4],o=e[5],a=e[6],l=e[8],h=e[9],f=e[10],g=f*o-a*h,v=-f*s+a*l,w=h*s-o*l,S=i*g+r*v+n*w;if(!S)return null;const T=1/S;return t[0]=g*T,t[1]=(-f*r+n*h)*T,t[2]=(a*r-n*o)*T,t[3]=v*T,t[4]=(f*i-n*l)*T,t[5]=(-a*i+n*s)*T,t[6]=w*T,t[7]=(-h*i+r*l)*T,t[8]=(o*i-r*s)*T,t}function RIe(t,e){const i=e[0],r=e[1],n=e[2],s=e[3],o=e[4],a=e[5],l=e[6],h=e[7],f=e[8],g=e[9],v=e[10],w=e[11],S=e[12],T=e[13],C=e[14],I=e[15],A=i*a-r*o,P=i*l-n*o,D=i*h-s*o,L=r*l-n*a,B=r*h-s*a,N=n*h-s*l,Y=f*T-g*S,K=f*C-v*S,te=f*I-w*S,ue=g*C-v*T,ye=g*I-w*T,se=v*I-w*C;let G=A*se-P*ye+D*ue+L*te-B*K+N*Y;return G?(G=1/G,t[0]=(a*se-l*ye+h*ue)*G,t[1]=(l*te-o*se-h*K)*G,t[2]=(o*ye-a*te+h*Y)*G,t[3]=(n*ye-r*se-s*ue)*G,t[4]=(i*se-n*te+s*K)*G,t[5]=(r*te-i*ye-s*Y)*G,t[6]=(T*N-C*B+I*L)*G,t[7]=(C*D-S*N-I*P)*G,t[8]=(S*B-T*D+I*A)*G,t):null}function LIe(t,e,i){return t[0]=2/e,t[1]=0,t[2]=0,t[3]=0,t[4]=-2/i,t[5]=0,t[6]=-1,t[7]=1,t[8]=1,t}function zIe(t){return"mat3("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+")"}function NIe(t){return Math.sqrt(t[0]**2+t[1]**2+t[2]**2+t[3]**2+t[4]**2+t[5]**2+t[6]**2+t[7]**2+t[8]**2)}function jIe(t,e,i){return t[0]=e[0]+i[0],t[1]=e[1]+i[1],t[2]=e[2]+i[2],t[3]=e[3]+i[3],t[4]=e[4]+i[4],t[5]=e[5]+i[5],t[6]=e[6]+i[6],t[7]=e[7]+i[7],t[8]=e[8]+i[8],t}function Wae(t,e,i){return t[0]=e[0]-i[0],t[1]=e[1]-i[1],t[2]=e[2]-i[2],t[3]=e[3]-i[3],t[4]=e[4]-i[4],t[5]=e[5]-i[5],t[6]=e[6]-i[6],t[7]=e[7]-i[7],t[8]=e[8]-i[8],t}function FIe(t,e,i){return t[0]=e[0]*i,t[1]=e[1]*i,t[2]=e[2]*i,t[3]=e[3]*i,t[4]=e[4]*i,t[5]=e[5]*i,t[6]=e[6]*i,t[7]=e[7]*i,t[8]=e[8]*i,t}function VIe(t,e,i,r){return t[0]=e[0]+i[0]*r,t[1]=e[1]+i[1]*r,t[2]=e[2]+i[2]*r,t[3]=e[3]+i[3]*r,t[4]=e[4]+i[4]*r,t[5]=e[5]+i[5]*r,t[6]=e[6]+i[6]*r,t[7]=e[7]+i[7]*r,t[8]=e[8]+i[8]*r,t}function UIe(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]&&t[8]===e[8]}function BIe(t,e){const i=t[0],r=t[1],n=t[2],s=t[3],o=t[4],a=t[5],l=t[6],h=t[7],f=t[8],g=e[0],v=e[1],w=e[2],S=e[3],T=e[4],C=e[5],I=e[6],A=e[7],P=e[8],D=Lo();return Math.abs(i-g)<=D*Math.max(1,Math.abs(i),Math.abs(g))&&Math.abs(r-v)<=D*Math.max(1,Math.abs(r),Math.abs(v))&&Math.abs(n-w)<=D*Math.max(1,Math.abs(n),Math.abs(w))&&Math.abs(s-S)<=D*Math.max(1,Math.abs(s),Math.abs(S))&&Math.abs(o-T)<=D*Math.max(1,Math.abs(o),Math.abs(T))&&Math.abs(a-C)<=D*Math.max(1,Math.abs(a),Math.abs(C))&&Math.abs(l-I)<=D*Math.max(1,Math.abs(l),Math.abs(I))&&Math.abs(h-A)<=D*Math.max(1,Math.abs(h),Math.abs(A))&&Math.abs(f-P)<=D*Math.max(1,Math.abs(f),Math.abs(P))}function HIe(t){const e=Lo(),i=t[0],r=t[1],n=t[2],s=t[3],o=t[4],a=t[5],l=t[6],h=t[7],f=t[8];return Math.abs(1-(i*i+s*s+l*l))<=e&&Math.abs(1-(r*r+o*o+h*h))<=e&&Math.abs(1-(n*n+a*a+f*f))<=e}const qIe=F2,GIe=Wae;Object.freeze(Object.defineProperty({__proto__:null,add:jIe,adjoint:kIe,copy:$Ie,determinant:JC,equals:BIe,exactEquals:UIe,frob:NIe,fromMat2d:OIe,fromMat4:TIe,fromQuat:PIe,fromRotation:MIe,fromScaling:AIe,fromTranslation:CIe,identity:Bae,invert:qae,isOrthoNormal:HIe,mul:qIe,multiply:F2,multiplyScalar:FIe,multiplyScalarAndAdd:VIe,normalFromMat4:RIe,normalFromMat4Legacy:DIe,projection:LIe,rotate:Gae,scale:EIe,scaleByVec2:IIe,set:Hw,str:zIe,sub:GIe,subtract:Wae,translate:lF,transpose:Hae},Symbol.toStringTag,{value:"Module"}));function Zv(){return[1,0,0,0,1,0,0,0,1]}function WIe(t){return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8]]}function YIe(t,e,i,r,n,s,o,a,l){return[t,e,i,r,n,s,o,a,l]}const ZIe=Zv();Object.freeze(Object.defineProperty({__proto__:null,IDENTITY:ZIe,clone:WIe,create:Zv,fromValues:YIe},Symbol.toStringTag,{value:"Module"}));const Wb=Zv();function JIe(t,e,i){const[r,n]=t,[s,o]=e,[a,l]=i;Hw(Wb,r,s,a,n,o,l,1,1,1);const h=JC(Wb),f=4*h/(Po(t,e)+Po(e,i)+Po(i,t));if(!isFinite(f)||Math.abs(f)<1e-8)return null;const g=r**2+n**2,v=s**2+o**2,w=a**2+l**2;Hw(Wb,g,v,w,n,o,l,1,1,1);const S=JC(Wb);return Hw(Wb,g,v,w,r,s,a,1,1,1),[S/h*.5,JC(Wb)/h*-.5]}function Yae(t,e){const[i,r]=e.c,n=JIe(t,r,i),s=n==null,o=n??ap([],t,i,.5),[a,l]=t,[h,f]=r,[g,v]=i,[w,S]=o,T=a-w,C=l-S,I=Math.sqrt(T*T+C*C),A=Ky(l-S,a-w),P=Ky(f-S,h-w);let D=Ky(v-S,g-w);return(P-A)*(D-P)<0&&(D+=2*Math.sign(A-D)*Math.PI),new Uae(w,S,I,A,D,s)}function int(t,e,i){const r=ZC(t,i/2),n=ZC(t,i),s=ZC(t,(i+1)/2);return[{c:[n,r]},{c:[[...e.c[0]],s]}]}function rnt(t,e){const[i]=e.c,{cx:r,cy:n,thetaStart:s,thetaEnd:o,radius:a,isInvalid:l}=Yae(t,e);return{a:[i,[r,n],Math.abs(o-s)<Math.PI?1:0,s>o?1:0,l?s:0,a,l?0:1]}}function nnt(t){return"curveRings"in t&&!!t.curveRings?.length||"curvePaths"in t&&!!t.curvePaths?.length}function snt(t){return"curveRings"in t?t.curveRings:t.curvePaths}function EU(t){return"b"in t}function IU(t){return"c"in t}function BD(t){return Array.isArray(t)}function ont(t){return"a"in t}function Zae(t){return"a"in t&&t.a.length===4}function XIe(t){return"a"in t&&t.a.length===7}function HL(t){return BD(t)?t:EU(t)?t.b[0]:IU(t)?t.c[0]:t.a[0]}function KIe(t){if(EU(t)){const[e,i,r]=t.b;return{b:[[...e],[...i],[...r]]}}if(IU(t)){const[e,i]=t.c;return{c:[[...e],[...i]]}}if(BD(t))return[...t];if(Zae(t)){const[e,i,r,n]=t.a;return{a:[[...e],[...i],r,n]}}if(XIe(t)){const[e,i,r,n,s,o,a]=t.a;return{a:[[...e],[...i],r,n,s,o,a]}}return t}function QIe(t,e){const[i,r,n,s]=e.a,[o,a]=t,[l,h]=i,[f,g]=r,v=o-f,w=a-g,S=Math.sqrt(v*v+w*w),T=l-f,C=h-g,I=Math.sqrt(T*T+C*C),A=S===0||I===0||!Iae(S,I),P=S,[D,L]=jae(Ky(a-g,o-f),Math.atan2(h-g,l-f),n,s);return new Uae(f,g,P,D,L,A)}function ant(t,e,i){const{cx:r,cy:n,thetaStart:s,thetaEnd:o}=t,[a,l,h,f]=e.a,g=s*(1-i)+o*i;return[{a:[ZC(t,i),[r,n],Math.abs(g-s)<Math.PI?1:0,f]},{a:[[...a],[r,n],Math.abs(o-g)<Math.PI?1:0,f]}]}let eCe=class{constructor(e,i,r,n,s,o,a,l,h){this.cx=e,this.cy=i,this.a=r,this.b=n,this.cosR=s,this.sinR=o,this.u1=a,this.u2=l,this.isInvalid=h}};function CU(t,e){const[i,r,n,s,o,a,l]=e.a,[h,f]=t,[g,v]=i,[w,S]=r,T=a*l,C=Math.cos(o),I=Math.sin(o),[A,P]=jae(Ky(1/T*(f-S)*C-1/T*(h-w)*I,1/a*(f-S)*I+1/a*(h-w)*C),Math.atan2(1/T*(v-S)*C-1/T*(g-w)*I,1/a*(v-S)*I+1/a*(g-w)*C),n,s);return new eCe(w,S,a,T,C,I,A,P,a===0||T===0)}function V2(t,e){const{a:i,b:r,cosR:n,sinR:s,cx:o,cy:a}=t,l=Math.cos(e),h=Math.sin(e);return[i*l*n-r*h*s+o,i*l*s+r*h*n+a]}function _0(t,e){const{u1:i,u2:r}=t;return V2(t,i*(1-e)+r*e)}function cnt(t,e,i){if(i<0||i>1)return[];if(i===0||i===1)return[KIe(e)];const[r,[n,s],o,a,l,h,f]=e.a,{u1:g,u2:v}=t,w=g*(1-i)+v*i;return[{a:[[..._0(t,i)],[n,s],Math.abs(w-g)<Math.PI?1:0,a,l,h,f]},{a:[[...r],[n,s],Math.abs(v-w)<Math.PI?1:0,a,l,h,f]}]}function unt(t,e){const{a:i,b:r,cosR:n,sinR:s,u1:o,u2:a}=t,l=Math.PI/6,h=Fae(e,[1*l,2*l,4*l,5*l,7*l,8*l,10*l,11*l],T=>{const C=Math.cos(T),I=Math.sin(T),[A,P]=V2(t,T);return[A,P,-i*n*I-r*s*C,-i*s*I+r*n*C,-i*n*C+r*s*I,-i*s*C-r*n*I]}),f=UD(o,a),g=new Set(h.map(T=>ek(f,T)).filter(T=>T>f.min&&T<f.max));g.add(o),g.add(a);let v,w,S=1/0;for(const T of g){const C=V2(t,T),[I,A]=C,P=e[0]-I,D=e[1]-A,L=P*P+D*D;L<S&&(v=(T-o)/(a-o),w=C,S=L)}return{t:v,curvePoint:w,distance:Math.sqrt(S)}}function tCe(t,e,i){const r=CU(e,i),{a:n,b:s,u1:o,u2:a,cosR:l,sinR:h,isInvalid:f}=r,g=i.a[0];if(ec(t,e),ec(t,g),f)return t;const v=Math.atan2(-s*h,n*l),w=v+Math.PI,S=Math.atan2(s*l,n*h),T=S+Math.PI,C=UD(o,a);for(const I of[v,w,S,T].map(A=>ek(C,A)))I>C.min&&I<C.max&&ec(t,V2(r,I));return t}function dnt(t,e,i){const[r,n,s,o,a,l,h]=e.a,f=CU(t,e),{u1:g,u2:v,isInvalid:w}=f,S=v-g;if(w)return Math.sqrt(Po(t,r));const T=14,C=[0,0];let I=0,A=[_0(f,0),_0(f,.25),_0(f,.5),_0(f,.75),_0(f,1)];for(let P=0;P<T;P++){const D=A.length-1,L=S/(2*D),B=[];for(let Y=0;Y<D;Y++)B.push(A[Y]),B.push(V2(f,g+(2*Y+1)*L));B.push(A[A.length-1]),A=B,I=0;let N=0;for(let Y=1;Y<A.length;Y++){const K=A[Y-1],te=A[Y];if(I+=Math.sqrt(Po(K,te)),Y>1){const ue=A[Y-2],ye=vIe(C,ue,K,n,te);N+=ye?Math.sqrt(Po(K,ye)):Math.abs(te[0]-K[0])+Math.abs(te[1]-K[1])}else N+=I}if(N-I<i)return I}return I}const kZ=Zv(),iI=Zv(),EZ=Zv(),Af=Zv();function hnt(t,e,i){const[r,n,s,o,a,l,h]=e.a,f=CU(t,e),{cosR:g,sinR:v,a:w,b:S,cx:T,cy:C}=f,I=YC([0,0],r,i),A=YC([0,0],n,i),P=i[0]*i[4]<0?1-o:o;{const D=w*w*v*v+S*S*g*g,L=2*(S*S-w*w)*v*g,B=w*w*g*g+S*S*v*v,N=-2*D*T-L*C,Y=-L*T-2*B*C;Hw(kZ,D,L/2,N/2,L/2,B,Y/2,N/2,Y/2,D*T*T+L*T*C+B*C*C-w*w*S*S)}if(qae(iI,i),iI==null){const D=YC([0,0],t,i);return{a:[I,A,s,o,Ky(I[1],I[0]),Math.sqrt(Po(I,D))/2,0]}}Hae(EZ,iI),F2(Af,F2(Af,EZ,kZ),iI);{const D=Af[0],L=2*Af[1],B=Af[4],N=2*Af[2],Y=2*Af[5],K=L*L-4*D*B,te=2*(D*Y*Y+B*N*N-L*N*Y+K*Af[8]),ue=Math.sqrt((D-B)**2+L*L),ye=-Math.sqrt(te*(D+B+ue))/K,se=-Math.sqrt(te*(D+B-ue))/K;return{a:[I,A,s,P,.5*Ky(-L,B-D),ye,se/ye]}}}function iCe(t,e,i){if(BD(i))return ec(t,e),ec(t,i),t;if(EU(i))return xIe(t,e,i);if(IU(i)){const r=Yae(e,i);return $Z(t,r)}if(Zae(i)){const r=QIe(e,i);return $Z(t,r)}return tCe(t,e,i)}function Jae(t){return t.xmin!==void 0&&t.ymin!==void 0&&t.xmax!==void 0&&t.ymax!==void 0}function Xae(t){return t.points!==void 0}function Kae(t){return t.x!==void 0&&t.y!==void 0}function Qae(t){return t.paths!==void 0}function ele(t){return t.rings!==void 0}function tle(t){function e(i,r){return i==null?r:r==null?i:t(i,r)}return e}const Sm=tle(Math.min),Tm=tle(Math.max);function pnt(t,e){return Qae(e)?X_(t,e.curvePaths??e.paths,!1,!1)??t:ele(e)?X_(t,e.curveRings??e.rings,!1,!1)??t:Xae(e)?MU(t,e.points,!1,!1,!1,!1):Jae(e)?ile(t,e):(Kae(e)&&(t[0]=e.x,t[1]=e.y,t[2]=e.x,t[3]=e.y),t)}function fnt(t){let e,i,r,n;for(t.reset(),e=r=1/0,i=n=-1/0;t.nextPath();){const s=rCe(t);e=Math.min(s[0],e),r=Math.min(s[1],r),i=Math.max(s[2],i),n=Math.max(s[3],n)}return ma([e,r,i,n])}function rCe(t){let e,i,r,n;for(e=r=1/0,i=n=-1/0;t.nextPoint();)e=Math.min(t.x,e),r=Math.min(t.y,r),i=Math.max(t.x,i),n=Math.max(t.y,n);return ma([e,r,i,n])}function mnt(t,e){return Qae(e)?X_(t,e.curvePaths??e.paths,!0,!1)??t:ele(e)?X_(t,e.curveRings??e.rings,!0,!1)??t:Xae(e)?MU(t,e.points,!0,!1,!0,!1):Jae(e)?ile(t,e,!0,!1,!0,!1):(Kae(e)&&(t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.x,t[4]=e.y,t[5]=e.z),t)}function X_(t,e,i,r){const n=i?3:2;if(!e.length||!e[0].length)return null;let s,o,a,l,[h,f]=HL(e[0][0]),g=h,v=f;for(let w=0;w<e.length;w++){const S=e[w];for(let T=0;T<S.length;T++){const C=HL(S[T]),[I,A]=C;if(h=Sm(h,I),f=Sm(f,A),g=Tm(g,I),v=Tm(v,A),i&&C.length>2){const B=C[2];s=Sm(s,B),o=Tm(o,B)}if(r&&C.length>n){const B=C[n];a=Sm(s,B),l=Tm(o,B)}const P=S[T];if(BD(P)||T<1)continue;const D=HL(S[T-1]),L=NEe(h,f,g,v);[h,f,g,v]=iCe(L,D,P)}}return i?r?(t[0]=h,t[1]=f,t[2]=s,t[3]=a,t[4]=g,t[5]=v,t[6]=o,t[7]=l,t.length=8,t):(t[0]=h,t[1]=f,t[2]=s,t[3]=g,t[4]=v,t[5]=o,t.length=6,t):r?(t[0]=h,t[1]=f,t[2]=a,t[3]=g,t[4]=v,t[5]=l,t.length=6,t):(t[0]=h,t[1]=f,t[2]=g,t[3]=v,t.length=4,t)}function ile(t,e,i,r,n,s){const o=e.xmin,a=e.xmax,l=e.ymin,h=e.ymax;let f=e.zmin,g=e.zmax,v=e.mmin,w=e.mmax;return n?(f=f||0,g=g||0,s?(v=v||0,w=w||0,t[0]=o,t[1]=l,t[2]=f,t[3]=v,t[4]=a,t[5]=h,t[6]=g,t[7]=w,t):(t[0]=o,t[1]=l,t[2]=f,t[3]=a,t[4]=h,t[5]=g,t)):s?(v=v||0,w=w||0,t[0]=o,t[1]=l,t[2]=v,t[3]=a,t[4]=h,t[5]=w,t):(t[0]=o,t[1]=l,t[2]=a,t[3]=h,t)}function MU(t,e,i,r,n,s){const o=i?3:2,a=r&&s,l=i&&n;if(!e.length||!e[0].length)return null;let h,f,g,v,[w,S]=e[0],[T,C]=e[0];for(let I=0;I<e.length;I++){const A=e[I],[P,D]=A;if(w=Sm(w,P),S=Sm(S,D),T=Tm(T,P),C=Tm(C,D),l&&A.length>2){const L=A[2];h=Sm(h,L),f=Tm(f,L)}if(a&&A.length>o){const L=A[o];g=Sm(h,L),v=Tm(f,L)}}return n?(h=h||0,f=f||0,s?(g=g||0,v=v||0,t[0]=w,t[1]=S,t[2]=h,t[3]=g,t[4]=T,t[5]=C,t[6]=f,t[7]=v,t):(t[0]=w,t[1]=S,t[2]=h,t[3]=T,t[4]=C,t[5]=f,t)):s?(g=g||0,v=v||0,t[0]=w,t[1]=S,t[2]=g,t[3]=T,t[4]=C,t[5]=v,t):(t[0]=w,t[1]=S,t[2]=T,t[3]=C,t)}function nCe(t){return t.xmin!==void 0&&t.ymin!==void 0&&t.xmax!==void 0&&t.ymax!==void 0}function sCe(t){return t.points!==void 0}function oCe(t){return t.x!==void 0&&t.y!==void 0}function aCe(t){return t.paths!==void 0}function lCe(t){return t.rings!==void 0}const AU=[];function rle(t,e,i,r){return{xmin:t,ymin:e,xmax:i,ymax:r}}function nle(t,e,i,r,n,s){return{xmin:t,ymin:e,zmin:i,xmax:r,ymax:n,zmax:s}}function sle(t,e,i,r,n,s){return{xmin:t,ymin:e,mmin:i,xmax:r,ymax:n,mmax:s}}function ole(t,e,i,r,n,s,o,a){return{xmin:t,ymin:e,zmin:i,mmin:r,xmax:n,ymax:s,zmax:o,mmax:a}}function OU(t,e=!1,i=!1){return e?i?ole(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]):nle(t[0],t[1],t[2],t[3],t[4],t[5]):i?sle(t[0],t[1],t[2],t[3],t[4],t[5]):rle(t[0],t[1],t[2],t[3])}function gnt(t){return t?nCe(t)?t:oCe(t)?cCe(t):lCe(t)?lle(t):aCe(t)?cle(t):sCe(t)?ale(t):null:null}function ale(t){const{hasZ:e,hasM:i,points:r}=t,n=MU(AU,r,e??!1,i??!1,e??!1,i??!1);return n?OU(n,e,i):null}function cCe(t){const{x:e,y:i,z:r,m:n}=t,s=n!=null;return r!=null?s?ole(e,i,r,n,e,i,r,n):nle(e,i,r,e,i,r):s?sle(e,i,n,e,i,n):rle(e,i,e,i)}function lle(t){const{hasZ:e,hasM:i,rings:r,curveRings:n}=t,s=X_(AU,n??r,e??!1,i??!1);return s?OU(s,e,i):null}function cle(t){const{hasZ:e,hasM:i,paths:r,curvePaths:n}=t,s=X_(AU,n??r,e??!1,i??!1);return s?OU(s,e,i):null}function K_(t,e,i=!1){let{hasM:r,hasZ:n}=t;Array.isArray(e)?e.length!==4||r||n?e.length===3&&i&&!r?(n=!0,r=!1):e.length===3&&r&&n&&(r=!1,n=!1):(r=!0,n=!0):(n=!n&&e.hasZ&&(!r||e.hasM),r=!r&&e.hasM&&(!n||e.hasZ)),t.hasZ=n,t.hasM=r}var cF;function uCe(t){if(!t)return;let{points:e,hasM:i,hasZ:r,spatialReference:n}=t;switch(e??=[],e?.at(0)?.length){case 4:r??=!0,i??=!0;break;case 3:r??=i!==!0,i??=!r;break;default:r??=!1,i??=!1}return n??=Ke.WGS84,{...t,hasM:i,hasZ:r,points:e,spatialReference:n}}let Xl=cF=class extends Rn{constructor(t){super(uCe(t)),this.points=[],this.type="multipoint"}get cache(){return this.commitProperty("points"),this.commitProperty("hasZ"),this.commitProperty("hasM"),this.commitProperty("spatialReference"),{}}get extent(){const t=ale(this);return t?new jt({...t,spatialReference:this.spatialReference}):null}writePoints(t,e){e.points=ne(this.points)}clone(){const{points:t,spatialReference:e,hasM:i,hasZ:r}=this;return new cF({points:ne(t),spatialReference:e.clone(),hasM:i,hasZ:r})}addPoint(t){return K_(this,t),Array.isArray(t)?this.points.push(t):this.points.push(t.toArray()),this.notifyChange("points"),this}getPoint(t){if(!this._validateInputs(t))return null;const e=this.points[t],i={x:e[0],y:e[1],spatialReference:this.spatialReference};let r=2;return this.hasZ&&(i.z=e[2],r=3),this.hasM&&(i.m=e[r]),new wt(i)}removePoint(t){if(!this._validateInputs(t))return null;const e=new wt(this.points.splice(t,1)[0],this.spatialReference);return this.notifyChange("points"),e}setPoint(t,e){return this._validateInputs(t)?(K_(this,e),Array.isArray(e)||(e=e.toArray()),this.points[t]=e,this.notifyChange("points"),this):this}toJSON(t){return this.write({},t)}_validateInputs(t){return t!=null&&t>=0&&t<this.points.length}};u([p({readOnly:!0})],Xl.prototype,"cache",null),u([p({readOnly:!0})],Xl.prototype,"extent",null),u([p({type:[[Number]],json:{write:{isRequired:!0}}})],Xl.prototype,"points",void 0),u([ze("points")],Xl.prototype,"writePoints",null),Xl=cF=u([j("esri.geometry.Multipoint")],Xl),Xl.prototype.toJSON.isDefaultToJSON=!0;function ynt(t){const e=[];for(t.reset();t.nextPath();){const i=[];for(;t.nextPoint();)i.push([t.x,t.y]);e.push(i)}return t.reset(),e}function dCe(t){const e=[];for(;t.nextPoint();)e.push([t.x,t.y]);return t.seekPathStart(),e}function vnt(t){if(!t)return null;if(Array.isArray(t))return t;const e=t.hasZ,i=t.hasM;if(t.type==="point")return i&&e?[t.x,t.y,t.z,t.m]:e?[t.x,t.y,t.z]:i?[t.x,t.y,t.m]:[t.x,t.y];if(t.type==="polygon")return t.rings.slice();if(t.type==="polyline")return t.paths.slice();if(t.type==="multipoint")return t.points.map(r=>[r]);if(t.type==="extent"){const r=t.clone().normalize();if(!r)return null;let n=!1,s=!1;return r.forEach(o=>{o.hasZ&&(n=!0),o.hasM&&(s=!0)}),r.map(o=>{const a=[[o.xmin,o.ymin],[o.xmin,o.ymax],[o.xmax,o.ymax],[o.xmax,o.ymin],[o.xmin,o.ymin]];if(n&&o.hasZ){const l=.5*(o.zmax-o.zmin);for(let h=0;h<a.length;h++)a[h].push(l)}if(s&&o.hasM){const l=.5*(o.mmax-o.mmin);for(let h=0;h<a.length;h++)a[h].push(l)}return a})}return null}function HD(t,e){const i=e[0]-t[0],r=e[1]-t[1];if(t.length>2&&e.length>2){const n=t[2]-e[2];return Math.sqrt(i*i+r*r+n*n)}return Math.sqrt(i*i+r*r)}function ule(t,e,i){const r=t[0]+i*(e[0]-t[0]),n=t[1]+i*(e[1]-t[1]);return t.length>2&&e.length>2?[r,n,t[2]+i*(e[2]-t[2])]:[r,n]}function hCe(t,e,i,r){return pCe(t,e,i[r],i[r+1])}function pCe(t,e,i,r){const[n,s]=e,[o,a]=i,[l,h]=r,f=l-o,g=h-a,v=f*f+g*g,w=(n-o)*f+(s-a)*g,S=Math.min(1,Math.max(0,w/v));return t[0]=o+f*S,t[1]=a+g*S,t}function bnt(t,e,i,r,n,s){let o=i,a=r,l=n-o,h=s-a;if(l!==0||h!==0){const f=((t-o)*l+(e-a)*h)/(l*l+h*h);f>1?(o=n,a=s):f>0&&(o+=l*f,a+=h*f)}return l=t-o,h=e-a,l*l+h*h}function dle(t,e){return ule(t,e,.5)}function wnt(t){const e=t.length;let i=0;for(let r=0;r<e-1;++r)i+=HD(t[r],t[r+1]);return i}function _nt(t,e){if(e<=0)return t[0];const i=t.length;let r=0;for(let n=0;n<i-1;++n){const s=HD(t[n],t[n+1]);if(e-r<s){const o=(e-r)/s;return ule(t[n],t[n+1],o)}r+=s}return t[i-1]}function hle(t,e=0,i=1){let r=0;const n=t.length;let s=t[0];for(let o=1;o<n;o++){const a=t[o];r+=(a[e]-s[e])*(a[i]+s[i]),s=a}if(ple(t)){const o=t[0];r+=(o[e]-s[e])*(o[i]+s[i])}return r>=0}function ple(t){const e=t.length;return e>0&&!rD(t[0],t[e-1])}function xnt(t){"rings"in t&&(fCe(t),mCe(t))}function fCe(t){if("rings"in t)for(const e of t.rings)ple(e)&&e.push(e[0].slice())}function mCe(t){if(!("rings"in t)||t.rings.length===0||hle(t.rings[0]))return!1;for(const e of t.rings)e.reverse();return!0}function Snt(t){return t.type!=="polygon"&&t.type!=="polyline"||gCe(t.type==="polygon"?t.rings:t.paths,t.spatialReference),t}function gCe(t,e){const i=Ro(e);if(!i)return;const r=i.valid[0],n=i.valid[1],s=n-r;for(const o of t){let a=1/0,l=-1/0;for(const f of o){const g=yCe(f[0],r,n);a=Math.min(a,g),l=Math.max(l,g),f[0]=g}const h=l-a;s-h<h&&o.forEach(f=>{f[0]<0&&(f[0]+=s)})}}function yCe(t,e,i){const r=i-e;return t<e?i-(e-t)%r:t>i?e+(t-e)%r:t}function Tnt(t,e){if(t===e)return!0;if(t.type!==e.type)return!1;if(t.type==="point"||t.type==="mesh"||t.type==="extent")return!0;if(t.type==="multipoint")return t.points.length===e.points.length;const[i,r]=t.type==="polyline"?[t.paths,e.paths]:[t.rings,e.rings];return i.length===r.length&&i.every((n,s)=>n.length===r[s].length)}function $nt(t){return t?t.hasZ?[t.xmax-t.xmin/2,t.ymax-t.ymin/2,t.zmax-t.zmin/2]:[t.xmax-t.xmin/2,t.ymax-t.ymin/2]:null}function vCe(t){return wCe(t.rings,t.hasZ??!1)}function bCe(t){const e=vCe(t);if(!e)return null;const{hasZ:i,spatialReference:r}=t,[n,s,o]=e;return isNaN(n)||isNaN(s)||i&&isNaN(o)?null:{x:n,y:s,z:i?o:void 0,spatialReference:r}}function wCe(t,e){if(!t?.length)return null;const i=[],r=[],n=e?[1/0,-1/0,1/0,-1/0,1/0,-1/0]:[1/0,-1/0,1/0,-1/0];for(let s=0,o=t.length;s<o;s++){const a=fle(t[s],e,n);a&&r.push(a)}if(r.sort((s,o)=>{let a=s[2]-o[2];return a===0&&e&&(a=s[4]-o[4]),a}),r.length&&(i[0]=r[0][0],i[1]=r[0][1],e&&(i[2]=r[0][3]),(i[0]<n[0]||i[0]>n[1]||i[1]<n[2]||i[1]>n[3]||e&&(i[2]<n[4]||i[2]>n[5]))&&(i.length=0)),!i.length){const s=t[0]&&t[0].length?_Ce(t[0],e):null;if(!s)return null;i[0]=s[0],i[1]=s[1],e&&s.length>2&&(i[2]=s[2])}return i}function fle(t,e,i){let r=0,n=0,s=0,o=0,a=0;const l=t.length?t[0][0]:0,h=t.length?t[0][1]:0,f=t.length&&e?t[0][2]:0;for(let v=0;v<t.length;v++){const w=t[v],S=t[(v+1)%t.length],[T,C,I]=w,A=T-l,P=C-h,[D,L,B]=S,N=D-l,Y=L-h,K=A*Y-N*P;if(o+=K,r+=(A+N)*K,n+=(P+Y)*K,e&&w.length>2&&S.length>2){const te=I-f,ue=B-f,ye=A*ue-N*te;s+=(te+ue)*ye,a+=ye}T<i[0]&&(i[0]=T),T>i[1]&&(i[1]=T),C<i[2]&&(i[2]=C),C>i[3]&&(i[3]=C),e&&(I<i[4]&&(i[4]=I),I>i[5]&&(i[5]=I))}if(o>0&&(o*=-1),a>0&&(a*=-1),!o)return null;o*=.5,a*=.5;const g=[r/(6*o)+l,n/(6*o)+h,o];return e&&(i[4]===i[5]||a===0?(g[3]=(i[4]+i[5])/2,g[4]=0):(g[3]=s/(6*a)+f,g[4]=a)),g}function knt(t,e){let i=0,r=0,n=0;t.nextPoint();const s=t.pathSize?t.x:0,o=t.pathSize?t.y:0;for(let a=0;a<t.pathSize;a++){t.seekInPath(a);const l=[t.x,t.y];t.seekInPath((a+1)%t.pathSize);const h=[t.x,t.y],[f,g]=l,v=f-s,w=g-o,[S,T]=h,C=S-s,I=T-o,A=v*I-C*w;n+=A,i+=(v+C)*A,r+=(w+I)*A,f<e[0]&&(e[0]=f),f>e[1]&&(e[1]=f),g<e[2]&&(e[2]=g),g>e[3]&&(e[3]=g)}return n>0&&(n*=-1),n?(n*=.5,[i/(6*n)+s,r/(6*n)+o,n]):null}function _Ce(t,e){const i=e?[0,0,0]:[0,0],r=e?[0,0,0]:[0,0];let n=0,s=0,o=0,a=0;for(let l=0,h=t.length;l<h-1;l++){const f=t[l],g=t[l+1];if(f&&g){i[0]=f[0],i[1]=f[1],r[0]=g[0],r[1]=g[1],e&&f.length>2&&g.length>2&&(i[2]=f[2],r[2]=g[2]);const v=HD(i,r);if(v){n+=v;const w=dle(f,g);s+=v*w[0],o+=v*w[1],e&&w.length>2&&(a+=v*w[2])}}}return n>0?e?[s/n,o/n,a/n]:[s/n,o/n]:t.length?t[0]:null}function xCe(t){const{hasZ:e,totalSize:i}=t;if(i===0)return null;const r=[],n=[],s=e?[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY]:[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY];for(t.reset();t.nextPath();){const o=fle(dCe(t),t.hasZ,s);o&&n.push(o)}if(n.sort((o,a)=>{let l=o[2]-a[2];return l===0&&e&&(l=o[4]-a[4]),l}),n.length&&(r[0]=n[0][0],r[1]=n[0][1],e&&(r[2]=n[0][3]),(r[0]<s[0]||r[0]>s[1]||r[1]<s[2]||r[1]>s[3]||e&&(r[2]<s[4]||r[2]>s[5]))&&(r.length=0)),!r.length){t.reset(),t.nextPath();const o=t.pathSize?SCe(t):null;if(!o)return null;r[0]=o[0],r[1]=o[1],e&&o.length>2&&(r[2]=o[2])}return r}function SCe(t){const{hasZ:e}=t,i=e?[0,0,0]:[0,0],r=e?[0,0,0]:[0,0];let n=0,s=0,o=0,a=0;if(t.nextPoint()){let l=t.x,h=t.y,f=t.z;for(;t.nextPoint();){const g=t.x,v=t.y,w=t.z;i[0]=l,i[1]=h,r[0]=g,r[1]=v,e&&(i[2]=f,r[2]=w);const S=HD(i,r);if(S){n+=S;const T=dle(i,r);s+=S*T[0],o+=S*T[1],e&&T.length>2&&(a+=S*T[2])}l=g,h=v,f=w}}return n>0?e?[s/n,o/n,a/n]:[s/n,o/n]:t.pathSize?(t.seekPathStart(),t.nextPoint(),[t.x,t.y]):null}const TCe=1e-6;function Ent(t){let e=0;for(t.reset();t.nextPath();)e+=t.getCurrentRingArea();if(e<TCe){const n=xCe(t);return n?[n[0],n[1]]:null}const i=[0,0];if(t.reset(),!t.nextPath()||!t.nextPoint())return null;const r=[t.x,t.y];for(t.reset();t.nextPath();)kCe(i,r,t);return i[0]*=1/e,i[1]*=1/e,i[0]+=r[0],i[1]+=r[1],i}const $Ce=1/3;function kCe(t,e,i){if(!t||!i||i.pathSize<3)return null;i.nextPoint();const r=i.x,n=i.y;i.nextPoint();let s,o=i.x-r,a=i.y-n,l=0,h=0;for(;i.nextPoint();)l=i.x-r,h=i.y-n,s=.5*$Ce*(l*a-h*o),t[0]+=s*(o+l),t[1]+=s*(a+h),o=l,a=h;const f=i.getCurrentRingArea(),g=[r,n];return g[0]-=e[0],g[1]-=e[1],g[0]*=f,g[1]*=f,t[0]+=g[0],t[1]+=g[1],t}var XC;function IZ(t){return!Array.isArray(t[0])}function ECe(t){return typeof t[0]?.[0]=="number"}function ICe(t){if(!t)return;let{rings:e,hasM:i,hasZ:r,spatialReference:n}=t;switch(e??=[],ECe(e)&&(e=[e]),e[0]?.[0]?.length){case 4:r??=!0,i??=!0;break;case 3:r??=i!==!0,i??=!r;break;default:r??=!1,i??=!1}return n??=Ke.WGS84,{...t,hasM:i,hasZ:r,rings:e,spatialReference:n}}let hr=XC=class extends Rn{static fromExtent(t){const e=t.clone().normalize(),{spatialReference:i}=t;let r=!1,n=!1;for(const o of e)o.hasZ&&(r=!0),o.hasM&&(n=!0);const s={rings:e.map(o=>{const a=[[o.xmin,o.ymin],[o.xmin,o.ymax],[o.xmax,o.ymax],[o.xmax,o.ymin],[o.xmin,o.ymin]];if(r&&o.hasZ){const l=o.zmin+.5*(o.zmax-o.zmin);for(let h=0;h<a.length;h++)a[h].push(l)}if(n&&o.hasM){const l=o.mmin+.5*(o.mmax-o.mmin);for(let h=0;h<a.length;h++)a[h].push(l)}return a}),spatialReference:i};return r&&(s.hasZ=!0),n&&(s.hasM=!0),new XC(s)}constructor(t){super(ICe(t)),this.curveRings=void 0,this.rings=[],this.type="polygon"}get cache(){return this.commitProperty("curveRings"),this.commitProperty("hasM"),this.commitProperty("hasZ"),this.commitProperty("rings"),this.commitProperty("spatialReference"),{}}get centroid(){VN(Ee.getLogger(this),"centroid",{replacement:"Please use centroidOperator.execute() instead.",version:"4.34",warnOnce:!0});const t=bCe(this);return t?wt.fromJSON(t):null}writeCurveRings(t,e){e.curveRings=ne(t)}get extent(){const t=lle(this),{spatialReference:e}=this;return t?new jt({...t,spatialReference:e}):null}get isSelfIntersecting(){return VN(Ee.getLogger(this),"isSelfIntersecting",{replacement:"Please use simplifyOperator.isSimple() instead.",version:"4.33",warnOnce:!0}),V$e(this.rings)}writeRings(t,e){e.rings=ne(this.rings)}addRing(t){if(!t)return;const e=this.rings,i=e.length;if(IZ(t)){const r=[];for(let n=0,s=t.length;n<s;n++)r[n]=t[n].toArray();e[i]=r}else e[i]=t.slice();return this.notifyChange("rings"),this}clone(){const t=new XC;return t.spatialReference=this.spatialReference,t.rings=ne(this.rings),t.curveRings=ne(this.curveRings),t.hasZ=this.hasZ,t.hasM=this.hasM,t}equals(t){if(this===t)return!0;if(t==null)return!1;const e=this.spatialReference,i=t.spatialReference;if(e!=null!=(i!=null)||e!=null&&i!=null&&!e.equals(i)||this.rings.length!==t.rings.length)return!1;const r=([n,s,o,a],[l,h,f,g])=>n===l&&s===h&&(o==null&&f==null||o===f)&&(a==null&&g==null||a===g);for(let n=0;n<this.rings.length;n++){const s=this.rings[n],o=t.rings[n];if(!rD(s,o,r))return!1}return!0}contains(t){if(!t)return!1;const e=PD(t,this.spatialReference);return gU(this,e??t)}isClockwise(t){const e=IZ(t)?t.map(i=>this.hasZ?this.hasM?[i.x,i.y,i.z,i.m]:[i.x,i.y,i.z]:[i.x,i.y]):t;return hle(e)}getPoint(t,e){if(!this._validateInputs(t,e))return null;const i=this.rings[t][e],r=this.hasZ,n=this.hasM;return r&&!n?new wt(i[0],i[1],i[2],void 0,this.spatialReference):n&&!r?new wt(i[0],i[1],void 0,i[2],this.spatialReference):r&&n?new wt(i[0],i[1],i[2],i[3],this.spatialReference):new wt(i[0],i[1],this.spatialReference)}insertPoint(t,e,i){return this._validateInputs(t,e,!0)?(K_(this,i),Array.isArray(i)||(i=i.toArray()),this.rings[t].splice(e,0,i),this.notifyChange("rings"),this):this}removePoint(t,e){if(!this._validateInputs(t,e))return null;const i=new wt(this.rings[t].splice(e,1)[0],this.spatialReference);return this.notifyChange("rings"),i}removeRing(t){if(!this._validateInputs(t,null))return null;const e=this.rings.splice(t,1)[0],i=this.spatialReference,r=e.map(n=>new wt(n,i));return this.notifyChange("rings"),r}setPoint(t,e,i){return this._validateInputs(t,e)?(K_(this,i),Array.isArray(i)||(i=i.toArray()),this.rings[t][e]=i,this.notifyChange("rings"),this):this}_validateInputs(t,e,i=!1){if(t==null||t<0||t>=this.rings.length)return!1;if(e!=null){const r=this.rings[t];if(i&&(e<0||e>r.length)||!i&&(e<0||e>=r.length))return!1}return!0}toJSON(t){return this.write({},t)}};u([p({readOnly:!0})],hr.prototype,"cache",null),u([p({readOnly:!0})],hr.prototype,"centroid",null),u([p({json:{write:!0,origins:{"portal-item":{write:!1},"web-map":{write:!1},"web-scene":{write:!1}}}})],hr.prototype,"curveRings",void 0),u([ze("curveRings")],hr.prototype,"writeCurveRings",null),u([p({readOnly:!0})],hr.prototype,"extent",null),u([p({readOnly:!0})],hr.prototype,"isSelfIntersecting",null),u([p({type:[[[Number]]],json:{write:{isRequired:!0}}})],hr.prototype,"rings",void 0),u([ze("rings")],hr.prototype,"writeRings",null),hr=XC=u([j("esri.geometry.Polygon")],hr),hr.prototype.toJSON.isDefaultToJSON=!0;var uF;function CCe(t){return!Array.isArray(t[0])}function MCe(t){return typeof t[0]?.[0]=="number"}function ACe(t){if(!t)return;let{paths:e,hasM:i,hasZ:r,spatialReference:n}=t;switch(e??=[],MCe(e)&&(e=[e]),e[0]?.[0]?.length){case 4:r??=!0,i??=!0;break;case 3:r??=i!==!0,i??=!r;break;default:r??=!1,i??=!1}return n??=Ke.WGS84,{...t,hasM:i,hasZ:r,paths:e,spatialReference:n}}let Dr=uF=class extends Rn{constructor(t){super(ACe(t)),this.curvePaths=void 0,this.paths=[],this.type="polyline"}get cache(){return this.commitProperty("curvePaths"),this.commitProperty("hasM"),this.commitProperty("hasZ"),this.commitProperty("paths"),this.commitProperty("spatialReference"),{}}writeCurvePaths(t,e){e.curvePaths=ne(t)}get extent(){const t=cle(this),{spatialReference:e}=this;return t?new jt({...t,spatialReference:e}):null}writePaths(t,e){e.paths=ne(this.paths)}addPath(t){if(!t)return;const e=this.paths,i=e.length;if(CCe(t)){const r=[];for(let n=0,s=t.length;n<s;n++)r[n]=t[n].toArray();e[i]=r}else e[i]=t.slice();return this.notifyChange("paths"),this}clone(){const t=new uF;return t.spatialReference=this.spatialReference,t.paths=ne(this.paths),t.curvePaths=ne(this.curvePaths),t.hasZ=this.hasZ,t.hasM=this.hasM,t}getPoint(t,e){if(!this._validateInputs(t,e))return null;const i=this.paths[t][e],r=this.hasZ,n=this.hasM;return r&&!n?new wt(i[0],i[1],i[2],void 0,this.spatialReference):n&&!r?new wt(i[0],i[1],void 0,i[2],this.spatialReference):r&&n?new wt(i[0],i[1],i[2],i[3],this.spatialReference):new wt(i[0],i[1],this.spatialReference)}insertPoint(t,e,i){return this._validateInputs(t,e,!0)?(K_(this,i),Array.isArray(i)||(i=i.toArray()),this.paths[t].splice(e,0,i),this.notifyChange("paths"),this):this}removePath(t){if(!this._validateInputs(t,null))return null;const e=this.paths.splice(t,1)[0],i=this.spatialReference,r=e.map(n=>new wt(n,i));return this.notifyChange("paths"),r}removePoint(t,e){if(!this._validateInputs(t,e))return null;const i=new wt(this.paths[t].splice(e,1)[0],this.spatialReference);return this.notifyChange("paths"),i}setPoint(t,e,i){return this._validateInputs(t,e)?(K_(this,i),Array.isArray(i)||(i=i.toArray()),this.paths[t][e]=i,this.notifyChange("paths"),this):this}_validateInputs(t,e,i=!1){if(t==null||t<0||t>=this.paths.length)return!1;if(e!=null){const r=this.paths[t];if(i&&(e<0||e>r.length)||!i&&(e<0||e>=r.length))return!1}return!0}toJSON(t){return this.write({},t)}};u([p({readOnly:!0})],Dr.prototype,"cache",null),u([p({json:{write:!0,origins:{"portal-item":{write:!1},"web-map":{write:!1},"web-scene":{write:!1}}}})],Dr.prototype,"curvePaths",void 0),u([ze("curvePaths")],Dr.prototype,"writeCurvePaths",null),u([p({readOnly:!0})],Dr.prototype,"extent",null),u([p({type:[[[Number]]],json:{write:{isRequired:!0}}})],Dr.prototype,"paths",void 0),u([ze("paths")],Dr.prototype,"writePaths",null),Dr=uF=u([j("esri.geometry.Polyline")],Dr),Dr.prototype.toJSON.isDefaultToJSON=!0;function mle(t){return t.xmin!==void 0&&t.ymin!==void 0&&t.xmax!==void 0&&t.ymax!==void 0}function gle(t){return t.points!==void 0}function yle(t){return t.x!==void 0&&t.y!==void 0}function vle(t){return t.paths!==void 0||t.curvePaths!==void 0}function qw(t){return t.rings!==void 0||t.curveRings!==void 0}function jd(t){return t==null?null:t instanceof Rn?t:yle(t)?wt.fromJSON(t):vle(t)?Dr.fromJSON(t):qw(t)?hr.fromJSON(t):gle(t)?Xl.fromJSON(t):mle(t)?jt.fromJSON(t):null}function D1(t){return t?yle(t)?"esriGeometryPoint":vle(t)?"esriGeometryPolyline":qw(t)?"esriGeometryPolygon":mle(t)?"esriGeometryEnvelope":gle(t)?"esriGeometryMultipoint":null:null}const OCe={esriGeometryPoint:wt,esriGeometryPolyline:Dr,esriGeometryPolygon:hr,esriGeometryEnvelope:jt,esriGeometryMultipoint:Xl,esriGeometryMultiPatch:hr};function PCe(t){return t&&OCe[t]||null}const DCe=En()({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon"}),CZ=En()({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryEnvelope:"extent",mesh:"mesh"}),R1={base:Rn,key:"type",typeMap:{extent:jt,multipoint:Xl,point:wt,polyline:Dr,polygon:hr}};function Int(t){return t.type==="point"}function Cnt(t){return t.type==="multipoint"}function Mnt(t){return t.type==="polygon"}function Ant(t){return t.type==="polyline"}var dF;let jf=dF=class extends ge{constructor(t){super(t),this.rotation=0,this.scale=0,this.targetGeometry=null,this.camera=null}castRotation(t){return(t%=360)<0&&(t+=360),t}clone(){return new dF({rotation:this.rotation,scale:this.scale,targetGeometry:this.targetGeometry!=null?this.targetGeometry.clone():null,camera:this.camera!=null?this.camera.clone():null})}};u([p({type:Number,json:{write:!0,origins:{"web-map":{default:0,write:!0},"web-scene":{write:{overridePolicy:qL}}}}})],jf.prototype,"rotation",void 0),u([bi("rotation")],jf.prototype,"castRotation",null),u([p({type:Number,json:{write:!0,origins:{"web-map":{default:0,write:!0},"web-scene":{write:{overridePolicy:qL}}}}})],jf.prototype,"scale",void 0),u([p({types:R1,json:{read:jd,write:!0,origins:{"web-scene":{read:jd,write:{overridePolicy:qL}}}}})],jf.prototype,"targetGeometry",void 0),u([p({type:zEe,json:{write:!0,origins:{"web-scene":{write:{isRequired:!0}}}}})],jf.prototype,"camera",void 0),jf=dF=u([j("esri.Viewpoint")],jf);const Vn=jf;function qL(){return{enabled:!this.camera}}function PU(t){return(e,i)=>{e[i]=t}}var kh;let RCe=class{constructor(){this.target=null,this.cancellable=!1,this.defaultPrevented=!1,this.item=void 0,this.type=void 0}preventDefault(){this.cancellable&&(this.defaultPrevented=!0)}reset(e){this.defaultPrevented=!1,this.item=e}},LCe=class{constructor(e,i,r,n,s){this.target=e,this.added=i,this.removed=r,this.start=n,this.deleteCount=s}};const Ll=new b1(()=>new RCe,void 0,t=>{t.item=null,t.target=null,t.defaultPrevented=!1,t.cancellable=!1});function MZ(t){t&&typeof t=="object"&&"destroy"in t&&typeof t.destroy=="function"&&t.destroy()}function GL(t){return t?t instanceof sm?t.toArray():t.length?Array.prototype.slice.apply(t):[]:[]}function WL(t){if(t?.length)return t[0]}function zCe(t,e,i,r){const n=Math.min(t.length-i,e.length-r);let s=0;for(;s<n&&t[i+s]===e[r+s];)s++;return s}function ble(t,e,i,r){e&&e.forEach((n,s,o)=>{t.push(n),ble(t,i.call(r,n,s,o),i,r)})}const Of=new Set,Pf=new Set,Df=new Set,YL=new Map;let NCe=0,sm=kh=class extends k1{static ofType(t){if(!t)return kh;if(YL.has(t))return YL.get(t);let e=null;if(typeof t=="function")e=t.prototype.declaredClass;else if(t.base)e=t.base.prototype.declaredClass;else for(const r in t.typeMap){const n=t.typeMap[r].prototype.declaredClass;e?e+=` | ${n}`:e=n}let i=class extends kh{};return u([PU({Type:t,ensureType:typeof t=="function"?tn(t):Dd(t)})],i.prototype,"itemType",void 0),i=u([j(`esri.core.Collection<${e}>`)],i),YL.set(t,i),i}static isCollection(t){return t!=null&&t instanceof kh}constructor(t){super(t),this._chgListeners=[],this._notifications=null,this._updating=!1,this._timer=null,this._observable=new P1,this.length=0,this._items=[],Object.defineProperty(this,"uid",{value:NCe++})}normalizeCtorArgs(t){return t?Array.isArray(t)||t instanceof kh?{items:t}:t:{}}destroy(){this._removeAllRaw(),this._timer&&this._timer.remove(),super.destroy(),this._notifications=null}*[Symbol.iterator](){yield*this.items}get items(){return _t(this._observable),this._items}set items(t){this._emitBeforeChanges(1)||(this._splice(0,this.length,GL(t)),this._emitAfterChanges(1))}hasEventListener(t){return!this.destroyed&&(t==="change"?this._chgListeners.length>0:super.hasEventListener(t))}on(t,e){if(this.destroyed)return oi();if(t==="change"){const i=this._chgListeners,r={removed:!1,callback:e};return i.push(r),this._notifications&&this._notifications.push({listeners:i.slice(),items:this._items.slice(),changes:[]}),oi(()=>{r.removed=!0,i.splice(i.indexOf(r),1)})}return super.on(t,e)}once(t,e){const i="deref"in e?()=>e.deref():()=>e,r=this.on(t,n=>{i()?.call(null,n),r.remove()});return r}add(t,e){if(_t(this._observable),this._emitBeforeChanges(1))return this;const i=this.getNextIndex(e??null);return this._splice(i,0,[t]),this._emitAfterChanges(1),this}addMany(t,e=this._items.length){if(_t(this._observable),!t?.length)return this;if(this._emitBeforeChanges(1))return this;const i=this.getNextIndex(e);return this._splice(i,0,GL(t)),this._emitAfterChanges(1),this}at(t){if(_t(this._observable),(t=Math.trunc(t)||0)<0&&(t+=this.length),!(t<0||t>=this.length))return this._items[t]}removeAll(){if(_t(this._observable),!this.length||this._emitBeforeChanges(2))return[];const t=this._removeAllRaw();return this._emitAfterChanges(2),t}_removeAllRaw(){return this.length===0?[]:this._splice(0,this.length)||[]}clone(){return _t(this._observable),this._createNewInstance({items:this._items.map(ne)})}concat(...t){_t(this._observable);const e=t.map(GL);return this._createNewInstance({items:this._items.concat(...e)})}drain(t,e){if(_t(this._observable),!this.length||this._emitBeforeChanges(2))return;const i=this._splice(0,this.length),r=i.length;for(let n=0;n<r;n++)t.call(e,i[n],n,i);this._emitAfterChanges(2)}destroyAll(){this.drain(MZ)}destroyMany(t){const e=this.removeMany(t);return e.forEach(MZ),e}every(t,e){return _t(this._observable),this._items.every(t,e)}filter(t,e){_t(this._observable);const i=arguments.length===2?this._items.filter(t,e):this._items.filter(t);return this._createNewInstance({items:i})}find(t,e){return _t(this._observable),this._items.find(t,e)}findIndex(t,e){return _t(this._observable),this._items.findIndex(t,e)}flatten(t,e){_t(this._observable);const i=[];return ble(i,this,t,e),new kh(i)}forEach(t,e){return _t(this._observable),this._items.forEach(t,e)}getItemAt(t){return _t(this._observable),this._items[t]}getNextIndex(t){_t(this._observable);const e=this.length;return(t=t??e)<0?t=0:t>e&&(t=e),t}includes(t,e=0){return _t(this._observable),this._items.includes(t,e)}indexOf(t,e=0){return _t(this._observable),this._items.indexOf(t,e)}join(t=","){return _t(this._observable),this._items.join(t)}lastIndexOf(t,e=this.length-1){return _t(this._observable),this._items.lastIndexOf(t,e)}map(t,e){_t(this._observable);const i=this._items.map(t,e);return new kh({items:i})}reorder(t,e=this.length-1){_t(this._observable);const i=this.indexOf(t);if(i!==-1){if(e<0?e=0:e>=this.length&&(e=this.length-1),i!==e){if(this._emitBeforeChanges(4))return t;this._splice(i,1),this._splice(e,0,[t]),this._emitAfterChanges(4)}return t}}pop(){if(_t(this._observable),!this.length||this._emitBeforeChanges(2))return;const t=WL(this._splice(this.length-1,1));return this._emitAfterChanges(2),t}push(...t){return _t(this._observable),this._emitBeforeChanges(1)||(this._splice(this.length,0,t),this._emitAfterChanges(1)),this.length}reduce(t,e){_t(this._observable);const i=this._items;return arguments.length===2?i.reduce(t,e):i.reduce(t)}reduceRight(t,e){_t(this._observable);const i=this._items;return arguments.length===2?i.reduceRight(t,e):i.reduceRight(t)}remove(t){return _t(this._observable),this.removeAt(this.indexOf(t))}removeAt(t){if(_t(this._observable),t<0||t>=this.length||this._emitBeforeChanges(2))return;const e=WL(this._splice(t,1));return this._emitAfterChanges(2),e}removeMany(t){if(_t(this._observable),!t?.length||this._emitBeforeChanges(2))return[];const e=t instanceof kh?t.toArray():t,i=this._items,r=[],n=e.length;for(let s=0;s<n;s++){const o=e[s],a=i.indexOf(o);if(a>-1){const l=1+zCe(e,i,s+1,a+1),h=this._splice(a,l);h&&h.length>0&&r.push.apply(r,h),s+=l-1}}return this._emitAfterChanges(2),r}reverse(){if(_t(this._observable),this._emitBeforeChanges(4))return this;const t=this._splice(0,this.length);return t&&(t.reverse(),this._splice(0,0,t)),this._emitAfterChanges(4),this}shift(){if(_t(this._observable),!this.length||this._emitBeforeChanges(2))return;const t=WL(this._splice(0,1));return this._emitAfterChanges(2),t}slice(t=0,e=this.length){return _t(this._observable),this._createNewInstance({items:this._items.slice(t,e)})}some(t,e){return _t(this._observable),this._items.some(t,e)}sort(t){if(_t(this._observable),!this.length||this._emitBeforeChanges(4)||!this._requiresSort(t))return this;const e=this._splice(0,this.length);return arguments.length?e.sort(t):e.sort(),this._splice(0,0,e),this._emitAfterChanges(4),this}_requiresSort(t=(e,i)=>e===i?0:e<i?-1:1){const e=this.length-1;for(let i=0;i<e;i++)if(t(this.items[i],this.items[i+1])>0)return!0;return!1}splice(t,e,...i){_t(this._observable),arguments.length===1&&(e=this.length),e??=0;const r=(e?2:0)|(i.length?1:0);if(this._emitBeforeChanges(r))return[];const n=this._splice(t,e,i)||[];return this._emitAfterChanges(r),n}toArray(){return _t(this._observable),this._items.slice()}toJSON(t){return _t(this._observable),this.toArray().map(e=>E2(e)?e.toJSON(t):e)}toLocaleString(){return _t(this._observable),this._items.toLocaleString()}toString(){return _t(this._observable),this._items.toString()}unshift(...t){return _t(this._observable),!t.length||this._emitBeforeChanges(1)||(this._splice(0,0,t),this._emitAfterChanges(1)),this.length}_createNewInstance(t){return new this.constructor(t)}_splice(t,e,i){const r=this._items,n=this.itemType;let s,o;if(!this._notifications&&this.hasEventListener("change")&&(this._notifications=[{listeners:this._chgListeners.slice(),items:this._items.slice(),changes:[]}],this._timer&&this._timer.remove(),this._updating=!0,this._timer=_1(()=>this._dispatchChange())),t<0&&(t+=this.length),e){if(o=r.splice(t,e),this.hasEventListener("before-remove")){const a=Ll.acquire();a.target=this,a.cancellable=!0;for(let l=0,h=o.length;l<h;l++)s=o[l],a.reset(s),this.emit("before-remove",a),a.defaultPrevented&&(o.splice(l,1),r.splice(t,0,s),t+=1,l-=1,h-=1);Ll.release(a)}if(this.length=this._items.length,this.hasEventListener("after-remove")){const a=Ll.acquire();a.target=this,a.cancellable=!1;const l=o.length;for(let h=0;h<l;h++)a.reset(o[h]),this.emit("after-remove",a);Ll.release(a)}}if(i?.length){if(n){const f=[];for(const g of i){const v=n.ensureType(g);v==null&&g!=null||f.push(v)}i=f}const a=this.hasEventListener("before-add"),l=this.hasEventListener("after-add"),h=t===this.length;if(a||l){const f=Ll.acquire();f.target=this,f.cancellable=!0;const g=Ll.acquire();g.target=this,g.cancellable=!1;for(const v of i)a?(f.reset(v),this.emit("before-add",f),f.defaultPrevented||(h?r.push(v):r.splice(t++,0,v),this._set("length",r.length),l&&(g.reset(v),this.emit("after-add",g)))):(h?r.push(v):r.splice(t++,0,v),this._set("length",r.length),g.reset(v),this.emit("after-add",g));Ll.release(g),Ll.release(f)}else{if(h)for(const f of i)r.push(f);else r.splice(t,0,...i);this._set("length",r.length)}}if((i?.length||o?.length)&&this._notifyChangeEvent(i,o),this.hasEventListener("after-splice")){const a=new LCe(this,i,o,t,e);this.emit("after-splice",a)}return o}_emitBeforeChanges(t){let e=!1;if(this.hasEventListener("before-changes")){const i=Ll.acquire();i.target=this,i.cancellable=!0,i.type=t,this.emit("before-changes",i),e=i.defaultPrevented,Ll.release(i)}return e}_emitAfterChanges(t){if(this.hasEventListener("after-changes")){const e=Ll.acquire();e.target=this,e.cancellable=!1,e.type=t,this.emit("after-changes",e),Ll.release(e)}this._observable.notify()}_notifyChangeEvent(t,e){this.hasEventListener("change")&&this._notifications&&this._notifications[this._notifications.length-1].changes.push({added:t,removed:e})}get updating(){return this._updating}_dispatchChange(){if(this._timer&&(this._timer.remove(),this._timer=null),this._updating=!1,!this._notifications)return;const t=this._notifications;this._notifications=null;for(const e of t){const i=e.changes;Of.clear(),Pf.clear(),Df.clear();for(const{added:l,removed:h}of i){if(l)if(Df.size===0&&Pf.size===0)for(const f of l)Of.add(f);else for(const f of l)Pf.has(f)?(Df.add(f),Pf.delete(f)):Df.has(f)||Of.add(f);if(h)if(Df.size===0&&Of.size===0)for(const f of h)Pf.add(f);else for(const f of h)Of.has(f)?Of.delete(f):(Df.delete(f),Pf.add(f))}const r=Eo.acquire();Of.forEach(l=>{r.push(l)});const n=Eo.acquire();Pf.forEach(l=>{n.push(l)});const s=this._items,o=e.items,a=Eo.acquire();if(Df.forEach(l=>{o.indexOf(l)!==s.indexOf(l)&&a.push(l)}),e.listeners&&(r.length||n.length||a.length)){const l={target:this,added:r,removed:n,moved:a},h=e.listeners.length;for(let f=0;f<h;f++){const g=e.listeners[f];g.removed||g.callback.call(this,l)}}Eo.release(r),Eo.release(n),Eo.release(a)}Of.clear(),Pf.clear(),Df.clear()}};u([p()],sm.prototype,"_updating",void 0),u([p()],sm.prototype,"length",void 0),u([p()],sm.prototype,"items",null),u([p({readOnly:!0})],sm.prototype,"updating",null),sm=kh=u([j("esri.core.Collection")],sm);const We=sm;let cu=class extends We{constructor(e){super(e),this.getCollections=null}initialize(){this.addHandles(Uie(()=>this._refresh(),zd))}destroy(){this.getCollections=null}_refresh(){const e=this.getCollections?.();if(e==null)return void this.removeAll();let i=0;for(const r of e)r!=null&&(i=this._processCollection(i,r));this.splice(i)}_createNewInstance(e){return new We(e)}_processCollection(e,i){if(!i)return e;const r=this.itemFilterFunction??(n=>!!n);for(const n of i)if(n){if(r(n)){const s=this.indexOf(n,e);s>=0?s!==e&&this.reorder(n,e):this.add(n,e),++e}if(this.getChildrenFunction){const s=this.getChildrenFunction(n);if(Array.isArray(s))for(const o of s)e=this._processCollection(e,o);else e=this._processCollection(e,s)}}return e}};u([p()],cu.prototype,"getCollections",void 0),u([p()],cu.prototype,"getChildrenFunction",void 0),u([p()],cu.prototype,"itemFilterFunction",void 0),cu=u([j("esri.core.CollectionFlattener")],cu);let U2=class{constructor(e=i=>i.values().next().value){this._peeker=e,this._observable=new P1,this._items=new Set}get length(){return _t(this._observable),this._items.size}clear(){this.length!==0&&(this._items.clear(),this._observable.notify())}last(){if(this.length===0)return;let e;for(e of this._items);return e}peek(){if(this.length!==0)return this._peeker(this._items)}push(e){this.contains(e)||(this._items.add(e),this._observable.notify())}contains(e){return _t(this._observable),this._items.has(e)}pop(){if(this.length===0)return;const e=this.peek();return this._items.delete(e),this._observable.notify(),e}popLast(){if(this.length===0)return;const e=this.last();return this._items.delete(e),this._observable.notify(),e}remove(e){this.contains(e)&&(this._items.delete(e),this._observable.notify())}filter(e){const i=this.length;return this._items.forEach(r=>{e(r)||this._items.delete(r)}),i!==this._items.size&&this._observable.notify(),this}*[Symbol.iterator](){_t(this._observable),yield*this._items}};const wle=new FinalizationRegistry(t=>{t.close()});function jCe(t,e){wle.register(t,e,e)}function FCe(t){wle.unregister(t)}function _le(t,e){return new Proxy({},{get:(i,r,n)=>(...s)=>{let o,a;const l=s[s.length-1];return VCe(l)&&(o=l.signal,a=l.transferList,s.pop()),t.apply(e?`${e}.${r.toString()}`:r.toString(),s,{transferList:a,signal:o})}})}function VCe(t){return typeof t=="object"&&!Array.isArray(t)&&t!=null&&("signal"in t||"transferList"in t||Object.keys(t).length===0)}const UCe={statsWorker:()=>ke(()=>import("./statsWorker-dKfaedMR.js"),__vite__mapDeps([6,7,8,9,10,11])),geometryEngineWorker:()=>ke(()=>import("./geometryEngineWorker-BkMQzpX8.js"),__vite__mapDeps([12,13,14,15])),arcadeGeometryOperatorsWorker:()=>ke(()=>import("./operatorsWorker-CapZDtxZ.js"),[]),CSVSourceWorker:()=>ke(()=>import("./CSVSourceWorker-BJlusAkW.js"),__vite__mapDeps([16,17,18,4,19,20,21,22,23,24,25,26,27,28,29,30,8,7,9,10,11,31,32,33,34,35])),EdgeProcessingWorker:()=>ke(()=>import("./EdgeProcessingWorker-B_-MdCMF.js"),__vite__mapDeps([36,37,38,39,40,41,42,43,44,45,46])),ElevationSamplerWorker:()=>ke(()=>import("./ElevationSamplerWorker-jNqyLKXl.js"),__vite__mapDeps([47,23,48,49,50,51,52,53,54,39,55])),FeatureServiceSnappingSourceWorker:()=>ke(()=>import("./FeatureServiceSnappingSourceWorker-CSWXirIe.js"),__vite__mapDeps([56,19,20,18,4,21,22,23,24,25,26,27,28,29,30,8,7,9,10,11,31,32,57,58,59,60])),GaussianSplatSortWorker:()=>ke(()=>import("./GaussianSplatSortWorker-CkystscD.js"),[]),GeoJSONSourceWorker:()=>ke(()=>import("./GeoJSONSourceWorker-DyHyCBpB.js"),__vite__mapDeps([61,20,18,4,21,19,22,23,24,25,26,27,28,29,30,8,7,9,10,11,31,32,62,17,35,63])),LercWorker:()=>ke(()=>import("./LercWorker-D4vUfPl-.js"),[]),MemorySourceWorker:()=>ke(()=>import("./MemorySourceWorker-DOOUSDaa.js"),__vite__mapDeps([64,20,18,4,21,65,19,22,23,24,25,26,27,28,29,30,8,7,9,10,11,31,32,35,63,17])),PBFDecoderWorker:()=>ke(()=>import("./PBFDecoderWorker-DwE_qkVg.js"),__vite__mapDeps([66,67,4,20,18,21,58,59])),FeaturePipelineWorker:()=>ke(()=>import("./FeaturePipelineWorker-DbpOMwwa.js"),__vite__mapDeps([68,69,70,71,41,72,73,18,4,20,21,74,8,75,25,24,76,77,78,79,80,81,82,83,84,85,86,26,27,28,29,30,7,9,10,11,31,32,87,88,89,90,91,92,93,94,95,62,17,35,63,60,58,59,96,97])),PointCloudWorker:()=>ke(()=>import("./PointCloudWorker-BZXETj__.js"),__vite__mapDeps([98,99,100,101,102,103,104,50,51,105,106])),RasterWorker:()=>ke(()=>import("./RasterWorker-BTfEO-0l.js"),__vite__mapDeps([107,108,109,15,110,111,112,113,114,115,116])),SceneLayerSnappingSourceWorker:()=>ke(()=>import("./SceneLayerSnappingSourceWorker-DLsR1R7b.js"),__vite__mapDeps([117,118,119,106,100,120,121,105,39,43,44,45,38,40,41,42,46])),SceneLayerWorker:()=>ke(()=>import("./SceneLayerWorker-CI9ndp8z.js"),__vite__mapDeps([122,48,54,123,52])),WFSSourceWorker:()=>ke(()=>import("./WFSSourceWorker-DZCj2z5m.js"),__vite__mapDeps([124,20,18,4,21,19,22,23,24,25,26,27,28,29,30,8,7,9,10,11,31,32,62,17,63,125,126])),WorkerTileHandler:()=>ke(()=>import("./WorkerTileHandler-BSq8wrrc.js"),__vite__mapDeps([127,81,128,82,129,59,4,84,130,131,42,41,111,132,80])),Lyr3DWorker:()=>ke(()=>import("./Lyr3DWorker-BE5h10AB.js"),[]),Feature3DPipelineWorker:()=>ke(()=>import("./Feature3DPipelineWorker-Dw-ffr2U.js"),__vite__mapDeps([133,27,20,18,4,21,28,29,24,25,30,8,7,9,10,11,31,32,134,53,48,123,52,135,101,136,45,39,137,119,106,100,118,138,139,121,105,104,99,50,51,42,41,38,40,140,141,142,143,144,145,146,147,148,149,23,60,58,59,150])),TextureCompressionWorker:()=>ke(()=>import("./TextureCompressionWorker-UmrSTgAY.js"),[]),FlowWorker:()=>ke(()=>import("./FlowWorker-DNg9mKUN.js"),__vite__mapDeps([151,116])),ParquetSourceWorker:()=>ke(()=>import("./ParquetSourceWorker-RXV5QFWV.js"),__vite__mapDeps([152,86,27,20,18,4,21,28,29,24,25,30,8,7,9,10,11,31,32,35,153,34,89,73,74,88,87])),PanoramicMeshWorker:()=>ke(()=>import("./PanoramicMeshWorker-CVw7enLn.js"),__vite__mapDeps([154,108]))},xle="worker:port-closed",kp={HANDSHAKE:0,OPEN:1,OPENED:2,RESPONSE:3,INVOKE:4,ABORT:5,CLOSE:6,OPEN_PORT:7,ON:8};let BCe=0;function Sle(){return BCe++}function HCe(t){return t&&typeof t=="object"&&("result"in t||"transferList"in t)}function dO(t){return t?typeof t=="string"?JSON.stringify({name:"message",message:t}):t.toJSON?JSON.stringify(t):JSON.stringify({name:t.name,message:t.message,details:t.details||{stack:t.stack}}):null}function Tle(t,e,i,r){if(e.type===kp.OPEN_PORT)return void t.postMessage(e,[e.port]);if(e.type!==kp.INVOKE&&e.type!==kp.RESPONSE)return void t.postMessage(e);let n;HCe(i)?(n=AZ(i.transferList),e.data=i.result):(n=AZ(r),e.data=i),n?t.postMessage(e,n):t.postMessage(e)}function B2(t){if(!t)return null;const e=t.data;return e?typeof e=="string"?JSON.parse(e):e:null}function AZ(t){if(!t?.length)return null;if(he("esri-workers-arraybuffer-transfer"))return t;const e=t.filter(i=>!qCe(i));return e.length?e:null}function qCe(t){return t instanceof ArrayBuffer||t?.constructor?.name==="ArrayBuffer"}async function Lnt(t){try{return await t}catch(e){const i=e?.name===xle;if(!(us(e)||i))throw e;return}}const{CLOSE:rI,ABORT:hF,INVOKE:OZ,RESPONSE:Qx,OPEN_PORT:PZ,ON:DZ}=kp,GCe=2;let WCe=class{constructor(e){this._invoke=e,this._timer=null,this._cancelledJobIds=new Set,this._invokeMessages=[],this._timer=null,this._process=this._process.bind(this)}push(e){e.type===hF?this._cancelledJobIds.add(e.jobId):(this._invokeMessages.push(e),this._timer===null&&(this._timer=setTimeout(this._process,0)))}clear(){this._invokeMessages.length=0,this._cancelledJobIds.clear(),this._timer=null}_process(){this._timer=null;for(const e of this._invokeMessages)this._cancelledJobIds.has(e.jobId)||this._invoke(e);this._cancelledJobIds.clear(),this._invokeMessages.length=0}};var Kl;let Q_=(Kl=class{static connect(e,i){const r=new MessageChannel;let n;n=typeof e=="function"?new e:"default"in e&&typeof e.default=="function"?new e.default:e;const s=new Kl(r.port1,{channel:r,client:n,schedule:i});return typeof n=="object"&&"remoteClient"in n&&(n.remoteClient=s),Kl.clients.set(s,n),r.port2}static loadWorker(e){const i=UCe[e];return i?i():Promise.resolve(null)}constructor(e,i,r,n){this._port=e,this._jobQueue=r,this._lowPriorityJobQueue=n,this._outJobs=new Map,this._inJobs=new Map,this._invokeQueue=new WCe(s=>this._onInvokeMessage(s)),this._client=i.client,this._onMessage=this._onMessage.bind(this),this._channel=i.channel,this._schedule=i.schedule,this._port.addEventListener("message",this._onMessage),this._port.start()}close(){this._post({type:rI}),this._close()}isBusy(){return this._outJobs.size>0}invoke(e,i,r){return this.apply(e,[i],r)}apply(e,i,r){const n=r?.signal,s=r?.transferList;if(!this._port)return Promise.reject(new ee(xle,`Cannot call invoke('${e}'), port is closed`,{methodName:e,data:i}));const o=Sle();return new Promise((a,l)=>{if(Rs(n))return this._processWork(),void l(Si());const h=Ds(n,()=>{const g=this._outJobs.get(o);g&&(this._outJobs.delete(o),this._processWork(),rr(g.abortHandle),this._post({type:hF,jobId:o}),l(Si()))}),f={resolve:a,reject:l,abortHandle:h,debugInfo:e};this._outJobs.set(o,f),this._post({type:OZ,jobId:o,methodName:e,abortable:n!=null},i,s)})}createInvokeProxy(e){return _le(this,e)}on(e,i){const r=new MessageChannel;function n(s){i(s.data)}return this._port.postMessage({type:DZ,eventType:e,port:r.port2},[r.port2]),r.port1.addEventListener("message",n),r.port1.start(),oi(()=>{r.port1.postMessage({type:rI}),r.port1.close(),r.port1.removeEventListener("message",n)})}jobAdded(){this._processWork()}openPort(){const e=new MessageChannel;return this._post({type:PZ,port:e.port2}),e.port1}_processWork(){if(this._outJobs.size>=GCe)return;const e=this._jobQueue?.pop()??this._lowPriorityJobQueue?.pop();if(!e)return;const{methodName:i,data:r,invokeOptions:n,resolver:s}=e;this.apply(i,r,n).then(o=>s.resolve(o)).catch(o=>s.reject(o))}_close(){this._channel&&(this._channel=void 0),this._port.removeEventListener("message",this._onMessage),this._port.close(),this._outJobs.forEach(e=>{rr(e.abortHandle),e.reject(Si(`Worker closing, aborting job calling '${e.debugInfo}'`))}),this._inJobs.clear(),this._outJobs.clear(),this._invokeQueue.clear(),this._port=null,this._client=null,this._schedule=null,this._onMessage=null,this._channel=null,this._jobQueue=void 0,this._invokeQueue=void 0,this._lowPriorityJobQueue=void 0}_onMessage(e){this._schedule!=null?this._schedule(()=>this._processMessage(e,!0)):this._processMessage(e,!1)}_processMessage(e,i){const r=B2(e);if(r)switch(r.type){case Qx:this._onResponseMessage(r);break;case OZ:i?this._onInvokeMessage(r):this._invokeQueue.push(r);break;case hF:this._onAbortMessage(r);break;case rI:this._onCloseMessage();break;case PZ:this._onOpenPortMessage(r);break;case DZ:this._onOnMessage(r)}}_onAbortMessage(e){const i=this._inJobs,r=e.jobId,n=i.get(r);this._invokeQueue.push(e),n&&(n.controller&&n.controller.abort(),i.delete(r))}_onCloseMessage(){const e=this._client;this._close(),e&&"destroy"in e&&Kl.clients.get(this)===e&&e.destroy(),Kl.clients.delete(this),e?.remoteClient&&(e.remoteClient=null)}_onInvokeMessage(e){const{methodName:i,jobId:r,data:n=[],abortable:s}=e,o=s?new AbortController:null,a=this._inJobs;let l,h=this._client,f=h[i];try{if(!f&&i&&i.includes(".")){const g=i.split(".");for(let v=0;v<g.length-1;v++)h=h[g[v]],f=h[g[v+1]]}if(typeof f!="function")throw new TypeError(`${i} is not a function`);n.push({client:this,signal:o?o.signal:null}),l=f.apply(h,n)}catch(g){return void this._post({type:Qx,jobId:r,error:dO(g)})}co(l)?(a.set(r,{controller:o,promise:l}),l.then(g=>{a.has(r)&&(a.delete(r),this._post({type:Qx,jobId:r},g))},g=>{a.has(r)&&(a.delete(r),us(g)||this._post({type:Qx,jobId:r,error:dO(g||{message:`Error encountered at method ${i}`})}))})):this._post({type:Qx,jobId:r},l)}_onOpenPortMessage(e){new Kl(e.port,{client:this._client})}_onOnMessage(e){const{port:i}=e,r=this._client.on(e.eventType,s=>{i.postMessage(s)}),n=Sp(e.port,"message",s=>{B2(s)?.type===rI&&(n.remove(),r.remove(),i.close())})}_onResponseMessage(e){const{jobId:i,error:r,data:n}=e,s=this._outJobs;if(!s.has(i))return;const o=s.get(i);s.delete(i),this._processWork(),rr(o.abortHandle),r?o.reject(ee.fromJSON(JSON.parse(r))):o.resolve(n)}_post(e,i,r){return Tle(this._port,e,i,r)}},Kl.kernelInfo={buildDate:Ere,fullVersion:T9,revision:Ire},Kl.clients=new Map,Kl),YCe=class{constructor(){this._inUseClients=new Array,this._clients=new Array,this._clientPromises=new Array,this._ongoingJobsQueue=new U2,this._ongoingLowPriorityJobsQueue=new U2}destroy(){this.close()}get closed(){return!this._clients?.length}open(e,i){return new Promise((r,n)=>{let s=!0;const o=a=>{nr(i.signal),s&&(s=!1,a())};this._clients.length=e.length,this._clientPromises.length=e.length,this._inUseClients.length=e.length;for(let a=0;a<e.length;++a){const l=e[a];co(l)?this._clientPromises[a]=l.then(h=>(this._clients[a]=new Q_(h,i,this._ongoingJobsQueue,this._ongoingLowPriorityJobsQueue),o(r),this._clients[a]),()=>(o(n),null)):(this._clients[a]=new Q_(l,i,this._ongoingJobsQueue,this._ongoingLowPriorityJobsQueue),this._clientPromises[a]=Promise.resolve(this._clients[a]),o(r))}})}broadcast(e,i,r){const n=new Array(this._clientPromises.length);for(let s=0;s<this._clientPromises.length;++s){const o=this._clientPromises[s];n[s]=o.then(a=>a?.invoke(e,i,r))}return n}close(){let e;for(;e=this._ongoingJobsQueue.pop();)e.resolver.reject(Si(`Worker closing, aborting job calling '${e.methodName}'`));for(;e=this._ongoingLowPriorityJobsQueue.pop();)e.resolver.reject(Si(`Worker closing, aborting job calling '${e.methodName}'`));for(const i of this._clientPromises)i.then(r=>r?.close());this._clients.length=0,this._clientPromises.length=0,this._inUseClients.length=0,FCe(this)}invoke(e,i,r){return this.apply(e,[i],r)}apply(e,i,r){const n=cs();(r?.priority==="low"?this._ongoingLowPriorityJobsQueue:this._ongoingJobsQueue).push({methodName:e,data:i,invokeOptions:r,resolver:n});for(let s=0;s<this._clientPromises.length;s++){const o=this._clients[s];o?o.jobAdded():this._clientPromises[s].then(a=>a?.jobAdded())}return n.promise}createInvokeProxy(e){return _le(this,e)}on(e,i){return Promise.all(this._clientPromises).then(()=>Fv(this._clients.map(r=>r.on(e,i))))}openPorts(){return new Promise(e=>{const i=new Array(this._clientPromises.length);let r=i.length;for(let n=0;n<this._clientPromises.length;++n)this._clientPromises[n].then(s=>{s&&(i[n]=s.openPort()),--r===0&&e(i)})})}get test(){}};const ZCe={async request(t,e){const i=t.options,r=i.responseType;i.signal=e?.signal,i.responseType=r==="native"||r==="native-request-init"?"native-request-init":r&&["blob","json","text"].includes(r)&&sj(t.url)?.after?r:"array-buffer";const n=await Vt(t.url,i),s={data:n.data,httpStatus:n.httpStatus,ssl:n.ssl};switch(n.requestOptions?.responseType){case"native-request-init":return delete s.data.signal,s;case"blob":s.data=await s.data.arrayBuffer();break;case"json":s.data=new TextEncoder().encode(JSON.stringify(s.data)).buffer;break;case"text":s.data=new TextEncoder().encode(s.data).buffer}return{result:s,transferList:[s.data]}}},RZ={};function JCe(t){const e={async:t.async,isDebug:t.isDebug,locale:t.locale,baseUrl:t.baseUrl,has:{...t.has},map:{...t.map},packages:t.packages?.slice()||[],paths:{...RZ.paths,...t.paths}};return t.hasOwnProperty("async")||(e.async=!0),t.hasOwnProperty("isDebug")||(e.isDebug=!1),t.baseUrl||(e.baseUrl=RZ.baseUrl),e}let XCe=class{constructor(){const e=document.createDocumentFragment();["addEventListener","dispatchEvent","removeEventListener"].forEach(i=>{this[i]=(...r)=>e[i](...r)})}},KC=class{constructor(){this._dispatcher=new XCe,this._workerPostMessage({type:kp.HANDSHAKE})}terminate(){}get onmessage(){return this._onmessageHandler}set onmessage(e){this._onmessageHandler&&this.removeEventListener("message",this._onmessageHandler),this._onmessageHandler=e,e&&this.addEventListener("message",e)}get onmessageerror(){return this._onmessageerrorHandler}set onmessageerror(e){this._onmessageerrorHandler&&this.removeEventListener("messageerror",this._onmessageerrorHandler),this._onmessageerrorHandler=e,e&&this.addEventListener("messageerror",e)}get onerror(){return this._onerrorHandler}set onerror(e){this._onerrorHandler&&this.removeEventListener("error",this._onerrorHandler),this._onerrorHandler=e,e&&this.addEventListener("error",e)}postMessage(e){bA(()=>{this._workerMessageHandler(new MessageEvent("message",{data:e}))})}dispatchEvent(e){return this._dispatcher.dispatchEvent(e)}addEventListener(e,i,r){this._dispatcher.addEventListener(e,i,r)}removeEventListener(e,i,r){this._dispatcher.removeEventListener(e,i,r)}_workerPostMessage(e){bA(()=>{this.dispatchEvent(new MessageEvent("message",{data:e}))})}async _workerMessageHandler(e){const i=B2(e);if(i&&i.type===kp.OPEN){const{modulePath:r,jobId:n}=i;let s=await Q_.loadWorker(r);s||(s=await import(r));const o=Q_.connect(s);this._workerPostMessage({type:kp.OPENED,jobId:n,data:o})}}};const pF=()=>Ee.getLogger("esri.core.workers.workerFactory"),{HANDSHAKE:KCe}=kp,QCe='let globalId=0;const outgoing=new Map,configuration={CONFIGURATION};self.esriConfig=configuration.esriConfig;const workerPath=self.esriConfig.workers.workerPath,HANDSHAKE=0,OPEN=1,OPENED=2,RESPONSE=3,INVOKE=4,ABORT=5;function createAbortError(){const e=new Error("Aborted");return e.name="AbortError",e}function receiveMessage(e){return e&&e.data?"string"==typeof e.data?JSON.parse(e.data):e.data:null}function invokeStaticMessage(e,o,r){const t=r&&r.signal,n=globalId++;let s=null;return new Promise((r,i)=>{if(t){if(t.aborted)return i(createAbortError());s=()=>{outgoing.get(n)&&(outgoing.delete(n),self.postMessage({type:5,jobId:n}),i(createAbortError()))},t.addEventListener("abort",s)}outgoing.set(n,{resolve:r,reject:i}),self.postMessage({type:4,jobId:n,methodName:e,abortable:null!=t,data:o})}).finally(()=>{t&&t.removeEventListener("abort",s)})}let workerRevisionChecked=!1;function checkWorkerRevision(e){if(!workerRevisionChecked&&e.kernelInfo){workerRevisionChecked=!0;const{revision:o,fullVersion:r}=configuration.kernelInfo,{revision:t,fullVersion:n,version:s}=e.kernelInfo;esriConfig.assetsPath!==esriConfig.defaultAssetsPath&&o!==t&&console.warn(`Version mismatch detected between ArcGIS Maps SDK for JavaScript modules and assets. For more information visit https://esriurl.com/using-local-assets.\nModules version: ${r}\nAssets version: ${n??s}\nAssets path: ${esriConfig.assetsPath}`)}}function messageHandler(e){const o=receiveMessage(e);if(!o)return;const r=o.jobId;switch(o.type){case 1:let n;function t(e){const o=n.connect(e);self.postMessage({type:2,jobId:r,data:o},[o])}"function"==typeof define&&define.amd?require([workerPath],e=>{n=e.default||e,checkWorkerRevision(n),n.loadWorker(o.modulePath).then(e=>e||new Promise(e=>{require([o.modulePath],e)})).then(t)}):"System"in self&&"function"==typeof System.import?System.import(workerPath).then(e=>(n=e.default,checkWorkerRevision(n),n.loadWorker(o.modulePath))).then(e=>e||System.import(o.modulePath)).then(t):esriConfig.workers.useDynamicImport?import(workerPath).then(e=>{n=e.default||e,checkWorkerRevision(n),n.loadWorker(o.modulePath).then(e=>e||import(o.modulePath)).then(t)}):(self.RemoteClient||importScripts(workerPath),n=self.RemoteClient.default||self.RemoteClient,checkWorkerRevision(n),n.loadWorker(o.modulePath).then(t));break;case 3:if(outgoing.has(r)){const s=outgoing.get(r);outgoing.delete(r),o.error?s.reject(JSON.parse(o.error)):s.resolve(o.data)}}}self.dojoConfig=configuration.loaderConfig,esriConfig.workers.loaderUrl&&(self.importScripts(esriConfig.workers.loaderUrl),"function"==typeof require&&"function"==typeof require.config&&require.config(configuration.loaderConfig)),self.addEventListener("message",messageHandler),self.postMessage({type:0});';let nI,sI;const LZ="Failed to create Worker. Fallback to execute module in main thread";async function eMe(){if(!he("esri-workers"))return zZ(new KC);if(!nI&&!sI)try{const e=QCe.split("{CONFIGURATION}").join(tMe());nI=URL.createObjectURL(new Blob([e],{type:"text/javascript"}))}catch(e){sI=e||{}}let t;if(nI)try{t=new Worker(nI,{name:"esri-worker-"+iMe++})}catch{pF().warn(LZ,sI),t=new KC}else pF().warn(LZ,sI),t=new KC;return zZ(t)}async function zZ(t){return new Promise(e=>{function i(n){const s=B2(n);s&&s.type===KCe&&(t.removeEventListener("message",i),t.removeEventListener("error",r),e(t))}function r(n){n.preventDefault(),t.removeEventListener("message",i),t.removeEventListener("error",r),pF().warn("Failed to create Worker. Fallback to execute module in main thread",n),(t=new KC).addEventListener("message",i),t.addEventListener("error",r)}t.addEventListener("message",i),t.addEventListener("error",r)})}function tMe(){let t;if(ni.default!=null){const n={...ni};delete n.default,t=JSON.parse(JSON.stringify(n))}else t=JSON.parse(JSON.stringify(ni));t.assetsPath=Ao(t.assetsPath),t.defaultAssetsPath=t.defaultAssetsPath?Ao(t.defaultAssetsPath):void 0,t.request.interceptors=[],t.log.interceptors=[],t.locale=ya(),t.has={"esri-csp-restrictions":he("esri-csp-restrictions"),"esri-2d-debug":!1,"esri-2d-update-debug":he("esri-2d-update-debug"),"esri-2d-log-updating":he("esri-2d-log-updating"),"featurelayer-pbf":he("featurelayer-pbf"),"featurelayer-fast-triangulation-enabled":he("featurelayer-fast-triangulation-enabled"),"featurelayer-simplify-thresholds":he("featurelayer-simplify-thresholds"),"featurelayer-simplify-payload-size-factors":he("featurelayer-simplify-payload-size-factors"),"featurelayer-simplify-mobile-factor":he("featurelayer-simplify-mobile-factor"),"featurelayer-query-max-depth":he("featurelayer-query-max-depth"),"featurelayer-query-tile-max-features":he("featurelayer-query-tile-max-features"),"featurelayer-query-tile-concurrency":he("featurelayer-query-tile-concurrency"),"featurelayer-query-pausing-enabled":he("featurelayer-query-pausing-enabled"),"featurelayer-snapshot-concurrency":he("featurelayer-snapshot-concurrency"),"featurelayer-snapshot-enabled":he("featurelayer-snapshot-enabled"),"parquetlayer-full-query-feature-count":he("parquetlayer-full-query-feature-count"),"esri-atomics":he("esri-atomics"),"esri-shared-array-buffer":he("esri-shared-array-buffer"),"esri-tiles-debug":he("esri-tiles-debug"),"esri-workers-arraybuffer-transfer":he("esri-workers-arraybuffer-transfer"),"feature-polyline-generalization-factor":he("feature-polyline-generalization-factor"),"host-webworker":1},t.workers.loaderUrl&&(t.workers.loaderUrl=Ao(t.workers.loaderUrl)),t.workers.workerPath?t.workers.workerPath=Ao(t.workers.workerPath):t.workers.workerPath=Ao(Gr("esri/core/workers/RemoteClient.js")),t.workers.useDynamicImport=!1;const e=ni.workers.loaderConfig,i=JCe({baseUrl:e?.baseUrl,locale:ya(),has:{"csp-restrictions":1,"dojo-test-sniff":0,"host-webworker":1,...e?.has},map:{...e?.map},paths:{...e?.paths},packages:e?.packages||[]});return JSON.stringify({esriConfig:t,loaderConfig:i,kernelInfo:{buildDate:Ere,fullVersion:T9,revision:Ire}})}let iMe=0;const{ABORT:NZ,INVOKE:rMe,OPEN:nMe,OPENED:sMe,RESPONSE:eS}=kp;let oMe=class $le{static async create(e){const i=await eMe();return new $le(i,e)}constructor(e,i){this._outJobs=new Map,this._inJobs=new Map,this.worker=e,this.id=i,e.addEventListener("message",this._onMessage.bind(this)),e.addEventListener("error",r=>{r.preventDefault(),Ee.getLogger("esri.core.workers.WorkerOwner").error(r)})}terminate(){this.worker.terminate()}async open(e,i={}){const{signal:r}=i,n=Sle();return new Promise((s,o)=>{const a={resolve:s,reject:o,abortHandle:o9(r,()=>{this._outJobs.delete(n),this._post({type:NZ,jobId:n})})};this._outJobs.set(n,a),this._post({type:nMe,jobId:n,modulePath:e})})}_onMessage(e){const i=B2(e);if(i)switch(i.type){case sMe:this._onOpenedMessage(i);break;case eS:this._onResponseMessage(i);break;case NZ:this._onAbortMessage(i);break;case rMe:this._onInvokeMessage(i)}}_onAbortMessage(e){const i=this._inJobs,r=e.jobId,n=i.get(r);n&&(n.controller&&n.controller.abort(),i.delete(r))}_onInvokeMessage(e){const{methodName:i,jobId:r,data:n,abortable:s}=e,o=s?new AbortController:null,a=this._inJobs,l=ZCe[i];let h;try{if(typeof l!="function")throw new TypeError(`${i} is not a function`);h=l.call(null,n,{signal:o?o.signal:null})}catch(f){return void this._post({type:eS,jobId:r,error:dO(f)})}co(h)?(a.set(r,{controller:o,promise:h}),h.then(f=>{a.has(r)&&(a.delete(r),this._post({type:eS,jobId:r},f))},f=>{a.has(r)&&(a.delete(r),f||(f={message:"Error encountered at method"+i}),us(f)||this._post({type:eS,jobId:r,error:dO(f||{message:`Error encountered at method ${i}`})}))})):this._post({type:eS,jobId:r},h)}_onOpenedMessage(e){const{jobId:i,data:r}=e,n=this._outJobs.get(i);n&&(this._outJobs.delete(i),rr(n.abortHandle),n.resolve(r))}_onResponseMessage(e){const{jobId:i,error:r,data:n}=e,s=this._outJobs.get(i);s&&(this._outJobs.delete(i),rr(s.abortHandle),r?s.reject(ee.fromJSON(JSON.parse(r))):s.resolve(n))}_post(e,i,r){return Tle(this.worker,e,i,r)}};const jZ=he("host-browser")?Math.min(navigator.hardwareConcurrency-1,he("workers-pool-size")??8):0;let Uy=he("esri-mobile")?Math.min(jZ,3):jZ;Uy||(Uy=he("safari")&&he("mac")?7:2);let FZ=0;const QC=[];function aMe(){kle()}async function oI(t,e){const i=new YCe,{registryTarget:r,...n}=e;return await i.open(t,n),r&&jCe(r,i),i}async function lMe(t,e={}){if(typeof t!="string")throw new ee("workers:undefined-module","modulePath is missing");let i=e.strategy||"distributed";if(he("host-webworker")&&!he("esri-workers")&&(i="local"),i==="local"){let r=await Q_.loadWorker(t);r||(r=await import(t)),nr(e.signal);const n=e.client||r;return oI([Q_.connect(r,e.schedule)],{...e,client:n})}if(await kle(),nr(e.signal),i==="dedicated"){const r=FZ++%Uy;return oI([await QC[r].open(t,e)],e)}if(e.maxNumWorkers&&e.maxNumWorkers>0){const r=Math.min(e.maxNumWorkers,Uy);if(r<Uy){const n=new Array(r);for(let s=0;s<r;++s){const o=FZ++%Uy;n[s]=QC[o].open(t,e)}return oI(n,e)}}return oI(QC.map(r=>r.open(t,e)),e)}let aI=null;async function kle(){if(aI)return aI;new AbortController;const t=[];for(let e=0;e<Uy;e++){const i=oMe.create(e).then(r=>(QC[e]=r,r));t.push(i)}return aI=Promise.all(t),aI}function Td(t,e,i=We){return e||(e=new i),e===t||e.destroyed||(e.removeAll(),cMe(t)?e.addMany(t):t&&e.add(t)),e}function Ele(t){return t}function cMe(t){return t&&(Array.isArray(t)||"items"in t&&Array.isArray(t.items))}let DT=class extends We{constructor(e){super(e),this.addHandles([this.on("before-add",i=>{i.item==null&&i.preventDefault()}),this.on("after-add",i=>this._own(i.item)),this.on("after-remove",i=>this._release(i.item))])}get owner(){return this._get("owner")}set owner(e){this.destroyed||e!==this._get("owner")&&(this._releaseAll(),this._set("owner",e),this._ownAll())}_ownAll(){for(const e of this.items)this._own(e)}_releaseAll(){for(const e of this.items)this._release(e)}_createNewInstance(e){return this.itemType?new(We.ofType(this.itemType.Type))(e):new We(e)}};function fF(t,e){return{type:t,cast:Ele,set(i){const r=Td(i,this._get(e),t);r&&!r.destroyed&&(r.owner=this),this._set(e,r)}}}u([p()],DT.prototype,"owner",null),DT=u([j("esri.core.support.OwningCollection")],DT);function ig(){return[0,0,0]}function uMe(t){return[t[0],t[1],t[2]]}function L1(t,e,i){return[t,e,i]}function dMe(t,e,i){return[t,e,i]}function hMe(t,e=ig()){const i=Math.min(3,t.length);for(let r=0;r<i;++r)e[r]=t[r];return e}function Ile(){return ig()}function Cle(){return L1(1,1,1)}function Mle(){return L1(1,0,0)}function Ale(){return L1(0,1,0)}function Ole(){return L1(0,0,1)}const pMe=Ile(),fMe=Cle(),mMe=Mle(),gMe=Ale(),yMe=Ole();Object.freeze(Object.defineProperty({__proto__:null,ONES:fMe,UNIT_X:mMe,UNIT_Y:gMe,UNIT_Z:yMe,ZEROS:pMe,clone:uMe,create:ig,freeze:dMe,fromArray:hMe,fromValues:L1,ones:Cle,unitX:Mle,unitY:Ale,unitZ:Ole,zeros:Ile},Symbol.toStringTag,{value:"Module"}));var mF;let x0=mF=class extends at{constructor(t){super(t),this.isInverse=!1,this.wkt=null,this.wkid=null}getInverse(){return new mF({isInverse:!this.isInverse,wkid:this.wkid,wkt:this.wkt})}};u([p()],x0.prototype,"isInverse",void 0),u([p()],x0.prototype,"wkt",void 0),u([p()],x0.prototype,"wkid",void 0),x0=mF=u([j("esri.geometry.operators.support.GeographicTransformationStep")],x0);var gF;let RT=gF=class extends at{constructor(t){super(t),this.steps=[]}getInverse(){const t=new gF;for(let e=this.steps.length-1;e>=0;e--){const i=this.steps[e];t.steps.push(i.getInverse())}return t}};u([p({type:[x0],nonNullable:!0})],RT.prototype,"steps",void 0),RT=gF=u([j("esri.geometry.operators.support.GeographicTransformation")],RT);const Unt=Math.PI/180,Bnt=/(?:SPHEROID|ELLIPSOID)\[([^\]]+)]/i,Rf=zr.radius,Dc=zr.eccentricitySquared,vMe={a1:Rf*Dc,a2:Rf*Dc*Rf*Dc,a3:Rf*Dc*Dc/2,a4:Rf*Dc*Rf*Dc*2.5,a5:Rf*Dc+Rf*Dc*Dc/2,a6:1-Dc},Hnt={4267:{a:63782064e-1,f:1/294.9786982},4269:{a:6378137,f:1/298.257222101},4326:{a:zr.radius,f:zr.flattening},4490:{a:6378137,f:1/298.257222101},104900:{a:2439700,f:0},104901:{a:6051e3,f:0},104902:{a:6051800,f:0},104903:{a:Gm.radius,f:Gm.flattening},104904:{a:3393400,f:1/192.0430107526882},104905:{a:Sd.radius,f:Sd.flattening},104906:{a:6200,f:0},104907:{a:11100,f:0},104908:{a:71492e3,f:.06487439154031222},104909:{a:8200,f:0},104910:{a:83500,f:0},104911:{a:1e4,f:0},104912:{a:2409300,f:0},104913:{a:15e3,f:0},104914:{a:4e4,f:0},104915:{a:1562090,f:0},104916:{a:2632345,f:0},104917:{a:85e3,f:0},104918:{a:1821460,f:0},104919:{a:5e3,f:0},104920:{a:12e3,f:0},104921:{a:3e4,f:3},104922:{a:18e3,f:0},104923:{a:14e3,f:0},104924:{a:49300,f:0},104925:{a:60268e3,f:1/10.2079945799458},104926:{a:16e3,f:0},104927:{a:9500,f:0},104928:{a:56e4,f:0},104929:{a:249400,f:0},104930:{a:59500,f:0},104931:{a:16e3,f:0},104932:{a:133e3,f:0},104933:{a:718e3,f:0},104934:{a:888e3,f:0},104935:{a:1986300,f:0},104936:{a:1e4,f:0},104937:{a:41900,f:0},104938:{a:11e4,f:0},104939:{a:50100,f:0},104940:{a:764e3,f:0},104941:{a:11e3,f:0},104942:{a:529800,f:0},104943:{a:2575e3,f:0},104944:{a:25559e3,f:1/43.61604095563141},104945:{a:578900,f:0},104946:{a:33e3,f:0},104947:{a:21e3,f:0},104948:{a:13e3,f:0},104949:{a:31e3,f:0},104950:{a:27e3,f:0},104951:{a:42e3,f:0},104952:{a:235800,f:0},104953:{a:761400,f:0},104954:{a:15e3,f:0},104955:{a:54e3,f:0},104956:{a:77e3,f:0},104957:{a:27e3,f:0},104958:{a:788900,f:0},104959:{a:584700,f:0},104960:{a:24764e3,f:.01708124697141011},104961:{a:74e3,f:0},104962:{a:79e3,f:0},104963:{a:104e3,f:.14423076923076922},104964:{a:29e3,f:0},104965:{a:17e4,f:0},104966:{a:208e3,f:0},104967:{a:4e4,f:0},104968:{a:1352600,f:0},104969:{a:1195e3,f:0},104970:{a:593e3,f:0},104971:{a:Sd.radius,f:0},104972:{a:47e4,f:0},104973:{a:255e3,f:0},104974:{a:2439400,f:0}},bMe={2:{5:vr,7:null,9:null,10:vr,1:zT,6:null,8:null,0:null,3:Gw,11:Ww,2:vr,4:Jw},5:{5:vr,7:null,9:null,10:vr,1:zT,6:null,8:null,0:null,3:Gw,11:Ww,2:vr,4:Jw},7:{5:null,7:vr,9:null,10:vr,1:null,6:BZ,8:null,0:null,3:null,11:null,2:null,4:null},9:{5:null,7:null,9:vr,10:vr,1:null,6:null,8:UZ,0:null,3:null,11:null,2:null,4:null},3:{5:LT,7:null,9:null,10:LT,1:_Me,6:null,8:null,0:null,3:vr,11:TMe,2:LT,4:xMe},4:{5:Xw,7:null,9:null,10:Xw,1:PMe,6:null,8:null,0:null,3:DMe,11:$Me,2:Xw,4:vr},1:{5:Zw,7:null,9:null,10:Zw,1:vr,6:null,8:null,0:null,3:MMe,11:kMe,2:Zw,4:AMe},6:{5:null,7:qZ,9:null,10:qZ,1:null,6:vr,8:null,0:null,3:null,11:null,2:null,4:null},8:{5:null,7:null,9:HZ,10:HZ,1:null,6:null,8:vr,0:null,3:null,11:null,2:null,4:null},0:{5:null,7:null,9:null,10:null,1:null,6:null,8:null,0:vr,3:null,11:null,2:null,4:null},10:{5:vr,7:vr,9:vr,10:vr,1:zT,6:BZ,8:UZ,0:null,3:Gw,11:Ww,2:vr,4:Jw},11:{5:Yw,7:null,9:null,10:Yw,1:EMe,6:null,8:null,0:null,3:IMe,11:vr,2:Yw,4:CMe}};function Ple(t,e){return wMe(t,e)?.projector}function wMe(t,e){if(t==null||e==null)return null;if(yh.source.spatialReference===t&&yh.dest.spatialReference===e)return yh;const i=VZ(t,yh.source),r=VZ(e,yh.dest);return i===0&&r===0?Un(t,e)?yh.projector=vr:yh.projector=null:yh.projector=bMe[i][r],yh}function VZ(t,e){return t?e.spatialReference===t?e.spatialReferenceId:(e.spatialReference=t,"metersPerUnit"in e&&(e.metersPerUnit=dc(t,1)),XA(t)?e.spatialReferenceId=1:Tv(t)?e.spatialReferenceId=2:Nd(t)?e.spatialReferenceId=3:Y2e(t)?e.spatialReferenceId=11:t.wkt===K2e.wkt?e.spatialReferenceId=4:t.wkid===4490?e.spatialReferenceId=5:t.wkt===pU.wkt?e.spatialReferenceId=6:t.wkt===fU.wkt?e.spatialReferenceId=8:Eoe(t)?e.spatialReferenceId=7:Ioe(t)?e.spatialReferenceId=9:e.spatialReferenceId=0):0}function vr(t,e,i,r){t!==i&&(i[r++]=t[e++],i[r++]=t[e++],i[r]=t[e])}function LT(t,e,i,r){i[r]=t1*(t[e]/Qy),i[r+1]=t1*(Dle-2*Math.atan(Math.exp(-t[e+1]/Qy))),i[r+2]=t[e+2]}function _Me(t,e,i,r){const n=t[e]/Qy,s=Dle-2*Math.atan(Math.exp(-t[e+1]/Qy)),o=Qy+t[e+2],a=Math.cos(s)*o;i[r]=Math.cos(n)*a,i[r+1]=Math.sin(n)*a,i[r+2]=Math.sin(s)*o}function xMe(t,e,i,r){LT(t,e,i,r),Jw(i,r,i,r)}function SMe(t,e,i,r,n){const s=.4999999*Math.PI,o=vl(e1*t[e+1],-s,s),a=Math.sin(o);i[r++]=e1*t[e]*n.radius,i[r++]=n.halfSemiMajorAxis*Math.log((1+a)/(1-a)),i[r]=t[e+2]}function Gw(t,e,i,r){SMe(t,e,i,r,zr)}function Ww(t,e,i,r){i[r]=t[e]*GZ,i[r+1]=t[e+1]*GZ,i[r+2]=t[e+2]}function Yw(t,e,i,r){i[r]=t[e]*WZ,i[r+1]=t[e+1]*WZ,i[r+2]=t[e+2]}function TMe(t,e,i,r){LT(t,e,i,r),Ww(i,r,i,r)}function $Me(t,e,i,r){Xw(t,e,i,r),Ww(i,r,i,r)}function kMe(t,e,i,r){Zw(t,e,i,r),Ww(i,r,i,r)}function EMe(t,e,i,r){Yw(t,e,i,r),zT(i,r,i,r)}function IMe(t,e,i,r){Yw(t,e,i,r),Gw(i,r,i,r)}function CMe(t,e,i,r){Yw(t,e,i,r),Jw(i,r,i,r)}function DU(t,e,i,r,n){const s=n+t[e+2],o=e1*t[e+1],a=e1*t[e],l=Math.cos(o)*s;i[r]=Math.cos(a)*l,i[r+1]=Math.sin(a)*l,i[r+2]=Math.sin(o)*s}function UZ(t,e,i,r){DU(t,e,i,r,Gm.radius)}function BZ(t,e,i,r){DU(t,e,i,r,Sd.radius)}function zT(t,e,i,r){DU(t,e,i,r,zr.radius)}function RU(t,e,i,r,n){const s=t[e],o=t[e+1],a=t[e+2],l=Math.sqrt(s*s+o*o+a*a),h=OEe(a/(l===0?1:l)),f=Math.atan2(o,s);i[r++]=t1*f,i[r++]=t1*h,i[r]=l-n}function HZ(t,e,i,r){RU(t,e,i,r,Gm.radius)}function qZ(t,e,i,r){RU(t,e,i,r,Sd.radius)}function Zw(t,e,i,r){RU(t,e,i,r,zr.radius)}function MMe(t,e,i,r){Zw(t,e,i,r),Gw(i,r,i,r)}function AMe(t,e,i,r){Zw(t,e,i,r),Jw(i,r,i,r)}function OMe(t,e,i,r,n){const s=e1*t[e],o=e1*t[e+1],a=t[e+2],l=Math.sin(o),h=Math.cos(o),f=n.radius/Math.sqrt(1-n.eccentricitySquared*l*l);i[r++]=(f+a)*h*Math.cos(s),i[r++]=(f+a)*h*Math.sin(s),i[r++]=(f*(1-n.eccentricitySquared)+a)*l}function Jw(t,e,i,r){OMe(t,e,i,r,zr)}function Xw(t,e,i,r){const n=vMe,s=t[e],o=t[e+1],a=t[e+2];let l,h,f,g,v,w,S,T,C,I,A,P,D,L,B,N,Y,K,te,ue,ye;l=Math.abs(a),h=s*s+o*o,f=Math.sqrt(h),g=h+a*a,v=Math.sqrt(g),ue=Math.atan2(o,s),w=a*a/g,S=h/g,L=n.a2/v,B=n.a3-n.a4/v,S>.3?(T=l/v*(1+S*(n.a1+L+w*B)/v),te=Math.asin(T),I=T*T,C=Math.sqrt(1-I)):(C=f/v*(1-w*(n.a5-L-S*B)/v),te=Math.acos(C),I=1-C*C,T=Math.sqrt(I)),A=1-zr.eccentricitySquared*I,P=zr.radius/Math.sqrt(A),D=n.a6*P,L=f-P*C,B=l-D*T,Y=C*L+T*B,N=C*B-T*L,K=N/(D/A+Y),te+=K,ye=Y+N*K/2,a<0&&(te=-te),i[r++]=t1*ue,i[r++]=t1*te,i[r]=ye}function PMe(t,e,i,r){Xw(t,e,i,r),zT(i,r,i,r)}function DMe(t,e,i,r){Xw(t,e,i,r),Gw(i,r,i,r)}const yh={source:{spatialReference:null,spatialReferenceId:0,metersPerUnit:1},dest:{spatialReference:null,spatialReferenceId:0,metersPerUnit:1},projector:vr},e1=K$(1),t1=$ae(1),Dle=.5*Math.PI,Qy=zr.radius,GZ=Qy*Math.PI/180,WZ=180/(Qy*Math.PI);function tk(t,e,i,r,n,s,o=Math.floor(t.length/3)){const a=Ple(e,n);if(a==null)return!1;if(a===vr){if(t===r&&i===s)return!0;const h=i+3*o;for(let f=i,g=s;f<h;f++,g++)r[g]=t[f];return!0}const l=i+3*o;for(let h=i,f=s;h<l;h+=3,f+=3)a(t,h,r,f);return!0}const qnt=Object.freeze(Object.defineProperty({__proto__:null,projectBuffer:tk},Symbol.toStringTag,{value:"Module"}));function YZ(t,e,i,r,n,s){return lI[0]=t,lI[1]=e,lI[2]=i,tk(lI,r,0,n,s,0)}const lI=ig();function Rle(t,e,i){if(e==null||i==null||i.vcsWkid||Un(e,i)||Ym(e)||Ym(i))return null;const r=KA(e)/KA(i);if(r===1)return null;switch(t){case"point":case"esriGeometryPoint":return n=>RMe(n,r);case"polyline":case"esriGeometryPolyline":return n=>zMe(n,r);case"polygon":case"esriGeometryPolygon":return n=>LMe(n,r);case"multipoint":case"esriGeometryMultipoint":return n=>NMe(n,r);case"extent":case"esriGeometryEnvelope":return n=>jMe(n,r);default:return null}}function RMe(t,e){t?.z!=null&&(t.z*=e)}function LMe(t,e){if(t)for(const i of t.rings)for(const r of i)r.length>2&&(r[2]*=e)}function zMe(t,e){if(t)for(const i of t.paths)for(const r of i)r.length>2&&(r[2]*=e)}function NMe(t,e){if(t)for(const i of t.points)i.length>2&&(i[2]*=e)}function jMe(t,e){t&&t.zmin!=null&&t.zmax!=null&&(t.zmin*=e,t.zmax*=e)}let NT=null,H2=null,q2=null,i1=null,yF={};const LU=new P1;function Fp(){return!!(H2?.isLoaded()&&q2?.isLoaded()&&i1?.isLoaded())}function Lle(){return!!Fp()||(_t(LU),Zm(),!1)}function zle(t,e){return!t||!e||wu(t,e)||Lle()}function FMe(t,e){return!wu(t,e)&&!Fp()}async function Zm(t){NT==null&&(NT=Promise.all([ke(()=>import("./projectOperator-DJV-m8Ec.js"),__vite__mapDeps([155,156,91])).then(e=>(H2=e,H2.load())),ke(()=>import("./projectOperator-sDERQnt7.js"),__vite__mapDeps([157,156,91])).then(e=>(q2=e,q2.load())),ke(()=>import("./geographicTransformationUtils-BI-ZuPQP.js"),[]).then(e=>(i1=e,i1.load()))])),await NT,nr(t),LU.notify()}function rg(t,e,i){return Array.isArray(t)?t.length===0?[]:($$e(t),vF(t,t[0].spatialReference,e,i)):(G_(t),vF([t],t.spatialReference,e,i)[0])}function vF(t,e,i,r){if(e==null||i==null)return t;if(wu(e,i,r))return t.map(n=>eM(n,e,i));if(r?.geographicTransformation==null&&XA(e))return t.map(n=>eM(n,e,Ke.WGS84)).map(n=>G2(n,i));if(r?.geographicTransformation==null&&XA(i))return t.map(n=>G2(n,Ke.WGS84)).map(n=>eM(n,Ke.WGS84,i));if(!Fp())throw new jle;if(!r?.geographicTransformation){if(r?.extendedParams)r={...r,geographicTransformation:i1.getTransformation(e,i,r.areaOfInterestExtent)||new RT};else if(!r?.areaOfInterestExtent){const n=VMe(e,i);let s=yF[n];s||(s=i1.getTransformation(e,i)||new RT,yF[n]=s),r={geographicTransformation:s}}}return t[0].spatialReference||(t[0].spatialReference=e),t[0]instanceof Rn?H2.executeMany(t,i,r):q2.executeMany(t,i,r)}function VMe(t,e){return[t.wkid?.toString()??"-1",t.wkt?.toString()??"",t.wkt2?.toString()??"",e.wkid?.toString()??"-1",e.wkt?.toString()??"",e.wkt2?.toString()??""].join()}function UMe(t,e){const i=Nle([t],e);return i.pending!=null?{pending:i.pending,geometry:null}:i.geometries!=null?{pending:null,geometry:i.geometries[0]}:{pending:null,geometry:null}}function Nle(t,e){if(!Fp()){for(const i of t)if(i!=null&&!Un(i.spatialReference,e)&&ll(i.spatialReference)&&ll(e)&&!wu(i.spatialReference,e))return _t(LU),{pending:Zm(),geometries:null}}return{pending:null,geometries:t.map(i=>i==null?null:Un(i.spatialReference,e)?i:ll(i.spatialReference)&&ll(e)?G2(i,e):null)}}let jle=class extends ee{constructor(){super("projection:not-loaded","projection engine not fully loaded yet, please call load()")}};function BMe(){NT=null,H2=null,q2=null,i1=null,yF={}}const HMe={get loadPromise(){return NT}};function G2(t,e){try{const i=rg(t,e);if(i==null)return null;"xmin"in t&&"xmin"in i&&(i.zmin=t.zmin,i.zmax=t.zmax);const r=Rle(i.type,t.spatialReference,e);return r?.(i),i}catch(i){if(!(i instanceof jle))throw i;return null}}async function Fle(t,e,i){const r=t.spatialReference;return r!=null&&e!=null&&await zU(r,e,null,i),G2(t,e)}function wu(t,e,i){return!(i?.areaOfInterestExtent||i?.extendedParams||i?.geographicTransformation)&&(!!Un(t,e)||ll(t)&&ll(e)&&!!Ple(t,e))}function qMe(t,e){if(Un(t,e))return!0;if(!ll(t)||!ll(e))return!1;const i=Tv(t)||Nd(t)||KY(t),r=Tv(e)||Nd(e)||KY(e);return i&&r}async function zU(t,e,i,r){if(Fp())return aW(r);if(Array.isArray(t)){for(const{source:n,dest:s,options:o}of t)if(n&&s&&!wu(n,s,o))return Zm(r)}else if(t&&e&&!wu(t,e,i))return Zm(r);return aW(r)}function eM(t,e,i){return t?"x"in t?Vle(t,e,new wt,i,0):"xmin"in t?Gle(t,e,new jt,i,0):"rings"in t?qle(t,e,new hr,i,0):"paths"in t?Ble(t,e,new Dr,i,0):"points"in t?Ule(t,e,new Xl,i,0):null:null}function GMe(t,e,i=e.spatialReference,r=0){return i!=null&&t.spatialReference!=null&&Vle(t,t.spatialReference,e,i,r)!=null}function Vle(t,e,i,r,n){io[0]=t.x,io[1]=t.y;const s=t.z;return io[2]=s!==void 0?s:n,tk(io,e,0,io,r,0)?(i.x=io[0],i.y=io[1],i.spatialReference=r,s!==void 0||Ym(r)?(i.z=io[2],i.hasZ=!0):(i.z=void 0,i.hasZ=!1),t.m===void 0?(i.m=void 0,i.hasM=!1):(i.m=t.m,i.hasM=!0),i):null}function WMe(t,e,i=e.spatialReference,r=0){return t.spatialReference!=null&&i!=null&&Ule(t,t.spatialReference,e,i,r)!=null}function Ule(t,e,i,r,n){const{points:s,hasZ:o,hasM:a}=t,l=[],h=s.length,f=[];for(const v of s)f.push(v[0],v[1],o?v[2]:n);if(!tk(f,e,0,f,r,0,h))return null;const g=o||Ym(r);for(let v=0;v<h;++v){const w=3*v,S=f[w],T=f[w+1];g&&a?l.push([S,T,f[w+2],s[v][3]]):g?l.push([S,T,f[w+2]]):a?l.push([S,T,s[v][2]]):l.push([S,T])}return i.points=l,i.spatialReference=r,i.hasZ=o,i.hasM=a,i}function YMe(t,e,i=e.spatialReference,r=0){return t.spatialReference!=null&&i!=null&&Ble(t,t.spatialReference,e,i,r)!=null}function Ble(t,e,i,r,n){const{paths:s,hasZ:o,hasM:a}=t,l=[];if(!Wle(s,o??!1,a??!1,e,l,r,n))return null;const h=o||Ym(r);return i.paths=l,i.spatialReference=r,i.hasZ=h,i.hasM=a,i}function Hle(t,e,i=e.spatialReference,r=0){return t.spatialReference!=null&&i!=null&&qle(t,t.spatialReference,e,i,r)!=null}function qle(t,e,i,r,n){const{rings:s,hasZ:o,hasM:a}=t,l=[];if(!Wle(s,o??!1,a??!1,e,l,r,n))return null;const h=o||Ym(r);return i.rings=l,i.spatialReference=r,i.hasZ=h,i.hasM=a,i}function ZMe(t,e,i=e.spatialReference,r=0){return t.spatialReference!=null&&i!=null&&Gle(t,t.spatialReference,e,i,r)!=null}function Gle(t,e,i,r,n){const{xmin:s,ymin:o,xmax:a,ymax:l,hasZ:h,hasM:f}=t,g=h?t.zmin:n;if(!YZ(s,o,g,e,io,r))return null;const v=h||Ym(r);i.xmin=io[0],i.ymin=io[1],v&&(i.zmin=io[2]);const w=h?t.zmax:n;return YZ(a,l,w,e,io,r)?(i.xmax=io[0],i.ymax=io[1],v&&(i.zmax=io[2]),f&&(i.mmin=t.mmin,i.mmax=t.mmax),i.spatialReference=r,i):null}function Wle(t,e,i,r,n,s,o=0){const a=new Array;for(const f of t)for(const g of f)a.push(g[0],g[1],e?g[2]:o);if(!tk(a,r,0,a,s,0))return!1;let l=0;n.length=0;const h=e||Ym(s);for(const f of t){const g=new Array;for(const v of f)h&&i?g.push([a[l++],a[l++],a[l++],v[3]]):h?g.push([a[l++],a[l++],a[l++]]):i?(g.push([a[l++],a[l++],v[2]]),l++):(g.push([a[l++],a[l++]]),l++);n.push(g)}return!0}const io=ig(),Wnt=Object.freeze(Object.defineProperty({__proto__:null,canProjectWithoutEngine:wu,initializeProjection:zU,isEqualBaseGCS:qMe,isLoaded:Fp,isLoadedOrLoad:Lle,isLoadedOrLoadFor:zle,load:Zm,project:rg,projectExtent:ZMe,projectMany:vF,projectMultipoint:WMe,projectOrLoad:UMe,projectOrLoadMany:Nle,projectPoint:GMe,projectPolygon:Hle,projectPolyline:YMe,projectWithZConversion:Fle,projectWithoutEngine:eM,requiresLoad:FMe,test:HMe,tryProjectWithZConversion:G2,unload:BMe},Symbol.toStringTag,{value:"Module"}));var bF,h_;let Cs=(h_=class extends ge{constructor(e){super(e),this.cols=null,this.level=0,this.levelValue=null,this.origin=null,this.resolution=0,this.rows=null,this.scale=0}clone(){return new bF({cols:this.cols,level:this.level,levelValue:this.levelValue,resolution:this.resolution,rows:this.rows,scale:this.scale})}},bF=h_,h_);u([p({json:{write:!0,origins:{"web-document":{read:!1,write:!1},"portal-item":{read:!1,write:!1}}}})],Cs.prototype,"cols",void 0),u([p({type:Ht,json:{write:!0}})],Cs.prototype,"level",void 0),u([p({type:String,json:{write:!0}})],Cs.prototype,"levelValue",void 0),u([p({json:{write:!0,origins:{"web-document":{read:!1,write:!1},"portal-item":{read:!1,write:!1}}}})],Cs.prototype,"origin",void 0),u([p({type:Number,json:{write:!0}})],Cs.prototype,"resolution",void 0),u([p({json:{write:!0,origins:{"web-document":{read:!1,write:!1},"portal-item":{read:!1,write:!1}}}})],Cs.prototype,"rows",void 0),u([p({type:Number,json:{write:!0}})],Cs.prototype,"scale",void 0),Cs=bF=u([j("esri.layers.support.LOD")],Cs);let JMe=class Yle{constructor(e,i,r,n=ma()){this._level=e,this._row=i,this._col=r,this.extent=n}get id(){return this._id??=`${this.level}/${this.row}/${this.col}`,this._id}get level(){return this._level}set level(e){this._level=e,this._id=null}get row(){return this._row}set row(e){this._row=e,this._id=null}get col(){return this._col}set col(e){this._col=e,this._id=null}toJSON(){return{level:this._level,row:this._row,col:this._col,extent:this.extent}}static fromJSON(e){return new Yle(e.level,e.row,e.col,e.extent)}};var S0;const ZZ=new At({PNG:"png",PNG8:"png8",PNG24:"png24",PNG32:"png32",JPEG:"jpg",JPG:"jpg",DIB:"dib",TIFF:"tiff",EMF:"emf",PS:"ps",PDF:"pdf",GIF:"gif",SVG:"svg",SVGZ:"svgz",Mixed:"mixed",MIXED:"mixed",LERC:"lerc",LERC2D:"lerc2d",RAW:"raw",pbf:"pbf"});var p_;let yo=(p_=class extends ge{static create(e={}){const{resolutionFactor:i=1,scales:r,size:n=256,spatialReference:s=Ke.WebMercator,numLODs:o=24}=e;if(!ll(s)){const v=[];if(r)for(let w=0;w<r.length;w++){const S=r[w];v.push(new Cs({level:w,scale:S,resolution:S}))}else{let w=5e-4;for(let S=o-1;S>=0;S--)v.unshift(new Cs({level:S,scale:w,resolution:w})),w*=2}return new S0({dpi:96,lods:v,origin:new wt(0,0,s),size:[n,n],spatialReference:s})}const a=Ro(s),l=e.origin?new wt({x:e.origin.x,y:e.origin.y,spatialReference:s}):new wt(a?{x:a.origin[0],y:a.origin[1],spatialReference:s}:{x:0,y:0,spatialReference:s}),h=96,f=1/(dc(s)*39.37*h),g=[];if(r)for(let v=0;v<r.length;v++){const w=r[v],S=w*f;g.push(new Cs({level:v,scale:w,resolution:S}))}else{let v=O1(s)?512/n*5916575275917094e-7:256/n*591657527591555e-6;const w=Math.ceil(o/i);g.push(new Cs({level:0,scale:v,resolution:v*f}));for(let S=1;S<w;S++){const T=v/2**i,C=T*f;g.push(new Cs({level:S,scale:T,resolution:C})),v=T}}return new S0({dpi:h,lods:g,origin:l,size:[n,n],spatialReference:s})}constructor(e){super(e),this.dpi=96,this.format=null,this.origin=null,this.size=null,this.spatialReference=null}get isWrappable(){const{spatialReference:e,origin:i}=this;if(e&&i){const r=Ro(e);return e.isWrappable&&!!r&&Math.abs(r.origin[0]-i.x)<=r.dx}return!1}readOrigin(e,i){return wt.fromJSON({spatialReference:i.spatialReference,...e})}set lods(e){let i=0,r=0;const n=[],s=this._levelToLOD={};e&&(i=-1/0,r=1/0,e.forEach(o=>{n.push(o.scale),i=o.scale>i?o.scale:i,r=o.scale<r?o.scale:r,s[o.level]=o})),this._set("scales",n),this._set("lods",e),this._initializeUpsampleLevels()}readSize(e,i){return[i.cols,i.rows]}writeSize(e,i){i.cols=e[0],i.rows=e[1]}zoomToScale(e){const i=this.scales;if(e<=0)return i[0];if(e>=i.length-1)return i[i.length-1];const r=Math.floor(e),n=r+1;return i[r]/(i[r]/i[n])**(e-r)}scaleToZoom(e){const i=this.scales,r=i.length-1;let n=0;for(;n<r;n++){const s=i[n],o=i[n+1];if(s<=e)return n;if(o===e)return n+1;if(s>e&&o<e)return n+Math.log(s/e)/Math.log(s/o)}return n}tileAt(e,i,r,n){const s=this.lodAt(e);if(!s)return null;let o,a;if(typeof i=="number")o=i,a=r;else if(Un(i.spatialReference,this.spatialReference))o=i.x,a=i.y,n=r;else{const f=PD(i,this.spatialReference);if(f==null)return null;o=f.x,a=f.y,n=r}const l=s.resolution*this.size[0],h=s.resolution*this.size[1];return n??=new JMe(0,0,0),n.level=e,n.row=Math.floor((this.origin.y-a)/h+.001),n.col=Math.floor((o-this.origin.x)/l+.001),this.updateTileInfo(n),n}updateTileInfo(e,i=0){if(!("extent"in e))return!1;let r=this.lodAt(e.level);if(!r&&i===1){const a=this.lods[this.lods.length-1];a.level<e.level&&(r=a)}if(!r)return!1;const n=e.level-r.level,s=r.resolution*this.size[0]/2**n,o=r.resolution*this.size[1]/2**n;return e.extent[0]=this.origin.x+e.col*s,e.extent[1]=this.origin.y-(e.row+1)*o,e.extent[2]=e.extent[0]+s,e.extent[3]=e.extent[1]+o,!0}upsampleTile(e){const i=this._upsampleLevels[e.level];return!(!i||i.parentLevel===-1)&&(e.level=i.parentLevel,e.row=Math.floor(e.row/i.factor+.001),e.col=Math.floor(e.col/i.factor+.001),this.updateTileInfo(e),!0)}getTileBounds(e,i){const r=this.lodAt(i.level);if(r==null)return null;const{resolution:n}=r,s=n*this.size[0],o=n*this.size[1];return e[0]=this.origin.x+i.col*s,e[1]=this.origin.y-(i.row+1)*o,e[2]=e[0]+s,e[3]=e[1]+o,e}lodAt(e){return this._levelToLOD?.[e]??null}clone(){return S0.fromJSON(this.write({}))}getCompatibleForVTL(e){if(this.size[0]!==this.size[1]||this.size[0]===256&&e===512)return null;const i=(this.size[0]===512&&e===256?-1:0)+(this.spatialReference.isGeographic?1:0);if(this.size[0]===e&&i===0)return this;const r=[],n=this.lods.length-i;for(let s=0;s<n;s++){const o=s+i,{scale:a,resolution:l}=o>=0?this.lods[o]:{scale:2*this.lods[0].scale,resolution:2*this.lods[0].resolution};r.push(new Cs({level:s,scale:a,resolution:l}))}return new S0({size:[e,e],dpi:this.dpi,format:this.format,compressionQuality:this.compressionQuality,origin:this.origin,spatialReference:this.spatialReference,lods:r})}_initializeUpsampleLevels(){const e=this.lods;this._upsampleLevels=[];let i=null;for(let r=0;r<e.length;r++){const n=e[r];this._upsampleLevels[n.level]={parentLevel:i?i.level:-1,factor:i?i.resolution/n.resolution:0},i=n}}},S0=p_,p_);u([p({type:Number,json:{write:!0}})],yo.prototype,"compressionQuality",void 0),u([p({type:Number,json:{write:!0}})],yo.prototype,"dpi",void 0),u([p({type:String,json:{read:ZZ.read,write:ZZ.write,origins:{"web-scene":{read:!1,write:!1}}}})],yo.prototype,"format",void 0),u([p({readOnly:!0})],yo.prototype,"isWrappable",null),u([p({type:wt,json:{write:!0}})],yo.prototype,"origin",void 0),u([Ae("origin")],yo.prototype,"readOrigin",null),u([p({type:[Cs],value:null,json:{write:!0}})],yo.prototype,"lods",null),u([p({readOnly:!0})],yo.prototype,"scales",void 0),u([p({cast:t=>Array.isArray(t)?t:typeof t=="number"?[t,t]:[256,256]})],yo.prototype,"size",void 0),u([Ae("size",["rows","cols"])],yo.prototype,"readSize",null),u([ze("size",{cols:{type:Ht},rows:{type:Ht}})],yo.prototype,"writeSize",null),u([p({type:Ke,json:{write:!0}})],yo.prototype,"spatialReference",void 0),yo=S0=u([j("esri.layers.support.TileInfo")],yo);let r1=class extends DT{constructor(e){super(e),this.addHandles(this.on("before-add",i=>{i.item!=null&&i.item.parent===this.owner&&(Ee.getLogger(this).warn("Analysis inside the collection must be unique. Not adding this element again."),i.preventDefault())}))}_own(e){e.parent=this.owner}_release(e){e.parent=null}};r1=u([j("esri.support.AnalysesCollection")],r1);const tM={widthBreakpoint:{getValue(t){const e=t.viewSize[0],i=t.breakpoints,r=this.values;return e<=i.xsmall?r.xsmall:e<=i.small?r.small:e<=i.medium?r.medium:e<=i.large?r.large:r.xlarge},values:{xsmall:"xsmall",small:"small",medium:"medium",large:"large",xlarge:"xlarge"},valueToClassName:{xsmall:"esri-view-width-xsmall esri-view-width-less-than-small esri-view-width-less-than-medium esri-view-width-less-than-large esri-view-width-less-than-xlarge",small:"esri-view-width-small esri-view-width-greater-than-xsmall esri-view-width-less-than-medium esri-view-width-less-than-large esri-view-width-less-than-xlarge",medium:"esri-view-width-medium esri-view-width-greater-than-xsmall esri-view-width-greater-than-small esri-view-width-less-than-large esri-view-width-less-than-xlarge",large:"esri-view-width-large esri-view-width-greater-than-xsmall esri-view-width-greater-than-small esri-view-width-greater-than-medium esri-view-width-less-than-xlarge",xlarge:"esri-view-width-xlarge esri-view-width-greater-than-xsmall esri-view-width-greater-than-small esri-view-width-greater-than-medium esri-view-width-greater-than-large"}},heightBreakpoint:{getValue(t){const e=t.viewSize[1],i=t.breakpoints,r=this.values;return e<=i.xsmall?r.xsmall:e<=i.small?r.small:e<=i.medium?r.medium:e<=i.large?r.large:r.xlarge},values:{xsmall:"xsmall",small:"small",medium:"medium",large:"large",xlarge:"xlarge"},valueToClassName:{xsmall:"esri-view-height-xsmall esri-view-height-less-than-small esri-view-height-less-than-medium esri-view-height-less-than-large esri-view-height-less-than-xlarge",small:"esri-view-height-small esri-view-height-greater-than-xsmall esri-view-height-less-than-medium esri-view-height-less-than-large esri-view-height-less-than-xlarge",medium:"esri-view-height-medium esri-view-height-greater-than-xsmall esri-view-height-greater-than-small esri-view-height-less-than-large esri-view-height-less-than-xlarge",large:"esri-view-height-large esri-view-height-greater-than-xsmall esri-view-height-greater-than-small esri-view-height-greater-than-medium esri-view-height-less-than-xlarge",xlarge:"esri-view-height-xlarge esri-view-height-greater-than-xsmall esri-view-height-greater-than-small esri-view-height-greater-than-medium esri-view-height-greater-than-large"}},orientation:{getValue(t){const e=t.viewSize,i=e[0],r=e[1],n=this.values;return r>=i?n.portrait:n.landscape},values:{portrait:"portrait",landscape:"landscape"},valueToClassName:{portrait:"esri-view-orientation-portrait",landscape:"esri-view-orientation-landscape"}}},ZL={xsmall:544,small:768,medium:992,large:1200};function XMe(t){const e=t;return e&&e.xsmall<e.small&&e.small<e.medium&&e.medium<e.large}function JL(t,e){return e?tM[t].valueToClassName[e].split(" "):[]}const KMe=t=>{const e=t;let i=class extends e{constructor(...r){super(...r),this.orientation=null,this.widthBreakpoint=null,this.heightBreakpoint=null,this.breakpoints=ZL}initialize(){this.addHandles(ft(()=>[this.breakpoints,this.size],()=>this._updateClassNames(),Ls))}destroy(){this.destroyed||this._removeActiveClassNames()}set breakpoints(r){if(r!==this._get("breakpoints")){if(!XMe(r)){const n=JSON.stringify(ZL,null,2);console.warn("provided breakpoints are not valid, using defaults:"+n),r=ZL}this._set("breakpoints",{...r})}}_updateClassNames(){if(!this.container)return;const r=Eo.acquire(),n=Eo.acquire();let s,o=!1;for(s in tM){const a=this[s],l=tM[s].getValue({viewSize:this.size,breakpoints:this.breakpoints});a!==l&&(o=!0,this[s]=l,JL(s,a).forEach(h=>n.push(h)),JL(s,l).forEach(h=>r.push(h)))}o&&(this._applyClassNameChanges(r,n),Eo.release(r),Eo.release(n))}_applyClassNameChanges(r,n){const s=this.container;s&&(n.forEach(o=>s.classList.remove(o)),r.forEach(o=>s.classList.add(o)))}_removeActiveClassNames(){const r=this.container;if(!r)return;let n;for(n in tM)JL(n,this[n]).forEach(s=>r.classList.remove(s))}};return u([p()],i.prototype,"breakpoints",null),u([p()],i.prototype,"orientation",void 0),u([p()],i.prototype,"widthBreakpoint",void 0),u([p()],i.prototype,"heightBreakpoint",void 0),i=u([j("esri.views.BreakpointsOwner")],i),i};let ev=class extends at{constructor(){super(...arguments),this.updating=!1,this._handleId=0,this._scheduleHandleId=0,this._pendingPromises=new Set}destroy(){this.removeAll()}add(e,i,r={}){return this._installWatch(e,i,r,ft)}addWhen(e,i,r={}){return this._installWatch(e,i,r,wa)}addOnCollectionChange(e,i,{initial:r=!1,final:n=!1}={}){const s=++this._handleId;return this.addHandles([qm(e,"after-changes",this._createSyncUpdatingCallback(),zd),qm(e,"change",i,{onListenerAdd:r?o=>i({added:o.toArray(),removed:[]}):void 0,onListenerRemove:n?o=>i({added:[],removed:o.toArray()}):void 0})],s),oi(()=>this.removeHandles(s))}addPromise(e){if(e==null)return e;const i=++this._handleId;this.addHandles(oi(()=>{this._pendingPromises.delete(e)&&(this._pendingPromises.size!==0||this.hasHandles(cI)||this._set("updating",!1))}),i),this._pendingPromises.add(e),this._set("updating",!0);const r=()=>this.removeHandles(i);return e.then(r,r),e}removeAll(){this._pendingPromises.clear(),this.removeAllHandles(),this._set("updating",!1)}_installWatch(e,i,r={},n){const s=++this._handleId;r.sync||this._installSyncUpdatingWatch(e,s);const o=n(e,i,r);return this.addHandles(o,s),oi(()=>this.removeHandles(s))}_installSyncUpdatingWatch(e,i){const r=this._createSyncUpdatingCallback(),n=ft(e,r,{sync:!0,equals:()=>!1});return this.addHandles(n,i),n}_createSyncUpdatingCallback(){return()=>{this.removeHandles(cI),++this._scheduleHandleId;const e=this._scheduleHandleId;this._get("updating")||this._set("updating",!0),this.addHandles(_1(()=>{e===this._scheduleHandleId&&(this._set("updating",this._pendingPromises.size>0),this.removeHandles(cI))}),cI)}}};u([p({readOnly:!0})],ev.prototype,"updating",void 0),ev=u([j("esri.core.support.UpdatingHandles")],ev);const cI=-42;let Ff=class extends at{constructor(){super(...arguments),this.items=new We,this._watchUpdatingTracking=new ev,this._callbacks=new Map,this._projector=TY(),this._hiddenProjector=TY()}get needsRender(){return this.items.length>0}get updating(){return this._watchUpdatingTracking?.updating??!1}initialize(){const e=document.createElement("div");e.className="esri-overlay-surface",this._set("surface",e),this._hiddenSurface=document.createElement("div"),this._hiddenSurface.setAttribute("style","visibility: hidden;"),e.appendChild(this._hiddenSurface),this._watchUpdatingTracking.addOnCollectionChange(()=>this.items,i=>{for(const r of i.added){const n=()=>r.render();this._callbacks.set(r,n),this._projector.append(this.surface,n)}for(const r of i.removed){const n=this._projector.detach(this._callbacks.get(r));this.surface.removeChild(n.domNode),this._callbacks.delete(r)}})}addItem(e){this.items.add(e)}removeItem(e){this.items.remove(e)}destroy(){this.items.removeAll(),this._callbacks.forEach(e=>this._projector.detach(e)),this._callbacks=null,this._projector=null,this._watchUpdatingTracking.destroy()}render(){this._projector.renderNow()}computeBoundingRect(e){const i=this._hiddenSurface,r=this._hiddenProjector;let n;const s=()=>(n=e.render(),n);r.append(i,s),r.renderNow();const o={left:0,top:0,right:0,bottom:0};if(n?.domNode){const a=n.domNode.getBoundingClientRect();o.left=a.left,o.top=a.top,o.right=a.right,o.bottom=a.bottom}for(r.detach(s);i.firstChild;)i.removeChild(i.firstChild);return o}overlaps(e,i){const r=this.computeBoundingRect(e),n=this.computeBoundingRect(i);return Math.max(r.left,n.left)<=Math.min(r.right,n.right)&&Math.max(r.top,n.top)<=Math.min(r.bottom,n.bottom)}get hasVisibleItems(){return this.items.some(e=>e.visible)}async prepare(){await document.fonts.load(this._fontString()).catch(()=>{})}renderCanvas(e,i){const r=!!i?.disableDecorations;if(!this.items.some(s=>s.visible&&!(r&&s.isDecoration)))return;const n=e.getContext("2d");n.save(),n.font=this._fontString(),this.items.forEach(s=>{r&&s.isDecoration||(n.save(),s.renderCanvas(n),n.restore())}),n.restore()}_fontString(){return`10px ${getComputedStyle(this.surface).fontFamily}`}};u([p({readOnly:!0})],Ff.prototype,"surface",void 0),u([p({readOnly:!0})],Ff.prototype,"items",void 0),u([p({readOnly:!0})],Ff.prototype,"needsRender",null),u([p({readOnly:!0})],Ff.prototype,"_watchUpdatingTracking",void 0),u([p({readOnly:!0})],Ff.prototype,"updating",null),Ff=u([j("esri.views.overlay.ViewOverlay")],Ff);const JZ=Ff,XL=[0,0];function QMe(t){const e=(t.ownerDocument||window.document).defaultView,i=t.getBoundingClientRect();return XL[0]=i.left+(e?.pageXOffset??0),XL[1]=i.top+(e?.pageYOffset??0),XL}function XZ(t){t&&(t.textContent="",t.parentNode&&t.parentNode.removeChild(t))}function eAe(t){const e=document.createElement("div");return t.appendChild(e),e}const Yb=16,tS=750,tAe=512,iAe=2,rAe=t=>{const e=t;let i=class extends e{constructor(...r){super(...r),this._freqInfo={freq:Yb,time:tS},this._overlayRenderTaskHandle=null,this.aria={},this.height=0,this.messagesCommon=null,this.overlay=null,this.position=null,this.resizing=!1,this.root=null,this.surface=null,this.suspended=!0,this.userContent=null,this.width=0,this.widthBreakpoint=null,this.addHandles([ft(()=>this.cursor,n=>{const{surface:s}=this;s&&s.setAttribute("data-cursor",n)}),ft(()=>this.navigating,n=>{const{surface:s}=this;s&&s.setAttribute("data-navigating",n.toString())}),ft(()=>[this.aria,this.surface],()=>this._updateAria(),{initial:!0})])}initialize(){const r=this;this.addHandles([ft(()=>this.ui,(n,s)=>this._handleUIChange(n,s),Ls),r.on("focus",()=>this.notifyChange("focused")),r.on("blur",()=>this.notifyChange("focused"))])}destroy(){this.destroyed||(this.ui?.destroy(),this.container=null)}get container(){return this._get("container")??null}set container(r){const n=this._get("container"),s=U9(r);if(s||typeof r!="string"||Ee.getLogger(this).error("#container",`element with id '${r}' not found`),n===s)return;if(this._stopMeasuring(),n&&(n.classList.remove("esri-view"),this._overlayRenderTaskHandle&&(this._overlayRenderTaskHandle.remove(),this._overlayRenderTaskHandle=null),this.overlay&&(this.overlay.destroy(),this._set("overlay",null)),this.root&&(XZ(this.root),this._set("root",null)),this.userContent&&(mY(this.userContent,n),XZ(this.userContent),this._set("userContent",null))),!s)return this._set("width",0),this._set("height",0),this._set("position",null),this._set("suspended",!0),this._set("surface",null),void this._set("container",null);s.classList.add("esri-view");const o=document.createElement("div");o.className="esri-view-user-storage",mY(s,o),s.appendChild(o),this._set("userContent",o);const a=document.createElement("div");a.className="esri-view-root",s.insertBefore(a,s.firstChild),this._set("root",a);const l=document.createElement("div");l.className="esri-view-surface",l.setAttribute("role","application"),l.tabIndex=0,a.appendChild(l),this._set("surface",l);const h=new JZ;a.appendChild(h.surface),this._set("overlay",h),this.addHandles(ft(()=>h.needsRender,f=>{f&&!this._overlayRenderTaskHandle?this._overlayRenderTaskHandle=j_({render:()=>this.overlay?.render()}):this._overlayRenderTaskHandle=rr(this._overlayRenderTaskHandle)})),this.forceDOMReadyCycle(),this._set("container",s),this._startMeasuring()}get focused(){const r=document.activeElement===this.surface;return document.hasFocus()&&r}get size(){return[this.width,this.height]}set ui(r){const n=this._get("ui");n!==r&&n?.destroy(),this._set("ui",r)}blur(){this.surface?.blur()}focus(){this.surface?.focus()}pageToContainer(r,n,s){const o=this.position;return r-=o?o[0]:0,n-=o?o[1]:0,s?(s[0]=r,s[1]=n):s=[r,n],s}containerToPage(r,n,s){const o=this.position;return r+=o?o[0]:0,n+=o?o[1]:0,s?(s[0]=r,s[1]=n):s=[r,n],s}_updateAria(){const{surface:r,aria:n}=this;r&&(r.ariaLabelledByElements=n?.labelledByElements??null,r.ariaDescribedByElements=n?.describedByElements??null,r.ariaLabel=n?.label??null,r.ariaDescription=n?.description??null)}_handleUIChange(r,n){this.removeHandles("ui"),n&&n!==r&&n.destroy(),r&&(r.view=this,this.addHandles(ft(()=>this.root,s=>{r.container=s?eAe(s):null},Ls),"ui")),this._set("ui",r)}_stopMeasuring(){this.removeHandles("measuring"),this._get("resizing")&&this._set("resizing",!1)}_startMeasuring(){const r=this._freqInfo;r.freq=Yb,r.time=tS;const n=j_({prepare:a=>{const l=this._measure(),h=this._freqInfo;if(h.time+=a.deltaTime,l&&(h.freq=Yb,this._get("resizing")||this._set("resizing",!0)),h.time<h.freq)return;h.time=0;const f=this._position();h.freq=f||l?Yb:Math.min(tS,h.freq*iAe),!l&&h.freq>=tAe&&(n.pause(),this._get("resizing")&&this._set("resizing",!1))}}),s=new ResizeObserver(a=>{r.freq=Yb,r.time=tS,n.resume()});this.container!=null&&s.observe(this.container);const o=oi(()=>s.disconnect());this.addHandles([Sp(window,"resize",()=>{r.freq=Yb,r.time=tS,n.resume()}),o,n],"measuring"),this._measure(),this._position()}_measure(){const r=this.container,n=r?r.clientWidth:0,s=r?r.clientHeight:0;if(n===0||s===0)return this.suspended||this._set("suspended",!0),!1;const o=this.width,a=this.height;return n===o&&s===a?(this.suspended&&this._set("suspended",!1),!1):(this._set("width",n),this._set("height",s),this.suspended&&this._set("suspended",!1),this.emit("resize",{oldWidth:o,oldHeight:a,width:n,height:s}),!0)}_position(){const r=this.container,n=this.position,s=r&&QMe(r);return!!s&&(!n||s[0]!==n[0]||s[1]!==n[1])&&(this._set("position",[s[0],s[1]]),!0)}forceDOMReadyCycle(){}};return u([p()],i.prototype,"aria",void 0),u([p()],i.prototype,"container",null),u([p({readOnly:!0})],i.prototype,"focused",null),u([p({readOnly:!0})],i.prototype,"height",void 0),u([p()],i.prototype,"messagesCommon",void 0),u([p({type:JZ})],i.prototype,"overlay",void 0),u([p({readOnly:!0})],i.prototype,"position",void 0),u([p({readOnly:!0})],i.prototype,"resizing",void 0),u([p({readOnly:!0})],i.prototype,"root",void 0),u([p({value:null,readOnly:!0})],i.prototype,"size",null),u([p({readOnly:!0})],i.prototype,"surface",void 0),u([p({readOnly:!0})],i.prototype,"suspended",void 0),u([p({nonNullable:!0})],i.prototype,"ui",null),u([p({readOnly:!0})],i.prototype,"userContent",void 0),u([p({readOnly:!0})],i.prototype,"width",void 0),u([p()],i.prototype,"widthBreakpoint",void 0),i=u([j("esri.views.DOMContainer")],i),i};function Xnt(t,e,i){return a9(t.map((r,n)=>e.apply(i,[r,n])))}async function nAe(t,e,i){return(await a9(t.map((r,n)=>e.apply(i,[r,n])))).map(r=>r.value)}function NU(t){return{ok:!0,value:t}}function jU(t){return{ok:!1,error:t}}function sAe(t){return t!=null&&t.ok===!0?t.value:null}function oAe(t){return t!=null&&t.ok===!1?t.error:null}async function qD(t){if(t==null)return{ok:!1,error:new Error("no promise provided")};try{return NU(await t)}catch(e){return jU(e)}}async function aAe(t){try{return NU(await t)}catch(e){return md(e),jU(e)}}function ik(t,e){return new Vf(t,e)}let Vf=class extends at{get value(){return sAe(this._result)}get error(){return oAe(this._result)}get finished(){return this._result!=null}constructor(e,i){super({}),this._result=null,this._abortHandle=null,this.abort=()=>{this._abortController=fv(this._abortController)},this.remove=this.abort,this._abortController=new AbortController;const{signal:r}=this._abortController;this.promise=e(r),this.promise.then(n=>{this._result=NU(n),this._cleanup()},n=>{this._result=jU(n),this._cleanup()}),this._abortHandle=Ds(i,this.abort)}normalizeCtorArgs(){return{}}destroy(){this.abort()}_cleanup(){this._abortHandle=rr(this._abortHandle),this._abortController=null}};u([p()],Vf.prototype,"value",null),u([p()],Vf.prototype,"error",null),u([p()],Vf.prototype,"finished",null),u([p()],Vf.prototype,"promise",void 0),u([p()],Vf.prototype,"_result",void 0),Vf=u([j("esri.core.asyncUtils.ReactiveTask")],Vf);const uI="popup",KZ="manual";function $d(t){return t!=null&&"open"in t&&"declaredClass"in t}function Pp(t){return!!t&&t.tagName.toLowerCase()==="arcgis-popup"&&"open"in t}function lAe(t,e,i){const[r,n,s]=e;if(i){const[o,a,l]=i;o&&$d(a)&&(a.view=null,o.remove(a,uI),a!==n&&n&&a.destroy()),o&&l&&Pp(l)&&(l.view=null,o.remove(l,uI),l!==s&&s&&l.remove())}r&&$d(n)&&(n.view=t,r.add(n,{key:uI,position:KZ,internal:!0})),r&&s&&Pp(s)&&(s.view=t,r.add(s,{key:uI,position:KZ,internal:!0}))}async function cAe(t,e){const{popup:i,popupElement:r}=t;$d(i)?await dI(i,null,e):r&&Pp(r)?await dI(null,r,e):e?.defer(async()=>{await t.setupPopup();const{popup:n,popupElement:s}=t;$d(n)&&!t.destroyed&&t.ready&&t.popupEnabled?await dI(n,null,e):s&&Pp(s)&&await dI(null,s,e)})}function uAe(t,e){const{popup:i,popupElement:r}=t;if($d(i))return i.open(e);r&&Pp(r)&&r.open(e)}function dAe(t,e){$d(t)&&t.close(),e&&Pp(e)&&(e.visible=!1)}async function dI(t,e,i){if($d(t)){const r=await t.viewModel.handleViewClick(i);return void(r?.promises?.length?t.open(r):t.visible&&t.close())}if(e&&Pp(e)){const r=await e.handleViewClick(i);r?.promises?.length?e.open(r):e.visible&&(e.visible=!1)}}const hAe=/^-?(\d+(\.\d+)?)\s*((px)|(pt))?$/i,pAe="screenUtils.toPt: input not recognized!",Zle=96;function fAe(t){return t?t/72*Zle:0}function uc(t){return t?72*t/Zle:0}function ci(t){if(typeof t=="string"){const e=t.match(hAe);if(e){const i=Number(e[1]),r=e[3]&&e[3].toLowerCase(),n=t.startsWith("-"),s=r==="px"?uc(i):i;return n?-s:s}return console.warn(pAe),null}return t}function Fn(t=0,e=0){return{x:t,y:e}}function Qnt(t){return t?Fn(t.x,t.y):null}function est(t=0,e=0){return[t,e]}function tst(t=0,e=0,i=0){return[t,e,i]}function ist(t){return t}function rst(t){return t}function nst(t){return t}function sst(t,e){return e?(e[0]=t.x,e[1]=t.y,e.length>2&&(e[2]=0),e):[t.x,t.y]}const Jle=he("mac")?"Meta":"Control",mAe=new Set(["Alt","Control","Meta","Shift","Ctrl","Primary"]),gAe=t=>mAe.has(t);let yAe=class{constructor(e,i=[]){this.eventType=e,this.keyModifiers=i}matches(e){if(e.type!==this.eventType)return!1;if(this.keyModifiers.length===0)return!0;const i=e.modifiers;for(const r of this.keyModifiers)if(!i.has(r))return!1;return!0}},Bn=class{constructor(e){this._manager=null,this._incoming={},this._outgoing={},this._incomingEventMatches=null,this._incomingEventTypes=null,this._outgoingEventTypes=null,this._hasSideEffects=e}get incomingEventMatches(){if(!this._incomingEventMatches){this._incomingEventMatches=[];for(const e in this._incoming){const i=this._incoming[e];for(const r of i)this._incomingEventMatches.push(r.match)}}return this._incomingEventMatches}get incomingEventTypes(){return this._incomingEventTypes||(this._incomingEventTypes=this.incomingEventMatches.map(e=>e.eventType)),this._incomingEventTypes}get outgoingEventTypes(){return this._outgoingEventTypes||(this._outgoingEventTypes=Object.keys(this._outgoing)),this._outgoingEventTypes}get hasSideEffects(){return this._hasSideEffects}get hasPendingInputs(){return!1}onInstall(e){this._manager||(e.setEventCallback(i=>this._handleEvent(i)),e.setUninstallCallback(()=>this._onUninstall()),this._manager=e)}onUninstall(){}registerIncoming(e,i,r){let n;typeof i=="function"?(r=i,n=[]):n=i||[];const s=typeof e=="string"?new yAe(e,n):e,o=()=>{this._incomingEventTypes=null,this._incomingEventMatches=null},a=f=>{const g=this._incoming[f.match.eventType];if(g){const v=g.indexOf(f);g.splice(v,1),o(),this._manager&&this._manager.updateDependencies()}},l=new vAe(s,r,{onPause:a,onRemove:a,onResume:f=>{const g=this._incoming[f.match.eventType];g&&!g.includes(f)&&(g.push(f),o(),this._manager&&this._manager.updateDependencies())}});let h=this._incoming[s.eventType];return h||(h=[],this._incoming[s.eventType]=h),h.push(l),o(),this._manager&&this._manager.updateDependencies(),l}registerOutgoing(e){if(this._outgoing[e])throw new Error("There is already a callback registered for this outgoing InputEvent: "+e);const i=new bAe(e,{onEmit:(r,n,s,o)=>{this._manager?.emit(r.eventType,n,s,o)},onRemove:r=>{delete this._outgoing[r.eventType],this._manager?.updateDependencies()}});return this._outgoing[e]=i,this._outgoingEventTypes=null,this._manager&&this._manager.updateDependencies(),i}startCapturingPointer(e){this._manager?.setPointerCapture(e,!0)}stopCapturingPointer(e){this._manager?.setPointerCapture(e,!1)}refreshHasPendingInputs(){this._manager?.refreshHasPendingInputs()}_onUninstall(){this._manager&&(this.onUninstall(),this._manager=null)}_handleEvent(e){const i=this._incoming[e.type];if(i){for(const r of i)if(r.match.matches(e)&&(r.callback?.(e),e.shouldStopPropagation()))break}}},vAe=class{constructor(e,i,r){this.match=e,this._callback=i,this._handler=r}pause(){this._handler.onPause(this)}resume(){this._handler.onResume(this)}remove(){this._handler.onRemove(this)}get callback(){return this._callback}},bAe=class{constructor(e,i){this.eventType=e,this._removed=!1,this._handler=i}emit(e,i,r){this._removed||this._handler.onEmit(this,e,i,r)}remove(){this._removed=!0,this._handler.onRemove(this)}},wAe=class extends Bn{constructor(e){super(!0),this._onChange=e,this._value="mouse",this._x=null,this._y=null,this._id=null,this.registerIncoming("pointer-move",i=>this._update(i.data))}_update(e){const i=e.native.pointerType==="touch"?"touch":"mouse",{x:r,y:n,native:{pointerId:s}}=e;i===this._value&&this._x===r&&this._y===n&&this._id===s||(this._value=i,this._x=r,this._y=n,this._id=s,this._onChange(s,i,r,n))}},_Ae=class extends Bn{get multiTouchActive(){return this._multiTouchActive.value}constructor(){super(!0),this._activeTouchPointerIds=new Set,this._multiTouchActive=J_(!1),this._onPointerAdd=({data:e})=>{e.pointerType==="touch"&&(this._activeTouchPointerIds.add(e.native.pointerId),this._update())},this._onPointerRemove=({data:e})=>{e.pointerType==="touch"&&(this._activeTouchPointerIds.delete(e.native.pointerId),this._update())},this.registerIncoming("pointer-down",this._onPointerAdd),this.registerIncoming("pointer-up",this._onPointerRemove),this.registerIncoming("pointer-capture-lost",this._onPointerRemove),this.registerIncoming("pointer-cancel",this._onPointerRemove)}_update(){this._multiTouchActive.value=this._activeTouchPointerIds.size>1}},xAe=class{constructor(e,i){this._owner=i,this._properties={},this._afterDispatchHandle=null;for(const r in e){const n=e[r],s=new Cie(n,void 0,void 0,2,2);this._properties[r]={pool:s,acquired:[]}}this._afterDispatchHandle=Xbe(()=>this._release())}destroy(){this._afterDispatchHandle&&(this._afterDispatchHandle.remove(),this._afterDispatchHandle=null);for(const e in this._properties){const i=this._properties[e];for(const r of i.acquired)uW(r)||i.pool.release(r);i.pool.destroy(),i.pool=null,i.acquired=null}this._properties=null,this._owner=null}get(e){const i=this._owner._get(e),r=this._properties[e];let n=r.pool.acquire();for(r.acquired.push(n);n===i;)n=r.pool.acquire(),r.acquired.push(n);return qie(),n}_release(){for(const e in this._properties){const i=this._properties[e];let r=0;for(const n of i.acquired)uW(n)?i.acquired[r++]=n:i.pool.release(n);i.acquired.length=r}}},SAe=class{constructor(){this.id=0,this.type="mouse",this.location=Fn()}},Hc=class extends at{constructor(e){super(e),this._pointerCaptures=new Map,this._nameToGroup={},this._handlers=[],this._handlersPriority=[],this._currentPropagation=null,this._updateDependenciesAfterPropagation=!1,this._sourceEvents=new Set,this._keyModifiers=new Set,this._activeKeyModifiers=new Set,this._stoppedPropagationEventIds=new Set,this.primaryKey=Jle,this._propertiesPool=new xAe({latestPointerInfo:()=>new SAe},this),this._latestPointerInfo=void 0,this._paused=!1,this._testTimestamp=void 0}initialize(){this.eventSource.onEventReceived=this._onEventReceived.bind(this),this._installRecognizers()}destroy(){const e=Object.keys(this._nameToGroup);for(const i of e)this.uninstallHandlers(i);this.eventSource.destroy(),this._currentPropagation=null,this._propertiesPool.destroy()}get hasPendingInputs(){return this._handlers.some(e=>e.handler.hasPendingInputs)}get multiTouchActive(){return this._multiTouchHandler.multiTouchActive}get latestPointerInfo(){return this._latestPointerInfo}get updating(){return this.hasPendingInputs||this._paused}installHandlers(e,i,r=Ep.INTERNAL){if(this._nameToGroup[e]||i.length===0)return;const n={name:e,handlers:i.map(s=>({handler:s,active:!0,removed:!1,priorityIndex:0,groupPriority:r,eventCallback:null,uninstallCallback:null}))};this._nameToGroup[e]=n;for(let s=n.handlers.length-1;s>=0;s--){const o=n.handlers[s];this._handlers.push(o),o.handler.onInstall({updateDependencies:()=>{this.updateDependencies()},emit:(a,l,h,f,g)=>{this._emitInputEvent(o.priorityIndex+1,a,l,h,g,f)},setPointerCapture:(a,l)=>{this._setPointerCapture(n,o,a,l)},setEventCallback:a=>{o.eventCallback=a},setUninstallCallback:a=>{o.uninstallCallback=a},refreshHasPendingInputs:()=>{this.notifyChange("hasPendingInputs")}})}this.updateDependencies()}uninstallHandlers(e){const i=this._nameToGroup[e];i?(i.handlers.forEach(r=>{r.removed=!0,r.uninstallCallback?.()}),delete this._nameToGroup[e],this._currentPropagation?this._currentPropagation.needsHandlerGarbageCollect=!0:this._garbageCollectRemovedHandlers()):Ee.getLogger(this).error("There is no InputHandler group registered under the name `"+e+"`")}hasHandlers(e){return this._nameToGroup[e]!==void 0}isModifierKeyDown(e){return this._activeKeyModifiers.has(e)}updateDependencies(){if(this._currentPropagation)return void(this._updateDependenciesAfterPropagation=!0);this._updateDependenciesAfterPropagation=!1;const e=new Set,i=new Set;this._handlersPriority=[];for(let r=this._handlers.length-1;r>=0;r--){const n=this._handlers[r];n.priorityIndex=r,this._handlersPriority.push(n)}this._handlersPriority=this._sortHandlersPriority(this._handlersPriority);for(let r=this._handlersPriority.length-1;r>=0;r--){const n=this._handlersPriority[r];n.priorityIndex=r;let s=n.handler.hasSideEffects;if(!s){for(const o of n.handler.outgoingEventTypes)if(e.has(o)){s=!0;break}}if(s)for(const o of n.handler.incomingEventMatches){e.add(o.eventType);for(const a of o.keyModifiers)gAe(a)||i.add(a)}n.active=s}this._sourceEvents=e,this._keyModifiers=i,this._pointerCaptures.size>0&&this._sourceEvents.add("pointer-capture-lost"),this._keyModifiers.size>0&&(this._sourceEvents.add("key-down"),this._sourceEvents.add("key-up")),this.eventSource&&(this.eventSource.activeEvents=this._sourceEvents)}_setLatestPointer(e,i,r,n){const s=this._latestPointerInfo;if(s==null||s.id!==e||s.type!==i||s.location.x!==r||s.location.y!==n){const o=this._propertiesPool.get("latestPointerInfo");o.id=e,o.type=i,o.location.x=r,o.location.y=n,this._latestPointerInfo=o}}_onEventReceived(e,i){if(e==="pointer-capture-lost"){const s=i;this._pointerCaptures.delete(s.native.pointerId)}this._updateKeyModifiers(e,i);const r=this._testTimestamp??i.native?.timestamp,n=i.native?.cancelable;this._emitInputEventFromSource(e,i,r,n)}_updateKeyModifiers(e,i){if(!i)return;let r=!1;const n=()=>{r||(this._activeKeyModifiers=new Set(this._activeKeyModifiers),r=!0)},s=(a,l)=>{l&&!this._activeKeyModifiers.has(a)?(n(),this._activeKeyModifiers.add(a)):!l&&this._activeKeyModifiers.has(a)&&(n(),this._activeKeyModifiers.delete(a))};if(e==="key-down"||e==="key-up"){const a=i.key;this._keyModifiers.has(a)&&s(a,e==="key-down")}const o=i.native;s("Alt",!!o?.altKey),s("Control",!!o?.ctrlKey),s("Ctrl",!!o?.ctrlKey),s("Shift",!!o?.shiftKey),s("Meta",!!o?.metaKey),s("Primary",this._activeKeyModifiers.has(this.primaryKey))}_installRecognizers(){this._latestPointerHandler=new wAe((e,i,r,n)=>this._setLatestPointer(e,i,r,n)),this._multiTouchHandler=new _Ae,this.installHandlers("input-manager-logic",[this._latestPointerHandler,this._multiTouchHandler],Ep.ALWAYS),this.recognizers.length>0&&this.installHandlers("default",this.recognizers,Ep.INTERNAL)}_setPointerCapture(e,i,r,n){const s=e.name+"-"+i.priorityIndex,o=this._pointerCaptures.get(r.pointerId)||new Set;this._pointerCaptures.set(r.pointerId,o),n?(o.add(s),o.size===1&&this.eventSource&&this.eventSource.setPointerCapture(r,!0)):o.has(s)&&(o.delete(s),o.size===0&&(this._pointerCaptures.delete(r.pointerId),this.eventSource&&this.eventSource.setPointerCapture(r,!1)))}_garbageCollectRemovedHandlers(){this._handlers=this._handlers.filter(e=>!e.removed),this.updateDependencies()}_emitInputEventFromSource(e,i,r,n){this._emitInputEvent(0,e,i,r,n)}_emitInputEvent(e,i,r,n,s,o){const a=n??this._currentPropagation?.timestamp??performance.now(),l=s??!1,h={event:new TAe(i,r,a,o||this._activeKeyModifiers,l),priorityIndex:e};this._currentPropagation?this._currentPropagation.events.push(h):this._doNewPropagation(h)}_doNewPropagation(e){this._currentPropagation={events:new U2,currentHandler:null,needsHandlerGarbageCollect:!1,timestamp:e.event.timestamp},this._currentPropagation.events.push(e),this._continuePropagation()}_continuePropagation(){this._paused=!1;const e=this._currentPropagation;if(e){for(;e.events.length>0;){const{event:i,priorityIndex:r}=e.events.pop(),n=i.data?.eventId;if(!(n!=null&&this._stoppedPropagationEventIds.has(n)))for(e.currentHandler=this._handlersPriority[r];e.currentHandler;){if(e.currentHandler.removed)e.needsHandlerGarbageCollect=!0;else{if(e.currentHandler.active&&!i.shouldStopPropagation()&&e.currentHandler.eventCallback?.(i),i.shouldStopPropagation()){n!=null&&this._stoppedPropagationEventIds.add(n);break}if(i.shouldPausePropagation(()=>this._continuePropagation()))return void this._pausePropagation({event:i,priorityIndex:e.currentHandler.priorityIndex+1})}e.currentHandler=this._handlersPriority[e.currentHandler.priorityIndex+1]}}e.needsHandlerGarbageCollect&&this._garbageCollectRemovedHandlers(),this.hasPendingInputs||this._stoppedPropagationEventIds.clear(),this._currentPropagation=null,this._updateDependenciesAfterPropagation&&this.updateDependencies()}}_pausePropagation(e){const i=new U2;i.push(e);const r=this._currentPropagation;if(r){for(;r.events.length;)i.push(r.events.pop());r.events=i,r.currentHandler=null,this._paused=!0}}_compareHandlerPriority(e,i){if(e.handler.hasSideEffects!==i.handler.hasSideEffects)return e.handler.hasSideEffects?1:-1;if(e.groupPriority!==i.groupPriority)return e.groupPriority>i.groupPriority?-1:1;for(const r of e.handler.incomingEventMatches)for(const n of i.handler.incomingEventMatches){if(r.eventType!==n.eventType)continue;const s=r.keyModifiers.filter(o=>n.keyModifiers.includes(o));if(s.length===r.keyModifiers.length!=(s.length===n.keyModifiers.length))return r.keyModifiers.length>n.keyModifiers.length?-1:1}return e.priorityIndex>i.priorityIndex?-1:1}_sortHandlersPriority(e){const i=[];for(const r of e){let n=0;for(;n<i.length&&this._compareHandlerPriority(r,i[n])>=0;)n++;i.splice(n,0,r)}return i}get test(){}};u([p({readOnly:!0})],Hc.prototype,"hasPendingInputs",null),u([p({constructOnly:!0})],Hc.prototype,"eventSource",void 0),u([p({constructOnly:!0})],Hc.prototype,"recognizers",void 0),u([p()],Hc.prototype,"multiTouchActive",null),u([p()],Hc.prototype,"_latestPointerInfo",void 0),u([p()],Hc.prototype,"latestPointerInfo",null),u([p()],Hc.prototype,"_paused",void 0),u([p({readOnly:!0})],Hc.prototype,"updating",null),Hc=u([j("esri.views.input.InputManager")],Hc);let TAe=class{constructor(e,i,r,n,s){this.type=e,this.data=i,this.timestamp=r,this.modifiers=n,this.cancelable=s,this._propagationState=0,this._resumeCallback=null}stopPropagation(){this._propagationState|=1}shouldStopPropagation(){return!!(1&this._propagationState)}defer(e){this._propagationState|=2;const i=(r,n)=>{this._propagationState&=-3;const s=this._resumeCallback;if(this._resumeCallback=null,s&&s(),n)throw r;return r};return(typeof e=="function"?e():e).then(r=>i(r,!1),r=>i(r,!0))}shouldPausePropagation(e){return!!(2&this._propagationState)&&(this._resumeCallback=e,!0)}preventDefault(){this.data.native.preventDefault()}};const Ep={ALWAYS:1,DEFAULT:0,TOOL:-1,WIDGET:-2,INTERNAL:-3},$Ae=t=>{const e=t;let i=class extends e{constructor(){super(...arguments),this._popupSetupTask=null,this.popup={},this.popupEnabled=!0}initialize(){this.addHandles([ft(()=>[this.ui,this.popup,this.popupElement],([r,n,s],o)=>{const[a,l,h]=o??[];lAe(this,[r,n,s],[a,l,h])},to),this.on("click",r=>{this.popup&&this.popupEnabled&&(r.pointerType!=="mouse"||r.button===0)&&cAe(this,r)},Ep.WIDGET)]),_D(()=>this.ready&&this.popupEnabled&&!this.updating).then(()=>ke(()=>import("./Popup-C9LaNooX.js").then(r=>r.P),__vite__mapDeps([158,159,160,161,162,163,9,164,165,166,60,58,59,4,18,21,167,168,169,76,170,171,172])))}destroy(){this.destroyed||this.closePopup()}async openPopup(r){if($d(this.popup))return this.popup.open(r);if(this.popupElement&&Pp(this.popupElement))this.popupElement.open(r).catch(()=>{});else try{if(await this.setupPopup(),!this.popup)return void Ee.getLogger(this).error(new ee("view:null-popup","Popup is null and can't be opened"));uAe(this,r)}catch{}}closePopup(){this._popupSetupTask?.abort(),dAe(this.popup,this.popupElement)}async fetchPopupFeatures(r,n){return await this.when(),this._popupHitsToFeatures(await this._getPopupHits(r,n),n)}async setupPopup(){if(this._popupSetupTask?.abort(),this.popup&&!$d(this.popup))return this._popupSetupTask=ik(async r=>{if(!this.popupEnabled||!Pp(this.popupElement))if(this.dependencies.popup&&typeof this.dependencies.popup=="function")await this.dependencies.popup(),nr(r),customElements.get("arcgis-popup")||Ee.getLogger(this).error(new ee("view:undefined-popup-element","`arcgis-popup` custom element is undefined and can't be opened")),this.popupElement=document.createElement("arcgis-popup");else{const{default:n}=await ke(()=>import("./Popup-C9LaNooX.js").then(o=>o.P),__vite__mapDeps([158,159,160,161,162,163,9,164,165,166,60,58,59,4,18,21,167,168,169,76,170,171,172]));if(nr(r),!this.popup||$d(this.popup))return;const s=this.popup;if("open"in s||"close"in s){const{open:o,close:a,...l}=s;this.popup=new n({...l})}else this.popup=new n(s)}}),this._popupSetupTask.promise}async _popupHitsToFeatures({location:r,hits:n},s){const o=[],a=[];let l=!1;const h=Ibe(s,he("popup-view-fetch-timeout")??EAe),f=w=>{const S=new kAe(w);return a.push(S),o.push(S.promise),S},g=w=>{const S=a.at(-1);return S&&S.layerView===w&&!l?S:f(w)};for(const w of n)"graphic"in w?(g(w.layerView).graphics.push(w.graphic),l=!1):(o.push(w.layerView.fetchPopupFeaturesAtLocation(w.mapPoint,h)),l=!0);a.forEach(w=>w.resolve(h));const v=Ebe(o).then(w=>w.filter(S=>!!S).flat());return{pendingFeatures:o,allGraphicsPromise:v,location:r}}async _getPopupHits(r,n){const{hits:s,location:o}=await this.popupHitTest(r);nr(n);const a=[];for(const l of s)if("graphic"in l){if(this._isValidPopupGraphic(l.graphic,n)){const h=this._isValidPopupGraphicsLayerView(l.layerView)?l.layerView:void 0;a.push({graphic:l.graphic,layerView:h})}}else this._isValidPopupLocationLayerView(l.layerView)&&a.push({mapPoint:l.mapPoint,layerView:l.layerView});return{hits:a,location:o}}_isValidPopupGraphic(r,n){return r&&!!r.getEffectivePopupTemplate(n?.defaultPopupTemplateEnabled)}_isValidPopupGraphicsLayerView(r){return!r||(!("layer"in r)||!r.suspended)&&"fetchPopupFeaturesFromGraphics"in r}_isValidPopupLocationLayerView(r){return(!("layer"in r)||!r.suspended)&&"fetchPopupFeaturesAtLocation"in r}};return u([p()],i.prototype,"popup",void 0),u([p()],i.prototype,"popupElement",void 0),u([p()],i.prototype,"popupEnabled",void 0),i=u([j("esri.views.PopupView")],i),i};let kAe=class{constructor(e){this.layerView=e,this._resolver=cs(),this.graphics=[]}get promise(){return this._resolver.promise}resolve(e){const{layerView:i,graphics:r,_resolver:n}=this;if(!i)return n.resolve(r),n.promise;let s;return i.fetchPopupFeaturesFromGraphics(r,e).catch(o=>(s=o,null)).then(o=>{o?n.resolve(o):n.reject(s)}),n.promise}};const EAe=5e3;async function GD(t,e){return await t.load(),IAe(t,e)}async function IAe(t,e){const i=[],r=(...s)=>{for(const o of s)o!=null&&(Array.isArray(o)?r(...o):We.isCollection(o)?o.forEach(a=>r(a)):Uj(o)&&i.push(o))};e(r);let n=null;if(await nAe(i,async s=>{const o=await qD(CAe(s)?s.loadAll():s.load());o.ok!==!1||n||(n=o)}),n)throw n.error;return t}function CAe(t){return"loadAll"in t&&typeof t.loadAll=="function"}let Eh=class extends at{constructor(e){super(e),this.portalItem=null}normalizeCtorArgs(e){return e?.portalItem&&e.path?{...e,path:QZ(e.path,e.portalItem)}:e}set path(e){e!=null&&ga(e)?Ee.getLogger(this).error("portalitemresource:invalid-path","A portal item resource path must be relative"):this._set("path",e)}_castPath(e){return QZ(e,this.portalItem)}get url(){return this.portalItem&&this.path?`${this.portalItem.itemUrl}/resources/${this.path}`:null}get cdnUrl(){return this.portalItem&&this.path?`${this.portalItem.itemCdnUrl}/resources/${this.path}`:null}get itemRelativeUrl(){return this.portalItem&&this.path?`./resources/${this.path}`:null}fetch(e="json",i){const r=this.cdnUrl;if(r==null)throw new ee("portal-item-resource:fetch","Portal item resource does not refer to a valid item or path");return this.portalItem.portal.request(r,{responseType:e,query:{token:this.portalItem.apiKey,_ts:i?.cacheBust?Date.now():null},signal:i?.signal})}async update(e,i){const{addOrUpdateResources:r}=await ke(()=>import("./resourceUtils-Bnv7P3j-.js"),[]);return await r(this.portalItem,[{resource:this,content:e,compress:i?.compress,access:i?.access}],"update",i),this}hasPath(){return this.path!=null}};function QZ(t,e){return t==null?t:(t=t.replace(/^\/+/,""),e!=null&&ga(t)&&(t=_9(t,e.itemUrl)),t?.replace(/^\/+/,"").replace(/^(\.\/)?resources\//,""))}u([p()],Eh.prototype,"portalItem",void 0),u([p({type:String,value:null})],Eh.prototype,"path",null),u([bi("path")],Eh.prototype,"_castPath",null),u([p({type:String,readOnly:!0})],Eh.prototype,"url",null),u([p({type:String,readOnly:!0})],Eh.prototype,"cdnUrl",null),u([p({type:String,readOnly:!0})],Eh.prototype,"itemRelativeUrl",null),Eh=u([j("esri.portal.PortalItemResource")],Eh);let By=class extends at{constructor(e){super(e),this.created=null,this.rating=null}};u([p({type:Date})],By.prototype,"created",void 0),u([p()],By.prototype,"rating",void 0),By=u([j("esri.portal.PortalRating")],By);var iy;const MAe=new Set(["3DTiles Service","CSV","Feature Collection","Feature Service","Feed","GeoJson","Group Layer","Image Service","KML","Knowledge Graph Layer","Map Service","Media Layer","Scene Service","Stream Service","Video Service","Vector Tile Service","WCS","WFS","WMS","WMTS"]),AAe=new Set(["KML","GeoJson","CSV"]);let kt=iy=class extends zp(Gv){static from(t){return N$(iy,t)}constructor(t){super(t),this.access=null,this.accessInformation=null,this.apiKey=null,this.applicationProxies=null,this.avgRating=null,this.categories=null,this.classification=null,this.created=null,this.culture=null,this.description=null,this.extent=null,this.groupCategories=null,this.id=null,this.isOrgItem=!1,this.itemControl=null,this.licenseInfo=null,this.modified=null,this.name=null,this.numComments=null,this.numRatings=null,this.numViews=null,this.owner=null,this.ownerFolder=null,this.portal=null,this.screenshots=null,this.size=null,this.snippet=null,this.sourceJSON=null,this.sourceUrl=null,this.spatialReference=null,this.tags=null,this.title=null,this.type=null,this.typeKeywords=null,this.url=null}destroy(){this.portal=null}get displayName(){const t=this.type,e=this.typeKeywords||[];let i=t;return t==="Feature Service"||t==="Feature Collection"?i=e.includes("Table")?"Table":e.includes("Route Layer")?"Route Layer":e.includes("Markup")?"Markup":"Feature Layer":t==="Image Service"?i=e.includes("Elevation 3D Layer")?"Elevation Layer":e.includes("Tiled Imagery")?"Tiled Imagery Layer":"Imagery Layer":t==="Scene Service"?i="Scene Layer":t==="Video Service"?i="Video Layer":t==="Scene Package"?i="Scene Layer Package":t==="Stream Service"?i="Feature Layer":t==="Geoprocessing Service"?i=e.includes("Web Tool")?"Tool":"Geoprocessing Service":t==="Geoenrichment Service"?i="GeoEnrichment Service":t==="Geocoding Service"?i="Locator":t==="Microsoft Powerpoint"?i="Microsoft PowerPoint":t==="GeoJson"?i="GeoJSON":t==="Globe Service"?i="Globe Layer":t==="Vector Tile Service"?i="Tile Layer":t==="netCDF"?i="NetCDF":t==="Map Service"?i=e.includes("Spatiotemporal")||!e.includes("Hosted Service")&&!e.includes("Tiled")||e.includes("Relational")?"Map Image Layer":"Tile Layer":t?.toLowerCase().includes("add in")?i=t.replaceAll(/(add in)/gi,"Add-In"):t==="datastore catalog service"?i="Big Data File Share":t==="Compact Tile Package"?i="Tile Package (tpkx)":t==="Raster function template"?i="Raster Function Template":t==="OGCFeatureServer"?i="OGC Feature Layer":t==="web mapping application"&&e.includes("configurableApp")?i="Instant App":t==="Insights Page"?i="Insights Report":t==="Excalibur Imagery Project"?i="Excalibur Project":t==="3DTiles Service"?i="3D tiles layer":t==="3DTiles Package"&&(i="3D tiles package"),i}readExtent(t){return t&&t.length?new jt(t[0][0],t[0][1],t[1][0],t[1][1]):null}get iconUrl(){const t=this.type?.toLowerCase()||"",e=this.typeKeywords||[],i="esri/images/portal/",r="16";let n,s=!1,o=!1,a=!1,l=!1,h=!1,f=!1,g=!1,v=!1;return t.indexOf("service")>0||t==="feature collection"||t==="kml"||t==="wms"||t==="wmts"||t==="wfs"?(s=e.includes("Hosted Service"),t==="feature service"||t==="feature collection"||t==="kml"||t==="wfs"?(o=e.includes("Table"),a=e.includes("Route Layer"),l=e.includes("Markup"),h=e.includes("Spatiotemporal"),f=e.includes("UtilityNetwork"),n=h&&o?"spatiotemporaltable":o?"table":a?"routelayer":l?"markup":h?"spatiotemporal":f?"utilitynetwork":s?"featureshosted":"features"):t==="map service"||t==="wms"||t==="wmts"?(h=e.includes("Spatiotemporal"),g=e.includes("Relational"),n=h||g?"mapimages":s||e.includes("Tiled")||t==="wmts"?"maptiles":"mapimages"):n=t==="scene service"?e.includes("Line")?"sceneweblayerline":e.includes("3DObject")?"sceneweblayermultipatch":e.includes("Point")?"sceneweblayerpoint":e.includes("IntegratedMesh")?"sceneweblayermesh":e.includes("PointCloud")?"sceneweblayerpointcloud":e.includes("Polygon")?"sceneweblayerpolygon":e.includes("Building")?"sceneweblayerbuilding":e.includes("Voxel")?"sceneweblayervoxel":"sceneweblayer":t==="image service"?e.includes("Elevation 3D Layer")?"elevationlayer":e.includes("Tiled Imagery")?"tiledimagerylayer":"imagery":t==="stream service"?"streamlayer":t==="vector tile service"?"vectortile":t==="datastore catalog service"?"datastorecollection":t==="geocoding service"?"geocodeservice":t==="video service"?e.includes("Live Stream")?"livestreamvideolayer":"videolayer":t==="geoprocessing service"?e.includes("Web Tool")?"tool":"layers":t==="geodata service"?"geodataservice":t==="3dtiles service"?e.includes("3DObject")?"3dobjecttileslayer":e.includes("IntegratedMesh")?"integratedmeshtileslayer":e.includes("GaussianSplat")?"gaussiansplatlayer":"3dtileslayer":"layers"):t==="web map"||t==="cityengine web scene"?n="maps":t==="web scene"?n=e.includes("ViewingMode-Local")?"webscenelocal":"websceneglobal":t==="web mapping application"&&e.includes("configurableApp")?n="instantapps":t==="web mapping application"||t==="mobile application"||t==="application"||t==="operation view"||t==="desktop application"?n="apps":t==="map document"||t==="map package"||t==="published map"||t==="scene document"||t==="globe document"||t==="basemap package"||t==="mobile basemap package"||t==="mobile map package"||t==="project package"||t==="project template"||t==="pro map"||t==="layout"||t==="layer"&&e.includes("ArcGIS Pro")||t==="explorer map"&&e.indexOf("Explorer Document")?n="mapsgray":t==="service definition"||t==="shapefile"||t==="cad drawing"||t==="geojson"||t==="netcdf"||t==="administrative report"?n="datafiles":t==="360 vr experience"?n="360vr":t==="explorer add in"||t==="desktop add in"||t==="windows viewer add in"||t==="windows viewer configuration"?n="appsgray":t==="arcgis pro add in"||t==="arcgis pro configuration"?n="addindesktop":t==="pdf"?n="pdf":t==="microsoft word"?n="word":t==="microsoft excel"?n="excel":t==="microsoft powerpoint"?n="ppt":t==="rule package"||t==="file geodatabase"||t==="sqlite geodatabase"||t==="csv collection"||t==="kml collection"||t==="windows mobile package"||t==="map template"||t==="desktop application template"||t==="gml"||t==="arcpad package"||t==="code sample"||t==="document link"||t==="earth configuration"||t==="operations dashboard add in"||t==="rules package"||t==="workflow manager package"||t==="explorer map"&&e.includes("Explorer Mapping Application")||e.includes("Document")?n="datafilesgray":t==="network analysis service"||t==="geoprocessing service"||t==="geodata service"||t==="geometry service"||t==="geoprocessing package"||t==="locator package"||t==="geoprocessing sample"||t==="workflow manager service"?n="toolsgray":t==="layer"||t==="layer package"||t==="explorer layer"?n="layersgray":t==="analysis model"?n="analysismodel":t==="scene package"?n="scenepackage":t==="3dtiles package"?n="3dtileslayerpackage":t==="3dtiles service"?n="3dtileslayer":t==="mobile scene package"?n="mobilescenepackage":t==="tile package"||t==="compact tile package"?n="tilepackage":t==="task file"?n="taskfile":t==="report template"?n="report-template":t==="statistical data collection"?n="statisticaldatacollection":t==="insights workbook"?n="workbook":t==="insights model"?n="insightsmodel":t==="insights page"?n="insightspage":t==="insights theme"?n="insightstheme":t==="hub initiative"?n="hubinitiative":t==="hub page"?n="hubpage":t==="hub site application"?n="hubsite":t==="hub event"?n="hubevent":t==="hub project"?n="hubproject":t==="relational database connection"?n="relationaldatabaseconnection":t==="big data file share"?n="datastorecollection":t==="image collection"?n="imagecollection":t==="desktop style"?n="desktopstyle":t==="style"?n=e.includes("Dictionary")?"dictionarystyle":"style":t==="dashboard"?n="dashboard":t==="raster function template"?n="rasterprocessingtemplate":t==="vector tile package"?n="vectortilepackage":t==="ortho mapping project"?n="orthomappingproject":t==="ortho mapping template"?n="orthomappingtemplate":t==="solution"?n="solutions":t==="geopackage"?n="geopackage":t==="deep learning package"?n="deeplearningpackage":t==="real time analytic"?n="realtimeanalytics":t==="reality mapping project"?n="realitymappingproject":t==="big data analytic"?n="bigdataanalytics":t==="feed"?n="feed":t==="excalibur imagery project"?n="excaliburimageryproject":t==="notebook"?n="notebook":t==="storymap"?n="storymap":t==="survey123 add in"?n="survey123addin":t==="mission"?n="mission":t==="mission report"?n="missionreport":t==="mission template"?n="missiontemplate":t==="quickcapture project"?n="quickcaptureproject":t==="pro report"?n="proreport":t==="pro report template"?n="proreporttemplate":t==="urban model"?n="urbanmodel":t==="urban project"?n="urbanproject":t==="web experience"?n="experiencebuilder":t==="web experience template"?n="webexperiencetemplate":t==="experience builder widget"?n="experiencebuilderwidget":t==="experience builder widget package"?n="experiencebuilderwidgetpackage":t==="workflow"?n="workflow":t==="kernel gateway connection"?n="kernelgatewayconnection":t==="insights script"?n="insightsscript":t==="hub initiative template"?n="hubinitiativetemplate":t==="storymap theme"?n="storymaptheme":t==="knowledge graph"?n="knowledgegraph":t==="knowledge graph layer"?n="knowledgegraphlayer":t==="knowledge studio project"?n="knowledgestudio":t==="native application"?n="nativeapp":t==="native application installer"?n="nativeappinstaller":t==="web link chart"?n="linkchart":t==="knowledge graph web investigation"?n="investigation":t==="ogcfeatureserver"?n="features":t==="pro presentation"?n="propresentation":t==="pro project"?n="proproject":t==="insights workbook package"?n="insightsworkbookpackage":t==="apache parquet"?n="apacheparquet":t==="notebook code snippet library"?n="notebookcodesnippets":t==="suitability model"?n="suitabilitymodel":t==="esri classifier definition"?n="classifierdefinition":t==="esri classification schema"?n="classificationschema":t==="insights data engineering workbook"?n="dataengineeringworkbook":t==="insights data engineering model"?n="dataengineeringmodel":t==="deep learning studio project"?n="deeplearningproject":t==="discussion"?n="discussion":t==="allsource project"?n="allsourceproject":t==="api key"?n="apikey":t==="data pipeline"?n="datapipelines":t==="group layer"?(v=e.includes("Map"),n=v?"layergroup2d":"layergroup"):n=t==="media layer"?"onlinemedialayer":t==="form"?e.includes("Survey123")?"survey":"datafilesgray":t==="csv"?"csv":t==="image"?"image":t==="xr experience"?"xrexperience":"maps",n?Gr(i+n+r+".png"):null}get isLayer(){return this.type!=null&&MAe.has(this.type)}get itemCdnUrl(){return $9(this.itemUrl)}get itemPageUrl(){const t=this.portal?.itemPageUrl;return t&&this.id?`${t}?id=${this.id}`:null}get itemUrl(){const t=this.portal?.restUrl;return t&&this.id?`${t}/content/items/${this.id}`:null}get loaded(){return super.loaded}get thumbnailUrl(){const t=this.itemUrl,e=this.thumbnail;return t&&e?this.portal?.normalizeUrl(`${t}/info/${e}?f=json`)??null:null}get userItemUrl(){const t=this.portal?.restUrl;if(!t)return null;const e=this.owner||this.portal?.user?.id;return e?`${t}/content/users/${this.ownerFolder?`${e}/${this.ownerFolder}`:e}/items/${this.id}`:null}load(t){const e=this.portal??(this.portal=Le.getDefault()),i=e.load(t).then(()=>this.sourceJSON?this.sourceJSON:this.id&&this.itemUrl?e.request(this.itemUrl,{signal:t!=null?t.signal:null,query:{token:this.apiKey}}):{}).then(r=>{this.sourceJSON=r,this.read(r)});return this.addResolvingPromise(i),Promise.resolve(this)}async addRating(t){const e={method:"post",query:{}},i=t instanceof By?t.rating:t;return i==null||isNaN(i)||typeof t!="number"||(e.query.rating=i),this.portal?(await this.portal.request(this.itemUrl+"/addRating",e),new By({rating:i,created:new Date})):null}clone(){const t={access:this.access,accessInformation:this.accessInformation,applicationProxies:ne(this.applicationProxies),avgRating:this.avgRating,categories:ne(this.categories),classification:ne(this.classification),created:ne(this.created),culture:this.culture,description:this.description,extent:ne(this.extent),groupCategories:ne(this.groupCategories),id:this.id,itemControl:this.itemControl,licenseInfo:this.licenseInfo,modified:ne(this.modified),name:this.name,numComments:this.numComments,numRatings:this.numRatings,numViews:this.numViews,owner:this.owner,ownerFolder:this.ownerFolder,portal:this.portal,screenshots:ne(this.screenshots),size:this.size,snippet:this.snippet,sourceUrl:this.sourceUrl,spatialReference:this.spatialReference,tags:ne(this.tags),thumbnail:this.thumbnail,title:this.title,type:this.type,typeKeywords:ne(this.typeKeywords),url:this.url};this.loaded&&(t.loadStatus="loaded");const e=new iy({sourceJSON:this.sourceJSON}).set(t);return e._set("isOrgItem",this.isOrgItem),e}createPostQuery(){const t=this.toJSON();for(const e of["tags","typeKeywords","categories"])t[e]=t[e]?.join(", ");for(const e of["extent","classification"]){const i=t[e];i&&(t[e]=JSON.stringify(i))}return t}async deleteRating(){await this.portal.request(this.itemUrl+"/deleteRating",{method:"post"})}fetchData(t="json",e){return this.portal.request(this.itemUrl+"/data",{responseType:t,...e,query:{token:this.apiKey}})}async fetchRating(t){const e=await this.portal.request(this.itemUrl+"/rating",{query:{token:this.apiKey},...t});return e.rating!=null?(e.created=new Date(e.created),new By(e)):null}fetchRelatedItems(t,e){return this.portal.requestToTypedArray(this.itemUrl+"/relatedItems",{query:{...t,token:this.apiKey},...e},iy)}getThumbnailUrl(t){let e=this.thumbnailUrl;return e&&t&&(e+=`&w=${t}`),e}reload(){return this.portal.request(this.itemUrl??"",{cacheBust:!0,query:{token:this.apiKey}}).then(t=>(this.applicationProxies&&!Object.hasOwn(t,"appProxies")&&(this.applicationProxies=null),this.sourceJSON=t,this.read(t),this))}update(t){return this.id?this.load().then(()=>this.portal.signIn()).then(()=>{const e=t?.data,i={method:"post"};i.query=this.createPostQuery();for(const r in i.query)i.query[r]===null&&(i.query[r]="");return i.query.clearEmptyFields=!0,e!=null&&(typeof e=="string"?i.query.text=e:typeof e=="object"&&(i.query.text=JSON.stringify(e))),this.portal.request(`${this.userItemUrl}/update`,i).then(()=>this.reload())}):Promise.reject(new ee("portal:item-does-not-exist","The item does not exist yet and cannot be updated"))}async copy(t){if(!this.id)throw new ee("portal:item-does-not-exist","The item does not exist yet");await this.load();const{portal:e,itemUrl:i}=this;await e.signIn();const{copyResources:r,folder:n,tags:s,title:o}=t||{},a={method:"post",query:{copyPrivateResources:r==="all",folder:typeof n=="string"?n:n?.id,includeResources:!!r,tags:s?.join(","),title:o}},{itemId:l}=await e.request(`${i}/copy`,a);return new iy({id:l,portal:e})}updateThumbnail(t){return this.id?this.load().then(()=>this.portal.signIn()).then(()=>{const e=t.thumbnail,i=t.filename,r={method:"post"};if(typeof e=="string")Np(e)?r.query={data:e}:r.query={url:Ao(e)},i!=null&&(r.query.filename=i);else{const n=new FormData;i!=null?n.append("file",e,i):n.append("file",e),r.body=n}return this.portal.request(`${this.userItemUrl}/updateThumbnail`,r).then(()=>this.reload())}):Promise.reject(new ee("portal:item-does-not-exist","The item does not exist yet and cannot be updated"))}async fetchResources(t={},e){const{fetchResources:i}=await ke(()=>import("./resourceUtils-Bnv7P3j-.js"),[]);return i(this,t,e)}async addResource(t,e,i){const{addOrUpdateResources:r}=await ke(()=>import("./resourceUtils-Bnv7P3j-.js"),[]);return t.portalItem=this,await r(this,[{resource:t,content:e,compress:i?.compress,access:i?.access}],"add",i),t}async removeResource(t,e){const{removeResource:i}=await ke(()=>import("./resourceUtils-Bnv7P3j-.js"),[]);if(t.portalItem&&t.portalItem.itemUrl!==this.itemUrl)throw new ee("removeresource:portal-item-mismatch","The portal item associated with the provided resource does not match the item");return i(this,t,e)}async removeAllResources(t){const{removeAllResources:e}=await ke(()=>import("./resourceUtils-Bnv7P3j-.js"),[]);return e(this,t)}resourceFromPath(t){return new Eh({portalItem:this,path:t})}toJSON(){const t=this.extent,e={accessInformation:this.accessInformation,categories:ne(this.categories),classification:ne(this.classification),created:this.created?.getTime(),description:this.description,extent:t&&[[t.xmin,t.ymin],[t.xmax,t.ymax]],id:this.id,isOrgItem:this.isOrgItem,licenseInfo:this.licenseInfo,modified:this.modified?.getTime(),name:this.name,owner:this.owner,ownerFolder:this.ownerFolder,snippet:this.snippet,sourceUrl:this.sourceUrl,spatialReference:this.spatialReference,tags:ne(this.tags),thumbnail:this.thumbnail,title:this.title,type:this.type,typeKeywords:ne(this.typeKeywords),url:this.url};return i9(e)}static fromJSON(t){if(!t)return null;if(t.declaredClass)throw new Error("JSON object is already hydrated");return new iy({sourceJSON:t})}_getPostQuery(){const t=this.toJSON();for(const e in t)e==="tags"&&t[e]!==null&&(t[e]=t[e].join(", ")),e==="typeKeywords"&&t[e]!==null&&(t[e]=t[e].join(", ")),e==="extent"&&t[e]&&(t[e]=JSON.stringify(t[e]));return t}};u([p({type:["private","shared","org","public"]})],kt.prototype,"access",void 0),u([p()],kt.prototype,"accessInformation",void 0),u([p({type:String})],kt.prototype,"apiKey",void 0),u([p({json:{read:{source:"appProxies"}}})],kt.prototype,"applicationProxies",void 0),u([p()],kt.prototype,"avgRating",void 0),u([p()],kt.prototype,"categories",void 0),u([p()],kt.prototype,"classification",void 0),u([p({type:Date})],kt.prototype,"created",void 0),u([p()],kt.prototype,"culture",void 0),u([p()],kt.prototype,"description",void 0),u([p({readOnly:!0})],kt.prototype,"displayName",null),u([p({type:jt})],kt.prototype,"extent",void 0),u([Ae("extent")],kt.prototype,"readExtent",null),u([p()],kt.prototype,"groupCategories",void 0),u([p({readOnly:!0})],kt.prototype,"iconUrl",null),u([p()],kt.prototype,"id",void 0),u([p({readOnly:!0})],kt.prototype,"isLayer",null),u([p({type:Boolean,readOnly:!0})],kt.prototype,"isOrgItem",void 0),u([p()],kt.prototype,"itemControl",void 0),u([p({readOnly:!0})],kt.prototype,"itemPageUrl",null),u([p({readOnly:!0})],kt.prototype,"itemUrl",null),u([p()],kt.prototype,"licenseInfo",void 0),u([p({type:Date})],kt.prototype,"modified",void 0),u([p()],kt.prototype,"name",void 0),u([p()],kt.prototype,"numComments",void 0),u([p()],kt.prototype,"numRatings",void 0),u([p()],kt.prototype,"numViews",void 0),u([p()],kt.prototype,"owner",void 0),u([p()],kt.prototype,"ownerFolder",void 0),u([p({type:Le})],kt.prototype,"portal",void 0),u([p()],kt.prototype,"screenshots",void 0),u([p()],kt.prototype,"size",void 0),u([p()],kt.prototype,"snippet",void 0),u([p()],kt.prototype,"sourceJSON",void 0),u([p({type:String})],kt.prototype,"sourceUrl",void 0),u([p({type:String})],kt.prototype,"spatialReference",void 0),u([p()],kt.prototype,"tags",void 0),u([p()],kt.prototype,"thumbnail",void 0),u([p({readOnly:!0})],kt.prototype,"thumbnailUrl",null),u([p()],kt.prototype,"title",void 0),u([p()],kt.prototype,"type",void 0),u([p()],kt.prototype,"typeKeywords",void 0),u([p({type:String,json:{read(t,e){if(AAe.has(e.type)){const i=this.portal?.restUrl;t||=i&&this.id?`${i}/content/items/${this.id}/data`:null}return t}}})],kt.prototype,"url",void 0),u([p({readOnly:!0})],kt.prototype,"userItemUrl",null),kt=iy=u([j("esri.portal.PortalItem")],kt);const Xle=Object.freeze(Object.defineProperty({__proto__:null,get default(){return kt}},Symbol.toStringTag,{value:"Module"}));async function OAe(t){if(!t)return;const e=t.includes("-vector")?t.slice(0,t.indexOf("-vector")):t.includes("-3d")?t.slice(0,t.indexOf("-3d")):t,i=await tse("esri/t9n/basemaps");return i[t]||i[e]}const wF={satellite:{id:"satellite",classic:!0,get thumbnailUrl(){return Gr("esri/images/basemap/satellite.jpg")},baseMapLayers:[{id:"satellite-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Imagery",showLegend:!1,visibility:!0,opacity:1}]},hybrid:{id:"hybrid",classic:!0,get thumbnailUrl(){return Gr("esri/images/basemap/hybrid.jpg")},baseMapLayers:[{id:"hybrid-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Imagery",showLegend:!1,visibility:!0,opacity:1},{id:"hybrid-reference-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/30d6b8271e1849cd9c3042060001f425/resources/styles/root.json",layerType:"VectorTileLayer",title:"Hybrid Reference Layer",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},terrain:{id:"terrain",classic:!0,get thumbnailUrl(){return Gr("esri/images/basemap/terrain.jpg")},baseMapLayers:[{id:"terrain-hillshade",url:"https://services.arcgisonline.com/ArcGIS/rest/services/Elevation/World_Hillshade/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Hillshade",showLegend:!1},{id:"terrain-base",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/33064a20de0c48d2bb61efa8faca93a8/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Terrain Base"},{id:"terrain-reference",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/14fbc125ccc9488888b014db09f35f67/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Reference Reference",isReference:!0}]},oceans:{id:"oceans",classic:!0,get thumbnailUrl(){return Gr("esri/images/basemap/oceans.jpg")},baseMapLayers:[{id:"oceans-base-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Ocean/World_Ocean_Base/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Ocean Base",showLegend:!1,visibility:!0,opacity:1},{id:"oceans-reference-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/94329802cbfa44a18f423e6f1a0b875c/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Ocean Reference",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},osm:{id:"osm",classic:!0,get thumbnailUrl(){return Gr("esri/images/basemap/osm.jpg")},baseMapLayers:[{id:"osm-base-layer",layerType:"OpenStreetMap",title:"Open Street Map",showLegend:!1,visibility:!0,opacity:1}]},"dark-gray-vector":{id:"dark-gray-vector",classic:!0,get thumbnailUrl(){return Gr("esri/images/basemap/dark-gray-vector.jpg")},baseMapLayers:[{id:"dark-gray-base-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/5e9b3685f4c24d8781073dd928ebda50/resources/styles/root.json",layerType:"VectorTileLayer",title:"Dark Gray Base",visibility:!0,opacity:1},{id:"dark-gray-reference-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/747cb7a5329c478cbe6981076cc879c5/resources/styles/root.json",layerType:"VectorTileLayer",title:"Dark Gray Reference",isReference:!0,visibility:!0,opacity:1}]},get"dark-gray"(){return{...this["dark-gray-vector"],id:"dark-gray"}},"gray-vector":{id:"gray-vector",classic:!0,get thumbnailUrl(){return Gr("esri/images/basemap/gray-vector.jpg")},baseMapLayers:[{id:"gray-base-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/291da5eab3a0412593b66d384379f89f/resources/styles/root.json",layerType:"VectorTileLayer",title:"Light Gray Base",visibility:!0,opacity:1},{id:"gray-reference-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/1768e8369a214dfab4e2167d5c5f2454/resources/styles/root.json",layerType:"VectorTileLayer",title:"Light Gray Reference",isReference:!0,visibility:!0,opacity:1}]},get gray(){return{...this["gray-vector"],id:"gray"}},"streets-vector":{id:"streets-vector",classic:!0,get thumbnailUrl(){return Gr("esri/images/basemap/streets-vector.jpg")},baseMapLayers:[{id:"streets-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/de26a3cf4cc9451298ea173c4b324736/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Streets",visibility:!0,opacity:1}]},get streets(){return{...this["streets-vector"],id:"streets"}},"topo-vector":{id:"topo-vector",classic:!0,get thumbnailUrl(){return Gr("esri/images/basemap/topo-vector.jpg")},baseMapLayers:[{id:"world-hillshade-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Hillshade",showLegend:!1,visibility:!0,opacity:1},{id:"topo-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/7dc6cea0b1764a1f9af2e679f642f0f5/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Topo",visibility:!0,opacity:1}]},get topo(){return{...this["topo-vector"],id:"topo"}},"streets-night-vector":{id:"streets-night-vector",classic:!0,get thumbnailUrl(){return Gr("esri/images/basemap/streets-night.jpg")},baseMapLayers:[{id:"streets-night-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/86f556a2d1fd468181855a35e344567f/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Streets Night",visibility:!0,opacity:1}]},"streets-relief-vector":{id:"streets-relief-vector",classic:!0,get thumbnailUrl(){return Gr("esri/images/basemap/streets-relief.jpg")},baseMapLayers:[{id:"world-hillshade-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Hillshade",showLegend:!1,visibility:!0,opacity:1},{id:"streets-relief-vector-base-layer",styleUrl:"//www.arcgis.com/sharing/rest/content/items/b266e6d17fc345b498345613930fbd76/resources/styles/root.json",title:"World Streets Relief",layerType:"VectorTileLayer",visibility:!0,opacity:1}]},"streets-navigation-vector":{id:"streets-navigation-vector",classic:!0,get thumbnailUrl(){return Gr("esri/images/basemap/streets-navigation.jpg")},baseMapLayers:[{id:"streets-navigation-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/63c47b7177f946b49902c24129b87252/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Streets Navigation",visibility:!0,opacity:1}]},"topo-3d":{id:"topo-3d",is3d:!0,get thumbnailUrl(){return Gr("esri/images/basemap/topo-3d.png")},baseMapLayers:[{id:"topo-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/1e7d1784d1ef4b79ba6764d0bd6c3150/resources/styles/root.json",layerType:"VectorTileLayer",title:"Topographic",visibility:!0,opacity:1},{id:"topo-3d-trees",title:"Trees",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/Open3D_Trees_v1/SceneServer",itemId:"9d3d89d42cfe4e2c9d108a2f0d518406",layerType:"ArcGISSceneServiceLayer"},{id:"topo-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_DarkLabels_v1/SceneServer",itemId:"a84404ad39c64c328d0596e361ec459b",layerType:"ArcGISSceneServiceLayer"},{id:"topo-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/Esri3D_Buildings_v1/SceneServer",itemId:"b8fec5af7dfe4866b1b8ac2d2800f282",layerType:"ArcGISSceneServiceLayer"}]},"navigation-3d":{id:"navigation-3d",is3d:!0,get thumbnailUrl(){return Gr("esri/images/basemap/navigation-3d.jpg")},baseMapLayers:[{id:"navigation-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/ccc904ff872b4144b94934e55e32784b/resources/styles/root.json",layerType:"VectorTileLayer",title:"Navigation",visibility:!0,opacity:1},{id:"navigation-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_DarkLabels_v1/SceneServer",itemId:"a84404ad39c64c328d0596e361ec459b",layerType:"ArcGISSceneServiceLayer"},{id:"navigation-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/Esri3D_Buildings_v1/SceneServer",itemId:"b8fec5af7dfe4866b1b8ac2d2800f282",layerType:"ArcGISSceneServiceLayer"}]},"streets-3d":{id:"streets-3d",is3d:!0,get thumbnailUrl(){return Gr("esri/images/basemap/streets-3d.png")},baseMapLayers:[{id:"streets-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/198298c4c64c4cb19de5b46aa00c198d/resources/styles/root.json",layerType:"VectorTileLayer",title:"Streets",visibility:!0,opacity:1},{id:"streets-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_DarkLabels_v1/SceneServer",itemId:"a84404ad39c64c328d0596e361ec459b",layerType:"ArcGISSceneServiceLayer"},{id:"streets-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/Esri3D_Buildings_v1/SceneServer",itemId:"b8fec5af7dfe4866b1b8ac2d2800f282",layerType:"ArcGISSceneServiceLayer"}]},"osm-3d":{id:"osm-3d",is3d:!0,get thumbnailUrl(){return Gr("esri/images/basemap/osm-3d.png")},baseMapLayers:[{id:"osm-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/8628d259c9d14bdc848771c23c513940/resources/styles/root.json",layerType:"VectorTileLayer",title:"OpenStreetMap",visibility:!0,opacity:1},{id:"osm-3d-trees",title:"Trees",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/Open3D_Trees_v1/SceneServer",itemId:"9d3d89d42cfe4e2c9d108a2f0d518406",layerType:"ArcGISSceneServiceLayer"},{id:"osm-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_DarkLabels_v1/SceneServer",itemId:"a84404ad39c64c328d0596e361ec459b",layerType:"ArcGISSceneServiceLayer"},{id:"osm-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/Open3D_Buildings_v1/SceneServer",itemId:"cd33b09dde0a419c986ca1a78a5fc06d",layerType:"ArcGISSceneServiceLayer"}]},"gray-3d":{id:"gray-3d",is3d:!0,get thumbnailUrl(){return Gr("esri/images/basemap/gray-3d.png")},baseMapLayers:[{id:"gray-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/01a14b466345455ba4176d2e6390db92/resources/styles/root.json",layerType:"VectorTileLayer",title:"Streets",visibility:!0,opacity:1},{id:"gray-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_DarkLabels_v1/SceneServer",itemId:"a84404ad39c64c328d0596e361ec459b",layerType:"ArcGISSceneServiceLayer"},{id:"gray-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/Esri3D_Buildings_v1/SceneServer",itemId:"b8fec5af7dfe4866b1b8ac2d2800f282",layerType:"ArcGISSceneServiceLayer"}]},"navigation-dark-3d":{id:"navigation-dark-3d",itemId:"5a1365328b4943f09a54cf5fd1205707",is3d:!0,baseMapLayers:[{id:"navigation-dark-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/451a1777ab3f4bf095fae24a117439d9/resources/styles/root.json",layerType:"VectorTileLayer",title:"Navigation Dark"},{id:"navigation-dark-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_LightLabels_v1/SceneServer/layers/0",itemId:"f364b70b012a4da5a4b5921e193eac4a",layerType:"ArcGISSceneServiceLayer"},{id:"navigation-dark-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/Esri3D_Buildings_v1/SceneServer",itemId:"b8fec5af7dfe4866b1b8ac2d2800f282",layerType:"ArcGISSceneServiceLayer"}]},"streets-dark-3d":{id:"streets-dark-3d",itemId:"8a4efa2c20484ec9b4557895e65736ff",is3d:!0,baseMapLayers:[{id:"streets-dark-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/bc599b6d741a4ac084b7eea7bf8c5938/resources/styles/root.json",layerType:"VectorTileLayer",title:"OpenStreetMap Streets Night (for 3D)"},{id:"streets-dark-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_LightLabels_v1/SceneServer",itemId:"f364b70b012a4da5a4b5921e193eac4a",layerType:"ArcGISSceneServiceLayer"},{id:"streets-dark-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/Esri3D_Buildings_v1/SceneServer",itemId:"b8fec5af7dfe4866b1b8ac2d2800f282",layerType:"ArcGISSceneServiceLayer"}]},"dark-gray-3d":{id:"dark-gray-3d",itemId:"a8b7322a5fe94002bb0f5e0eeb0c5c18",is3d:!0,baseMapLayers:[{id:"dark-gray-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/4178f71acb934fb89f169e7d667c20c6/resources/styles/root.json",layerType:"VectorTileLayer",title:"OpenStreetMap Dark Gray Canvas (for 3D)"},{id:"dark-gray-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_LightLabels_v1/SceneServer/layers/0",itemId:"f364b70b012a4da5a4b5921e193eac4a",layerType:"ArcGISSceneServiceLayer"},{id:"dark-gray-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/Esri3D_Buildings_v1/SceneServer",itemId:"b8fec5af7dfe4866b1b8ac2d2800f282",layerType:"ArcGISSceneServiceLayer"}]}};let Ih=class extends at{constructor(e){super(e),this.apiKey=null,this.id=null,this.language=null,this.places=null,this.serviceUrl="https://basemapstyles-api.arcgis.com/arcgis/rest/services/styles/v2",this.worldview=null}get languageParameter(){const e=this.language;let i=e==="local"||e==="global"?e:ise(e??ya())??"global";return i=i==="no"?"nb":i,i}};u([p()],Ih.prototype,"apiKey",void 0),u([p()],Ih.prototype,"id",void 0),u([p()],Ih.prototype,"language",void 0),u([p()],Ih.prototype,"places",void 0),u([p()],Ih.prototype,"serviceUrl",void 0),u([p()],Ih.prototype,"worldview",void 0),Ih=u([j("esri.support.BasemapStyle")],Ih);const PAe=Ih,Kle=Symbol("BasemapInstance");function wst(t){return t!=null&&typeof t=="object"&&Kle in t}let Qle=0;const WD=t=>{const e=t;let i=class extends e{constructor(...r){super(...r),Object.defineProperty(this,"uid",{writable:!1,configurable:!1,value:Date.now().toString(16)+"-object-"+Qle++})}};return i=u([j("esri.core.Identifiable")],i),i},FU=t=>{const e=t;let i=class extends e{constructor(...r){super(...r),Object.defineProperty(this,"uid",{writable:!1,configurable:!1,value:Qle++})}};return i=u([j("esri.core.Identifiable.NumericIdentifiable")],i),i};WD(class{});async function DAe(t){const e="portalItem"in t?t:{portalItem:t},{fromItem:i}=await ke(async()=>{const{fromItem:r}=await import("./portalLayers-Br32oWuP.js");return{fromItem:r}},__vite__mapDeps([173,174,175,176,177]));try{return await i(e)}catch(r){const n=e?.portalItem,s=n?.id||"unset",o=n?.portal?.url||ni.portalUrl;throw Ee.getLogger("esri.layers.support.fromPortalItem").error("#fromPortalItem()","Failed to create layer from portal item (portal: '"+o+"', id: '"+s+"')",r),r}}const eJ={milliseconds:1,seconds:1e3,minutes:6e4,hours:36e5,days:864e5,weeks:6048e5,months:26784e5,years:31536e6,decades:31536e7,centuries:31536e8};function KL(t,e,i,r=cc){const n=new ba(F9(r)),s=rt.fromJSDate(t,{zone:n}),o=i==="decades"||i==="centuries"?"year":tce(i);return i==="decades"&&(e*=10),i==="centuries"&&(e*=100),s.plus({[o]:e}).toJSDate()}function _st(t,e,i="milliseconds"){const r=t.getTime(),n=ece(e,i,"milliseconds");return new Date(r+n)}function tJ(t,e,i=cc){const r=new ba(F9(i)),n=rt.fromJSDate(t,{zone:r});if(e==="decades"||e==="centuries"){const o=n.startOf("year"),{year:a}=o,l=a-a%(e==="decades"?10:100);return o.set({year:l}).toJSDate()}const s=tce(e);return n.startOf(s).toJSDate()}function ece(t,e,i){return t===0?0:t*eJ[e]/eJ[i]}function xst(t,e){return t&&e?t.intersection(e):t||e}function tce(t){switch(t){case"milliseconds":return"millisecond";case"seconds":return"second";case"minutes":return"minute";case"hours":return"hour";case"days":return"day";case"weeks":return"week";case"months":return"month";case"years":return"year"}}var zl,f_;let Oi=(f_=class extends ge{static get allTime(){return iJ}static get empty(){return RAe}static fromArray(e){return new zl({start:e[0]!=null?new Date(e[0]):e[0],end:e[1]!=null?new Date(e[1]):e[1]})}constructor(e){super(e),this.end=null,this.start=null}readEnd(e,i){return i.end!=null?new Date(i.end):null}writeEnd(e,i){i.end=e?.getTime()??null}get isAllTime(){return this.equals(zl.allTime)}get isEmpty(){return this.equals(zl.empty)}readStart(e,i){return i.start!=null?new Date(i.start):null}writeStart(e,i){i.start=e?.getTime()??null}clone(){return new zl({end:this.end,start:this.start})}equals(e){if(!e)return!1;const i=this.start?.getTime()??this.start,r=this.end?.getTime()??this.end,n=e.start?.getTime()??e.start,s=e.end?.getTime()??e.end;return i===n&&r===s}expandTo(e,i=cc){if(this.isEmpty||this.isAllTime)return this.clone();let r=this.start;r&&(r=tJ(r,e,i));let n=this.end;if(n){const s=tJ(n,e,i);n=n.getTime()===s.getTime()?s:KL(s,1,e,i)}return new zl({start:r,end:n})}intersection(e){if(!e)return this.clone();if(this.isEmpty||e.isEmpty)return zl.empty;if(this.isAllTime)return e.clone();if(e.isAllTime)return this.clone();const i=this.start?.getTime()??-1/0,r=this.end?.getTime()??1/0,n=e.start?.getTime()??-1/0,s=e.end?.getTime()??1/0;let o,a;return n>=i&&n<=r?o=n:i>=n&&i<=s&&(o=i),r>=n&&r<=s?a=r:s>=i&&s<=r&&(a=s),o==null||a==null||isNaN(o)||isNaN(a)?zl.empty:new zl({start:o===-1/0?null:new Date(o),end:a===1/0?null:new Date(a)})}offset(e,i,r=cc){if(this.isEmpty||this.isAllTime)return this.clone();const n=new zl,{start:s,end:o}=this;return s!=null&&(n.start=KL(s,e,i,r)),o!=null&&(n.end=KL(o,e,i,r)),n}toArray(){return this.isEmpty?[void 0,void 0]:[this.start?.getTime()??null,this.end?.getTime()??null]}union(e){if(!e||e.isEmpty)return this.clone();if(this.isEmpty)return e.clone();if(this.isAllTime||e.isAllTime)return iJ.clone();const i=this.start!=null&&e.start!=null?new Date(Math.min(this.start.getTime(),e.start.getTime())):null,r=this.end!=null&&e.end!=null?new Date(Math.max(this.end.getTime(),e.end.getTime())):null;return new zl({start:i,end:r})}},zl=f_,f_);u([p({type:Date,json:{write:{allowNull:!0}}})],Oi.prototype,"end",void 0),u([Ae("end")],Oi.prototype,"readEnd",null),u([ze("end")],Oi.prototype,"writeEnd",null),u([p({readOnly:!0,json:{read:!1}})],Oi.prototype,"isAllTime",null),u([p({readOnly:!0,json:{read:!1}})],Oi.prototype,"isEmpty",null),u([p({type:Date,json:{write:{allowNull:!0}}})],Oi.prototype,"start",void 0),u([Ae("start")],Oi.prototype,"readStart",null),u([ze("start")],Oi.prototype,"writeStart",null),Oi=zl=u([j("esri.time.TimeExtent")],Oi);const iJ=new Oi,RAe=new Oi({start:void 0,end:void 0});let LAe=0,wr=class extends pD(WD(Gv)){constructor(){super(...arguments),this.attributionDataUrl=null,this.fullExtent=new jt(-180,-90,180,90,Ke.WGS84),this.id=Date.now().toString(16)+"-layer-"+LAe++,this.legendEnabled=!0,this.listMode="show",this.opacity=1,this.parent=null,this.persistenceEnabled=!1,this.popupEnabled=!0,this.attributionVisible=!0,this.spatialReference=Ke.WGS84,this.title=null,this.type=null,this.url=null,this.visibilityTimeExtent=null,this.visible=!0}static async fromArcGISServerUrl(e){const i=typeof e=="string"?{url:e}:e;return(await ke(async()=>{const{fromUrl:r}=await import("./arcgisLayers-BCpz390m.js");return{fromUrl:r}},__vite__mapDeps([178,174,175,177]))).fromUrl(i)}static fromPortalItem(e){return DAe(e)}initialize(){this.when().catch(e=>{us(e)||Ee.getLogger(this).error("#load()",`Failed to load layer (title: '${this.title??"no title"}', id: '${this.id??"no id"}')`,{error:e})})}destroy(){const{parent:e}=this;e&&(this.parent=null,e.removeChildLayer?.(this))}get effectiveVisible(){return this.visible&&(this.parent?.effectiveVisible??!0)}get hasAttributionData(){return this.attributionDataUrl!=null}get loaded(){return super.loaded}removeFromParent(){const{parent:e}=this;e&&(e.removeChildLayer?.(this),this.parent=null)}get parsedUrl(){return Qr(this.url)}createLayerView(e,i){return Promise.reject(new ee("layer:create-layer-view","Layer does not support creating a layer view"))}async fetchAttributionData(){const e=this.attributionDataUrl;if(this.hasAttributionData&&e)return(await Vt(e,{query:{f:"json"},responseType:"json"})).data;throw new ee("layer:no-attribution-data","Layer does not have attribution data")}};u([p({type:String})],wr.prototype,"attributionDataUrl",void 0),u([p({readOnly:!0})],wr.prototype,"effectiveVisible",null),u([p({type:jt})],wr.prototype,"fullExtent",void 0),u([p({readOnly:!0})],wr.prototype,"hasAttributionData",null),u([p({type:String,clonable:!1})],wr.prototype,"id",void 0),u([p({type:Boolean,nonNullable:!0})],wr.prototype,"legendEnabled",void 0),u([p({type:["show","hide","hide-children"]})],wr.prototype,"listMode",void 0),u([p({type:Number,range:{min:0,max:1},nonNullable:!0})],wr.prototype,"opacity",void 0),u([p({clonable:!1})],wr.prototype,"parent",void 0),u([p({readOnly:!0})],wr.prototype,"parsedUrl",null),u([p({type:Boolean,readOnly:!0})],wr.prototype,"persistenceEnabled",void 0),u([p({type:Boolean})],wr.prototype,"popupEnabled",void 0),u([p({type:Boolean})],wr.prototype,"attributionVisible",void 0),u([p({type:Ke})],wr.prototype,"spatialReference",void 0),u([p({type:String})],wr.prototype,"title",void 0),u([p({readOnly:!0,json:{read:!1}})],wr.prototype,"type",void 0),u([p()],wr.prototype,"url",void 0),u([p({type:Oi})],wr.prototype,"visibilityTimeExtent",void 0),u([p({type:Boolean,nonNullable:!0})],wr.prototype,"visible",void 0),wr=u([j("esri.layers.Layer")],wr);const hI=new WeakMap;function VU(t){return!t.destroyed&&(hI.has(t)||t.addHandles([ft(()=>{const{parent:e}=t;return!!(e&&e instanceof wr)&&(e.type==="catalog-dynamic-group"||VU(e))},e=>hI.set(t,e),to),oi(()=>hI.delete(t))]),hI.get(t))}function ice(t){return t!=null&&typeof t=="object"&&"type"in t&&t.type==="feature"}function Tst(t){return t!=null&&typeof t=="object"&&"type"in t&&t.type==="graphics"}function zAe(t){return t!=null&&typeof t=="object"&&"type"in t&&t.type==="map-image"}function NAe(t){return t!=null&&typeof t=="object"&&"type"in t&&t.type==="knowledge-graph"&&"layers"in t}function $st(t){return t!=null&&typeof t=="object"&&"type"in t&&t.type==="knowledge-graph-sublayer"}function rJ(t){return t!=null&&typeof t=="object"&&"type"in t&&t.type==="subtype-group"&&"sublayers"in t}function mm(t){return t?.type==="subtype-sublayer"}const kst={Point:"SceneLayer","3DObject":"SceneLayer",IntegratedMesh:"IntegratedMeshLayer",PointCloud:"PointCloudLayer",Building:"BuildingSceneLayer"};function _F(t){const e=t?.type;return e==="building-scene"||e==="integrated-mesh"||e==="point-cloud"||e==="scene"}function Est(t){return t.type==="integrated-mesh"||t.type==="integrated-mesh-3dtiles"}function YD(t){return t?.type==="feature"&&!t.url&&t.source?.type==="memory"}function Ist(t){const e=t?.type;return(e==="feature"||e==="subtype-group"||e==="oriented-imagery")&&t?.source?.type==="feature-layer"}function jAe(t){return t?.type==="feature"&&t.source?.type==="feature-layer"}function Cst(t){return ice(t)&&jAe(t)}async function UU(t,e){const i=Zt?.findServerInfo(t);if(i?.currentVersion!=null)return i.owningSystemUrl||null;const r=t.toLowerCase().indexOf("/rest/services");if(r===-1)return null;const n=`${t.slice(0,r)}/rest/info`,s=e!=null?e.signal:null,{data:o}=await Vt(n,{query:{f:"json"},responseType:"json",signal:s});return o?.owningSystemUrl||null}function rce(t){if(!("capabilities"in t))return!1;switch(t.type){case"catalog":case"catalog-footprint":case"csv":case"feature":case"geojson":case"imagery":case"knowledge-graph-sublayer":case"ogc-feature":case"oriented-imagery":case"scene":case"sublayer":case"subtype-group":case"subtype-sublayer":case"wfs":return!0;default:return!1}}function FAe(t){return rce(t)?"effectiveCapabilities"in t?t.effectiveCapabilities:t.capabilities:null}function VAe(t){if(!("editingEnabled"in t))return!1;switch(t.type){case"csv":case"feature":case"geojson":case"oriented-imagery":case"scene":case"subtype-group":case"subtype-sublayer":case"knowledge-graph-sublayer":return!0;default:return!1}}function UAe(t){return!!VAe(t)&&("effectiveEditingEnabled"in t?t.effectiveEditingEnabled:t.editingEnabled)}function Mst(t){const e=new We;for(const i of t.allLayers.concat(t.allTables))i.type==="csv"||VU(i)||("charts"in i&&e.push(i),i.type==="subtype-group"&&e.push(...i.sublayers));return e}function BAe(t,e){return null}function Ast(t){return null}function xF(t){return!t||t.type==="Feature Service"&&!t.sourceUrl}function Ost(t,e){!e||!xF(t)||BAe(t.url)}const HAe=new Set(["bing-maps","imagery","imagery-tile","map-image","open-street-map","tile","unknown","unsupported","vector-tile","web-tile","wcs","wms","wmts"]),qAe=new Set(["integrated-mesh-3dtiles"]),nce=new Set(["catalog","csv","feature","geo-rss","geojson","group","imagery","imagery-tile","kml","knowledge-graph","map-image","map-notes","media","ogc-feature","oriented-imagery","parquet","route","stream","subtype-group","tile","unknown","unsupported","vector-tile","video","web-tile","wcs","wfs","wms","wmts"]),GAe=new Set([...nce,"link-chart"]);function WAe(t){switch(t.layerContainerType){case"basemap-base-layers":return HAe;case"basemap-ground-layers":return qAe;case"operational-layers":return t.origin==="link-chart"?GAe:nce;default:return null}}function YAe(t,e){if(e.restrictedWebMapWriting){const i=WAe(e);return i==null||i.has(t.type)&&!YD(t)}return!0}function ZAe(t,e){if(e)if(YD(t)){const i=vp("featureCollection.layers",e),r=i?.[0]?.layerDefinition;r&&nJ(t,r)}else t.type!=="group"&&nJ(t,e)}function nJ(t,e){"maxScale"in t&&(e.maxScale=MA(t.maxScale)??void 0),"minScale"in t&&(e.minScale=MA(t.minScale)??void 0)}function JAe(t,e){if(ZAe(t,e),e&&(e.id=t.id,"blendMode"in t&&(e.blendMode=t.blendMode,e.blendMode==="normal"&&delete e.blendMode),e.opacity=MA(t.opacity)??void 0,e.title=t.title||"Layer",e.visibility=t.visible,"legendEnabled"in t&&t.type!=="wmts"))if(YD(t)){const i=e.featureCollection;i&&(i.showLegend=t.legendEnabled)}else e.showLegend=t.legendEnabled}function iM(t,e,i){if(!t.persistenceEnabled)return null;if(!("write"in t)||!t.write)return i?.messages&&i.messages.push(new ee("layer:unsupported",`Layers (${t.title}, ${t.id}) of type '${t.declaredClass}' cannot be persisted`,{layer:t})),null;if(YD(t)&&!t.isTable)e=t.resourceInfo;else if(YAe(t,i)){const r={};return t.write(r,i)?r:null}return e!=null&&JAe(t,e=ne(e)),e}var sJ,T0,uv;let Wo=(uv=class extends zp(Gv){constructor(e){super(e),this[sJ]=!0,this.id=null,this.portalItem=null,this.spatialReference=null,this.style=null,this.thumbnailUrl=null,this.title="Basemap",this.type="Basemap",this.id=Date.now().toString(16)+"-basemap-"+T0.idCounter++,this.baseLayers=new We,this.referenceLayers=new We,this.groundLayers=new We;const i=a=>{const{parent:l}=a;l&&l!==this&&"remove"in l&&l.remove?.(a),a.parent=this,a.type!=="elevation"&&a.type!=="integrated-mesh-3dtiles"||Ee.getLogger(this).error(`Layer '${a.title}, id:${a.id}' of type '${a.type}' is not supported as a basemap layer and will therefore be ignored.`)},r=a=>{const{parent:l}=a;l&&l!==this&&"remove"in l&&l.remove?.(a),a.parent=this},n=a=>{const l=a.item;return l.parent===this?(Ee.getLogger(this).error(`Layer '${l.title}, id:${l.id}' of type '${l.type}' already a ground layer, second add will be ignored.`),void a.preventDefault()):l.type!=="integrated-mesh-3dtiles"&&l.type!=="integrated-mesh"?(Ee.getLogger(this).error(`Layer '${l.title}, id:${l.id}' of type '${l.type}' is not supported as a ground layer and will therefore be ignored.`),void a.preventDefault()):void 0},s=a=>{a.parent=null},o=a=>{a.parent===this&&(a.parent=null)};this.addHandles([this.baseLayers.on("after-add",a=>i(a.item)),this.baseLayers.on("after-remove",a=>s(a.item)),this.referenceLayers.on("after-add",a=>i(a.item)),this.referenceLayers.on("after-remove",a=>s(a.item)),this.groundLayers.on("before-add",n),this.groundLayers.on("after-add",a=>r(a.item)),this.groundLayers.on("after-remove",a=>o(a.item))])}initialize(){this.when().catch(e=>{Ee.getLogger(this).error("#load()",`Failed to load basemap (title: '${this.title}', id: '${this.id}')`,e)}),this.resourceInfo&&this.read(this.resourceInfo.data,this.resourceInfo.context)}destroy(){const e=this.baseLayers.toArray();for(const n of e)n.destroyed||n.destroy();const i=this.groundLayers.toArray();for(const n of i)n.destroyed||n.destroy();const r=this.referenceLayers.toArray();for(const n of r)n.destroyed||n.destroy();this.baseLayers.destroy(),this.groundLayers.destroy(),this.referenceLayers.destroy(),this.portalItem=pr(this.portalItem)}removeChildLayer(e){for(const i of[this.baseLayers,this.referenceLayers,this.groundLayers])i.remove(e)}normalizeCtorArgs(e){return e&&"resourceInfo"in e&&(this._set("resourceInfo",e.resourceInfo),delete(e={...e}).resourceInfo),e}set baseLayers(e){this._set("baseLayers",Td(e,this._get("baseLayers")))}_writeBaseLayers(e,i,r){const n=[];e&&(r={...r,layerContainerType:"basemap-base-layers"},this.baseLayers.forEach(s=>{const o=iM(s,r.webmap?r.webmap.getLayerJSONFromResourceInfo(s):null,r);o!=null&&n.push(o)}),this.referenceLayers.forEach(s=>{const o=iM(s,r.webmap?r.webmap.getLayerJSONFromResourceInfo(s):null,r);o!=null&&(s.type!=="scene"&&(o.isReference=!0),n.push(o))})),i.baseMapLayers=n}set groundLayers(e){this._set("groundLayers",Td(e,this._get("groundLayers")))}_writeGroundLayers(e,i,r){const n=[];e&&(r={...r,layerContainerType:"basemap-ground-layers"},this.groundLayers.forEach(s=>{const o=iM(s,r.webmap?r.webmap.getLayerJSONFromResourceInfo(s):null,r);o!=null&&n.push(o)}),n.length>0&&(i.groundLayers=n))}get loaded(){return super.loaded}set referenceLayers(e){this._set("referenceLayers",Td(e,this._get("referenceLayers")))}writeTitle(e,i){i.title=e||"Basemap"}load(e){return this.addResolvingPromise(this._loadFromSource(e)),Promise.resolve(this)}loadAll(){return GD(this,e=>{e(this.baseLayers,this.groundLayers,this.referenceLayers)})}clone(){const e={id:this.id,title:this.title,portalItem:this.portalItem,baseLayers:this.baseLayers.map(i=>TT(i)?i.clone():i),groundLayers:this.groundLayers.map(i=>TT(i)?i.clone():i),referenceLayers:this.referenceLayers.map(i=>TT(i)?i.clone():i)};return this.loaded&&(e.loadStatus="loaded"),new T0({resourceInfo:this.resourceInfo}).set(e)}read(e,i){this.resourceInfo||this._set("resourceInfo",{data:e,context:i}),super.read(e,i)}write(e,i){return e=e||{},i?.origin||(i={origin:"web-map",...i}),super.write(e,i),!this.loaded&&this.resourceInfo?.data.baseMapLayers&&(e.baseMapLayers=this.resourceInfo.data.baseMapLayers.map(r=>{const n=ne(r);return n.url&&Rd(n.url)&&(n.url=`https:${n.url}`),n.templateUrl&&Rd(n.templateUrl)&&(n.templateUrl=`https:${n.templateUrl}`),n})),e}async _loadFromSource(e){const{resourceInfo:i,portalItem:r,style:n}=this;nr(e);const s=[];if(i){const o=i.context?i.context.url:null;if(s.push(this._loadLayersFromJSON(i.data,o,e)),i.data.id&&!i.data.title){const a=i.data.id;s.push(OAe(a).then(l=>{l&&this.read({title:l},i.context)}))}}else r?s.push(this._loadFromItem(r,e)):n&&s.push(this._loadFromStylesService(n,e));await Promise.all(s)}async _loadLayersFromJSON(e,i,r){const n=this.resourceInfo?.context,s=this.portalItem?.portal||n?.portal||null,o=KAe[n?.origin||""]??"web-map",{populateOperationalLayers:a}=await ke(async()=>{const{populateOperationalLayers:h}=await import("./layersCreator-CiKRSslc.js");return{populateOperationalLayers:h}},__vite__mapDeps([179,176,175,174,177,173])),l=[];if(nr(r),e.baseMapLayers&&Array.isArray(e.baseMapLayers)){const h={context:{...n,origin:o,url:i,portal:s,layerContainerType:"basemap-base-layers"},defaultLayerType:"DefaultTileLayer"},f=w=>o==="web-scene"&&w.layerType==="ArcGISSceneServiceLayer"||w.isReference,g=a(this.baseLayers,e.baseMapLayers.filter(w=>!f(w)),h);l.push(g);const v=a(this.referenceLayers,e.baseMapLayers.filter(f),h);l.push(v)}if(e.groundLayers&&Array.isArray(e.groundLayers)){const h={context:{...n,origin:o,url:i,portal:s,layerContainerType:"basemap-ground-layers"},defaultLayerType:"IntegratedMesh3DTilesLayer"},f=a(this.groundLayers,e.groundLayers,h);l.push(f)}await Promise.allSettled(l)}async _loadFromItem(e,i){const r=await e.load(i),n=await r.fetchData("json",i),s=Qr(e.itemUrl??"");return this._set("resourceInfo",{data:n.baseMap??{},context:{origin:XAe[e.type||""]??"web-map",portal:e.portal||Le.getDefault(),url:s}}),this.read(this.resourceInfo.data,this.resourceInfo.context),this.read({spatialReference:n.spatialReference},this.resourceInfo.context),this.read({title:e.title,thumbnailUrl:e.thumbnailUrl},{origin:"portal-item",portal:e.portal||Le.getDefault(),url:s}),this._loadLayersFromJSON(this.resourceInfo.data,s,i)}async _loadFromStylesService(e,i){const r=e.serviceUrl.endsWith("/webmaps")?e.serviceUrl.slice(0,-8):e.serviceUrl,n=`${r}/styles/${e.id}/self`,s=`${r}/webmaps/${e.id}`,o=e.apiKey??ni.apiKeys.basemapStyles,[a,l]=await Promise.all([(await Vt(n,{query:{token:o},signal:i?.signal})).data,(await Vt(s,{query:{language:e.languageParameter,places:e.places,worldview:e.worldview,token:o},signal:i?.signal})).data]);this.thumbnailUrl??=a.thumbnailUrl;const h=Qr(s);if(this._set("resourceInfo",{data:l.baseMap??{},context:{origin:"web-map",url:h}}),this.read(this.resourceInfo.data,this.resourceInfo.context),this.read({spatialReference:l.spatialReference},this.resourceInfo.context),await this._loadLayersFromJSON(this.resourceInfo.data,h,i),o)for(const f of[...this.baseLayers,...this.groundLayers,...this.referenceLayers])"apiKey"in f&&(f.apiKey=o)}static fromId(e){const i=wF[e];return i?i.itemId?new T0({portalItem:{id:i.itemId,portal:{url:"https://www.arcgis.com"}}}):T0.fromJSON(i,i.is3d?{origin:"web-scene",portal:new Le({url:"https://www.arcgis.com"})}:{origin:"web-map"}):null}},sJ=Kle,T0=uv,uv.idCounter=0,uv);u([p({json:{read:!1,write:{ignoreOrigin:!0,target:"baseMapLayers",writer(t,e,i,r){this._writeBaseLayers(t,e,r)}},origins:{"web-scene":{write:{ignoreOrigin:!0,target:{baseMapLayers:{type:We}},writer(t,e,i,r){this._writeBaseLayers(t,e,r)}}}}}})],Wo.prototype,"baseLayers",null),u([p({json:{read:!1,write:{ignoreOrigin:!0,target:"groundLayers",writer(t,e,i,r){this._writeGroundLayers(t,e,r)}},origins:{"web-scene":{write:{ignoreOrigin:!0,target:{groundLayers:{type:We}},writer(t,e,i,r){this._writeGroundLayers(t,e,r)}}}}}})],Wo.prototype,"groundLayers",null),u([p({type:String,json:{origins:{"web-scene":{write:!0}}}})],Wo.prototype,"id",void 0),u([p({type:kt})],Wo.prototype,"portalItem",void 0),u([p()],Wo.prototype,"referenceLayers",null),u([p({readOnly:!0})],Wo.prototype,"resourceInfo",void 0),u([p({type:Ke})],Wo.prototype,"spatialReference",void 0),u([p({type:PAe})],Wo.prototype,"style",void 0),u([p()],Wo.prototype,"thumbnailUrl",void 0),u([p({type:String,json:{origins:{"web-scene":{write:{isRequired:!0}}}}})],Wo.prototype,"title",void 0),u([ze("title")],Wo.prototype,"writeTitle",null),Wo=T0=u([j("esri.Basemap")],Wo);const XAe={"Web Scene":"web-scene","Web Map":"web-map","Link Chart":"link-chart"},KAe={"web-scene":"web-scene","web-map":"web-map","link-chart":"link-chart"},jT=Wo,QAe=Object.freeze(Object.defineProperty({__proto__:null,default:jT},Symbol.toStringTag,{value:"Module"})),hO={transparent:[0,0,0,0],black:[0,0,0,1],silver:[192,192,192,1],gray:[128,128,128,1],white:[255,255,255,1],maroon:[128,0,0,1],red:[255,0,0,1],purple:[128,0,128,1],fuchsia:[255,0,255,1],green:[0,128,0,1],lime:[0,255,0,1],olive:[128,128,0,1],yellow:[255,255,0,1],navy:[0,0,128,1],blue:[0,0,255,1],teal:[0,128,128,1],aqua:[0,255,255,1],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],blanchedalmond:[255,235,205,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],oldlace:[253,245,230,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],rebeccapurple:[102,51,153,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],whitesmoke:[245,245,245,1],yellowgreen:[154,205,50,1]};function sce(t){return!!hO[t]||!!hO[t.toLowerCase()]}function BU(t){return hO[t]??hO[t.toLowerCase()]}function eOe(t){return[...BU(t)]}function QL(t,e,i){i<0&&++i,i>1&&--i;const r=6*i;return r<1?t+(e-t)*r:2*i<1?e:3*i<2?t+(e-t)*(2/3-i)*6:t}function oce(t,e,i,r=1){const n=(t%360+360)%360/360,s=i<=.5?i*(e+1):i+e-i*e,o=2*i-s;return[Math.round(255*QL(o,s,n+1/3)),Math.round(255*QL(o,s,n)),Math.round(255*QL(o,s,n-1/3)),r]}function tOe(t){const e=t.length>5,i=e?8:4,r=(1<<i)-1,n=e?1:17,s=e?t.length===9:t.length===5;let o=+("0x"+t.slice(1));if(isNaN(o))return null;const a=[0,0,0,1];let l;return s&&(l=o&r,o>>=i,a[3]=n*l/255),l=o&r,o>>=i,a[2]=n*l,l=o&r,o>>=i,a[1]=n*l,l=o&r,o>>=i,a[0]=n*l,a}function ace(t){if(!t.startsWith("#")||isNaN(+`0x${t.slice(1)}`))return null;switch(t.length){case 4:case 5:{const e=parseInt(t.slice(1,2),16),i=parseInt(t.slice(2,3),16),r=parseInt(t.slice(3,4),16),n=t.length===4?15:parseInt(t.slice(4),16);return[e+16*e,i+16*i,r+16*r,(n+16*n)/255]}case 7:case 9:return[parseInt(t.slice(1,3),16),parseInt(t.slice(3,5),16),parseInt(t.slice(5,7),16),(t.length===7?255:parseInt(t.slice(7),16))/255];default:return null}}function lce(t){const e=t.toLowerCase().match(/^(rgba?|hsla?)\(([\s.\-,%0-9]+)\)/);if(e){const i=e[2].split(/\s*,\s*/),r=e[1];if(r==="rgb"&&i.length===3||r==="rgba"&&i.length===4){if(i[0].endsWith("%")){const n=i.map(s=>2.56*parseFloat(s));return i.length===4&&(n[3]=parseFloat(i[3])),oJ(n)}return oJ(i.map(n=>parseFloat(n)))}if(r==="hsl"&&i.length===3||r==="hsla"&&i.length===4)return oce(parseFloat(i[0]),parseFloat(i[1])/100,parseFloat(i[2])/100,parseFloat(i[3]??"1"))}return null}function oJ(t){return t[0]=Kw(t[0]),t[1]=Kw(t[1]),t[2]=Kw(t[2]),t[3]=t.length===4?uce(t[3]):1,t}function cce(t){let e=sce(t)?BU(t):null;return e??=lce(t),e??=ace(t),e}function Pst(t){const e=cce(t);return e!=null?[e[0]/255,e[1]/255,e[2]/255,e[3]]:null}function uce(t){return dce(t,0,1)}function Kw(t){return Math.round(dce(t,0,255))}function dce(t,e,i){return t=Number(t),isNaN(t)?i:t<e?e:t>i?i:t}const hce=2.2,iOe=1/hce;function Dst(t){return t**hce}function Rst(t){return t**iOe}function pI(t){return vl(d9(t),0,255)}function fI(t,e){const i=t.toString(16).padStart(2,"0");return e?i.slice(0,1):i}let xt=class Nl{static blendColors(e,i,r,n=new Nl){return n.r=Math.round(e.r+(i.r-e.r)*r),n.g=Math.round(e.g+(i.g-e.g)*r),n.b=Math.round(e.b+(i.b-e.b)*r),n.a=e.a+(i.a-e.a)*r,n._sanitize()}static fromRgb(e,i){const r=lce(e);return r?Nl.fromArray(r,i):null}static fromHex(e,i=new Nl){const r=ace(e);return r?Nl.fromArray(r,i):null}static fromArray(e,i=new Nl){return i._set(Number(e[0]),Number(e[1]),Number(e[2]),Number(e[3])),isNaN(i.a)&&(i.a=1),i._sanitize()}static fromString(e,i){const r=cce(e);return r?Nl.fromArray(r,i):null}static fromJSON(e){return e!=null?new Nl([e[0],e[1],e[2],(e[3]??255)/255]):void 0}static toUnitRGB(e){return e!=null?[e.r/255,e.g/255,e.b/255]:null}static toUnitRGBA(e,i){return e==null?null:(i??=[0,0,0,0],i[0]=e.r/255,i[1]=e.g/255,i[2]=e.b/255,i[3]=e.a!=null?e.a:1,i)}constructor(e){this.r=255,this.g=255,this.b=255,this.a=1,e&&this.setColor(e)}get isBright(){return .299*this.r+.587*this.g+.114*this.b>=127}setColor(e){return typeof e=="string"?Nl.fromString(e,this):Array.isArray(e)?Nl.fromArray(e,this):(this._set(e.r??0,e.g??0,e.b??0,e.a??1),e instanceof Nl||this._sanitize()),this}toRgb(){return[this.r,this.g,this.b]}toRgba(){return[this.r,this.g,this.b,this.a]}toHex(e){const i=e?.capitalize??!1,r=e?.digits??6,n=r===3||r===4,s=r===4||r===8,o=`#${fI(this.r,n)}${fI(this.g,n)}${fI(this.b,n)}${s?fI(Math.round(255*this.a),n):""}`;return i?o.toUpperCase():o}toCss(e=!1){const i=this.r+", "+this.g+", "+this.b;return e?`rgba(${i}, ${this.a})`:`rgb(${i})`}toString(){return this.toCss(!0)}toJSON(){return this.toArray()}toArray(e=0){const i=pI(this.r),r=pI(this.g),n=pI(this.b);return e===0||this.a!==1?[i,r,n,pI(255*this.a)]:[i,r,n]}clone(){return new Nl(this.toRgba())}hash(){return this.r<<24|this.g<<16|this.b<<8|255*this.a}equals(e){return e!=null&&e.r===this.r&&e.g===this.g&&e.b===this.b&&e.a===this.a}_sanitize(){return this.r=Kw(this.r),this.g=Kw(this.g),this.b=Kw(this.b),this.a=uce(this.a),this}_set(e,i,r,n){this.r=e,this.g=i,this.b=r,this.a=n}};xt.prototype.declaredClass="esri.Color";function nt(t,e={}){const i=t instanceof At?t:new At(t,e),{alwaysWriteDefaults:r,default:n,ignoreUnknown:s=!0,name:o,nonNullable:a,readOnly:l=!1}=e;return p({type:s?i.apiValues:String,json:{type:i.jsonValues,default:n,name:o,read:!l&&{reader:i.read},write:{writer:i.write,alwaysWriteDefaults:r}},nonNullable:a,readOnly:l})}var SF;let rM=SF=class extends ge{constructor(t){super(t),this.type="none"}clone(){return new SF({type:this.type})}};u([nt({none:"none",stayAbove:"stay-above"}),p({json:{write:{isRequired:!0}}})],rM.prototype,"type",void 0),rM=SF=u([j("esri.ground.NavigationConstraint")],rM);const pce=Symbol("GroundInstance");function Lst(t){return t!=null&&typeof t=="object"&&pce in t}function ZD(t){const e=d9(100*(1-t));return Math.max(0,Math.min(e,100))}function W2(t){const e=1-t/100;return Math.max(0,Math.min(e,1))}var aJ,TF,Yte;let jl=TF=(Yte=class extends zp(Gv){constructor(t){super(t),this[aJ]=!0,this.parent=null,this.opacity=1,this.surfaceColor=null,this.navigationConstraint=null,this.layers=new We;const e=r=>{const{parent:n}=r;n&&n!==this&&"remove"in n&&n.remove?.(r),r.parent=this,r.type!=="elevation"&&r.type!=="base-elevation"&&Ee.getLogger(this).error(`Layer '${r.title}, id:${r.id}' of type '${r.type}' is not supported as a ground layer and will therefore be ignored. Only layers of type 'elevation' are supported.`)},i=r=>{r.parent=null};this.addHandles([this.layers.on("after-add",r=>e(r.item)),this.layers.on("after-remove",r=>i(r.item))]),this.allLayers=new cu({getCollections:()=>[this.layers,this.parent?.basemap?.groundLayers]})}removeChildLayer(t){this.layers.remove(t)}initialize(){this.when().catch(t=>{us(t)||Ee.getLogger(this).error("#load()","Failed to load ground",t)}),this.resourceInfo&&this.read(this.resourceInfo.data,this.resourceInfo.context)}get integratedMeshGround(){const t=this.parent?.basemap?.groundLayers.at(0);return t?.replacesTerrain?t:null}destroy(){const t=this.layers.removeAll();for(const e of t)pr(e);this.layers.destroy()}normalizeCtorArgs(t){return t&&"resourceInfo"in t&&(this._set("resourceInfo",t.resourceInfo),delete(t={...t}).resourceInfo),t}get loaded(){return super.loaded}get layers(){return this._get("layers")}set layers(t){this._set("layers",Td(t,this._get("layers")))}writeLayers(t,e,i,r){const n=[];t&&(r={...r,layerContainerType:"ground"},t.forEach(s=>{if("write"in s){const o={};Ave(s)().write(o,r)&&n.push(o)}else r?.messages&&r.messages.push(new ee("layer:unsupported",`Layers (${s.title}, ${s.id}) of type '${s.declaredClass}' cannot be persisted in the ground`,{layer:s}))})),e.layers=n}load(t){return this.addResolvingPromise(this._loadFromSource(t)),Promise.resolve(this)}loadAll(){return GD(this,t=>{t(this.layers)})}async queryElevation(t,e){await this.load({signal:e?.signal});const{queryAll:i}=await ke(()=>import("./ElevationQuery-CGwMnvLs.js"),__vite__mapDeps([180,181]));return nr(e),i(this.layers.filter(lJ).toArray(),t,e)}async createElevationSampler(t,e){await this.load({signal:e?.signal});const{createSampler:i}=await ke(()=>import("./ElevationQuery-CGwMnvLs.js"),__vite__mapDeps([180,181]));return nr(e),i(this.layers.filter(lJ).toArray(),t,e)}clone(){const t={opacity:this.opacity,surfaceColor:ne(this.surfaceColor),navigationConstraint:ne(this.navigationConstraint),layers:this.layers.slice()};return this.loaded&&(t.loadStatus="loaded"),new TF({resourceInfo:this.resourceInfo}).set(t)}read(t,e){this.resourceInfo||this._set("resourceInfo",{data:t,context:e}),super.read(t,e)}_loadFromSource(t){const e=this.resourceInfo;return e?this._loadLayersFromJSON(e.data,e.context,t):Promise.resolve()}async _loadLayersFromJSON(t,e,i){const r=e?.origin||"web-scene",n=e?.portal||null,s=e?.url||null,{populateOperationalLayers:o}=await ke(async()=>{const{populateOperationalLayers:l}=await import("./layersCreator-CiKRSslc.js");return{populateOperationalLayers:l}},__vite__mapDeps([179,176,175,174,177,173]));nr(i);const a=[];if(t.layers&&Array.isArray(t.layers)){const l={context:{origin:r,url:s,portal:n,layerContainerType:"ground"},defaultLayerType:"ArcGISTiledElevationServiceLayer"};a.push(o(this.layers,t.layers,l))}await Promise.allSettled(a)}},aJ=pce,Yte);function lJ(t){return t&&"createElevationSampler"in t}u([p()],jl.prototype,"parent",void 0),u([p()],jl.prototype,"integratedMeshGround",null),u([p({json:{read:!1,write:{isRequired:!0}}})],jl.prototype,"layers",null),u([p()],jl.prototype,"allLayers",void 0),u([ze("layers")],jl.prototype,"writeLayers",null),u([p({readOnly:!0})],jl.prototype,"resourceInfo",void 0),u([p({type:Number,nonNullable:!0,range:{min:0,max:1},json:{type:Ht,read:{reader:W2,source:"transparency"},write:{writer:(t,e)=>{e.transparency=ZD(t)},target:"transparency"}}})],jl.prototype,"opacity",void 0),u([p({type:xt,json:{type:[Ht],write:(t,e)=>{e.surfaceColor=t.toJSON().slice(0,3)}}})],jl.prototype,"surfaceColor",void 0),u([p({type:rM,json:{write:!0}})],jl.prototype,"navigationConstraint",void 0),jl=TF=u([j("esri.Ground")],jl);const pO=jl,Zb={Base64:0,Hex:1,String:2,Raw:3},Qw=8,fce=(1<<Qw)-1;function $m(t,e){const i=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(i>>16)<<16|65535&i}function rOe(t){const e=[];for(let i=0,r=t.length*Qw;i<r;i+=Qw)e[i>>5]|=(t.charCodeAt(i/Qw)&fce)<<i%32;return e}function nOe(t){const e=[];for(let i=0,r=32*t.length;i<r;i+=Qw)e.push(String.fromCharCode(t[i>>5]>>>i%32&fce));return e.join("")}function sOe(t){const e="0123456789abcdef",i=[];for(let r=0,n=4*t.length;r<n;r++)i.push(e.charAt(t[r>>2]>>r%4*8+4&15)+e.charAt(t[r>>2]>>r%4*8&15));return i.join("")}function oOe(t){const i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r=[];for(let n=0,s=4*t.length;n<s;n+=3){const o=(t[n>>2]>>n%4*8&255)<<16|(t[n+1>>2]>>(n+1)%4*8&255)<<8|t[n+2>>2]>>(n+2)%4*8&255;for(let a=0;a<4;a++)8*n+6*a>32*t.length?r.push("="):r.push(i.charAt(o>>6*(3-a)&63))}return r.join("")}function aOe(t,e){return t<<e|t>>>32-e}function JD(t,e,i,r,n,s){return $m(aOe($m($m(e,t),$m(r,s)),n),i)}function Hs(t,e,i,r,n,s,o){return JD(e&i|~e&r,t,e,n,s,o)}function qs(t,e,i,r,n,s,o){return JD(e&r|i&~r,t,e,n,s,o)}function Gs(t,e,i,r,n,s,o){return JD(e^i^r,t,e,n,s,o)}function Ws(t,e,i,r,n,s,o){return JD(i^(e|~r),t,e,n,s,o)}function lOe(t,e){t[e>>5]|=128<<e%32,t[14+(e+64>>>9<<4)]=e;let i=1732584193,r=-271733879,n=-1732584194,s=271733878;for(let o=0;o<t.length;o+=16){const a=i,l=r,h=n,f=s;i=Hs(i,r,n,s,t[o],7,-680876936),s=Hs(s,i,r,n,t[o+1],12,-389564586),n=Hs(n,s,i,r,t[o+2],17,606105819),r=Hs(r,n,s,i,t[o+3],22,-1044525330),i=Hs(i,r,n,s,t[o+4],7,-176418897),s=Hs(s,i,r,n,t[o+5],12,1200080426),n=Hs(n,s,i,r,t[o+6],17,-1473231341),r=Hs(r,n,s,i,t[o+7],22,-45705983),i=Hs(i,r,n,s,t[o+8],7,1770035416),s=Hs(s,i,r,n,t[o+9],12,-1958414417),n=Hs(n,s,i,r,t[o+10],17,-42063),r=Hs(r,n,s,i,t[o+11],22,-1990404162),i=Hs(i,r,n,s,t[o+12],7,1804603682),s=Hs(s,i,r,n,t[o+13],12,-40341101),n=Hs(n,s,i,r,t[o+14],17,-1502002290),r=Hs(r,n,s,i,t[o+15],22,1236535329),i=qs(i,r,n,s,t[o+1],5,-165796510),s=qs(s,i,r,n,t[o+6],9,-1069501632),n=qs(n,s,i,r,t[o+11],14,643717713),r=qs(r,n,s,i,t[o],20,-373897302),i=qs(i,r,n,s,t[o+5],5,-701558691),s=qs(s,i,r,n,t[o+10],9,38016083),n=qs(n,s,i,r,t[o+15],14,-660478335),r=qs(r,n,s,i,t[o+4],20,-405537848),i=qs(i,r,n,s,t[o+9],5,568446438),s=qs(s,i,r,n,t[o+14],9,-1019803690),n=qs(n,s,i,r,t[o+3],14,-187363961),r=qs(r,n,s,i,t[o+8],20,1163531501),i=qs(i,r,n,s,t[o+13],5,-1444681467),s=qs(s,i,r,n,t[o+2],9,-51403784),n=qs(n,s,i,r,t[o+7],14,1735328473),r=qs(r,n,s,i,t[o+12],20,-1926607734),i=Gs(i,r,n,s,t[o+5],4,-378558),s=Gs(s,i,r,n,t[o+8],11,-2022574463),n=Gs(n,s,i,r,t[o+11],16,1839030562),r=Gs(r,n,s,i,t[o+14],23,-35309556),i=Gs(i,r,n,s,t[o+1],4,-1530992060),s=Gs(s,i,r,n,t[o+4],11,1272893353),n=Gs(n,s,i,r,t[o+7],16,-155497632),r=Gs(r,n,s,i,t[o+10],23,-1094730640),i=Gs(i,r,n,s,t[o+13],4,681279174),s=Gs(s,i,r,n,t[o],11,-358537222),n=Gs(n,s,i,r,t[o+3],16,-722521979),r=Gs(r,n,s,i,t[o+6],23,76029189),i=Gs(i,r,n,s,t[o+9],4,-640364487),s=Gs(s,i,r,n,t[o+12],11,-421815835),n=Gs(n,s,i,r,t[o+15],16,530742520),r=Gs(r,n,s,i,t[o+2],23,-995338651),i=Ws(i,r,n,s,t[o],6,-198630844),s=Ws(s,i,r,n,t[o+7],10,1126891415),n=Ws(n,s,i,r,t[o+14],15,-1416354905),r=Ws(r,n,s,i,t[o+5],21,-57434055),i=Ws(i,r,n,s,t[o+12],6,1700485571),s=Ws(s,i,r,n,t[o+3],10,-1894986606),n=Ws(n,s,i,r,t[o+10],15,-1051523),r=Ws(r,n,s,i,t[o+1],21,-2054922799),i=Ws(i,r,n,s,t[o+8],6,1873313359),s=Ws(s,i,r,n,t[o+15],10,-30611744),n=Ws(n,s,i,r,t[o+6],15,-1560198380),r=Ws(r,n,s,i,t[o+13],21,1309151649),i=Ws(i,r,n,s,t[o+4],6,-145523070),s=Ws(s,i,r,n,t[o+11],10,-1120210379),n=Ws(n,s,i,r,t[o+2],15,718787259),r=Ws(r,n,s,i,t[o+9],21,-343485551),i=$m(i,a),r=$m(r,l),n=$m(n,h),s=$m(s,f)}return[i,r,n,s]}function HU(t,e=Zb.Hex){const i=e||Zb.Base64,r=lOe(rOe(t),t.length*Qw);switch(i){case Zb.Raw:return r;case Zb.Hex:return sOe(r);case Zb.String:return nOe(r);case Zb.Base64:return oOe(r)}}function cOe(t){return t&&"getAtOrigin"in t&&"originOf"in t}function $F(t){return qU[uOe(t)]||hOe}function uOe(t){return t.type==="json"?"application/json":t.type==="blob"?t.blob.type:dOe(t.url)}function dOe(t){const e=$re(t);return kF[e]||mce}const qU={},mce="text/plain",hOe=qU[mce],kF={png:"image/png",jpeg:"image/jpeg",jpg:"image/jpg",bmp:"image/bmp",gif:"image/gif",json:"application/json",txt:"text/plain",xml:"application/xml",svg:"image/svg+xml",zip:"application/zip",pbf:"application/vnd.mapbox-vector-tile",gz:"application/gzip","bin.gz":"application/octet-stream"};for(const t in kF)qU[kF[t]]=t;function pOe(t){const e=t?.origins??[void 0];return(i,r)=>{const n=fOe(t,i,r);for(const s of e){const o=h9(i,s,r);for(const a in n)o[a]=n[a]}}}function fOe(t,e,i){if(t?.type==="resource")return mOe(t,e,i);switch(t?.type??"other"){case"other":return{read:!0,write:!0};case"url":{const{read:r,write:n}=Ewe;return{read:r,write:n}}}}function mOe(t,e,i){const r=D$(e,i);return{type:String,read:(n,s,o)=>{const a=dD(n,s,o);return r.type===String?a:typeof r.type=="function"?new r.type({url:a}):void 0},write:{isRequired:r.json?.write?.isRequired,writer(n,s,o,a){if(!a?.resources)return typeof n=="string"?void(s[o]=bv(n,a)):void(s[o]=n.write({},a));const l=vOe(n),h=bv(l,{...a,verifyItemRelativeUrls:a?.verifyItemRelativeUrls?{writtenUrls:a.verifyItemRelativeUrls.writtenUrls,rootPath:void 0}:void 0},1),f=r.type!==String&&(!cOe(this)||a?.origin&&this.originIdOf(i)>bp(a.origin)),g={object:this,propertyName:i,value:n,targetUrl:h,dest:s,targetPropertyName:o,context:a,params:t};a?.portalItem&&h&&!ga(h)?f&&t?.contentAddressed?EF(g):f?gOe(g):yOe(g):a?.portalItem&&(h==null||Mre(h)!=null||$1(h)||f)?EF(g):s[o]=h}}}}function EF(t){const{targetUrl:e,params:i,value:r,context:n,dest:s,targetPropertyName:o}=t;if(!n.portalItem)return;const a=Are(e),l=yce(r,e,n);if(i?.contentAddressed&&l.type!=="json")return void n.messages?.push(new ee("persistable:contentAddressingUnsupported",`Property "${o}" is trying to serializing a resource with content of type ${l.type} with content addressing. Content addressing is only supported for json resources.`,{content:l}));const h=i?.contentAddressed&&l.type==="json"?HU(l.jsonString):a?.filename??A1(),f=yv(i?.prefix??a?.prefix,h),g=`${f}.${$F(l)}`;if(i?.contentAddressed&&n.resources&&l.type==="json"){const S=n.resources.toKeep.find(({resource:T})=>T.path===g)??n.resources.toAdd.find(({resource:T})=>T.path===g);if(S)return void(s[o]=S.resource.itemRelativeUrl)}const v=n.portalItem.resourceFromPath(g);$1(e)&&n.resources&&n.resources.pendingOperations.push(dwe(e).then(S=>{v.path=`${f}.${$F({type:"blob",blob:S})}`,s[o]=v.itemRelativeUrl}).catch(()=>{}));const w=i?.compress??!1;n.resources&&gce({...t,resource:v,content:l,compress:w,updates:n.resources.toAdd}),s[o]=v.itemRelativeUrl}function gOe(t){const{context:e,targetUrl:i,params:r,value:n,dest:s,targetPropertyName:o}=t;if(!e.portalItem)return;const a=e.portalItem.resourceFromPath(i),l=yce(n,i,e),h=$F(l),f=$re(a.path),g=r?.compress??!1;h===f?(e.resources&&gce({...t,resource:a,content:l,compress:g,updates:e.resources.toUpdate}),s[o]=i):EF(t)}function yOe({context:t,targetUrl:e,dest:i,targetPropertyName:r}){t.portalItem&&t.resources&&(t.resources.toKeep.push({resource:t.portalItem.resourceFromPath(e),compress:!1}),i[r]=e)}function gce({object:t,propertyName:e,updates:i,resource:r,content:n,compress:s}){const o=a=>{bOe(t,e,a)};i.push({resource:r,content:n,compress:s,finish:o})}function yce(t,e,i){return typeof t=="string"?{type:"url",url:e}:{type:"json",jsonString:JSON.stringify(t.toJSON(i))}}function vOe(t){return t==null?null:typeof t=="string"?t:t.url}function bOe(t,e,i){typeof t[e]=="string"?t[e]=i.url:t[e].url=i.url}let nM=class extends dt(ge){constructor(e){super(e),this.color=null}};u([p({type:xt,json:{type:[Ht],write:!0}})],nM.prototype,"color",void 0),nM=u([j("esri.effects.FocusAreaOutline")],nM);const wOe=nM;var sM;let IF=sM=class extends zp(We.ofType(hr)){constructor(t){super(t)}clone(){return new sM(this.items.map(t=>t.clone()))}write(t,e){return this.toJSON(e)}toJSON(t){const e=t?.layer?.spatialReference;return e?this.toArray().map(i=>{if(!e.equals(i.spatialReference)){if(!wu(i.spatialReference,e))return t?.messages?.push(new yl("scenefilter:unsupported","Scene filters with incompatible spatial references are not supported",{modification:this,spatialReference:t.layer.spatialReference,context:t})),null;const n=new hr;Hle(i,n,e),i=n}const r=i.toJSON(t);return delete r.spatialReference,r}).filter(i=>i!=null):this.toArray().map(i=>i.toJSON(t))}static fromJSON(t,e){const i=new sM;return t.forEach(r=>i.add(hr.fromJSON(r,e))),i}};IF=sM=u([j("esri.layers.support.PolygonCollection")],IF);const FT=IF;let Ch=class extends zp(_U){constructor(e){super(e),this.id=`focusarea-${A1()}`,this.title=null,this.enabled=!0,this.outline=null,this.geometries=new FT}readGeometries(e,i,r){Array.isArray(e)?this.geometries=FT.fromJSON(e,r):r.origin!=="web-scene"&&r.origin!=="portal-item"||r.hooks?.onAfterLoad?.(()=>this._loadGeometries(Uv(e,r),r))}async _loadGeometries(e,i){const r=await Vt(e,{responseType:"json"});this.geometries=FT.fromJSON(r.data,i)}};u([p({type:String,nonNullable:!0,json:{write:!0,origins:{"web-scene":{write:{isRequired:!0}}}}}),p()],Ch.prototype,"id",void 0),u([p({type:String,json:{write:!0}})],Ch.prototype,"title",void 0),u([p({type:Boolean,nonNullable:!0,json:{write:!0,origins:{"web-scene":{write:{isRequired:!0}}}}})],Ch.prototype,"enabled",void 0),u([p({type:wOe,json:{write:!0}})],Ch.prototype,"outline",void 0),u([p({type:FT,nonNullable:!0,json:{write:!0,origins:{"web-scene":{write:{isRequired:!0}}}},clonable:t=>new FT(t.items.map(e=>e.clone()))}),pOe({origins:["web-scene","portal-item"],type:"resource",prefix:"geometries",contentAddressed:!0})],Ch.prototype,"geometries",void 0),u([Ae(["web-scene","portal-item","service"],"geometries")],Ch.prototype,"readGeometries",null),Ch=u([j("esri.effects.FocusArea")],Ch);const _Oe=Ch;let ES=class extends zp(_U){constructor(e){super(e),this.areas=new We,this.style="bright"}};u([p({type:We.ofType(_Oe),nonNullable:!0,json:{write:!0,origins:{"web-scene":{write:{isRequired:!0}}}},clonable:t=>new We(t.items.map(e=>e.clone()))})],ES.prototype,"areas",void 0),u([p({type:["bright","dark"],nonNullable:!0,json:{write:!0}})],ES.prototype,"style",void 0),ES=u([j("esri.effects.FocusAreas")],ES);const vce=ES;function xOe(t){return typeof t=="object"&&t!=null&&"loaded"in t&&t.loaded===!0&&"type"in t}function SOe(t){return!(!xOe(t)||!FAe(t)?.operations?.supportsEditing||"editingEnabled"in t&&!UAe(t)||VU(t))}function XD(){const t=new Float32Array(16);return t[0]=1,t[5]=1,t[10]=1,t[15]=1,t}function TOe(t){const e=new Float32Array(16);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function $Oe(t,e,i,r,n,s,o,a,l,h,f,g,v,w,S,T){const C=new Float32Array(16);return C[0]=t,C[1]=e,C[2]=i,C[3]=r,C[4]=n,C[5]=s,C[6]=o,C[7]=a,C[8]=l,C[9]=h,C[10]=f,C[11]=g,C[12]=v,C[13]=w,C[14]=S,C[15]=T,C}const kOe=XD();Object.freeze(Object.defineProperty({__proto__:null,IDENTITY:kOe,clone:TOe,create:XD,fromValues:$Oe},Symbol.toStringTag,{value:"Module"}));function bce(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function ng(t,e,i,r,n,s,o,a,l,h,f,g,v,w,S,T,C){return t[0]=e,t[1]=i,t[2]=r,t[3]=n,t[4]=s,t[5]=o,t[6]=a,t[7]=l,t[8]=h,t[9]=f,t[10]=g,t[11]=v,t[12]=w,t[13]=S,t[14]=T,t[15]=C,t}function KD(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function sg(t,e){if(t===e){const i=e[1],r=e[2],n=e[3],s=e[6],o=e[7],a=e[11];t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=i,t[6]=e[9],t[7]=e[13],t[8]=r,t[9]=s,t[11]=e[14],t[12]=n,t[13]=o,t[14]=a}else t[0]=e[0],t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=e[1],t[5]=e[5],t[6]=e[9],t[7]=e[13],t[8]=e[2],t[9]=e[6],t[10]=e[10],t[11]=e[14],t[12]=e[3],t[13]=e[7],t[14]=e[11],t[15]=e[15];return t}function EOe(t,e){return wce(t,e)||KD(t),t}function wce(t,e){const i=e[0],r=e[1],n=e[2],s=e[3],o=e[4],a=e[5],l=e[6],h=e[7],f=e[8],g=e[9],v=e[10],w=e[11],S=e[12],T=e[13],C=e[14],I=e[15],A=i*a-r*o,P=i*l-n*o,D=i*h-s*o,L=r*l-n*a,B=r*h-s*a,N=n*h-s*l,Y=f*T-g*S,K=f*C-v*S,te=f*I-w*S,ue=g*C-v*T,ye=g*I-w*T,se=v*I-w*C;let G=A*se-P*ye+D*ue+L*te-B*K+N*Y;return G?(G=1/G,t[0]=(a*se-l*ye+h*ue)*G,t[1]=(n*ye-r*se-s*ue)*G,t[2]=(T*N-C*B+I*L)*G,t[3]=(v*B-g*N-w*L)*G,t[4]=(l*te-o*se-h*K)*G,t[5]=(i*se-n*te+s*K)*G,t[6]=(C*D-S*N-I*P)*G,t[7]=(f*N-v*D+w*P)*G,t[8]=(o*ye-a*te+h*Y)*G,t[9]=(r*te-i*ye-s*Y)*G,t[10]=(S*B-T*D+I*A)*G,t[11]=(g*D-f*B-w*A)*G,t[12]=(a*K-o*ue-l*Y)*G,t[13]=(i*ue-r*K+n*Y)*G,t[14]=(T*P-S*L-C*A)*G,t[15]=(f*L-g*P+v*A)*G,t):null}function IOe(t,e){const i=e[0],r=e[1],n=e[2],s=e[3],o=e[4],a=e[5],l=e[6],h=e[7],f=e[8],g=e[9],v=e[10],w=e[11],S=e[12],T=e[13],C=e[14],I=e[15];return t[0]=a*(v*I-w*C)-g*(l*I-h*C)+T*(l*w-h*v),t[1]=-(r*(v*I-w*C)-g*(n*I-s*C)+T*(n*w-s*v)),t[2]=r*(l*I-h*C)-a*(n*I-s*C)+T*(n*h-s*l),t[3]=-(r*(l*w-h*v)-a*(n*w-s*v)+g*(n*h-s*l)),t[4]=-(o*(v*I-w*C)-f*(l*I-h*C)+S*(l*w-h*v)),t[5]=i*(v*I-w*C)-f*(n*I-s*C)+S*(n*w-s*v),t[6]=-(i*(l*I-h*C)-o*(n*I-s*C)+S*(n*h-s*l)),t[7]=i*(l*w-h*v)-o*(n*w-s*v)+f*(n*h-s*l),t[8]=o*(g*I-w*T)-f*(a*I-h*T)+S*(a*w-h*g),t[9]=-(i*(g*I-w*T)-f*(r*I-s*T)+S*(r*w-s*g)),t[10]=i*(a*I-h*T)-o*(r*I-s*T)+S*(r*h-s*a),t[11]=-(i*(a*w-h*g)-o*(r*w-s*g)+f*(r*h-s*a)),t[12]=-(o*(g*C-v*T)-f*(a*C-l*T)+S*(a*v-l*g)),t[13]=i*(g*C-v*T)-f*(r*C-n*T)+S*(r*v-n*g),t[14]=-(i*(a*C-l*T)-o*(r*C-n*T)+S*(r*l-n*a)),t[15]=i*(a*v-l*g)-o*(r*v-n*g)+f*(r*l-n*a),t}function COe(t){const e=t[0],i=t[1],r=t[2],n=t[3],s=t[4],o=t[5],a=t[6],l=t[7],h=t[8],f=t[9],g=t[10],v=t[11],w=t[12],S=t[13],T=t[14],C=t[15];return(e*o-i*s)*(g*C-v*T)-(e*a-r*s)*(f*C-v*S)+(e*l-n*s)*(f*T-g*S)+(i*a-r*o)*(h*C-v*w)-(i*l-n*o)*(h*T-g*w)+(r*l-n*a)*(h*S-f*w)}function _ce(t,e,i){const r=e[0],n=e[1],s=e[2],o=e[3],a=e[4],l=e[5],h=e[6],f=e[7],g=e[8],v=e[9],w=e[10],S=e[11],T=e[12],C=e[13],I=e[14],A=e[15];let P=i[0],D=i[1],L=i[2],B=i[3];return t[0]=P*r+D*a+L*g+B*T,t[1]=P*n+D*l+L*v+B*C,t[2]=P*s+D*h+L*w+B*I,t[3]=P*o+D*f+L*S+B*A,P=i[4],D=i[5],L=i[6],B=i[7],t[4]=P*r+D*a+L*g+B*T,t[5]=P*n+D*l+L*v+B*C,t[6]=P*s+D*h+L*w+B*I,t[7]=P*o+D*f+L*S+B*A,P=i[8],D=i[9],L=i[10],B=i[11],t[8]=P*r+D*a+L*g+B*T,t[9]=P*n+D*l+L*v+B*C,t[10]=P*s+D*h+L*w+B*I,t[11]=P*o+D*f+L*S+B*A,P=i[12],D=i[13],L=i[14],B=i[15],t[12]=P*r+D*a+L*g+B*T,t[13]=P*n+D*l+L*v+B*C,t[14]=P*s+D*h+L*w+B*I,t[15]=P*o+D*f+L*S+B*A,t}function MOe(t,e,i){const r=i[0],n=i[1],s=i[2];if(e===t)t[12]=e[0]*r+e[4]*n+e[8]*s+e[12],t[13]=e[1]*r+e[5]*n+e[9]*s+e[13],t[14]=e[2]*r+e[6]*n+e[10]*s+e[14],t[15]=e[3]*r+e[7]*n+e[11]*s+e[15];else{const o=e[0],a=e[1],l=e[2],h=e[3],f=e[4],g=e[5],v=e[6],w=e[7],S=e[8],T=e[9],C=e[10],I=e[11];t[0]=o,t[1]=a,t[2]=l,t[3]=h,t[4]=f,t[5]=g,t[6]=v,t[7]=w,t[8]=S,t[9]=T,t[10]=C,t[11]=I,t[12]=o*r+f*n+S*s+e[12],t[13]=a*r+g*n+T*s+e[13],t[14]=l*r+v*n+C*s+e[14],t[15]=h*r+w*n+I*s+e[15]}return t}function AOe(t,e,i){const r=i[0],n=i[1],s=i[2];return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t[4]=e[4]*n,t[5]=e[5]*n,t[6]=e[6]*n,t[7]=e[7]*n,t[8]=e[8]*s,t[9]=e[9]*s,t[10]=e[10]*s,t[11]=e[11]*s,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function OOe(t,e,i,r){let n=r[0],s=r[1],o=r[2],a=Math.sqrt(n*n+s*s+o*o);if(a<=Lo())return void bce(t,e);a=1/a,n*=a,s*=a,o*=a;const l=Math.sin(i),h=Math.cos(i),f=1-h,g=e[0],v=e[1],w=e[2],S=e[3],T=e[4],C=e[5],I=e[6],A=e[7],P=e[8],D=e[9],L=e[10],B=e[11],N=n*n*f+h,Y=s*n*f+o*l,K=o*n*f-s*l,te=n*s*f-o*l,ue=s*s*f+h,ye=o*s*f+n*l,se=n*o*f+s*l,G=s*o*f-n*l,ie=o*o*f+h;t[0]=g*N+T*Y+P*K,t[1]=v*N+C*Y+D*K,t[2]=w*N+I*Y+L*K,t[3]=S*N+A*Y+B*K,t[4]=g*te+T*ue+P*ye,t[5]=v*te+C*ue+D*ye,t[6]=w*te+I*ue+L*ye,t[7]=S*te+A*ue+B*ye,t[8]=g*se+T*G+P*ie,t[9]=v*se+C*G+D*ie,t[10]=w*se+I*G+L*ie,t[11]=S*se+A*G+B*ie,e!==t&&(t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15])}function POe(t,e,i){const r=Math.sin(i),n=Math.cos(i),s=e[4],o=e[5],a=e[6],l=e[7],h=e[8],f=e[9],g=e[10],v=e[11];return e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[4]=s*n+h*r,t[5]=o*n+f*r,t[6]=a*n+g*r,t[7]=l*n+v*r,t[8]=h*n-s*r,t[9]=f*n-o*r,t[10]=g*n-a*r,t[11]=v*n-l*r,t}function DOe(t,e,i){const r=Math.sin(i),n=Math.cos(i),s=e[0],o=e[1],a=e[2],l=e[3],h=e[8],f=e[9],g=e[10],v=e[11];return e!==t&&(t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=s*n-h*r,t[1]=o*n-f*r,t[2]=a*n-g*r,t[3]=l*n-v*r,t[8]=s*r+h*n,t[9]=o*r+f*n,t[10]=a*r+g*n,t[11]=l*r+v*n,t}function ROe(t,e,i){const r=Math.sin(i),n=Math.cos(i),s=e[0],o=e[1],a=e[2],l=e[3],h=e[4],f=e[5],g=e[6],v=e[7];return e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=s*n+h*r,t[1]=o*n+f*r,t[2]=a*n+g*r,t[3]=l*n+v*r,t[4]=h*n-s*r,t[5]=f*n-o*r,t[6]=g*n-a*r,t[7]=v*n-l*r,t}function LOe(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=e[0],t[13]=e[1],t[14]=e[2],t[15]=1,t}function zOe(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=e[1],t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=e[2],t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function NOe(t,e,i){if(e===0)return KD(t);let r=i[0],n=i[1],s=i[2],o=Math.sqrt(r*r+n*n+s*s);if(o<=Lo())return null;o=1/o,r*=o,n*=o,s*=o;const a=Math.sin(e),l=Math.cos(e),h=1-l;return t[0]=r*r*h+l,t[1]=n*r*h+s*a,t[2]=s*r*h-n*a,t[3]=0,t[4]=r*n*h-s*a,t[5]=n*n*h+l,t[6]=s*n*h+r*a,t[7]=0,t[8]=r*s*h+n*a,t[9]=n*s*h-r*a,t[10]=s*s*h+l,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function jOe(t,e){const i=Math.sin(e),r=Math.cos(e);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=r,t[6]=i,t[7]=0,t[8]=0,t[9]=-i,t[10]=r,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function FOe(t,e){const i=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=0,t[2]=-i,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=i,t[9]=0,t[10]=r,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function VOe(t,e){const i=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=i,t[2]=0,t[3]=0,t[4]=-i,t[5]=r,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function xce(t,e,i){const r=e[0],n=e[1],s=e[2],o=e[3],a=r+r,l=n+n,h=s+s,f=r*a,g=r*l,v=r*h,w=n*l,S=n*h,T=s*h,C=o*a,I=o*l,A=o*h;return t[0]=1-(w+T),t[1]=g+A,t[2]=v-I,t[3]=0,t[4]=g-A,t[5]=1-(f+T),t[6]=S+C,t[7]=0,t[8]=v+I,t[9]=S-C,t[10]=1-(f+w),t[11]=0,t[12]=i[0],t[13]=i[1],t[14]=i[2],t[15]=1,t}function UOe(t,e){const i=BOe,r=-e[0],n=-e[1],s=-e[2],o=e[3],a=e[4],l=e[5],h=e[6],f=e[7],g=r*r+n*n+s*s+o*o;return g>0?(i[0]=2*(a*o+f*r+l*s-h*n)/g,i[1]=2*(l*o+f*n+h*r-a*s)/g,i[2]=2*(h*o+f*s+a*n-l*r)/g):(i[0]=2*(a*o+f*r+l*s-h*n),i[1]=2*(l*o+f*n+h*r-a*s),i[2]=2*(h*o+f*s+a*n-l*r)),xce(t,e,i),t}const BOe=ig();function HOe(t,e){return t[0]=e[12],t[1]=e[13],t[2]=e[14],t}function qOe(t,e){const i=e[0],r=e[1],n=e[2],s=e[4],o=e[5],a=e[6],l=e[8],h=e[9],f=e[10];return t[0]=Math.sqrt(i*i+r*r+n*n),t[1]=Math.sqrt(s*s+o*o+a*a),t[2]=Math.sqrt(l*l+h*h+f*f),t}function GOe(t,e){const i=e[0]+e[5]+e[10];let r=0;return i>0?(r=2*Math.sqrt(i+1),t[3]=.25*r,t[0]=(e[6]-e[9])/r,t[1]=(e[8]-e[2])/r,t[2]=(e[1]-e[4])/r):e[0]>e[5]&&e[0]>e[10]?(r=2*Math.sqrt(1+e[0]-e[5]-e[10]),t[3]=(e[6]-e[9])/r,t[0]=.25*r,t[1]=(e[1]+e[4])/r,t[2]=(e[8]+e[2])/r):e[5]>e[10]?(r=2*Math.sqrt(1+e[5]-e[0]-e[10]),t[3]=(e[8]-e[2])/r,t[0]=(e[1]+e[4])/r,t[1]=.25*r,t[2]=(e[6]+e[9])/r):(r=2*Math.sqrt(1+e[10]-e[0]-e[5]),t[3]=(e[1]-e[4])/r,t[0]=(e[8]+e[2])/r,t[1]=(e[6]+e[9])/r,t[2]=.25*r),t}function WOe(t,e,i,r){const n=e[0],s=e[1],o=e[2],a=e[3],l=n+n,h=s+s,f=o+o,g=n*l,v=n*h,w=n*f,S=s*h,T=s*f,C=o*f,I=a*l,A=a*h,P=a*f,D=r[0],L=r[1],B=r[2];return t[0]=(1-(S+C))*D,t[1]=(v+P)*D,t[2]=(w-A)*D,t[3]=0,t[4]=(v-P)*L,t[5]=(1-(g+C))*L,t[6]=(T+I)*L,t[7]=0,t[8]=(w+A)*B,t[9]=(T-I)*B,t[10]=(1-(g+S))*B,t[11]=0,t[12]=i[0],t[13]=i[1],t[14]=i[2],t[15]=1,t}function YOe(t,e,i,r,n){const s=e[0],o=e[1],a=e[2],l=e[3],h=s+s,f=o+o,g=a+a,v=s*h,w=s*f,S=s*g,T=o*f,C=o*g,I=a*g,A=l*h,P=l*f,D=l*g,L=r[0],B=r[1],N=r[2],Y=n[0],K=n[1],te=n[2],ue=(1-(T+I))*L,ye=(w+D)*L,se=(S-P)*L,G=(w-D)*B,ie=(1-(v+I))*B,J=(C+A)*B,le=(S+P)*N,ve=(C-A)*N,Me=(1-(v+T))*N;return t[0]=ue,t[1]=ye,t[2]=se,t[3]=0,t[4]=G,t[5]=ie,t[6]=J,t[7]=0,t[8]=le,t[9]=ve,t[10]=Me,t[11]=0,t[12]=i[0]+Y-(ue*Y+G*K+le*te),t[13]=i[1]+K-(ye*Y+ie*K+ve*te),t[14]=i[2]+te-(se*Y+J*K+Me*te),t[15]=1,t}function ZOe(t,e){const i=e[0],r=e[1],n=e[2],s=e[3],o=i+i,a=r+r,l=n+n,h=i*o,f=r*o,g=r*a,v=n*o,w=n*a,S=n*l,T=s*o,C=s*a,I=s*l;return t[0]=1-g-S,t[1]=f+I,t[2]=v-C,t[3]=0,t[4]=f-I,t[5]=1-h-S,t[6]=w+T,t[7]=0,t[8]=v+C,t[9]=w-T,t[10]=1-h-g,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function JOe(t,e,i,r,n,s,o){const a=1/(i-e),l=1/(n-r),h=1/(s-o);return t[0]=2*s*a,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=2*s*l,t[6]=0,t[7]=0,t[8]=(i+e)*a,t[9]=(n+r)*l,t[10]=(o+s)*h,t[11]=-1,t[12]=0,t[13]=0,t[14]=o*s*2*h,t[15]=0,t}function XOe(t,e,i,r,n){const s=1/Math.tan(e/2);let o;return t[0]=s/i,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=s,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=-1,t[12]=0,t[13]=0,t[15]=0,n!=null&&n!==1/0?(o=1/(r-n),t[10]=(n+r)*o,t[14]=2*n*r*o):(t[10]=-1,t[14]=-2*r),t}function KOe(t,e,i,r){const n=Math.tan(e.upDegrees*Math.PI/180),s=Math.tan(e.downDegrees*Math.PI/180),o=Math.tan(e.leftDegrees*Math.PI/180),a=Math.tan(e.rightDegrees*Math.PI/180),l=2/(o+a),h=2/(n+s);return t[0]=l,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=h,t[6]=0,t[7]=0,t[8]=-(o-a)*l*.5,t[9]=(n-s)*h*.5,t[10]=r/(i-r),t[11]=-1,t[12]=0,t[13]=0,t[14]=r*i/(i-r),t[15]=0,t}function QOe(t,e,i,r,n,s,o){const a=1/(e-i),l=1/(r-n),h=1/(s-o);return t[0]=-2*a,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*l,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*h,t[11]=0,t[12]=(e+i)*a,t[13]=(n+r)*l,t[14]=(o+s)*h,t[15]=1,t}function ePe(t,e,i,r){const n=e[0],s=e[1],o=e[2];let a=n-i[0],l=s-i[1],h=o-i[2];const f=Lo();if(Math.abs(a)<f&&Math.abs(l)<f&&Math.abs(h)<f)return void KD(t);let g=1/Math.sqrt(a*a+l*l+h*h);a*=g,l*=g,h*=g;const v=r[0],w=r[1],S=r[2];let T=w*h-S*l,C=S*a-v*h,I=v*l-w*a;g=Math.sqrt(T*T+C*C+I*I),g?(g=1/g,T*=g,C*=g,I*=g):(T=0,C=0,I=0);let A=l*I-h*C,P=h*T-a*I,D=a*C-l*T;g=Math.sqrt(A*A+P*P+D*D),g?(g=1/g,A*=g,P*=g,D*=g):(A=0,P=0,D=0),t[0]=T,t[1]=A,t[2]=a,t[3]=0,t[4]=C,t[5]=P,t[6]=l,t[7]=0,t[8]=I,t[9]=D,t[10]=h,t[11]=0,t[12]=-(T*n+C*s+I*o),t[13]=-(A*n+P*s+D*o),t[14]=-(a*n+l*s+h*o),t[15]=1}function tPe(t,e,i,r){const n=e[0],s=e[1],o=e[2],a=r[0],l=r[1],h=r[2];let f=n-i[0],g=s-i[1],v=o-i[2],w=f*f+g*g+v*v;w>0&&(w=1/Math.sqrt(w),f*=w,g*=w,v*=w);let S=l*v-h*g,T=h*f-a*v,C=a*g-l*f;return w=S*S+T*T+C*C,w>0&&(w=1/Math.sqrt(w),S*=w,T*=w,C*=w),t[0]=S,t[1]=T,t[2]=C,t[3]=0,t[4]=g*C-v*T,t[5]=v*S-f*C,t[6]=f*T-g*S,t[7]=0,t[8]=f,t[9]=g,t[10]=v,t[11]=0,t[12]=n,t[13]=s,t[14]=o,t[15]=1,t}function iPe(t){return"mat4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+", "+t[9]+", "+t[10]+", "+t[11]+", "+t[12]+", "+t[13]+", "+t[14]+", "+t[15]+")"}function rPe(t){return Math.sqrt(t[0]**2+t[1]**2+t[2]**2+t[3]**2+t[4]**2+t[5]**2+t[6]**2+t[7]**2+t[8]**2+t[9]**2+t[10]**2+t[11]**2+t[12]**2+t[13]**2+t[14]**2+t[15]**2)}function nPe(t,e,i){return t[0]=e[0]+i[0],t[1]=e[1]+i[1],t[2]=e[2]+i[2],t[3]=e[3]+i[3],t[4]=e[4]+i[4],t[5]=e[5]+i[5],t[6]=e[6]+i[6],t[7]=e[7]+i[7],t[8]=e[8]+i[8],t[9]=e[9]+i[9],t[10]=e[10]+i[10],t[11]=e[11]+i[11],t[12]=e[12]+i[12],t[13]=e[13]+i[13],t[14]=e[14]+i[14],t[15]=e[15]+i[15],t}function Sce(t,e,i){return t[0]=e[0]-i[0],t[1]=e[1]-i[1],t[2]=e[2]-i[2],t[3]=e[3]-i[3],t[4]=e[4]-i[4],t[5]=e[5]-i[5],t[6]=e[6]-i[6],t[7]=e[7]-i[7],t[8]=e[8]-i[8],t[9]=e[9]-i[9],t[10]=e[10]-i[10],t[11]=e[11]-i[11],t[12]=e[12]-i[12],t[13]=e[13]-i[13],t[14]=e[14]-i[14],t[15]=e[15]-i[15],t}function sPe(t,e,i){return t[0]=e[0]*i,t[1]=e[1]*i,t[2]=e[2]*i,t[3]=e[3]*i,t[4]=e[4]*i,t[5]=e[5]*i,t[6]=e[6]*i,t[7]=e[7]*i,t[8]=e[8]*i,t[9]=e[9]*i,t[10]=e[10]*i,t[11]=e[11]*i,t[12]=e[12]*i,t[13]=e[13]*i,t[14]=e[14]*i,t[15]=e[15]*i,t}function oPe(t,e,i,r){return t[0]=e[0]+i[0]*r,t[1]=e[1]+i[1]*r,t[2]=e[2]+i[2]*r,t[3]=e[3]+i[3]*r,t[4]=e[4]+i[4]*r,t[5]=e[5]+i[5]*r,t[6]=e[6]+i[6]*r,t[7]=e[7]+i[7]*r,t[8]=e[8]+i[8]*r,t[9]=e[9]+i[9]*r,t[10]=e[10]+i[10]*r,t[11]=e[11]+i[11]*r,t[12]=e[12]+i[12]*r,t[13]=e[13]+i[13]*r,t[14]=e[14]+i[14]*r,t[15]=e[15]+i[15]*r,t}function aPe(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]&&t[8]===e[8]&&t[9]===e[9]&&t[10]===e[10]&&t[11]===e[11]&&t[12]===e[12]&&t[13]===e[13]&&t[14]===e[14]&&t[15]===e[15]}function lPe(t,e){if(t===e)return!0;const i=t[0],r=t[1],n=t[2],s=t[3],o=t[4],a=t[5],l=t[6],h=t[7],f=t[8],g=t[9],v=t[10],w=t[11],S=t[12],T=t[13],C=t[14],I=t[15],A=e[0],P=e[1],D=e[2],L=e[3],B=e[4],N=e[5],Y=e[6],K=e[7],te=e[8],ue=e[9],ye=e[10],se=e[11],G=e[12],ie=e[13],J=e[14],le=e[15],ve=Lo();return Math.abs(i-A)<=ve*Math.max(1,Math.abs(i),Math.abs(A))&&Math.abs(r-P)<=ve*Math.max(1,Math.abs(r),Math.abs(P))&&Math.abs(n-D)<=ve*Math.max(1,Math.abs(n),Math.abs(D))&&Math.abs(s-L)<=ve*Math.max(1,Math.abs(s),Math.abs(L))&&Math.abs(o-B)<=ve*Math.max(1,Math.abs(o),Math.abs(B))&&Math.abs(a-N)<=ve*Math.max(1,Math.abs(a),Math.abs(N))&&Math.abs(l-Y)<=ve*Math.max(1,Math.abs(l),Math.abs(Y))&&Math.abs(h-K)<=ve*Math.max(1,Math.abs(h),Math.abs(K))&&Math.abs(f-te)<=ve*Math.max(1,Math.abs(f),Math.abs(te))&&Math.abs(g-ue)<=ve*Math.max(1,Math.abs(g),Math.abs(ue))&&Math.abs(v-ye)<=ve*Math.max(1,Math.abs(v),Math.abs(ye))&&Math.abs(w-se)<=ve*Math.max(1,Math.abs(w),Math.abs(se))&&Math.abs(S-G)<=ve*Math.max(1,Math.abs(S),Math.abs(G))&&Math.abs(T-ie)<=ve*Math.max(1,Math.abs(T),Math.abs(ie))&&Math.abs(C-J)<=ve*Math.max(1,Math.abs(C),Math.abs(J))&&Math.abs(I-le)<=ve*Math.max(1,Math.abs(I),Math.abs(le))}function cPe(t){const e=Lo(),i=t[0],r=t[1],n=t[2],s=t[4],o=t[5],a=t[6],l=t[8],h=t[9],f=t[10];return Math.abs(1-(i*i+s*s+l*l))<=e&&Math.abs(1-(r*r+o*o+h*h))<=e&&Math.abs(1-(n*n+a*a+f*f))<=e}function uPe(t){return t[0]===1&&t[1]===0&&t[2]===0&&t[4]===0&&t[5]===1&&t[6]===0&&t[8]===0&&t[9]===0&&t[10]===1}const dPe=_ce,hPe=Sce;Object.freeze(Object.defineProperty({__proto__:null,add:nPe,adjoint:IOe,copy:bce,determinant:COe,equals:lPe,exactEquals:aPe,frob:rPe,fromQuat:ZOe,fromQuat2:UOe,fromRotation:NOe,fromRotationTranslation:xce,fromRotationTranslationScale:WOe,fromRotationTranslationScaleOrigin:YOe,fromScaling:zOe,fromTranslation:LOe,fromXRotation:jOe,fromYRotation:FOe,fromZRotation:VOe,frustum:JOe,getRotation:GOe,getScale:qOe,getTranslation:HOe,hasIdentityRotation:uPe,identity:KD,invert:wce,invertOrIdentity:EOe,isOrthoNormal:cPe,lookAt:ePe,mul:dPe,multiply:_ce,multiplyScalar:sPe,multiplyScalarAndAdd:oPe,ortho:QOe,perspective:XOe,perspectiveFromFieldOfView:KOe,rotate:OOe,rotateX:POe,rotateY:DOe,rotateZ:ROe,scale:AOe,set:ng,str:iPe,sub:hPe,subtract:Sce,targetTo:tPe,translate:MOe,transpose:sg},Symbol.toStringTag,{value:"Module"}));const pPe=(t,e)=>{const i=ng(t,e,0,0,0,0,e,0,0,0,0,e,0,0,0,0,1);return sg(i,i)},fPe=(t,e)=>{const i=ng(t,e,0,0,.5-.5*e,0,e,0,.5-.5*e,0,0,e,.5-.5*e,0,0,0,1);return sg(i,i)},mPe=(t,e)=>{const i=1-e,r=ng(t,.2126+.7874*i,.7152-.7152*i,.0722-.0722*i,0,.2126-.2126*i,.7152+.2848*i,.0722-.0722*i,0,.2126-.2126*i,.7152-.7152*i,.0722+.9278*i,0,0,0,0,1);return sg(r,r)},gPe=(t,e)=>{const i=Math.sin(e*Math.PI/180),r=Math.cos(e*Math.PI/180),n=ng(t,.213+.787*r-.213*i,.715-.715*r-.715*i,.072-.072*r+.928*i,0,.213-.213*r+.143*i,.715+.285*r+.14*i,.072-.072*r-.283*i,0,.213-.213*r-.787*i,.715-.715*r+.715*i,.072+.928*r+.072*i,0,0,0,0,1);return sg(n,n)},yPe=(t,e)=>{const i=1-2*e,r=ng(t,i,0,0,e,0,i,0,e,0,0,i,e,0,0,0,1);return sg(r,r)},vPe=(t,e)=>{const i=ng(t,.213+.787*e,.715-.715*e,.072-.072*e,0,.213-.213*e,.715+.285*e,.072-.072*e,0,.213-.213*e,.715-.715*e,.072+.928*e,0,0,0,0,1);return sg(i,i)},bPe=(t,e)=>{const i=1-e,r=ng(t,.393+.607*i,.769-.769*i,.189-.189*i,0,.349-.349*i,.686+.314*i,.168-.168*i,0,.272-.272*i,.534-.534*i,.131+.869*i,0,0,0,0,1);return sg(r,r)};let Tce=class $ce{constructor(e,i,r){this.strength=e,this.radius=i,this.threshold=r,this.type="bloom"}interpolate(e,i,r){this.strength=ca(e.strength,i.strength,r),this.radius=ca(e.radius,i.radius,r),this.threshold=ca(e.threshold,i.threshold,r)}clone(){return new $ce(this.strength,this.radius,this.threshold)}toJSON(){return{type:"bloom",radius:VT(this.radius),strength:this.strength,threshold:this.threshold}}},kce=class Ece{constructor(e){this.radius=e,this.type="blur"}interpolate(e,i,r){this.radius=Math.round(ca(e.radius,i.radius,r))}clone(){return new Ece(this.radius)}toJSON(){return{type:"blur",radius:VT(this.radius)}}},CF=class Ice{constructor(e,i){this.type=e,this.amount=i,this.type!=="invert"&&this.type!=="grayscale"&&this.type!=="sepia"||(this.amount=Math.min(this.amount,1))}get colorMatrix(){return this._colorMatrix||this._updateMatrix(),this._colorMatrix}interpolate(e,i,r){this.amount=ca(e.amount,i.amount,r),this._updateMatrix()}clone(){return new Ice(this.type,this.amount)}toJSON(){return{type:this.type,amount:this.amount}}_updateMatrix(){const e=this._colorMatrix||XD();switch(this.type){case"brightness":this._colorMatrix=pPe(e,this.amount);break;case"contrast":this._colorMatrix=fPe(e,this.amount);break;case"grayscale":this._colorMatrix=mPe(e,this.amount);break;case"invert":this._colorMatrix=yPe(e,this.amount);break;case"saturate":this._colorMatrix=vPe(e,this.amount);break;case"sepia":this._colorMatrix=bPe(e,this.amount)}}},Cce=class Mce{constructor(e,i,r,n){this.offsetX=e,this.offsetY=i,this.blurRadius=r,this.color=n,this.type="drop-shadow"}interpolate(e,i,r){this.offsetX=ca(e.offsetX,i.offsetX,r),this.offsetY=ca(e.offsetY,i.offsetY,r),this.blurRadius=ca(e.blurRadius,i.blurRadius,r),this.color[0]=Math.round(ca(e.color[0],i.color[0],r)),this.color[1]=Math.round(ca(e.color[1],i.color[1],r)),this.color[2]=Math.round(ca(e.color[2],i.color[2],r)),this.color[3]=ca(e.color[3],i.color[3],r)}clone(){return new Mce(this.offsetX,this.offsetY,this.blurRadius,[...this.color])}toJSON(){const e=[...this.color];return e[3]*=255,{type:"drop-shadow",xoffset:VT(this.offsetX),yoffset:VT(this.offsetY),blurRadius:VT(this.blurRadius),color:e}}},Ace=class Oce{constructor(e){this.angle=e,this.type="hue-rotate"}get colorMatrix(){return this._colorMatrix||this._updateMatrix(),this._colorMatrix}interpolate(e,i,r){this.angle=ca(e.angle,i.angle,r),this._updateMatrix()}clone(){return new Oce(this.angle)}toJSON(){return{type:"hue-rotate",angle:this.angle}}_updateMatrix(){const e=this._colorMatrix||XD();this._colorMatrix=gPe(e,this.angle)}},Pce=class Dce{constructor(e){this.amount=e,this.type="opacity",this.amount=Math.min(this.amount,1)}interpolate(e,i,r){this.amount=ca(e.amount,i.amount,r)}clone(){return new Dce(this.amount)}toJSON(){return{type:"opacity",amount:this.amount}}};function ca(t,e,i){return t+(e-t)*i}function VT(t){return Math.round(1e3*uc(t))/1e3}function wPe(t){switch(t.type){case"grayscale":case"sepia":case"invert":return new CF(t.type,0);case"saturate":case"brightness":case"contrast":return new CF(t.type,1);case"opacity":return new Pce(1);case"hue-rotate":return new Ace(0);case"blur":return new kce(0);case"drop-shadow":return new Cce(0,0,0,[...BU("transparent")]);case"bloom":return new Tce(0,0,1)}}function _Pe(t,e){const i=t.length>e.length?t:e;return(t.length>e.length?e:t).every((r,n)=>r.type===i[n].type)}function xPe(t,e){const i=t.length>e.length?t:e,r=t.length>e.length?e:t;for(let n=r.length;n<i.length;n++)r.push(wPe(i[n]))}function SPe(t){const e=t[0];return!!e&&"type"in e}const ez=()=>Ee.getLogger("esri.support.basemapUtils");function TPe(){return{}}function $Pe(t){for(const e in t){const i=t[e];i&&!i.destroyed&&i.destroy(),delete t[e]}}function kPe(t,e){let i;if(typeof t=="string"){const r=t in wF,n=!r&&t.includes("/");if(!r&&!n){if(uj())ez().warn(`Unable to find basemap definition for: ${t}. See available styles at https://developers.arcgis.com/rest/basemap-styles/`);else{const s=Object.entries(wF).filter(([o,a])=>a.classic||a.is3d).map(([o])=>`"${o}"`).sort().join(", ");ez().warn(`Unable to find basemap definition for: ${t}. Try one of these: ${s}`)}return null}e&&(i=e[t]),i||(i=r?jT.fromId(t):new jT({style:{id:t}}),e&&(e[t]=i))}else i=tn(jT,t);return i?.destroyed&&(ez().warn("The provided basemap is already destroyed",{basemap:i}),i=null),i}function EPe(t){return new cu({getCollections:()=>[t.tables,t.layers],getChildrenFunction:e=>{const i=[];return"tables"in e&&i.push(e.tables),"layers"in e&&i.push(e.layers),i},itemFilterFunction:e=>{const i=e.parent;return!!i&&"tables"in i&&i.tables.includes(e)}})}function mI(t){for(const e of t.values())e?.destroy();t.clear()}const cJ={"world-elevation":{id:"worldElevation",url:"//elevation3d.arcgis.com/arcgis/rest/services/WorldElevation3D/Terrain3D/ImageServer",layerType:"ArcGISTiledElevationServiceLayer"},"world-topobathymetry":{id:"worldTopoBathymetry",url:"//elevation3d.arcgis.com/arcgis/rest/services/WorldElevation3D/TopoBathy3D/ImageServer",layerType:"ArcGISTiledElevationServiceLayer"}};function IPe(t){let e=null;if(typeof t=="string")if(t in cJ){const i=cJ[t];e=new pO({resourceInfo:{data:{layers:[i]}}})}else Ee.getLogger("esri.support.groundUtils").warn(`Unable to find ground definition for: ${t}. Try "world-elevation"`);else e=tn(pO,t);return e}function MF(t,e,i){let r,n;if(t)for(let s=0,o=t.length;s<o;s++){if(r=t.at(s),r?.[e]===i)return r;if(r?.type==="group"&&(n=MF(r.layers,e,i),n))return n}}const CPe=t=>{const e=t;let i=class extends e{constructor(...r){super(...r),this.layers=new We;const n=a=>{a.parent&&a.removeFromParent()},s=a=>{a.parent=this,this.layerAdded(a),a.type!=="elevation"&&a.type!=="base-elevation"||Ee.getLogger(this).error(`Layer 'title:${a.title}, id:${a.id}' of type '${a.type}' is not supported as an operational layer and will therefore be ignored.`)},o=a=>{a.parent=null,this.layerRemoved(a)};this.addHandles([this.layers.on("before-add",a=>{if(a.item===this)return a.preventDefault(),void Ee.getLogger(this).error("#add()","Cannot add layer to itself.");n(a.item)}),this.layers.on("after-add",a=>s(a.item)),this.layers.on("after-remove",a=>o(a.item))])}destroy(){const r=this.layers.toArray();for(const n of r)n.destroy();this.layers.destroy()}removeChildLayer(r){this.layers.remove(r),super.removeChildLayer?.(r)}set layers(r){this._set("layers",Td(r,this._get("layers")))}add(r,n){const s=this.layers;if(n=s.getNextIndex(n),r instanceof wr){const o=r;o.parent===this?this.reorder(o,n):s.add(o,n)}else co(r)?r.then(o=>{this.destroyed||this.add(o,n)}):Ee.getLogger(this).error("#add()","The item being added is not a Layer or a Promise that resolves to a Layer.")}addMany(r,n){const s=this.layers;let o=s.getNextIndex(n);r.slice().forEach(a=>{a.parent!==this?(s.add(a,o),o+=1):this.reorder(a,o)})}findLayerById(r){return MF(this.layers,"id",r)}findLayerByUid(r){return MF(this.layers,"uid",r)}remove(r){return this.layers.remove(r)}removeMany(r){return this.layers.removeMany(r)}removeAll(){return this.layers.removeAll()}reorder(r,n){return this.layers.reorder(r,n)}layerAdded(r){}layerRemoved(r){}};return u([p()],i.prototype,"layers",null),i=u([j("esri.support.LayersMixin")],i),i},MPe=new Set(["feature","subtype-group"]);function AF(t,e,i){if(t)for(let r=0,n=t.length;r<n;r++){const s=t.at(r);if(s[e]===i)return s;if(s?.type==="group"){const o=AF(s.tables,e,i);if(o)return o}}}const APe=t=>{const e=t;let i=class extends e{constructor(...r){super(...r),this.tables=new We,this.addHandles([this.tables.on("after-add",n=>{const s=n.item;s.parent&&s.parent!==this&&s.removeFromParent(),s.parent=this,MPe.has(s.type)||Ee.getLogger(this).error(`Layer 'title:${s.title}, id:${s.id}' of type '${s.type}' is not supported as a table and will therefore be ignored.`)}),this.tables.on("after-remove",n=>{n.item.parent=null})])}destroy(){const r=this.tables.toArray();for(const n of r)n.destroy();this.tables.destroy()}removeChildLayer(r){this.tables.remove(r),super.removeChildLayer?.(r)}set tables(r){this._set("tables",Td(r,this._get("tables")))}findTableById(r){return AF(this.tables,"id",r)}findTableByUid(r){return AF(this.tables,"uid",r)}};return u([p()],i.prototype,"tables",null),i=u([j("esri.support.TablesMixin")],i),i};let Fl=class extends APe(CPe(k1)){constructor(e){super(e),this.allLayers=new cu({getCollections:()=>[this.basemap?.baseLayers,this.basemap?.groundLayers,this.ground?.layers,this.layers,this.basemap?.referenceLayers],getChildrenFunction:i=>"layers"in i?i.layers:null}),this.focusAreas=new vce,this.allTables=EPe(this),this.basemap=null,this.editableLayers=new cu({getCollections:()=>[this.allLayers],itemFilterFunction:SOe}),this.ground=new pO,this._basemapCache=TPe(),this.addHandles(wa(()=>this.ground,(i,r)=>{r?.parent===this&&(r.parent=null),i.parent=this},{sync:!0}))}destroy(){$Pe(this._basemapCache),this._basemapCache=null,this.focusAreas.destroy(),this.allLayers.destroy(),this.allTables.destroy(),this.editableLayers.destroy(),this.basemap=pr(this.basemap),pr(this.ground),this._set("ground",null)}castBasemap(e){return kPe(e,this._basemapCache)}castGround(e){return IPe(e)??this._get("ground")}findLayerById(e){return this.allLayers.find(i=>i.id===e)}findTableById(e){return this.allTables.find(i=>i.id===e)}};u([p({readOnly:!0,dependsOn:[]})],Fl.prototype,"allLayers",void 0),u([p({type:vce,nonNullable:!0,json:{write:{overridePolicy:t=>({enabled:t.areas.length>0,ignoreOrigin:!0})}}})],Fl.prototype,"focusAreas",void 0),u([p({readOnly:!0})],Fl.prototype,"allTables",void 0),u([p({type:jT,json:{read:{source:"baseMap"},write:{target:"baseMap"}}})],Fl.prototype,"basemap",void 0),u([bi("basemap")],Fl.prototype,"castBasemap",null),u([p({readOnly:!0})],Fl.prototype,"editableLayers",void 0),u([p({type:pO,nonNullable:!0})],Fl.prototype,"ground",void 0),u([bi("ground")],Fl.prototype,"castGround",null),u([p()],Fl.prototype,"undoRedo",void 0),Fl=u([j("esri.Map")],Fl);const Rce=Fl;var IS;const fO=En()({orthometric:"gravity-related-height",gravity_related_height:"gravity-related-height",ellipsoidal:"ellipsoidal"}),Lce=fO.jsonValues.slice();BN(Lce,"orthometric");const UT=En()({meter:"meters",foot:"feet","us-foot":"us-feet","clarke-foot":"clarke-feet","clarke-yard":"clarke-yards","clarke-link":"clarke-links","sears-yard":"sears-yards","sears-foot":"sears-feet","sears-chain":"sears-chains","benoit-1895-b-chain":"benoit-1895-b-chains","indian-yard":"indian-yards","indian-1937-yard":"indian-1937-yards","gold-coast-foot":"gold-coast-feet","sears-1922-truncated-chain":"sears-1922-truncated-chains","50-kilometers":"50-kilometers","150-kilometers":"150-kilometers"});let So=IS=class extends ge{constructor(t){super(t),this.heightModel="gravity-related-height",this.heightUnit="meters",this.vertCRS=null}writeHeightModel(t,e,i){return fO.write(t,e,i)}readHeightModel(t,e,i){return fO.read(t)||(i?.messages&&i.messages.push(OPe(t,{context:i})),null)}readHeightUnit(t,e,i){return UT.read(t)||(i?.messages&&i.messages.push(uJ(t,{context:i})),null)}readHeightUnitService(t,e,i){return mU(t)||UT.read(t)||(i?.messages&&i.messages.push(uJ(t,{context:i})),null)}readVertCRS(t,e){return e.vertCRS||e.ellipsoid||e.geoid}clone(){return new IS({heightModel:this.heightModel,heightUnit:this.heightUnit,vertCRS:this.vertCRS})}equals(t){return!!t&&(this===t||this.heightModel===t.heightModel&&this.heightUnit===t.heightUnit&&this.vertCRS===t.vertCRS)}static deriveUnitFromSR(t,e){const i=Roe(e);return new IS({heightModel:t.heightModel,heightUnit:i??void 0,vertCRS:t.vertCRS})}write(t,e){return e={origin:"web-scene",...e},super.write(t,e)}static fromJSON(t){if(!t)return null;const e=new IS;return e.read(t,{origin:"web-scene"}),e}};function uJ(t,e){return new yl("height-unit:unsupported",`Height unit of value '${t}' is not supported`,e)}function OPe(t,e){return new yl("height-model:unsupported",`Height model of value '${t}' is not supported`,e)}u([p({type:fO.apiValues,constructOnly:!0,json:{origins:{"web-scene":{type:Lce,default:"ellipsoidal",write:{isRequired:!0}}}}})],So.prototype,"heightModel",void 0),u([ze("web-scene","heightModel")],So.prototype,"writeHeightModel",null),u([Ae(["web-scene","service"],"heightModel")],So.prototype,"readHeightModel",null),u([p({type:UT.apiValues,constructOnly:!0,json:{origins:{"web-scene":{type:UT.jsonValues,write:{writer:UT.write,isRequired:!0}}}}})],So.prototype,"heightUnit",void 0),u([Ae("web-scene","heightUnit")],So.prototype,"readHeightUnit",null),u([Ae("service","heightUnit")],So.prototype,"readHeightUnitService",null),u([p({type:String,constructOnly:!0,json:{origins:{"web-scene":{write:!0}}}})],So.prototype,"vertCRS",void 0),u([Ae("service","vertCRS",["vertCRS","ellipsoid","geoid"])],So.prototype,"readVertCRS",null),So=IS=u([j("esri.geometry.HeightModelInfo")],So);let tz;async function PPe(){return tz==null&&(tz=ke(()=>import("./WhereClauseCache-BdUmY7G-.js"),__vite__mapDeps([28,29])).then(t=>new t.WhereClauseCache(500,500))),tz}async function zce(t,e){const i=await PPe(),r=i.get(t,e);if(r==null)throw i.getError(t,e);return r}function oM(t,e){return t||=null,e||=null,t==="1=1"?e??t:e==="1=1"?t??e:t&&e?`(${t}) AND (${e})`:t??e}function OF(t,e){return t||=null,e||=null,t==="1=1"||e==="1=1"||t===e?t==="1=1"?t:e:t&&e?`(${t}) OR (${e})`:t??e}function DPe(t,e){return e.length===0?null:`${t} IN (${RPe(e)})`}function RPe(t){return t.map(e=>typeof e=="string"?LPe(e):e).join(",")}function LPe(t){return`'${t.replaceAll("'","''")}'`}function zPe(t){return typeof t=="number"}function Vst(t){return typeof t=="number"&&isFinite(t)&&Math.floor(t)===t}function Ust(t){return typeof t=="boolean"}function rk(t){return typeof t=="string"||t instanceof String}function NPe(t){return t==null||rk(t)}function Bst(t){return Array.isArray(t)}function Nce(t){return t?.declaredClass==="esri.Graphic"}function Hst(t){return t instanceof Date}const jPe="HH:mm",FPe="HH:mm:ss",VPe="HH:mm:ss.SSS",UPe=[VPe,FPe,jPe,"TT"],BPe="yyyy-MM-dd";function dJ(t){if(!t||!rk(t))return null;const e=rt.fromFormat(t,BPe);return e.isValid?e:null}function hJ(t){return t&&rk(t)?Yve(UPe,e=>{const i=rt.fromFormat(t,e);return i.isValid?i:null})??null:null}function pJ(t){if(!t||!rk(t))return null;const e=rt.fromISO(t);return e.isValid?e:null}const jce=new Set(["integer","small-integer","long","big-integer","esriFieldTypeInteger","esriFieldTypeSmallInteger","esriFieldTypeLong","esriFieldTypeBigInteger"]);function HPe(t){return t!=null&&jce.has(t.type)}function Fce(t){return t!=null&&(t.type==="date-only"||t.type==="esriFieldTypeDateOnly")}function Vce(t){return t!=null&&(t.type==="timestamp-offset"||t.type==="esriFieldTypeTimestampOffset")}function Uce(t){return t!=null&&(t.type==="time-only"||t.type==="esriFieldTypeTimeOnly")}const qPe=new Set(["single","double","esriFieldTypeSingle","esriFieldTypeDouble"]);c9(jce,qPe);function qst(t,e){const i=t?.domain;if(!i||i.type!=="range")return;const r="range"in i?i.range[0]:i.minValue,n="range"in i?i.range[1]:i.maxValue,s=HPe(t);return Fce(t)||Uce(t)||Vce(t)?{...GPe(t,n,r),isInteger:s}:{min:r!=null&&typeof r=="number"?r:null,max:n!=null&&typeof n=="number"?n:null,rawMin:r,rawMax:n,isInteger:s}}function GPe(t,e,i){return Fce(t)?{min:dJ(i)?.toMillis(),max:dJ(e)?.toMillis(),rawMin:i,rawMax:e}:Uce(t)?{min:hJ(i)?.toMillis(),max:hJ(e)?.toMillis(),rawMin:i,rawMax:e}:Vce(t)?{min:pJ(i)?.toMillis(),max:pJ(e)?.toMillis(),rawMin:i,rawMax:e}:{max:null,min:null}}function WPe(t){if(!t)return;const e=t.match(YPe);return e?.groups?e.groups.doubleQuoted??e.groups.singleQuoted??e.groups.dotNotation:void 0}const YPe=/^(\$feature\[(?:"(?<doubleQuoted>[^"]+)"|'(?<singleQuoted>[^']+)')\]|\$feature\.(?<dotNotation>[a-z_][a-z0-9_]*))$/i;function ZPe(t){return t.match(JPe)?.[1]?.replaceAll("\\'","'")??null}const JPe=/^hash\(\$feature\['((\\'|[^'])+)'\]\) \* 8\.381e-8$/;let iz;function Mv(){return iz||(iz=(async()=>{const[t,e,i]=await Promise.all([ke(()=>import("./arcadeUtils-DHmXf-2e.js"),__vite__mapDeps([182,183,184,185,186,167,33,187,20,18,4,21,188,189,29,76,190,168,169,191])),ke(()=>import("./batchExec-Dubz70pe.js"),__vite__mapDeps([192,86])),ke(()=>import("./aiServices-B-na4zz-.js").then(r=>r.a),__vite__mapDeps([188,185,186,167,33,189,184]))]);return{arcade:t.arcade,arcadeUtils:t,batchExec:e,aiServices:i,Dictionary:t.Dictionary,Feature:t.arcadeFeature,Voxel:t.Voxel,Pixel:t.Pixel}})()),iz}const XPe=/^([0-9_])/,KPe=/[^a-z0-9_\u0080-\uffff]+/gi;function QPe(t){return t==null?null:t.trim().replaceAll(KPe,"_").replace(XPe,"F$1")||null}const eDe=["field","field2","field3","normalizationField","rotationInfo.field","proportionalSymbolInfo.field","proportionalSymbolInfo.normalizationField","colorInfo.field","colorInfo.normalizationField"],tDe=["field","normalizationField"];function fJ(t,e){if(t!=null&&e!=null){for(const i of Array.isArray(t)?t:[t])if(mJ(eDe,i,e),"visualVariables"in i&&i.visualVariables)for(const r of i.visualVariables)mJ(tDe,r,e)}}function mJ(t,e,i){if(t)for(const r of t){const n=vp(r,e),s=n&&typeof n!="function"&&i.get(n);s&&Kr(r,s.name,e)}}function Bce(t,e){if(t!=null&&e?.fields?.length)if("startField"in t){const i=e.get(t.startField),r=e.get(t.endField);t.startField=i?.name??null,t.endField=r?.name??null}else{const i=e.get(t.startTimeField),r=e.get(t.endTimeField);t.startTimeField=i?.name??null,t.endTimeField=r?.name??null}}const rz=new Set;function QD(t,e){return t&&e?(rz.clear(),Av(rz,t,e),Array.from(rz).sort()):[]}function Av(t,e,i){if(i)if(e?.fields?.length)if(i.includes("*"))for(const{name:r}of e.fields)t.add(r);else for(const r of i)uo(t,e,r);else{if(i.includes("*"))return t.clear(),void t.add("*");for(const r of i)r!=null&&t.add(r)}}function uo(t,e,i){if(typeof i=="string")if(e){const r=e.get(i);r&&t.add(r.name)}else t.add(i)}function Gst(t,e){return e==null||t==null?[]:e.includes("*")?(t.fields??[]).map(i=>i.name):e}function Wst(t,e,i=1){if(!e||!t)return[];if(e.includes("*"))return["*"];const r=QD(t,e);return r.length/t.fields.length>=i?["*"]:r}async function ho(t,e,i,r){if(!r)return;const n=WPe(r);if(n)uo(t,e,n);else{const{arcadeUtils:s}=await Mv(),o=s.extractFieldNames(r,i?.partitions??e?.fields?.map(a=>a.name));for(const a of o)uo(t,i?.index??e,a)}}async function GU(t,e,i){if(i&&i!=="1=1"){const r=await zce(i,e);if(!r.isStandardized)throw new ee("fieldUtils:collectFilterFields","Where clause is not standardized",{where:i});Av(t,e,r.fieldNames)}}function iDe({displayField:t,fields:e}){return t||(e?.length?rDe(e):null)}function rDe(t){return nz(t,"name-or-title")||nz(t,"unique-identifier")||nz(t,"type-or-category")||nDe(t)}function nDe(t){for(const e of t){if(!e?.name)continue;const i=e.name.toLowerCase();if(i.includes("name")||i.includes("title"))return e.name}return null}function nz(t,e){for(const i of t)if(i?.valueType&&i.valueType===e)return i.name;return null}async function Yst(t,e){if(!e)return;const i=e.elevationInfo?.featureExpressionInfo;return i?i.collectRequiredFields(t,e.fieldsIndex):void 0}function sDe(t,e,i){i.onStatisticExpression?ho(t,e,null,i.onStatisticExpression.expression):t.add(i.onStatisticField)}async function Zst(t,e,i){if(!e||!i||!("fields"in i))return;const r=[],n=i.popupTemplate;r.push(Hce(t,e,n)),i.fields&&r.push(...i.fields.map(async s=>sDe(t,e.fieldsIndex,s))),await Promise.all(r)}async function Jst(t,e){const{fieldsIndex:i,trackInfo:r}=e;if(!e||!r||!i)return;const n=[r.latestObservations.renderer?.collectRequiredFields(t,i),r.previousObservations.renderer?.collectRequiredFields(t,i),r.trackLines.renderer?.collectRequiredFields(t,i)];r.popupTemplate&&n.push(Hce(t,e,r.popupTemplate));for(const s of[r.latestObservations.labelingInfo,r.previousObservations.labelingInfo,r.trackLines.labelingInfo])if(s)for(const o of s)n.push(Yce(t,i,o));await Promise.all(n)}async function Hce(t,e,i){const r=[];i?.expressionInfos&&r.push(...i.expressionInfos.map(s=>ho(t,e.fieldsIndex,null,s.expression)));const n=i?.content;if(Array.isArray(n))for(const s of n)s.type==="expression"&&s.expressionInfo&&r.push(ho(t,e.fieldsIndex,null,s.expressionInfo.expression));await Promise.all(r)}async function Xst(t,e,i){e&&(e.timeInfo&&i?.timeExtent&&Av(t,e.fieldsIndex,[e.timeInfo.startField,e.timeInfo.endField]),e.floorInfo&&Av(t,e.fieldsIndex,[e.floorInfo.floorField]),i?.where!=null&&await GU(t,e.fieldsIndex,i.where))}async function Kst(t,e,i){e&&i&&await Promise.all(i.map(r=>oDe(t,e,r)))}async function oDe(t,e,i){e&&i&&(i.valueExpression?await ho(t,e.fieldsIndex,null,i.valueExpression):i.field&&uo(t,e.fieldsIndex,i.field))}function Qst(t){return t?QD(t.fieldsIndex,qce(t)):[]}function aDe(t){if(!t)return[];const e=t.geometryFieldsInfo;return e?QD(t.fieldsIndex,[e.shapeAreaField,e.shapeLengthField]):[]}async function eot(t,e,i){if(!e||!i)return;const r=e.fieldsIndex;await Promise.all(i.filters.map(n=>GU(t,r,n.where)))}const lDe=new Set(["oid","global-id","guid"]),cDe=new Set(["oid","global-id"]),uDe=[/^fnode_$/i,/^tnode_$/i,/^lpoly_$/i,/^rpoly_$/i,/^poly_$/i,/^shape$/i,/^shape_$/i,/^subclass$/i,/^subclass_$/i,/^rings_ok$/i,/^rings_nok$/i,/objectid/i,/^perimeter_/i,/_perimeter$/i,/_i$/i];function dDe(t){const e=new Set;Gce(t).forEach(r=>e.add(r)),aDe(t).forEach(r=>e.add(r.toLowerCase()));const i=t&&"infoFor3D"in t?t.infoFor3D:void 0;return i&&(Object.values(i.assetMapFieldRoles).forEach(r=>e.add(r.toLowerCase())),Object.values(i.transformFieldRoles).forEach(r=>e.add(r.toLowerCase()))),Array.from(e)}function qce(t){if(!t)return[];const e="editFieldsInfo"in t&&t.editFieldsInfo;if(!e)return[];const{creationDateField:i,creatorField:r,editDateField:n,editorField:s}=e;return[i,r,n,s].filter(Boolean)}function Gce(t){return qce(t).map(e=>e.toLowerCase())}function Wce(t,e){return t.editable&&!lDe.has(t.type)&&!Gce(e).includes(t.name?.toLowerCase()??"")}function hDe(t,e){const i=t.name?.toLowerCase()??"";return!(e?.objectIdField!=null&&i===e.objectIdField.toLowerCase()||e?.globalIdField!=null&&i===e.globalIdField.toLowerCase()||dDe(e).includes(i)||cDe.has(t.type)||uDe.some(r=>r.test(i)))}async function tot(t,e){const{labelingInfo:i,fieldsIndex:r}=e;i?.length&&await Promise.all(i.map(n=>Yce(t,r,n)))}async function Yce(t,e,i){if(!i)return;const r=i.getLabelExpression(),n=i.where;if(r.type==="arcade")await ho(t,e,null,r.expression);else{const s=r.expression.match(/{[^}]*}/g);s&&s.forEach(o=>{uo(t,e,o.slice(1,-1))})}await GU(t,e,n)}function pDe(t){const e=t.defaultValue;return e!==void 0&&Jce(t,e)?e:t.nullable?null:void 0}function iot(t){const e=typeof t=="string"?{type:t}:t;return Kce(e)?255:e.type==="esriFieldTypeDate"||e.type==="date"?8:void 0}function Zce(t){return typeof t=="number"&&!isNaN(t)&&isFinite(t)}function fDe(t){return t===null||Zce(t)}function mDe(t){return t===null||Number.isInteger(t)}function gDe(){return!0}function Jce(t,e){let i;switch(t.type){case"date":case"integer":case"long":case"small-integer":case"big-integer":case"esriFieldTypeDate":case"esriFieldTypeInteger":case"esriFieldTypeLong":case"esriFieldTypeSmallInteger":case"esriFieldTypeBigInteger":i=t.nullable?mDe:Number.isInteger;break;case"double":case"single":case"esriFieldTypeSingle":case"esriFieldTypeDouble":i=t.nullable?fDe:Zce;break;case"string":case"esriFieldTypeString":i=t.nullable?NPe:rk;break;default:i=gDe}return arguments.length===1?i:i(e)}const yDe=["integer","small-integer","big-integer","long"],vDe=["single","double"],bDe=["esriFieldTypeInteger","esriFieldTypeSmallInteger","esriFieldTypeLong","esriFieldTypeBigInteger"],wDe=["esriFieldTypeSingle","esriFieldTypeDouble"],Xce=new Set([...yDe,...bDe]),_De=new Set([...vDe,...wDe]),xDe=c9(Xce,_De);function SDe(t){return t!=null&&Xce.has(t.type)}function WU(t){return t!=null&&xDe.has(t.type)}function Kce(t){return t!=null&&(t.type==="string"||t.type==="esriFieldTypeString")}function Qce(t){return t!=null&&(t.type==="date"||t.type==="esriFieldTypeDate")}function TDe(t){return t!=null&&(t.type==="date-only"||t.type==="esriFieldTypeDateOnly")}function $De(t){return t!=null&&(t.type==="timestamp-offset"||t.type==="esriFieldTypeTimestampOffset")}function eue(t){return t!=null&&(t.type==="time-only"||t.type==="esriFieldTypeTimeOnly")}function gJ(t){return t!=null&&(t.type==="oid"||t.type==="esriFieldTypeOID")}function yJ(t){return t!=null&&(t.type==="global-id"||t.type==="esriFieldTypeGlobalID")}function rot(t,e){return kDe(t,e)===null}function not(t){return t==null||typeof t=="number"&&isNaN(t)?null:t}function kDe(t,e){return t==null||t.nullable&&e===null?null:Jce(t,e)?WU(t)&&!EDe(t.type,Number(e))?"numeric-range-validation-error::out-of-range":null:"type-validation-error::invalid-type"}function EDe(t,e){const i=typeof t=="string"?tue(t):t;if(!i)return!1;const r=i.min,n=i.max;return i.isInteger?Number.isInteger(e)&&e>=r&&e<=n:e>=r&&e<=n}function tue(t){switch(t){case"esriFieldTypeSmallInteger":case"small-integer":return IDe;case"esriFieldTypeInteger":case"esriFieldTypeLong":case"integer":case"long":return CDe;case"esriFieldTypeBigInteger":case"big-integer":return MDe;case"esriFieldTypeSingle":case"single":return ADe;case"esriFieldTypeDouble":case"double":return ODe}}const IDe={min:-32768,max:32767,isInteger:!0,rawMin:-32768,rawMax:32767},CDe={min:-2147483648,max:2147483647,isInteger:!0,rawMin:-2147483648,rawMax:2147483647},MDe={min:-Number.MAX_SAFE_INTEGER,max:Number.MAX_SAFE_INTEGER,isInteger:!0,rawMin:-Number.MAX_SAFE_INTEGER,rawMax:Number.MAX_SAFE_INTEGER},gI=(2-2**-23)*2**127,ADe={min:-gI,max:gI,isInteger:!1,rawMin:-gI,rawMax:gI},ODe={min:-Number.MAX_VALUE,max:Number.MAX_VALUE,isInteger:!1,rawMin:-Number.MAX_VALUE,rawMax:Number.MAX_VALUE};function sot(t,e,i){switch(t){case"domain-validation-error::invalid-coded-value":return`Value ${i} is not in the coded domain - field: ${e.name}, domain: ${JSON.stringify(e.domain)}`;case"domain-validation-error::value-out-of-range":return`Value ${i} is out of the range of valid values - field: ${e.name}, domain: ${JSON.stringify(e.domain)}`;case"type-validation-error::invalid-type":return`Value ${i} is not a valid value for the field type - field: ${e.name}, type: ${e.type}, nullable: ${e.nullable}`;case"numeric-range-validation-error::out-of-range":{const{min:r,max:n}=tue(e.type);return`Value ${i} is out of range for the number type - field: ${e.name}, type: ${e.type}, value range is ${r} to ${n}`}}}function PDe(t,e){return!DDe(t,e,null)}function DDe(t,e,i){if(!t?.attributes||!e)return!0;const r=new Set(Object.keys(t.attributes));let n=!1;for(const s of e)if(!r.has(s)&&(n=!0,i==null))break;return n}function RDe(t){return!!t&&["raster.itempixelvalue","raster.servicepixelvalue"].some(e=>t.toLowerCase().startsWith(e))}function YU(t){const e=t?.match(/{[^}]+}/g);return e?e.map(i=>i.slice(1,-1).split(":")[0].trim()):[]}let aM=class extends ge{constructor(e){super(e),this.type=null}};u([p({type:["attachments","custom","fields","media","text","expression","relationship","utility-network-associations"],readOnly:!0,json:{read:!1,write:!0}})],aM.prototype,"type",void 0),aM=u([j("esri.popup.content.Content")],aM);const Vp=aM,yI=new At({asc:"ascending",desc:"descending"});let CS=class extends dt(ge){constructor(e){super(e),this.field=null,this.order="ascending"}};u([p({type:String,json:{write:!0}})],CS.prototype,"field",void 0),u([p({type:yI.apiValues,json:{type:yI.jsonValues,read:yI.read,write:yI.write}})],CS.prototype,"order",void 0),CS=u([j("esri.popup.support.AttachmentsOrderByInfo")],CS);const LDe=CS;let Zu=class extends dt(Vp){constructor(e){super(e),this.attachmentKeywords=null,this.attachmentTypes=null,this.description=null,this.displayType="auto",this.orderByFields=null,this.title=null,this.type="attachments"}};u([p({type:[String],json:{write:!0}})],Zu.prototype,"attachmentKeywords",void 0),u([p({type:[["application","audio","image","model","text","video"]],json:{write:!0}})],Zu.prototype,"attachmentTypes",void 0),u([p({type:String,json:{write:!0}})],Zu.prototype,"description",void 0),u([p({type:["auto","preview","list"],json:{write:!0}})],Zu.prototype,"displayType",void 0),u([p({type:[LDe],json:{write:!0}})],Zu.prototype,"orderByFields",void 0),u([p({type:String,json:{write:!0}})],Zu.prototype,"title",void 0),u([p({type:["attachments"],readOnly:!0,json:{read:!1,write:{isRequired:!0}}})],Zu.prototype,"type",void 0),Zu=u([j("esri.popup.content.AttachmentsContent")],Zu);const n1=Zu;var PF;let ry=PF=class extends Vp{constructor(t){super(t),this.creator=null,this.destroyer=null,this.outFields=null,this.type="custom"}clone(){return new PF({creator:this.creator,destroyer:this.destroyer,outFields:Array.isArray(this.outFields)?ne(this.outFields):null})}};u([p()],ry.prototype,"creator",void 0),u([p()],ry.prototype,"destroyer",void 0),u([p()],ry.prototype,"outFields",void 0),u([p({type:["custom"],readOnly:!0})],ry.prototype,"type",void 0),ry=PF=u([j("esri.popup.content.CustomContent")],ry);const iue=ry;var DF;let $0=DF=class extends ge{constructor(t){super(t),this.title=null,this.expression=null,this.returnType="dictionary"}clone(){return new DF({title:this.title,expression:this.expression})}};u([p({type:String,json:{write:!0}})],$0.prototype,"title",void 0),u([p({type:String,json:{write:!0}})],$0.prototype,"expression",void 0),u([p({type:["dictionary"],readOnly:!0,json:{read:!1,write:!0}})],$0.prototype,"returnType",void 0),$0=DF=u([j("esri.popup.ElementExpressionInfo")],$0);const zDe=$0;var RF;let MS=RF=class extends Vp{constructor(t){super(t),this.expressionInfo=null,this.type="expression"}clone(){return new RF({expressionInfo:this.expressionInfo?.clone()})}};u([p({type:zDe,json:{write:!0}})],MS.prototype,"expressionInfo",void 0),u([p({type:["expression"],readOnly:!0,json:{read:!1,write:!0}})],MS.prototype,"type",void 0),MS=RF=u([j("esri.popup.content.ExpressionContent")],MS);const e3=MS;let lM=class extends dt(ge){constructor(e){super(e),this.type=null}};u([p({type:["date-time","number"],nonNullable:!0,readOnly:!0,json:{read:!1,write:{isRequired:!0}}})],lM.prototype,"type",void 0),lM=u([j("esri.layers.support.FieldFormat")],lM);const ZU=lM,rue="auto";let Mh=class extends ZU{constructor(e){super(e),this.dateStyle=null,this.hour12=rue,this.month=null,this.timeStyle=null,this.type="date-time",this.year=null}};u([p({type:["full","long","medium","short"],json:{write:!0}})],Mh.prototype,"dateStyle",void 0),u([p({type:["always","auto","never"],nonNullable:!0,json:{default:rue,write:!0}})],Mh.prototype,"hour12",void 0),u([p({type:["long","short"],json:{write:!0}})],Mh.prototype,"month",void 0),u([p({type:["full","long","medium","short"],json:{write:!0}})],Mh.prototype,"timeStyle",void 0),u([p({type:["date-time"]})],Mh.prototype,"type",void 0),u([p({type:["numeric"],json:{write:!0}})],Mh.prototype,"year",void 0),Mh=u([j("esri.layers.support.DateTimeFieldFormat")],Mh);const tv=Mh,vJ={min:0,max:20},nue=2,sue=0,oue="decimal",aue="auto";let Uf=class extends ZU{constructor(e){super(e),this.maximumFractionDigits=nue,this.minimumFractionDigits=sue,this.style=oue,this.type="number",this.useGrouping=aue}};u([p({type:Ht,nonNullable:!0,range:vJ,json:{default:nue,write:!0}})],Uf.prototype,"maximumFractionDigits",void 0),u([p({type:Ht,nonNullable:!0,range:vJ,json:{default:sue,write:!0}})],Uf.prototype,"minimumFractionDigits",void 0),u([p({type:["decimal"],nonNullable:!0,json:{default:oue,write:!0}})],Uf.prototype,"style",void 0),u([p({type:["number"]})],Uf.prototype,"type",void 0),u([p({type:["always","auto","never"],nonNullable:!0,json:{default:aue,write:!0}})],Uf.prototype,"useGrouping",void 0),Uf=u([j("esri.layers.support.NumberFieldFormat")],Uf);const mO=Uf;let k0=class extends dt(ge){constructor(e){super(e),this.dateFormat=null,this.digitSeparator=!1,this.places=null}};u([nt(hxe)],k0.prototype,"dateFormat",void 0),u([p({type:Boolean,json:{write:!0}})],k0.prototype,"digitSeparator",void 0),u([p({type:Ht,json:{write:!0}})],k0.prototype,"places",void 0),k0=u([j("esri.popup.support.FieldInfoFormat")],k0);const Ip=k0,lue={base:ZU,key:"type",errorContext:"field-configuration-field-format",typeMap:{"date-time":tv,number:mO}};function NDe(t,e){const{format:i}=t;return e&&Jv(e)?i?cue(i,e):BT(e,{hour12:"always",useGrouping:"always"}):null}function cue(t,e){const{dateFormat:i}=t;if(!e)return i?wJ(t):bJ(t);if(!Jv(e))return;const r={hour12:"always"};switch(e.type){case"integer":case"small-integer":case"big-integer":case"long":return uue(t);case"single":case"double":return bJ(t);case"date":case"timestamp-offset":return i?wJ(t):BT(e,r);case"date-only":return i?jDe(t):BT(e);case"time-only":return i?FDe(t):BT(e,r)}}function Jv(t){return WU(t)||Qce(t)||TDe(t)||eue(t)||$De(t)}function uue(t){return new mO({useGrouping:t.digitSeparator?"always":"never"})}function bJ(t){const e=uue(t),{places:i}=t;return e.minimumFractionDigits=i??0,e.maximumFractionDigits=i??2,e}function wJ(t){return new tv({dateStyle:due(t),year:mue(t),month:pue(t),timeStyle:fue(t),hour12:hue(t)})}function jDe(t){return new tv({dateStyle:due(t),year:mue(t),month:pue(t)})}function FDe(t){return new tv({timeStyle:fue(t),hour12:hue(t)})}function due(t){const{dateFormat:e}=t;return e?e.startsWith("short-date")?"short":e.startsWith("day-short-month-year")?"medium":e.startsWith("long-month-day-year")?"long":e.startsWith("long-date")?"full":null:null}function hue(t){return t.dateFormat?.endsWith("-24")?"never":"always"}function pue(t){switch(t.dateFormat){case"short-month-year":return"short";case"long-month-year":return"long";default:return null}}function fue(t){const{dateFormat:e}=t;return e?e.includes("short-time")?"short":e.includes("long-time")?"medium":null:null}function mue(t){switch(t.dateFormat){case"short-month-year":case"long-month-year":case"year":return"numeric";default:return null}}function JU(t,e){const i=t.type==="number",r=t.type==="date-time";if(!e)return i?_J(t):r?xJ(t):null;if(Jv(e))switch(e.type){case"integer":case"small-integer":case"big-integer":case"long":return i?gue(t):null;case"single":case"double":return i?_J(t):null;case"date":case"timestamp-offset":return r?xJ(t):null;case"date-only":return r?VDe(t):null;case"time-only":return r?UDe(t):null}}function gue(t){return new Ip({digitSeparator:t.useGrouping!=="never"})}function _J(t){const e=gue(t);return e.places=t.maximumFractionDigits,e}function xJ(t){let e;const i=yue(t),r=vue(t),n=t.hour12==="never"?"24":null,s=t.year==="numeric"?"year":null,o=bue(t);return i&&r&&n?e=`${i}-${r}-${n}`:i&&r?e=`${i}-${r}`:i?e=i:s&&o?e=`${o}-${s}`:s&&(e=s),e?new Ip({dateFormat:e}):null}function VDe(t){let e;const i=yue(t),r=t.year==="numeric"?"year":null,n=bue(t);return i?e=i:r&&n?e=`${n}-${r}`:r&&(e=r),e?new Ip({dateFormat:e}):null}function UDe(t){let e;const i=vue(t),r=t.hour12==="never"?"24":null;return i&&r?e=`short-date-${i}-${r}`:i&&(e=`short-date-${i}`),e?new Ip({dateFormat:e}):null}function yue(t){switch(t.dateStyle){case"short":return"short-date";case"medium":return"day-short-month-year";case"long":return"long-month-day-year";case"full":return"long-date";default:return}}function vue(t){return t.timeStyle&&(t.timeStyle==="short"?"short-time":"long-time")}function bue(t){switch(t.month){case"short":return"short-month";case"long":return"long-month";default:return}}function BT(t,e){if(!Jv(t))return;const i=e?.useGrouping??"auto",r=e?.hour12??"auto";switch(t.type){case"integer":case"small-integer":case"big-integer":case"long":return new mO({minimumFractionDigits:0,maximumFractionDigits:0,useGrouping:i});case"single":case"double":return new mO({minimumFractionDigits:0,maximumFractionDigits:2,useGrouping:i});case"date":case"timestamp-offset":return new tv({dateStyle:"short",timeStyle:"short",hour12:r});case"date-only":return new tv({dateStyle:"short"});case"time-only":return new tv({timeStyle:"short",hour12:r})}}let Ua=class extends dt(ge){constructor(e){super(e),this.fieldName=null,this.isEditable=!0,this.label=null,this.statisticType=null,this.stringFieldOption="text-box",this.tooltip=null,this.visible=!0}set fieldFormat(e){this._set("fieldFormat",e),this._set("format",e?JU(e):null)}set format(e){this._set("format",e),this._set("fieldFormat",e?cue(e):null)}readFormat(e,i){if(!i.fieldFormat)return e?Ip.fromJSON(e):null}clone(){const e=super.clone();return e._set("format",this.format?.clone()),e._set("fieldFormat",this.fieldFormat?.clone()),e}};u([p({value:null,clonable:!1,types:lue,json:{write:{overridePolicy(t,e,i){const{fieldName:r}=this;return{enabled:!!r&&!r.startsWith("expression/")&&!r.startsWith("relationships/")&&!!i?.writeFieldFormat}}}}})],Ua.prototype,"fieldFormat",null),u([p({type:String,json:{write:!0}})],Ua.prototype,"fieldName",void 0),u([p({value:null,clonable:!1,type:Ip,json:{write:!0}})],Ua.prototype,"format",null),u([Ae("format")],Ua.prototype,"readFormat",null),u([p({type:Boolean,json:{write:{alwaysWriteDefaults:!0},default:!0}})],Ua.prototype,"isEditable",void 0),u([p({type:String,json:{write:!0}})],Ua.prototype,"label",void 0),u([p({type:["count","sum","min","max","avg","stddev","var"],json:{write:!0}})],Ua.prototype,"statisticType",void 0),u([nt(new At({richtext:"rich-text",textarea:"text-area",textbox:"text-box"}),{default:"text-box"})],Ua.prototype,"stringFieldOption",void 0),u([p({type:String,json:{write:!0}})],Ua.prototype,"tooltip",void 0),u([p({type:Boolean,json:{write:!0}})],Ua.prototype,"visible",void 0),Ua=u([j("esri.popup.FieldInfo")],Ua);const t3=Ua;var LF;let Bf=LF=class extends Vp{constructor(t){super(t),this.attributes=null,this.description=null,this.fieldInfos=null,this.title=null,this.type="fields"}clone(){return new LF(ne({attributes:this.attributes,description:this.description,fieldInfos:this.fieldInfos,title:this.title}))}};u([p({type:Object,json:{write:!0}})],Bf.prototype,"attributes",void 0),u([p({type:String,json:{write:!0}})],Bf.prototype,"description",void 0),u([p({type:[t3],json:{write:!0}})],Bf.prototype,"fieldInfos",void 0),u([p({type:String,json:{write:!0}})],Bf.prototype,"title",void 0),u([p({type:["fields"],readOnly:!0,json:{read:!1,write:{isRequired:!0}}})],Bf.prototype,"type",void 0),Bf=LF=u([j("esri.popup.content.FieldsContent")],Bf);const s1=Bf;let ny=class extends ge{constructor(e){super(e),this.altText=null,this.caption="",this.title="",this.type=null}};u([p({type:String,json:{write:!0}})],ny.prototype,"altText",void 0),u([p({type:String,json:{write:!0}})],ny.prototype,"caption",void 0),u([p({type:String,json:{write:!0}})],ny.prototype,"title",void 0),u([p({type:["image","bar-chart","column-chart","line-chart","pie-chart"],readOnly:!0,json:{read:!1,write:!0}})],ny.prototype,"type",void 0),ny=u([j("esri.popup.content.mixins.MediaInfo")],ny);const XU=ny;var zF;let sy=zF=class extends at{constructor(t){super(t),this.color=null,this.fieldName=null,this.tooltip=null,this.value=null}clone(){return new zF({color:this.color?.clone(),fieldName:this.fieldName,tooltip:this.tooltip,value:this.value})}};u([p()],sy.prototype,"color",void 0),u([p()],sy.prototype,"fieldName",void 0),u([p()],sy.prototype,"tooltip",void 0),u([p()],sy.prototype,"value",void 0),sy=zF=u([j("esri.popup.content.support.ChartMediaInfoValueSeries")],sy);const BDe=sy;var NF;let Hf=NF=class extends ge{constructor(t){super(t),this.colors=null,this.fields=[],this.normalizeField=null,this.series=[],this.tooltipField=null}clone(){return new NF({colors:ne(this.colors),fields:ne(this.fields),normalizeField:this.normalizeField,series:ne(this.series),tooltipField:this.tooltipField})}};u([p({type:[xt],json:{type:[[Ht]],write:!0}})],Hf.prototype,"colors",void 0),u([p({type:[String],json:{write:{isRequired:!0}}})],Hf.prototype,"fields",void 0),u([p({type:String,json:{write:!0}})],Hf.prototype,"normalizeField",void 0),u([p({type:[BDe],json:{read:!1}})],Hf.prototype,"series",void 0),u([p({type:String,json:{write:!0}})],Hf.prototype,"tooltipField",void 0),Hf=NF=u([j("esri.popup.content.support.ChartMediaInfoValue")],Hf);const HDe=Hf;let AS=class extends XU{constructor(e){super(e),this.type=null,this.value=void 0}};u([p({type:["bar-chart","column-chart","line-chart","pie-chart"],readOnly:!0,json:{read:!1,write:!0}})],AS.prototype,"type",void 0),u([p({type:HDe,json:{write:{isRequired:!0}}})],AS.prototype,"value",void 0),AS=u([j("esri.popup.content.mixins.ChartMediaInfo")],AS);const i3=AS,r3=En()({barchart:"bar-chart",columnchart:"column-chart",linechart:"line-chart",piechart:"pie-chart"});var jF;let cM=jF=class extends i3{constructor(t){super(t),this.type="bar-chart"}clone(){return new jF({altText:this.altText,title:this.title,caption:this.caption,value:this.value?.clone()})}};u([p({type:["bar-chart"],readOnly:!0,json:{type:["barchart"],read:!1,write:{writer:r3.write,isRequired:!0}}})],cM.prototype,"type",void 0),cM=jF=u([j("esri.popup.content.BarChartMediaInfo")],cM);const wue=cM;var FF;let uM=FF=class extends i3{constructor(t){super(t),this.type="column-chart"}clone(){return new FF({altText:this.altText,title:this.title,caption:this.caption,value:this.value?.clone()})}};u([p({type:["column-chart"],readOnly:!0,json:{type:["columnchart"],read:!1,write:{writer:r3.write,isRequired:!0}}})],uM.prototype,"type",void 0),uM=FF=u([j("esri.popup.content.ColumnChartMediaInfo")],uM);const _ue=uM;var VF;let OS=VF=class extends ge{constructor(t){super(t),this.linkURL=null,this.sourceURL=null}clone(){return new VF({linkURL:this.linkURL,sourceURL:this.sourceURL})}};u([p({type:String,json:{write:!0}})],OS.prototype,"linkURL",void 0),u([p({type:String,json:{write:{isRequired:!0}}})],OS.prototype,"sourceURL",void 0),OS=VF=u([j("esri.popup.content.support.ImageMediaInfoValue")],OS);const qDe=OS;var UF;let E0=UF=class extends XU{constructor(t){super(t),this.refreshInterval=0,this.type="image",this.value=void 0}clone(){return new UF({altText:this.altText,title:this.title,caption:this.caption,refreshInterval:this.refreshInterval,value:this.value?.clone()})}};u([p({type:Number,json:{write:!0}})],E0.prototype,"refreshInterval",void 0),u([p({type:["image"],readOnly:!0,json:{read:!1,write:{isRequired:!0}}})],E0.prototype,"type",void 0),u([p({type:qDe,json:{write:{isRequired:!0}}})],E0.prototype,"value",void 0),E0=UF=u([j("esri.popup.content.ImageMediaInfo")],E0);const xue=E0;var BF;let dM=BF=class extends i3{constructor(t){super(t),this.type="line-chart"}clone(){return new BF({altText:this.altText,title:this.title,caption:this.caption,value:this.value?.clone()})}};u([p({type:["line-chart"],readOnly:!0,json:{type:["linechart"],read:!1,write:{writer:r3.write,isRequired:!0}}})],dM.prototype,"type",void 0),dM=BF=u([j("esri.popup.content.LineChartMediaInfo")],dM);const Sue=dM;var HF;let hM=HF=class extends i3{constructor(t){super(t),this.type="pie-chart"}clone(){return new HF({altText:this.altText,title:this.title,caption:this.caption,value:this.value?.clone()})}};u([p({type:["pie-chart"],readOnly:!0,json:{type:["piechart"],read:!1,write:{writer:r3.write,isRequired:!0}}})],hM.prototype,"type",void 0),hM=HF=u([j("esri.popup.content.PieChartMediaInfo")],hM);const Tue=hM,qF={base:XU,key:"type",defaultKeyValue:"image",typeMap:{"bar-chart":wue,"column-chart":_ue,"line-chart":Sue,"pie-chart":Tue,image:xue}};var GF;let qc=GF=class extends Vp{constructor(t){super(t),this.activeMediaInfoIndex=null,this.attributes=null,this.description=null,this.mediaInfos=null,this.title=null,this.type="media"}readMediaInfos(t){return t&&t.map(e=>e.type==="image"?xue.fromJSON(e):e.type==="barchart"?wue.fromJSON(e):e.type==="columnchart"?_ue.fromJSON(e):e.type==="linechart"?Sue.fromJSON(e):e.type==="piechart"?Tue.fromJSON(e):void 0).filter(Boolean)}writeMediaInfos(t,e){e.mediaInfos=t&&t.map(i=>i.toJSON())}clone(){return new GF(ne({activeMediaInfoIndex:this.activeMediaInfoIndex,attributes:this.attributes,description:this.description,mediaInfos:this.mediaInfos,title:this.title}))}};u([p()],qc.prototype,"activeMediaInfoIndex",void 0),u([p({type:Object,json:{write:!0}})],qc.prototype,"attributes",void 0),u([p({type:String,json:{write:!0}})],qc.prototype,"description",void 0),u([p({types:[qF]})],qc.prototype,"mediaInfos",void 0),u([Ae("mediaInfos")],qc.prototype,"readMediaInfos",null),u([ze("mediaInfos")],qc.prototype,"writeMediaInfos",null),u([p({type:String,json:{write:!0}})],qc.prototype,"title",void 0),u([p({type:["media"],readOnly:!0,json:{read:!1,write:{isRequired:!0}}})],qc.prototype,"type",void 0),qc=GF=u([j("esri.popup.content.MediaContent")],qc);const Y2=qc;var WF;let PS=WF=class extends ge{constructor(t){super(t),this.field=null,this.order=null}clone(){return new WF({field:this.field,order:this.order})}};u([p({type:String,json:{write:!0}})],PS.prototype,"field",void 0),u([p({type:["asc","desc"],json:{write:!0}})],PS.prototype,"order",void 0),PS=WF=u([j("esri.popup.support.RelatedRecordsInfoFieldOrder")],PS);const KU=PS;let Ju=class extends dt(Vp){constructor(e){super(e),this.description=null,this.displayCount=null,this.displayType="list",this.orderByFields=null,this.relationshipId=null,this.title=null,this.type="relationship"}};u([p({type:String,json:{write:!0}})],Ju.prototype,"description",void 0),u([p({type:Number,json:{type:Ht,write:!0}})],Ju.prototype,"displayCount",void 0),u([p({type:["list"],json:{write:{isRequired:!0}}})],Ju.prototype,"displayType",void 0),u([p({type:[KU],json:{write:!0}})],Ju.prototype,"orderByFields",void 0),u([p({type:Number,json:{type:Ht,write:{isRequired:!0}}})],Ju.prototype,"relationshipId",void 0),u([p({type:String,json:{write:!0}})],Ju.prototype,"title",void 0),u([p({type:["relationship"],readOnly:!0,json:{read:!1,write:{isRequired:!0}}})],Ju.prototype,"type",void 0),Ju=u([j("esri.popup.content.RelationshipContent")],Ju);const Z2=Ju;var YF;let DS=YF=class extends Vp{constructor(t){super(t),this.text=null,this.type="text"}clone(){return new YF({text:this.text})}};u([p({type:String,json:{write:!0}})],DS.prototype,"text",void 0),u([p({type:["text"],readOnly:!0,json:{read:!1,write:{isRequired:!0}}})],DS.prototype,"type",void 0),DS=YF=u([j("esri.popup.content.TextContent")],DS);const J2=DS;let Ah=class extends dt(ge){constructor(e){super(e),this.title=null,this.description=null,this.type=null,this.associatedNetworkSourceId=null,this.associatedAssetGroup=null,this.associatedAssetType=null}};u([p({type:String,json:{write:!0}})],Ah.prototype,"title",void 0),u([p({type:String,json:{write:!0}})],Ah.prototype,"description",void 0),u([p({type:["attachment","connectivity","container","content","structure"],json:{write:!0}})],Ah.prototype,"type",void 0),u([p({type:Number,json:{type:Ht,write:!0}})],Ah.prototype,"associatedNetworkSourceId",void 0),u([p({type:Number,json:{type:Ht,write:!0}})],Ah.prototype,"associatedAssetGroup",void 0),u([p({type:Number,json:{type:Ht,write:!0}})],Ah.prototype,"associatedAssetType",void 0),Ah=u([j("esri.popup.support.UtilityNetworkAssociationType")],Ah);const $ue=Ah;let qf=class extends dt(Vp){constructor(e){super(e),this.description=null,this.displayCount=null,this.title=null,this.associationTypes=[],this.type="utility-network-associations"}};u([p({type:String,json:{write:!0}})],qf.prototype,"description",void 0),u([p({type:Number,json:{type:Ht,write:!0}})],qf.prototype,"displayCount",void 0),u([p({type:String,json:{write:!0}})],qf.prototype,"title",void 0),u([p({type:[$ue],json:{write:!0}})],qf.prototype,"associationTypes",void 0),u([nt({utilityNetworkAssociations:"utility-network-associations"})],qf.prototype,"type",void 0),qf=u([j("esri.popup.content.UtilityNetworkAssociationsContent")],qf);const QU=qf,GDe={base:null,key:"type",typeMap:{attachment:n1,media:Y2,text:J2,expression:e3,field:s1,relationship:Z2,utilityNetworkAssociations:QU}},WDe={base:null,key:"type",typeMap:{attachment:n1,media:Y2,text:J2,expression:e3,field:s1,relationship:Z2}};var ZF;let oy=ZF=class extends ge{constructor(t){super(t),this.name=null,this.title=null,this.expression=null,this.returnType=null}clone(){return new ZF({name:this.name,title:this.title,expression:this.expression,returnType:this.returnType})}};u([p({type:String,json:{write:!0}})],oy.prototype,"name",void 0),u([p({type:String,json:{write:!0}})],oy.prototype,"title",void 0),u([p({type:String,json:{write:!0}})],oy.prototype,"expression",void 0),u([p({type:["string","number"],json:{write:!0}})],oy.prototype,"returnType",void 0),oy=ZF=u([j("esri.popup.ExpressionInfo")],oy);const YDe=oy;var JF;let RS=JF=class extends ge{constructor(t){super(t),this.returnTopmostRaster=null,this.showNoDataRecords=null}clone(){return new JF({showNoDataRecords:this.showNoDataRecords,returnTopmostRaster:this.returnTopmostRaster})}};u([p({type:Boolean,json:{write:!0}})],RS.prototype,"returnTopmostRaster",void 0),u([p({type:Boolean,json:{write:!0}})],RS.prototype,"showNoDataRecords",void 0),RS=JF=u([j("esri.popup.LayerOptions")],RS);const ZDe=RS;var XF;let LS=XF=class extends ge{constructor(t){super(t),this.showRelatedRecords=null,this.orderByFields=null}clone(){return new XF({showRelatedRecords:this.showRelatedRecords,orderByFields:this.orderByFields?ne(this.orderByFields):null})}};u([p({type:Boolean,json:{write:!0}})],LS.prototype,"showRelatedRecords",void 0),u([p({type:[KU],json:{write:!0}})],LS.prototype,"orderByFields",void 0),LS=XF=u([j("esri.popup.RelatedRecordsInfo")],LS);const SJ=LS;var KF;let Vl=KF=class extends WD(at){constructor(t){super(t),this.active=!1,this.className=null,this.disabled=!1,this.icon=null,this.id=null,this.indicator=!1,this.title=null,this.type=null,this.visible=!0}clone(){return new KF({active:this.active,className:this.className,disabled:this.disabled,icon:this.icon,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible})}};u([p()],Vl.prototype,"active",void 0),u([p()],Vl.prototype,"className",void 0),u([p()],Vl.prototype,"disabled",void 0),u([p()],Vl.prototype,"icon",void 0),u([p()],Vl.prototype,"id",void 0),u([p()],Vl.prototype,"indicator",void 0),u([p()],Vl.prototype,"title",void 0),u([p()],Vl.prototype,"type",void 0),u([p()],Vl.prototype,"visible",void 0),Vl=KF=u([j("esri.support.actions.ActionBase")],Vl);const eB=Vl;var QF;let pM=QF=class extends eB{constructor(t){super(t),this.image=null,this.type="button"}clone(){return new QF({active:this.active,className:this.className,disabled:this.disabled,icon:this.icon,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible,image:this.image})}};u([p()],pM.prototype,"image",void 0),pM=QF=u([j("esri.support.actions.ActionButton")],pM);const JDe=pM;var e4;let zS=e4=class extends eB{constructor(t){super(t),this.image=null,this.type="toggle",this.value=!1}clone(){return new e4({active:this.active,className:this.className,disabled:this.disabled,icon:this.icon,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible,image:this.image,value:this.value})}};u([p()],zS.prototype,"image",void 0),u([p()],zS.prototype,"value",void 0),zS=e4=u([j("esri.support.actions.ActionToggle")],zS);const XDe=zS,iS="relationships/",TJ="expression/",KDe=We.ofType({key:"type",defaultKeyValue:"button",base:eB,typeMap:{button:JDe,toggle:XDe}}),QDe={base:Vp,key:"type",typeMap:{media:Y2,custom:iue,text:J2,attachments:n1,fields:s1,expression:e3,relationship:Z2,utilityNetworkAssociations:QU}},kue=new Set(["attachments","fields","media","text","expression","relationship"]),e3e=new Set([...kue,"utility-network-associations"]);let vn=class extends dt(ge){constructor(e){super(e),this.actions=null,this.content="",this.expressionInfos=null,this.fieldInfos=null,this.layerOptions=null,this.lastEditInfoEnabled=!0,this.outFields=null,this.overwriteActions=!1,this.returnGeometry=!1,this.title=""}castContent(e){return Array.isArray(e)?e.map(i=>Dd(QDe,i)):typeof e=="string"||typeof e=="function"||e instanceof HTMLElement||co(e)?e:(Ee.getLogger(this).error("content error","unsupported content value",{value:e}),null)}readContent(e,i){const{popupElements:r}=i;return Array.isArray(r)&&r.length>0?this._readPopupInfoElements(i.description,i.mediaInfos,r):this._readPopupInfo(i)}writeWebSceneContent(e,i,r,n){this._writePopupTemplateContent(e,i,n)}writeWebMapContent(e,i,r,n){this._writePopupTemplateContent(e,i,n)}writeFieldInfos(e,i,r,n){const{content:s}=this,o=Array.isArray(s)?s:null,{writeFieldFormat:a,...l}=n||{};if(e){const h=o?o.filter(g=>g.type==="fields"):[],f=h.length&&h.every(g=>g.fieldInfos?.length);i.fieldInfos=e.filter(Boolean).map(g=>{const v=g.toJSON(l);return f&&(v.visible=!1),v})}if(o)for(const h of o)h.type==="fields"&&this._writeFieldsContent(h,i,l)}writeLayerOptions(e,i,r,n){i[r]=!e||e.showNoDataRecords===null&&e.returnTopmostRaster===null?null:e.toJSON(n)}writeTitle(e,i){i.title=e||""}async collectRequiredFields(e,i,r){const n=this.expressionInfos||[];await this._collectExpressionInfoFields(e,i,r,[...n,...this._getContentExpressionInfos(this.content,n)]),Av(e,i,[...this.outFields||[],...this._getActionsFields(this.actions),...this._getTitleFields(this.title),...this._getContentFields(this.content)])}async getRequiredFields(e,i){const r=new Set;return await this.collectRequiredFields(r,e,i),[...r].sort()}_writePopupTemplateContent(e,i,r){typeof e!="string"?Array.isArray(e)&&(i.popupElements=e.filter(n=>r?.origin==="web-scene"?kue.has(n.type):e3e.has(n.type)).map(n=>n?.toJSON(r)),i.popupElements.forEach(n=>{n.type==="attachments"?this._writeAttachmentContent(i):n.type==="media"?this._writeMediaContent(n,i):n.type==="text"?this._writeTextContent(n,i):n.type==="relationship"&&this._writeRelationshipContent(n,i)})):i.description=e}_writeFieldsContent(e,i,r){const n=e.fieldInfos;if(!Array.isArray(n)||!n.length)return;const s=i.fieldInfos;if(Array.isArray(s))for(const o of n){const a=s.find(l=>l.fieldName?.toLowerCase()===o.fieldName?.toLowerCase());a?a.visible=!0:s.push(o.toJSON(r))}else i.fieldInfos=n.map(o=>o.toJSON(r))}_writeAttachmentContent(e){e.showAttachments||(e.showAttachments=!0)}_writeRelationshipContent(e,i){const r=e.orderByFields?.map(s=>this._toFieldOrderJSON(s,e.relationshipId))||[],n=[...i.relatedRecordsInfo?.orderByFields||[],...r];i.relatedRecordsInfo={showRelatedRecords:!0,...n?.length&&{orderByFields:n}}}_writeTextContent(e,i){!i.description&&e.text&&(i.description=e.text)}_writeMediaContent(e,i){if(!Array.isArray(e.mediaInfos)||!e.mediaInfos.length)return;const r=ne(e.mediaInfos);Array.isArray(i.mediaInfos)?i.mediaInfos=[...i.mediaInfos,...r]:i.mediaInfos=r}_readPopupInfoElements(e,i,r){const n={description:!1,mediaInfos:!1};return r.map(s=>s.type==="media"?(s.mediaInfos||!i||n.mediaInfos||(s.mediaInfos=i,n.mediaInfos=!0),Y2.fromJSON(s)):s.type==="text"?(s.text||!e||n.description||(s.text=e,n.description=!0),J2.fromJSON(s)):s.type==="attachments"?n1.fromJSON(s):s.type==="fields"?s1.fromJSON(s):s.type==="expression"?e3.fromJSON(s):s.type==="relationship"?Z2.fromJSON(s):s.type==="utilityNetworkAssociations"?QU.fromJSON(s):void 0).filter(Boolean)}_toRelationshipContent(e){const{field:i,order:r}=e;if(!i?.startsWith(iS))return null;const n=i.replace(iS,"").split("/");if(n.length!==2)return null;const s=parseInt(n[0],10),o=n[1];return!Number.isNaN(s)&&o?Z2.fromJSON({relationshipId:s,orderByFields:[{field:o,order:r}]}):null}_toFieldOrderJSON(e,i){const{order:r,field:n}=e;return{field:`${iS}${i}/${n}`,order:r}}_readPopupInfo({description:e,mediaInfos:i,showAttachments:r,relatedRecordsInfo:n={showRelatedRecords:!1}}){const s=[];e?s.push(new J2({text:e})):s.push(new s1),Array.isArray(i)&&i.length&&s.push(Y2.fromJSON({mediaInfos:i})),r&&s.push(n1.fromJSON({displayType:"auto"}));const{showRelatedRecords:o,orderByFields:a}=n;return o&&a?.length&&a.forEach(l=>{const h=this._toRelationshipContent(l);h&&s.push(h)}),s.length?s:e}_getContentElementFields(e){const i=e?.type;if(i==="attachments")return[...this._extractFieldNames(e.title),...this._extractFieldNames(e.description)];if(i==="custom")return e.outFields||[];if(i==="fields")return[...this._extractFieldNames(e.title),...this._extractFieldNames(e.description),...this._getFieldInfoFields(e.fieldInfos??this.fieldInfos)];if(i==="media"){const r=e.mediaInfos||[];return[...this._extractFieldNames(e.title),...this._extractFieldNames(e.description),...r.reduce((n,s)=>[...n,...this._getMediaInfoFields(s)],[])]}return i==="text"?this._extractFieldNames(e.text):i==="relationship"||i==="utility-network-associations"?[...this._extractFieldNames(e.title),...this._extractFieldNames(e.description)]:[]}_getMediaInfoFields(e){const{caption:i,title:r,value:n}=e,s=n||{},{fields:o,normalizeField:a,tooltipField:l,sourceURL:h,linkURL:f}=s,g=[...this._extractFieldNames(r),...this._extractFieldNames(i),...this._extractFieldNames(h),...this._extractFieldNames(f),...o??[]];return a&&g.push(a),l&&g.push(l),g}_getContentExpressionInfos(e,i){return Array.isArray(e)?e.reduce((r,n)=>[...r,...n.type==="expression"&&n.expressionInfo?[n.expressionInfo]:[]],i):[]}_getContentFields(e){return typeof e=="string"?this._extractFieldNames(e):Array.isArray(e)?e.reduce((i,r)=>[...i,...this._getContentElementFields(r)],[]):[]}async _collectExpressionInfoFields(e,i,r,n){n&&await Promise.all(n.map(s=>ho(e,i,r,s.expression)))}_getFieldInfoFields(e){return e?e.filter(({fieldName:i,visible:r})=>!(r!==void 0&&!r||!i||i.startsWith(iS)||i.startsWith(TJ))).map(i=>i.fieldName):[]}_getActionsFields(e){return e?e.toArray().reduce((i,r)=>[...i,...this._getActionFields(r)],[]):[]}_getActionFields(e){const{className:i,title:r,type:n}=e,s=n==="button"||n==="toggle"?e.image:"";return[...this._extractFieldNames(r),...this._extractFieldNames(i),...this._extractFieldNames(s)]}_getTitleFields(e){return typeof e=="string"?this._extractFieldNames(e):[]}_extractFieldNames(e){return YU(e).filter(i=>!(i.startsWith(iS)||i.startsWith(TJ)))}};u([p({type:KDe})],vn.prototype,"actions",void 0),u([p()],vn.prototype,"content",void 0),u([bi("content")],vn.prototype,"castContent",null),u([Ae("content",["description","fieldInfos","popupElements","mediaInfos","showAttachments","relatedRecordsInfo"])],vn.prototype,"readContent",null),u([ze("web-scene","content",{popupElements:{type:We.ofType(WDe)},showAttachments:{type:Boolean},mediaInfos:{type:We.ofType(qF)},description:{type:String},relatedRecordsInfo:{type:SJ}})],vn.prototype,"writeWebSceneContent",null),u([ze("content",{popupElements:{type:We.ofType(GDe)},showAttachments:{type:Boolean},mediaInfos:{type:We.ofType(qF)},description:{type:String},relatedRecordsInfo:{type:SJ}})],vn.prototype,"writeWebMapContent",null),u([p({type:[YDe],json:{write:!0}})],vn.prototype,"expressionInfos",void 0),u([p({type:[t3]})],vn.prototype,"fieldInfos",void 0),u([ze("fieldInfos")],vn.prototype,"writeFieldInfos",null),u([p({type:ZDe})],vn.prototype,"layerOptions",void 0),u([ze("layerOptions")],vn.prototype,"writeLayerOptions",null),u([p({type:Boolean,json:{read:{source:"showLastEditInfo"},write:{target:"showLastEditInfo"},default:!0}})],vn.prototype,"lastEditInfoEnabled",void 0),u([p()],vn.prototype,"outFields",void 0),u([p()],vn.prototype,"overwriteActions",void 0),u([p()],vn.prototype,"returnGeometry",void 0),u([p({json:{type:String}})],vn.prototype,"title",void 0),u([ze("title")],vn.prototype,"writeTitle",null),vn=u([j("esri.PopupTemplate")],vn);const Xv=vn,tB=Symbol("idFieldsProviderSymbol");function t3e(t){return!!t&&tB in t}function $J(t){return t3e(t)?t[tB]:void 0}const nk=Symbol("popupProvider");function wot(t){return typeof t=="object"&&t!==null&&"popupEnabled"in t&&"popupTemplate"in t}function i3e(t){return!!t&&nk in t}function r3e(t){return i3e(t)?t[nk]:null}function _ot(t,e){switch(e.type){case"object-id":case"unique-id-simple":return t.attributes[e.fieldName];case"unique-id-composite":{const i=[];for(const r of e.fieldNames)i.push(t.attributes[r]??null);return JSON.stringify(i)}}}function kJ(t,e){if("uniqueIdFields"in e&&e.uniqueIdFields?.length){if(e.uniqueIdFields.length===1)return t.attributes?.[e.uniqueIdFields[0]];const i=e.uniqueIdFields.map(r=>t.attributes?.[r]);return JSON.stringify(i)}return"objectIdField"in e&&e.objectIdField?t.attributes?.[e.objectIdField]:null}const EJ=new At({esriSMS:"simple-marker",esriPMS:"picture-marker",esriSLS:"simple-line",esriSFS:"simple-fill",esriPFS:"picture-fill",esriTS:"text",esriSHD:"shield-label-symbol",PointSymbol3D:"point-3d",LineSymbol3D:"line-3d",PolygonSymbol3D:"polygon-3d",WebStyleSymbol:"web-style",MeshSymbol3D:"mesh-3d",LabelSymbol3D:"label-3d",CIMSymbolReference:"cim"});let n3e=0,Xr=class extends ge{constructor(e){super(e),this.id="sym"+n3e++,this.type=null,this.color=new xt([0,0,0,1])}readColor(e){return e?.[0]!=null?[e[0],e[1],e[2],e[3]/255]:e}async collectRequiredFields(e,i){}hash(){return JSON.stringify(this.toJSON())}clone(){}};u([p({type:EJ.apiValues,readOnly:!0,json:{read:!1,write:{ignoreOrigin:!0,writer:EJ.write,isRequired:!0}}})],Xr.prototype,"type",void 0),u([p({type:xt,json:{write:{allowNull:!0}}})],Xr.prototype,"color",void 0),u([Ae("color")],Xr.prototype,"readColor",null),Xr=u([j("esri.symbols.Symbol")],Xr);var t4;let no=t4=class extends Xr{constructor(t){super(t),this.data=null,this.type="cim"}readData(t,e){return e}writeData(t,e){Object.assign(e,t)}async collectRequiredFields(t,e){if(this.data?.type==="CIMSymbolReference"){const i=this.data.primitiveOverrides;if(i){const r=i.map(n=>{const s=n.valueExpressionInfo;return s?ho(t,e,null,s.expression):null});await Promise.all(r)}}}clone(){return new t4({data:ne(this.data)})}hash(){return pie(JSON.stringify(this.data)).toString()}};u([p({json:{write:!1}})],no.prototype,"color",void 0),u([p({json:{write:!0}})],no.prototype,"data",void 0),u([Ae("data",["symbol"])],no.prototype,"readData",null),u([ze("data",{})],no.prototype,"writeData",null),u([nt({CIMSymbolReference:"cim"},{readOnly:!0})],no.prototype,"type",void 0),no=t4=u([j("esri.symbols.CIMSymbol")],no);let Oo=class extends ge{constructor(e){super(e),this.enabled=!0,this.type=null,this.ignoreDrivers=!1}writeEnabled(e,i,r){e||(i[r]=e)}};u([p({type:Boolean,json:{read:{source:"enable"},write:{target:"enable"}}})],Oo.prototype,"enabled",void 0),u([ze("enabled")],Oo.prototype,"writeEnabled",null),u([p({type:["icon","object","line","path","fill","water","extrude","text"],readOnly:!0,json:{write:{isRequired:!0}}})],Oo.prototype,"type",void 0),Oo=u([j("esri.symbols.Symbol3DLayer")],Oo);function s3e(t,e){const i=e.transparency!=null?W2(e.transparency):1,r=e.color;return r&&Array.isArray(r)?new xt([r[0]||0,r[1]||0,r[2]||0,i]):null}function o3e(t,e){e.color=t.toJSON().slice(0,3);const i=ZD(t.a);i!==0&&(e.transparency=i)}function og(t){return{type:xt,nonNullable:t?.nonNullable,json:{type:[Ht],default:null,read:{source:["color","transparency"],reader:s3e},write:{target:{color:{type:[Ht],isRequired:t?.colorRequiredOnWrite},transparency:{type:Ht}},writer:o3e}}}}const Fd={type:Number,cast:ci,json:{write:!0}};function Tot(t){return t==="emissive"?0:1}let ay=class extends ge{constructor(e){super(e),this.color=new xt([0,0,0,1]),this.extensionLength=0,this.size=uc(1)}clone(){}cloneProperties(){return{color:ne(this.color),size:this.size,extensionLength:this.extensionLength}}};u([p({type:["solid","sketch"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0,isRequired:!0}}})],ay.prototype,"type",void 0),u([p(og({colorRequiredOnWrite:!0}))],ay.prototype,"color",void 0),u([p({...Fd,json:{write:{overridePolicy:t=>({enabled:!!t})}}})],ay.prototype,"extensionLength",void 0),u([p(Fd)],ay.prototype,"size",void 0),ay=u([j("esri.symbols.edges.Edges3D")],ay);const iB=ay;var i4;let fM=i4=class extends iB{constructor(t){super(t),this.type="sketch"}clone(){return new i4(this.cloneProperties())}};u([nt({sketch:"sketch"},{readOnly:!0})],fM.prototype,"type",void 0),fM=i4=u([j("esri.symbols.edges.SketchEdges3D")],fM);const a3e=fM;var r4;let mM=r4=class extends iB{constructor(t){super(t),this.type="solid"}clone(){return new r4(this.cloneProperties())}};u([nt({solid:"solid"},{readOnly:!0})],mM.prototype,"type",void 0),mM=r4=u([j("esri.symbols.edges.SolidEdges3D")],mM);const Eue=mM,Iue={types:{key:"type",base:iB,typeMap:{solid:Eue,sketch:a3e}},json:{write:!0}};var n4;let Ew=n4=class extends ge{constructor(){super(...arguments),this.strength=null,this.source="emissive"}clone(){const t={strength:this.strength,source:this.source};return new n4(t)}};u([p({json:{write:!1}})],Ew.prototype,"strength",void 0),u([p({json:{write:!1}})],Ew.prototype,"source",void 0),Ew=n4=u([j("esri.symbols.support.Symbol3DEmissive")],Ew);var s4;let cl=s4=class extends ge{constructor(t){super(t),this.color=null,this.emissive=new Ew({source:"emissive"})}clone(){const t={color:this.color?.clone()??null,emissive:this.emissive?.clone()??null};return new s4(t)}};u([p(og())],cl.prototype,"color",void 0),u([p({type:Ew,json:{write:!1}})],cl.prototype,"emissive",void 0),cl=s4=u([j("esri.symbols.support.Symbol3DMaterial")],cl);var o4,m_;let Zh=(m_=class extends Oo{constructor(e){super(e),this.type="extrude",this.size=1,this.material=null,this.castShadows=!0,this.edges=null}clone(){return new o4({edges:this.edges?.clone(),enabled:this.enabled,material:this.material?.clone(),castShadows:this.castShadows,size:this.size})}},o4=m_,m_);u([nt({Extrude:"extrude"},{readOnly:!0})],Zh.prototype,"type",void 0),u([p({type:Number,json:{write:{enabled:!0,isRequired:!0}},nonNullable:!0})],Zh.prototype,"size",void 0),u([p({type:cl,json:{write:!0}})],Zh.prototype,"material",void 0),u([p({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],Zh.prototype,"castShadows",void 0),u([p(Iue)],Zh.prototype,"edges",void 0),Zh=o4=u([j("esri.symbols.ExtrudeSymbol3DLayer")],Zh);let HT=class extends ge{constructor(e){super(e)}clone(){throw new Error("Subclasses of LinePattern3D should implement their own clone method.")}};u([p({type:["style"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],HT.prototype,"type",void 0),HT=u([j("esri.symbols.patterns.LinePattern3D")],HT);const l3e=["dash","dash-dot","dot","long-dash","long-dash-dot","long-dash-dot-dot","none","short-dash","short-dash-dot","short-dash-dot-dot","short-dot","solid"];var a4;const c3e=En()({dash:"dash","dash-dot":"dash-dot","dash-dot-dot":"long-dash-dot-dot",dot:"dot","long-dash":"long-dash","long-dash-dot":"long-dash-dot",null:"none","short-dash":"short-dash","short-dash-dot":"short-dash-dot","short-dash-dot-dot":"short-dash-dot-dot","short-dot":"short-dot",solid:"solid"});let Hy=a4=class extends HT{constructor(t){super(t),this.type="style",this.style="solid"}clone(){const t={style:this.style};return new a4(t)}};u([p({type:["style"],json:{write:{isRequired:!0}}})],Hy.prototype,"type",void 0),u([nt(c3e),p({type:l3e,json:{write:{isRequired:!0}}})],Hy.prototype,"style",void 0),Hy=a4=u([j("esri.symbols.patterns.LineStylePattern3D")],Hy);let qT=class extends ge{constructor(e){super(e),this.type="style"}clone(){throw new Error("Subclasses of Pattern3D should implement their own clone method.")}};u([p({type:["style"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],qT.prototype,"type",void 0),qT=u([j("esri.symbols.patterns.Pattern3D")],qT);const u3e=["backward-diagonal","cross","diagonal-cross","forward-diagonal","horizontal","none","solid","vertical"];var l4;let Iw=l4=class extends qT{constructor(t){super(t),this.type="style",this.style="solid"}clone(){return new l4({style:this.style})}};u([p({type:["style"],json:{write:{isRequired:!0}}})],Iw.prototype,"type",void 0),u([p({type:u3e,json:{read:!0,write:{isRequired:!0}}})],Iw.prototype,"style",void 0),Iw=l4=u([j("esri.symbols.patterns.StylePattern3D")],Iw);const d3e={types:{key:"type",base:qT,typeMap:{style:Iw}},json:{write:!0}},Cue={types:{key:"type",base:HT,typeMap:{style:Hy}},json:{write:!0}},GT=new xt("white"),h3e=new xt([255,255,255,0]);function p3e(t){return t.r===0&&t.g===0&&t.b===0}var c4;let WT=c4=class extends cl{constructor(t){super(t),this.colorMixMode=null}clone(){const t={color:this.color?.clone()??null,colorMixMode:this.colorMixMode,emissive:this.emissive?.clone()??null};return new c4(t)}};u([nt({multiply:"multiply",replace:"replace",tint:"tint"})],WT.prototype,"colorMixMode",void 0),WT=c4=u([j("esri.symbols.support.Symbol3DFillMaterial")],WT);function rB(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}function f3e(t){return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8],t[9],t[10],t[11],t[12],t[13],t[14],t[15]]}function m3e(t,e,i,r,n,s,o,a,l,h,f,g,v,w,S,T){return[t,e,i,r,n,s,o,a,l,h,f,g,v,w,S,T]}const g3e=rB();Object.freeze(Object.defineProperty({__proto__:null,IDENTITY:g3e,clone:f3e,create:rB,fromValues:m3e},Symbol.toStringTag,{value:"Module"}));function y3e(t){return t<=oie?new Array(t).fill(0):new Float64Array(t)}function Iot(t){return(Fve(t)?t.byteLength/8:t.length)<=oie?Array.from(t):new Float64Array(t)}function Cot(t,e,i){return Array.isArray(t)?t.slice(e,e+i):t.subarray(e,e+i)}function Mot(t){return[...t]}function Aot(t){const e=rB();for(let i=0;i<16;++i)e[i]=t[i];return e}function sk(t=_3e){return[t[0],t[1],t[2],t[3],t[4],t[5]]}function nB(t,e,i,r,n,s,o=sk()){return o[0]=t,o[1]=e,o[2]=i,o[3]=r,o[4]=n,o[5]=s,o}function Oot(t,e=sk()){return v3e(t,0,t.length/3,e)}function v3e(t,e,i,r=sk()){return Mue(r,u4),b3e(r,t,e,i),r}function Pot(t,e=y3e(24)){const[i,r,n,s,o,a]=t;return e[0]=i,e[1]=r,e[2]=n,e[3]=i,e[4]=r,e[5]=a,e[6]=i,e[7]=o,e[8]=n,e[9]=i,e[10]=o,e[11]=a,e[12]=s,e[13]=r,e[14]=n,e[15]=s,e[16]=r,e[17]=a,e[18]=s,e[19]=o,e[20]=n,e[21]=s,e[22]=o,e[23]=a,e}function Dot(t,e){const i=isFinite(t[2])||isFinite(t[5]);return new jt(i?{xmin:t[0],xmax:t[3],ymin:t[1],ymax:t[4],zmin:t[2],zmax:t[5],spatialReference:e}:{xmin:t[0],xmax:t[3],ymin:t[1],ymax:t[4],spatialReference:e})}function Rot(t,e){t[0]=Math.min(t[0],e[0]),t[1]=Math.min(t[1],e[1]),t[2]=Math.min(t[2],e[2]),t[3]=Math.max(t[3],e[3]),t[4]=Math.max(t[4],e[4]),t[5]=Math.max(t[5],e[5])}function Lot(t,e){t[0]=Math.min(t[0],e[0]),t[1]=Math.min(t[1],e[1]),t[3]=Math.max(t[3],e[2]),t[4]=Math.max(t[4],e[3])}function zot(t,e){t[0]=Math.min(t[0],e[0]),t[1]=Math.min(t[1],e[1]),t[2]=Math.min(t[2],e[2]),t[3]=Math.max(t[3],e[0]),t[4]=Math.max(t[4],e[1]),t[5]=Math.max(t[5],e[2])}function b3e(t,e,i=0,r=e.length/3){let n=t[0],s=t[1],o=t[2],a=t[3],l=t[4],h=t[5];for(let f=0;f<r;f++)n=Math.min(n,e[i+3*f]),s=Math.min(s,e[i+3*f+1]),o=Math.min(o,e[i+3*f+2]),a=Math.max(a,e[i+3*f]),l=Math.max(l,e[i+3*f+1]),h=Math.max(h,e[i+3*f+2]);t[0]=n,t[1]=s,t[2]=o,t[3]=a,t[4]=l,t[5]=h}function Not(t,e,i){const r=e.length;let n=t[0],s=t[1],o=t[2],a=t[3],l=t[4],h=t[5];if(i)for(let f=0;f<r;f++){const g=e[f];n=Math.min(n,g[0]),s=Math.min(s,g[1]),o=Math.min(o,g[2]),a=Math.max(a,g[0]),l=Math.max(l,g[1]),h=Math.max(h,g[2])}else for(let f=0;f<r;f++){const g=e[f];n=Math.min(n,g[0]),s=Math.min(s,g[1]),a=Math.max(a,g[0]),l=Math.max(l,g[1])}t[0]=n,t[1]=s,t[2]=o,t[3]=a,t[4]=l,t[5]=h}function jot(t){for(let e=0;e<6;e++)if(!isFinite(t[e]))return!1;return!0}function ok(t){return t[0]>=t[3]?0:t[3]-t[0]}function ak(t){return t[1]>=t[4]?0:t[4]-t[1]}function lk(t){return t[2]>=t[5]?0:t[5]-t[2]}function Fot(t){const e=ok(t),i=lk(t),r=ak(t);return Math.sqrt(e*e+i*i+r*r)}function Vot(t,e=[0,0,0]){return e[0]=t[0]+ok(t)/2,e[1]=t[1]+ak(t)/2,e[2]=t[2]+lk(t)/2,e}function Uot(t,e=[0,0,0]){return e[0]=ok(t),e[1]=ak(t),e[2]=lk(t),e}function Bot(t,e){return e[0]>=t[0]&&e[1]>=t[1]&&e[2]>=t[2]&&e[0]<=t[3]&&e[1]<=t[4]&&e[2]<=t[5]}function w3e(t,e){return Math.max(e[0],t[0])<=Math.min(e[3],t[3])&&Math.max(e[1],t[1])<=Math.min(e[4],t[4])&&Math.max(e[2],t[2])<=Math.min(e[5],t[5])}function Hot(t,e){return e==null||w3e(t,e)}function qot(t,e,i,r,n=t){return n[0]=t[0]+e,n[1]=t[1]+i,n[2]=t[2]+r,n[3]=t[3]+e,n[4]=t[4]+i,n[5]=t[5]+r,n}function Got(t,e,i=t){const r=t[0]+ok(t)/2,n=t[1]+ak(t)/2,s=t[2]+lk(t)/2;return i[0]=r+(t[0]-r)*e,i[1]=n+(t[1]-n)*e,i[2]=s+(t[2]-s)*e,i[3]=r+(t[3]-r)*e,i[4]=n+(t[4]-n)*e,i[5]=s+(t[5]-s)*e,i}function Wot(t,e){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}function Yot(t,e,i=t){return i[0]=e[0],i[1]=e[1],i[2]=e[2],i!==t&&(i[3]=t[3],i[4]=t[4],i[5]=t[5]),i}function Zot(t,e,i=t){return i[3]=e[0],i[4]=e[1],i[5]=e[2],i!==t&&(i[0]=t[0],i[1]=t[1],i[2]=t[2]),t}function Mue(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t}function Jot(t){return t?Mue(t,u4):sk(u4)}function Xot(t,e=ma()){return e[0]=t[0],e[1]=t[1],e[2]=t[3],e[3]=t[4],e}function Kot(t,e){return t[0]=e[0],t[1]=e[1],t[2]=Number.NEGATIVE_INFINITY,t[3]=e[2],t[4]=e[3],t[5]=Number.POSITIVE_INFINITY,t}function Qot(t,e,i,r,n){return t[0]=e,t[1]=i,t[2]=Number.NEGATIVE_INFINITY,t[3]=r,t[4]=n,t[5]=Number.POSITIVE_INFINITY,t}function IJ(t){return t.length===6}function eat(t){return ok(t)===0&&ak(t)===0&&lk(t)===0}function tat(t,e,i){if(t==null||e==null)return t===e;if(!IJ(t)||!IJ(e))return!1;for(let r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}const u4=[1/0,1/0,1/0,-1/0,-1/0,-1/0],_3e=[0,0,0,0,0,0];sk();function iat(t,{isPrimitive:e,width:i,depth:r,height:n}){const s=e?10:1;if(i==null&&n==null&&r==null)return[s*t[0],s*t[1],s*t[2]];const o=L1(i,r,n);let a;for(let l=0;l<3;l++){const h=o[l];if(h!=null){a=h/t[l];break}}for(let l=0;l<3;l++)o[l]==null&&(o[l]=t[l]*a);return o}const x3e=nB(-.5,-.5,-.5,.5,.5,.5),S3e=nB(-.5,-.5,0,.5,.5,1),T3e=nB(-.5,-.5,0,.5,.5,.5);function rat(t){switch(t){case"sphere":case"cube":case"diamond":return x3e;case"cylinder":case"cone":case"inverted-cone":return S3e;case"tetrahedron":return T3e;default:return}}const sB=["butt","square","round"],$3e=[...sB,"none"],Aue=["miter","bevel","round"];var d4;let ly=d4=class extends ge{constructor(t){super(t),this.color=new xt([0,0,0,1]),this.size=uc(1),this.pattern=null,this.patternCap="butt"}clone(){const t={color:this.color!=null?this.color.clone():null,size:this.size,pattern:this.pattern!=null?this.pattern.clone():null,patternCap:this.patternCap};return new d4(t)}};u([p(og({colorRequiredOnWrite:!0}))],ly.prototype,"color",void 0),u([p({...Fd,json:{write:{isRequired:!0}}})],ly.prototype,"size",void 0),u([p(Cue)],ly.prototype,"pattern",void 0),u([p({type:sB,json:{default:"butt",write:{overridePolicy(){return{enabled:this.pattern!=null}}}}})],ly.prototype,"patternCap",void 0),ly=d4=u([j("esri.symbols.support.Symbol3DOutline")],ly);var gM,g_;let ko=(g_=class extends Oo{constructor(e){super(e),this.type="fill",this.material=null,this.pattern=null,this.castShadows=!0,this.outline=null,this.edges=null}clone(){const e={edges:this.edges!=null?this.edges.clone():null,enabled:this.enabled,material:this.material!=null?this.material.clone():null,pattern:this.pattern!=null?this.pattern.clone():null,castShadows:this.castShadows,outline:this.outline!=null?this.outline.clone():null};return new gM(e)}static fromSimpleFillSymbol(e){const i=e.outline&&e.outline.style&&e.outline.style!=="solid"?new Hy({style:e.outline.style}):null,r={size:e.outline?.width??0,color:(e.outline?.color??GT).clone(),pattern:i};return i&&e.outline?.cap&&(r.patternCap=e.outline.cap),new gM({material:new WT({color:(e.color??h3e).clone()}),pattern:e.style&&e.style!=="solid"?new Iw({style:e.style}):null,outline:r})}},gM=g_,g_);u([nt({Fill:"fill"},{readOnly:!0})],ko.prototype,"type",void 0),u([p({type:WT,json:{write:!0}})],ko.prototype,"material",void 0),u([p(d3e)],ko.prototype,"pattern",void 0),u([p({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],ko.prototype,"castShadows",void 0),u([p({type:ly,json:{write:!0}})],ko.prototype,"outline",void 0),u([p(Iue)],ko.prototype,"edges",void 0),ko=gM=u([j("esri.symbols.FillSymbol3DLayer")],ko);var h4;const k3e=En()({circle:"circle",square:"square",cross:"cross",x:"x",kite:"kite",triangle:"triangle"});let cy=h4=class extends ge{constructor(t){super(t)}readHref(t,e,i){return t?Uv(t,i):e.dataURI}writeHref(t,e,i,r){t&&(Np(t)?e.dataURI=t:(e.href=bv(t,r),ga(e.href)&&(e.href=lc(e.href))))}clone(){return new h4({href:this.href,primitive:this.primitive})}equals(t){return t.primitive===this.primitive&&t.href===this.href}};u([p({type:String,json:{write:!0,read:{source:["href","dataURI"]}}})],cy.prototype,"href",void 0),u([Ae("href")],cy.prototype,"readHref",null),u([ze("href",{href:{type:String},dataURI:{type:String}})],cy.prototype,"writeHref",null),u([nt(k3e)],cy.prototype,"primitive",void 0),cy=h4=u([j("esri.symbols.support.IconSymbol3DLayerResource")],cy);const nat="circle";let yM=class extends dt(ge){constructor(e){super(e),this.mode="hidden"}equals(e){return this.mode===e.mode}};u([p({type:["adaptive","hidden","visible"],json:{write:{isRequired:!0}}})],yM.prototype,"mode",void 0),yM=u([j("esri.symbols.support.OccludedVisibility")],yM);const Oue=yM;var p4;let Cw=p4=class extends at{constructor(t){super(t),this.x=0,this.y=0}clone(){return new p4({x:this.x,y:this.y})}equals(t){return t.x===this.x&&t.y===this.y}};u([p({type:Number})],Cw.prototype,"x",void 0),u([p({type:Number})],Cw.prototype,"y",void 0),Cw=p4=u([j("esri.symbols.support.Symbol3DAnchorPosition2D")],Cw);var f4;let NS=f4=class extends ge{constructor(t){super(t),this.color=new xt([0,0,0,1]),this.size=uc(1)}clone(){const t={color:this.color!=null?this.color.clone():null,size:this.size};return new f4(t)}equals(t){return t.size===this.size&&(this.color==null?t.color==null:this.color.equals(t.color))}};u([p(og({colorRequiredOnWrite:!0}))],NS.prototype,"color",void 0),u([p({...Fd,json:{write:{isRequired:!0}}})],NS.prototype,"size",void 0),NS=f4=u([j("esri.symbols.support.Symbol3DIconOutline")],NS);var I0,y_;let ns=(y_=class extends Oo{constructor(e){super(e),this.material=null,this.resource=null,this.type="icon",this.size=12,this.anchor="center",this.anchorPosition=null,this.outline=null,this.angle=0,this.occludedVisibility=null}clone(){return new I0({anchor:this.anchor,anchorPosition:ne(this.anchorPosition),enabled:this.enabled,material:ne(this.material),outline:ne(this.outline),resource:ne(this.resource),angle:this.angle,size:this.size,occludedVisibility:ne(this.occludedVisibility)})}static fromSimpleMarkerSymbol(e){const i=e.color||GT,r=CJ(e),n=e.outline&&e.outline.width>0?{size:e.outline.width,color:(e.outline.color||GT).clone()}:null;return new I0({size:e.size,angle:e.angle,resource:{primitive:I3e(()=>Ee.getLogger(this.prototype),e.style)},material:{color:i},outline:n,anchor:r?"relative":void 0,anchorPosition:r})}static fromPictureMarkerSymbol(e){const i=!e.color||p3e(e.color)?GT:e.color,r=CJ(e);return new I0({size:e.width<=e.height?e.height:e.width,angle:e.angle,resource:{href:e.url},material:{color:i.clone()},anchor:r?"relative":void 0,anchorPosition:r})}static fromCIMSymbol(e){return new I0({resource:{href:bre({mediaType:"application/json",data:JSON.stringify(e.data)})}})}},I0=y_,y_);function CJ(t){const e="width"in t?t.width:t.size,i="height"in t?t.height:t.size,r=MJ(t.xoffset),n=MJ(t.yoffset);return(r||n)&&e&&i?{x:-r/e,y:n/i}:null}function MJ(t){return isFinite(t)?t:0}u([p({type:cl,json:{write:!0}})],ns.prototype,"material",void 0),u([p({type:cy,json:{write:!0}})],ns.prototype,"resource",void 0),u([nt({Icon:"icon"},{readOnly:!0})],ns.prototype,"type",void 0),u([p({...Fd,json:{write:{isRequired:!0}}})],ns.prototype,"size",void 0),u([nt({center:"center",left:"left",right:"right",top:"top",bottom:"bottom",topLeft:"top-left",topRight:"top-right",bottomLeft:"bottom-left",bottomRight:"bottom-right",relative:"relative"},{default:"center"})],ns.prototype,"anchor",void 0),u([p({type:Cw,json:{type:[Number],read:{reader:t=>new Cw({x:t[0],y:t[1]})},write:{writer:(t,e)=>{e.anchorPosition=[t.x,t.y]},overridePolicy(){return{enabled:this.anchor==="relative"}}}}})],ns.prototype,"anchorPosition",void 0),u([p({type:NS,json:{write:!0}})],ns.prototype,"outline",void 0),u([p({type:Number,json:{write:!0,default:0}})],ns.prototype,"angle",void 0),u([p({type:Oue})],ns.prototype,"occludedVisibility",void 0),ns=I0=u([j("esri.symbols.IconSymbol3DLayer")],ns);const E3e={circle:"circle",cross:"cross",diamond:"kite",square:"square",x:"x",triangle:"triangle",path:null};function I3e(t,e){return E3e[e]||(t().warn(`${e} cannot be mapped to Icon symbol. Fallback to "circle"`),"circle")}const C3e=["begin","end","begin-end"],Pue=["arrow","circle","square","diamond","cross","x"];let lp=class extends dt(ge){constructor(e){super(e),this.type="style",this.placement="begin-end",this.style="arrow",this.color=null}equals(e){return e!=null&&e.placement===this.placement&&e.style===this.style&&(this.color==null&&e.color==null||this.color!=null&&e.color!=null&&this.color.toJSON()===e.color.toJSON())}};u([p({type:["style"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0,isRequired:!0}}})],lp.prototype,"type",void 0),u([p({type:C3e,json:{default:"begin-end",write:!0}})],lp.prototype,"placement",void 0),u([p({type:Pue,json:{default:"arrow",write:!0}})],lp.prototype,"style",void 0),u([p({type:xt,json:{type:[Ht],default:null,write:!0}})],lp.prototype,"color",void 0),lp=u([j("esri.symbols.LineStyleMarker3D")],lp);var vM,v_;let $o=(v_=class extends Oo{constructor(e){super(e),this.material=null,this.type="line",this.join="miter",this.cap="butt",this.size=uc(1),this.pattern=null,this.marker=null}clone(){const e={enabled:this.enabled,material:this.material!=null?this.material.clone():null,size:this.size,join:this.join,cap:this.cap,pattern:this.pattern!=null?this.pattern.clone():null,marker:this.marker!=null?this.marker.clone():null};return new vM(e)}static fromSimpleLineSymbol(e){const i={enabled:!0,size:e.width??uc(1),cap:e.cap||"butt",join:e.join||"miter",pattern:e.style?new Hy({style:e.style}):null,material:new cl({color:(e.color||GT).clone()}),marker:e.marker?new lp({placement:e.marker.placement,style:e.marker.style,color:e.marker.color?.clone()??null}):null};return new vM(i)}},vM=v_,v_);u([p({type:cl,json:{write:!0}})],$o.prototype,"material",void 0),u([nt({Line:"line"},{readOnly:!0})],$o.prototype,"type",void 0),u([p({type:Aue,json:{write:!0,default:"miter"}})],$o.prototype,"join",void 0),u([p({type:sB,json:{write:!0,default:"butt"}})],$o.prototype,"cap",void 0),u([p({...Fd,json:{write:{isRequired:!0}}})],$o.prototype,"size",void 0),u([p(Cue)],$o.prototype,"pattern",void 0),u([p({types:{key:"type",base:lp,typeMap:{style:lp}},json:{write:!0}})],$o.prototype,"marker",void 0),$o=vM=u([j("esri.symbols.LineSymbol3DLayer")],$o);var m4;const M3e=En()({sphere:"sphere",cylinder:"cylinder",cube:"cube",cone:"cone",diamond:"diamond",tetrahedron:"tetrahedron",invertedCone:"inverted-cone"});let jS=m4=class extends ge{clone(){return new m4({href:this.href,primitive:this.primitive})}};u([p({type:String,json:{read:dD,write:wv}})],jS.prototype,"href",void 0),u([nt(M3e)],jS.prototype,"primitive",void 0),jS=m4=u([j("esri.symbols.support.ObjectSymbol3DLayerResource")],jS);const aat="sphere";var g4;let Oy=g4=class extends at{constructor(){super(...arguments),this.x=0,this.y=0,this.z=0}clone(){return new g4({x:this.x,y:this.y,z:this.z})}};u([p({type:Number})],Oy.prototype,"x",void 0),u([p({type:Number})],Oy.prototype,"y",void 0),u([p({type:Number})],Oy.prototype,"z",void 0),Oy=g4=u([j("esri.symbols.support.Symbol3DAnchorPosition3D")],Oy);var y4,b_;let is=(b_=class extends Oo{constructor(e){super(e),this.material=null,this.castShadows=!0,this.resource=null,this.type="object",this.width=void 0,this.height=void 0,this.depth=void 0,this.anchor=void 0,this.anchorPosition=void 0,this.heading=void 0,this.tilt=void 0,this.roll=void 0}clone(){return new y4({heading:this.heading,tilt:this.tilt,roll:this.roll,anchor:this.anchor,anchorPosition:this.anchorPosition?.clone(),depth:this.depth,enabled:this.enabled,height:this.height,material:this.material?.clone()??null,castShadows:this.castShadows,resource:this.resource?.clone(),width:this.width})}get isPrimitive(){return!this.resource||typeof this.resource.href!="string"}},y4=b_,b_);u([p({type:cl,json:{write:!0}})],is.prototype,"material",void 0),u([p({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],is.prototype,"castShadows",void 0),u([p({type:jS,json:{write:!0}})],is.prototype,"resource",void 0),u([nt({Object:"object"},{readOnly:!0})],is.prototype,"type",void 0),u([p({type:Number,json:{write:!0}})],is.prototype,"width",void 0),u([p({type:Number,json:{write:!0}})],is.prototype,"height",void 0),u([p({type:Number,json:{write:!0}})],is.prototype,"depth",void 0),u([nt({center:"center",top:"top",bottom:"bottom",origin:"origin",relative:"relative"},{default:"origin"})],is.prototype,"anchor",void 0),u([p({type:Oy,json:{type:[Number],read:{reader:t=>new Oy({x:t[0],y:t[1],z:t[2]})},write:{writer:(t,e)=>{e.anchorPosition=[t.x,t.y,t.z]},overridePolicy(){return{enabled:this.anchor==="relative"}}}}})],is.prototype,"anchorPosition",void 0),u([p({type:Number,json:{write:!0}})],is.prototype,"heading",void 0),u([p({type:Number,json:{write:!0}})],is.prototype,"tilt",void 0),u([p({type:Number,json:{write:!0}})],is.prototype,"roll",void 0),u([p({readOnly:!0})],is.prototype,"isPrimitive",null),is=y4=u([j("esri.symbols.ObjectSymbol3DLayer")],is);var v4,w_;let Es=(w_=class extends Oo{constructor(e){super(e),this.material=null,this.castShadows=!0,this.type="path",this.profile="circle",this.join="miter",this.cap="butt",this.width=void 0,this.height=void 0,this.anchor="center",this.profileRotation="all"}readWidth(e,i){return e??(i.height==null&&i.size!=null?i.size:void 0)}readHeight(e,i){return e??(i.width==null&&i.size!=null?i.size:void 0)}clone(){return new v4({enabled:this.enabled,material:this.material!=null?this.material.clone():null,castShadows:this.castShadows,profile:this.profile,join:this.join,cap:this.cap,width:this.width,height:this.height,profileRotation:this.profileRotation,anchor:this.anchor})}},v4=w_,w_);u([p({type:cl,json:{write:!0}})],Es.prototype,"material",void 0),u([p({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],Es.prototype,"castShadows",void 0),u([nt({Path:"path"},{readOnly:!0})],Es.prototype,"type",void 0),u([p({type:["circle","quad"],nonNullable:!0,json:{write:!0,default:"circle"}})],Es.prototype,"profile",void 0),u([p({type:Aue,nonNullable:!0,json:{write:!0,default:"miter"}})],Es.prototype,"join",void 0),u([p({type:$3e,nonNullable:!0,json:{write:!0,default:"butt"}})],Es.prototype,"cap",void 0),u([p({type:Number,json:{write:{enabled:!0,target:{width:{type:Number},size:{type:Number}}}}})],Es.prototype,"width",void 0),u([Ae("width",["width","size","height"])],Es.prototype,"readWidth",null),u([p({type:Number,json:{write:!0}})],Es.prototype,"height",void 0),u([Ae("height",["height","size","width"])],Es.prototype,"readHeight",null),u([p({type:["center","bottom","top"],nonNullable:!0,json:{write:!0,default:"center"}})],Es.prototype,"anchor",void 0),u([p({type:["heading","all"],nonNullable:!0,json:{write:!0,default:"all"}})],Es.prototype,"profileRotation",void 0),Es=v4=u([j("esri.symbols.PathSymbol3DLayer")],Es);const A3e=["none","underline","line-through"],O3e=["normal","italic","oblique"],P3e=["normal","lighter","bold","bolder"],Due={type:Number,cast:t=>{const e=Io(t);return e===0?1:vl(e,.1,4)},nonNullable:!0},D3e=["left","right","center"],R3e=["baseline","top","middle","bottom"],Rue={type:D3e,nonNullable:!0},Lue={type:R3e,nonNullable:!0},lat=8;var b4;let Yl=b4=class extends ge{constructor(t){super(t),this.decoration="none",this.family="sans-serif",this.size=9,this.style="normal",this.weight="normal"}castSize(t){return ci(t)}clone(){return new b4({decoration:this.decoration,family:this.family,size:this.size,style:this.style,weight:this.weight})}hash(){return`${this.decoration}.${this.family}.${this.size}.${this.style}.${this.weight}`}};u([p({type:A3e,json:{default:"none",write:!0}})],Yl.prototype,"decoration",void 0),u([p({type:String,json:{write:!0}})],Yl.prototype,"family",void 0),u([p({type:Number,json:{write:{overridePolicy:(t,e,i)=>({enabled:!i||!i.textSymbol3D})}}})],Yl.prototype,"size",void 0),u([bi("size")],Yl.prototype,"castSize",null),u([p({type:O3e,json:{default:"normal",write:!0}})],Yl.prototype,"style",void 0),u([p({type:P3e,json:{default:"normal",write:!0}})],Yl.prototype,"weight",void 0),Yl=b4=u([j("esri.symbols.Font")],Yl);var w4;let Mw=w4=class extends ge{constructor(){super(...arguments),this.color=new xt([0,0,0,1]),this.size=0}clone(){const t={color:ne(this.color),size:this.size};return new w4(t)}};u([p(og())],Mw.prototype,"color",void 0),u([p(Fd)],Mw.prototype,"size",void 0),Mw=w4=u([j("esri.symbols.support.Symbol3DHalo")],Mw);let YT=class extends dt(ge){constructor(e){super(e),this.color=null}};u([p(og())],YT.prototype,"color",void 0),YT=u([j("esri.symbols.support.Symbol3DTextBackground")],YT);var bM,__;let xn=(__=class extends Oo{constructor(e){super(e),this._userSize=void 0,this.halo=null,this.horizontalAlignment="center",this.lineHeight=1,this.material=null,this.background=null,this.text=null,this.type="text",this.verticalAlignment="baseline",this.occludedVisibility=null}get font(){return this._get("font")||null}set font(e){e!=null&&this._userSize!=null&&(e.size=this._userSize),this._set("font",e)}writeFont(e,i,r,n){const s={...n,textSymbol3D:!0};i.font=e.write({},s),delete i.font.size}get size(){return this._userSize!=null?this._userSize:this.font?.size!=null?this.font.size:9}set size(e){this._userSize=e,this.font!=null&&(this.font.size=this._userSize),this.notifyChange("size")}clone(){const e=new bM({enabled:this.enabled,font:ne(this.font),halo:ne(this.halo),horizontalAlignment:this.horizontalAlignment,lineHeight:this.lineHeight,material:this.material!=null?this.material.clone():null,text:this.text,verticalAlignment:this.verticalAlignment,background:ne(this.background),occludedVisibility:ne(this.occludedVisibility)});return e._userSize=this._userSize,e}static fromTextSymbol(e){return new bM({font:e.font!=null?e.font.clone():new Yl,halo:L3e(e.haloColor,e.haloSize),horizontalAlignment:e.horizontalAlignment,lineHeight:e.lineHeight,material:e.color?new cl({color:e.color.clone()}):null,text:e.text,verticalAlignment:e.verticalAlignment,background:e.backgroundColor?new YT({color:e.backgroundColor.clone()}):null})}},bM=__,__);function L3e(t,e){return t&&e!=null&&e>0?new Mw({color:ne(t),size:e}):null}u([p({type:Yl,json:{write:!0}})],xn.prototype,"font",null),u([ze("font")],xn.prototype,"writeFont",null),u([p({type:Mw,json:{write:!0}})],xn.prototype,"halo",void 0),u([p({...Rue,json:{default:"center",write:!0}})],xn.prototype,"horizontalAlignment",void 0),u([p({...Due,json:{default:1,write:!0}})],xn.prototype,"lineHeight",void 0),u([p({type:cl,json:{write:!0}})],xn.prototype,"material",void 0),u([p({type:YT,json:{write:!0}})],xn.prototype,"background",void 0),u([p(Fd)],xn.prototype,"size",null),u([p({type:String,json:{write:!0}})],xn.prototype,"text",void 0),u([nt({Text:"text"},{readOnly:!0})],xn.prototype,"type",void 0),u([p({...Lue,json:{default:"baseline",write:!0}})],xn.prototype,"verticalAlignment",void 0),u([p({type:Oue})],xn.prototype,"occludedVisibility",void 0),xn=bM=u([j("esri.symbols.TextSymbol3DLayer")],xn);var _4,x_;let Jh=(x_=class extends Oo{constructor(e){super(e),this.color=x4.clone(),this.type="water",this.waterbodySize="medium",this.waveDirection=null,this.waveStrength="moderate"}clone(){return new _4({color:this.color.clone(),waterbodySize:this.waterbodySize,waveDirection:this.waveDirection,waveStrength:this.waveStrength})}},_4=x_,x_);u([p({type:xt,nonNullable:!0,json:{type:[Ht],write:(t,e,i)=>e[i]=t.toArray(1),default:()=>x4.clone(),defaultEquals:t=>t.toCss(!0)===x4.toCss(!0)}})],Jh.prototype,"color",void 0),u([nt({Water:"water"},{readOnly:!0})],Jh.prototype,"type",void 0),u([p({type:["small","medium","large"],json:{write:!0,default:"medium"}})],Jh.prototype,"waterbodySize",void 0),u([p({type:Number,json:{write:!0,default:null}})],Jh.prototype,"waveDirection",void 0),u([p({type:["calm","rippled","slight","moderate"],json:{write:!0,default:"moderate"}})],Jh.prototype,"waveStrength",void 0),Jh=_4=u([j("esri.symbols.WaterSymbol3DLayer")],Jh);const x4=new xt([0,119,190]);var S4;let cp=S4=class extends at{constructor(t){super(t),this.name=null,this.styleUrl=null,this.styleName=null,this.portal=null}clone(){return new S4({name:this.name,styleUrl:this.styleUrl,styleName:this.styleName,portal:this.portal})}};u([p({type:String})],cp.prototype,"name",void 0),u([p({type:String})],cp.prototype,"styleUrl",void 0),u([p({type:String})],cp.prototype,"styleName",void 0),u([p({type:Le})],cp.prototype,"portal",void 0),cp=S4=u([j("esri.symbols.support.StyleOrigin")],cp);var T4;let ZT=T4=class extends at{constructor(){super(...arguments),this.url=""}clone(){return new T4({url:this.url})}};u([p({type:String})],ZT.prototype,"url",void 0),ZT=T4=u([j("esri.symbols.support.Thumbnail")],ZT);const zue={icon:ns,object:is,line:$o,path:Es,fill:ko,extrude:Zh,text:xn,water:Jh},z3e=We.ofType({base:Oo,key:"type",typeMap:zue,errorContext:"symbol-layer"});let oa=class extends Xr{constructor(e){super(e),this.styleOrigin=null,this.thumbnail=null,this.type=null;const i=this.__accessor__&&this.__accessor__.metadata&&this.__accessor__.metadata.symbolLayers,r=i?.type,n=r||We;this._set("symbolLayers",new n)}get color(){return null}set color(e){this.constructed&&Ee.getLogger(this).error("Symbol3D does not support colors on the symbol level. Colors may be set on individual symbol layer materials instead.")}set symbolLayers(e){Td(e,this._get("symbolLayers"))}readStyleOrigin(e,i,r){if(e.styleUrl&&e.name){const n=Uv(e.styleUrl,r);return new cp({styleUrl:n,name:e.name})}if(e.styleName&&e.name)return new cp({portal:r?.portal||Le.getDefault(),styleName:e.styleName,name:e.name});r?.messages&&r.messages.push(new yl("symbol3d:incomplete-style-origin","Style origin requires either a 'styleUrl' or 'styleName' and a 'name' property",{context:r,definition:e}))}writeStyleOrigin(e,i,r,n){if(e.styleUrl&&e.name){let s=bv(e.styleUrl,n);ga(s)&&(s=lc(s)),i.styleOrigin={styleUrl:s,name:e.name}}else e.styleName&&e.name&&(e.portal&&n?.portal&&!vre(e.portal.restUrl,n.portal.restUrl)?n?.messages&&n.messages.push(new yl("symbol:cross-portal","The symbol style origin cannot be persisted because it refers to an item on a different portal than the one being saved to.",{symbol:this})):i.styleOrigin={styleName:e.styleName,name:e.name})}normalizeCtorArgs(e){return e instanceof Oo||e&&zue[e.type]?{symbolLayers:[e]}:Array.isArray(e)?{symbolLayers:e}:e}};u([p({json:{read:!1,write:!1}})],oa.prototype,"color",null),u([p({type:z3e,nonNullable:!0,json:{write:!0}}),bi(Ele)],oa.prototype,"symbolLayers",null),u([p({type:cp})],oa.prototype,"styleOrigin",void 0),u([Ae("styleOrigin")],oa.prototype,"readStyleOrigin",null),u([ze("styleOrigin",{"styleOrigin.styleUrl":{type:String},"styleOrigin.styleName":{type:String},"styleOrigin.name":{type:String}})],oa.prototype,"writeStyleOrigin",null),u([p({type:ZT,json:{read:!1}})],oa.prototype,"thumbnail",void 0),u([p({type:["point-3d","line-3d","polygon-3d","mesh-3d","label-3d"],readOnly:!0})],oa.prototype,"type",void 0),oa=u([j("esri.symbols.Symbol3D")],oa);let Aw=class extends ge{constructor(e){super(e),this.visible=!0}clone(){throw new Error("Subclasses of Callout3D should implement their own clone method.")}};u([p({type:["line"],constructOnly:!0,json:{read:!1,write:{ignoreOrigin:!0,isRequired:!0}}})],Aw.prototype,"type",void 0),u([p({readOnly:!0})],Aw.prototype,"visible",void 0),Aw=u([j("esri.symbols.callouts.Callout3D")],Aw);var $4;let wM=$4=class extends ge{constructor(t){super(t),this.color=new xt("white")}clone(){return new $4({color:ne(this.color)})}};u([p(og({colorRequiredOnWrite:!0}))],wM.prototype,"color",void 0),wM=$4=u([j("esri.symbols.callouts.LineCallout3DBorder")],wM);const N3e=wM;var k4;let Xh=k4=class extends Aw{constructor(t){super(t),this.type="line",this.color=new xt([0,0,0,1]),this.size=uc(1),this.border=null}get visible(){return this.size>0&&this.color!=null&&this.color.a>0}clone(){return new k4({color:ne(this.color),size:this.size,border:ne(this.border)})}};u([nt({line:"line"})],Xh.prototype,"type",void 0),u([p(og({colorRequiredOnWrite:!0}))],Xh.prototype,"color",void 0),u([p({...Fd,json:{write:{isRequired:!0}}})],Xh.prototype,"size",void 0),u([p({type:N3e,json:{write:!0}})],Xh.prototype,"border",void 0),u([p({readOnly:!0})],Xh.prototype,"visible",null),Xh=k4=u([j("esri.symbols.callouts.LineCallout3D")],Xh);function oB(t){if(!t)return!1;const e=t.verticalOffset;return!(!e||e.screenLength<=0||e.maxWorldLength!=null&&e.maxWorldLength<=0)}function Nue(t){return!t||!t.supportsCallout||!t.supportsCallout()?!1:!!t.callout?.visible&&!!oB(t)}function hat(t){return t.type==="point-3d"||t.type==="label-3d"}function pat(t){return t.horizontalAlignment==="center"}const jue={types:{key:"type",base:Aw,typeMap:{line:Xh}},json:{write:!0}};var E4;let gm=E4=class extends ge{constructor(t){super(t),this.screenLength=0,this.minWorldLength=0,this.maxWorldLength=null}clone(){return new E4({screenLength:this.screenLength,minWorldLength:this.minWorldLength,maxWorldLength:this.maxWorldLength})}};u([p({...Fd,json:{write:{isRequired:!0}}})],gm.prototype,"screenLength",void 0),u([p({type:Number,nonNullable:!0,json:{write:!0,default:0}})],gm.prototype,"minWorldLength",void 0),u([p({type:Number,json:{write:!0}})],gm.prototype,"maxWorldLength",void 0),gm=E4=u([j("esri.symbols.support.Symbol3DVerticalOffset")],gm);var _M;const Fue=We.ofType({base:null,key:"type",typeMap:{text:xn}});let eu=_M=class extends oa{constructor(t){super(t),this.verticalOffset=null,this.callout=null,this.styleOrigin=null,this.symbolLayers=new Fue,this.type="label-3d"}supportsCallout(){return!0}hasVisibleCallout(){return Nue(this)}hasVisibleVerticalOffset(){return oB(this)}clone(){return new _M({styleOrigin:ne(this.styleOrigin),symbolLayers:ne(this.symbolLayers),thumbnail:ne(this.thumbnail),callout:ne(this.callout),verticalOffset:ne(this.verticalOffset)})}static fromTextSymbol(t){return new _M({symbolLayers:new We([xn.fromTextSymbol(t)])})}};u([p({type:gm,json:{write:!0}})],eu.prototype,"verticalOffset",void 0),u([p(jue)],eu.prototype,"callout",void 0),u([p({json:{read:!1,write:!1}})],eu.prototype,"styleOrigin",void 0),u([p({type:Fue})],eu.prototype,"symbolLayers",void 0),u([nt({LabelSymbol3D:"label-3d"},{readOnly:!0})],eu.prototype,"type",void 0),eu=_M=u([j("esri.symbols.LabelSymbol3D")],eu);var xM;const Vue=We.ofType({base:null,key:"type",typeMap:{line:$o,path:Es}}),j3e=We.ofType({base:null,key:"type",typeMap:{line:$o,path:Es}});let fu=xM=class extends oa{constructor(t){super(t),this.symbolLayers=new Vue,this.type="line-3d"}clone(){return new xM({styleOrigin:ne(this.styleOrigin),symbolLayers:ne(this.symbolLayers),thumbnail:ne(this.thumbnail)})}static fromSimpleLineSymbol(t){return new xM({symbolLayers:new We([$o.fromSimpleLineSymbol(t)])})}};u([p({type:Vue,json:{type:j3e}})],fu.prototype,"symbolLayers",void 0),u([nt({LineSymbol3D:"line-3d"},{readOnly:!0})],fu.prototype,"type",void 0),fu=xM=u([j("esri.symbols.LineSymbol3D")],fu);var SM;const Uue=We.ofType({base:null,key:"type",typeMap:{fill:ko}});let wp=SM=class extends oa{constructor(t){super(t),this.symbolLayers=new Uue,this.type="mesh-3d"}clone(){return new SM({styleOrigin:ne(this.styleOrigin),symbolLayers:ne(this.symbolLayers),thumbnail:ne(this.thumbnail)})}static fromSimpleFillSymbol(t){return new SM({symbolLayers:new We([ko.fromSimpleFillSymbol(t)])})}};u([p({type:Uue})],wp.prototype,"symbolLayers",void 0),u([nt({MeshSymbol3D:"mesh-3d"},{readOnly:!0})],wp.prototype,"type",void 0),wp=SM=u([j("esri.symbols.MeshSymbol3D")],wp);let FS=class extends Xr{constructor(e){super(e),this.type="simple-line",this.width=.75}hash(){return`${this.type}.${this.width}`}};u([nt({esriSLS:"simple-line"},{readOnly:!0})],FS.prototype,"type",void 0),u([p({type:Number,cast:ci,json:{write:!0}})],FS.prototype,"width",void 0),FS=u([j("esri.symbols.LineSymbol")],FS);var I4;let Xu=I4=class extends ge{constructor(t){super(t),this.placement="begin-end",this.type="line-marker",this.style="arrow"}writeStyle(t,e,i,r){e[i]=r?.origin==="web-map"?"arrow":t}set color(t){this._set("color",t)}readColor(t){return t?.[0]!=null?[t[0],t[1],t[2],t[3]/255]:t}writeColor(t,e,i,r){r?.origin==="web-map"||(e[i]=t)}clone(){return new I4({color:ne(this.color),placement:this.placement,style:this.style})}hash(){return`${this.placement}.${this.color?.hash()}.${this.style}`}};u([p({type:["begin","end","begin-end"],json:{write:!0}})],Xu.prototype,"placement",void 0),u([nt({"line-marker":"line-marker"},{readOnly:!0}),p({json:{origins:{"web-map":{write:!1}}}})],Xu.prototype,"type",void 0),u([p({type:Pue})],Xu.prototype,"style",void 0),u([ze("style")],Xu.prototype,"writeStyle",null),u([p({type:xt,value:null,json:{write:{allowNull:!0}}})],Xu.prototype,"color",null),u([Ae("color")],Xu.prototype,"readColor",null),u([ze("color")],Xu.prototype,"writeColor",null),Xu=I4=u([j("esri.symbols.LineSymbolMarker")],Xu);const F3e=Xu;var C4;const sz=new At({esriSLSSolid:"solid",esriSLSDash:"dash",esriSLSDot:"dot",esriSLSDashDot:"dash-dot",esriSLSDashDotDot:"long-dash-dot-dot",esriSLSNull:"none",esriSLSShortDash:"short-dash",esriSLSShortDot:"short-dot",esriSLSShortDashDot:"short-dash-dot",esriSLSShortDashDotDot:"short-dash-dot-dot",esriSLSLongDash:"long-dash",esriSLSLongDashDot:"long-dash-dot"});let un=C4=class extends FS{constructor(...t){super(...t),this.type="simple-line",this.style="solid",this.cap="round",this.join="round",this.marker=null,this.miterLimit=2}normalizeCtorArgs(t,e,i,r,n,s){if(t&&typeof t!="string")return t;const o={};return t!=null&&(o.style=t),e!=null&&(o.color=e),i!=null&&(o.width=ci(i)),r!=null&&(o.cap=r),n!=null&&(o.join=n),s!=null&&(o.miterLimit=ci(s)),o}clone(){return new C4({color:ne(this.color),style:this.style,width:this.width,cap:this.cap,join:this.join,miterLimit:this.miterLimit,marker:this.marker?.clone()})}hash(){return`${super.hash()}.${this.color?.hash()}.${this.style}.${this.cap}.${this.join}.${this.miterLimit}.${this.marker?.hash()}`}};u([nt({esriSLS:"simple-line"},{readOnly:!0})],un.prototype,"type",void 0),u([p({type:sz.apiValues,json:{read:sz.read,write:sz.write}})],un.prototype,"style",void 0),u([p({type:["butt","round","square"],json:{write:{overridePolicy:(t,e,i)=>({enabled:t!=="round"&&i?.origin==null})}}})],un.prototype,"cap",void 0),u([p({type:["miter","round","bevel"],json:{write:{overridePolicy:(t,e,i)=>({enabled:t!=="round"&&i?.origin==null})}}})],un.prototype,"join",void 0),u([p({types:{key:"type",base:null,defaultKeyValue:"line-marker",typeMap:{"line-marker":F3e}},json:{write:!0,origins:{"web-scene":{write:!1}}}})],un.prototype,"marker",void 0),u([p({type:Number,json:{read:!1,write:!1}})],un.prototype,"miterLimit",void 0),un=C4=u([j("esri.symbols.SimpleLineSymbol")],un);let Ow=class extends Xr{constructor(e){super(e),this.outline=null,this.type=null}hash(){return`${this.type}.${this.outline?.hash()}`}};u([p({types:{key:"type",base:null,defaultKeyValue:"simple-line",typeMap:{"simple-line":un}},json:{default:null,write:!0}})],Ow.prototype,"outline",void 0),u([p({type:["simple-fill","picture-fill"],readOnly:!0})],Ow.prototype,"type",void 0),Ow=u([j("esri.symbols.FillSymbol")],Ow);function V3e(t,e,i){return e.imageData?bre({mediaType:e.contentType||"image/png",isBase64:!0,data:e.imageData}):Bue(e.url,i)}function Bue(t,e){if(!ga(t)){const i=B3e(e);if(i)return yv(i,"images",t)}return Uv(t,e)}function U3e(t,e,i,r){if(Np(t)){const n=vv(t);if(!n)return;e.contentType=n.mediaType,e.imageData=n.data,i&&i.imageData===e.imageData&&i.url&&wv(i.url,e,"url",r)}else wv(t,e,"url",r)}const Hue={json:{read:{source:["imageData","url"],reader:V3e},write:{writer(t,e,i,r){U3e(t,e,this.source,r)}}}},que={readOnly:!0,json:{read:{source:["imageData","url"],reader(t,e,i){const r={};return e.imageData&&(r.imageData=e.imageData),e.contentType&&(r.contentType=e.contentType),e.url&&(r.url=Bue(e.url,i)),r}}}};function B3e(t){if(!t)return null;const{origin:e,layer:i}=t;if(e!=="service"&&e!=="portal-item")return null;const r=i?.type;return r==="feature"||r==="stream"?i.parsedUrl?.path:r==="map-image"||r==="tile"?t.url?.path:null}var M4;let ia=M4=class extends Ow{constructor(...t){super(...t),this.type="picture-fill",this.url=null,this.xscale=1,this.yscale=1,this.width=12,this.height=12,this.xoffset=0,this.yoffset=0,this.source=null}normalizeCtorArgs(t,e,i,r){if(t&&typeof t!="string"&&t.imageData==null)return t;const n={};return t&&(n.url=t),e&&(n.outline=e),i!=null&&(n.width=ci(i)),r!=null&&(n.height=ci(r)),n}clone(){const t=new M4({color:ne(this.color),height:this.height,outline:ne(this.outline),url:this.url,width:this.width,xoffset:this.xoffset,xscale:this.xscale,yoffset:this.yoffset,yscale:this.yscale});return t._set("source",ne(this.source)),t}hash(){return`${super.hash()}.${this.color?.hash()}.${this.height}.${this.url}.${this.width}.${this.xoffset}.${this.xscale}.${this.yoffset}.${this.yscale}`}};u([nt({esriPFS:"picture-fill"},{readOnly:!0})],ia.prototype,"type",void 0),u([p(Hue)],ia.prototype,"url",void 0),u([p({type:Number,json:{write:!0}})],ia.prototype,"xscale",void 0),u([p({type:Number,json:{write:!0}})],ia.prototype,"yscale",void 0),u([p({type:Number,cast:ci,json:{write:!0}})],ia.prototype,"width",void 0),u([p({type:Number,cast:ci,json:{write:!0}})],ia.prototype,"height",void 0),u([p({type:Number,cast:ci,json:{write:!0}})],ia.prototype,"xoffset",void 0),u([p({type:Number,cast:ci,json:{write:!0}})],ia.prototype,"yoffset",void 0),u([p(que)],ia.prototype,"source",void 0),ia=M4=u([j("esri.symbols.PictureFillSymbol")],ia);let Kh=class extends Xr{constructor(e){super(e),this.angle=0,this.type=null,this.xoffset=0,this.yoffset=0,this.size=9}hash(){return`${this.type}.${this.angle}.${this.size}.${this.xoffset}.${this.yoffset}`}};u([p({type:Number,json:{read:t=>t&&-1*t,write:(t,e)=>e.angle=t&&-1*t}})],Kh.prototype,"angle",void 0),u([p({type:["simple-marker","picture-marker"],readOnly:!0})],Kh.prototype,"type",void 0),u([p({type:Number,cast:ci,json:{write:!0}})],Kh.prototype,"xoffset",void 0),u([p({type:Number,cast:ci,json:{write:!0}})],Kh.prototype,"yoffset",void 0),u([p({cast:t=>t==="auto"?t:Io(ci(t)),json:{write:!0}})],Kh.prototype,"size",void 0),Kh=u([j("esri.symbols.MarkerSymbol")],Kh);var A4;let To=A4=class extends Kh{constructor(...t){super(...t),this.color=null,this.type="picture-marker",this.url=null,this.source=null,this.height=12,this.width=12,this.size=null}normalizeCtorArgs(t,e,i){if(t&&typeof t!="string"&&t.imageData==null)return t;const r={};return t&&(r.url=t),e!=null&&(r.width=ci(e)),i!=null&&(r.height=ci(i)),r}readHeight(t,e){return e.size||t}readWidth(t,e){return e.size||t}clone(){const t=new A4({angle:this.angle,height:this.height,url:this.url,width:this.width,xoffset:this.xoffset,yoffset:this.yoffset});return t._set("source",ne(this.source)),t}hash(){return`${super.hash()}.${this.height}.${this.url}.${this.width}`}};u([p({json:{write:!1}})],To.prototype,"color",void 0),u([nt({esriPMS:"picture-marker"},{readOnly:!0})],To.prototype,"type",void 0),u([p(Hue)],To.prototype,"url",void 0),u([p(que)],To.prototype,"source",void 0),u([p({type:Number,cast:ci,json:{write:!0}})],To.prototype,"height",void 0),u([Ae("height",["height","size"])],To.prototype,"readHeight",null),u([p({type:Number,cast:ci,json:{write:!0}})],To.prototype,"width",void 0),u([p({json:{write:!1}})],To.prototype,"size",void 0),To=A4=u([j("esri.symbols.PictureMarkerSymbol")],To);var uy;const Gue=We.ofType({base:null,key:"type",typeMap:{icon:ns,object:is,text:xn}});let Co=uy=class extends oa{constructor(t){super(t),this.verticalOffset=null,this.callout=null,this.symbolLayers=new Gue,this.type="point-3d"}supportsCallout(){if((this.symbolLayers?this.symbolLayers.length:0)<1)return!1;for(const t of this.symbolLayers.items)switch(t.type){case"icon":case"text":case"object":continue;default:return!1}return!0}hasVisibleCallout(){return Nue(this)}hasVisibleVerticalOffset(){return oB(this)}clone(){return new uy({verticalOffset:ne(this.verticalOffset),callout:ne(this.callout),styleOrigin:ne(this.styleOrigin),symbolLayers:ne(this.symbolLayers),thumbnail:ne(this.thumbnail)})}static fromSimpleMarkerSymbol(t){return new uy({symbolLayers:new We([ns.fromSimpleMarkerSymbol(t)])})}static fromPictureMarkerSymbol(t){return new uy({symbolLayers:new We([ns.fromPictureMarkerSymbol(t)])})}static fromCIMSymbol(t){if(t.data?.symbol?.type!=="CIMPointSymbol")return null;const i=t.data.symbol;return new uy(i?.callout?{symbolLayers:new We([ns.fromCIMSymbol(t)]),callout:new Xh({size:.5,color:new xt([0,0,0])}),verticalOffset:new gm({screenLength:40})}:{symbolLayers:new We([ns.fromCIMSymbol(t)])})}static fromTextSymbol(t){return new uy({symbolLayers:new We([xn.fromTextSymbol(t)])})}};u([p({type:gm,json:{write:!0}})],Co.prototype,"verticalOffset",void 0),u([p(jue)],Co.prototype,"callout",void 0),u([p({type:Gue,json:{origins:{"web-scene":{write:!0}}}})],Co.prototype,"symbolLayers",void 0),u([nt({PointSymbol3D:"point-3d"},{readOnly:!0})],Co.prototype,"type",void 0),Co=uy=u([j("esri.symbols.PointSymbol3D")],Co);var VS;const Wue=We.ofType({base:null,key:"type",typeMap:{extrude:Zh,fill:ko,icon:ns,line:$o,object:is,text:xn,water:Jh}});let ac=VS=class extends oa{constructor(t){super(t),this.symbolLayers=new Wue,this.type="polygon-3d"}initialize(){const t=e=>{e.type==="line"&&Um(Ee.getLogger(this),"LineSymbol3DLayer can not be used as a SymbolLayer with a PolygonSymbol3D symbol anymore.",{replacement:"Use FillSymbol3DLayer.outline instead.",version:"4.28"}),e.type==="text"&&Um(Ee.getLogger(this),"TextSymbol3DLayer can not be used as a SymbolLayer with a PolygonSymbol3D symbol anymore.",{replacement:"Use Labels instead.",version:"4.28"})};for(const e of this.symbolLayers)t(e);this.addHandles(qm(()=>this.symbolLayers,"after-add",({item:e})=>t(e),zd))}clone(){return new VS({styleOrigin:ne(this.styleOrigin),symbolLayers:ne(this.symbolLayers),thumbnail:ne(this.thumbnail)})}static fromJSON(t){const e=new VS;if(e.read(t),e.symbolLayers.length===2&&e.symbolLayers.at(0).type==="fill"&&e.symbolLayers.at(1).type==="line"){const i=e.symbolLayers.at(0),r=e.symbolLayers.at(1);!r.enabled||t.symbolLayers?.[1]&&t.symbolLayers[1].enable===!1||(i.outline={size:r.size,color:r.material!=null?r.material.color:null}),e.symbolLayers.removeAt(1)}return e}static fromSimpleFillSymbol(t){return new VS({symbolLayers:new We([ko.fromSimpleFillSymbol(t)])})}};u([p({type:Wue,json:{write:!0}})],ac.prototype,"symbolLayers",void 0),u([nt({PolygonSymbol3D:"polygon-3d"},{readOnly:!0})],ac.prototype,"type",void 0),ac=VS=u([j("esri.symbols.PolygonSymbol3D")],ac);var O4;const oz=new At({esriSFSSolid:"solid",esriSFSNull:"none",esriSFSHorizontal:"horizontal",esriSFSVertical:"vertical",esriSFSForwardDiagonal:"forward-diagonal",esriSFSBackwardDiagonal:"backward-diagonal",esriSFSCross:"cross",esriSFSDiagonalCross:"diagonal-cross"});let ol=O4=class extends Ow{constructor(...t){super(...t),this.color=new xt([0,0,0,.25]),this.outline=new un,this.type="simple-fill",this.style="solid"}normalizeCtorArgs(t,e,i){if(t&&typeof t!="string")return t;const r={};return t&&(r.style=t),e&&(r.outline=e),i&&(r.color=i),r}clone(){return new O4({color:ne(this.color),outline:this.outline&&this.outline.clone(),style:this.style})}hash(){return`${super.hash()}${this.style}.${this.color&&this.color.hash()}`}};u([p()],ol.prototype,"color",void 0),u([p()],ol.prototype,"outline",void 0),u([nt({esriSFS:"simple-fill"},{readOnly:!0})],ol.prototype,"type",void 0),u([p({type:oz.apiValues,json:{read:oz.read,write:oz.write}})],ol.prototype,"style",void 0),ol=O4=u([j("esri.symbols.SimpleFillSymbol")],ol);var P4;const az=new At({esriSMSCircle:"circle",esriSMSSquare:"square",esriSMSCross:"cross",esriSMSX:"x",esriSMSDiamond:"diamond",esriSMSTriangle:"triangle",esriSMSPath:"path"});let Ln=P4=class extends Kh{constructor(...t){super(...t),this.color=new xt([255,255,255,.25]),this.type="simple-marker",this.size=12,this.style="circle",this.outline=new un}normalizeCtorArgs(t,e,i,r){if(t&&typeof t!="string")return t;const n={};return t&&(n.style=t),e!=null&&(n.size=ci(e)),i&&(n.outline=i),r&&(n.color=r),n}writeColor(t,e){t&&this.style!=="x"&&this.style!=="cross"&&(e.color=t.toJSON()),t===null&&(e.color=null)}set path(t){this.style="path",this._set("path",t)}clone(){return new P4({angle:this.angle,color:ne(this.color),outline:this.outline&&this.outline.clone(),path:this.path,size:this.size,style:this.style,xoffset:this.xoffset,yoffset:this.yoffset})}hash(){return`${super.hash()}.${this.color&&this.color.hash()}.${this.path}.${this.style}.${this.outline?.hash()}`}};u([p()],Ln.prototype,"color",void 0),u([ze("color")],Ln.prototype,"writeColor",null),u([nt({esriSMS:"simple-marker"},{readOnly:!0})],Ln.prototype,"type",void 0),u([p()],Ln.prototype,"size",void 0),u([p({type:az.apiValues,json:{read:az.read,write:az.write}})],Ln.prototype,"style",void 0),u([p({type:String,json:{write:!0}})],Ln.prototype,"path",null),u([p({types:{key:"type",base:null,defaultKeyValue:"simple-line",typeMap:{"simple-line":un}},json:{default:null,write:!0}})],Ln.prototype,"outline",void 0),Ln=P4=u([j("esri.symbols.SimpleMarkerSymbol")],Ln);var D4;let Ni=D4=class extends Xr{constructor(...t){super(...t),this.backgroundColor=null,this.borderLineColor=null,this.borderLineSize=null,this.font=new Yl,this.horizontalAlignment="center",this.kerning=!0,this.haloColor=null,this.haloSize=null,this.rightToLeft=null,this.rotated=!1,this.text="",this.type="text",this.verticalAlignment="baseline",this.xoffset=0,this.yoffset=0,this.angle=0,this.width=null,this.lineWidth=192,this.lineHeight=1}normalizeCtorArgs(t,e,i){if(t&&typeof t!="string")return t;const r={};return t&&(r.text=t),e&&(r.font=e),i&&(r.color=i),r}writeLineWidth(t,e,i,r){r&&typeof r!="string"?r.origin:e[i]=t}castLineWidth(t){return ci(t)}writeLineHeight(t,e,i,r){r&&typeof r!="string"?r.origin:e[i]=t}clone(){return new D4({angle:this.angle,backgroundColor:ne(this.backgroundColor),borderLineColor:ne(this.borderLineColor),borderLineSize:this.borderLineSize,color:ne(this.color),font:this.font&&this.font.clone(),haloColor:ne(this.haloColor),haloSize:this.haloSize,horizontalAlignment:this.horizontalAlignment,kerning:this.kerning,lineHeight:this.lineHeight,lineWidth:this.lineWidth,rightToLeft:this.rightToLeft,rotated:this.rotated,text:this.text,verticalAlignment:this.verticalAlignment,width:this.width,xoffset:this.xoffset,yoffset:this.yoffset})}hash(){return`${this.backgroundColor?.hash()}.${this.borderLineColor}.${this.borderLineSize}.${this.color?.hash()}.${this.font&&this.font.hash()}.${this.haloColor?.hash()}.${this.haloSize}.${this.horizontalAlignment}.${this.kerning}.${this.rightToLeft}.${this.rotated}.${this.text}.${this.verticalAlignment}.${this.width}.${this.xoffset}.${this.yoffset}.${this.lineHeight}.${this.lineWidth}.${this.angle}`}};u([p({type:xt,json:{write:!0}})],Ni.prototype,"backgroundColor",void 0),u([p({type:xt,json:{write:!0}})],Ni.prototype,"borderLineColor",void 0),u([p({type:Number,json:{write:!0},cast:ci})],Ni.prototype,"borderLineSize",void 0),u([p({type:Yl,json:{write:!0}})],Ni.prototype,"font",void 0),u([p({...Rue,json:{write:!0}})],Ni.prototype,"horizontalAlignment",void 0),u([p({type:Boolean,json:{write:!0}})],Ni.prototype,"kerning",void 0),u([p({type:xt,json:{write:!0}})],Ni.prototype,"haloColor",void 0),u([p({type:Number,cast:ci,json:{write:!0}})],Ni.prototype,"haloSize",void 0),u([p({type:Boolean,json:{write:!0}})],Ni.prototype,"rightToLeft",void 0),u([p({type:Boolean,json:{write:!0}})],Ni.prototype,"rotated",void 0),u([p({type:String,json:{write:!0}})],Ni.prototype,"text",void 0),u([nt({esriTS:"text"},{readOnly:!0})],Ni.prototype,"type",void 0),u([p({...Lue,json:{write:!0}})],Ni.prototype,"verticalAlignment",void 0),u([p({type:Number,cast:ci,json:{write:!0}})],Ni.prototype,"xoffset",void 0),u([p({type:Number,cast:ci,json:{write:!0}})],Ni.prototype,"yoffset",void 0),u([p({type:Number,json:{read:t=>t&&-1*t,write:(t,e)=>e.angle=t&&-1*t}})],Ni.prototype,"angle",void 0),u([p({type:Number,json:{write:!0}})],Ni.prototype,"width",void 0),u([p({type:Number})],Ni.prototype,"lineWidth",void 0),u([ze("lineWidth")],Ni.prototype,"writeLineWidth",null),u([bi("lineWidth")],Ni.prototype,"castLineWidth",null),u([p(Due)],Ni.prototype,"lineHeight",void 0),u([ze("lineHeight")],Ni.prototype,"writeLineHeight",null),Ni=D4=u([j("esri.symbols.TextSymbol")],Ni);var R4;let Is=R4=class extends Xr{constructor(t){super(t),this.color=null,this.styleName=null,this.portal=null,this.styleUrl=null,this.thumbnail=null,this.name=null,this.type="web-style"}get _fetchCacheKey(){const t=this.portal!=null?this.portal:Le.getDefault(),e=t.user?t.user.username:null;return`${this.styleName}:${this.styleUrl}:${this.name}:${e}:${t.url}`}read(t,e){this.portal=e?.portal,super.read(t,e)}clone(){return new R4({name:this.name,styleUrl:this.styleUrl,styleName:this.styleName,portal:this.portal})}fetchSymbol(t){return this._fetchSymbol(t)}async fetchCIMSymbol(t){Xte(Ee.getLogger(this),"WebStyleSymbol.fetchCIMSymbol is deprecated in favour of WebStyleSymbol.fetchSymbol which now supports both web and cim symbology",{version:"4.33",replacement:"WebStyleSymbol.fetchSymbol",see:"https://arcg.is/0CXPTr#fetchSymbol",warnOnce:!0});const e=await this._fetchSymbol({...t,acceptedFormats:["cim"]});if(e?.type!=="cim")throw new ee("webstylesymbol:fetchCIMSymbol","Resolved web style symbol is not of type 'cim'");return e}async _fetchSymbol(t){const e=t!=null?t.cache:null,i=e?this._fetchCacheKey:null;if(e!=null){const o=i&&e.get(i);if(o)return o.clone()}const{resolveWebStyleSymbol:r}=await ke(()=>import("./webStyleSymbolUtils-BP_N7UYK.js"),__vite__mapDeps([193,194]));nr(t);const n=r(this,{portal:this.portal},t);n.catch(o=>{Ee.getLogger(this).error("#fetchSymbol()","Failed to create symbol from style",o)});const s=await n;return e?.set(i,s.clone()),s}};u([p({json:{write:!1}})],Is.prototype,"color",void 0),u([p({type:String,json:{write:!0}})],Is.prototype,"styleName",void 0),u([p({type:Le,json:{write:!1}})],Is.prototype,"portal",void 0),u([p({type:String,json:{read:dD,write:wv}})],Is.prototype,"styleUrl",void 0),u([p({type:ZT,json:{read:!1}})],Is.prototype,"thumbnail",void 0),u([p({type:String,json:{write:!0}})],Is.prototype,"name",void 0),u([nt({styleSymbolReference:"web-style"},{readOnly:!0})],Is.prototype,"type",void 0),u([p()],Is.prototype,"_fetchCacheKey",null),Is=R4=u([j("esri.symbols.WebStyleSymbol")],Is);function yat(t){if(!t)return!1;switch(t.type){case"picture-fill":case"picture-marker":case"simple-fill":case"simple-line":case"simple-marker":case"text":case"cim":return!0;default:return!1}}function Yue(t){switch(t?.type){case"label-3d":case"line-3d":case"mesh-3d":case"point-3d":case"polygon-3d":return!0;default:return!1}}const km={base:Xr,key:"type",typeMap:{"simple-fill":ol,"picture-fill":ia,"picture-marker":To,"simple-line":un,"simple-marker":Ln,text:Ni,"label-3d":eu,"line-3d":fu,"mesh-3d":wp,"point-3d":Co,"polygon-3d":ac,"web-style":Is,cim:no},errorContext:"symbol"},vat={base:Xr,key:"type",typeMap:{"picture-marker":To,"simple-marker":Ln,"point-3d":Co,cim:no},errorContext:"symbol"},bat={base:Xr,key:"type",typeMap:{"simple-line":un,"line-3d":fu,cim:no},errorContext:"symbol"},wat={base:Xr,key:"type",typeMap:{"simple-fill":ol,"picture-fill":ia,"polygon-3d":ac,cim:no},errorContext:"symbol"},H3e={base:Xr,key:"type",typeMap:{"picture-marker":To,"simple-marker":Ln,text:Ni,"web-style":Is,cim:no},errorContext:"symbol"},q3e=S1({types:km}),Zue={base:Xr,key:"type",typeMap:{"simple-fill":ol,"picture-fill":ia,"picture-marker":To,"simple-line":un,"simple-marker":Ln,text:Ni,"line-3d":fu,"mesh-3d":wp,"point-3d":Co,"polygon-3d":ac,"web-style":Is,cim:no},errorContext:"symbol"},G3e={base:Xr,key:"type",typeMap:{text:Ni,"label-3d":eu},errorContext:"symbol"},AJ={base:Xr,key:"type",typeMap:{"line-3d":fu,"mesh-3d":wp,"point-3d":Co,"polygon-3d":ac,"web-style":Is,cim:no},errorContext:"symbol"},W3e={base:Xr,key:"type",typeMap:{"label-3d":eu},errorContext:"symbol"},Jue=Dd(km);var L4;function Y3e(t){if(!t)return null;const e={};for(const i in t){const r=jd(t[i]);r&&(e[i]=r)}return Object.keys(e).length!==0?e:null}function Z3e(t){if(t==null)return null;const e={};for(const i in t){const r=t[i];r&&(e[i]=r.toJSON())}return Object.keys(e).length!==0?e:null}var S_;let Pr=(S_=class extends dt(ge){constructor(e){super(e),this.isAggregate=!1,this.layer=null,this.origin=null,this.sourceLayer=null,this._version=0,Object.defineProperty(this,"uid",{value:EC(),configurable:!0}),Object.defineProperty(this,"_lastMeshTransform",{value:{},configurable:!0,writable:!0,enumerable:!1}),arguments.length>1&&Cve(Ee.getLogger(this),"Graphic",{version:"4.30"})}initialize(){this._watchMeshGeometryChanges()}set aggregateGeometries(e){const i=this._get("aggregateGeometries");JSON.stringify(i)!==JSON.stringify(e)&&this._set("aggregateGeometries",e)}set attributes(e){const i=this._get("attributes");i!==e&&(this._set("attributes",e),this._notifyLayer("attributes",i,e))}set geometry(e){const i=this._get("geometry");i!==e&&(this._set("geometry",e),e?.type!=="mesh"&&this._notifyLayer("geometry",i,e))}set popupTemplate(e){const i=this._get("popupTemplate");i!==e&&(this._set("popupTemplate",e),this._notifyLayer("popupTemplate",i,e))}set symbol(e){const i=this._get("symbol");i!==e&&(this._set("symbol",e),this._notifyLayer("symbol",i,e))}get version(){return this._version}set visible(e){const i=this._get("visible");i!==e&&(this._set("visible",e),this._notifyLayer("visible",i,e))}cloneShallow(){return new L4({aggregateGeometries:this.aggregateGeometries,attributes:this.attributes,geometry:this.geometry,isAggregate:this.isAggregate,layer:this.layer,popupTemplate:this.popupTemplate,sourceLayer:this.sourceLayer,symbol:this.symbol,visible:this.visible,origin:this.origin})}getEffectivePopupTemplate(e=!1){if(this.popupTemplate)return this.popupTemplate;const i=r3e(this.origin);if(i)return i.popupTemplate??(e?i.defaultPopupTemplate:null)??null;const r=this.origin&&"layer"in this.origin?this.origin.layer:null;for(const n of[r,this.sourceLayer,this.layer])if(n&&typeof n=="object"){if("popupTemplate"in n&&n.popupTemplate)return n.popupTemplate;if(e&&"defaultPopupTemplate"in n&&n.defaultPopupTemplate!=null)return n.defaultPopupTemplate}return null}getAttribute(e){return this.attributes?.[e]}setAttribute(e,i){if(this.attributes){const r=this.getAttribute(e);this.attributes[e]=i,this._notifyLayer("attributes",r,i,e)}else this.attributes={[e]:i}}getObjectId(){const e=$J(this.origin);if(e)return kJ(this,e);const i=this.sourceLayer??this.layer;return i?kJ(this,i):null}getGlobalId(){const e=$J(this.origin);if(e?.globalIdField)return this.getAttribute(e.globalIdField);const i=this.sourceLayer??this.layer;return i&&"globalIdField"in i&&i.globalIdField?this.getAttribute(i.globalIdField):null}toJSON(){return{aggregateGeometries:Z3e(this.aggregateGeometries),geometry:this.geometry!=null?this.geometry.toJSON():null,symbol:this.symbol!=null?this.symbol.toJSON():null,attributes:E2(this.attributes)?this.attributes.toJSON():{...this.attributes},popupTemplate:this.popupTemplate?.toJSON()??null}}notifyMeshTransformChanged(e={}){const{geometry:i}=this;if(i?.type==="mesh"){const r={origin:i.origin,transform:i.transform};this._notifyLayer("origin-transform",r,r,e.action)}}_notifyLayer(e,i,r,n){if(this._version++,!this.layer||!("graphicChanged"in this.layer))return;const s={graphic:this,property:e,oldValue:i,newValue:r};e==="origin-transform"&&(s.action=n),e==="attributes"&&(s.attributeName=n),this.layer.graphicChanged(s)}_watchMeshGeometryChanges(){this.addHandles([wa(()=>this.geometry?.type==="mesh"&&this.geometry.vertexSpace.origin?{localMatrix:this.geometry.transform?.localMatrix,origin:this.geometry.vertexSpace.origin}:void 0,({localMatrix:e,origin:i})=>{this._lastMeshTransform.localMatrix===e&&this._lastMeshTransform.origin===i||(this._lastMeshTransform.localMatrix=e,this._lastMeshTransform.origin=i,this.notifyMeshTransformChanged())}),wa(()=>this.geometry?.type==="mesh"?{vertexAttributes:this.geometry.vertexAttributes}:void 0,()=>{const e=this.geometry;e?.type==="mesh"&&e.vertexSpace.origin?(this._lastMeshTransform.localMatrix=e.transform?.localMatrix,this._lastMeshTransform.origin=e.vertexSpace.origin):(this._lastMeshTransform.localMatrix=void 0,this._lastMeshTransform.origin=void 0),this._notifyLayer("geometry",this.geometry,this.geometry)},{equals:(e,i)=>e===i,sync:!0})])}},L4=S_,S_);u([p({value:null,json:{read:Y3e}})],Pr.prototype,"aggregateGeometries",null),u([p({value:null})],Pr.prototype,"attributes",null),u([p({value:null,types:R1,json:{read:jd}})],Pr.prototype,"geometry",null),u([p({type:Boolean})],Pr.prototype,"isAggregate",void 0),u([p({clonable:!1})],Pr.prototype,"layer",void 0),u([p({clonable:"reference"})],Pr.prototype,"origin",void 0),u([p({type:Xv,value:null})],Pr.prototype,"popupTemplate",null),u([p({clonable:"reference"})],Pr.prototype,"sourceLayer",void 0),u([p({value:null,types:km})],Pr.prototype,"symbol",null),u([p({clonable:!1,json:{read:!1,write:!1}})],Pr.prototype,"_version",void 0),u([p({type:Boolean,value:!0})],Pr.prototype,"visible",null),Pr=L4=u([j("esri.Graphic")],Pr);let JT=class extends DT{_own(e){e.layer&&"remove"in e.layer&&e.layer!==this.owner&&e.layer.remove(e),e.layer=this.owner}_release(e){e.layer===this.owner&&(e.layer=null)}};u([PU({Type:Pr,ensureType:tn(Pr)})],JT.prototype,"itemType",void 0),JT=u([j("esri.support.GraphicsCollection")],JT);let Oh=class extends at{constructor(e){super(e),this.view=null,this.baseLayerViews=new We,this.groundLayerViews=new We,this.referenceLayerViews=new We,this._loadingHandle=ft(()=>this.view?.map?.basemap,i=>{i&&i.load().catch(()=>{})},Ls)}destroy(){this._set("view",null),this._loadingHandle=rr(this._loadingHandle),this.baseLayerViews.destroyAll(),this.groundLayerViews.destroyAll(),this.referenceLayerViews.destroyAll()}get suspended(){return this.view?.suspended??!0}get updating(){return this.view?.suspended?!1:!!this.view?.map?.basemap?.loaded&&(this.baseLayerViews.some(i=>i.updating)||this.groundLayerViews.some(i=>i.updating)||this.referenceLayerViews.some(i=>i.updating))}};u([p({constructOnly:!0})],Oh.prototype,"view",void 0),u([p({readOnly:!0})],Oh.prototype,"baseLayerViews",void 0),u([p({readOnly:!0})],Oh.prototype,"groundLayerViews",void 0),u([p({readOnly:!0})],Oh.prototype,"referenceLayerViews",void 0),u([p({readOnly:!0})],Oh.prototype,"suspended",null),u([p({type:Boolean,readOnly:!0})],Oh.prototype,"updating",null),Oh=u([j("esri.views.BasemapView")],Oh);const J3e=Oh;let Ba=class extends at{constructor(e){super(e),this.factor=1.5,this.offset=Fn(0,0),this.position=null,this.size=120,this.maskUrl=null,this.maskEnabled=!0,this.overlayUrl=null,this.overlayEnabled=!0,this.visible=!0}get version(){return this.commitProperty("factor"),this.commitProperty("offset"),this.commitProperty("position"),this.commitProperty("visible"),this.commitProperty("size"),this.commitProperty("maskUrl"),this.commitProperty("maskEnabled"),this.commitProperty("overlayUrl"),this.commitProperty("overlayEnabled"),(this._get("version")||0)+1}};u([p({type:Number})],Ba.prototype,"factor",void 0),u([p({nonNullable:!0})],Ba.prototype,"offset",void 0),u([p()],Ba.prototype,"position",void 0),u([p({type:Number,range:{min:0}})],Ba.prototype,"size",void 0),u([p()],Ba.prototype,"maskUrl",void 0),u([p()],Ba.prototype,"maskEnabled",void 0),u([p()],Ba.prototype,"overlayUrl",void 0),u([p()],Ba.prototype,"overlayEnabled",void 0),u([p({readOnly:!0})],Ba.prototype,"version",null),u([p({type:Boolean})],Ba.prototype,"visible",void 0),Ba=u([j("esri.views.Magnifier")],Ba);const Xue=Ba;let e_=class{constructor(e){this._observable=new P1,this._map=new Map(e)}get size(){return _t(this._observable),this._map.size}clear(){this._map.size>0&&(this._map.clear(),this._observable.notify())}delete(e){const i=this._map.delete(e);return i&&this._observable.notify(),i}entries(){return _t(this._observable),this._map.entries()}forEach(e,i){_t(this._observable),this._map.forEach((r,n)=>e.call(i,r,n,this),i)}get(e){return _t(this._observable),this._map.get(e)}has(e){return _t(this._observable),this._map.has(e)}keys(){return _t(this._observable),this._map.keys()}set(e,i){return this._map.set(e,i),this._observable.notify(),this}values(){return _t(this._observable),this._map.values()}[Symbol.iterator](){return _t(this._observable),this._map[Symbol.iterator]()}[Symbol.dispose](){this._observable.destroy()}get[Symbol.toStringTag](){return this._map[Symbol.toStringTag]}};var z4;let qy=z4=class extends ge{constructor(t){super(t),this.name=null,this.code=null}clone(){return new z4({name:this.name,code:this.code})}};u([p({type:String,json:{write:{isRequired:!0}}})],qy.prototype,"name",void 0),u([p({type:[String,Number],json:{write:{isRequired:!0}}})],qy.prototype,"code",void 0),qy=z4=u([j("esri.layers.support.CodedValue")],qy);const X3e=new At({inherited:"inherited",codedValue:"coded-value",range:"range"});let Em=class extends ge{constructor(e){super(e),this.name=null,this.type=null}};u([p({type:String,json:{write:!0}})],Em.prototype,"name",void 0),u([nt(X3e),p({json:{write:{isRequired:!0}}})],Em.prototype,"type",void 0),Em=u([j("esri.layers.support.Domain")],Em);var N4,T_;let Im=(T_=class extends Em{constructor(e){super(e),this.codedValues=null,this.type="coded-value"}getName(e){let i=null;if(this.codedValues){const r=String(e);this.codedValues.some(n=>(String(n.code)===r&&(i=n.name),!!i))}return i}clone(){return new N4({codedValues:ne(this.codedValues),name:this.name})}},N4=T_,T_);u([p({type:[qy],json:{write:{isRequired:!0}}})],Im.prototype,"codedValues",void 0),u([nt({codedValue:"coded-value"})],Im.prototype,"type",void 0),Im=N4=u([j("esri.layers.support.CodedValueDomain")],Im);var j4,$_;let XT=($_=class extends Em{constructor(e){super(e),this.type="inherited"}clone(){return new j4}},j4=$_,$_);u([nt({inherited:"inherited"})],XT.prototype,"type",void 0),XT=j4=u([j("esri.layers.support.InheritedDomain")],XT);var F4,k_;let Py=(k_=class extends Em{constructor(e){super(e),this.maxValue=null,this.minValue=null,this.type="range"}clone(){return new F4({maxValue:this.maxValue,minValue:this.minValue,name:this.name})}},F4=k_,k_);u([p({json:{type:[Number],read:{source:"range",reader:(t,e)=>e.range?.[1]},write:{enabled:!1,overridePolicy(){return{enabled:this.maxValue!=null&&this.minValue==null}},target:"range",writer(t,e,i){e[i]=[this.minValue||0,t]},isRequired:!0}}})],Py.prototype,"maxValue",void 0),u([p({json:{type:[Number],read:{source:"range",reader:(t,e)=>e.range?.[0]},write:{target:"range",writer(t,e,i){e[i]=[t,this.maxValue||0]},isRequired:!0}}})],Py.prototype,"minValue",void 0),u([nt({range:"range"})],Py.prototype,"type",void 0),Py=F4=u([j("esri.layers.support.RangeDomain")],Py);const Kue={key:"type",base:Em,typeMap:{range:Py,"coded-value":Im,inherited:XT}};function n3(t){if(!t?.type)return null;switch(t.type){case"range":return Py.fromJSON(t);case"codedValue":return Im.fromJSON(t);case"inherited":return XT.fromJSON(t)}return null}const aB=new At({esriFieldTypeSmallInteger:"small-integer",esriFieldTypeInteger:"integer",esriFieldTypeSingle:"single",esriFieldTypeDouble:"double",esriFieldTypeLong:"long",esriFieldTypeString:"string",esriFieldTypeDate:"date",esriFieldTypeOID:"oid",esriFieldTypeGeometry:"geometry",esriFieldTypeBlob:"blob",esriFieldTypeRaster:"raster",esriFieldTypeGUID:"guid",esriFieldTypeGlobalID:"global-id",esriFieldTypeXML:"xml",esriFieldTypeBigInteger:"big-integer",esriFieldTypeDateOnly:"date-only",esriFieldTypeTimeOnly:"time-only",esriFieldTypeTimestampOffset:"timestamp-offset"});var V4;const K3e=new At({binary:"binary",coordinate:"coordinate",countOrAmount:"count-or-amount",currency:"currency",dateAndTime:"date-and-time",description:"description",emailAddress:"email-address",locationOrPlaceName:"location-or-place-name",measurement:"measurement",nameOrTitle:"name-or-title",none:"none",orderedOrRanked:"ordered-or-ranked",percentageOrRatio:"percentage-or-ratio",phoneNumber:"phone-number",typeOrCategory:"type-or-category",uniqueIdentifier:"unique-identifier"});var E_;let rs=(E_=class extends ge{constructor(e){super(e),this.alias=null,this.defaultValue=void 0,this.description=null,this.domain=null,this.editable=!0,this.length=void 0,this.name=null,this.nullable=!0,this.type=null,this.valueType=null,this.visible=!0}readDescription(e,{description:i}){let r=null;try{r=i?JSON.parse(i):null}catch{}return r?.value??null}readValueType(e,{description:i}){let r=null;try{r=i?JSON.parse(i):null}catch{}return r?K3e.fromJSON(r.fieldValueType):null}clone(){return new V4({alias:this.alias,defaultValue:this.defaultValue,description:this.description,domain:this.domain?.clone()??null,editable:this.editable,length:this.length,name:this.name,nullable:this.nullable,type:this.type,valueType:this.valueType,visible:this.visible})}},V4=E_,E_);u([p({type:String,json:{write:!0}})],rs.prototype,"alias",void 0),u([p({type:[String,Number],json:{write:{allowNull:!0}}})],rs.prototype,"defaultValue",void 0),u([p()],rs.prototype,"description",void 0),u([Ae("description")],rs.prototype,"readDescription",null),u([p({types:Kue,json:{read:{reader:n3},write:!0}})],rs.prototype,"domain",void 0),u([p({type:Boolean,json:{write:!0}})],rs.prototype,"editable",void 0),u([p({type:Ht,json:{write:{overridePolicy:t=>({enabled:Number.isFinite(t)})}}})],rs.prototype,"length",void 0),u([p({type:String,json:{write:!0}})],rs.prototype,"name",void 0),u([p({type:Boolean,json:{write:!0}})],rs.prototype,"nullable",void 0),u([nt(aB)],rs.prototype,"type",void 0),u([p()],rs.prototype,"valueType",void 0),u([Ae("valueType",["description"])],rs.prototype,"readValueType",null),u([p({type:Boolean,json:{read:!1}})],rs.prototype,"visible",void 0),rs=V4=u([j("esri.layers.support.Field")],rs);var U4;let C0=U4=class extends ge{constructor(t){super(t),this.type="map-layer"}clone(){const{mapLayerId:t,gdbVersion:e}=this;return new U4({mapLayerId:t,gdbVersion:e})}};u([nt({mapLayer:"map-layer"}),p({json:{write:{isRequired:!0}}})],C0.prototype,"type",void 0),u([p({type:Ht,json:{write:{isRequired:!0}}})],C0.prototype,"mapLayerId",void 0),u([p({type:String,json:{write:!0}})],C0.prototype,"gdbVersion",void 0),C0=U4=u([j("esri.layers.support.source.MapLayerSource")],C0);var B4;let Ph=B4=class extends ge{constructor(t){super(t),this.type="query-table"}clone(){const{workspaceId:t,query:e,oidFields:i,spatialReference:r,geometryType:n}=this,s={workspaceId:t,query:e,oidFields:i,spatialReference:r?.clone()??void 0,geometryType:n};return new B4(s)}};u([nt({queryTable:"query-table"}),p({json:{write:{isRequired:!0}}})],Ph.prototype,"type",void 0),u([p({type:String,json:{write:!0}})],Ph.prototype,"workspaceId",void 0),u([p({type:String,json:{write:!0}})],Ph.prototype,"query",void 0),u([p({type:String,json:{write:!0}})],Ph.prototype,"oidFields",void 0),u([p({type:Ke,json:{write:!0}})],Ph.prototype,"spatialReference",void 0),u([nt(DCe)],Ph.prototype,"geometryType",void 0),Ph=B4=u([j("esri.layers.support.source.QueryTableDataSource")],Ph);var H4;let M0=H4=class extends ge{constructor(t){super(t),this.type="raster"}clone(){const{workspaceId:t,dataSourceName:e}=this;return new H4({workspaceId:t,dataSourceName:e})}};u([nt({raster:"raster"}),p({json:{write:{isRequired:!0}}})],M0.prototype,"type",void 0),u([p({type:String,json:{write:!0}})],M0.prototype,"dataSourceName",void 0),u([p({type:String,json:{write:!0}})],M0.prototype,"workspaceId",void 0),M0=H4=u([j("esri.layers.support.source.RasterDataSource")],M0);var q4;let dy=q4=class extends ge{constructor(t){super(t),this.type="table"}clone(){const{workspaceId:t,gdbVersion:e,dataSourceName:i}=this;return new q4({workspaceId:t,gdbVersion:e,dataSourceName:i})}};u([nt({table:"table"}),p({json:{write:{isRequired:!0}}})],dy.prototype,"type",void 0),u([p({type:String,json:{write:!0}})],dy.prototype,"workspaceId",void 0),u([p({type:String,json:{write:!0}})],dy.prototype,"gdbVersion",void 0),u([p({type:String,json:{write:!0}})],dy.prototype,"dataSourceName",void 0),dy=q4=u([j("esri.layers.support.source.TableDataSource")],dy);var G4,W4;const Q3e=En()({esriLeftInnerJoin:"left-inner-join",esriLeftOuterJoin:"left-outer-join"});let Ha=G4=class extends ge{constructor(t){super(t),this.type="join-table"}readLeftTableSource(t,e,i){return OJ()(t,e,i)}castLeftTableSource(t){return Dd(Y4(),t)}readRightTableSource(t,e,i){return OJ()(t,e,i)}castRightTableSource(t){return Dd(Y4(),t)}clone(){const{leftTableKey:t,rightTableKey:e,leftTableSource:i,rightTableSource:r,joinType:n}=this,s={leftTableKey:t,rightTableKey:e,leftTableSource:i?.clone()??void 0,rightTableSource:r?.clone()??void 0,joinType:n};return new G4(s)}};u([nt({joinTable:"join-table"}),p({json:{write:{isRequired:!0}}})],Ha.prototype,"type",void 0),u([p({type:String,json:{write:!0}})],Ha.prototype,"leftTableKey",void 0),u([p({type:String,json:{write:!0}})],Ha.prototype,"rightTableKey",void 0),u([p({json:{write:!0}})],Ha.prototype,"leftTableSource",void 0),u([Ae("leftTableSource")],Ha.prototype,"readLeftTableSource",null),u([bi("leftTableSource")],Ha.prototype,"castLeftTableSource",null),u([p({json:{write:!0}})],Ha.prototype,"rightTableSource",void 0),u([Ae("rightTableSource")],Ha.prototype,"readRightTableSource",null),u([bi("rightTableSource")],Ha.prototype,"castRightTableSource",null),u([nt(Q3e)],Ha.prototype,"joinType",void 0),Ha=G4=u([j("esri.layers.support.source.JoinTableDataSource")],Ha);let lz=null;function OJ(){return lz||(lz=S1({types:Y4()})),lz}let cz=null;function Y4(){return cz||(cz={key:"type",base:null,typeMap:{"data-layer":tu,"map-layer":C0}}),cz}const eRe={key:"type",base:null,typeMap:{"join-table":Ha,"query-table":Ph,raster:M0,table:dy}};var I_;let tu=(I_=class extends ge{constructor(e){super(e),this.type="data-layer"}clone(){const{fields:e,dataSource:i}=this;return new W4({fields:e,dataSource:i})}},W4=I_,I_);u([nt({dataLayer:"data-layer"}),p({json:{write:{isRequired:!0}}})],tu.prototype,"type",void 0),u([p({type:[rs],json:{write:!0}})],tu.prototype,"fields",void 0),u([p({types:eRe,json:{write:!0}})],tu.prototype,"dataSource",void 0),tu=W4=u([j("esri.layers.support.source.DataLayerSource")],tu),tu.from=tn(tu);let hy=class extends dt(ge){constructor(e){super(e),this.onFields=null,this.operator=null,this.searchTerm=null,this.searchType=null}};u([p({type:[String],json:{write:{enabled:!0,overridePolicy(){return{enabled:this.onFields!=null&&this.onFields.length>0}}}}})],hy.prototype,"onFields",void 0),u([p({type:String,json:{write:!0}})],hy.prototype,"operator",void 0),u([p({type:String,json:{write:!0}})],hy.prototype,"searchTerm",void 0),u([p({type:String,json:{write:!0}})],hy.prototype,"searchType",void 0),hy=u([j("esri.rest.support.FullTextSearch")],hy);const tRe=hy;var Z4;const PJ=new At({upperLeft:"upper-left",lowerLeft:"lower-left"});let om=Z4=class extends ge{constructor(t){super(t),this.extent=null,this.mode="view",this.originPosition="upper-left",this.tolerance=1}clone(){return new Z4(ne({extent:this.extent,mode:this.mode,originPosition:this.originPosition,tolerance:this.tolerance}))}};u([p({type:jt,json:{write:{overridePolicy(){return{enabled:this.mode==="view"}}}}})],om.prototype,"extent",void 0),u([p({type:["view","edit"],json:{write:!0}})],om.prototype,"mode",void 0),u([p({type:String,json:{read:PJ.read,write:PJ.write}})],om.prototype,"originPosition",void 0),u([p({type:Number,json:{write:{overridePolicy(){return{enabled:this.mode==="view"}}}}})],om.prototype,"tolerance",void 0),om=Z4=u([j("esri.rest.support.QuantizationParameters")],om);const iRe=t=>{const e=t;let i=class extends e{};return i=u([j("esri.rest.support.QueryMixin")],i),i},rRe=new At({esriSpatialRelIntersects:"intersects",esriSpatialRelContains:"contains",esriSpatialRelCrosses:"crosses",esriSpatialRelDisjoint:"disjoint",esriSpatialRelEnvelopeIntersects:"envelope-intersects",esriSpatialRelIndexIntersects:"index-intersects",esriSpatialRelOverlaps:"overlaps",esriSpatialRelTouches:"touches",esriSpatialRelWithin:"within",esriSpatialRelRelation:"relation"});var J4;const DJ=new At({count:"count",sum:"sum",min:"min",max:"max",avg:"avg",stddev:"stddev",var:"var",exceedslimit:"exceedslimit",percentile_cont:"percentile-continuous",percentile_disc:"percentile-discrete",EnvelopeAggregate:"envelope-aggregate",CentroidAggregate:"centroid-aggregate",ConvexHullAggregate:"convex-hull-aggregate"});let sa=J4=class extends ge{constructor(t){super(t),this.maxPointCount=void 0,this.maxRecordCount=void 0,this.maxVertexCount=void 0,this.onStatisticField=null,this.outStatisticFieldName=null,this.statisticType=null,this.statisticParameters=null}writeStatisticParameters(t,e){this.statisticType!=="percentile-continuous"&&this.statisticType!=="percentile-discrete"||(e.statisticParameters=ne(t))}clone(){return new J4({maxPointCount:this.maxPointCount,maxRecordCount:this.maxRecordCount,maxVertexCount:this.maxVertexCount,onStatisticField:this.onStatisticField,outStatisticFieldName:this.outStatisticFieldName,statisticType:this.statisticType,statisticParameters:ne(this.statisticParameters)})}};u([p({type:Number,json:{write:!0}})],sa.prototype,"maxPointCount",void 0),u([p({type:Number,json:{write:!0}})],sa.prototype,"maxRecordCount",void 0),u([p({type:Number,json:{write:!0}})],sa.prototype,"maxVertexCount",void 0),u([p({type:String,json:{write:!0}})],sa.prototype,"onStatisticField",void 0),u([p({type:String,json:{write:!0}})],sa.prototype,"outStatisticFieldName",void 0),u([p({type:String,json:{read:{source:"statisticType",reader:DJ.read},write:{target:"statisticType",writer:DJ.write}}})],sa.prototype,"statisticType",void 0),u([p({type:Object})],sa.prototype,"statisticParameters",void 0),u([ze("statisticParameters")],sa.prototype,"writeStatisticParameters",null),sa=J4=u([j("esri.rest.support.StatisticDefinition")],sa);var TM;const nRe=new At({esriSRUnit_Meter:"meters",esriSRUnit_Kilometer:"kilometers",esriSRUnit_Foot:"feet",esriSRUnit_StatuteMile:"miles",esriSRUnit_NauticalMile:"nautical-miles",esriSRUnit_USNauticalMile:"us-nautical-miles"});var dv;let ot=(dv=class extends iRe(ge){static from(e){return N$(TM,e)}constructor(e){super(e),this.aggregateIds=null,this.cacheHint=void 0,this.compactGeometryEnabled=!1,this.datumTransformation=null,this.defaultSpatialReferenceEnabled=!1,this.distance=void 0,this.dynamicDataSource=void 0,this.formatOf3DObjects=null,this.fullText=null,this.gdbVersion=null,this.geometry=null,this.geometryPrecision=void 0,this.groupByFieldsForStatistics=null,this.having=null,this.historicMoment=null,this.maxAllowableOffset=void 0,this.maxRecordCountFactor=1,this.multipatchOption=null,this.num=void 0,this.objectIds=null,this.orderByFields=null,this.outFields=null,this.outSpatialReference=null,this.outStatistics=null,this.parameterValues=null,this.pixelSize=null,this.quantizationParameters=null,this.rangeValues=null,this.relationParameter=null,this.resultType=null,this.returnCentroid=!1,this.returnDistinctValues=!1,this.returnExceededLimitFeatures=!0,this.returnGeometry=!1,this.returnQueryGeometry=!1,this.returnM=void 0,this.returnZ=void 0,this.returnTrueCurves=void 0,this.sourceSpatialReference=null,this.spatialRelationship="intersects",this.start=void 0,this.sqlFormat=null,this.text=null,this.timeExtent=null,this.timeReferenceUnknownClient=!1,this.units=null,this.where=null}castDatumTransformation(e){return typeof e=="number"||typeof e=="object"?e:null}writeHistoricMoment(e,i){i.historicMoment=e&&e.getTime()}writeParameterValues(e,i){if(e){const r={};for(const n in e){const s=e[n];Array.isArray(s)?r[n]=s.map(o=>o instanceof Date?o.getTime():o):s instanceof Date?r[n]=s.getTime():r[n]=s}i.parameterValues=r}}writeStart(e,i){i.resultOffset=this.start,i.resultRecordCount=this.num||10,i.where="1=1"}writeWhere(e,i){i.where=e||"1=1"}clone(){return new TM(ne({aggregateIds:this.aggregateIds,cacheHint:this.cacheHint,compactGeometryEnabled:this.compactGeometryEnabled,datumTransformation:this.datumTransformation,defaultSpatialReferenceEnabled:this.defaultSpatialReferenceEnabled,distance:this.distance,fullText:this.fullText,formatOf3DObjects:this.formatOf3DObjects,gdbVersion:this.gdbVersion,geometry:this.geometry,geometryPrecision:this.geometryPrecision,groupByFieldsForStatistics:this.groupByFieldsForStatistics,having:this.having,historicMoment:this.historicMoment!=null?new Date(this.historicMoment):null,maxAllowableOffset:this.maxAllowableOffset,maxRecordCountFactor:this.maxRecordCountFactor,multipatchOption:this.multipatchOption,num:this.num,objectIds:this.objectIds,orderByFields:this.orderByFields,outFields:this.outFields,outSpatialReference:this.outSpatialReference,outStatistics:this.outStatistics,parameterValues:this.parameterValues,pixelSize:this.pixelSize,quantizationParameters:this.quantizationParameters,rangeValues:this.rangeValues,relationParameter:this.relationParameter,resultType:this.resultType,returnDistinctValues:this.returnDistinctValues,returnGeometry:this.returnGeometry,returnCentroid:this.returnCentroid,returnExceededLimitFeatures:this.returnExceededLimitFeatures,returnQueryGeometry:this.returnQueryGeometry,returnM:this.returnM,returnZ:this.returnZ,returnTrueCurves:this.returnTrueCurves,dynamicDataSource:this.dynamicDataSource,sourceSpatialReference:this.sourceSpatialReference,spatialRelationship:this.spatialRelationship,start:this.start,sqlFormat:this.sqlFormat,text:this.text,timeExtent:this.timeExtent,timeReferenceUnknownClient:this.timeReferenceUnknownClient,units:this.units,where:this.where}))}},TM=dv,dv.MAX_MAX_RECORD_COUNT_FACTOR=5,dv);u([p({json:{write:!0}})],ot.prototype,"aggregateIds",void 0),u([p({type:Boolean,json:{write:!0}})],ot.prototype,"cacheHint",void 0),u([p({type:Boolean,json:{default:!1,write:!0}})],ot.prototype,"compactGeometryEnabled",void 0),u([p({json:{write:!0}})],ot.prototype,"datumTransformation",void 0),u([bi("datumTransformation")],ot.prototype,"castDatumTransformation",null),u([p({type:Boolean,json:{default:!1,write:!0}})],ot.prototype,"defaultSpatialReferenceEnabled",void 0),u([p({type:Number,json:{write:!0}})],ot.prototype,"distance",void 0),u([p({type:tu,json:{write:!0}})],ot.prototype,"dynamicDataSource",void 0),u([p({type:String,json:{write:!0}})],ot.prototype,"formatOf3DObjects",void 0),u([p({type:[tRe],json:{write:{enabled:!0,overridePolicy(){return{enabled:this.fullText!=null&&this.fullText.length>0}}}}})],ot.prototype,"fullText",void 0),u([p({type:String,json:{write:!0}})],ot.prototype,"gdbVersion",void 0),u([p({types:R1,json:{read:jd,write:!0}})],ot.prototype,"geometry",void 0),u([p({type:Number,json:{write:!0}})],ot.prototype,"geometryPrecision",void 0),u([p({type:[String],json:{write:!0}})],ot.prototype,"groupByFieldsForStatistics",void 0),u([p({type:String,json:{write:!0}})],ot.prototype,"having",void 0),u([p({type:Date})],ot.prototype,"historicMoment",void 0),u([ze("historicMoment")],ot.prototype,"writeHistoricMoment",null),u([p({type:Number,json:{write:!0}})],ot.prototype,"maxAllowableOffset",void 0),u([p({type:Number,cast:t=>t<1?1:t>ot.MAX_MAX_RECORD_COUNT_FACTOR?ot.MAX_MAX_RECORD_COUNT_FACTOR:t,json:{write:{overridePolicy:t=>({enabled:t>1})}}})],ot.prototype,"maxRecordCountFactor",void 0),u([p({type:["xyFootprint"],json:{write:!0}})],ot.prototype,"multipatchOption",void 0),u([p({type:Number,json:{read:{source:"resultRecordCount"}}})],ot.prototype,"num",void 0),u([p({json:{write:!0}})],ot.prototype,"objectIds",void 0),u([p({type:[String],json:{write:!0}})],ot.prototype,"orderByFields",void 0),u([p({type:[String],json:{write:!0}})],ot.prototype,"outFields",void 0),u([p({type:Ke,json:{name:"outSR",write:!0}})],ot.prototype,"outSpatialReference",void 0),u([p({type:[sa],json:{write:{enabled:!0,overridePolicy(){return{enabled:this.outStatistics!=null&&this.outStatistics.length>0}}}}})],ot.prototype,"outStatistics",void 0),u([p({json:{write:!0}})],ot.prototype,"parameterValues",void 0),u([ze("parameterValues")],ot.prototype,"writeParameterValues",null),u([p({type:wt,json:{write:!0}})],ot.prototype,"pixelSize",void 0),u([p({type:om,json:{write:!0}})],ot.prototype,"quantizationParameters",void 0),u([p({type:[Object],json:{write:!0}})],ot.prototype,"rangeValues",void 0),u([p({type:String,json:{read:{source:"relationParam"},write:{target:"relationParam",overridePolicy(){return{enabled:this.spatialRelationship==="relation"}}}}})],ot.prototype,"relationParameter",void 0),u([p({type:String,json:{write:!0}})],ot.prototype,"resultType",void 0),u([p({type:Boolean,json:{default:!1,write:!0}})],ot.prototype,"returnCentroid",void 0),u([p({type:Boolean,json:{default:!1,write:!0}})],ot.prototype,"returnDistinctValues",void 0),u([p({type:Boolean,json:{default:!0,write:!0}})],ot.prototype,"returnExceededLimitFeatures",void 0),u([p({type:Boolean,json:{write:!0}})],ot.prototype,"returnGeometry",void 0),u([p({type:Boolean,json:{default:!1,write:!0}})],ot.prototype,"returnQueryGeometry",void 0),u([p({type:Boolean,json:{default:!1,write:!0}})],ot.prototype,"returnM",void 0),u([p({type:Boolean,json:{write:{overridePolicy:t=>({enabled:t})}}})],ot.prototype,"returnZ",void 0),u([p({type:Boolean,json:{write:!0}})],ot.prototype,"returnTrueCurves",void 0),u([p({type:Ke,json:{write:!0}})],ot.prototype,"sourceSpatialReference",void 0),u([nt(rRe,{ignoreUnknown:!1,name:"spatialRel"})],ot.prototype,"spatialRelationship",void 0),u([p({type:Number,json:{read:{source:"resultOffset"}}})],ot.prototype,"start",void 0),u([ze("start"),ze("num")],ot.prototype,"writeStart",null),u([p({type:String,json:{write:!0}})],ot.prototype,"sqlFormat",void 0),u([p({type:String,json:{write:!0}})],ot.prototype,"text",void 0),u([p({type:Oi,json:{write:!0}})],ot.prototype,"timeExtent",void 0),u([p({type:Boolean,json:{default:!1,write:!0}})],ot.prototype,"timeReferenceUnknownClient",void 0),u([nt(nRe,{ignoreUnknown:!1}),p({json:{write:{overridePolicy(t){return{enabled:!!t&&this.distance!=null}}}}})],ot.prototype,"units",void 0),u([p({type:String,json:{write:{overridePolicy(t){return{enabled:t!=null||this.start!=null&&this.start>0}}}}})],ot.prototype,"where",void 0),u([ze("where")],ot.prototype,"writeWhere",null),ot=TM=u([j("esri.rest.support.Query")],ot);function Lf(t){return!(t==null||typeof t!="object"||!("createQuery"in t)||!t.createQuery)}let Ul=class extends k1{constructor(e){super(e),this._selectionMap=new e_,this._sources=new We,this._trashCan=[],this._layerEditHandles=new We,this._vizTaskId=0,this.view=null,this.showHighlight=!0,this.highlightName="default"}initialize(){this.addHandles([ft(()=>[this.view,this.showHighlight],()=>this._refreshVisualization()),ft(()=>this.view,e=>{e?.when().then(()=>this.syncSources())},Ls),qm(()=>this.sources,"change",e=>{const i=this._selectionMap,r=[];for(const n of e.removed){const s=i.get(n);s&&(i.delete(n),s.highlightHandle?.remove(),r.push({layer:n,selection:[],added:[],removed:[...s.selection]}))}this._refreshListeners(),r.length&&this._onSelectionChange(r)},{onListenerAdd:()=>this._refreshListeners()})])}destroy(){this.clear(),this._layerEditHandles.drain(rr)}get selections(){return Array.from(this._selectionMap.entries()).map(e=>{const[i,r]=e;return{layer:i,selection:[...r.selection]}})}get count(){let e=0;for(const i of this._selectionMap.values())e+=i.selection.length;return e}get hasSelection(){return this.count>0}get sources(){return this._sources}set sources(e){Td(e,this._sources)}syncSources(){const e=new Set,i=this.view?.map;if(!i)return;const r=n=>{NAe(n)?(n.layers?.forEach(r),n.tables?.forEach(r)):zAe(n)?(n.sublayers?.forEach(r),n.subtables?.forEach(r)):rJ(n)?n.sublayers?.forEach(r):Lf(n)&&e.add(n)};i.allLayers.forEach(r),i.allTables.forEach(r),this.sources=[...e]}async getSelectedFeatures(e,i={},r="layerView"){const{view:n,selections:s}=this;if(!n&&r==="layerView")return Ee.getLogger(this).warn("Cannot query layer views without a view."),[];const o=(e?.length?s.filter(a=>e.includes(a.layer)):s).map(async a=>{const{layer:l,selection:h}=a;if(!h.length)return;const f=mm(l)?l.parent:l;if(f!=null){if(n&&r==="layerView"&&!RJ(f)&&LJ(f)){const g=await n.whenLayerView(f).catch(()=>null);if(g)return zJ(g,h,i)}return zJ(f,h,i)}}).filter(vu);return(await Promise.all(o)).filter(vu)}updateSelection(e){const i=new Map;for(const[s,o]of this._selectionMap)i.set(s,[...o.selection]);let r=!1;const n=e.current.concat(e.added);for(const s of n){const o=s.sourceLayer,a=s.getObjectId();if(this.sources.includes(o)&&(Lf(o)||mm(o))&&a!==null){const l=Vv(i,o,()=>[]);l.includes(a)||(l.push(a),r=!0)}}for(const s of e.removed){const o=s.sourceLayer,a=s.getObjectId();if(this.sources.includes(o)&&(Lf(o)||mm(o))&&a!==null){const l=i.get(o),h=l?.indexOf(a);h!==void 0&&h>=0&&(l?.splice(h,1),r=!0)}}if(r){const{_selectionMap:s,_trashCan:o}=this,a=[];for(const[l,h]of i){const f=s.get(l);f!==void 0&&o.push(f),s.set(l,{selection:h}),a.push({layer:l,selection:h,...WG(f!==void 0?f.selection:[],h)})}this._onSelectionChange(a)}}setSelection(e,i){this._setSelection(e,i)}getSelection(e){return this._selectionMap.get(e)?.selection}appendToSelection(e,i){const r=this._selectionMap.get(e),n=r!==void 0?[...r.selection]:[];for(const s of i)n.includes(s)||n.push(s);this._setSelection(e,n)}removeFromSelection(e,i){const r=this._selectionMap.get(e);if(!r)return;const n=[];for(const s of r.selection)i.includes(s)||n.push(s);this._setSelection(e,n)}toggleInSelection(e,i){const r=this._selectionMap.get(e);if(!r||r.selection.length===0)return void this._setSelection(e,i);const n=new Set(r.selection),s=new Set(i),o=Bbe(n,s);this._setSelection(e,Array.from(o))}clear(){const e=this._selectionMap.values();this._trashCan.push(...e);const i=[];for(const[r,n]of this._selectionMap.entries())i.push({layer:r,added:[],removed:[...n.selection],selection:[]});this._selectionMap.clear(),this._onSelectionChange(i)}_onSelectionChange(e){this._refreshVisualization(),this.emit("selection-change",{view:this.view,changes:e})}_refreshVisualization(){for(this._vizTaskId++;this._trashCan.length>0;)this._trashCan.pop()?.highlightHandle?.remove();if(this.view==null)return;const{sources:e,view:i,_selectionMap:r,showHighlight:n}=this,s=this._vizTaskId;for(const o of e){const a=r.get(o),l=mm(o)?o.parent:o;if(l!=null&&LJ(l)){if(RJ(l))continue;i.whenLayerView(l).then(h=>{a?.highlightHandle?.remove(),a!=null&&n&&s===this._vizTaskId&&"highlight"in h&&typeof h.highlight=="function"&&a.selection.length>0&&(a.highlightHandle=h.highlight(a.selection,this.highlightName))}).catch(()=>{a?.highlightHandle?.remove()})}}}_refreshListeners(){this._layerEditHandles.drain(rr);const e=new Set(this.sources.map(i=>mm(i)?i.parent:i));for(const i of e)Lf(i)&&"on"in i&&i.on&&this._layerEditHandles.push(i.on("edits",r=>this._onLayerEdit(r,i)))}_onLayerEdit(e,i){if(rJ(i))this._onParentLayerEdit(e,i);else if(e.deletedFeatures.length&&this._selectionMap.has(i)){const r=[];e.deletedFeatures.forEach(({error:n,objectId:s})=>{s!=null&&n==null&&r.push(s)}),this.removeFromSelection(i,r)}}_onParentLayerEdit(e,i){const{deletedFeatures:r,edits:n,updatedFeatures:s}=e;if(n?.updateFeatures?.forEach(o=>{const a=o.getObjectId()??o.attributes[i.objectIdField];if(a==null||s.find(f=>f.objectId===a)?.error)return;const l=i.findSublayerForFeature(o);if(!Lf(l))return;const h=i.sublayers.find(f=>!(!Lf(f)||!this.getSelection(f)?.includes(a)));Lf(h)&&h!==l&&(this.removeFromSelection(h,[a]),this.appendToSelection(l,[a]))}),r.length){const o=[];r.forEach(({error:a,objectId:l})=>{l!=null&&a==null&&o.push(l)}),i.sublayers.forEach(a=>{Lf(a)&&this._selectionMap.has(a)&&this.removeFromSelection(a,o)})}}_setSelection(e,i){if(!this.sources.includes(e))throw new Error(`Cannot set selection on layer ${e.title} because it is not in 'sources'`);const r=this._selectionMap.get(e);if(r===void 0||!oRe(r,{selection:i})){r!==void 0&&this._trashCan.push(r),this._selectionMap.set(e,{selection:[...i]});const n={layer:e,selection:[...i],...WG(r!==void 0?r.selection:[],i)};this._onSelectionChange([n])}}};u([p()],Ul.prototype,"_selectionMap",void 0),u([p()],Ul.prototype,"_sources",void 0),u([p({readOnly:!0,nonNullable:!0})],Ul.prototype,"selections",null),u([p({readOnly:!0,nonNullable:!0})],Ul.prototype,"count",null),u([p()],Ul.prototype,"view",void 0),u([p({readOnly:!0,nonNullable:!0})],Ul.prototype,"hasSelection",null),u([p()],Ul.prototype,"showHighlight",void 0),u([p()],Ul.prototype,"sources",null),u([p()],Ul.prototype,"highlightName",void 0),Ul=u([j("esri.views.SelectionManager")],Ul);const RJ=t=>mm(t)?t.parent?.isTable===!0:t.isTable,sRe=t=>t.layer!==void 0,LJ=t=>t?.when!==void 0,oRe=(t,e)=>{if(t==null&&e==null)return!0;if(t!=null&&e==null||t==null&&e!=null)return!1;if(t!=null&&e!=null&&t.selection!=null&&e.selection!=null){const i=[...t.selection],r=[...e.selection];if(i.length!==r.length)return!1;i.sort(),r.sort();for(let n=0;n<i.length;n++)if(i[n]!==r[n])return!1}return!0},zJ=async(t,e,i={})=>{let r;if(sRe(t)){const n=t;r=n===void 0?null:await n.queryFeatures(new ot({...i,objectIds:e})).then(s=>({data:s,layer:t.layer}))}else{const n=t;r=n===void 0?null:await n.queryFeatures(new ot({...i,objectIds:e})).then(s=>({data:s,layer:n}))}return r},aRe=Ul;let US=class extends dt(at){constructor(e){super(e),this.accentColor=new xt([255,127,0]),this.textColor=new xt([255,255,255])}};u([p({type:xt,nonNullable:!0})],US.prototype,"accentColor",void 0),u([p({type:xt,nonNullable:!0})],US.prototype,"textColor",void 0),US=u([j("esri.views.Theme")],US);const X4=US,Que=["click","double-click","immediate-click","immediate-double-click","hold","drag","key-down","key-up","pointer-down","pointer-move","pointer-up","pointer-drag","mouse-wheel","pointer-enter","pointer-leave","gamepad","focus","blur"],ede={};function tde(t){return!!ede[t]}function lRe(t){for(const e of t)if(!tde(e))return!1;return!0}Que.forEach(t=>{ede[t]=!0});let ide=class{constructor(e){this._handlers=new Map,this._counter=0,this._handlerCounts=new Map,this.view=e,this.inputManager=null}connect(e){e&&this.disconnect(),this.inputManager=e,this._handlers.forEach(({handler:i,priority:r},n)=>this.inputManager?.installHandlers(n,[i],r))}disconnect(){this.inputManager&&this._handlers.forEach((e,i)=>this.inputManager?.uninstallHandlers(i)),this.inputManager=null}destroy(){this.disconnect(),this._handlers.clear(),this.view=null}on(e,i,r,n){const s=Array.isArray(e)?e:e.split(",");if(!lRe(s))return s.some(tde)&&console.error("Error: registering input events and other events on the view at the same time is not supported."),null;let o,a;Array.isArray(i)?a=i:(o=i,a=[]),typeof r=="function"?o=r:n=r,n=n??Ep.DEFAULT;const l=this._createUniqueGroupName(),h=new cRe(this.view,s,a,o);this._handlers.set(l,{handler:h,priority:n});for(const f of s){const g=this._handlerCounts.get(f)||0;this._handlerCounts.set(f,g+1)}return this.inputManager&&this.inputManager.installHandlers(l,[h],n),oi(()=>this._removeHandler(l,s))}hasHandler(e){return!!this._handlerCounts.get(e)}_removeHandler(e,i){if(this._handlers.has(e)){this._handlers.delete(e);for(const r of i){const n=this._handlerCounts.get(r);n===void 0||(n===1?this._handlerCounts.delete(r):this._handlerCounts.set(r,n-1))}}this.inputManager&&this.inputManager.uninstallHandlers(e)}_createUniqueGroupName(){return this._counter+=1,`viewEvents_${this._counter}`}},cRe=class extends Bn{constructor(e,i,r,n){super(!0),this._latestDragStart=void 0,this.view=e;for(const s of i)switch(s){case"click":this.registerIncoming("click",r,o=>n(hRe(e,o)));break;case"double-click":this.registerIncoming("double-click",r,o=>n(pRe(e,o)));break;case"immediate-click":this.registerIncoming("immediate-click",r,o=>n(fRe(e,o)));break;case"immediate-double-click":this.registerIncoming("immediate-double-click",r,o=>n(mRe(e,o)));break;case"hold":this.registerIncoming("hold",r,o=>n(gRe(e,o)));break;case"drag":this.registerIncoming("drag",r,o=>{const a=this._wrapDrag(o);a&&n(a)});break;case"key-down":this.registerIncoming("key-down",r,o=>n(yRe(o)));break;case"key-up":this.registerIncoming("key-up",r,o=>n(vRe(o)));break;case"pointer-down":this.registerIncoming("pointer-down",r,o=>n(rS(o,"pointer-down")));break;case"pointer-move":this.registerIncoming("pointer-move",r,o=>n(rS(o,"pointer-move")));break;case"pointer-up":this.registerIncoming("pointer-up",r,o=>n(rS(o,"pointer-up")));break;case"pointer-drag":this.registerIncoming("pointer-drag",r,o=>n(bRe(o)));break;case"mouse-wheel":this.registerIncoming("mouse-wheel",r,o=>n(wRe(o)));break;case"pointer-enter":this.registerIncoming("pointer-enter",r,o=>n(rS(o,"pointer-enter")));break;case"pointer-leave":this.registerIncoming("pointer-leave",r,o=>n(rS(o,"pointer-leave")));break;case"gamepad":this.registerIncoming("gamepad",r,o=>{n(_Re(o))});break;case"focus":this.registerIncoming("focus",r,o=>{n(uRe(o))});break;case"blur":this.registerIncoming("blur",r,o=>{n(dRe(o))})}}_wrapDrag(e){const i=e.data,{x:r,y:n}=i.center,{action:s,pointerType:o,button:a}=i;if(s==="start"&&(this._latestDragStart=i),!this._latestDragStart)return;const l=i.pointer.native,h=i.buttons,{cancelable:f,timestamp:g}=e,v={x:this._latestDragStart.center.x,y:this._latestDragStart.center.y};return s==="end"&&(this._latestDragStart=void 0),{type:"drag",action:s,x:r,y:n,origin:v,pointerType:o,button:a,buttons:h,radius:i.radius,angle:$ae(i.angle),native:l,timestamp:g,cancelable:f,stopPropagation:()=>e.stopPropagation(),defer:w=>e.defer(w),preventDefault:()=>e.preventDefault()}}};function uRe(t){return{type:"focus",timestamp:t.timestamp,native:t.data.native,cancelable:t.cancelable,stopPropagation:()=>t.stopPropagation(),defer:e=>t.defer(e),preventDefault:()=>t.preventDefault()}}function dRe(t){return{type:"blur",timestamp:t.timestamp,native:t.data.native,cancelable:t.cancelable,stopPropagation:()=>t.stopPropagation(),defer:e=>t.defer(e),preventDefault:()=>t.preventDefault()}}function hRe(t,e){const{pointerType:i,button:r,buttons:n,x:s,y:o,native:a,eventId:l}=e.data,{cancelable:h,timestamp:f}=e;return{type:"click",pointerType:i,button:r,buttons:n,x:s,y:o,native:a,timestamp:f,screenPoint:Fn(s,o),mapPoint:ck(t,s,o),eventId:l,cancelable:h,stopPropagation:()=>e.stopPropagation(),defer:g=>e.defer(g),preventDefault:()=>e.preventDefault()}}function pRe(t,e){const{pointerType:i,button:r,buttons:n,x:s,y:o,native:a,eventId:l}=e.data,{cancelable:h,timestamp:f}=e;return{type:"double-click",pointerType:i,button:r,buttons:n,x:s,y:o,native:a,timestamp:f,mapPoint:ck(t,s,o),eventId:l,cancelable:h,stopPropagation:()=>e.stopPropagation(),defer:g=>e.defer(g),preventDefault:()=>e.preventDefault()}}function fRe(t,e){const{pointerType:i,button:r,buttons:n,x:s,y:o,native:a,eventId:l}=e.data,h=a.pointerId,{cancelable:f,timestamp:g}=e;return{type:"immediate-click",pointerId:h,pointerType:i,button:r,buttons:n,x:s,y:o,native:a,timestamp:g,mapPoint:ck(t,s,o),eventId:l,cancelable:f,stopPropagation:()=>e.stopPropagation(),defer:v=>e.defer(v),preventDefault:()=>e.preventDefault()}}function mRe(t,e){const{pointerType:i,button:r,buttons:n,x:s,y:o,native:a,eventId:l}=e.data,h=a.pointerId,{cancelable:f,timestamp:g}=e;return{type:"immediate-double-click",pointerId:h,pointerType:i,button:r,buttons:n,x:s,y:o,native:a,timestamp:g,mapPoint:ck(t,s,o),eventId:l,cancelable:f,stopPropagation:()=>e.stopPropagation(),defer:v=>e.defer(v),preventDefault:()=>e.preventDefault()}}function gRe(t,e){const{pointerType:i,button:r,buttons:n,x:s,y:o,native:a}=e.data,{cancelable:l,timestamp:h}=e;return{type:"hold",pointerType:i,button:r,buttons:n,x:s,y:o,native:a,timestamp:h,mapPoint:ck(t,s,o),cancelable:l,stopPropagation:()=>e.stopPropagation(),defer:f=>e.defer(f),preventDefault:()=>e.preventDefault()}}function ck(t,e,i){return t.toMap(Fn(e,i),{exclude:[]})}function yRe(t){const{key:e,repeat:i,native:r}=t.data,{cancelable:n,timestamp:s}=t;return{type:"key-down",key:e,repeat:i,native:r,timestamp:s,cancelable:n,stopPropagation:()=>t.stopPropagation(),defer:o=>t.defer(o),preventDefault:()=>t.preventDefault()}}function vRe(t){const{key:e,native:i}=t.data,{cancelable:r,timestamp:n}=t;return{type:"key-up",key:e,native:i,timestamp:n,cancelable:r,stopPropagation:()=>t.stopPropagation(),defer:s=>t.defer(s),preventDefault:()=>t.preventDefault()}}function rS(t,e){const{x:i,y:r,button:n,buttons:s,native:o,eventId:a}=t.data,l=o.pointerId,h=o.pointerType,{cancelable:f,timestamp:g}=t;return{type:e,x:i,y:r,pointerId:l,pointerType:h,button:n,buttons:s,native:o,timestamp:g,eventId:a,cancelable:f,stopPropagation:()=>t.stopPropagation(),defer:v=>t.defer(v),preventDefault:()=>t.preventDefault()}}function bRe(t){const{x:e,y:i,buttons:r,native:n,eventId:s}=t.data.currentEvent,{button:o}=t.data.startEvent,a=t.data.startEvent.native.pointerId,l=t.data.startEvent.native.pointerType,h=t.data.action,f={x:t.data.startEvent.x,y:t.data.startEvent.y},{cancelable:g,timestamp:v}=t;return{type:"pointer-drag",x:e,y:i,pointerId:a,pointerType:l,button:o,buttons:r,action:h,origin:f,native:n,timestamp:v,eventId:s,cancelable:g,stopPropagation:()=>t.stopPropagation(),defer:w=>t.defer(w),preventDefault:()=>t.preventDefault()}}function wRe(t){const{cancelable:e,data:i,timestamp:r}=t,{x:n,y:s,deltaY:o,native:a}=i;return{type:"mouse-wheel",x:n,y:s,deltaY:o,native:a,timestamp:r,cancelable:e,stopPropagation:()=>t.stopPropagation(),defer:l=>t.defer(l),preventDefault:()=>t.preventDefault()}}function _Re(t){const{action:e,state:i,device:r}=t.data,{cancelable:n,timestamp:s}=t,{buttons:o,axes:a}=i;return{type:"gamepad",device:r,timestamp:s,action:e,buttons:o,axes:a,cancelable:n,stopPropagation:()=>t.stopPropagation(),defer:l=>t.defer(l),preventDefault:()=>t.preventDefault()}}const xRe="z",SRe="r",rde={cancel:"Escape",complete:"Enter"},Aat={...rde,redo:SRe,undo:xRe,center:"Alt",constraint:"Shift",delete:["Backspace","Delete"],vertexAdd:"f",pan:" "},Oat={toggle:"Control"},Pat={enterInputMode:"Tab",commit:"Enter",discard:"Escape",next:"Tab"},Dat={moveUp:{key:"ArrowUp",modifier:"Shift",repeats:!0},moveDown:{key:"ArrowDown",modifier:"Shift",repeats:!0},moveLeft:{key:"ArrowLeft",modifier:"Shift",repeats:!0},moveRight:{key:"ArrowRight",modifier:"Shift",repeats:!0},scaleUp:{key:"+",modifier:"Shift"},scaleDown:{key:"-",modifier:"Shift"},factorModifier:{key:Jle,continuePropagation:!0},toggleOpacity:"t",preserveAspectRatio:{key:"Shift",continuePropagation:!0},rotateIncrements:{key:"Shift",continuePropagation:!0}};let Rat=class{constructor(){this._bindings=new Map}add(e,i){return this.addToggle(e,r=>{r.type==="key-down"&&i(r)})}addToggle(e,i){const r=TRe.fromDefinition(e,i),n=Vv(this._bindings,r.key,()=>[]);return n.push(r),oi(()=>KV(n,r))}register(e,i=Ep.WIDGET){return Fv([e.on("key-down",r=>this.dispatch(e.inputManager,r),i),e.on("key-up",r=>this.dispatch(e.inputManager,r),i)])}dispatch(e,i){const r=i.key,n=this._bindings.get(r);if(n)for(const s of n)s.process(e,i)}},TRe=class K4{constructor(e,i,r,n,s){this.key=e,this.modifiers=i,this.repeats=r,this.continuePropagation=n,this.callback=s}process(e,i){if(!(i.key!==this.key||"repeat"in i&&i.repeat&&!this.repeats)){for(const r of this.modifiers)if(!e.isModifierKeyDown(r))return;this.continuePropagation||i.stopPropagation(),this.callback(i)}}static fromDefinition(e,i){if(typeof e=="string")return new K4(e,[],!1,!1,i);const{key:r,modifier:n,repeats:s,continuePropagation:o}=e;return new K4(r,n?Array.isArray(n)?n:[n]:[],!!s,!!o,i)}};function $Re(t){return[t.on("before-add",e=>{const i=e.item;if(i==null||t.includes(i))return Ee.getLogger("esri.views.interactive.interactiveToolUtils").warn("Tool is either already in the list of tools or tool is `null`. Not adding tool."),void e.preventDefault();i.onAdd()}),t.on("after-remove",e=>{const i=e.item;i.active&&(i.view.activeTool=null),i.destroy()})]}function Q4(t){return t.visible&&t.getEditableFlag!=null&&t.getEditableFlag(0)&&t.getEditableFlag(1)}function kRe(t){return t.type==="key-down"&&t.key===rde.cancel}function Ku(t){return Fn(t.x,t.y)}function nde(t,e){const i=(t instanceof HTMLElement?t:t.surface)?.getBoundingClientRect();return i?Fn(e.clientX-i.left,e.clientY-i.top):Fn(0,0)}function sde(t,e){return e instanceof Event?nde(t,e):Ku(e)}function ode(t){if(t instanceof Event)return!0;if(typeof t=="object"&&"type"in t)switch(t.type){case"click":case"double-click":case"pointer-down":case"pointer-drag":case"pointer-enter":case"pointer-leave":case"pointer-up":case"pointer-move":case"immediate-click":case"immediate-double-click":case"hold":case"drag":case"mouse-wheel":return!0;default:return!1}return!1}let $M=class extends at{constructor(){super(...arguments),this._pointerLocations=new Map,this._hoveredManipulators=new e_,this._grabbedManipulators=new e_,this._draggedManipulators=new Map,this._stopDrag=!1,this._externallyDragging=!1,this._revertToNullActiveTool=!1}get cursor(){return this._cursorFromMap(this._grabbedManipulators,"grabbing")??this._cursorFromMap(this._hoveredManipulators,"pointer")}get hasFocusedManipulators(){return this._grabbedManipulators.size>0||this._draggedManipulators.size>0}handleInputEvent(e,i){const r=()=>e.stopPropagation();switch(e.type){case"pointer-move":NJ(e.pointerType)&&this._pointerLocations.set(e.pointerId,{x:e.x,y:e.y,pointerType:e.pointerType});break;case"drag":this._grabbedManipulators.size>0?this._stopDrag=!0:e.action==="start"?this._externallyDragging=!0:e.action==="end"&&(this._externallyDragging=!1),this._stopDrag&&(r(),e.action==="end"&&(this._stopDrag=!1));break;case"pointer-down":{if(!jJ(e))break;const n=Ku(e),s=Jb(n,e.pointerType,i.tools);if(s==null)break;const o=s.manipulator,a=s.tool;o==null||a==null||!o.interactive||o.grabbable&&o.grabbableForEvent(e)||!o.grabbing||o.dragging||this._releaseManipulatorBeforeDragging(o,e,i),o!=null&&a!=null&&o.interactive&&o.grabbable&&o.grabbableForEvent(e)&&!o.grabbing&&(this._grabbedManipulators.set(e.pointerId,{manipulator:o,tool:a,start:n,pointerType:e.pointerType}),this._grabbedManipulators.size===1&&i.activeTool==null&&(this._revertToNullActiveTool=!0,i.setActiveTool(s.tool)),o.grabbing=!0,o.events.emit("grab-changed",{action:"start",pointerType:e.pointerType,screenPoint:n}),r());break}case"pointer-up":this._draggedManipulators.has(e.pointerId)||this._handlePointerEnd(e,i);break;case"pointer-drag":{if(!jJ(e))break;const n=this._grabbedManipulators.get(e.pointerId),s=n?.manipulator,o=n?.tool;if(s==null||o==null)break;const a=Ku(e);a.x=vl(a.x,0,i.view.width),a.y=vl(a.y,0,i.view.height);const l=n.start,h=this._draggedManipulators.get(e.pointerId);switch(e.action){case"start":case"update":e.action!=="update"&&this._grabbedManipulators.size!==1||(s.dragging=!0,h?s.events.emit("drag",{action:"update",start:l,screenPoint:a}):s.events.emit("drag",{action:"start",start:l,screenPoint:a,pointerType:e.pointerType}),this._draggedManipulators.set(e.pointerId,{tool:o,manipulator:s,start:l}));break;case"end":s.dragging=!1,h&&s.events.emit("drag",{action:"end",start:l,screenPoint:a}),this._draggedManipulators.delete(e.pointerId),this._handlePointerEnd(e,i)}r();break}case"immediate-click":{const n=Ku(e),s=Jb(n,e.pointerType,i.tools);if(!ERe(e)){for(const h of i.tools)if((s==null||s.tool!==h||h.automaticManipulatorSelection)&&h.manipulators){let f=!1;h.manipulators.forEach(({manipulator:g})=>{g.selected&&(g.selected=!1,f=!0)}),f&&h.onManipulatorSelectionChanged&&h.onManipulatorSelectionChanged()}}if(s==null)break;const{manipulator:o,tool:a}=s;if(!o.interactive)break;o.selectable&&a.automaticManipulatorSelection&&(o.selected=!o.selected,a.onManipulatorSelectionChanged&&a.onManipulatorSelectionChanged());const l=e.native.shiftKey;o.events.emit("immediate-click",{screenPoint:n,button:e.button,pointerType:e.pointerType,shiftKey:l,stopPropagation:r}),uz(o,r);break}case"click":{const n=Ku(e),s=Jb(n,e.pointerType,i.tools),o=s?.manipulator;if(o==null||!o.interactive)break;const a=e.native.shiftKey;o.events.emit(e.type,{screenPoint:n,button:e.button,pointerType:e.pointerType,shiftKey:a}),r();break}case"double-click":{const n=Ku(e),s=Jb(n,e.pointerType,i.tools),o=s!=null?s.manipulator:null;if(o==null||!o.interactive)break;const a=e.native.shiftKey;o.events.emit("double-click",{screenPoint:n,button:e.button,pointerType:e.pointerType,shiftKey:a,stopPropagation:r}),uz(o,r);break}case"immediate-double-click":{const n=Ku(e),s=Jb(n,e.pointerType,i.tools),o=s!=null?s.manipulator:null;if(o==null||!o.interactive)break;const a=e.native.shiftKey;o.events.emit("immediate-double-click",{screenPoint:n,button:e.button,pointerType:e.pointerType,shiftKey:a,stopPropagation:r}),e.pointerType==="mouse"&&uz(o,r);break}}this._onFocusChange(i.tools)}_releaseManipulatorBeforeDragging(e,i,r){e.grabbing=!1,e.events.emit("grab-changed",{action:"end",pointerType:i.pointerType,screenPoint:Ku(i)}),this._grabbedManipulators.forEach(({manipulator:n},s)=>{n===e&&this._grabbedManipulators.delete(s)}),this._afterManipulatorRelease(r.setActiveTool)}_handlePointerEnd(e,i){const r=this._grabbedManipulators.get(e.pointerId)?.manipulator;r!=null&&r.grabbing&&(r.grabbing=!1,r.events.emit("grab-changed",{action:"end",pointerType:e.pointerType,screenPoint:Ku(e)}),this._grabbedManipulators.delete(e.pointerId),this._afterManipulatorRelease(i.setActiveTool))}_onFocusChange(e){this._updateFocusedManipulatorTools(e)}_updateFocusedManipulatorTools(e){const i=new Set,r=new Set;this._grabbedManipulators.forEach(({tool:n})=>i.add(n)),this._hoveredManipulators.forEach(({tool:n})=>r.add(n));for(const n of e){n.hasGrabbedManipulators=i.has(n),n.hasHoveredManipulators=r.has(n);const s=this._grabbedManipulators.values(),o=Mve(s,({tool:a})=>a===n);n.firstGrabbedManipulator=o!=null?o.manipulator:null}}clearPointers(e,{tools:i,setActiveTool:r},n=!0,s){const o=(a,l)=>a===e&&(s==null||s===l);this._grabbedManipulators.forEach(({tool:a,manipulator:l,pointerType:h},f)=>{o(a,l)&&(this._grabbedManipulators.delete(f),l.grabbing=!1,l.events.emit("grab-changed",{action:"end",screenPoint:null,pointerType:h}))}),this._draggedManipulators.forEach(({tool:a,manipulator:l},h)=>{o(a,l)&&(this._draggedManipulators.delete(h),l.dragging=!1,l.events.emit("drag",{action:"cancel"}))}),n&&this._hoveredManipulators.forEach(({tool:a,manipulator:l},h)=>{o(a,l)&&(this._hoveredManipulators.delete(h),l.hovering=!1)}),this._afterManipulatorRelease(r),this._onFocusChange(i)}updateHoveredStateFromKnownPointers(e){this._pointerLocations.forEach((i,r)=>{this._updateHoveredStateForPointerAtScreenPosition(Fn(i.x,i.y),r,i.pointerType,e)})}handleHoverEvent(e,i){const r=e.type;r!=="pointer-up"&&r!=="immediate-click"&&r!=="pointer-move"||!NJ(e.pointerType)||(r!=="pointer-up"&&this._externallyDragging?this._clearHoveredManipulatorStates(e.pointerId):this._updateHoveredStateForPointerAtScreenPosition(Ku(e),e.pointerId,e.pointerType,i))}_updateHoveredStateForPointerAtScreenPosition(e,i,r,n){let s=Jb(e,r,n);const o=this._hoveredManipulators.get(i)?.manipulator;s==null||s.manipulator.interactive||(s=null),s!=null&&o===s.manipulator||(o!=null&&(o.hovering=!1),s!=null?(s.manipulator.hovering=!0,this._hoveredManipulators.set(i,s)):this._hoveredManipulators.delete(i),this._onFocusChange(n))}_afterManipulatorRelease(e){this._grabbedManipulators.size===0&&this._revertToNullActiveTool&&(e(null),this._revertToNullActiveTool=!1)}_clearHoveredManipulatorStates(e){this._hoveredManipulators.forEach(({manipulator:i},r)=>{e===r&&(this._hoveredManipulators.delete(e),i.hovering=!1)})}_cursorFromMap(e,i){if(!e?.size)return null;for(const{manipulator:r}of e.values())if(r?.interactive){if(r.grabbing&&r.grabCursor)return r.grabCursor;if(r.cursor)return r.cursor}return i}};function Jb(t,e,i){for(const r of i){if(r.manipulators==null||!Q4(r))continue;const n=r.manipulators.intersect(t,e);if(n!=null)return{tool:r,manipulator:n}}return null}function NJ(t){return t==="mouse"}function jJ(t){return t.pointerType!=="mouse"||t.button===0}function ERe(t){return!!t.native.shiftKey}function uz(t,e){t?.consumesClicks&&e()}u([p()],$M.prototype,"cursor",null),$M=u([j("esri.views.interactive.ToolViewManagerManipulatorState")],$M);const FJ="attached",dz="tools",IRe=1e3;let Qu=class extends at{constructor(e){super(e),this._updatingHandles=new ev,this._clock=w1,this._manipulatorState=new $M,this.tools=new We,this._interacting=!1,this._interactingTimeout=IRe,this._interactingTimeoutHandle=null}initialize(){this.addHandles([this.view.on(Que,e=>{this._handleInputEvent(e)},Ep.TOOL),...$Re(this.tools),this.tools.on("before-add",({item:e})=>{this._updateToolEditableFlag(e)}),this.tools.on("before-remove",({item:e})=>{this._manipulatorState.clearPointers(e,this._manipulatorStateEventArgs)}),this.tools.on("change",()=>{this._refreshToolWatchers()})])}destroy(){this.activeTool=null,this.tools.drain(e=>e.destroy()),this._clearInteractingTimeout(),this._interacting=!1,this._updatingHandles.destroy(),this._manipulatorState.destroy()}get _manipulatorStateEventArgs(){return{tools:this.tools,activeTool:this.activeTool,setActiveTool:e=>{this.activeTool=e},view:this.view}}set activeTool(e){if(e!=null&&!this.view.ready)return void Ee.getLogger(this).error("Cannot set active tool while view is not ready.");if(e===this.activeTool)return;const i=this.activeTool;this._set("activeTool",e),i?.deactivate(),e?.activate(),this._removeIncompleteTools(e);for(const r of this.tools){this._updateToolEditableFlag(r);const n=Q4(r);this.activeTool!=null&&n||this._manipulatorState.clearPointers(r,this._manipulatorStateEventArgs,!n)}}get cursor(){const e=this._manipulatorState.cursor;if(e!=null)return e;for(const i of this.tools)if(i.visible&&i.cursor!=null)return i.cursor;return null}get updating(){return this._updatingHandles.updating||this.tools.some(e=>e.updating)}get interacting(){return this._interacting}_clearInteractingTimeout(){this._interactingTimeoutHandle=rr(this._interactingTimeoutHandle)}_startInteractingTimeout(){this._clearInteractingTimeout(),this._interactingTimeoutHandle=this._clock.setTimeout(()=>this._interacting=!1,this._interactingTimeout)}attach(){this.view.type==="3d"?this.addHandles([ft(()=>{const{state:e}=this.view;return"camera"in e&&e.camera},()=>this._forEachManipulator(e=>e.onViewChange())),this.view.elevationProvider.on("elevation-change",e=>this._forEachManipulator(i=>i.onElevationChange(e)))],FJ):this.addHandles(ft(()=>this.view.extent,()=>this._forEachManipulator(e=>e.onViewChange())))}detach(){this.activeTool=null,this.tools.removeAll(),this.removeHandles(FJ),this._clearInteractingTimeout(),this._interacting=!1}_forEachManipulator(e){for(const i of this.tools)i.manipulators&&i.manipulators.forEach(({manipulator:r})=>e(r,i))}_handleInputEvent(e){let i=!1;const r={...e,stopPropagation:()=>{i=!0,e.stopPropagation()}};if(this.activeTool!=null)this.activeTool.handleInputEvent&&this.activeTool.handleInputEvent(r);else for(const n of this.tools)!i&&n.visible&&n.handleInputEvent(r);!i&&kRe(e)&&this.activeTool&&(e.stopPropagation(),e.preventDefault(),this.activeTool.cancel(),this.activeTool=null),this._manipulatorState.handleInputEvent(r,this._manipulatorStateEventArgs),i||this.activeTool==null||this.activeTool.handleInputEventAfter(r),this._manipulatorState.handleHoverEvent(r,this.tools),e.type==="pointer-move"&&(this._manipulatorState.hasFocusedManipulators||this.activeTool)&&(this._interacting=!0,this._startInteractingTimeout())}_refreshToolWatchers(){this.removeHandles(dz);for(const e of this.tools){if(e instanceof at){const i=ft(()=>[e.cursor,e.visible,e.editable],()=>{Q4(e)||this._manipulatorState.clearPointers(e,this._manipulatorStateEventArgs)});this.addHandles(i,dz)}e.manipulators&&this.addHandles([e.manipulators.on("after-remove",i=>{this._manipulatorState.clearPointers(e,this._manipulatorStateEventArgs,!0,i.item.manipulator)}),e.manipulators.on("change",()=>{this._manipulatorState.updateHoveredStateFromKnownPointers(this.tools)})],dz)}this._manipulatorState.updateHoveredStateFromKnownPointers(this.tools)}_updateToolEditableFlag(e){e.setEditableFlag?.(1,this.activeTool==null||e===this.activeTool)}_removeIncompleteTools(e){this.tools.filter(i=>(e==null||i!==e)&&!i.created&&i.removeIncompleteOnCancel).forEach(i=>{this.tools.remove(i)})}get test(){}};u([p({constructOnly:!0,nonNullable:!0})],Qu.prototype,"view",void 0),u([p({value:null})],Qu.prototype,"activeTool",null),u([p({readOnly:!0,type:We})],Qu.prototype,"tools",void 0),u([p()],Qu.prototype,"cursor",null),u([p({readOnly:!0})],Qu.prototype,"updating",null),u([p()],Qu.prototype,"_interacting",void 0),u([p({readOnly:!0})],Qu.prototype,"interacting",null),Qu=u([j("esri.views.ToolViewManager")],Qu);const CRe=new xt("cyan"),MRe=1,ARe=.25,ORe=new xt("black"),PRe=.4,DRe=.2,jat=.25,ade="default",RRe="temporary",LRe=new xt("yellow");var e6;let qa=e6=class extends at{constructor(t){super(t),this.name=ade,this.color=CRe.clone(),this.haloColor=null,this.haloOpacity=MRe,this.fillOpacity=ARe,this.shadowColor=ORe.clone(),this.shadowOpacity=PRe,this.shadowDifference=DRe,this.haloWidth=2.1,this.haloBlur=.8/this.haloWidth}equals(t){return this.color.equals(t.color)&&(this.haloColor||this.color).equals(t.haloColor||t.color)&&this.haloOpacity===t.haloOpacity&&this.fillOpacity===t.fillOpacity&&this.haloWidth===t.haloWidth&&this.haloBlur===t.haloBlur&&this.shadowColor.equals(t.shadowColor)&&this.shadowOpacity===t.shadowOpacity&&this.shadowDifference===t.shadowDifference}clone(){return new e6({...this,color:this.color.clone(),haloColor:this.haloColor?.clone(),shadowColor:this.shadowColor?.clone()})}assignFrom(t){this.color=t.color.clone(),this.haloColor=t.haloColor?.clone(),this.haloOpacity=t.haloOpacity,this.fillOpacity=t.fillOpacity,this.shadowColor=t.shadowColor.clone(),this.shadowDifference=t.shadowDifference,this.shadowOpacity=t.shadowOpacity,this.haloBlur=t.haloBlur,this.haloWidth=t.haloWidth}};u([p({type:String,constructOnly:!0,nonNullable:!0})],qa.prototype,"name",void 0),u([p({type:xt,nonNullable:!0})],qa.prototype,"color",void 0),u([p({type:xt})],qa.prototype,"haloColor",void 0),u([p({nonNullable:!0})],qa.prototype,"haloOpacity",void 0),u([p({nonNullable:!0})],qa.prototype,"fillOpacity",void 0),u([p({type:xt,nonNullable:!0})],qa.prototype,"shadowColor",void 0),u([p({nonNullable:!0})],qa.prototype,"shadowOpacity",void 0),u([p({nonNullable:!0})],qa.prototype,"shadowDifference",void 0),u([p({nonNullable:!0})],qa.prototype,"haloWidth",void 0),u([p({nonNullable:!0})],qa.prototype,"haloBlur",void 0),qa=e6=u([j("esri.views.support.HighlightOptions")],qa);const Lm=qa;function zRe(){return new(We.ofType(Lm))([new Lm({name:ade}),new Lm({name:RRe,color:LRe})])}let A0=class extends at{constructor(e){super(),this.nativeIndex=null,this._detectedDeviceType="unknown",e.mapping==="standard"?this._detectedDeviceType="standard":NRe.test(e.id)?this._detectedDeviceType="spacemouse":this._detectedDeviceType="unknown",this.nativeIndex=e.index}get native(){const e=navigator.getGamepads?navigator.getGamepads():[];return this.nativeIndex!=null&&this.nativeIndex<e.length?e[this.nativeIndex]:null}get deviceType(){return this._detectedDeviceType}get axisThreshold(){return jRe[this.deviceType]}};u([p({nonNullable:!0,readOnly:!0})],A0.prototype,"nativeIndex",void 0),u([p({type:String,readOnly:!0})],A0.prototype,"deviceType",null),u([p({type:Number,readOnly:!0})],A0.prototype,"axisThreshold",null),A0=u([j("esri.views.input.gamepad.GamepadInputDevice")],A0);const lB=A0,NRe=new RegExp("^(3dconnexion|space(mouse|navigator|pilot|explorer))","i"),jRe={standard:.15,spacemouse:.025,unknown:0};let BS=class extends at{constructor(e){super(e),this.devices=new We,this.enabledFocusMode="document"}};u([p({type:We.ofType(lB),readOnly:!0})],BS.prototype,"devices",void 0),u([p({type:["document","view","none"]})],BS.prototype,"enabledFocusMode",void 0),BS=u([j("esri.views.input.gamepad.GamepadSettings")],BS);const FRe=BS;let kM=class extends at{constructor(){super(...arguments),this.gamepad=new FRe}};u([p({readOnly:!0})],kM.prototype,"gamepad",void 0),kM=u([j("esri.views.input.Input")],kM);const VRe=kM,hz=()=>p({type:["pan","rotate","zoom","none"],nonNullable:!0});let py=class extends at{constructor(e){super(e),this.dragPrimary="pan",this.dragSecondary="rotate",this.dragTertiary="zoom",this.mouseWheel="zoom"}};u([hz()],py.prototype,"dragPrimary",void 0),u([hz()],py.prototype,"dragSecondary",void 0),u([hz()],py.prototype,"dragTertiary",void 0),u([p({type:["zoom","none"],nonNullable:!0})],py.prototype,"mouseWheel",void 0),py=u([j("esri.views.navigation.NavigationActionMap")],py);const cB=py;let Gf=class extends at{constructor(e){super(e),this.enabled=!0,this.device=null,this.mode="pan",this.tiltDirection="forward-down",this.velocityFactor=1}};u([p({type:Boolean,nonNullable:!0})],Gf.prototype,"enabled",void 0),u([p({type:lB})],Gf.prototype,"device",void 0),u([p({type:["pan","zoom"],nonNullable:!0})],Gf.prototype,"mode",void 0),u([p({type:["forward-down","forward-up"],nonNullable:!0})],Gf.prototype,"tiltDirection",void 0),u([p({type:Number,nonNullable:!0})],Gf.prototype,"velocityFactor",void 0),Gf=u([j("esri.views.navigation.gamepad.GamepadSettings")],Gf);const lde=Gf;let Wf=class extends at{constructor(e){super(e),this.actionMap=new cB,this.browserTouchPanEnabled=!0,this.gamepad=new lde,this.momentumEnabled=!0}get mouseWheelZoomEnabled(){return this.actionMap.mouseWheel==="zoom"}set mouseWheelZoomEnabled(e){VN(Ee.getLogger(this),"mouseWheelZoomEnabled",{replacement:"actionMap.mouseWheel",version:"4.32",warnOnce:!0}),this.actionMap.mouseWheel=e?"zoom":"none"}};u([p({type:cB,nonNullable:!0})],Wf.prototype,"actionMap",void 0),u([p({type:Boolean})],Wf.prototype,"browserTouchPanEnabled",void 0),u([p({type:lde,nonNullable:!0})],Wf.prototype,"gamepad",void 0),u([p({type:Boolean})],Wf.prototype,"momentumEnabled",void 0),u([p({type:Boolean})],Wf.prototype,"mouseWheelZoomEnabled",null),Wf=u([j("esri.views.navigation.Navigation")],Wf);const s3=Wf;function Gat(t,e,i){const r=cde(t),n=e,s=URe(r,n,i);if(r){const o=So.deriveUnitFromSR(r,t.spatialReference).heightUnit;if(!i&&o!==r.heightUnit){const a=new ee("layerview:unmatched-height-unit",`The vertical units of the layer must match the horizontal units (${o})`,{horizontalUnit:o});return new ee("layerview:unsupported-height-model-info","The vertical coordinate system of the layer is not supported",{heightModelInfo:r,error:a})}}if(!BRe(t)||s===4)return new ee("layerview:unsupported-height-model-info","The vertical coordinate system of the layer is not supported",{heightModelInfo:r});switch(s){case 1:{const o=r?.heightUnit||"unknown",a=n?.heightUnit||"unknown",l=new ee("layerview:incompatible-height-unit",`The vertical units of the layer (${o}) must match the vertical units of the scene (${a})`,{layerUnit:o,sceneUnit:a});return new ee("layerview:incompatible-height-model-info","The vertical coordinate system of the layer is incompatible with the scene",{layerHeightModelInfo:r,sceneHeightModelInfo:n,error:l})}case 2:{const o=r?.heightModel||"unknown",a=n?.heightModel||"unknown",l=new ee("layerview:incompatible-height-model",`The height model of the layer (${o}) must match the height model of the scene (${a})`,{layerHeightModel:o,sceneHeightModel:a});return new ee("layerview:incompatible-height-model-info","The vertical coordinate system of the layer is incompatible with the scene",{layerHeightModelInfo:r,sceneHeightModelInfo:n,error:l})}case 3:{const o=r?.vertCRS||"unknown",a=n?.vertCRS||"unknown",l=new ee("layerview:incompatible-vertical-datum",`The vertical datum of the layer (${o}) must match the vertical datum of the scene (${a})`,{layerDatum:o,sceneDatum:a});return new ee("layerview:incompatible-height-model-info","The vertical coordinate system of the layer is incompatible with the scene",{layerHeightModelInfo:r,sceneHeightModelInfo:n,error:l})}}return null}function URe(t,e,i){if(!VJ(t)||!VJ(e))return 4;if(t==null||e==null)return 0;if(!i&&t.heightUnit!==e.heightUnit)return 1;if(t.heightModel!==e.heightModel)return 2;switch(t.heightModel){case"gravity-related-height":return 0;case"ellipsoidal":return t.vertCRS===e.vertCRS?0:3;default:return 4}}function VJ(t){return t==null||t.heightModel!=null&&t.heightUnit!=null}function BRe(t){return"heightModelInfo"in t&&t.heightModelInfo!=null||t.spatialReference!=null||!hde(t)}function cde(t){if(t.type==="integrated-mesh-3dtiles"||t.type==="gaussian-splat")return null;const e=t.url?Ld(t.url):void 0;return!(t.spatialReference?.vcsWkid==null&&e!=null&&e.serverType==="ImageServer")&&ude(t)&&t.heightModelInfo?t.heightModelInfo:hde(t)?So.deriveUnitFromSR(qRe,t.spatialReference):null}function ude(t){return"heightModelInfo"in t}function dde(t){if(t.type==="unknown"||!("capabilities"in t))return!1;switch(t.type){case"catalog":case"catalog-footprint":case"csv":case"feature":case"geojson":case"subtype-group":case"ogc-feature":case"oriented-imagery":case"wfs":case"knowledge-graph-sublayer":return!0;default:return!1}}function hde(t){return dde(t)?!!(t.capabilities&&t.capabilities.data&&t.capabilities.data.supportsZ):pde(t)}function HRe(t){return t.layers!=null||pde(t)||dde(t)||ude(t)}function pde(t){switch(t.type){case"building-scene":case"elevation":case"integrated-mesh":case"integrated-mesh-3dtiles":case"point-cloud":case"scene":case"voxel":return!0;case"base-dynamic":case"base-elevation":case"base-tile":case"bing-maps":case"catalog":case"catalog-footprint":case"catalog-dynamic-group":case"csv":case"dimension":case"gaussian-splat":case"geojson":case"feature":case"subtype-group":case"geo-rss":case"graphics":case"group":case"imagery":case"imagery-tile":case"kml":case"knowledge-graph":case"link-chart":case"knowledge-graph-sublayer":case"line-of-sight":case"map-image":case"map-notes":case"media":case"ogc-feature":case"open-street-map":case"oriented-imagery":case"parquet":case"route":case"stream":case"tile":case"unknown":case"unsupported":case"vector-tile":case"video":case"viewshed":case"wcs":case"web-tile":case"wfs":case"wms":case"wmts":case null:return!1}return!1}const qRe=new So({heightModel:"gravity-related-height"});let t6,pz=null;async function GRe(t){pz||(pz=ke(()=>import("./geometryServiceUtils-Cb-TaW8f.js"),[]).then(e=>t6=e)),await pz,nr(t)}async function fde(t,e,i,r){if(!t)return null;const n=t.spatialReference;return Fp()||wu(n,e)?rg(t,e):t6?t6.projectGeometry(t,e,i,r):(await Promise.race([GRe(r),Zm(r)]),fde(t,e,i,r))}async function Wat(t,e){try{return t?.spatialReference?await Fle(t,e):null}catch{return null}}let Ji=class extends at{constructor(e){super(e),this.required={extent:!1,heightModelInfo:!1,tileInfo:!1},this.defaultSpatialReference=null,this.userSpatialReference=null,this.sourcePreloadCount=10,this.priorityCollection=null,this.requiresExtentInSpatialReference=!0,this.suspended=!1,this._projectExtentTask={task:null,input:null,output:null,spatialReference:null}}destroy(){this._projectExtentTask.task&&(this._projectExtentTask.task=fv(this._projectExtentTask.task)),this._set("map",null)}get ready(){return!this._spatialReferenceTask.updating&&!this._tileInfoTask.updating&&!this._extentTask.updating}get heightModelInfoReady(){return!this._heightModelInfoTask.updating}get spatialReference(){return this.userSpatialReference??this._spatialReferenceTask.spatialReference}get extent(){return this._extentTask.extent}get heightModelInfo(){return this._heightModelInfoTask.heightModelInfo}get vcsWkid(){return this._heightModelInfoTask.vcsWkid}get latestVcsWkid(){return this._heightModelInfoTask.latestVcsWkid}get viewingMode(){return this.userSpatialReference==null||this.userSpatialReference.equals(this._spatialReferenceTask.spatialReference)?this._spatialReferenceTask.viewingMode:null}get tileInfo(){return this._tileInfoTask.tileInfo}get mapCollections(){const e=this.map?.(),i=[];return this.priorityCollection!=null&&i.push(this.priorityCollection),i.push({parent:e?.basemap,layers:e?.basemap?.baseLayers},{parent:e?.basemap,layers:e?.basemap?.groundLayers},{layers:e?.layers},{parent:e?.ground,layers:e?.ground?.layers},{parent:e?.basemap,layers:e?.basemap?.referenceLayers}),i}get _spatialReferenceTask(){if(this.suspended)return this._get("_spatialReferenceTask")??{updating:!1};let e;if(this._collectLayers(this.mapCollections,r=>{const n=this._getSupportedSpatialReferences(r);if(n.length>0){const s=this._narrowDownSpatialReferenceCandidates(e,n);s!=null&&(e=s)}return e?.length===1})&&e?.length!==1)return{updating:!0};const i=this._pickSpatialReferenceCandidate(e);return{spatialReference:i?.spatialReference??null,viewingMode:i?.viewingMode??null,updating:!1}}get _tileInfoTask(){if(!this.required.tileInfo)return this._get("_tileInfoTask")??{updating:!1};const e=this.map?.(),i=this.spatialReference;if(!i)return{updating:this._spatialReferenceTask.updating};let r;const n=this._collectLayers([{parent:e?.basemap,layers:e?.basemap?.baseLayers},{parent:e?.basemap,layers:e?.basemap?.groundLayers},{layers:e?.layers}],s=>!(!("tileInfo"in s)||!s.tileInfo?.spatialReference.equals(i))&&(r=s,!0),s=>"tileInfo"in s);return r?{tileInfo:r.tileInfo,updating:!1}:{updating:n}}get _heightModelInfoTask(){if(!this.required.heightModelInfo||this.suspended&&this._get("_heightModelInfoTask")?.heightModelInfo)return this._get("_heightModelInfoTask")??{updating:!1};let e={};const i=this._collectLayers(this.mapCollections,r=>{const n=cde(r);return!!n&&(e={heightModelInfo:n,vcsWkid:r.spatialReference?.vcsWkid,latestVcsWkid:r.spatialReference?.latestVcsWkid},!0)},r=>HRe(r));return{...e,updating:i}}get _extentCandidatesTask(){if(this.suspended||!this.required.extent)return this._get("_extentCandidatesTask")??{updating:!1};if(!this.spatialReference)return{updating:this._spatialReferenceTask.updating};const e=[],i=this._collectLayers(this.mapCollections,r=>{const n="fullExtents"in r&&r.fullExtents||(r.fullExtent!=null?[r.fullExtent]:[]),s=this.requiresExtentInSpatialReference?null:n[0],o=n.find(a=>a.spatialReference.equals(this.spatialReference))??s;if(o)return e.push({extent:o,layer:r}),!0;if(this._getSupportedSpatialReferences(r).length>0)for(const a of n)e.push({extent:a,layer:r});return!1});return{candidates:e,updating:i}}get _extentTask(){const{candidates:e,updating:i}=this._extentCandidatesTask;if(i)return{updating:i};if(e==null||e.length===0)return{updating:!1};if(!this.spatialReference)return{updating:this._spatialReferenceTask.updating};const r=this._pickExtentCandidate(e),n=this.spatialReference;return r.extent.equals(this._projectExtentTask.input)&&n.equals(this._projectExtentTask.spatialReference)?{extent:this._projectExtentTask.output,updating:this._projectExtentTask.task!=null&&!this._projectExtentTask.task.finished}:(this._projectExtentTask.task!=null&&(this._projectExtentTask.task=fv(this._projectExtentTask.task)),this._projectExtentTask={input:r.extent.clone(),output:null,spatialReference:n.clone(),task:ik(async s=>{try{const o=await fde(r.extent,n,"portalItem"in r.layer?r.layer.portalItem:void 0,s);this._projectExtentTask={...this._projectExtentTask,task:null,output:o}}catch{if(Rs(s))return;this._projectExtentTask={...this._projectExtentTask,task:null}}})},{updating:!0})}_narrowDownSpatialReferenceCandidates(e,i){if(e==null)return i;const r=new Array;for(const n of e)for(const s of i){if(!n.spatialReference.equals(s.spatialReference))continue;const o=YRe(n.viewingMode,s.viewingMode);if(o!==!1){r.push({spatialReference:n.spatialReference,viewingMode:o});break}}return r.length>0?r:null}_pickSpatialReferenceCandidate(e){const i=this.defaultSpatialReference;return e==null||e.length<1?i?{spatialReference:i,viewingMode:null}:null:(i!=null&&e.length>1&&e.some(({spatialReference:r})=>r.equals(i))&&(e=e.filter(({spatialReference:r})=>r.equals(i))),e.length>1&&e.some(({viewingMode:r})=>r!==2)&&(e=e.filter(({viewingMode:r})=>r!==2)),e[0])}_getSupportedSpatialReferences(e){const i="supportedSpatialReferences"in e&&e.supportedSpatialReferences||(e.spatialReference?[e.spatialReference]:[]);if(i.length===0)return[];const r=[];for(const n of i){const s=this.getSpatialReferenceSupport(n,e);if(s!=null){const o=s.constraints??[{spatialReference:n,viewingMode:null}];for(const{spatialReference:a,viewingMode:l}of o)this.requiresExtentInSpatialReference&&this.userSpatialReference!=null&&!a.equals(this.userSpatialReference)||r.push({spatialReference:a,viewingMode:l})}}return r}_pickExtentCandidate(e){const i=this.spatialReference;return e.find(({extent:r})=>i.equals(r.spatialReference))||e[0]}_collectLayers(e,i,r=()=>!0){switch(this._loadMaybe(this.map?.())){case"loading":return!0;case"failed":return!1}const n=new WRe(r,i);for(const s of e)if(this._collectCollection(s,n),n.done||n.preloading===this.sourcePreloadCount)break;return n.updating}_collectCollection(e,i){if(e.layers){switch(this._loadMaybe(e.parent)){case"loading":return i.updating=!0,void++i.preloading;case"failed":return}for(const r of e.layers)if((r.type!=="graphics"||!r.internal)&&i.layerFilter(r)){switch(this._loadMaybe(r)){case"failed":continue;case"loading":i.updating=!0,++i.preloading;break;case"loaded":if(i.updating||(i.done=i.pushLayer(r)),i.done||i.preloading===this.sourcePreloadCount)break;"layers"in r&&this._collectCollection({layers:r.layers},i)}if(i.done||i.preloading===this.sourcePreloadCount)break}}}_loadMaybe(e){return e&&"loadStatus"in e&&e.loadStatus!=null?e.loadStatus==="not-loaded"?(e.load().catch(i=>{us(i)}),"loading"):e.loadStatus:"loaded"}};u([p()],Ji.prototype,"required",void 0),u([p({constructOnly:!0})],Ji.prototype,"map",void 0),u([p({constructOnly:!0})],Ji.prototype,"getSpatialReferenceSupport",void 0),u([p()],Ji.prototype,"defaultSpatialReference",void 0),u([p()],Ji.prototype,"userSpatialReference",void 0),u([p()],Ji.prototype,"sourcePreloadCount",void 0),u([p()],Ji.prototype,"priorityCollection",void 0),u([p()],Ji.prototype,"requiresExtentInSpatialReference",void 0),u([p()],Ji.prototype,"suspended",void 0),u([p({readOnly:!0})],Ji.prototype,"ready",null),u([p({readOnly:!0})],Ji.prototype,"heightModelInfoReady",null),u([p({readOnly:!0})],Ji.prototype,"spatialReference",null),u([p({readOnly:!0})],Ji.prototype,"extent",null),u([p({readOnly:!0})],Ji.prototype,"heightModelInfo",null),u([p({readOnly:!0})],Ji.prototype,"vcsWkid",null),u([p({readOnly:!0})],Ji.prototype,"latestVcsWkid",null),u([p({readOnly:!0})],Ji.prototype,"viewingMode",null),u([p({readOnly:!0})],Ji.prototype,"tileInfo",null),u([p({readOnly:!0})],Ji.prototype,"mapCollections",null),u([p({readOnly:!0})],Ji.prototype,"_spatialReferenceTask",null),u([p({readOnly:!0})],Ji.prototype,"_tileInfoTask",null),u([p({readOnly:!0})],Ji.prototype,"_heightModelInfoTask",null),u([p({readOnly:!0})],Ji.prototype,"_extentCandidatesTask",null),u([p()],Ji.prototype,"_extentTask",null),u([p()],Ji.prototype,"_projectExtentTask",void 0),Ji=u([j("esri.views.support.DefaultsFromMap")],Ji);let WRe=class{constructor(e,i){this.layerFilter=e,this.pushLayer=i,this.preloading=-1,this.updating=!1,this.done=!1}};function YRe(t,e){return t!=null?e!=null?t===e&&t:t:e}function ZRe(t){return"tryRecycleWith"in t}let JRe=class{constructor(e,i,r){this.layer=e,this.view=i,this.layerViewImporter=r,this._controller=new AbortController,this._started=!1,this.done=!1,this._deferred=cs(),this.promise=this._deferred.promise,Ds(this._controller.signal,()=>{this._recycleController?.abort();const n=new ee("cancelled:layerview-create","layerview creation cancelled",{layer:e});this._deferred?.reject(n)})}tryRecycle(e){if(!this.done||!this.layerView||!ZRe(this.layerView))return null;this._recycleController?.abort(),this._recycleController=new AbortController;const i=this.layer.type,r=this._recycleController.signal;for(let n=0;n<e.length;n++){const s=e[n];if(s.type!==i)continue;const o=this.layerView.tryRecycleWith(s,{signal:r});if(o){e.splice(n,1),this.layer=s;const a=this.layerView,l=a.view;return this.promise=o.then(()=>(nr(r),s.emit("layerview-destroy",{view:l,layerView:a}),l.emit("layerview-destroy",{view:l,layerView:a}),s.emit("layerview-create",{view:l,layerView:a}),l.emit("layerview-create",{view:l,layerView:a}),a)),this.promise}}return null}destroy(){this._controller.abort();const{layerView:e}=this;if(e){const{layer:i,view:r}=this;i.emit("layerview-destroy",{view:r,layerView:e}),r.emit("layerview-destroy",{layer:i,layerView:e})}this.done=!0,this.layer=null,this.layerView=null,this.view=null,this.layerViewImporter=null,this._map=null,this.promise=null,this._deferred=null}async start(){const{view:e}=this;if(this._started||!e.map)return;this._started=!0;const{_controller:{signal:i},layer:r}=this;this._map=e.map;try{let n,s;if(await r.load({signal:i}),r.prefetchResources&&await r.prefetchResources({signal:i}),XRe(r))n=await r.createLayerView(e,{signal:i});else{if(!this.layerViewImporter.hasLayerViewModule(r))throw new ee("layer:view-not-supported","No layerview implementation was found");const l=await this.layerViewImporter.importLayerView(r);nr(i),n="default"in l?new l.default({layer:r,view:e}):new l({layer:r,view:e})}const o=()=>{s=rr(s),n.destroyed||n.destroy(),this.done=!0};s=Ds(i,o),nr(i);try{await n.when()}catch(l){throw o(),l}if(!this._map?.allLayers?.includes(r))return o(),void this._deferred?.reject(new ee("view:no-layerview-for-layer","The layer has been removed from the map",{layer:r}));this.layerView=n,r.emit("layerview-create",{view:e,layerView:n}),e.emit("layerview-create",{layer:r,layerView:n}),this.done=!0,this._deferred?.resolve(n)}catch(n){r.emit("layerview-create-error",{view:e,error:n}),e.emit("layerview-create-error",{layer:r,error:n}),this.done=!0,this._deferred?.reject(new ee("layerview:create-error","layerview creation failed",{layer:r,error:n}))}}};function XRe(t){return t.createLayerView!==wr.prototype.createLayerView}function KRe(t){return t!=null&&typeof t=="object"&&"layerViews"in t}let Yo=class extends at{constructor(e){super(e),this._layerLayerViewInfoMap=new Map,this._recyclingInfoMap=new Map,this._watchUpdatingTracking=new ev,this.supportsGround=!0,this._preloadLayerViewModules=()=>{const i=this.view.map?.allLayers;if(i)for(const r of i)this.layerViewFilter?.(r)!==!1&&this.layerViewImporter.hasLayerViewModule(r)&&this.layerViewImporter.importLayerView(r)},this._reschedule=()=>this.destroyed?Promise.reject():(this._workPromise==null&&(this._workPromise=cs(),this._workPromise.promise.catch(()=>{})),this.removeHandles("reschedule"),this.addHandles(_1(this._doWork),"reschedule"),this._workPromise.promise),this._doWork=()=>{if(this.destroyed)return;const{map:i}=this.view;if(!i)return void this.clear();if(this._map!==i&&(this.clear(),this._map=i),this._workPromise==null)return void this.notifyChange("updating");this.removeHandles("reschedule"),this.removeHandles("collection-change");const r=new Set,n=[],s=this.view.ready,o=f=>{if(f!=null){for(const g of f)if(g){if(this.layerViewFilter?.(g)===!1)continue;r.add(g);const v=this._layerLayerViewInfoMap.get(g);v&&s?v.start():v||this._recyclingInfoMap.has(g)||n.push(g),"layers"in g&&g.layers&&o(g.layers)}}};for(const f of this._rootCollectionNames)o(du(this,f));const a=new Array,l=f=>{const g=f.tryRecycle(n);g?(this._recyclingInfoMap.set(f.layer,f),this.notifyChange("updating"),g.then(()=>{this._recyclingInfoMap.delete(f.layer),this._layerLayerViewInfoMap.set(f.layer,f),this._reschedule(),this.notifyChange("updating")}).catch(v=>{us(v)||(this._recyclingInfoMap.delete(f.layer),f.destroy(),this._reschedule(),this.notifyChange("updating"))})):a.push(f)};for(const f of this._layerLayerViewInfoMap.values())r.has(f.layer)||(this._layerLayerViewInfoMap.delete(f.layer),l(f));for(const f of this._recyclingInfoMap.values())r.has(f.layer)||(this._recyclingInfoMap.delete(f.layer),l(f));for(const f of n)this._createLayerView(f);this._refreshCollections(),a.forEach(f=>f.destroy());const h=[i?.ground?.layers,i?.basemap?.baseLayers,i?.basemap?.groundLayers,i?.basemap?.referenceLayers,i?.layers].filter(f=>!!f);r.forEach(f=>"layers"in f&&h.push(f.layers)),this.addHandles(h.map(f=>this._watchUpdatingTracking.addOnCollectionChange(()=>f,this._reschedule)),"collection-change"),this._workPromise.resolve(),this._workPromise=null},this._layersToLayerViews=new Map(e.layerviewMapping)}initialize(){this.addHandles([qm(()=>this.view?.map?.allLayers,"change",this._preloadLayerViewModules,{onListenerAdd:this._preloadLayerViewModules}),ft(()=>{const e=this.view,i=e?.map;return[i?.basemap,i?.ground,i?.layers,e?.ready]},()=>this._reschedule(),to)]),this._preloadLayerViewModules(),this._reschedule()}clearHandles(){this._watchUpdatingTracking.removeAll()}destroy(){this.clear(),mI(this._recyclingInfoMap),mI(this._layerLayerViewInfoMap),this._watchUpdatingTracking.destroy(),this._map=null,this._workPromise!=null&&(this._workPromise.reject(Si()),this._workPromise=null)}get _rootCollectionNames(){return Array.from(this._layersToLayerViews.keys())}get updating(){return this._workPromise!=null||this._watchUpdatingTracking.updating||n0e(this._layerLayerViewInfoMap,e=>!e.done)||this._recyclingInfoMap.size>0}get updatingRemaining(){let e=0;for(const i of this._layerLayerViewInfoMap.values())i.done||++e;return e}clear(){this.destroyed||(this._clearCollections(),mI(this._layerLayerViewInfoMap),mI(this._recyclingInfoMap))}async whenLayerView(e){await this._reschedule();const i=this._layerLayerViewInfoMap.get(e)?.promise;if(!i){const r=this._recyclingInfoMap.get(e)?.promise;if(!r)throw new ee("view:no-layerview-for-layer","No layerview has been found for the layer",{layer:e});return r}return i}isCreatingLayerViewsForLayer(e,i){this.commitProperty("updatingRemaining");const r=this._layerLayerViewInfoMap.get(e);if(!r?.done)return!0;const n=r.layerView;return!(!n||!i||n.parent===i)||!!(r.done&&n&&"layers"in e&&e.layers?.length)&&e.layers.some(s=>this.isCreatingLayerViewsForLayer(s,n))}_refreshCollections(){for(const[e,i]of this._layersToLayerViews)this._populateLayerViewsOwners(du(this,e),du(this,i),this.view);this.notifyChange("updating"),this.notifyChange("updatingRemaining")}_clearCollections(){for(const e of this._layersToLayerViews.values())du(this,e)?.removeAll()}_populateLayerViewsOwners(e,i,r){if(!e||!i)return void i?.removeAll();let n=0;for(const s of e){const o=this._layerLayerViewInfoMap.get(s);if(!o?.layerView)continue;const{layerView:a}=o;a.layer=s,a.parent=r,i.at(n)!==a&&i.splice(n,0,a),"layers"in s&&KRe(a)&&this._populateLayerViewsOwners(s.layers,a.layerViews,a),++n}n<i.length&&i.splice(n)}_createLayerView(e){e.load().catch(()=>{}),this.layerViewImporter.hasLayerViewModule(e)&&this.layerViewImporter.importLayerView(e);const i=new JRe(e,this.view,this.layerViewImporter);i.promise?.then(()=>this._refreshCollections(),r=>{r&&(us(r)||r.name==="cancelled:layerview-create")||Ee.getLogger(this).error(`Failed to create layerview for layer title:'${e.title??"no title"}', id:'${e.id??"no id"}' of type '${e.type}'.`,{layer:e,error:r}),this.destroyed||this._refreshCollections()}),this._layerLayerViewInfoMap.set(e,i),this.view.ready&&i.start(),this.notifyChange("updating"),this.notifyChange("updatingRemaining")}};u([p()],Yo.prototype,"_workPromise",void 0),u([p({readOnly:!0})],Yo.prototype,"_watchUpdatingTracking",void 0),u([p({readOnly:!0})],Yo.prototype,"_layersToLayerViews",void 0),u([p({constructOnly:!0})],Yo.prototype,"layerviewMapping",void 0),u([p({readOnly:!0})],Yo.prototype,"_rootCollectionNames",null),u([p({constructOnly:!0})],Yo.prototype,"layerViewFilter",void 0),u([p()],Yo.prototype,"layerViewImporter",void 0),u([p()],Yo.prototype,"supportsGround",void 0),u([p({readOnly:!0})],Yo.prototype,"updating",null),u([p({readOnly:!0})],Yo.prototype,"updatingRemaining",null),u([p({constructOnly:!0})],Yo.prototype,"view",void 0),Yo=u([j("esri.views.support.LayerViewManager")],Yo);const QRe=Yo;let O0=class extends at{constructor(e){super(e),this.featureTitleFields=!1,this.utilityNetworkFields=!1,this.globalIdField=!1}};u([p()],O0.prototype,"featureTitleFields",void 0),u([p()],O0.prototype,"utilityNetworkFields",void 0),u([p()],O0.prototype,"globalIdField",void 0),O0=u([j("esri.views.support.RequiredFieldsOptions")],O0);const e5e=O0;var P0,Vm;let ut=(Vm=class extends pD(B9){constructor(e){super(e),this._userSpatialReference=null,this.handles=new y1,this.updatingHandles=new ev,this.allLayerViews=new cu({getCollections:()=>this.layerviewCollections,getChildrenFunction:i5e}),this.analyses=new r1,this.basemapView=null,this.dependencies={popup:void 0},this.displayFilterEnabled=!0,this.fatalError=null,this.graphics=new JT,this.typeSpecificPreconditionsReady=!0,this.layerViews=new We,this.magnifier=new Xue,this.padding={left:0,top:0,right:0,bottom:0},this.ready=!1,this._readyStateWaitingTask=null,this.type=null,this.scale=null,this.updating=!1,this.initialExtentRequired=!0,this._lowPriorityCursorHandles=new We,this._highPriorityCursorHandles=new We,this.input=new VRe,this.navigation=new s3,this.layerViewManager=null,this.analysisViewManager=null,this.isHeightModelInfoRequired=!1,this.width=null,this.height=null,this.resizing=!1,this.suspended=!1,this.viewEvents=new ide(this),this.persistableViewModels=new We,this.requiredFieldsOptions=new e5e,this._isValid=!1,this._readyCycleForced=!1,this._lockedSpatialReference=null,this._userTimeZone=null,this._lockedTimeZone=null,this._userTimeExtent=null,this._lockedTimeExtent=null,this.theme=null,this.handles.add(ft(()=>this.preconditionsReady,i=>{const r=this.ready;if(i?(this._lockedSpatialReference=this.spatialReference,this._lockedTimeZone=this.timeZone,this._lockedTimeExtent=this.timeExtent,P0.views.add(this)):(this._lockedSpatialReference=null,P0.views.remove(this)),this.notifyChange("spatialReference"),!i&&r)this.toolViewManager?.detach(),this.analysisViewManager?.detach(),this.layerViewManager?.clear(),this._teardown();else if(i&&!r){try{this._startup()}catch(n){return void queueMicrotask(()=>{this.fatalError=new ee("view:startup-error","View._startup failed",n)})}this.analysisViewManager?.attach(),this.toolViewManager.attach()}},zd))}initialize(){this.addResolvingPromise(Promise.all([this.loadAsyncDependencies(),this._validateWithErrorDisplay()]).then(()=>(this._isValid=!0,_D(()=>this.ready)))),this.basemapView=new J3e({view:this}),this.layerViewManager=new QRe({view:this,layerViewFilter:e=>this.layerViewFilter?.(e)??!0,layerViewImporter:{importLayerView:e=>this.importLayerView(e),hasLayerViewModule:e=>this.hasLayerViewModule(e)},layerviewMapping:this._layerToLayerviewMapping}),this.toolViewManager=new Qu({view:this}),this.selectionManager=new aRe({view:this}),this.addHandles([wa(()=>this.readyState==="map-content-error"&&!this.spatialReference,()=>{Ee.getLogger(this).warn("#spatialReference","no spatial reference could be derived from the currently added map layers")}),ft(()=>this.initialExtentRequired,e=>this.defaultsFromMap.required={...this.defaultsFromMap.required,extent:e},to),ft(()=>this.ready,e=>{this.defaultsFromMap&&(this.defaultsFromMap.suspended=e,this.defaultsFromMap.userSpatialReference=e?this.spatialReference:this._userSpatialReference)},zd),ft(()=>this._userSpatialReference,e=>{this.defaultsFromMap&&(this.defaultsFromMap.userSpatialReference=e)},to)])}get _layerToLayerviewMapping(){return P0._layerToLayerview}destroy(){this.destroyed||(P0.views.remove(this),this.viewEvents.destroy(),this.allLayerViews.destroy(),this.navigation&&(this.navigation.destroy(),this._set("navigation",null)),this.graphics=pr(this.graphics),this.analyses=pr(this.analyses),this.defaultsFromMap.destroy(),this._set("defaultsFromMap",null),this.analysisViewManager=pr(this.analysisViewManager),this.toolViewManager=pr(this.toolViewManager),this.layerViewManager=pr(this.layerViewManager),this.selectionManager=pr(this.selectionManager),this.basemapView=pr(this.basemapView),this.layerViews?.forEach(e=>e.destroy()),this.layerViews.length=0,this.invalidate(),this.handles.destroy(),this.map=pr(this.map),this.updatingHandles.destroy())}_startup(){this._set("ready",!0)}_teardown(){this._set("ready",!1)}whenReady(){return Promise.resolve(this)}toMap(){return Ee.getLogger(this).error("#toMap()","Not implemented on this instance of View"),null}get activeTool(){return this.toolViewManager?.activeTool}set activeTool(e){this.toolViewManager&&(this.toolViewManager.activeTool=e)}get layerviewCollections(){return[this.basemapView?.baseLayerViews,this.basemapView?.groundLayerViews,this.layerViews,this.basemapView?.referenceLayerViews]}get animation(){return this._get("animation")}set animation(e){this._set("animation",e)}get center(){return null}get defaultsFromMapSettings(){return{}}get defaultsFromMap(){return new Ji({required:{tileInfo:!1,heightModelInfo:!1,extent:!1},map:()=>this.map,getSpatialReferenceSupport:(e,i)=>this.getSpatialReferenceSupport(e,i),...this.defaultsFromMapSettings})}get extent(){return this._get("extent")}set extent(e){this._set("extent",e)}get heightModelInfo(){return this.getDefaultHeightModelInfo()}get highlights(){return this._get("highlights")??zRe()}set highlights(e){this._set("highlights",Td(e,this._get("highlights"),We.ofType(Lm)))}get interacting(){return this.navigating}get navigating(){return!1}get preconditionsReady(){return!this.destroying&&!this.destroyed&&!(this.fatalError||!this._isValid||this._readyCycleForced||!this.map||Uj(this.map)&&!this.map.loaded||this.width===0||this.height===0||!this.spatialReference||!this._validateSpatialReference(this.spatialReference)||!this._lockedSpatialReference&&!this.defaultsFromMap?.ready||!this.typeSpecificPreconditionsReady)}get resolution(){return 0}set map(e){e!==this._get("map")&&(e?.destroyed&&(Ee.getLogger(this).warn("#map","The provided map is already destroyed",{map:e}),e=null),Uj(e)&&e.load().catch(()=>{}),this.constructed&&!this.destroyed&&(this.forceReadyCycle(),this._lockedSpatialReference=null),this._set("map",e))}get readyState(){if(this.destroyed)return this._get("readyState");if(!this.map)return"missing-map";if("container"in this&&!this.container)return"missing-container";if(this.fatalError)return"rendering-error";if((this.defaultsFromMap?.ready??!1)&&!this.spatialReference){const e=!("loaded"in this.map)||this.map.loaded,i=this.map.ground.loaded,r=this.map.basemap?.loaded??!0;return e&&r&&i&&!this.map?.allLayers.length?"empty-map":(this._readyStateWaitingTask||(this._readyStateWaitingTask=ik(n=>Rie(he("view-readyState-waiting-delay"),null,n)),this.addHandles(this._readyStateWaitingTask),this.addHandles(this._readyStateWaitingTask,"ready-state-task")),this._readyStateWaitingTask?.finished?"map-content-error":"loading")}return this._readyStateWaitingTask=fv(this._readyStateWaitingTask),this.removeHandles("ready-state-task"),this.ready?"ready":"loading"}get spatialReference(){const e=this._userSpatialReference||this._lockedSpatialReference||this.getDefaultSpatialReference()||null;if(e&&this.defaultsFromMap?.required?.heightModelInfo){const i=e.clone();return i.vcsWkid=this.defaultsFromMap.vcsWkid,i.latestVcsWkid=this.defaultsFromMap.latestVcsWkid,i}return e}set spatialReference(e){const i=!Un(e,this._get("spatialReference"));this._set("_userSpatialReference",e),i&&(this._set("spatialReference",e),this._spatialReferenceChanged(e))}_spatialReferenceChanged(e){}get stationary(){return!this.animation&&!this.navigating&&!this.resizing}get timeExtent(){return this._userTimeExtent??this._lockedTimeExtent??this.getDefaultTimeExtent()??null}set timeExtent(e){this._userTimeExtent=e}get timeZone(){return this._userTimeZone??this._lockedTimeZone??this.getDefaultTimeZone()??cc}set timeZone(e){this._userTimeZone=e,cxe(e)||Ee.getLogger(this).warn("#timeZone",`the parsed value '${e}' may not be a valid IANA time zone`)}get tools(){return this.toolViewManager?.tools}get initialExtent(){return this.defaultsFromMap?.extent}get cursor(){return this.toolViewManager?.cursor??this._highPriorityCursorHandles.at(-1)?.cursor??this._lowPriorityCursorHandles.at(-1)?.cursor??"default"}acquireCursor(e,i="low"){const r=i==="high"?this._highPriorityCursorHandles:this._lowPriorityCursorHandles,n={cursor:e},s=oi(()=>r.remove(n));return r.add(n),this.addHandles(s),s}get size(){return[this.width,this.height]}get effectiveTheme(){return this.theme??new X4}whenLayerView(e){return this.layerViewManager?.whenLayerView(e)??Promise.reject()}getDefaultSpatialReference(){return this.defaultsFromMap?.spatialReference}getDefaultHeightModelInfo(){return(this.map&&"heightModelInfo"in this.map?this.map.heightModelInfo:void 0)??this.defaultsFromMap?.heightModelInfo??null}getDefaultTimeZone(){return null}getDefaultTimeExtent(){return null}getSurface(){return null}importLayerView(e){throw new ee("view:importLayerView-missing","importLayerView() not implemented")}hasLayerViewModule(e){return!1}async validate(){}async loadAsyncDependencies(){}invalidate(){this._isValid=!1}getSpatialReferenceSupport(){return{constraints:null}}_validateSpatialReference(e){return this.getSpatialReferenceSupport(e)!=null}when(e,i){return this.isResolved()&&!this.ready&&Ee.getLogger(this).warn("#when()","Calling view.when() while the view is no longer ready but was already resolved once will resolve immediately. Use reactiveUtils.whenOnce(() => view.ready).then(...) instead."),super.when(e,i)}forceReadyCycle(){this.ready&&(wa(()=>this.destroyed||this.preconditionsReady===!1,()=>this._readyCycleForced=!1,{once:!0}),this._readyCycleForced=!0)}on(e,i){return super.on(e,i)}addAndActivateTool(e){this.toolViewManager.tools.add(e),this.activeTool=e}tryFatalErrorRecovery(){this.fatalError=null}async _validateWithErrorDisplay(){try{await this.validate()}catch(e){const i=document.createElement("div");i.setAttribute("style","display: flex; flex-direction: column; gap: 8px; padding: 20px; height: 100%; justify-content: center; color: black; background: white; font-family: sans-serif;");const r=document.createElement("div");r.innerHTML="Unable to display map. WebGL2 support is required.",r.setAttribute("style","font-size: 24px; font-weight: bold;");const n=document.createElement("div");n.innerHTML="Ensure that your browser and hardware meet the minimum requirements.",n.setAttribute("style","font-size: 18px;");const s=document.createElement("a");s.innerHTML="https://esriurl.com/webgl-faq",s.target="_blank",s.setAttribute("style","font-size: 18px;"),s.href="https://esriurl.com/webgl-faq",i.appendChild(r),i.appendChild(n),i.appendChild(s);const o=this.getSurface();throw o&&o.appendChild(i),e}}},P0=Vm,Vm._layerToLayerview=[["view.map.basemap.baseLayers","view.basemapView.baseLayerViews"],["view.map.basemap.groundLayers","view.basemapView.groundLayerViews"],["view.map.basemap.referenceLayers","view.basemapView.referenceLayerViews"],["view.map.layers","view.layerViews"]],Vm.views=new We,Vm);u([p()],ut.prototype,"_userSpatialReference",void 0),u([p()],ut.prototype,"activeTool",null),u([p({readOnly:!0})],ut.prototype,"allLayerViews",void 0),u([p({readOnly:!0})],ut.prototype,"layerviewCollections",null),u([p(fF(r1,"analyses"))],ut.prototype,"analyses",void 0),u([p()],ut.prototype,"animation",null),u([p()],ut.prototype,"basemapView",void 0),u([p()],ut.prototype,"center",null),u([p()],ut.prototype,"defaultsFromMapSettings",null),u([p()],ut.prototype,"defaultsFromMap",null),u([p()],ut.prototype,"dependencies",void 0),u([p()],ut.prototype,"displayFilterEnabled",void 0),u([p({type:jt})],ut.prototype,"extent",null),u([p()],ut.prototype,"fatalError",void 0),u([p(fF(JT,"graphics"))],ut.prototype,"graphics",void 0),u([p({readOnly:!0,type:So})],ut.prototype,"heightModelInfo",null),u([p({type:We.ofType(Lm)})],ut.prototype,"highlights",null),u([p({readOnly:!0})],ut.prototype,"interacting",null),u([p({constructOnly:!0})],ut.prototype,"layerViewFilter",void 0),u([p({readOnly:!0})],ut.prototype,"navigating",null),u([p({readOnly:!0,dependsOn:["fatalError","_isValid","_readyCycleForced","map","map.loaded?","width","height","spatialReference","_lockedSpatialReference","defaultsFromMap.ready","typeSpecificPreconditionsReady"]})],ut.prototype,"preconditionsReady",null),u([p({readOnly:!0})],ut.prototype,"typeSpecificPreconditionsReady",void 0),u([p({type:We,readOnly:!0})],ut.prototype,"layerViews",void 0),u([p()],ut.prototype,"resolution",null),u([p({type:Xue})],ut.prototype,"magnifier",void 0),u([p({value:null,type:Rce})],ut.prototype,"map",null),u([p()],ut.prototype,"padding",void 0),u([p({readOnly:!0})],ut.prototype,"ready",void 0),u([p()],ut.prototype,"_readyStateWaitingTask",void 0),u([p({readOnly:!0})],ut.prototype,"readyState",null),u([p({type:Ke})],ut.prototype,"spatialReference",null),u([p()],ut.prototype,"stationary",null),u([p({type:Oi})],ut.prototype,"timeExtent",null),u([p({type:String,nonNullable:!0})],ut.prototype,"timeZone",null),u([p()],ut.prototype,"tools",null),u([p()],ut.prototype,"toolViewManager",void 0),u([p({readOnly:!0})],ut.prototype,"type",void 0),u([p({type:Number})],ut.prototype,"scale",void 0),u([p({readOnly:!0})],ut.prototype,"updating",void 0),u([p({readOnly:!0})],ut.prototype,"initialExtentRequired",void 0),u([p({readOnly:!0})],ut.prototype,"initialExtent",null),u([p()],ut.prototype,"cursor",null),u([p({readOnly:!0})],ut.prototype,"input",void 0),u([p({type:s3,nonNullable:!0})],ut.prototype,"navigation",void 0),u([p()],ut.prototype,"layerViewManager",void 0),u([p()],ut.prototype,"analysisViewManager",void 0),u([p()],ut.prototype,"selectionManager",void 0),u([p()],ut.prototype,"width",void 0),u([p()],ut.prototype,"height",void 0),u([p({readOnly:!0})],ut.prototype,"resizing",void 0),u([p({value:null,readOnly:!0})],ut.prototype,"size",null),u([p({readOnly:!0})],ut.prototype,"suspended",void 0),u([p({readOnly:!0})],ut.prototype,"viewEvents",void 0),u([p({readOnly:!0})],ut.prototype,"persistableViewModels",void 0),u([p()],ut.prototype,"_isValid",void 0),u([p()],ut.prototype,"_readyCycleForced",void 0),u([p()],ut.prototype,"_lockedSpatialReference",void 0),u([p()],ut.prototype,"_userTimeZone",void 0),u([p()],ut.prototype,"_lockedTimeZone",void 0),u([p()],ut.prototype,"_userTimeExtent",void 0),u([p()],ut.prototype,"_lockedTimeExtent",void 0),u([p({type:X4})],ut.prototype,"theme",void 0),u([p({readOnly:!0,type:X4})],ut.prototype,"effectiveTheme",null),ut=P0=u([j("esri.views.View")],ut);const fz=globalThis.$arcgis;fz&&!fz.views&&Object.defineProperty(fz,"views",{configurable:!1,enumerable:!0,writable:!1,value:ut.views});const t5e=ut;function i5e(t){return t.layerViews}function Lr(){return[0,0]}function r5e(t){return[t[0],t[1]]}function uk(t,e){return[t,e]}function n5e(t,e){return[t,e]}function s5e(t,e=Lr()){const i=Math.min(2,t.length);for(let r=0;r<i;++r)e[r]=t[r];return e}function mde(){return Lr()}function gde(){return uk(1,1)}function yde(){return uk(1,0)}function vde(){return uk(0,1)}const o5e=mde(),a5e=gde(),l5e=yde(),c5e=vde();Object.freeze(Object.defineProperty({__proto__:null,ONES:a5e,UNIT_X:l5e,UNIT_Y:c5e,ZEROS:o5e,clone:r5e,create:Lr,freeze:n5e,fromArray:s5e,fromValues:uk,ones:gde,unitX:yde,unitY:vde,zeros:mde},Symbol.toStringTag,{value:"Module"}));function u5e(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t}function bde(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t}function d5e(t,e,i,r,n,s,o){return t[0]=e,t[1]=i,t[2]=r,t[3]=n,t[4]=s,t[5]=o,t}function uB(t,e){const i=e[0],r=e[1],n=e[2],s=e[3],o=e[4],a=e[5];let l=i*s-r*n;return l?(l=1/l,t[0]=s*l,t[1]=-r*l,t[2]=-n*l,t[3]=i*l,t[4]=(n*a-s*o)*l,t[5]=(r*o-i*a)*l,t):null}function h5e(t){return t[0]*t[3]-t[1]*t[2]}function wde(t,e,i){const r=e[0],n=e[1],s=e[2],o=e[3],a=e[4],l=e[5],h=i[0],f=i[1],g=i[2],v=i[3],w=i[4],S=i[5];return t[0]=r*h+s*f,t[1]=n*h+o*f,t[2]=r*g+s*v,t[3]=n*g+o*v,t[4]=r*w+s*S+a,t[5]=n*w+o*S+l,t}function dk(t,e,i){const r=e[0],n=e[1],s=e[2],o=e[3],a=e[4],l=e[5],h=Math.sin(i),f=Math.cos(i);return t[0]=r*f+s*h,t[1]=n*f+o*h,t[2]=r*-h+s*f,t[3]=n*-h+o*f,t[4]=a,t[5]=l,t}function o3(t,e,i){const r=e[0],n=e[1],s=e[2],o=e[3],a=e[4],l=e[5],h=i[0],f=i[1];return t[0]=r*h,t[1]=n*h,t[2]=s*f,t[3]=o*f,t[4]=a,t[5]=l,t}function o1(t,e,i){const r=e[0],n=e[1],s=e[2],o=e[3],a=e[4],l=e[5],h=i[0],f=i[1];return t[0]=r,t[1]=n,t[2]=s,t[3]=o,t[4]=r*h+s*f+a,t[5]=n*h+o*f+l,t}function _de(t,e){const i=Math.sin(e),r=Math.cos(e);return t[0]=r,t[1]=i,t[2]=-i,t[3]=r,t[4]=0,t[5]=0,t}function xde(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=e[1],t[4]=0,t[5]=0,t}function dB(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=e[0],t[5]=e[1],t}function p5e(t){return"mat2d("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+")"}function f5e(t){return Math.sqrt(t[0]**2+t[1]**2+t[2]**2+t[3]**2+t[4]**2+t[5]**2+1)}function m5e(t,e,i){return t[0]=e[0]+i[0],t[1]=e[1]+i[1],t[2]=e[2]+i[2],t[3]=e[3]+i[3],t[4]=e[4]+i[4],t[5]=e[5]+i[5],t}function Sde(t,e,i){return t[0]=e[0]-i[0],t[1]=e[1]-i[1],t[2]=e[2]-i[2],t[3]=e[3]-i[3],t[4]=e[4]-i[4],t[5]=e[5]-i[5],t}function g5e(t,e,i){return t[0]=e[0]*i,t[1]=e[1]*i,t[2]=e[2]*i,t[3]=e[3]*i,t[4]=e[4]*i,t[5]=e[5]*i,t}function y5e(t,e,i,r){return t[0]=e[0]+i[0]*r,t[1]=e[1]+i[1]*r,t[2]=e[2]+i[2]*r,t[3]=e[3]+i[3]*r,t[4]=e[4]+i[4]*r,t[5]=e[5]+i[5]*r,t}function v5e(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]}function b5e(t,e){const i=t[0],r=t[1],n=t[2],s=t[3],o=t[4],a=t[5],l=e[0],h=e[1],f=e[2],g=e[3],v=e[4],w=e[5],S=Lo();return Math.abs(i-l)<=S*Math.max(1,Math.abs(i),Math.abs(l))&&Math.abs(r-h)<=S*Math.max(1,Math.abs(r),Math.abs(h))&&Math.abs(n-f)<=S*Math.max(1,Math.abs(n),Math.abs(f))&&Math.abs(s-g)<=S*Math.max(1,Math.abs(s),Math.abs(g))&&Math.abs(o-v)<=S*Math.max(1,Math.abs(o),Math.abs(v))&&Math.abs(a-w)<=S*Math.max(1,Math.abs(a),Math.abs(w))}const w5e=wde,_5e=Sde;Object.freeze(Object.defineProperty({__proto__:null,add:m5e,copy:u5e,determinant:h5e,equals:b5e,exactEquals:v5e,frob:f5e,fromRotation:_de,fromScaling:xde,fromTranslation:dB,identity:bde,invert:uB,mul:w5e,multiply:wde,multiplyScalar:g5e,multiplyScalarAndAdd:y5e,rotate:dk,scale:o3,set:d5e,str:p5e,sub:_5e,subtract:Sde,translate:o1},Symbol.toStringTag,{value:"Module"}));function kd(){return[1,0,0,1,0,0]}function x5e(t){return[t[0],t[1],t[2],t[3],t[4],t[5]]}function S5e(t,e,i,r,n,s){return[t,e,i,r,n,s]}const T5e=kd();Object.freeze(Object.defineProperty({__proto__:null,IDENTITY:T5e,clone:x5e,create:kd,fromValues:S5e},Symbol.toStringTag,{value:"Module"}));const vI={102100:{maxX:20037508342788905e-9,minX:-20037508342788905e-9,plus180Line:new Dr({paths:[[[20037508342788905e-9,-20037508342788905e-9],[20037508342788905e-9,20037508342788905e-9]]],spatialReference:Ke.WebMercator}),minus180Line:new Dr({paths:[[[-20037508342788905e-9,-20037508342788905e-9],[-20037508342788905e-9,20037508342788905e-9]]],spatialReference:Ke.WebMercator})},4326:{maxX:180,minX:-180,plus180Line:new Dr({paths:[[[180,-180],[180,180]]],spatialReference:Ke.WGS84}),minus180Line:new Dr({paths:[[[-180,-180],[-180,180]]],spatialReference:Ke.WGS84})}};function Gy(t,e){return Math.ceil((t-e)/(2*e))}function Tde(t,e){const i=KT(t);for(const r of i)for(const n of r)n[0]+=e;return t}function KT(t){return qw(t)?t.rings:t.paths}function $5e(t,e){return e?{...e,query:{...t,...e.query}}:{query:t}}function $de(t){return typeof t=="string"?Qr(t):ne(t)}function k5e(t,e,i){const r={};for(const n in t){if(n==="declaredClass")continue;const s=t[n];if(s!=null&&typeof s!="function")if(Array.isArray(s))r[n]=s.map(o=>k5e(o));else if(typeof s=="object")if(s.toJSON){const o=s.toJSON(i?.[n]);r[n]=e?o:JSON.stringify(o)}else r[n]=e?s:JSON.stringify(s);else r[n]=s}return r}function E5e(t,e){return t?e&&I9(t)?e:E9(t)??Zt?.findCredential(t)?.token:null}async function Qat(t,e,i){const r=E5e(t,e);return r||(!Zt&&ni.request.useIdentity&&await ke(()=>Promise.resolve().then(()=>yoe),void 0),(await Zt.getCredential(t,i))?.token)}async function I5e(t,e,i,r){const n=$de(t),s=e[0].spatialReference,o={...r,responseType:"json",query:{...n.query,f:"json",sr:JA(s),target:JSON.stringify({geometryType:D1(e[0]),geometries:e}),cutter:JSON.stringify(i)}},a=await Vt(n.path+"/cut",o),{cutIndexes:l,geometries:h=[]}=a.data;return{cutIndexes:l,geometries:h.map(f=>{const g=jd(f);return g.spatialReference=s,g})}}function C5e(t){return{geometryType:D1(t[0]),geometries:t.map(e=>e.toJSON())}}function kde(t,e,i){const r=PCe(e);return t.map(n=>{const s=r.fromJSON(n);return s.spatialReference=i,s})}async function M5e(t,e,i){const r=typeof t=="string"?Qr(t):t,n=e[0].spatialReference,s=D1(e[0]),o={...i,query:{...r.query,f:"json",sr:JA(n),geometries:JSON.stringify(C5e(e))}},{data:a}=await Vt(r.path+"/simplify",o);return kde(a.geometries,s,n)}const Ede=()=>Ee.getLogger("esri.geometry.support.normalizeUtils");function A5e(t){return t.type==="polygon"}function O5e(t){return t[0].type==="polygon"}function P5e(t){return t[0].type==="polyline"}function UJ(t){const e=[];let i=0,r=0;for(let n=0;n<t.length;n++){const s=t[n];let o=null;for(let a=0;a<s.length;a++)o=s[a],e.push(o),a===0?(i=o[0],r=i):(i=Math.min(i,o[0]),r=Math.max(r,o[0]));o&&e.push([(i+r)/2,0])}return e}function D5e(t,e){if(!(t instanceof Dr||t instanceof hr)){const n="straightLineDensify: the input geometry is neither polyline nor polygon";throw Ede().error(n),new ee("internal:geometry",n)}const i=KT(t),r=[];for(const n of i){const s=[];r.push(s),s.push([n[0][0],n[0][1]]);for(let o=0;o<n.length-1;o++){const a=n[o][0],l=n[o][1],h=n[o+1][0],f=n[o+1][1],g=Math.sqrt((h-a)*(h-a)+(f-l)*(f-l)),v=(f-l)/g,w=(h-a)/g,S=g/e;if(S>1){for(let A=1;A<=S-1;A++){const P=A*e,D=w*P+a,L=v*P+l;s.push([D,L])}const T=(g+Math.floor(S-1)*e)/2,C=w*T+a,I=v*T+l;s.push([C,I])}s.push([h,f])}}return A5e(t)?new hr({rings:r,spatialReference:t.spatialReference}):new Dr({paths:r,spatialReference:t.spatialReference})}function BJ(t,e,i){if(e){const r=D5e(t,1e6);t=kw(r,!0)}return i&&(t=Tde(t,i)),t}function HJ(t,e,i){if(Array.isArray(t)){const r=t[0];if(r>e){const n=Gy(r,e);t[0]=r+n*(-2*e)}else if(r<i){const n=Gy(r,i);t[0]=r+n*(-2*i)}}else{const r=t.x;if(r>e){const n=Gy(r,e);t=t.clone().offset(n*(-2*e),0)}else if(r<i){const n=Gy(r,i);t=t.clone().offset(n*(-2*i),0)}}return t}function R5e(t,e){let i=-1;for(let r=0;r<e.cutIndexes.length;r++){const n=e.cutIndexes[r],s=e.geometries[r],o=KT(s);for(let a=0;a<o.length;a++){const l=o[a];l.some(h=>{if(h[0]<180)return!0;{let f=0;for(let v=0;v<l.length;v++){const w=l[v][0];f=w>f?w:f}f=Number(f.toFixed(9));const g=-360*Gy(f,180);for(let v=0;v<l.length;v++){const w=s.getPoint(a,v);s.setPoint(a,v,w.clone().offset(g,0))}return!0}})}if(n===i){if(O5e(t))for(const a of KT(s))t[n]=t[n].addRing(a);else if(P5e(t))for(const a of KT(s))t[n]=t[n].addPath(a)}else i=n,t[n]=s}return t}async function L5e(t,e,i){if(!Array.isArray(t))return L5e([t],e);e&&typeof e!="string"&&Ede().warn("normalizeCentralMeridian()","The url object is deprecated, use the url string instead");const r=typeof e=="string"?e:e?.url??ni.geometryServiceUrl;let n,s,o,a,l,h,f,g,v=0;const w=[],S=[];for(const D of t)if(D!=null)if(n||(n=D.spatialReference,s=Ro(n),o=n.isWebMercator,h=o?102100:4326,a=vI[h].maxX,l=vI[h].minX,f=vI[h].plus180Line,g=vI[h].minus180Line),s)if(D.type==="mesh")S.push(D);else if(D.type==="point")S.push(HJ(D.clone(),a,l));else if(D.type==="multipoint"){const L=D.clone();L.points=L.points.map(B=>HJ(B,a,l)),S.push(L)}else if(D.type==="extent"){const L=D.clone()._normalize(!1,!1,s);S.push(L.rings?new hr(L):L)}else if(D.extent){const L=D.extent,B=Gy(L.xmin,l)*(2*a);let N=B===0?D.clone():Tde(D.clone(),B);L.offset(B,0);let{xmin:Y,xmax:K}=L;Y=Number(Y.toFixed(9)),K=Number(K.toFixed(9)),L.intersects(f)&&K!==a?(v=K>v?K:v,N=BJ(N,o),w.push(N),S.push("cut")):L.intersects(g)&&Y!==l?(v=K*(2*a)>v?K*(2*a):v,N=BJ(N,o,360),w.push(N),S.push("cut")):S.push(N)}else S.push(D.clone());else S.push(D);else S.push(D);let T=Gy(v,a),C=-90;const I=T,A=new Dr;for(;T>0;){const D=360*T-180;A.addPath([[D,C],[D,-1*C]]),C*=-1,T--}if(w.length>0&&I>0){const D=R5e(w,await I5e(r,w,A,i)),L=[],B=[];for(let K=0;K<S.length;K++){const te=S[K];if(te!=="cut")B.push(te);else{const ue=D.shift(),ye=t[K];ye!=null&&ye.type==="polygon"&&ye.rings&&ye.rings.length>1&&ue.rings.length>=ye.rings.length?(L.push(ue),B.push("simplify")):B.push(o?Rm(ue):ue)}}if(!L.length)return B;const N=await M5e(r,L,i),Y=[];for(let K=0;K<B.length;K++){const te=B[K];te!=="simplify"?Y.push(te):Y.push(o?Rm(N.shift()):N.shift())}return Y}const P=[];for(let D=0;D<S.length;D++){const L=S[D];if(L!=="cut")P.push(L);else{const B=w.shift();P.push(o===!0?Rm(B):B)}}return P}function z5e(t){if(!t)return null;const e=t.extent;if(!e)return null;const i=t.spatialReference&&Ro(t.spatialReference);if(!i)return e;const[r,n]=i.valid,s=2*n,{width:o}=e;let a,{xmin:l,xmax:h}=e;if([l,h]=[h,l],t.type==="extent"||o===0||o<=n||o>s||l<r||h>n)return e;switch(t.type){case"polygon":if(!(t.rings.length>1))return e;a=UJ(t.rings);break;case"polyline":if(!(t.paths.length>1))return e;a=UJ(t.paths);break;case"multipoint":a=t.points}const f=e.clone();for(let g=0;g<a.length;g++){let v=a[g][0];v<0?(v+=n,h=Math.max(v,h)):(v-=n,l=Math.min(v,l))}return f.xmin=l,f.xmax=h,f.width<o?(f.xmin-=n,f.xmax-=n,f):e}function hB(t,e,i){const r=Ro(i);if(r==null)return t;const[n,s]=r.valid,o=2*s;let a=0,l=0;e>s?a=Math.ceil(Math.abs(e-s)/o):e<n&&(a=-Math.ceil(Math.abs(e-n)/o)),t>s?l=Math.ceil(Math.abs(t-s)/o):t<n&&(l=-Math.ceil(Math.abs(t-n)/o));let h=t+(a-l)*o;const f=h-e;return f>s?h-=o:f<n&&(h+=o),h}function elt(t,e){return pB(e)?.normalize(t)??t}function pB(t){const e=Ro(t);if(e==null)return null;const[i,r]=e.valid;return new jD(i,r)}const tlt=pB(Ke.WGS84);pB(Ke.WebMercator);const Ide=96,Cde=39.37,N5e=180/Math.PI;function Mde(t){return t.wkid?t:t.spatialReference||Ke.WGS84}function fB(t,e){return e.type?ss(t,e.x,e.y):Bw(t,e)}function Ade(t){return dc(t)}function a3(t,e,i=0){let r=t.width,n=t.height;if(i!==0){const a=K$(i),l=Math.abs(Math.cos(a)),h=Math.abs(Math.sin(a));r=t.width*l+t.height*h,n=t.width*h+t.height*l}const s=Math.max(1,e[0]),o=Math.max(1,e[1]);return Math.max(r/s,n/o)*G5e(t.spatialReference)}async function HS(t,e,i,r){let n,s;if(!t||Array.isArray(t)&&!t.length)return null;if(We.isCollection(t)&&(t=t.toArray()),Array.isArray(t)&&t.length&&typeof t[0]=="object"){const a=t.every(f=>"attributes"in f),l=t.some(f=>!f.geometry);let h=t;if(a&&l&&e&&e.allLayerViews){const f=new Map;for(const S of t){const T=S.layer,C=f.get(T)||[],I=S.attributes[T.objectIdField];I!=null&&C.push(I),f.set(T,C)}const g=[];f.forEach((S,T)=>{const C=e.allLayerViews?.find(I=>I.layer.id===T.id);if(C&&"queryFeatures"in C){const I=T.createQuery();I.objectIds=S,I.returnGeometry=!0,g.push(C.queryFeatures(I))}});const v=await Promise.all(g),w=[];for(const S of v)if(S&&S.features&&S.features.length)for(const T of S.features)T.geometry!=null&&w.push(T.geometry);h=w}for(const f of h)r=await HS(f,e,i,r);return r}if(Array.isArray(t)&&t.length===2&&typeof t[0]=="number"&&typeof t[1]=="number")n=new wt(t);else if(t instanceof Rn)n=t;else if("geometry"in t){if(t.geometry)n=t.geometry;else if(t.layer){const a=t.layer,l=e.allLayerViews?.find(h=>h.layer.id===a.id);if(l&&"queryFeatures"in l){const h=a.createQuery();h.objectIds=[t.attributes[a.objectIdField]],h.returnGeometry=!0,n=(await l.queryFeatures(h))?.features?.[0]?.geometry}}}if(n==null)return null;switch(n.type){case"point":s=new jt({xmin:n.x,ymin:n.y,xmax:n.x,ymax:n.y,spatialReference:n.spatialReference});break;case"extent":case"multipoint":case"polygon":case"polyline":s=z5e(n);break;default:s=n.extent}if(!s)return null;Fp()||wu(s.spatialReference,i)||await Zm();const o=rg(s,i);if(!o)return null;if(r){const a=o.center,l=a.clone();l.x=hB(a.x,r.center.x,i),l.x!==a.x&&o.centerAt(l),r=r.union(o)}else r=o;return r}function j5e(t){if(t&&(!Array.isArray(t)||typeof t[0]!="number")&&(typeof t=="object"||Array.isArray(t)&&typeof t[0]=="object")){if("layer"in t&&t.layer?.minScale!=null&&t.layer.maxScale!=null){const e=t.layer;return{min:e.minScale,max:e.maxScale}}if(Array.isArray(t)&&t.length&&t.every(e=>"layer"in e)){let e=0,i=0;for(const r of t){const n=r.layer;n?.minScale&&n.maxScale&&(e=n.minScale<e?n.minScale:e,i=n.maxScale>i?n.maxScale:i)}return e&&i?{min:e,max:i}:null}}}function qJ(t,e){const i=Mde(t);return Un(i,e)||i.imageCoordinateSystem||e.imageCoordinateSystem?t:rg(t,e)}async function F5e(t,e){if(!t||!e)return new Vn({targetGeometry:new wt,scale:0,rotation:0});let i=e.spatialReference;const{constraints:r,padding:n,viewpoint:s,size:o}=e,a=[n?o[0]-n.left-n.right:o[0],n?o[1]-n.top-n.bottom:o[1]];let l=null;t instanceof Vn?l=t:t.viewpoint?l=t.viewpoint:t.target&&t.target.declaredClass==="esri.Viewpoint"&&(l=t.target);let h=null;l?.targetGeometry?h=l.targetGeometry:t instanceof jt?h=t:t instanceof Rn?h=await HS(t,e,i):t&&(h=await HS(t.center,e,i)||await HS(t.target,e,i)||await HS(t,e,i)),!h&&s?.targetGeometry?h=s.targetGeometry:!h&&e.extent&&(h=e.extent),i||(i=Mde(e.spatialReference||e.extent||h)),Fp()||Un(h.spatialReference,i)||wu(h.spatialReference,i)||await Zm();const f=qJ(h,i),g="center"in f?f.center:f;e.pickClosestTarget!==!1&&g.type==="point"&&s.targetGeometry?.type==="point"&&(g.x=hB(g.x,s.targetGeometry.x,g.spatialReference));let v=0;l?v=l.rotation:t.hasOwnProperty("rotation")?v=t.rotation:s&&(v=s.rotation);let w=0;w=l?.targetGeometry!=null&&l.targetGeometry.type==="point"?l.scale:"scale"in t&&t.scale?t.scale:"zoom"in t&&t.zoom!==-1&&r&&r.effectiveLODs?r.zoomToScale(t.zoom):Array.isArray(h)||h.type==="point"||h.type==="extent"&&h.width===0&&h.height===0?s.scale:a3(qJ(h.extent,i),a,v);const S=j5e(t.target??t);S&&(S.min&&S.min<w?w=S.min:S.max&&S.max>w&&(w=S.max));let T=new Vn({targetGeometry:g,scale:w,rotation:v});return r&&(T=r.fit(T),r.constrainByGeometry(T),r.rotationEnabled||(T.rotation=s.rotation)),T}function ao(t,e){const i=t.targetGeometry,r=e.targetGeometry;return i.x=r.x,i.y=r.y,i.spatialReference=r.spatialReference,t.scale=e.scale,t.rotation=e.rotation,t}function V5e(t,e,i){return i?ss(t,.5*(e[0]-i.right+i.left),.5*(e[1]-i.bottom+i.top)):Q$(t,e,.5)}const U5e=(function(){const t=Lr();return function(e,i,r){const n=i.targetGeometry;fB(t,n);const s=.5*z1(i);return e.xmin=t[0]-s*r[0],e.ymin=t[1]-s*r[1],e.xmax=t[0]+s*r[0],e.ymax=t[1]+s*r[1],e.spatialReference=n.spatialReference,e}})();function B5e(t,e,i,r,n){return i6(t,e,i.center),t.scale=a3(i,r),n?.constraints?.constrain(t),t}function H5e(t,e,i,r){return yB(t,e,i,r),uB(t,t)}const Ode=(function(){const t=Lr();return function(e,i,r){return kU(e,W5e(e,i),V5e(t,i,r))}})(),q5e=(function(){const t=kd(),e=Lr();return function(i,r,n,s){const o=z1(r),a=mB(r);return ss(e,o,o),xde(t,e),dk(t,t,a),o1(t,t,Ode(e,n,s)),o1(t,t,[0,s.top-s.bottom]),ss(i,t[4],t[5])}})();function z1(t){return t.scale*Pde(t.targetGeometry?.spatialReference)}function Pde(t){return ll(t)?1/(Ade(t)*Cde*Ide):1}function mB(t){return $U(t.rotation)||0}function G5e(t){return ll(t)?Ade(t)*Cde*Ide:1}function W5e(t,e){return Q$(t,e,.5)}const gB=(function(){const t=Lr(),e=Lr(),i=Lr();return function(r,n,s,o,a,l){return Rae(t,n),Q$(e,s,.5*l),ss(i,1/o*l,-1/o*l),dB(r,e),a&&dk(r,r,a),o3(r,r,i),o1(r,r,t),r}})(),yB=(function(){const t=Lr();return function(e,i,r,n){const s=z1(i),o=mB(i);return fB(t,i.targetGeometry),gB(e,t,r,s,o,n)}})(),Y5e=(function(){const t=Lr();return function(e,i,r,n){const s=z1(i);return fB(t,i.targetGeometry),gB(e,t,r,s,0,n)}})();function Dde(t){const e=Ro(t);return e?e.valid[1]-e.valid[0]:0}function Z5e(t,e){return Math.round(Dde(t)/e)}const J5e=(function(){const t=Lr(),e=Lr(),i=[0,0,0];return function(r,n,s){N2(t,r,n),oF(t,t),N2(e,r,s),oF(e,e),zae(i,t,e);let o=Math.acos(Lae(t,e)/(cO(t)*cO(e)))*N5e;return i[2]<0&&(o=-o),isNaN(o)&&(o=0),o}})(),X5e=(function(){const t=Lr();return function(e,i,r,n){const s=e.targetGeometry;return ao(e,i),q5e(t,i,r,n),s.x+=t[0],s.y+=t[1],e}})(),i6=function(t,e,i){ao(t,e);const r=t.targetGeometry;return r.x=i.x,r.y=i.y,r.spatialReference=i.spatialReference,t},K5e=(function(){const t=Lr();return function(e,i,r,n,s){s||(s="center"),kU(t,r,n),Q$(t,t,.5);const o=t[0],a=t[1];switch(s){case"center":ss(t,0,0);break;case"left":ss(t,-o,0);break;case"top":ss(t,0,a);break;case"right":ss(t,o,0);break;case"bottom":ss(t,0,-a);break;case"top-left":ss(t,-o,a);break;case"bottom-left":ss(t,-o,-a);break;case"top-right":ss(t,o,a);break;case"bottom-right":ss(t,o,-a)}return l3(e,i,t),e}})();function ilt(t,e,i){return ao(t,e),t.rotation+=i,t}function Q5e(t,e,i){return ao(t,e),t.rotation=i,t}const eLe=(function(){const t=Lr();return function(e,i,r,n,s){return ao(e,i),isNaN(r)||r===0||(Lde(t,n,i,s),e.scale=i.scale*r,zde(t,t,e,s),l3(e,e,ss(t,t[0]-n[0],n[1]-t[1]))),e}})();function GJ(t,e,i){return ao(t,e),t.scale=i,t}const Rde=(function(){const t=Lr();return function(e,i,r,n,s,o){return ao(e,i),isNaN(r)||r===0||(Lde(t,s,i,o),e.scale=i.scale*r,e.rotation+=n,zde(t,t,e,o),l3(e,e,ss(t,t[0]-s[0],s[1]-t[1]))),e}})(),rlt=(function(){const t=Lr(),e=Lr();return function(i,r,n,s,o,a,l){return Ode(e,a,l),Aae(t,o,e),s?Rde(i,r,n,s,t,a):eLe(i,r,n,t,a)}})(),Lde=(function(){const t=kd();return function(e,i,r,n){return gd(e,i,H5e(t,r,n,1))}})(),zde=(function(){const t=kd();return function(e,i,r,n){return gd(e,i,yB(t,r,n,1))}})(),l3=(function(){const t=Lr(),e=kd();return function(i,r,n){ao(i,r);const s=z1(r),o=i.targetGeometry;return _de(e,mB(r)),o3(e,e,uk(s,s)),gd(t,n,e),o.x+=t[0],o.y+=t[1],i}})();function Nde(){const t=new Float32Array(6);return t[0]=1,t[3]=1,t}function tLe(t){const e=new Float32Array(6);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e}function iLe(t,e,i,r,n,s){const o=new Float32Array(6);return o[0]=t,o[1]=e,o[2]=i,o[3]=r,o[4]=n,o[5]=s,o}function jde(t,e,i,r){const n=e[r],s=e[r+1];t[r]=i[0]*n+i[2]*s+i[4],t[r+1]=i[1]*n+i[3]*s+i[5]}function rLe(t,e,i,r=0,n=0,s=2){const o=n||e.length/s;for(let a=r;a<o;a++)jde(t,e,i,a*s)}Object.freeze(Object.defineProperty({__proto__:null,clone:tLe,create:Nde,fromValues:iLe,transform:jde,transformMany:rLe},Symbol.toStringTag,{value:"Module"}));function EM(){const t=new Float32Array(9);return t[0]=1,t[4]=1,t[8]=1,t}function nLe(t){const e=new Float32Array(9);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e}function sLe(t,e,i,r,n,s,o,a,l){const h=new Float32Array(9);return h[0]=t,h[1]=e,h[2]=i,h[3]=r,h[4]=n,h[5]=s,h[6]=o,h[7]=a,h[8]=l,h}Object.freeze(Object.defineProperty({__proto__:null,clone:nLe,create:EM,fromValues:sLe},Symbol.toStringTag,{value:"Module"}));function Fde(){return new Float32Array(2)}function oLe(t){const e=new Float32Array(2);return e[0]=t[0],e[1]=t[1],e}function a1(t,e){const i=new Float32Array(2);return i[0]=t,i[1]=e,i}function Vde(){return Fde()}function Ude(){return a1(1,1)}function Bde(){return a1(1,0)}function Hde(){return a1(0,1)}const aLe=Vde(),lLe=Ude(),cLe=Bde(),uLe=Hde();Object.freeze(Object.defineProperty({__proto__:null,ONES:lLe,UNIT_X:cLe,UNIT_Y:uLe,ZEROS:aLe,clone:oLe,create:Fde,fromValues:a1,ones:Ude,unitX:Bde,unitY:Hde,zeros:Vde},Symbol.toStringTag,{value:"Module"}));function dLe(t){return t instanceof Float32Array&&t.length>=2}function hLe(t){return Array.isArray(t)&&t.length>=2}function mz(t){return dLe(t)||hLe(t)}var r6;const vh=[0,0];let Dh=r6=class extends ge{constructor(t){super(t),this._viewpoint2D={center:Lr(),rotation:0,scale:0,spatialReference:void 0},this.center=[0,0],this.extent=new jt,this.id=0,this.inverseTransform=kd(),this.resolution=0,this.rotation=0,this.scale=0,this.transform=kd(),this.transformNoRotation=kd(),this.displayMat3=EM(),this.displayViewMat3=EM(),this.viewMat3=EM(),this.viewMat2d=Nde(),this.worldScreenWidth=0,this.size=[0,0]}set pixelRatio(t){this._set("pixelRatio",t),this._update()}set size(t){this._set("size",t),this._update()}set viewpoint(t){if(t){const e=this._viewpoint2D,i=t.targetGeometry;e.center[0]=i.x,e.center[1]=i.y,e.rotation=t.rotation,e.scale=t.scale,e.spatialReference=i.spatialReference}this._update()}get visibleArea(){const[t,e]=this.size;return[this.toMap([0,0],0,0),this.toMap([0,0],0,e),this.toMap([0,0],t,e),this.toMap([0,0],t,0)]}copy(t){const e=this.size,i=this.viewpoint;return i&&e?(this.viewpoint=ao(i,t.viewpoint),this._set("size",Bw(e,t.size))):(this.viewpoint=t.viewpoint.clone(),this._set("size",[t.size[0],t.size[1]])),this._set("pixelRatio",t.pixelRatio),this}clone(){return new r6({size:this.size,viewpoint:this.viewpoint.clone(),pixelRatio:this.pixelRatio})}toMap(t,e,i){return mz(e)?gd(t,e,this.inverseTransform):(vh[0]=e,vh[1]=i,gd(t,vh,this.inverseTransform))}toScreen(t,e,i){return mz(e)?gd(t,e,this.transform):(vh[0]=e,vh[1]=i,gd(t,vh,this.transform))}toScreenNoRotation(t,e,i){return mz(e)?gd(t,e,this.transformNoRotation):(vh[0]=e,vh[1]=i,gd(t,vh,this.transformNoRotation))}wrapMapCoordinate(t,e){Bw(t,e);const[i]=e,[r]=this.center,{extent:n,spatialReference:s}=this;let{xmin:o,xmax:a}=n;if(s.isWrappable){const l=Dde(s)/2;o=Math.max(o,r-l),a=Math.min(a,r+l)}return(i<o||i>a)&&(t[0]=hB(i,r,s)),t}getScreenTransform(t,e){const{center:i}=this._viewpoint2D,r=this._get("pixelRatio")||1,n=this._get("size");return gB(t,i,n,e,0,r),t}_update(){const{center:t,spatialReference:e,scale:i,rotation:r}=this._viewpoint2D,n=this._get("pixelRatio")||1,s=this._get("size"),o=new Vn({targetGeometry:new wt(t[0],t[1],e),scale:i,rotation:r});if(this._set("viewpoint",o),!s||!e||!i)return;this.resolution=z1(o),this.rotation=r,this.scale=i,this.spatialReference=e,Bw(this.center,t);const a=s[0]!==0?2/s[0]:0,l=s[1]!==0?-2/s[1]:0;Hw(this.displayMat3,a,0,0,0,l,0,-1,1,1);const h=Bae(this.viewMat3),f=a1(s[0]/2,s[1]/2),g=a1(-s[0]/2,-s[1]/2),v=$U(r);lF(h,h,f),Gae(h,h,v),lF(h,h,g),F2(this.displayViewMat3,this.displayMat3,h);const w=dB(this.viewMat2d,f);return dk(w,w,v),o1(w,w,g),U5e(this.extent,o,s),yB(this.transform,o,s,n),uB(this.inverseTransform,this.transform),Y5e(this.transformNoRotation,o,s,n),this.worldScreenWidth=Z5e(this.spatialReference,this.resolution),this._set("id",this.id+1),this.notifyChange("visibleArea"),this}};u([p({readOnly:!0})],Dh.prototype,"id",void 0),u([p({value:1,json:{write:!0}})],Dh.prototype,"pixelRatio",null),u([p({json:{write:!0}})],Dh.prototype,"size",null),u([p()],Dh.prototype,"spatialReference",void 0),u([p({type:Vn,json:{write:!0}})],Dh.prototype,"viewpoint",null),u([p({readOnly:!0})],Dh.prototype,"visibleArea",null),Dh=r6=u([j("esri.views.2d.ViewState")],Dh);const WJ=Dh;var n6,s6;let up=n6=class extends at{constructor(){super(...arguments),this.left=0,this.top=0,this.right=0,this.bottom=0}clone(){return new n6({left:this.left,top:this.top,right:this.right,bottom:this.bottom})}};u([p()],up.prototype,"left",void 0),u([p()],up.prototype,"top",void 0),u([p()],up.prototype,"right",void 0),u([p()],up.prototype,"bottom",void 0),up=n6=u([j("esri.views.2d.PaddedViewState.Padding")],up);let D0=s6=class extends WJ{constructor(...t){super(...t),this.paddedViewState=new WJ,this._updateContent=(()=>{const e=Lr();return()=>{const i=this._get("size"),r=this._get("padding");if(!i||!r)return;const n=this.paddedViewState;ss(e,r.left+r.right,r.top+r.bottom),N2(e,i,e),Bw(n.size,e);const s=n.viewpoint;s&&(this.viewpoint=s)}})(),this.addHandles(ft(()=>[this.size,this.padding],()=>this._updateContent(),zd)),this.padding=new up,this.size=[0,0]}set padding(t){this._set("padding",t||new up)}set viewpoint(t){if(t){this.paddedViewState.viewpoint=t;let e=t;const i=this._get("padding");i&&(e=X5e(t.clone(),t,this._get("size"),i));const{targetGeometry:r,rotation:n,scale:s}=e,{x:o,y:a,spatialReference:l}=r,h=this._viewpoint2D;h.center[0]=o,h.center[1]=a,h.rotation=n,h.scale=s,h.spatialReference=l,this._update()}}clone(){return new s6({padding:this.padding.clone(),size:this.size.slice(),viewpoint:this.paddedViewState.viewpoint.clone(),pixelRatio:this.pixelRatio})}};u([p()],D0.prototype,"paddedViewState",void 0),u([p({type:up})],D0.prototype,"padding",null),u([p()],D0.prototype,"viewpoint",null),D0=s6=u([j("esri.views.2d.PaddedViewState")],D0);const vB=D0;let qS=class extends at{constructor(){super(...arguments),this.SCHEDULER_LOG_SLOW_TASKS=!1,this.FEATURE_SERVICE_SNAPPING_SOURCE_TILE_TREE_SHOW_TILES=!1}};u([p()],qS.prototype,"SCHEDULER_LOG_SLOW_TASKS",void 0),u([p()],qS.prototype,"FEATURE_SERVICE_SNAPPING_SOURCE_TILE_TREE_SHOW_TILES",void 0),qS=u([j("esri.views.support.debugFlags")],qS);const pLe=new qS,qde=Symbol("Yield");let fLe=class{constructor(){this._tasks=new Array,this._numPendingTasks=J_(0),this._readyToRun=J_(!1)}get length(){return this._tasks.length}get updating(){return this._numPendingTasks.value>0}get readyToRun(){return this._readyToRun.value}_updateReadyToRun(){this._readyToRun.value=this._tasks.length>0}destroy(){this.cancelAll()}runTask(e){if(this.length===0)return qde;for(;!e.done&&this._process(e);)e.madeProgress()}push(e,i,r){return this._addTask((n,s)=>new ZJ(n,s,e,i,r),Array.prototype.push)}unshift(e,i,r){return this._addTask((n,s)=>new ZJ(n,s,e,i,r),Array.prototype.unshift)}pushGenerator(e,i,r){return this._addTask((n,s)=>new mLe(n,s,e,i,r),Array.prototype.push)}_process(e){if(this._tasks.length===0)return!1;const i=this._tasks.shift();this._updateReadyToRun();try{if(Rs(i.signal))this._cancelTask(i,Si());else switch(i.type){case 0:this._processSimple(i,e);break;case 1:this._processGenerator(i,e);break;case 2:this._processIterator(i,e);break;default:}}catch(r){i.reject(r)}return!0}cancelAll(){const e=Si();for(const i of this._tasks)this._cancelTask(i,e);this._tasks.length=0,this._updateReadyToRun()}_cancelTask(e,i){if(e.abortCallback){const r=e.abortCallback(i);e.type===2&&e.iterator.return&&YJ(e.iterator.return()),co(r)?r.then(e.resolve,e.reject):e.resolve(r)}else e.type===2&&e.iterator.throw&&YJ(e.iterator.throw(i)),e.reject(i)}_onIteratorResult(e,i){i.done?e.resolve(i.value):(this._tasks.unshift(e),this._updateReadyToRun())}_processSimple(e,i){const r=e.callback(i);co(r)?r.then(e.resolve,e.reject):e.resolve(r)}_processGenerator(e,i){const r=e.generatorFunction(i),n=new gLe(e.resolve,e.reject,r,e.signal,e.abortCallback);this._processIterator(n,i)}_processIterator(e,i){const r=e.iterator.next(i);co(r)?r.then(n=>this._onIteratorResult(e,n),e.reject):this._onIteratorResult(e,r)}_addTask(e,i){return new Promise((r,n)=>{const s=e(r,n);i.call(this._tasks,s),++this._numPendingTasks.value,this._updateReadyToRun()}).finally(()=>--this._numPendingTasks.value)}};function YJ(t){co(t)?t.then(gz,gz):gz(t)}function gz(t){us(t)||t instanceof Error||t instanceof ee||t!=null&&typeof t=="object"&&"done"in t&&t.done||Ee.getLogger("esri.layers.support.PromiseQueue").warn("Generator iterator was aborted, but it is not done.")}let bB=class{constructor(e,i,r=void 0,n=void 0){this.resolve=e,this.reject=i,this.signal=r,this.abortCallback=n}},ZJ=class extends bB{constructor(e,i,r,n,s){super(e,i,n,s),this.callback=r,this.type=0}},mLe=class extends bB{constructor(e,i,r,n,s){super(e,i,n,s),this.generatorFunction=r,this.type=1}},gLe=class extends bB{constructor(e,i,r,n,s){super(e,i,n,s),this.iterator=r,this.type=2}};function yLe(){return new xLe}const Wt={RESOURCE_CONTROLLER_IMMEDIATE:"immediate",RESOURCE_CONTROLLER:"schedule",SLIDE:"slide",STREAM_DATA_LOADER:"stream loader",ELEVATION_QUERY:"elevation query",TERRAIN_SURFACE:"terrain",SURFACE_GEOMETRY_UPDATES:"surface geometry updates",LOD_RENDERER:"LoD renderer",GRAPHICS_CORE:"Graphics3D",I3S_CONTROLLER:"I3S",POINT_CLOUD_LAYER:"point cloud",FEATURE_TILE_FETCHER:"feature fetcher",STREAM_CONTROLLER:"stream controller",OVERLAY:"overlay",OVERLAY_RENDERER:"overlay renderer",STAGE:"stage",GRAPHICS_DECONFLICTOR:"graphics deconflictor",FILTER_VISIBILITY:"Graphics3D filter visibility",SCALE_VISIBILITY:"Graphics3D scale visibility",FRUSTUM_VISIBILITY:"Graphics3D frustum visibility",POINT_OF_INTEREST_FREQUENT:"POI frequent",POINT_OF_INTEREST_INFREQUENT:"POI infrequent",LABELER:"labeler",FEATURE_QUERY_ENGINE:"feature query",FEATURE_TILE_TREE:"feature tile tree",FEATURE_TILE_TREE_ACTIVE:"fast feature tile tree",ELEVATION_ALIGNMENT:"elevation alignment",ELEVATION_ALIGNMENT_SCENE:"elevation alignment scene",TEXT_TEXTURE_ATLAS:"text texture atlas",TEXTURE_UNLOAD:"texture unload",LINE_OF_SIGHT_TOOL:"line of sight tool",LINE_OF_SIGHT_TOOL_INTERACTIVE:"interactive line of sight tool",ELEVATION_PROFILE:"elevation profile",SNAPPING:"snapping",SHADOW_ACCUMULATOR:"shadow accumulator",CLOUDS_GENERATOR:"clouds generator",FLOW_GENERATOR:"flow generator",MAPVIEW_FETCH_QUEUE:"mapview fetch queue",MAPVIEW_LAYERVIEW_UPDATE:"mapview layerview update",MAPVIEW_VECTOR_TILE_PARSING_QUEUE:"mapview vector tile parsing queue",NONE:0,TEST_PRIO:1},Gl=0,JJ=new Map([[Wt.RESOURCE_CONTROLLER_IMMEDIATE,Gl],[Wt.RESOURCE_CONTROLLER,4],[Wt.SLIDE,Gl],[Wt.STREAM_DATA_LOADER,Gl],[Wt.ELEVATION_QUERY,Gl],[Wt.TERRAIN_SURFACE,1],[Wt.SURFACE_GEOMETRY_UPDATES,1],[Wt.LOD_RENDERER,2],[Wt.GRAPHICS_CORE,2],[Wt.I3S_CONTROLLER,2],[Wt.POINT_CLOUD_LAYER,2],[Wt.FEATURE_TILE_FETCHER,2],[Wt.STREAM_CONTROLLER,2],[Wt.CLOUDS_GENERATOR,2],[Wt.OVERLAY,4],[Wt.OVERLAY_RENDERER,4],[Wt.STAGE,4],[Wt.GRAPHICS_DECONFLICTOR,4],[Wt.FILTER_VISIBILITY,4],[Wt.SCALE_VISIBILITY,4],[Wt.FRUSTUM_VISIBILITY,4],[Wt.POINT_OF_INTEREST_FREQUENT,6],[Wt.POINT_OF_INTEREST_INFREQUENT,30],[Wt.LABELER,8],[Wt.FEATURE_QUERY_ENGINE,8],[Wt.FEATURE_TILE_TREE,16],[Wt.FEATURE_TILE_TREE_ACTIVE,Gl],[Wt.ELEVATION_ALIGNMENT,12],[Wt.ELEVATION_ALIGNMENT_SCENE,14],[Wt.TEXT_TEXTURE_ATLAS,12],[Wt.TEXTURE_UNLOAD,12],[Wt.LINE_OF_SIGHT_TOOL,16],[Wt.LINE_OF_SIGHT_TOOL_INTERACTIVE,Gl],[Wt.SNAPPING,Gl],[Wt.SHADOW_ACCUMULATOR,30],[Wt.FLOW_GENERATOR,12],[Wt.MAPVIEW_FETCH_QUEUE,Gl],[Wt.MAPVIEW_LAYERVIEW_UPDATE,2],[Wt.MAPVIEW_VECTOR_TILE_PARSING_QUEUE,Gl]]);function XJ(t){return JJ.has(t)?JJ.get(t):typeof t=="number"?t:1}const vLe=6.5,KJ=1,bLe=30,wLe=1e3/30,_Le=100,QJ=.9;let xLe=class{get updating(){return this._updating.value}_updatingChanged(){this._updating.value=this._tasks.some(e=>e.needsUpdate)}constructor(){this._updating=J_(!0),this._microTaskQueued=!1,this._frameNumber=0,this.performanceInfo={total:new kT("total"),tasks:new Map},this._frameTaskTimes=new Map,this._budget=new Gde,this.state=1,this._tasks=new Array,this._runQueue=new Array,this._load=0,this._forceTask=!1,this._debug=!1,this._debugHandle=ft(()=>pLe.SCHEDULER_LOG_SLOW_TASKS,e=>this._debug=e,Ls);for(const e of Object.keys(Wt))this.performanceInfo.tasks.set(Wt[e],new kT(String(Wt[e])))}destroy(){this._tasks.forEach(e=>e.remove()),this._tasks.length=0,this._runQueue.length=0,rr(this._debugHandle),this._microTaskQueued=!1,this._updatingChanged()}taskRunningChanged(e){this._updatingChanged(),e&&this._budget.remaining>0&&!this._microTaskQueued&&(this._microTaskQueued=!0,queueMicrotask(()=>{this._microTaskQueued&&(this._microTaskQueued=!1,this._budget.remaining>0&&this._schedule()&&this._runFrame())}))}registerTask(e,i){const r=new SLe(this,e,i);return this._tasks.push(r),this._updatingChanged(),this.performanceInfo.tasks.has(e)||this.performanceInfo.tasks.set(e,new kT(e)),r}get load(){return this._load}frame(e){if(this._startFrameTaskTimes(),this._updateBudget(e)){const i=this._budget.now();return this._runFrame(),this._recordFrameTaskTimes(this._budget.now()-i),!0}return this._recordFrameTaskTimes(0),!1}_updateBudget(e){this._test&&(this._test.usedBudget=0),++this._frameNumber;let i=vLe,r=e.frameDuration,n=KJ;switch(this.state){case 2:i=0,r=Math.max(_Le,e.frameDuration),n=bLe;break;case 1:r=Math.max(wLe,e.frameDuration)}return r=r-e.elapsedFrameTime-i,this.state!==2&&r<KJ&&!this._forceTask?(this._forceTask=!0,!1):(r=Math.max(r,n),this._budget.reset(r),this._updateLoad(),this._schedule())}_runFrame(){switch(this._forceTask=!1,this._microTaskQueued=!1,this.state){case 2:this._runIdle();break;case 1:this._runInteracting();break;default:this._runAnimating()}this._test&&(this._test.usedBudget=this._budget.elapsed)}stopFrame(){this._budget.reset(0),this._budget.madeProgress()}removeTask(e){BN(this._tasks,e),BN(this._runQueue,e),this._updatingChanged()}_updateTask(e){this._tasks.forEach(i=>{i.name===e&&i.setPriority(e)})}_getState(e){if(this._runQueue.some(r=>r.name===e))return"s";let i="i";return this._tasks.forEach(r=>{r.name===e&&r.needsUpdate&&(r.schedulePriority<=1?i="r":i!=="r"&&(i="w"))}),i}_getRuntime(e){let i=0;return this._tasks.forEach(r=>{r.name===e&&(i+=r.runtime)}),i}_resetRuntimes(){this._tasks.forEach(e=>e.runtime=0)}_getRunning(){const e=new Map;if(this._tasks.forEach(r=>{r.needsUpdate&&e.set(r.name,(e.get(r.name)||0)+1)}),e.size===0)return null;let i="";return e.forEach((r,n)=>{i+=r>1?` ${r}x ${n}`:` ${n}`}),i}_runIdle(){this._run()}_runInteracting(){this._run()}_runAnimating(){this._run()}_updateLoad(){const e=this._tasks.reduce((i,r)=>r.needsUpdate?++i:i,0);this._load=this._load*QJ+e*(1-QJ)}_schedule(){for(Nve(this._runQueue,e=>!!e.needsUpdate||(e.schedulePriority=e.basePriority,!1)),this._tasks.forEach(e=>{e.basePriority===Gl&&e.needsUpdate&&!this._runQueue.includes(e)&&e.blockFrame!==this._frameNumber&&this._runQueue.unshift(e)});this._runQueue.length===0;){let e=!1,i=0;if(this._tasks.forEach(r=>{r.needsUpdate&&r.schedulePriority!==0&&r.basePriority!==Gl&&r.blockFrame!==this._frameNumber&&(e=!0,i=Math.max(i,r.basePriority),r.schedulePriority===1?(r.schedulePriority=0,this._runQueue.push(r)):--r.schedulePriority)}),!e)return this._updatingChanged(),!1}return this._updatingChanged(),!0}_run(){do for(;this._runQueue.length>0;){const e=this._budget.now(),i=this._runQueue.pop();this._budget.resetProgress();try{i.task.runTask(this._budget)===qde&&(i.blockFrame=this._frameNumber)}catch(n){Ee.getLogger("esri.views.support.Scheduler").error(`Exception in task "${i.name}"`,n),i.blockFrame=this._frameNumber}!this._budget.hasProgressed&&i.blockFrame!==this._frameNumber&&i.needsUpdate&&(i.name,i.blockFrame=this._frameNumber),i.schedulePriority=i.basePriority;const r=this._budget.now()-e;if(i.runtime+=r,this._frameTaskTimes.set(i.priority,this._frameTaskTimes.get(i.priority)+r),this._budget.remaining<=0)return void this._updatingChanged()}while(this._schedule());this._updatingChanged()}_startFrameTaskTimes(){for(const e of Object.keys(Wt))this._frameTaskTimes.set(Wt[e],0)}_recordFrameTaskTimes(e){this._frameTaskTimes.forEach((i,r)=>this.performanceInfo.tasks.get(r).push(i)),this.performanceInfo.total.push(e)}get test(){return this._test}},SLe=class{get task(){return this._task.value}get readyToRun(){return this._queue.readyToRun}get updating(){return this._queue.updating}constructor(e,i,r){this._scheduler=e,this.name=i,this.blockFrame=0,this.runtime=0,this._queue=new fLe,this._handles=new y1,this._basePriority=XJ(i),this.schedulePriority=this._basePriority,this._task=J_(r??this._queue),this._handles.add(wa(()=>this.task.readyToRun,n=>e.taskRunningChanged(n)))}remove(){this.processQueue(QT),this._scheduler.removeTask(this),this.schedule=yz.schedule,this.reschedule=yz.reschedule,this.scheduleGenerator=yz.scheduleGenerator,this._handles.destroy()}get basePriority(){return this._basePriority}setPriority(e){if(this.name===e)return;this.name=e;const i=XJ(e);this._basePriority!==Gl&&this.schedulePriority===0||(this.schedulePriority=i),this._basePriority=i}get priority(){return this.name}set priority(e){this.setPriority(e)}get needsUpdate(){return this.readyToRun||!this.task.destroyed&&this.task.readyToRun}schedule(e,i,r){return this._queue.push(e,i,r)}reschedule(e,i,r){return this._queue.unshift(e,i,r)}scheduleGenerator(e,i,r){return this._queue.pushGenerator(e,i,r)}processQueue(e){return this._queue.runTask(e)}},Gde=class{constructor(){this._begin=performance?.now()??0,this._budget=0,this._done=!1,this._progressed=!1,this._enabled=!0}run(e){return!this.done&&(e()===!0&&this.madeProgress(),!0)}get done(){return this._done}get budget(){return this._budget}madeProgress(){return this._progressed=!0,this._done=this.elapsed>=this._budget&&this._enabled,this._done}get enabled(){return this._enabled}set enabled(e){this._enabled=e}reset(e){this._begin=this.now(),this._budget=e,this.resetProgress()}get remaining(){return Math.max(this._budget-this.elapsed,0)}now(){return performance.now()}get elapsed(){return this.now()-this._begin}resetProgress(){this._progressed=!1,this._done=!1}get hasProgressed(){return this._progressed}};const QT=new Gde;QT.enabled=!1;let TLe=class{remove(){}processQueue(){}schedule(e,i,r){try{if(Rs(i)){const n=Si();return r?Promise.resolve(r(n)):Promise.reject(n)}return GN(e(QT))}catch(n){return Promise.reject(n)}}reschedule(e,i,r){return this.schedule(e,i,r)}async scheduleGenerator(e,i,r){if(Rs(i)){const s=Si();if(r)return r(s);throw s}const n=e(QT);for(;;){const s=n.next(QT),o=co(s)?await s:s;if(Rs(i)){const a=Si();if(r){const h=r(a),f=n.return(null);return co(f)&&await T2(f),h}const l=n.throw(a);throw co(l)&&await T2(l),a}if(o.done)return o.value}}};const yz=new TLe;let $Le=class{constructor(e){this.view=e,this._stationaryHandle=null,this._frameTaskHandle=null,this._updateParameters=null,this._updateRequested=!1,this._scheduler=yLe(),this._schedulerHandle=wa(()=>this._scheduler.updating,()=>this.requestFrame()),this.stationary=!0,this.prepare=()=>{this._updateParameters&&(this._updateParameters.state=this.view.state,this._updateParameters.stationary=this.view.stationary,this._updateParameters.pixelRatio=window.devicePixelRatio,this._updateParameters.renderingOptions=this.view.renderingOptions,this._updateParameters.targetState.copy(this.view.state),this.view.animation?.target==null||co(this.view.animation.target)||(this._updateParameters.targetState.viewpoint=this.view.animation.target))},this.update=i=>{if(this._updateRequested=!1,this.view?.destroyed)return;const{allLayerViews:r,graphicsView:n,labelManager:s,state:{id:o}}=this.view;r?.forEach(this._updateLayerView,this),s!=null&&(s.lastUpdateId!==o&&(s.viewChange(),s.lastUpdateId=o),s.updateRequested&&s.processUpdate(this._updateParameters)),n!=null&&(n.lastUpdateId!==o&&(n.viewChange(),n.lastUpdateId=o),n.updateRequested&&n.processUpdate(this._updateParameters)),this.view.graphicsTileStore?.setViewState(this._updateParameters.state),this.view.animation?this._scheduler.state=0:this.view.interacting?this._scheduler.state=1:this._scheduler.state=2,this._scheduler.frame(i)||this._updateRequested||this._scheduler.state!==2||this._frameTaskHandle?.pause()}}destroy(){this.stop(),this._schedulerHandle.remove(),this._scheduler.destroy()}get scheduler(){return this._scheduler}start(){if(this._frameTaskHandle)return;const e=this.view;this.stationary=e.stationary,this._updateParameters={state:e.state,targetState:new vB,pixelRatio:window.devicePixelRatio,stationary:this.stationary,renderingOptions:e.renderingOptions},this._stationaryHandle=ft(()=>e.stationary,i=>{this.stationary=i,this.requestFrame()}),this._frameTaskHandle=j_(this),this.requestUpdate()}stop(){this._frameTaskHandle&&(this._updateRequested=!1,this._stationaryHandle?.remove(),this._frameTaskHandle.remove(),this._updateParameters=this._stationaryHandle=this._frameTaskHandle=null,this.stationary=!0)}requestUpdate(){this._updateRequested||(this._updateRequested=!0,this.requestFrame())}requestFrame(){this._frameTaskHandle&&this._frameTaskHandle.resume()}_updateLayerView(e){if(!e.attached)return void this.requestUpdate();const i=this.view.state,r=e.lastUpdateId;r!=null&&(this.stationary||e.moving)||(e.moving=!0),r!==i.id&&e.viewChange(),this.stationary&&e.moving&&(e.moving=!1,e.moveEnd()),e.lastUpdateId=i.id,e.updateRequested&&e.processUpdate(this._updateParameters),"layerViews"in e&&e.layerViews?.forEach(this._updateLayerView,this)}};function kLe(t,e){const{spatialReference:i}=e,r=[e.x,e.y];let n,s,o,a;const l=[0,0],h=ELe(t);for(let v=0;v<h.length;v++){const w=h[v];for(let S=0;S<w.length-1;S++){hCe(l,r,w,S);const T=VD(r,l);(n==null||T<n)&&(n=T,s=[...l],o=v,a=S)}}if(n==null||!s||o==null||a==null)throw new ee("nearest-coordinate:failed","Failed to find the nearest coordinate");const[f,g]=s;return{coordinate:new wt({x:f,y:g,spatialReference:i}),distance:n}}function ELe(t){switch(t.type){case"extent":return[[[t.xmin,t.ymin],[t.xmin,t.ymax],[t.xmax,t.ymax],[t.xmax,t.ymin],[t.xmin,t.ymin]]];case"polygon":return t.rings;case"polyline":return t.paths}}var o6;let Dy=o6=class extends FU(at){constructor(t){super(t),this.geometry=null,this.spatialReference=null}get normalizedGeometry(){if(this.geometry==null||!this.spatialReference)return null;if(!this.spatialReference.equals(this.geometry.spatialReference))try{return rg(this.geometry,this.spatialReference)}catch(t){return Ee.getLogger(this).error("#constraints.geometry","could not project the geometry to the view's spatial reference",{geometry:this.geometry,spatialReference:this.spatialReference,error:t}),null}return this.geometry}constrain(t,e){if(this.normalizedGeometry==null)return t;const i=t.targetGeometry;if(this.normalizedGeometry.type==="extent"?W$(this.normalizedGeometry,i):gU(this.normalizedGeometry,i))return t;const{coordinate:r}=kLe(this.normalizedGeometry,i);return r&&(t.targetGeometry=r),t}clone(){return new o6({geometry:this.geometry?.clone(),spatialReference:this.spatialReference?.clone()})}};u([p({constructOnly:!0})],Dy.prototype,"geometry",void 0),u([p({readOnly:!0})],Dy.prototype,"normalizedGeometry",null),u([p({constructOnly:!0})],Dy.prototype,"spatialReference",void 0),Dy=o6=u([j("esri.views.2d.constraints.GeometryConstraint")],Dy);var a6;let GS=a6=class extends FU(at){constructor(){super(...arguments),this.enabled=!0,this.rotationEnabled=!0}constrain(t,e){return this.enabled&&e&&(this.rotationEnabled||(t.rotation=e.rotation)),t}clone(){return new a6({enabled:this.enabled,rotationEnabled:this.rotationEnabled})}};u([p()],GS.prototype,"enabled",void 0),u([p()],GS.prototype,"rotationEnabled",void 0),GS=a6=u([j("esri.views.2d.constraints.RotationConstraint")],GS);const Wde=GS;var l6;let Zo=l6=class extends FU(at){constructor(t){super(t),this._lodByScale={},this._scales=[],this.effectiveLODs=null,this.effectiveMinZoom=-1,this.effectiveMaxZoom=-1,this.effectiveMinScale=0,this.effectiveMaxScale=0,this.lods=null,this.minZoom=-1,this.maxZoom=-1,this.minScale=0,this.maxScale=0,this.snapToZoom=!0}initialize(){let t,{lods:e,minScale:i,maxScale:r,minZoom:n,maxZoom:s}=this,o=-1,a=-1,l=!1,h=!1;if(i!==0&&r!==0&&i<r&&([i,r]=[r,i]),!e?.length)return this._set("effectiveMinScale",i),void this._set("effectiveMaxScale",r);e=e.map(f=>f.clone()),e.sort((f,g)=>g.scale-f.scale),e.forEach((f,g)=>f.level=g);for(const f of e)!l&&i>0&&i>=f.scale&&(o=f.level,l=!0),!h&&r>0&&r>=f.scale&&(a=t?t.level:-1,h=!0),t=f;n===-1&&(n=i===0?0:o),s===-1&&(s=r===0?e.length-1:a),n=Math.max(n,0),n=Math.min(n,e.length-1),s=Math.max(s,0),s=Math.min(s,e.length-1),n>s&&([n,s]=[s,n]),i=e[n].scale,r=e[s].scale,e.splice(0,n),e.splice(s-n+1),e.forEach((f,g)=>{this._lodByScale[f.scale]=f,this._scales[g]=f.scale}),this._set("effectiveLODs",e),this._set("effectiveMinZoom",n),this._set("effectiveMaxZoom",s),this._set("effectiveMinScale",i),this._set("effectiveMaxScale",r)}constrain(t,e){if(e&&t.scale===e.scale)return t;const i=this.effectiveMinScale,r=this.effectiveMaxScale,n=t.targetGeometry,s=e&&e.targetGeometry,o=r!==0&&t.scale<r,a=i!==0&&t.scale>i;if(o||a){const l=a?i:r;if(e&&s){const h=(l-e.scale)/(t.scale-e.scale);n.x=s.x+(n.x-s.x)*h,n.y=s.y+(n.y-s.y)*h}t.scale=l}return this.snapToZoom&&this.effectiveLODs&&(t.scale=this._getClosestScale(t.scale)),t}fit(t){if(!this.effectiveLODs||!this.snapToZoom)return this.constrain(t,null);const e=this.scaleToZoom(t.scale),i=Math.abs(e-Math.floor(e));return t.scale=this.zoomToScale(i>.99?Math.round(e):Math.floor(e)),t}zoomToScale(t){if(!this.effectiveLODs)return 0;t-=this.effectiveMinZoom,t=Math.max(0,t);const e=this._scales;if(t<=0)return e[0];if(t>=e.length)return e[e.length-1];const i=Math.floor(t),r=Math.ceil(t);return e[i]+(t-i)*(e[r]-e[i])}scaleToZoom(t){if(!this.effectiveLODs)return-1;const e=this._scales;let i,r;if(t>=e[0])return this.effectiveMinZoom;if(t<=e[e.length-1])return this.effectiveMaxZoom;for(let n=0;n<e.length-1;n++){if(i=e[n],r=e[n+1],r===t)return n+this.effectiveMinZoom+1;if(i>t&&r<t)return n+this.effectiveMinZoom+1-(t-r)/(i-r)}return-1}snapToClosestScale(t){if(!this.effectiveLODs)return t;const e=this.scaleToZoom(t);return this.zoomToScale(Math.round(e))}snapToNextScale(t,e=.5){if(!this.effectiveLODs)return t*e;const i=Math.round(this.scaleToZoom(t));return this.zoomToScale(i+1)}snapToPreviousScale(t,e=2){if(!this.effectiveLODs)return t*e;const i=Math.round(this.scaleToZoom(t));return this.zoomToScale(i-1)}clone(){return new l6({lods:this.lods,minZoom:this.minZoom,maxZoom:this.maxZoom,minScale:this.minScale,maxScale:this.maxScale})}_getClosestScale(t){return this._lodByScale[t]||(t=this._scales.reduce((e,i)=>Math.abs(i-t)<=Math.abs(e-t)?i:e,this._scales[0])),this._lodByScale[t].scale}};u([p({readOnly:!0})],Zo.prototype,"effectiveLODs",void 0),u([p({readOnly:!0})],Zo.prototype,"effectiveMinZoom",void 0),u([p({readOnly:!0})],Zo.prototype,"effectiveMaxZoom",void 0),u([p({readOnly:!0})],Zo.prototype,"effectiveMinScale",void 0),u([p({readOnly:!0})],Zo.prototype,"effectiveMaxScale",void 0),u([p()],Zo.prototype,"lods",void 0),u([p()],Zo.prototype,"minZoom",void 0),u([p()],Zo.prototype,"maxZoom",void 0),u([p()],Zo.prototype,"minScale",void 0),u([p()],Zo.prototype,"maxScale",void 0),u([p()],Zo.prototype,"snapToZoom",void 0),Zo=l6=u([j("esri.views.2d.constraints.ZoomConstraint")],Zo);const Yde=Zo,ILe={base:null,key:"type",typeMap:{extent:jt,polygon:hr}};let Ur=class extends at{constructor(e){super(e),this.lods=null,this.minScale=0,this.maxScale=0,this.minZoom=-1,this.maxZoom=-1,this.rotationEnabled=!0,this.snapToZoom=!0,this.customConstraints=new We}destroy(){this.view=null}get effectiveLODs(){return this._zoom.effectiveLODs}get effectiveMinScale(){return this._zoom.effectiveMinScale}get effectiveMaxScale(){return this._zoom.effectiveMaxScale}get effectiveMinZoom(){return this._zoom.effectiveMinZoom}get effectiveMaxZoom(){return this._zoom.effectiveMaxZoom}set geometry(e){e?this._set("geometry",e):this._set("geometry",null)}get version(){return`${this._zoom?.uid}/${this._rotation?.uid}/${this._geometry?.uid}`}get _geometry(){const e=this._get("_geometry");return e&&this.geometry===e.geometry&&this.view?.constraintsInfo.spatialReference===e.spatialReference?e:new Dy({geometry:this.geometry,spatialReference:this.view?.constraintsInfo.spatialReference})}get _rotation(){return new Wde({rotationEnabled:this.rotationEnabled})}get _zoom(){const e=this._get("_zoom"),i=this.lods||this.view?.constraintsInfo.lods,r=this.minZoom,n=this.maxZoom,s=this.minScale,o=this.maxScale,a=this.snapToZoom;return e&&e.lods===i&&e.minZoom===r&&e.maxZoom===n&&e.minScale===s&&e.maxScale===o&&e.snapToZoom===a?e:new Yde({lods:i,minZoom:r,maxZoom:n,minScale:s,maxScale:o,snapToZoom:a})}canZoomInTo(e){const i=this.effectiveMaxScale;return i===0||e>=i}canZoomOutTo(e){const i=this.effectiveMinScale;return i===0||e<=i}constrain(e,i){return this._zoom.constrain(e,i),this._rotation.constrain(e,i),this._geometry.constrain(e,i),this.customConstraints.forEach(r=>r.constrain(e,i)),e}constrainByGeometry(e){return this._geometry.constrain(e),this.customConstraints.forEach(i=>i.applyPanConstraint?.(e)),e}fit(e){return this._zoom.fit(e)}zoomToScale(e){return this._zoom.zoomToScale(e)}scaleToZoom(e){return this._zoom.scaleToZoom(e)}snapScale(e){return this._zoom.snapToClosestScale(e)}snapToNextScale(e){return this._zoom.snapToNextScale(e)}snapToPreviousScale(e){return this._zoom.snapToPreviousScale(e)}};u([p({readOnly:!0})],Ur.prototype,"effectiveLODs",null),u([p({readOnly:!0})],Ur.prototype,"effectiveMinScale",null),u([p({readOnly:!0})],Ur.prototype,"effectiveMaxScale",null),u([p({readOnly:!0})],Ur.prototype,"effectiveMinZoom",null),u([p({readOnly:!0})],Ur.prototype,"effectiveMaxZoom",null),u([p({types:ILe,value:null})],Ur.prototype,"geometry",null),u([p({type:[Cs]})],Ur.prototype,"lods",void 0),u([p()],Ur.prototype,"minScale",void 0),u([p()],Ur.prototype,"maxScale",void 0),u([p()],Ur.prototype,"minZoom",void 0),u([p()],Ur.prototype,"maxZoom",void 0),u([p()],Ur.prototype,"rotationEnabled",void 0),u([p()],Ur.prototype,"snapToZoom",void 0),u([p({type:We})],Ur.prototype,"customConstraints",void 0),u([p()],Ur.prototype,"view",void 0),u([p({readOnly:!0})],Ur.prototype,"version",null),u([p({type:Dy,readOnly:!0})],Ur.prototype,"_geometry",null),u([p({type:Wde})],Ur.prototype,"_rotation",null),u([p({readOnly:!0,type:Yde})],Ur.prototype,"_zoom",null),Ur=u([j("esri.views.2d.MapViewConstraints")],Ur);const eX=Ur;let Js=class extends at{constructor(e){super(e),this.constraints=null,this.ready=!1,this.resizeAlign="center",this.addHandles([ft(()=>this.constraints?.version,i=>{this.constraints&&i&&this.ready&&(this.state.viewpoint=this.constraints.fit(this.state.paddedViewState.viewpoint))},zd)])}get center(){if(!this.ready)return this._get("center");const{center:e,spatialReference:i}=this.state.paddedViewState;return this.state.commitProperty("id"),new wt({x:e[0],y:e[1],spatialReference:i})}set center(e){if(e==null)return;if(!this.ready)return void this._set("center",e);let i;try{i=this._project(e,this.state.spatialReference)}catch(n){return void Ee.getLogger(this).error(new ee("mapview:invalid-center","could not project the value in the view's spatial reference",{input:e,error:n}))}const r=this.viewpoint;i6(r,r,i),this.viewpoint=r}get extent(){return this.ready?(this.state.commitProperty("id"),this.state.paddedViewState.extent.clone()):this._get("extent")}set extent(e){if(e==null)return;if(!e.width||!e.height)return void Ee.getLogger(this).error(new ee("mapview:invalid-extent","invalid extent size"));if(!this.ready)return this._set("extent",e),this._set("center",void 0),this._set("viewpoint",void 0),this._set("scale",void 0),void this._set("zoom",void 0);let i;try{i=this._project(e,this.state.spatialReference)}catch(n){return void Ee.getLogger(this).error(new ee("mapview:invalid-extent","could not project the value in the view's spatial reference",{error:n}))}const r=this.viewpoint;B5e(r,r,i,this.state.size,{constraints:this.constraints}),this.viewpoint=r}get padding(){return this.ready?this.state.padding:this._get("padding")}set padding(e){this.ready?(this.state.padding=e,this._set("padding",this.state.padding)):this._set("padding",e)}get resolution(){return this.ready?(this.state.commitProperty("id"),this.state.resolution):0}get rotation(){return this.ready?(this.state.commitProperty("id"),this.state.rotation):this._get("rotation")}set rotation(e){if(isNaN(e))return;if(!this.ready)return void this._set("rotation",e);const i=this.viewpoint;Q5e(i,i,e),this.viewpoint=i}get scale(){return this.ready?(this.state.commitProperty("id"),this.state.scale):this._get("scale")}set scale(e){if(!e||isNaN(e))return;if(!this.ready){this._set("scale",e),this._set("zoom",void 0);const r=this._get("extent");return void(r&&(this._set("extent",void 0),this._set("center",r.center)))}const i=this.viewpoint;GJ(i,i,e),this.viewpoint=i}get viewpoint(){return this.ready?this.state.paddedViewState.viewpoint.clone():this._get("viewpoint")}set viewpoint(e){if(e==null)return;if(!this.ready)return this._set("viewpoint",e),this._set("extent",void 0),this._set("center",void 0),this._set("zoom",void 0),void this._set("scale",void 0);let i,r;try{i=this._project(e,this.state.spatialReference),!e.scale||isNaN(e.scale)?r=new ee("mapview:invalid-viewpoint",`invalid scale value of ${e.scale}`):e.targetGeometry==null&&(r=new ee("mapview:invalid-viewpoint","geometry not defined"))}catch(s){r=new ee("mapview:invalid-viewpoint","could not project the value in the view's spatial reference",{error:s})}if(r)return void Ee.getLogger(this).error(r);this._scaleBeforeChangingSpatialReference=null;const n=new Vn({targetGeometry:new wt,scale:0,rotation:0});ao(n,i),this.constraints?.constrain(n,this.state.paddedViewState.viewpoint),this.state.viewpoint=n,this._set("viewpoint",n)}get visibleArea(){return this.ready?this.state.visibleArea:null}get zoom(){return this.ready?this.constraints?.scaleToZoom(this.scale)??-1:this._get("zoom")}set zoom(e){if(!(e>=0))return;if(!this.ready){this._set("zoom",e),this._set("scale",void 0);const n=this._get("extent");return void(n&&(this._set("extent",void 0),this._set("center",n.center)))}const i=this.constraints?.zoomToScale(e)??0;if(!i)return void this._set("zoom",-1);const r=this.viewpoint;GJ(r,r,i),this.viewpoint=r,this._set("zoom",this.constraints?.scaleToZoom(this.scale)??-1)}getUserStartupOptions(e){if(!e[0]&&!e[1])return{center:void 0,rotation:void 0,scale:void 0};const{padding:i,constraints:r}=this,n=this._get("center"),s=this._get("extent"),o=this._get("scale"),a=this._get("rotation"),l=this._get("viewpoint"),h=this._get("zoom"),f=h!=null&&r!=null&&r.zoomToScale(h)||void 0;let g,v,w;const S=l?.rotation,T=l?.targetGeometry;T?.type==="extent"?g=T:T?.type==="point"&&(v=T,w=l?.scale);const C=s??g;return{center:n??v??C?.center,rotation:a??S,scale:(o??f??w??(C&&a3(C,[e[0]-i.left-i.right,e[1]-i.top-i.bottom])))||void 0}}startup(e,i,r,n){const s=e.targetGeometry;try{this._project(e,r)}catch(o){Ee.getLogger(this).warn(new yl("mapview:startup-projection-error","projection of initial viewpoint to the view's spatial reference, defaulting to the initial viewpoint.",{center:s.toJSON(),spatialReference:r,error:o})),e.targetGeometry=n||new wt({x:0,y:0,spatialReference:r})}this.constraints?.fit(e),this._set("state",new vB({padding:this.padding,size:i,viewpoint:e})),this._set("ready",!0)}teardown(){this._set("ready",!1);const{center:[e,i],spatialReference:r,rotation:n,scale:s}=this.state.paddedViewState,o=new wt({x:e,y:i,spatialReference:r});this._set("viewpoint",null),this._set("extent",null),this._set("center",o),this._set("zoom",-1),this._set("rotation",n),this._set("scale",s),this._set("state",null)}changeSpatialReference(e){const i=this.state.paddedViewState.clone();if(this._scaleBeforeChangingSpatialReference==null)this._scaleBeforeChangingSpatialReference=i.scale;else{const l=i.viewpoint.clone();l.scale=this._scaleBeforeChangingSpatialReference,i.viewpoint=l}const r=i.clone(),[n,s]=i.center;let o=null;try{o=this._project(new wt({x:n,y:s,spatialReference:i.spatialReference}),e)}catch(l){voe()||Ee.getLogger(this).warn(new yl("mapview:spatial-reference-change","could not project the view's center to the new spatial reference",{center:o?.toJSON(),spatialReference:e,error:l}))}o||(o=new wt({x:0,y:0,spatialReference:e}));const a=i6(new Vn({targetGeometry:new wt,scale:0,rotation:0}),i.viewpoint,o);r.viewpoint=a;try{const h=[i.size[0]/2,i.size[1]/2],f=[h[0]+20,h[1]],g=i.toMap([0,0],f),{x:v,y:w}=this._project(new wt({x:g[0],y:g[1],spatialReference:i.spatialReference}),e);g[0]=v,g[1]=w,r.toScreen(g,g);const S=J5e(h,g,f),T=Math.hypot(g[0]-h[0],g[1]-h[1])/20;!Number.isFinite(T)||Math.abs(T)>4?(a.rotation=0,a.targetGeometry=new wt({x:0,y:0,spatialReference:e})):(a.scale*=T,a.scale>he("mapview-srswitch-adjust-rotation-scale-threshold")?a.rotation=0:a.rotation+=Number.isFinite(S)?S:0)}catch{}this._get("constraints")?.constrain(a,void 0),this._get("state").viewpoint=a}resize(e,i){if(!this.ready)return;const r=this.state;let n=this.state.paddedViewState.viewpoint;const s=this.state.paddedViewState.size.slice();r.size=[e,i],K5e(n,n,s,this.state.paddedViewState.size,this.resizeAlign),n=this.constraints?.constrain(n,void 0)??n,this.state.viewpoint=n}toMap(e){if(!this.ready)return null;const i=[0,0],[r,n]=this.state.toMap(i,[e.x,e.y]),s=this.state.spatialReference;return new wt({x:r,y:n,spatialReference:s})}toScreen(e,i){if(!this.ready)return null;const r=this._project(e,this.state.spatialReference),n=[r.x,r.y];return i?.pickClosestTarget===!1||this.state.paddedViewState.wrapMapCoordinate(n,n),this.state.toScreen(n,n),Fn(n[0],n[1])}_project(e,i){const r=e?.targetGeometry||e;if(!i)return e;if(!r)return null;if(i.imageCoordinateSystem||r.spatialReference?.imageCoordinateSystem||Un(i,r.spatialReference))return e;const n=rg(r,i);if(!n)throw new ee("mapview:projection-not-possible","projecting input geometry to target spatial reference returned a null value",{geometry:r,spatialReference:i});return CLe(e)?(e.targetGeometry=n,e):n}};function CLe(t){return t?.declaredClass==="esri.Viewpoint"}u([p({type:wt})],Js.prototype,"center",null),u([p()],Js.prototype,"constraints",void 0),u([p({type:jt})],Js.prototype,"extent",null),u([p({value:{top:0,right:0,bottom:0,left:0},cast:t=>({top:0,right:0,bottom:0,left:0,...t})})],Js.prototype,"padding",null),u([p()],Js.prototype,"ready",void 0),u([p()],Js.prototype,"resizeAlign",void 0),u([p({readOnly:!0})],Js.prototype,"resolution",null),u([p({type:Number})],Js.prototype,"rotation",null),u([p({type:Number})],Js.prototype,"scale",null),u([p({readOnly:!0})],Js.prototype,"state",void 0),u([p({type:Vn})],Js.prototype,"viewpoint",null),u([p({readOnly:!0})],Js.prototype,"visibleArea",null),u([p()],Js.prototype,"zoom",null),Js=u([j("esri.views.2d.ViewStateManager")],Js);const tX=160;let WS=class extends at{constructor(){super(...arguments),this._timer=void 0}get stationary(){return!this._timer}flip(){this._timestamp=performance.now(),this._timer==null&&(this._timer=setInterval(()=>{performance.now()-this._timestamp>=tX&&this.clear()},tX))}clear(){this._timer&&(clearInterval(this._timer),this._timer=void 0)}};u([p()],WS.prototype,"_timer",void 0),u([p()],WS.prototype,"stationary",null),WS=u([j("esri.views.2d.support.StationaryManager")],WS);const MLe=t=>{const e=t;let i=class extends e{constructor(...r){super(...r),this.fullOpacity=1,this.stateManager=new Js({constraints:new eX({view:this})}),this.stationaryManager=new WS,this.mapViewNavigation=null,this.renderingOptions={samplingMode:"dynamic",edgeLabelsVisible:!1,labelsAnimationTime:0,labelCollisionsEnabled:!1},this.frameTask=new $Le(this),this.viewEvents=new ide(this),this.padding={top:0,right:0,bottom:0,left:0},this.addHandles([ft(()=>this.viewpoint,()=>this.stationaryManager.flip(),zd)])}get constraintsInfo(){return{lods:null,spatialReference:null}}get extent(){return this.stateManager?.extent??null}set extent(r){this.stateManager.extent=r}get state(){return this.stateManager.state}get interacting(){return!1}get stationary(){return!this.animation&&this.stationaryManager.stationary}set animation(r){const n=this._get("animation");if(r===n)return;if(n&&n.stop(),r!==this.animationManager.animation&&this.animationManager.stop(),!r||r.isFulfilled())return void this._set("animation",null);this._set("animation",r);const s=()=>{this.destroyed||r===this._get("animation")&&(this._set("animation",null),this.frameTask?.requestFrame())};r.when(s,s)}get constraints(){return this.stateManager?.constraints}set constraints(r){r.view=this;const n=this.stateManager.constraints;this.stateManager.constraints=r,n?.destroy()}get padding(){return this.stateManager?.padding}set padding(r){this.stateManager&&(this.stateManager.padding=r)}get resizeAlign(){return this.stateManager.resizeAlign}set resizeAlign(r){this.stateManager.resizeAlign=r}get rotation(){return this.stateManager.rotation??0}set rotation(r){const{rotationEnabled:n}=this.constraints;this.constraints.rotationEnabled=!0,this.stateManager.rotation=r,this.constraints.rotationEnabled=n}get viewpoint(){return this.stateManager.viewpoint??null}set viewpoint(r){this.stateManager.viewpoint=r,this.frameTask.requestFrame()}};return u([p({readOnly:!0})],i.prototype,"animationManager",void 0),u([p({readOnly:!0})],i.prototype,"fullOpacity",void 0),u([p()],i.prototype,"stateManager",void 0),u([p()],i.prototype,"constraintsInfo",null),u([p()],i.prototype,"extent",null),u([p({readOnly:!0})],i.prototype,"state",null),u([p({readOnly:!0})],i.prototype,"mapViewNavigation",void 0),u([p()],i.prototype,"renderingOptions",void 0),u([p({readOnly:!0})],i.prototype,"interacting",null),u([p()],i.prototype,"stationary",null),u([p()],i.prototype,"animation",null),u([p({type:eX})],i.prototype,"constraints",null),u([p()],i.prototype,"padding",null),u([p()],i.prototype,"resizeAlign",null),u([p()],i.prototype,"rotation",null),u([p({readOnly:!0})],i.prototype,"viewEvents",void 0),u([p({type:Vn})],i.prototype,"viewpoint",null),i=u([j("esri.views.Viewport2DBaseMixin")],i),i},ALe=()=>ni.respectPrefersReducedMotion&&window.matchMedia("(prefers-reduced-motion: reduce)").matches;var C_;let R0=(C_=class extends B9{constructor(e){super(e),this.state="running",this.target=null,this._resolver=null}initialize(){this._resolver=cs(),this.addResolvingPromise(this._resolver.promise)}get done(){return this.state==="finished"||this.state==="stopped"}stop(){this.state!=="stopped"&&this.state!=="finished"&&(this._set("state","stopped"),this._resolver?.reject(new ee("view:animation-stopped","ViewAnimation stopped")))}finish(){this.state!=="stopped"&&this.state!=="finished"&&(this._set("state","finished"),this._resolver?.resolve())}update(e,i){i||(i=co(e)?"waiting-for-target":"running"),this._set("target",e),this._set("state",i)}},C_.state={RUNNING:"running",STOPPED:"stopped",FINISHED:"finished",WAITING_FOR_TARGET:"waiting-for-target"},C_);u([p({readOnly:!0})],R0.prototype,"done",null),u([p({readOnly:!0,type:String})],R0.prototype,"state",void 0),u([p()],R0.prototype,"target",void 0),R0=u([j("esri.views.ViewAnimation")],R0);const c6=R0;let IM=class extends at{constructor(e){super(e),this._gotoTask=null}destroy(){this._gotoTask=null}async goTo(e,i){if(!e)return void Ee.getLogger(this).error("#goTo()","target cannot be null or undefined");const r=new c6;this.view.animation=r,await _D(()=>this.view.ready,i);const n={...i,animate:i?.animate??(!ALe()&&this.view.animationsEnabled),animationMode:i?.animationMode??"auto"},{extent:s,spatialReference:o,size:a,viewpoint:l,constraints:h,padding:f,allLayerViews:g}=this.view,v=F5e(e,{extent:s,spatialReference:o,size:a,viewpoint:l,constraints:h,padding:f,allLayerViews:g,pickClosestTarget:i?.pickClosestTarget??!0});return r?.update(v),this._gotoTask={},n.animate?this._gotoAnimated(v,n):this._gotoImmediate(v,n)}_gotoImmediate(e,i){const r=this._gotoTask,n=this.view.animation,s=e.then(o=>{if(nr(i),r!==this._gotoTask)throw new ee("view:goto-interrupted","Goto was interrupted");this.view.viewpoint=n.target=o,n.finish()});return this._cancellableGoTo(r,n,s,i)}_gotoAnimated(e,i){const r=this._gotoTask,n=this.view.animation;if(!n)return Promise.resolve();const s=e.then(o=>{if(nr(i),r!==this._gotoTask)throw new ee("view:goto-interrupted","Goto was interrupted");return n.update(o),this.view.animationManager.animate(n,this.view.viewpoint,i),n.when().then(()=>{},()=>{})});return this._cancellableGoTo(r,n,s,i)}_cancellableGoTo(e,i,r,n){const s=()=>e===this._gotoTask;return Die(r,n).finally(()=>{s()&&(i.done||i.stop())})}};u([p({constructOnly:!0})],IM.prototype,"view",void 0),IM=u([j("esri.views.2d.GoToManager")],IM);function Zde(t,e){switch(e){case"primary":return t.pointerType==="touch"||t.button===0;case"secondary":return t.pointerType!=="touch"&&t.button===2;case"tertiary":return t.pointerType!=="touch"&&t.button===1}}function Jde(t,e){return e.some(i=>Zde(t,i))}function iX(t,{dragPrimary:e,dragSecondary:i,dragTertiary:r}){return[{key:"primary",value:e},{key:"secondary",value:i},{key:"tertiary",value:r}].filter(n=>n.value===t).map(n=>n.key)}let rX=class extends Bn{constructor(e,i){super(!0),this._view=e,this.registerIncoming("double-click",i,r=>this._handleDoubleClick(r,i))}_handleDoubleClick(e,i){Zde(e.data,"primary")&&(e.stopPropagation(),i?this._view.mapViewNavigation.zoomOut([e.data.x,e.data.y]):this._view.mapViewNavigation.zoomIn([e.data.x,e.data.y]))}},OLe=class extends Bn{constructor(e,i,r){super(!0),this.view=e,this.pointerType=i,this.registerIncoming("double-tap-drag",r,n=>this._handleDoubleTapDrag(n))}_handleDoubleTapDrag(e){const{data:i}=e,{pointerType:r}=i;if(r!==this.pointerType)return;e.stopPropagation();const{action:n,delta:s}=i,{view:o}=this,{mapViewNavigation:a}=o;switch(n){case"begin":{const{scale:l}=o;this._startScale=l,this._currentScale=l,this._previousDelta=s,a.begin();break}case"update":{if(this._previousDelta.y===s.y)return;this._previousDelta=s;const l=1.015**s.y,h=this._startScale*l,f=h/this._currentScale;a.setViewpointImmediate(f),this._currentScale=h;break}case"end":{const{constraints:l}=o,{effectiveLODs:h,snapToZoom:f}=l;if(!f||!h)return void a.end();const g=l.snapScale(this._currentScale),v=(s.y>0?Math.max(g,l.snapToPreviousScale(this._startScale)):Math.min(g,l.snapToNextScale(this._startScale)))/this._currentScale;a.zoom(v).then(()=>{a.end()});break}}}},c3=class{constructor(e){this._callbacks=e,this._currentCount=0,this._callbacks.condition||(this._callbacks.condition=()=>!0)}handle(e){const i=e.data,r=i.pointers.size;switch(i.action){case"start":this._currentCount=r,this._emitStart(e);break;case"added":this._emitEnd(this._previousEvent),this._currentCount=r,this._emitStart(e);break;case"update":this._emitUpdate(e);break;case"removed":this._startEvent&&this._emitEnd(this._previousEvent),this._currentCount=r,this._emitStart(e);break;case"end":this._emitEnd(e),this._currentCount=0}this._previousEvent=e}_emitStart(e){this._startEvent=e,this._callbacks.condition?.(this._currentCount,e)&&this._callbacks.start(this._currentCount,e,this._startEvent)}_emitUpdate(e){this._callbacks.condition?.(this._currentCount,e)&&this._callbacks.update(this._currentCount,e,this._startEvent)}_emitEnd(e){this._callbacks.condition?.(this._currentCount,e)&&this._callbacks.end(this._currentCount,e,this._startEvent),this._startEvent=null}},PLe=class extends Bn{constructor(e,i,r){super(!0),this.view=e,this.pointerActions=i,this.registerIncoming("drag",r,n=>this._handleDrag(n)),this.registerIncoming("pointer-down",()=>this.stopMomentumNavigation())}onInstall(e){super.onInstall(e),this._dragEventSeparator=new c3({start:(i,r)=>{this.view.mapViewNavigation.pan.begin(this.view,r.data),r.stopPropagation()},update:(i,r)=>{this.view.mapViewNavigation.pan.update(this.view,r.data),r.stopPropagation()},end:(i,r)=>{this.view.mapViewNavigation.pan.end(this.view,r.data),r.stopPropagation()},condition:(i,r)=>i===1&&Jde(r.data,this.pointerActions)})}_handleDrag(e){const i=this.view.mapViewNavigation;i.pinch.zoomMomentum||i.pinch.rotateMomentum?this.stopMomentumNavigation():this._dragEventSeparator.handle(e)}stopMomentumNavigation(){this.view.mapViewNavigation.pan.stopMomentumNavigation()}},DLe=class extends Bn{constructor(e,i,r){super(!0),this._view=e,this.pointerActions=i;const n=this._view.mapViewNavigation;this._dragEventSeparator=new c3({start:(s,o)=>{n.rotate.begin(this._view,o.data),o.stopPropagation()},update:(s,o)=>{n.rotate.update(this._view,o.data),o.stopPropagation()},end:(s,o)=>{n.rotate.end(),o.stopPropagation()},condition:(s,o)=>s===1&&Jde(o.data,this.pointerActions)}),this.registerIncoming("drag",r,s=>this._dragEventSeparator.handle(s))}};function Xde(t){const e=t[0],i=t[1],r=t[2];return Math.sqrt(e*e+i*i+r*r)}function RLe(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}function LLe(t,e,i,r){return t[0]=e,t[1]=i,t[2]=r,t}function zLe(t,e,i){return t[0]=e[0]+i[0],t[1]=e[1]+i[1],t[2]=e[2]+i[2],t}function Kde(t,e,i){return t[0]=e[0]-i[0],t[1]=e[1]-i[1],t[2]=e[2]-i[2],t}function Qde(t,e,i){return t[0]=e[0]*i[0],t[1]=e[1]*i[1],t[2]=e[2]*i[2],t}function ehe(t,e,i){return t[0]=e[0]/i[0],t[1]=e[1]/i[1],t[2]=e[2]/i[2],t}function NLe(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t[2]=Math.ceil(e[2]),t}function jLe(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t[2]=Math.floor(e[2]),t}function FLe(t,e){return t[0]=Math.abs(e[0]),t[1]=Math.abs(e[1]),t[2]=Math.abs(e[2]),t}function VLe(t,e){return t[0]=Math.sign(e[0]),t[1]=Math.sign(e[1]),t[2]=Math.sign(e[2]),t}function ULe(t,e,i){return t[0]=Math.min(e[0],i[0]),t[1]=Math.min(e[1],i[1]),t[2]=Math.min(e[2],i[2]),t}function BLe(t,e,i){return t[0]=Math.max(e[0],i[0]),t[1]=Math.max(e[1],i[1]),t[2]=Math.max(e[2],i[2]),t}function HLe(t,e=0,i=1){return t[0]=Math.min(Math.max(t[0],e),i),t[1]=Math.min(Math.max(t[1],e),i),t[2]=Math.min(Math.max(t[2],e),i),t}function qLe(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t[2]=Math.round(e[2]),t}function the(t,e,i){return t[0]=e[0]*i,t[1]=e[1]*i,t[2]=e[2]*i,t}function GLe(t,e,i,r){return t[0]=e[0]+i[0]*r,t[1]=e[1]+i[1]*r,t[2]=e[2]+i[2]*r,t}function ihe(t,e){const i=e[0]-t[0],r=e[1]-t[1],n=e[2]-t[2];return Math.sqrt(i*i+r*r+n*n)}function rhe(t,e){const i=e[0]-t[0],r=e[1]-t[1],n=e[2]-t[2];return i*i+r*r+n*n}function nhe(t){const e=t[0],i=t[1],r=t[2];return e*e+i*i+r*r}function WLe(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t}function YLe(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t}function u6(t,e){const i=e[0],r=e[1],n=e[2];let s=i*i+r*r+n*n;return s>0&&(s=1/Math.sqrt(s),t[0]=e[0]*s,t[1]=e[1]*s,t[2]=e[2]*s),t}function she(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function ZLe(t,e,i){const r=e[0],n=e[1],s=e[2],o=i[0],a=i[1],l=i[2];return t[0]=n*l-s*a,t[1]=s*o-r*l,t[2]=r*a-n*o,t}function JLe(t,e,i){const r=e[0],n=e[1],s=e[2],o=i[0],a=i[1],l=i[2],h=n*l-s*a,f=s*o-r*l,g=r*a-n*o,v=Math.sqrt(h*h+f*f+g*g);return t[0]=h/v,t[1]=f/v,t[2]=g/v,t}function XLe(t,e,i,r){const n=e[0],s=e[1],o=e[2];return t[0]=n+r*(i[0]-n),t[1]=s+r*(i[1]-s),t[2]=o+r*(i[2]-o),t}function KLe(t,e,i,r,n,s){const o=s*s,a=o*(2*s-3)+1,l=o*(s-2)+s,h=o*(s-1),f=o*(3-2*s);return t[0]=e[0]*a+i[0]*l+r[0]*h+n[0]*f,t[1]=e[1]*a+i[1]*l+r[1]*h+n[1]*f,t[2]=e[2]*a+i[2]*l+r[2]*h+n[2]*f,t}function QLe(t,e,i,r,n,s){const o=1-s,a=o*o,l=s*s,h=a*o,f=3*s*a,g=3*l*o,v=l*s;return t[0]=e[0]*h+i[0]*f+r[0]*g+n[0]*v,t[1]=e[1]*h+i[1]*f+r[1]*g+n[1]*v,t[2]=e[2]*h+i[2]*f+r[2]*g+n[2]*v,t}function eze(t,e=1){const i=FD,r=2*i()*Math.PI,n=2*i()-1,s=Math.sqrt(1-n*n)*e;return t[0]=Math.cos(r)*s,t[1]=Math.sin(r)*s,t[2]=n*e,t}function tze(t,e,i){const r=e[0],n=e[1],s=e[2];return t[0]=i[0]*r+i[4]*n+i[8]*s+i[12],t[1]=i[1]*r+i[5]*n+i[9]*s+i[13],t[2]=i[2]*r+i[6]*n+i[10]*s+i[14],t}function ize(t,e,i){const r=e[0],n=e[1],s=e[2];return t[0]=r*i[0]+n*i[3]+s*i[6],t[1]=r*i[1]+n*i[4]+s*i[7],t[2]=r*i[2]+n*i[5]+s*i[8],t}function rze(t,e,i){const r=i[0],n=i[1],s=i[2],o=i[3],a=e[0],l=e[1],h=e[2],f=n*h-s*l,g=s*a-r*h,v=r*l-n*a,w=n*v-s*g,S=s*f-r*v,T=r*g-n*f,C=2*o;return t[0]=a+f*C+2*w,t[1]=l+g*C+2*S,t[2]=h+v*C+2*T,t}function nze(t,e,i,r){const n=[],s=[];return n[0]=e[0]-i[0],n[1]=e[1]-i[1],n[2]=e[2]-i[2],s[0]=n[0],s[1]=n[1]*Math.cos(r)-n[2]*Math.sin(r),s[2]=n[1]*Math.sin(r)+n[2]*Math.cos(r),t[0]=s[0]+i[0],t[1]=s[1]+i[1],t[2]=s[2]+i[2],t}function sze(t,e,i,r){const n=[],s=[];return n[0]=e[0]-i[0],n[1]=e[1]-i[1],n[2]=e[2]-i[2],s[0]=n[2]*Math.sin(r)+n[0]*Math.cos(r),s[1]=n[1],s[2]=n[2]*Math.cos(r)-n[0]*Math.sin(r),t[0]=s[0]+i[0],t[1]=s[1]+i[1],t[2]=s[2]+i[2],t}function oze(t,e,i,r){const n=[],s=[];return n[0]=e[0]-i[0],n[1]=e[1]-i[1],n[2]=e[2]-i[2],s[0]=n[0]*Math.cos(r)-n[1]*Math.sin(r),s[1]=n[0]*Math.sin(r)+n[1]*Math.cos(r),s[2]=n[2],t[0]=s[0]+i[0],t[1]=s[1]+i[1],t[2]=s[2]+i[2],t}function aze(t,e){u6(nX,t),u6(sX,e);const i=she(nX,sX);return i>1?0:i<-1?Math.PI:Math.acos(i)}const nX=ig(),sX=ig();function lze(t){return"vec3("+t[0]+", "+t[1]+", "+t[2]+")"}function cze(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]}function uze(t,e){if(t===e)return!0;const i=t[0],r=t[1],n=t[2],s=e[0],o=e[1],a=e[2],l=Lo();return Math.abs(i-s)<=l*Math.max(1,Math.abs(i),Math.abs(s))&&Math.abs(r-o)<=l*Math.max(1,Math.abs(r),Math.abs(o))&&Math.abs(n-a)<=l*Math.max(1,Math.abs(n),Math.abs(a))}function dze(t,e,i){const r=i[0]-e[0],n=i[1]-e[1],s=i[2]-e[2];let o=r*r+n*n+s*s;return o>0?(o=1/Math.sqrt(o),t[0]=r*o,t[1]=n*o,t[2]=s*o,t):(t[0]=0,t[1]=0,t[2]=0,t)}const hze=Kde,pze=Qde,fze=ehe,mze=ihe,gze=rhe,yze=Xde,vze=nhe;Object.freeze(Object.defineProperty({__proto__:null,abs:FLe,add:zLe,angle:aze,bezier:QLe,ceil:NLe,clamp:HLe,copy:RLe,cross:ZLe,crossAndNormalize:JLe,direction:dze,dist:mze,distance:ihe,div:fze,divide:ehe,dot:she,equals:uze,exactEquals:cze,floor:jLe,hermite:KLe,inverse:YLe,len:yze,length:Xde,lerp:XLe,max:BLe,min:ULe,mul:pze,multiply:Qde,negate:WLe,normalize:u6,random:eze,rotateX:nze,rotateY:sze,rotateZ:oze,round:qLe,scale:the,scaleAndAdd:GLe,set:LLe,sign:VLe,sqrDist:gze,sqrLen:vze,squaredDistance:rhe,squaredLength:nhe,str:lze,sub:hze,subtract:Kde,transformMat3:ize,transformMat4:tze,transformQuat:rze},Symbol.toStringTag,{value:"Module"}));function Rc(t){let e=t*t;return t<0&&(e*=-1),e}function bze(t){return t.translation[0]=0,t.translation[1]=0,t.translation[2]=0,t.heading=0,t.tilt=0,t}function wze(t,e,i){const r=i,n=t.state,s=t.device,o=e.tiltDirection==="forward-down"?1:-1,a=1;return s.deviceType==="standard"?(r.translation[0]=Rc(n.axes[0]),r.translation[1]=Rc(n.axes[1]),r.translation[2]=Rc(n.buttons[7])-Rc(n.buttons[6]),r.heading=Rc(n.axes[2]),r.tilt=Rc(n.axes[3])):s.deviceType==="spacemouse"&&(r.translation[0]=1.2*Rc(n.axes[0]),r.translation[1]=1.2*Rc(n.axes[1]),r.translation[2]=2*-Rc(n.axes[2]),r.heading=1.2*Rc(n.axes[5]),r.tilt=1.2*Rc(n.axes[3])),r.tilt*=o,the(r.translation,r.translation,a),r}function _ze(t){return t.translation[0]===0&&t.translation[1]===0&&t.translation[2]===0&&t.heading===0&&t.tilt===0&&t.zoom===0}let xze=class extends Bn{constructor(e){super(!0),this._view=e,this._frameTask=null,this._watchHandles=new y1,this._currentDevice=null,this._transformation={translation:[0,0,0],heading:0,tilt:0,zoom:0},this._handle=this.registerIncoming("gamepad",i=>this._handleGamePadEvent(i)),this._handle.pause()}onInstall(e){super.onInstall(e),this._watchHandles.add([ft(()=>this._view.navigation.gamepad?.enabled,i=>{i?(this._handle.resume(),this._frameTask||(this._frameTask=j_({update:r=>this._frameUpdate(r.deltaTime)}))):(this._handle.pause(),this._frameTask&&(this._frameTask.remove(),this._frameTask=null))},Ls)])}onUninstall(){this._watchHandles.removeAll(),this._frameTask&&(this._frameTask.remove(),this._frameTask=null),super.onUninstall()}_handleGamePadEvent(e){const i=this._view.navigation.gamepad.device;i&&e.data.device!==i||this._currentDevice&&this._currentDevice!==e.data.device||(e.data.action==="end"?(this._currentDevice=null,bze(this._transformation)):(this._currentDevice=e.data.device,wze(e.data,this._view.navigation.gamepad,this._transformation)),this._frameTask?.resume())}_frameUpdate(e){const i=this._transformation;if(_ze(i))return void this._frameTask?.pause();const r=this._view.viewpoint.clone(),n=this._view.navigation.gamepad.velocityFactor,s=Tze*n*e;l3(r,r,[i.translation[0]*s,-i.translation[1]*s]);const o=1+i.translation[2]*$ze*e,a=this._view.constraints.rotationEnabled?-i.heading*Sze*e:0,l=this._view.size,h=[l[0]/2,l[1]];Rde(r,r,o,a,h,l);const f=this._view.constraints.constrain(r,this._view.viewpoint);this._view.viewpoint=f}};const Sze=.06,Tze=.7,$ze=6e-4;function ohe(t){const e=()=>t(document.visibilityState==="visible");return document.addEventListener("visibilitychange",e),oi(()=>document.removeEventListener("visibilitychange",e))}let kze=class extends Bn{constructor(e,i,r){super(!0),this.view=e,this.keys=i,this._isSticky=!1,this._pressedKeys=new Set,this._timeout=void 0,this._currentDirection=void 0,this._stickyKeyDuration=200,this._handleKey=n=>{const s=this._keyMap[n.data.key];if(n.modifiers.has("Meta")||n.modifiers.has("Control"))return void this._stopMovement();if(s==null)return;n.stopPropagation(),n.preventDefault();const o=n.type==="key-down";if(this._pressedKeys[o?"add":"delete"](s),o){if(this._direction===s)return;this._direction=s,this._isSticky=!1,this._setTimeout(()=>{this._isSticky&&this._handlePopKey()})}else{const a=this._timeout===void 0,l=this._pressedKeys.size>0;a||l?this._handlePopKey():this._isSticky=!0}},this._handlePopKey=()=>{this._direction=Array.from(this._pressedKeys).pop(),this._direction==null&&this._stopMovement()},this._stopMovement=()=>{this._isSticky=!1,this._direction=void 0,this._pressedKeys.clear(),this._setTimeout(void 0)},this._keyMap={[i.left]:"left",[i.right]:"right",[i.up]:"up",[i.down]:"down"},this.registerIncoming("key-down",r,this._handleKey),this.registerIncoming("key-up",r,this._handleKey),this.registerIncoming("blur",r,this._stopMovement),this._visibilityHandle=ohe(n=>n?null:this._stopMovement())}onUninstall(){this._stopMovement(),this._visibilityHandle?.remove()}get _direction(){return this._currentDirection}set _direction(e){const i=this._currentDirection!=null;if(e!=null){if(i||this.view.mapViewNavigation.begin(),this._currentDirection!==e)switch(e){case"left":this.view.mapViewNavigation.continuousPanLeft();break;case"right":this.view.mapViewNavigation.continuousPanRight();break;case"up":this.view.mapViewNavigation.continuousPanUp();break;case"down":this.view.mapViewNavigation.continuousPanDown()}}else i&&this.view.mapViewNavigation.stop();this._currentDirection=e}_setTimeout(e){clearTimeout(this._timeout),this._timeout=e===void 0?void 0:setTimeout(()=>{this._timeout=void 0,e()},this._stickyKeyDuration)}},Eze=class extends Bn{constructor(e,i,r){super(!0),this.view=e,this.keys=i,this._keyToDirection=new Map,this._pressed=!1,this._addKeysMapping(i),this.registerIncoming("key-down",r,n=>this._handleKeyDown(n)),this.registerIncoming("key-up",r,n=>this._handleKeyUp(n)),this.registerIncoming("blur",r,()=>this._handleStop()),this._visibilityHandle=ohe(n=>n?null:this._handleStop())}onUninstall(){this._visibilityHandle?.remove(),this._handleStop()}_addKeysMapping(e){this._addKeyMapping(e.clockwise,"clockwise"),this._addKeyMapping(e.counterClockwise,"counterClockwise"),this._addKeyMapping(e.reset,"reset")}_addKeyMapping(e,i){for(const r of e)this._keyToDirection.set(r,i)}_handleKeyDown(e){e.data.repeat||this._handleKey(e,!0)}_handleKeyUp(e){this._handleKey(e,!1)}_handleStop(){this._pressed&&(this._pressed=!1,this.view.mapViewNavigation.stop())}_handleKey(e,i){const r=e.modifiers;if(r.size>0&&!r.has("Shift")||!this.view.constraints.rotationEnabled)return;const n=this._keyToDirection.get(e.data.key);if(this._pressed=n!=null,this._pressed){if(e.preventDefault(),i)switch(this.view.mapViewNavigation.begin(),n){case"clockwise":this.view.mapViewNavigation.continuousRotateClockwise();break;case"counterClockwise":this.view.mapViewNavigation.continuousRotateCounterclockwise();break;case"reset":this.view.mapViewNavigation.resetRotation()}else this._pressed=!1,this.view.mapViewNavigation.stop();e.stopPropagation()}}},Ize=class extends Bn{constructor(e,i,r){super(!0),this.view=e,this.keys=i,this._keysToZoomAction={},this.registerIncoming("key-down",r,n=>this._handleKeyDown(n)),i.zoomIn.forEach(n=>this._keysToZoomAction[n]=0),i.zoomOut.forEach(n=>this._keysToZoomAction[n]=1)}_handleKeyDown(e){this._handleKey(e)}_handleKey(e){const i=e.modifiers;if(i.size>0&&!i.has("Shift"))return;const{key:r}=e.data;if(!(r in this._keysToZoomAction))return;const n=this._keysToZoomAction[r],{mapViewNavigation:s}=this.view;let o=null;switch(n){case 0:o=s.zoomIn();break;case 1:o=s.zoomOut();break;default:return}s.begin(),o.then(()=>s.end()),e.stopPropagation()}};const Cze=.6;let Mze=class extends Bn{constructor(e,i){super(!0),this._view=e,this._canZoom=!0,this.registerIncoming("mouse-wheel",i,r=>this._handleMouseWheel(r))}_handleMouseWheel(e){if(this._view.navigation.actionMap.mouseWheel!=="zoom"||(e.preventDefault(),e.stopPropagation(),!this._canZoom))return;const i=this._view.mapViewNavigation,{x:r,y:n,deltaY:s}=e.data,o=1/Cze**(1/60*s),a=i.zoom(o,[r,n]);this._canZoom=!1,a.catch(()=>{}).then(()=>{this._canZoom=!0,i.end()})}},Aze=class extends Bn{constructor(e){super(!0),this.view=e,this.registerIncoming("drag",r=>this._handleDrag(r)),this.registerIncoming("pointer-down",()=>this._stopMomentumNavigation());const i=this.view.mapViewNavigation;this._dragEventSeparator=new c3({start:(r,n)=>{i.pinch.begin(this.view,n.data),n.stopPropagation()},update:(r,n)=>{i.pinch.update(this.view,n.data),n.stopPropagation()},end:(r,n)=>{i.pinch.end(this.view),n.stopPropagation()},condition:r=>r>=2})}_handleDrag(e){this._dragEventSeparator.handle(e)}_stopMomentumNavigation(){this.view.mapViewNavigation.pinch.stopMomentumNavigation()}};function oX(t){const e=t.native;return e?{buttons:e.buttons.map(i=>i.pressed?i.value||1:0),axes:e.axes.map(i=>Dze(i,t.axisThreshold))}:{buttons:[],axes:[]}}function Oze(t,e){if(t.axes.length!==e.axes.length||t.buttons.length!==e.buttons.length)return!1;for(let i=0;i<t.axes.length;i++)if(t.axes[i]!==e.axes[i])return!1;for(let i=0;i<t.buttons.length;i++)if(t.buttons[i]!==e.buttons[i])return!1;return!0}function Pze(t){for(let e=0;e<t.axes.length;e++)if(t.axes[e]!==0)return!1;for(let e=0;e<t.buttons.length;e++)if(t.buttons[e]!==0)return!1;return!0}function Dze(t,e){const i=Math.abs(t);return i<e?0:Math.sign(t)*(i-e)/(1-e)}let Rze=class{constructor(e,i){this._element=e,this._input=i,this._hasEventListeners=!1,this._onConnectGamepad=s=>{this._connectGamepad(s.gamepad)},this._onDisconnectGamepad=s=>{const o=s.gamepad,a=o.index,l=this._inputDevices[a];l&&(this._emitGamepadEvent(o,oX(l),!1),this._inputDevices.splice(a,1),this._latestUpdate.splice(a,1),this._input.gamepad.devices.remove(l),this.ensurePollingState())},this._frameTask=null,this._latestUpdate=new Array,this._inputDevices=new Array,this._callback=null;const r="getGamepads"in window.navigator,n=window.isSecureContext;this.supported=r&&n,this.supported&&(aX(s=>this._connectGamepad(s)),window.addEventListener("gamepadconnected",this._onConnectGamepad),window.addEventListener("gamepaddisconnected",this._onDisconnectGamepad),this.ensurePollingState())}destroy(){this.hasEventListeners=!1,this.supported&&(window.removeEventListener("gamepadconnected",this._onConnectGamepad),window.removeEventListener("gamepaddisconnected",this._onDisconnectGamepad))}set hasEventListeners(e){this._hasEventListeners!==e&&(this._hasEventListeners=e,this.ensurePollingState())}get _eventsEnabled(){return this.supported&&this._inputDevices.length>0&&this._hasEventListeners}set onEvent(e){this._callback=e}_connectGamepad(e){const i=new lB(e);i.deviceType!=="unknown"&&(this._inputDevices[e.index]=i,this._input.gamepad.devices.add(i)),this.ensurePollingState()}ensurePollingState(){this._eventsEnabled?this._startPolling():this._stopPolling()}_startPolling(){this._frameTask==null&&(this._frameTask=j_({update:()=>this._readGamepadState()}))}_stopPolling(){this._frameTask!=null&&(this._frameTask.remove(),this._frameTask=null,this._latestUpdate=new Array)}_readGamepadState(){const e=document.hasFocus(),i=this._element.contains(document.activeElement),r=this._input.gamepad.enabledFocusMode==="document"&&!e||this._input.gamepad.enabledFocusMode==="view"&&!i;aX(n=>{const s=this._inputDevices[n.index];if(!s)return;const o=this._latestUpdate[n.index],a=oX(s),l=r||Pze(a);o&&(o.timestamp===n.timestamp||!o.active&&l||Oze(o.state,a))||this._emitGamepadEvent(n,a,!l)})}_emitGamepadEvent(e,i,r){const n=this._latestUpdate[e.index],s=n&&n.active;if(!s&&!r)return;const o=!s&&r?"start":s&&r?"update":"end";this._latestUpdate[e.index]={timestamp:e.timestamp,state:i,active:r},this._callback&&this._callback({device:this._inputDevices[e.index],state:i,action:o})}};function Lze(t){if(!t||!t.connected)return!1;for(let e=0;e<t.axes.length;e++)if(isNaN(t.axes[e]))return!1;return!0}function aX(t){for(const e of navigator.getGamepads())Lze(e)&&t(e)}const lX=he("edge"),zze=he("chrome"),Nze=he("ff"),jze=he("safari"),cX="esri-view-surface",Xb={touchNone:`${cX}--touch-none`,touchPan:`${cX}--touch-pan`};var hv;let Fze=(hv=class{constructor(e,i){this._active={},this._callback=()=>{},this._activePointerCaptures=new Set,this._keyDownState=new Set,this._eventId=1,this._browserTouchPanningEnabled=!1,this._element=e,e.getAttribute("tabindex")||e.setAttribute("tabindex","0"),this._eventHandlers={"key-down":this._handleKey,"key-up":this._handleKey,"pointer-down":this._handlePointer,"pointer-move":this._handlePointerPreventDefault,"pointer-up":this._handlePointerPreventDefault,"pointer-enter":this._handlePointer,"pointer-leave":this._handlePointer,"pointer-cancel":this._handlePointer,"mouse-wheel":this._handleMouseWheel,"pointer-capture-lost":this._handlePointerCaptureLost},this._updateTouchAction(),this._element.addEventListener("keydown",this._preventAltKeyDefault),this._gamepadSource=new Rze(e,i),this._gamepadSource.onEvent=r=>this._callback("gamepad",r)}destroy(){this._callback=()=>{},this.activeEvents=null,this._activePointerCaptures.forEach(e=>this._releasePointerCaptureSafe(e)),this._activePointerCaptures.clear(),this._gamepadSource=pr(this._gamepadSource),this._removeTouchAction(),this._element.removeEventListener("keydown",this._preventAltKeyDefault)}get browserTouchPanningEnabled(){return this._browserTouchPanningEnabled}set browserTouchPanningEnabled(e){this._browserTouchPanningEnabled=e,this._updateTouchAction(),this._updateTouchEventHandling()}set onEventReceived(e){this._callback=e}set activeEvents(e){for(const i in this._active)if(!e||!e.has(i)){const r=this._active[i];this._element.removeEventListener(vz[i],r),delete this._active[i]}e&&e.forEach(i=>{if(!this._active[i]&&vz[i]){const r=(this._eventHandlers[i]||this._handleDefault).bind(this,i);this._element.addEventListener(vz[i],r),this._active[i]=r}}),this._gamepadSource&&(this._gamepadSource.hasEventListeners=e?.has("gamepad")??!1)}setPointerCapture(e,i){i?this._setPointerCaptureSafe(e.pointerId):(this._releasePointerCaptureSafe(e.pointerId),this._activePointerCaptures.delete(e.pointerId))}_updateTouchAction(){this._element.classList.remove(this._browserTouchPanningEnabled?Xb.touchNone:Xb.touchPan),this._element.classList.add(this._browserTouchPanningEnabled?Xb.touchPan:Xb.touchNone)}_updateTouchEventHandling(){this._browserTouchPanningEnabled?this._element.addEventListener("touchmove",this._preventMultiTouchPanning):this._element.removeEventListener("touchmove",this._preventMultiTouchPanning)}_removeTouchAction(){this._element.classList.remove(Xb.touchNone),this._element.classList.remove(Xb.touchPan),this._element.removeEventListener("touchmove",this._preventMultiTouchPanning)}_setPointerCaptureSafe(e){try{this._element.setPointerCapture(e),this._activePointerCaptures.add(e)}catch{}}_releasePointerCaptureSafe(e){try{if(this._element.hasPointerCapture&&!this._element.hasPointerCapture(e))return;this._element.releasePointerCapture(e)}catch{}}_updateNormalizedPointerLikeEvent(e,i){const r=nde(this._element,e);return hv.test.disableSubpixelCoordinates&&(r.x=Math.round(r.x),r.y=Math.round(r.y)),i.x=r.x,i.y=r.y,i}_handleKey(e,i){const{key:r}=i;r&&e==="key-up"&&this._keyDownState.delete(r);const n={native:i,key:r,repeat:!!r&&this._keyDownState.has(r)};r&&e==="key-down"&&this._keyDownState.add(n.key),this._callback(e,n)}_handlePointer(e,i){const r=this._updateNormalizedPointerLikeEvent(i,{native:i,x:0,y:0,pointerType:i.pointerType,button:i.button,buttons:i.buttons,eventId:this._eventId++});this._callback(e,r)}_handlePointerPreventDefault(e,i){const r=this._updateNormalizedPointerLikeEvent(i,{native:i,x:0,y:0,pointerType:i.pointerType,button:i.button,buttons:i.buttons,eventId:this._eventId++});i.preventDefault(),this._callback(e,r)}_getDeltaFromTrackpadOrMouseWheel(e){return e.shiftKey&&he("mac")&&e.deltaY===0?e.deltaX:e.deltaY}_handleMouseWheel(e,i){let r=this._getDeltaFromTrackpadOrMouseWheel(i);switch(i.deltaMode){case 0:lX&&(r=r/document.documentElement.clientHeight*600);break;case 1:r*=30;break;case 2:r*=900}lX?r*=.7:zze||jze?r*=.6:Nze&&(r*=1.375);const n=100,s=Math.abs(r);s>n&&(r=r/s*200/(1+Math.exp(-.02*(s-n))));const o=this._updateNormalizedPointerLikeEvent(i,{native:i,x:0,y:0,deltaY:r});this._callback(e,o)}_handlePointerCaptureLost(e,i){this._activePointerCaptures.delete(i.pointerId),this._handleDefault(e,i)}_handleDefault(e,i){const r={native:i};i.preventDefault(),this._callback(e,r)}_preventAltKeyDefault(e){e.key==="Alt"&&e.preventDefault()}_preventMultiTouchPanning(e){e.touches.length>1&&e.preventDefault()}},hv.test={disableSubpixelCoordinates:!1},hv);const vz={"key-down":"keydown","key-up":"keyup","pointer-down":"pointerdown","pointer-up":"pointerup","pointer-move":"pointermove","mouse-wheel":"wheel","pointer-capture-got":"gotpointercapture","pointer-capture-lost":"lostpointercapture","context-menu":"contextmenu","pointer-enter":"pointerenter","pointer-leave":"pointerleave","pointer-cancel":"pointercancel",focus:"focus",blur:"blur"};let Vze=class extends Bn{constructor(){super(!0),this.registerIncoming("context-menu",e=>e.data.native.preventDefault())}};const ahe=()=>({maximumClickDelay:300}),Uze=(t={})=>({...ahe(),movementUntilMouseDrag:1.5,movementUntilPenDrag:6,movementUntilTouchDrag:6,holdDelay:500,...t}),wB=(t={})=>({...ahe(),maximumDoubleClickDistance:10,maximumDoubleTouchDistance:35,maximumDoubleClickDelay:250,maximumDoubleTouchDelay:350,...t});function gO(t,e){return Math.abs(e.x-t.x)+Math.abs(e.y-t.y)}function Bze(t,e){const i=e.x-t.x,r=e.y-t.y;return Math.sqrt(i*i+r*r)}function Hze(t,e){if(e?(e.radius=0,e.center.x=0,e.center.y=0):e={radius:0,center:Fn()},t.length===0)return e;if(t.length===1)return e.center.x=t[0].x,e.center.y=t[0].y,e;if(t.length===2){const[P,D]=t,[L,B]=[D.x-P.x,D.y-P.y];return e.radius=Math.sqrt(L*L+B*B)/2,e.center.x=(P.x+D.x)/2,e.center.y=(P.y+D.y)/2,e}let i=0,r=0;for(let P=0;P<t.length;P++)i+=t[P].x,r+=t[P].y;i/=t.length,r/=t.length;const n=t.map(P=>P.x-i),s=t.map(P=>P.y-r);let o=0,a=0,l=0,h=0,f=0,g=0,v=0;for(let P=0;P<n.length;P++){const D=n[P],L=s[P],B=D*D,N=L*L;o+=B,a+=N,l+=D*L,h+=B*D,f+=N*L,g+=D*N,v+=L*B}const w=.5*(h+g),S=.5*(f+v),T=o*a-l*l,C=(w*a-S*l)/T,I=(o*S-l*w)/T,A=Fn(C+i,I+r);return{radius:Math.sqrt(C*C+I*I+(o+a)/t.length),center:A}}function iv(t){const{native:e}=t,{pointerId:i,button:r,pointerType:n}=e;return n==="mouse"?`${i}:${r}`:`${n}`}let qze=class extends Bn{constructor(e={},i=w1){super(!1),this._clock=i,this._doubleTapDragReady=!1,this._doubleTapDragActive=!1,this._dragStartCenter=Fn(0,0),this._pointerState=new Map,this._parameters=wB(e),this._doubleTapDrag=this.registerOutgoing("double-tap-drag"),this._dragEventSeparator=new c3({start:(r,n)=>this._dragStart(r,n),update:(r,n)=>this._dragUpdate(n),end:(r,n)=>this._dragEnd(n)}),this.registerIncoming("drag",r=>this._dragEventSeparator.handle(r)),this.registerIncoming("pointer-down",r=>this._handlePointerDown(r)),this.registerIncoming("pointer-up",()=>this._handlePointerUp())}onUninstall(){this._pointerState.forEach(e=>{e.doubleTapTimeout=rr(e.doubleTapTimeout)})}get hasPendingInputs(){for(const e of this._pointerState.values())if(e.doubleTapTimeout!=null)return!0;return!1}_clearPointerDown(e){const i=this._pointerState.get(e);i&&(i.doubleTapTimeout=rr(i.doubleTapTimeout),this._pointerState.delete(e),this.refreshHasPendingInputs())}_dragStart(e,i){if(!this._doubleTapDragReady||e!==1)return;this._doubleTapDragReady=!1,this._doubleTapDragActive=!0;const{data:r,modifiers:n}=i,{center:s}=r;this._dragStartCenter=s;const o=bz("begin",Fn(0,0),r);this._doubleTapDrag.emit(o,void 0,n),i.stopPropagation()}_dragUpdate(e){if(!this._doubleTapDragActive)return;const{data:i,modifiers:r}=e,{center:n}=i,s=bz("update",Fn(n.x-this._dragStartCenter.x,n.y-this._dragStartCenter.y),i);this._doubleTapDrag.emit(s,void 0,r),e.stopPropagation()}_dragEnd(e){if(!this._doubleTapDragActive)return;const{data:i,modifiers:r}=e,{center:n}=i,s=bz("end",Fn(n.x-this._dragStartCenter.x,n.y-this._dragStartCenter.y),i);this._doubleTapDrag.emit(s,void 0,r),this._doubleTapDragActive=!1,e.stopPropagation()}_handlePointerDown(e){const{data:i}=e,r=iv(i),n=this._pointerState.get(r),{pointerType:s}=i.native;if(n){const o=s==="touch"?this._parameters.maximumDoubleTouchDistance:this._parameters.maximumDoubleClickDistance;this._clearPointerDown(r),gO(n.event.data,i)>o?this._storePointerDown(e):this._doubleTapDragReady=!0}else this._storePointerDown(e)}_handlePointerUp(){this._doubleTapDragReady=!1}_storePointerDown(e){const{data:i}=e,{pointerType:r}=i.native,n=iv(i),s=r==="touch"?this._parameters.maximumDoubleTouchDelay:this._parameters.maximumDoubleClickDelay,o=this._clock.setTimeout(()=>this._clearPointerDown(n),s);this._pointerState.set(n,{event:e,doubleTapTimeout:o}),this.refreshHasPendingInputs()}};function bz(t,e,i){const{button:r,buttons:n,pointer:s,pointers:o,pointerType:a,timestamp:l}=i;return{action:t,delta:e,button:r,buttons:n,pointer:s,pointers:o,pointerType:a,timestamp:l}}let Gze=class extends Bn{constructor(e){super(!1),this._navigationTouch=e,this._startStateModifiers=new Set,this._activePointerMap=new Map,this._isDragging=!1,this._isCurrentDragSuppressed=!1,this._drag=this.registerOutgoing("drag"),this.registerIncoming("pointer-drag",this._handlePointerDrag.bind(this)),this.registerIncoming("pointer-up",this._handlePointerUpAndPointerLost.bind(this)),this.registerIncoming("pointer-capture-lost",this._handlePointerUpAndPointerLost.bind(this)),this.registerIncoming("pointer-cancel",this._handlePointerUpAndPointerLost.bind(this))}_createPayload(e,i,r,n){return{action:e,pointerType:this._pointerType,button:this._mouseButton,buttons:i.buttons,timestamp:n,pointers:Wze(this._activePointerMap),pointer:i,angle:r.angle,radius:r.radius,center:r.center}}_addPointer(e){const i=e.native.pointerId,r=bI(this._activePointerMap).angle,n={event:e,initialAngle:0,lastAngle:0};this._activePointerMap.set(i,n);const s=CM(n,lhe(this._activePointerMap));n.initialAngle=s,n.lastAngle=s,this._updatePointerAngles(r)}_updatePointer(e){if(e&&e.x==null&&e.y==null)return;const i=e.native.pointerId,r=this._activePointerMap.get(i);r?r.event=e:this._addPointer(e)}_removePointer(e){const i=bI(this._activePointerMap).angle;this._activePointerMap.delete(e),this._updatePointerAngles(i)}_updatePointerAngles(e){const i=bI(this._activePointerMap);this._activePointerMap.forEach(r=>{r.initialAngle=CM(r,i)-e,r.lastAngle=CM(r,i)-e})}_emitEvent(e,i,r){const n=bI(this._activePointerMap);this._drag.emit(this._createPayload(e,i,n,r),void 0,this._startStateModifiers)}_handlePointerUpAndPointerLost(e){const i=e.data.native.pointerId,r=e.timestamp;this._activePointerMap.get(i)&&(this._activePointerMap.size===1?(this._updatePointer(e.data),!this._isCurrentDragSuppressed&&this._emitEvent("end",e.data,r),this._isDragging=!1,this._isCurrentDragSuppressed=!1,this._removePointer(i)):(this._removePointer(i),this._emitEvent("removed",e.data,e.timestamp)))}_handlePointerDrag(e){const i=e.data,r=i.currentEvent,n=e.timestamp;switch(i.action){case"start":case"update":this._isDragging?this._activePointerMap.has(r.native.pointerId)?(this._updatePointer(r),!this._isCurrentDragSuppressed&&this._emitEvent("update",r,n)):(this._addPointer(r),this._emitEvent("added",r,n),this._isCurrentDragSuppressed=this._isSuppressed):(this._updatePointer(r),this._pointerType=e.data.startEvent.pointerType,this._mouseButton=e.data.startEvent.button,this._startStateModifiers=e.modifiers,this._isDragging=!0,this._isCurrentDragSuppressed=this._isSuppressed,!this._isCurrentDragSuppressed&&this._emitEvent("start",r,n))}}get _isSuppressed(){return!!this._navigationTouch&&!this._navigationTouch.browserTouchPanEnabled&&this._pointerType==="touch"&&this._activePointerMap.size===1}};function lhe(t){const e=[];return t.forEach(i=>{e.push(Fn(i.event.x,i.event.y))}),Hze(e)}function bI(t){const e=lhe(t);let i=0;return t.forEach(r=>{let n=CM(r,e),s=n-r.lastAngle;for(;s>Math.PI;)s-=2*Math.PI;for(;s<-Math.PI;)s+=2*Math.PI;n=r.lastAngle+s,r.lastAngle=n;const o=n-r.initialAngle;i+=o}),i/=t.size||1,{angle:i,radius:e.radius,center:e.center}}function Wze(t){const e=new Map;return t.forEach((i,r)=>e.set(r,i.event)),e}function CM(t,e){const i=t.event,r=i.x-e.center.x,n=i.y-e.center.y;return Math.atan2(n,r)}let Yze=class extends Bn{constructor(e={},i=w1){super(!1),this._clock=i,this._pointerState=new Map,this._parameters=wB(e),this._immediateDoubleClick=this.registerOutgoing("immediate-double-click"),this.registerIncoming("pointer-down",this._handlePointerDown.bind(this)),this.registerIncoming("pointer-up",this._handlePointerUp.bind(this))}onUninstall(){this._pointerState.forEach(e=>{e.immediateDoubleClick&&e.immediateDoubleClick.timeoutHandle.remove()}),super.onUninstall()}_handlePointerDown(e){const i=e.data,r=iv(i);if(!this._pointerState.has(r)){const n={downButton:i.native.button,x:i.x,y:i.y,immediateDoubleClick:null};this._pointerState.set(r,n),this.startCapturingPointer(i.native)}}_handlePointerUp(e){const i=e.data,r=iv(i),n=this._pointerState.get(r);if(n&&n.downButton===i.native.button){const s=n.immediateDoubleClick,o=e.data.native.pointerType==="touch"?this._parameters.maximumDoubleTouchDistance:this._parameters.maximumDoubleClickDistance;s?(s.timeoutHandle.remove(),gO(s,e.data)>o?this._startImmediateDoubleClick(e,n):(this._immediateDoubleClick.emit(e.data,void 0,s.modifiers),this._removeState(i))):gO(n,e.data)>o?this._removeState(i):this._startImmediateDoubleClick(e,n)}}_startImmediateDoubleClick(e,i){const r=e.data.native.pointerType==="touch"?this._parameters.maximumDoubleTouchDelay:this._parameters.maximumDoubleClickDelay;i.immediateDoubleClick={x:e.data.x,y:e.data.y,modifiers:e.modifiers,timeoutHandle:this._clock.setTimeout(()=>this._removeState(e.data),r)}}_removeState(e){const i=iv(e);this._pointerState.delete(i),this.stopCapturingPointer(e.native),this.refreshHasPendingInputs()}},Zze=class extends Bn{constructor(e={},i=w1){super(!1),this._clock=i,this._pointerState=new Map,this._parameters=Uze(e),this._pointerDrag=this.registerOutgoing("pointer-drag"),this._immediateClick=this.registerOutgoing("immediate-click"),this._pointerHold=this.registerOutgoing("hold"),this.registerIncoming("pointer-down",r=>this._handlePointerDown(r)),this.registerIncoming("pointer-up",r=>this._handlePointerLoss(r,"pointer-up")),this.registerIncoming("pointer-capture-lost",r=>this._handlePointerLoss(r,"pointer-capture-lost")),this.registerIncoming("pointer-cancel",r=>this._handlePointerLoss(r,"pointer-cancel")),this._moveHandle=this.registerIncoming("pointer-move",r=>this._handlePointerMove(r)),this._moveHandle.pause()}onUninstall(){this._pointerState.forEach(e=>{e.holdTimeout=rr(e.holdTimeout)}),super.onUninstall()}_handlePointerDown(e){const i=e.data,r=i.native.pointerId;let n=null;this._pointerState.size===0&&(n=this._clock.setTimeout(()=>{const o=this._pointerState.get(r);if(o){if(!o.isDragging){const a=o.previousEvent;this._pointerHold.emit(a,void 0,e.modifiers),o.holdEmitted=!0}o.holdTimeout=null}},this._parameters.holdDelay));const s={startEvent:i,previousEvent:i,startTimestamp:e.timestamp,isDragging:!1,downButton:i.native.button,holdTimeout:n,modifiers:new Set};this._pointerState.set(r,s),this.startCapturingPointer(i.native),this._moveHandle.resume(),this._pointerState.size>1&&this._startDragging(e)}_handlePointerMove(e){const i=e.data,r=i.native.pointerId,n=this._pointerState.get(r);n&&(n.isDragging?this._pointerDrag.emit(wI("update",n,i),void 0,n.modifiers):Bze(i,n.startEvent)>this._getDragThreshold(i.native.pointerType)&&this._startDragging(e),n.previousEvent=i)}_getDragThreshold(e){switch(e){case"touch":return this._parameters.movementUntilTouchDrag;case"pen":return this._parameters.movementUntilPenDrag;default:return this._parameters.movementUntilMouseDrag}}_startDragging(e){const i=e.data,r=i.native.pointerId;this._pointerState.forEach(n=>{n.holdTimeout!=null&&(n.holdTimeout.remove(),n.holdTimeout=null),n.isDragging||(n.modifiers=e.modifiers,n.isDragging=!0,r===n.startEvent.native.pointerId?this._pointerDrag.emit(wI("start",n,i)):this._pointerDrag.emit(wI("start",n,n.previousEvent),e.timestamp))})}_handlePointerLoss(e,i){const r=e.data,n=r.native.pointerId,s=this._pointerState.get(n);s&&(s.holdTimeout!=null&&(s.holdTimeout.remove(),s.holdTimeout=null),s.isDragging?this._pointerDrag.emit(wI("end",s,i==="pointer-up"?r:s.previousEvent),void 0,s.modifiers):i==="pointer-up"&&s.downButton===r.native.button&&e.timestamp-s.startTimestamp<=this._parameters.maximumClickDelay&&!s.holdEmitted&&this._immediateClick.emit(r),this._pointerState.delete(n),this.stopCapturingPointer(r.native),this._pointerState.size===0&&this._moveHandle.pause())}};function wI(t,e,i){return{action:t,startEvent:e.startEvent,previousEvent:e.previousEvent,currentEvent:i}}let Jze=class extends Bn{constructor(e={},i=w1){super(!1),this._clock=i,this._pointerState=new Map,this._parameters=wB(e),this._click=this.registerOutgoing("click"),this._doubleClick=this.registerOutgoing("double-click"),this.registerIncoming("immediate-click",r=>this._handleImmediateClick(r)),this.registerIncoming("pointer-down",r=>this._handlePointerDown(r))}onUninstall(){this._pointerState.forEach(e=>e.doubleClickTimer=rr(e.doubleClickTimer))}get hasPendingInputs(){for(const e of this._pointerState.values())if(e.doubleClickTimer!=null)return!0;return!1}_clearDoubleClickTimer(e,i){const r=this._pointerState.get(e);r&&(r.doubleClickTimer=rr(r.doubleClickTimer),i&&this._click.emit(r.event.data,void 0,r.event.modifiers),this._pointerState.delete(e),this.refreshHasPendingInputs())}_doubleClickTimeoutExceeded(e){const i=this._pointerState.get(e);i.pointerDownCount===1&&this._click.emit(i.event.data,void 0,i.event.modifiers),i.doubleClickTimer=null,this._pointerState.delete(e),this.refreshHasPendingInputs()}_handleImmediateClick(e){const i=e.data,{pointerType:r}=i.native,n=Xze(i);if(!this._pointerState.has(n))return void this._startClick(e);const s=this._pointerState.get(n),{data:o,modifiers:a}=s.event,l=r==="touch"?this._parameters.maximumDoubleTouchDistance:this._parameters.maximumDoubleClickDistance;gO(o,i)>l?(this._clearDoubleClickTimer(n,!0),this._startClick(e)):(this._clearDoubleClickTimer(n,!1),s.pointerDownCount===2&&this._doubleClick.emit(o,void 0,a))}_handlePointerDown(e){const i=iv(e.data),r=this._pointerState.get(i);r&&(r.pointerDownCount+=1)}_startClick(e){const{data:i}=e,{native:{pointerType:r}}=i,n=iv(i),s=r==="touch"?this._parameters.maximumDoubleTouchDelay:this._parameters.maximumDoubleClickDelay,o=this._clock.setTimeout(()=>this._doubleClickTimeoutExceeded(n),s);this._pointerState.set(n,{event:e,doubleClickTimer:o,pointerDownCount:1}),this.refreshHasPendingInputs()}};function Xze(t){const{pointerId:e,pointerType:i,button:r}=t.native;return i==="mouse"?`${e}:${r}`:`${i}`}const _I={counter:"Control",pan:{left:"ArrowLeft",right:"ArrowRight",up:"ArrowUp",down:"ArrowDown"},zoom:{zoomIn:["=","+"],zoomOut:["-","_"]},rotate:{clockwise:["a","A"],counterClockwise:["d","D"],reset:["n","N"]}},uX=Symbol("handles");let L0=class extends at{initialize(){const e=()=>this.view?.ready;this.addHandles([wa(()=>!e(),()=>this._disconnect()),wa(e,()=>this._connect())])}destroy(){this._disconnect()}get latestPointerInfo(){return this._inputManager?.latestPointerInfo}get multiTouchActive(){return this._inputManager?.multiTouchActive??!1}isModifierKeyDown(e){return this._inputManager?.isModifierKeyDown(e)??!1}_disconnect(){this.view.viewEvents.disconnect(),this.removeHandles(uX),this._inputManager=pr(this._inputManager)}_connect(){const e=this.view.surface,i=new Fze(e,this.view.input),r=[new Yze,new Zze,new Jze,new Gze(this.view.navigation),new qze],n=new Hc({eventSource:i,recognizers:r}),s=new PLe(this.view,["primary"]),o=new DLe(this.view,["secondary"]);n.installHandlers("prevent-context-menu",[new Vze],Ep.INTERNAL),n.installHandlers("navigation",[new Aze(this.view),new xze(this.view),new Mze(this.view),new rX(this.view),new rX(this.view,[_I.counter]),s,new kze(this.view,_I.pan),new Ize(this.view,_I.zoom),new Eze(this.view,_I.rotate),o,new OLe(this.view,"touch")],Ep.INTERNAL),this.view.viewEvents.connect(n),this._source=i,this._inputManager=n,this.addHandles([ft(()=>this.view?.navigation?.browserTouchPanEnabled,a=>{this._source&&(this._source.browserTouchPanningEnabled=!a)},Ls),ft(()=>{const{actionMap:a}=this.view.navigation;return{panActions:iX("pan",a),rotateActions:iX("rotate",a)}},({panActions:a,rotateActions:l})=>{s.pointerActions=a,o.pointerActions=l},to)],uX)}get test(){}};u([p()],L0.prototype,"view",void 0),u([p()],L0.prototype,"latestPointerInfo",null),u([p()],L0.prototype,"multiTouchActive",null),L0=u([j("esri.views.2d.input.MapViewInputManager")],L0);const Kze=L0,Qze=t=>{const e=t;let i=class extends e{constructor(...r){super(...r),this.goToManager=new IM({view:this}),this.animationsEnabled=!0,this.inputManager=new Kze({view:this}),this.addHandles([this.on("resize",n=>this.stateManager.resize(n.width,n.height))])}get interacting(){return this.navigating}get stationary(){return!this.animation&&!this.navigating&&!this.resizing&&this.stationaryManager.stationary}on(r,n,s,o){return this.viewEvents.on(r,n,s,o)||super.on(r,n)}hasEventListener(r){return super.hasEventListener(r)||this.viewEvents.hasHandler(r)}goTo(r,n){return this.goToManager.goTo(r,n)}toMap(r){if(!this.ready)return null;const n=ode(r)?sde(this,r):r;return this.stateManager.toMap(n)}};return u([p()],i.prototype,"goToManager",void 0),u([p({readOnly:!0})],i.prototype,"interacting",null),u([p()],i.prototype,"stationary",null),u([p()],i.prototype,"animationsEnabled",void 0),u([p({readOnly:!0})],i.prototype,"inputManager",void 0),i=u([j("esri.views.Viewport2DMixin")],i),i};let dX=class{constructor(e){this._view=e,this.viewpoint=new Vn({targetGeometry:new wt,scale:0,rotation:0})}get view(){return this._view}get size(){const[e,i]=this._view.size;return Math.sqrt(e*e+i*i)}get scale(){return this.viewpoint.scale}get rotation(){return this.viewpoint.rotation}get center(){return this.viewpoint.targetGeometry}get scaleToResolutionFactor(){return Pde(this.center.spatialReference)}pixelsPerPanAtZoom(e){return 1/(e*this.scaleToResolutionFactor)}zoomAtPixelsPerPan(e){return 1/(e*this.scaleToResolutionFactor)}pixelsPerRotate(){return this.size/2}compareTo(e,i){i.pan=joe(this.center,e.center);let r=Math.abs(e.rotation-this.rotation);r=r>=180?360-r:r,i.rotate=K$(r),i.sourceZoom=this.scale,i.targetZoom=e.scale}interpolate(e,i,r){const{pan:n,rotate:s,zoom:o,zoomOffset:a}=r,{center:l}=this;l.spatialReference=e.center.spatialReference,l.x=kS(e.center.x,i.center.x,n),l.y=kS(e.center.y,i.center.y,n),this.viewpoint.scale=kS(e.scale,i.scale+a,o);let h=e.rotation;const f=i.rotation;Math.abs(f-h)>=180&&(h+=360*(h<f?1:-1)),this.viewpoint.rotation=kS(h,f,s)}copyFrom(e){ao(this.viewpoint,e.viewpoint),this._view=e.view}};function nS(t,e,i,r){const n=3*t,s=3*(i-t)-n,o=1-n-s,a=3*e,l=3*(r-e)-a,h=1-a-l;function f(S){return((o*S+s)*S+n)*S}function g(S){return((h*S+l)*S+a)*S}function v(S){return(3*o*S+2*s)*S+n}function w(S,T){let C,I,A,P,D,L;for(A=S,L=0;L<8;L++){if(P=f(A)-S,Math.abs(P)<T)return A;if(D=v(A),Math.abs(D)<1e-6)break;A-=P/D}if(C=0,I=1,A=S,A<C)return C;if(A>I)return I;for(;C<I;){if(P=f(A),Math.abs(P-S)<T)return A;S>P?C=A:I=A,A=.5*(I-C)+C}return A}return function(S,T=1e-6){return g(w(S,T))}}const Zl={};Zl.ease=nS(.25,.1,.25,1),Zl.linear=nS(0,0,1,1),Zl.easeIn=Zl["ease-in"]=nS(.42,0,1,1),Zl.easeOut=Zl["ease-out"]=nS(0,0,.58,1),Zl.easeInOut=Zl["ease-in-out"]=nS(.42,0,.58,1);const eNe=t=>t,X2=t=>t*t,yO=t=>1-X2(1-t),hX=t=>t<.5?X2(2*t)/2:(yO(2*(t-.5))+1)/2,vO=t=>t*t*t,d6=t=>1-vO(1-t),pX=t=>t<.5?vO(2*t)/2:(d6(2*(t-.5))+1)/2,bO=t=>t*t*t*t,h6=t=>1-bO(1-t),fX=t=>t<.5?bO(2*t)/2:(h6(2*(t-.5))+1)/2,wO=t=>t*t*t*t*t,p6=t=>1-wO(1-t),mX=t=>t<.5?wO(2*t)/2:(p6(2*(t-.5))+1)/2,_O=t=>1-Math.cos(t*Math.PI/2),f6=t=>1-_O(1-t),gX=t=>t<.5?_O(2*t)/2:(f6(2*(t-.5))+1)/2,xO=t=>2**(10*(t-1)),SO=t=>1-xO(1-t),yX=t=>t<.5?xO(2*t)/2:(SO(2*(t-.5))+1)/2,TO=t=>-(Math.sqrt(1-t*t)-1),m6=t=>1-TO(1-t),vX=t=>t<.5?TO(2*t)/2:(m6(2*(t-.5))+1)/2;function hc(t){const e=2*(t-Math.sqrt((t-1)*t)),i=e/2/t;return r=>r<i?t*r*r:e*r-e+1}function pc(t,e){return(i,r)=>i<e?e*t(i/e,r):1-t((1-i)/(1-e),r)*(1-e)}const bX=pc(hc(1),1),wX=pc(hc(1),0),$O=pc(hc(1),.5),_X=pc(hc(2),1),xX=pc(hc(2),0),SX=pc(hc(2),.5),TX=pc(hc(3),1),$X=pc(hc(3),0),kX=pc(hc(3),.5),EX=pc(hc(4),1),IX=pc(hc(4),0),CX=pc(hc(4),.5),MX={linear:eNe,"in-quad":X2,"out-quad":yO,"in-out-quad":hX,"in-coast-quad":bX,"out-coast-quad":wX,"in-out-coast-quad":$O,"in-cubic":vO,"out-cubic":d6,"in-out-cubic":pX,"in-coast-cubic":_X,"out-coast-cubic":xX,"in-out-coast-cubic":SX,"in-quart":bO,"out-quart":h6,"in-out-quart":fX,"in-coast-quart":TX,"out-coast-quart":$X,"in-out-coast-quart":kX,"in-quint":wO,"out-quint":p6,"in-out-quint":mX,"in-coast-quint":EX,"out-coast-quint":IX,"in-out-coast-quint":CX,"in-sine":_O,"out-sine":f6,"in-out-sine":gX,"in-expo":xO,"out-expo":SO,"in-out-expo":yX,"in-circ":TO,"out-circ":m6,"in-out-circ":vX,"quad-in":X2,"quad-out":yO,"quad-in-out":hX,"quad-in-coast":bX,"quad-out-coast":wX,"quad-in-out-coast":$O,"cubic-in":vO,"cubic-out":d6,"cubic-in-out":pX,"cubic-in-coast":_X,"cubic-out-coast":xX,"cubic-in-out-coast":SX,"quart-in":bO,"quart-out":h6,"quart-in-out":fX,"quart-in-coast":TX,"quart-out-coast":$X,"quart-in-out-coast":kX,"quint-in":wO,"quint-out":p6,"quint-in-out":mX,"quint-in-coast":EX,"quint-out-coast":IX,"quint-in-out-coast":CX,"sine-in":_O,"sine-out":f6,"sine-in-out":gX,"expo-in":xO,"expo-out":SO,"expo-in-out":yX,"circ-in":TO,"circ-out":m6,"circ-in-out":vX,ease:t=>Zl.ease(t),"ease-in":t=>Zl.easeIn(t),"ease-out":t=>Zl.easeOut(t),"ease-in-out":t=>Zl.easeInOut(t)};let tNe=class{constructor(){this.pan=0,this.rotate=0,this.fov=0,this.sourceZoom=0,this.targetZoom=0}};const kO={desiredScreenFlow:2,minDuration:500,maxDuration:8e3},che={maxDuration:4e3};let iNe=class uhe{constructor(e){this._createCamera=e,this.compared=new tNe,this.segmentStart=0,this.segmentEnd=1,this.settings={desiredScreenFlow:kO.desiredScreenFlow},this.source=e(),this.target=e()}clone(){const e=new uhe(this._createCamera);return e.copyFrom(this),e}copyFrom(e){this.update(e.source,e.target,e.settings)}update(e,i,r){this.source!==e&&this.source.copyFrom(e),this.target!==i&&this.target.copyFrom(i),this.source.compareTo(this.target,this.compared),this.settings.desiredScreenFlow=r.desiredScreenFlow??kO.desiredScreenFlow,this.desiredPixelFlow=this.settings.desiredScreenFlow*this.target.size,this.halfWindowSize=this.target.size/2}halfWindowPanAtZoom(e){const i=this.target.pixelsPerPanAtZoom(e);return this.halfWindowSize/i}get hasZoom(){return Math.abs(this.compared.sourceZoom-this.compared.targetZoom)>1e-5}get hasPan(){return this.compared.pan>Lo()}get hasFov(){return Math.abs(this.compared.fov)>Lo()}get hasRotate(){return this.compared.rotate>Lo()}},rNe=class{constructor(){this.pan=0,this.rotate=0,this.zoom=0,this.fov=0,this.zoomOffset=0}},nNe=class{constructor(){this.segments=new Array}get time(){return this.segments.reduce((e,i)=>e+i.time,0)}interpolateComponentsAt(e,i){e=Math.min(Math.max(e,0),1),e*=this.time;let r=0,n=0;const s=this.definition,o=this.segments.reduce((a,l)=>a||l.definition.hasZoom,!1);for(let a=0;a<this.segments.length;a++){const l=this.segments[a],h=l.definition;if(e<=l.time||a===this.segments.length-1){if(this.segmentInterpolateComponentsAt(l,l.time===0?0:e/l.time,i),s.hasPan&&!isNaN(i.pan)&&isFinite(s.compared.pan)?i.pan=(r+h.compared.pan*i.pan)/s.compared.pan:i.pan=1,s.hasRotate&&!isNaN(i.rotate)&&isFinite(s.compared.rotate)?i.rotate=(n+h.compared.rotate*i.rotate)/s.compared.rotate:i.rotate=1,o&&!isNaN(i.zoom)&&isFinite(h.compared.targetZoom)){const{sourceZoom:f,targetZoom:g}=h.compared,v=i.zoom*(g-f)+f,w=this.segments[0].definition.compared.sourceZoom,S=this.segments[this.segments.length-1].definition.compared.targetZoom,T=Math.abs(g-w)>Math.abs(f-w)?g:f;i.zoomOffset=T-S,i.zoom=(v-w)/(T-w)}else i.zoom=1;return i}e-=l.time,r+=h.compared.pan,n+=h.compared.rotate}}segmentInterpolateComponentsAt(e,i,r){e.interpolateComponentsAt(i,r)}},wz=class{get time(){return this._time}constructor(e){e&&this.update(e)}update(e){e&&(this.definition?this.definition.copyFrom(e):this.definition=e.clone()),this._updatePrecomputedVariables(),this._updatePixelFlow()}_updatePrecomputedVariables(){const e=this.definition,i=e.compared,r=i.sourceZoom,n=i.targetZoom;this._zoomSign=r>n?1:-1,this._panPixelsAtSource=i.pan*e.source.pixelsPerPanAtZoom(r);const s=(e.source.pixelsPerRotate()+e.target.pixelsPerRotate())/2;this._rotatePixels=i.rotate*s}_updatePixelFlow(){const e=this.definition.compared.sourceZoom,i=this.definition.compared.targetZoom,{hasZoom:r,hasPan:n,hasRotate:s}=this.definition;let o=0,a=0;r&&(n&&(o=(i/e-1)/(-1/(this._zoomSign*this.definition.halfWindowSize)*Math.LN2*this._panPixelsAtSource)),s&&(a=this._zoomSign*(Math.log(e/i)/Math.LN2)*this.definition.halfWindowSize/this._rotatePixels)),this._zoomPixelFlow=0,this._panPixelFlow=0,this._rotatePixelFlow=0;const l=this.definition.desiredPixelFlow;if(r&&n&&s){const h=o+a+o*a;this._zoomPixelFlow=o*a/h*l,this._panPixelFlow=a/h*l,this._rotatePixelFlow=o/h*l}else if(r&&n){const h=1+o;this._zoomPixelFlow=o/h*l,this._panPixelFlow=1/h*l}else if(r&&s){const h=1+a;this._zoomPixelFlow=a/h*l,this._rotatePixelFlow=1/h*l}else if(n&&s){const h=this._panPixelsAtSource/this._rotatePixels,f=1+h;this._panPixelFlow=h/f*l,this._rotatePixelFlow=1/f*l}else n?this._panPixelFlow=l:r?this._zoomPixelFlow=l:s&&(this._rotatePixelFlow=l);if(this._time=Math.max(this.rotateTime,this.zoomTime,this.panTime),this.fovTime>this._time){const h=this.fovTime/this._time;this._time=this.fovTime,this._zoomPixelFlow/=h,this._panPixelFlow/=h,this._rotatePixelFlow/=h}}get rotateTime(){return this.definition.hasRotate?this._rotatePixels/this._rotatePixelFlow:0}get zoomTime(){return this.definition.hasZoom?this._zoomSign*(Math.log(this.definition.compared.sourceZoom/this.definition.compared.targetZoom)/Math.LN2)*this.definition.halfWindowSize/this._zoomPixelFlow:0}get fovTime(){return this.definition.hasFov?Math.abs(this.definition.compared.fov)/sNe:0}get panTime(){if(!this.definition.hasPan)return 0;if(this.definition.hasZoom){const e=-1/(this._zoomSign*this.definition.halfWindowSize)*Math.LN2,i=e*this._panPixelsAtSource;return Math.log(i*(this._zoomPixelFlow/this._panPixelFlow)+1)/(e*this._zoomPixelFlow)}return this._panPixelsAtSource/this._panPixelFlow}_interpolateComponentsZoom(e){if(e===0||e===1)return e;if(this.definition.hasZoom){const i=this.definition.compared.sourceZoom,r=this.definition.compared.targetZoom;return(i*(i/r)**-e-i)/(r-i)}return e}_interpolateComponentsFov(e){if(e===0)return this.definition.segmentStart;if(e===1)return this.definition.segmentEnd;if(this.definition.hasFov){const{segmentStart:i,segmentEnd:r}=this.definition;return i+e*(r-i)}return this.definition.segmentStart}_interpolateComponentsPan(e){if(e===0||e===1)return e;if(this.definition.hasPan&&this.definition.hasZoom){const i=-1/(this._zoomSign*this.definition.halfWindowSize)*this._zoomPixelFlow;return 1/this._panPixelsAtSource*(this._panPixelFlow*(2**(i*e*this._time)-1))/(i*Math.LN2)}return e}_interpolateComponentsRotate(e){return e}interpolateComponentsAt(e,i){e=Math.min(Math.max(e,0),1),i.zoom=this._interpolateComponentsZoom(e),i.pan=this._interpolateComponentsPan(e),i.rotate=this._interpolateComponentsRotate(e),i.zoomOffset=0,i.fov=this._interpolateComponentsFov(e)}};const sNe=K$(45);function oNe(t,e,i){const r=e-t.compared.sourceZoom,n=t.halfWindowPanAtZoom(r);return-t.halfWindowSize*(i.ascensionFactor*Math.LN2*t.compared.pan+n)*Math.log(t.compared.sourceZoom/e)/(t.desiredPixelFlow*Math.LN2*n)}function aNe(t,e,i){const r=1/e,n=Math.log(t.compared.sourceZoom*r),s=1/t.desiredPixelFlow,o=1/Math.LN2,a=e-t.compared.sourceZoom,l=1/a,h=(i.ascensionFactor*Math.LN2*t.compared.pan+t.halfWindowPanAtZoom(a))/t.halfWindowPanAtZoom(1);return t.halfWindowSize*r*s*o*l*h-t.halfWindowSize*n*s*o*l+t.halfWindowSize*n*s*o*h/(a*a)}function lNe(t,e,i){const r=e-t.compared.sourceZoom,n=1/r,s=1/e,o=Math.log(t.compared.sourceZoom*s),a=(i.ascensionFactor*Math.LN2*t.compared.pan+t.halfWindowPanAtZoom(r))/t.halfWindowPanAtZoom(1);return t.halfWindowSize*n*(-2*n*s*a+2*n*o+2*s-2*o*a/(r*r)-a/(e*e))/(t.desiredPixelFlow*Math.LN2)}function cNe(t,e){return-t.halfWindowSize*Math.log(t.compared.sourceZoom/e)/(t.desiredPixelFlow*Math.LN2)}function uNe(t,e){return t.halfWindowSize/(e*t.desiredPixelFlow*Math.LN2)}function dNe(t,e){return-t.halfWindowSize/(e*e*t.desiredPixelFlow*Math.LN2)}function hNe(t,e,i){return-t.compared.pan*t.halfWindowSize*(i.ascensionFactor+i.descensionFactor-1)/(t.desiredPixelFlow*t.halfWindowPanAtZoom(e))}function pNe(t,e,i){return t.compared.pan*t.halfWindowSize*(i.ascensionFactor+i.descensionFactor-1)/(t.desiredPixelFlow*t.halfWindowPanAtZoom(e*e))}function fNe(t,e,i){return-2*t.compared.pan*t.halfWindowSize*(i.ascensionFactor+i.descensionFactor-1)/(t.desiredPixelFlow*t.halfWindowPanAtZoom(e*e*e))}function mNe(t,e,i){return t.halfWindowSize*(-t.halfWindowPanAtZoom(e)-i.descensionFactor*Math.LN2*t.compared.pan+t.halfWindowPanAtZoom(t.compared.targetZoom))*Math.log(e/t.compared.targetZoom)/(t.desiredPixelFlow*Math.LN2*t.halfWindowPanAtZoom(-e+t.compared.targetZoom))}function gNe(t,e,i){const r=Math.log(e/t.compared.targetZoom),n=1/t.desiredPixelFlow,s=1/Math.LN2,o=-e+t.compared.targetZoom,a=1/o,l=(-t.halfWindowPanAtZoom(e)-i.descensionFactor*Math.LN2*t.compared.pan+t.halfWindowPanAtZoom(t.compared.targetZoom))/t.halfWindowPanAtZoom(1);return-t.halfWindowSize*r*n*s*a+t.halfWindowSize*r*n*s*l/(o*o)+t.halfWindowSize*n*s*a*l/e}function yNe(t,e,i){const r=e-t.compared.targetZoom,n=1/r,s=1/e,o=Math.log(e/t.compared.targetZoom),a=(t.halfWindowPanAtZoom(e)+i.descensionFactor*Math.LN2*t.compared.pan-t.halfWindowPanAtZoom(t.compared.targetZoom))/t.halfWindowPanAtZoom(1);return t.halfWindowSize*n*(-2*n*s*a-2*n*o+2*s+2*o*a/(r*r)-a/(e*e))/(t.desiredPixelFlow*Math.LN2)}function vNe(t,e){return t.halfWindowSize*Math.log(e/t.compared.targetZoom)/(t.desiredPixelFlow*Math.LN2)}function bNe(t,e){return t.halfWindowSize/(e*t.desiredPixelFlow*Math.LN2)}function wNe(t,e){return-t.halfWindowSize/(e*e*t.desiredPixelFlow*Math.LN2)}function _Ne(t){const e=t.compared.sourceZoom-t.compared.targetZoom;if(e===0)return t.compared.pan*t.halfWindowSize/(t.desiredPixelFlow*t.halfWindowPanAtZoom(t.compared.sourceZoom));const i=Math.LN2*t.compared.pan,r=e,n=t.halfWindowPanAtZoom(r),s=t.halfWindowSize*Math.log(t.compared.sourceZoom/t.compared.targetZoom)/(t.desiredPixelFlow*Math.LN2*n);return t.compared.sourceZoom<=t.compared.targetZoom?s*(i-n):s*(i+n)}function xNe(t,e){let i=SNe(t,e);const r={ascensionFactor:e.ascensionFactor!=null?e.ascensionFactor:.5,descensionFactor:e.descensionFactor!=null?e.descensionFactor:.5},n=r.ascensionFactor===0,s=r.descensionFactor===0,o=n?cNe:oNe,a=n?uNe:aNe,l=n?dNe:lNe,h=s?vNe:mNe,f=s?bNe:gNe,g=s?wNe:yNe,v=L=>o(t,L,r)+hNe(t,L,r)+h(t,L,r),w=L=>a(t,L,r)+pNe(t,L,r)+f(t,L,r),S=L=>l(t,L,r)+fNe(t,L,r)+g(t,L,r);let T=v(i);const C=_Ne(t);let I;const A=e.maximumIterations||20,P=e.maximumDistance!=null?e.maximumDistance:1/0;for(I=0;I<A;I++){const L=e.desiredSlope??1e-6;let B=w(i);Math.abs(B)>L&&(B+=L);const N=B/S(i);if(isNaN(N)||i>=P&&N<0){if(!isFinite(P))return null;i=P,T=v(i);break}if(i-=N,i<=t.compared.sourceZoom||i<=t.compared.targetZoom)return null;const Y=v(i);if(Math.abs(Y-T)/T<=.005)break;T=Y}return isNaN(T)||T>C*(1-.3)||i<=t.compared.sourceZoom||i<=t.compared.targetZoom?null:i}function SNe(t,e){const i=Math.max(t.compared.sourceZoom,t.compared.targetZoom),r=t.source.zoomAtPixelsPerPan(t.desiredPixelFlow/t.compared.pan)/2;return r<i?e.maximumDistance!=null?i+(e.maximumDistance-i)/2:1.5*i:e.maximumDistance?Math.min(e.maximumDistance,r):r}let TNe=class extends nNe{constructor(e,i){super(),this._preallocSegments=[new wz,new wz,new wz],this._ascensionSegment=null,this._descensionSegment=null,this.update(e,i)}update(e,i){if(!e)return;this.definition?this.definition.copyFrom(e):this.definition=e.clone();const r=i?.apex?xNe(e,i.apex):null;this.segments.length=0,this._ascensionSegment=null,this._descensionSegment=null,r?this._updateWithApex(r,i?.apex):this._updateWithoutApex()}segmentInterpolateComponentsAt(e,i,r){e.interpolateComponentsAt(i,r),e===this._ascensionSegment?r.zoom=yO(r.zoom):e===this._descensionSegment&&(r.zoom=X2(r.zoom))}_updateWithApex(e,i){const[r,n,s]=this._preallocSegments,o=i?.ascensionFactor??.5,a=Math.min(1-o,i?.ascensionFactor!=null&&i.descensionFactor!=null?i.descensionFactor:.5),l=1-o-a;r.definition?r.definition.copyFrom(this.definition):r.definition=this.definition.clone(),r.definition.compared.targetZoom=e,r.definition.compared.pan=this.definition.compared.pan*o,r.definition.compared.rotate=this.definition.compared.rotate*o,r.definition.segmentEnd=o,r.update(),this._ascensionSegment=r,this.segments.push(r),l>0&&(n.definition?n.definition.copyFrom(this.definition):n.definition=this.definition.clone(),n.definition.copyFrom(this.definition),n.definition.compared.sourceZoom=e,n.definition.compared.targetZoom=e,n.definition.compared.pan=this.definition.compared.pan*l,n.definition.compared.rotate=this.definition.compared.rotate*l,n.definition.segmentStart=r.definition.segmentEnd,n.definition.segmentEnd=r.definition.segmentEnd+l,n.update(),this.segments.push(n)),s.definition?s.definition.copyFrom(this.definition):s.definition=this.definition.clone(),s.definition.compared.sourceZoom=e,s.definition.compared.pan=this.definition.compared.pan*a,s.definition.compared.rotate=this.definition.compared.rotate*a,s.definition.segmentStart=o+l,s.update(),this._descensionSegment=s,this.segments.push(s)}_updateWithoutApex(){const[e]=this._preallocSegments;e.update(this.definition),this.segments.push(e)}};const $Ne=new rNe;let kNe=class{get time(){return this._time}get isLinear(){return this.path.segments.length===1}constructor(e){this._time=0,this._easing=$O,this.definition=new iNe(e),this.path=new TNe}update(e,i,r){this.definition.update(e,i,r),this.path.update(this.definition,r),this._time=this._applyTimeSettings(Cbe(isFinite(this.path.time)?this.path.time:0),r),this._easing=r.easing??(this._time>=1e3?$O:SO)}cameraAt(e,i){e=Math.min(Math.max(0,e),1),e=this._normalizedEasing(e);const r=this.path.interpolateComponentsAt(e,$Ne);i.interpolate(this.definition.source,this.definition.target,r)}_normalizedEasing(e){const i=this._easing(0,this._time),r=this._easing(1,this._time);return(this._easing(e,this._time)-i)/(r-i)}_applyTimeSettings(e,i){const r=i.speedFactor!=null?i.speedFactor:1,n=i.minDuration??kO.minDuration/r,s=i.maxDuration??kO.maxDuration/r;return e=i.duration!=null?i.duration:Math.min(Math.max(e/r,n),s)}};const ENe=2e3,INe=64;let CNe=class{constructor(e){this._view=e,this._animation=new kNe(()=>new dX(this._view)),this._current=new dX(this._view)}get _source(){return this._animation.definition.source}get _target(){return this._animation.definition.target}get duration(){return this._animation.time}get animation(){return this._animation}update(e,i,r={}){ao(this._current.viewpoint,e),ao(this._source.viewpoint,e),ao(this._target.viewpoint,i),this._animation.update(this._source,this._target,r)}applyRatio(e,i){this._animation.cameraAt(i,this._current),ao(e,this._current.viewpoint)}},z0=class extends at{constructor(e){super(e),this._animation=null,this._destinationViewState=new vB,this.updateFunction=null,this.easing=MX.ease,this.viewpoint=new Vn({targetGeometry:new wt,scale:0,rotation:0}),this._updateTask=j_({postRender:this._postRender.bind(this)}),this._updateTask.pause(),this._transition=new CNe(e.view)}destroy(){this._updateTask=rr(this._updateTask)}get animation(){return this._animation}set animation(e){this._animation=e,this.view.animation=e}animate(e,i,r){this.stop();const n=this.viewpoint;ao(n,i);const s=e.target;this._transition.update(this.viewpoint,s,{apex:{maximumDistance:Math.min(Math.min(i.scale,s.scale)*INe,this.view.constraints.effectiveMinScale),desiredSlope:5e-8},duration:r?.duration,maxDuration:r?.animationMode==="auto"?1/0:r?.maxDuration??che.maxDuration,speedFactor:r?.speedFactor,easing:(typeof r?.easing=="string"?MX[r.easing]:r?.easing)||this.easing}),r?.animationMode==="auto"&&(this._destinationViewState.copy(this.view.state),this._destinationViewState.viewpoint=s,MNe(this._transition.animation,r,this.view.state,this._destinationViewState)||this._transition.update(this.viewpoint,s,{duration:0}));const o=()=>{this.animation===e&&this._updateTask&&(e.state==="finished"&&(this._transition.applyRatio(this.viewpoint,1),this.view.state&&(this.view.state.viewpoint=this.viewpoint.clone())),this.animation=null,this.updateFunction=null)};return e.when(o,o),this._startTime=performance.now(),this._updateTask.resume(),this.animation=e,e}animateContinuous(e,i){this.stop(),this.updateFunction=i,this.viewpoint=e;const r=new c6({target:e.clone()}),n=()=>{this.animation===r&&this._updateTask&&(this.animation=null,this.updateFunction=null)};return r.when(n,n),this._startTime=performance.now(),this._updateTask.resume(),this.animation=r,r}stop(){this.animation&&(this.animation.stop(),this.animation=null,this.updateFunction=null)}_postRender(e){const i=this.animation;if(i&&i.state!==c6.state.STOPPED){if(this.updateFunction)this.updateFunction(this.viewpoint,e.deltaTime),this.animation?.update(this.viewpoint);else{const r=performance.now()-this._startTime,n=this._transition.duration,s=n>0?r/n:1,o=s>=1;this._transition.applyRatio(this.viewpoint,s),o&&this.animation?.finish()}this.view.state&&(this.view.state.viewpoint=this.viewpoint.clone())}else this._updateTask.pause()}};function MNe(t,e,i,r){if(e?.duration!=null)return!0;const{time:n,isLinear:s}=t,o=e?.speedFactor||1;if(n>(e?.maxDuration??che.maxDuration/o))return!1;if(s){const l=Lr(),h=Fn(...r.toScreen(l,...i.center)),f=Fn(...i.toScreen(l,...r.center)),g=f!=null&&f.x>-1*i.size[0]&&f.x<(1.5+.5)*i.size[0]&&f.y>-1*i.size[1]&&f.y<(1.5+.5)*i.size[1],v=h!=null&&h.x>-1*r.size[0]&&h.x<(1.5+.5)*r.size[0]&&h.y>-1*r.size[1]&&h.y<(1.5+.5)*r.size[1];if(n>ENe/o&&!g&&!v)return!1}return!0}u([p()],z0.prototype,"easing",void 0),u([p()],z0.prototype,"view",void 0),u([p()],z0.prototype,"viewpoint",void 0),z0=u([j("esri.views.2d.AnimationManager")],z0);const ANe=z0;function lr(){return Promise.all([ke(()=>import("./webglDeps-CEXy3Wmw.js"),__vite__mapDeps([195,149,196,197,198,4,42])),ke(()=>import("./mapViewDeps-CqXSGPE6.js"),__vite__mapDeps([199,111,79,80,74,18,4,81,78,82,71,200,201,149,196,197,140,72,202,75,198,42,148,41,203,70,101,204,129,132,20,21,76,86,205,83,84,206,207,8,195,208,96,209,210,128,211,138,139,212,59,69,73,25,24,213,85,214,77,155,156,91,215,87,93,67,216,217,218,219,145,220,221]))])}const sS=()=>lr().then(()=>ke(()=>import("./TileLayerView2D-1IuWY2Mz.js"),__vite__mapDeps([222,78,79,80,74,18,4,81,82,71,206,111,207,8,204,203,70,41,197,198,42,148,149,101,129,132,20,21,208,201,196,140,202,75,96,209,210,128,59,200,72,76,86,83,84,138,139,215,69,73,25,24,87,93,67,223,224,225,219,226,172,227,217,218,228,229,230,231,232,233,234,235]))),Vg=()=>lr().then(()=>ke(()=>import("./FeatureLayerView2D-lKzzCYB8.js").then(t=>t.F),__vite__mapDeps([236,200,79,80,74,18,4,81,78,82,71,201,149,196,197,140,72,202,75,198,42,148,41,203,70,101,204,129,132,20,21,76,86,237,238,239,25,32,226,172,218,219,96,60,58,59,94,87,205,240,153,34,89,231,234,228,229,235]))),AX={"base-dynamic":()=>lr().then(()=>ke(()=>import("./BaseDynamicLayerView2D-IgYyIO2g.js"),__vite__mapDeps([241,242,203,70,71,41,197,198,4,42,148,149,101,204,129,132,20,18,21,224,201,196,140,225,226,172,243,228,229]))),"base-tile":sS,"bing-maps":sS,catalog:()=>lr().then(()=>ke(()=>import("./CatalogLayerView2D-TzY4deLK.js"),__vite__mapDeps([244,226,204,172,228]))),"catalog-dynamic-group":()=>lr().then(()=>ke(()=>import("./CatalogDynamicGroupLayerView2D-DrIjZ4yO.js"),__vite__mapDeps([245,226,204,172,228]))),"catalog-footprint":()=>lr().then(()=>ke(()=>import("./CatalogFootprintLayerView2D-CerNlYt_.js"),__vite__mapDeps([246,236,200,79,80,74,18,4,81,78,82,71,201,149,196,197,140,72,202,75,198,42,148,41,203,70,101,204,129,132,20,21,76,86,237,238,239,25,32,226,172,218,219,96,60,58,59,94,87,205,240,153,34,89,231,234,228,229,235]))),csv:Vg,"geo-rss":()=>lr().then(()=>ke(()=>import("./GeoRSSLayerView2D-DwtNrhXj.js"),__vite__mapDeps([247,226,204,172,216,217,218,4,72,70,71,41,196,149,219,203,197,198,42,148,101,129,132,20,18,21,200,79,80,74,81,78,82,201,140,202,75,76,86,215,206,111,207,8,69,73,25,24,87,93,67,228]))),feature:Vg,geojson:Vg,parquet:Vg,graphics:()=>lr().then(()=>ke(()=>import("./GraphicsLayerView2D-WPIBE78G.js"),__vite__mapDeps([248,226,204,172,216,217,218,4,72,70,71,41,196,149,219,203,197,198,42,148,101,129,132,20,18,21,200,79,80,74,81,78,82,201,140,202,75,76,86,215,206,111,207,8,69,73,25,24,87,93,67,228,235]))),group:()=>lr().then(()=>ke(()=>import("./GroupLayerView2D-5vwipO85.js"),__vite__mapDeps([249,226,204,172,228]))),imagery:()=>lr().then(()=>ke(()=>import("./ImageryLayerView2D-B73fAKXv.js"),__vite__mapDeps([250,251,198,4,42,148,149,41,116,203,70,71,197,101,204,129,132,20,18,21,110,108,226,172,215,79,80,74,81,78,82,206,111,207,8,69,72,73,75,25,24,200,201,196,140,202,76,86,87,93,67,227,217,218,219,242,224,225,243,114,191,237,234,228,229,235]))),"imagery-tile":()=>lr().then(()=>ke(()=>import("./ImageryTileLayerView2D-BxmU-7Zq.js"),__vite__mapDeps([252,253,251,198,4,42,148,149,41,116,203,70,71,197,101,204,129,132,20,18,21,110,108,226,172,113,254,219,201,196,140,214,202,75,225,255,114,235,191,237,234,228,229]))),kml:()=>lr().then(()=>ke(()=>import("./KMLLayerView2D-D4UBXOcZ.js"),__vite__mapDeps([256,257,224,204,201,149,196,197,140,225,242,203,70,71,41,198,4,42,148,101,129,132,20,18,21,226,172,216,217,218,72,219,200,79,80,74,81,78,82,202,75,76,86,215,206,111,207,8,69,73,25,24,87,93,67,228,155,156,91,114,211,195,138,139,209,254]))),"knowledge-graph":()=>lr().then(()=>ke(()=>import("./KnowledgeGraphLayerView2D-DwMbYZYI.js"),__vite__mapDeps([258,226,204,172,228]))),"link-chart":()=>lr().then(()=>ke(()=>import("./KnowledgeGraphLayerView2D-DwMbYZYI.js"),__vite__mapDeps([258,226,204,172,228]))),"knowledge-graph-sublayer":Vg,"map-image":()=>lr().then(()=>ke(()=>import("./MapImageLayerView2D-DcXPxXkl.js"),__vite__mapDeps([259,242,203,70,71,41,197,198,4,42,148,149,101,204,129,132,20,18,21,224,201,196,140,225,226,172,215,79,80,74,81,78,82,206,111,207,8,69,72,73,75,25,24,200,202,76,86,87,93,67,227,217,218,219,243,228,260,231,233,237,229,230,232,234,235]))),"map-notes":()=>lr().then(()=>ke(()=>import("./MapNotesLayerView2D-CxTeEWqy.js"),__vite__mapDeps([261,226,204,172,216,217,218,4,72,70,71,41,196,149,219,203,197,198,42,148,101,129,132,20,18,21,200,79,80,74,81,78,82,201,140,202,75,76,86,215,206,111,207,8,69,73,25,24,87,93,67,228,235]))),media:()=>lr().then(()=>ke(()=>import("./MediaLayerView2D-DkROxyG7.js"),__vite__mapDeps([262,263,93,78,79,80,74,18,4,81,82,71,206,111,207,8,204,203,70,41,197,198,42,148,149,101,129,132,20,21,208,201,196,140,202,75,96,209,210,128,59,200,72,76,86,83,84,138,139,215,69,73,25,24,87,67,213,85,264,214,226,172,228]))),"ogc-feature":()=>lr().then(()=>ke(()=>import("./OGCFeatureLayerView2D-DbVXkWhL.js"),__vite__mapDeps([265,236,200,79,80,74,18,4,81,78,82,71,201,149,196,197,140,72,202,75,198,42,148,41,203,70,101,204,129,132,20,21,76,86,237,238,239,25,32,226,172,218,219,96,60,58,59,94,87,205,240,153,34,89,231,234,228,229,235]))),"open-street-map":sS,"oriented-imagery":Vg,route:()=>lr().then(()=>ke(()=>import("./RouteLayerView2D-Cb0sqvwN.js"),__vite__mapDeps([266,267,268,226,204,172,216,217,218,4,72,70,71,41,196,149,219,203,197,198,42,148,101,129,132,20,18,21,200,79,80,74,81,78,82,201,140,202,75,76,86,215,206,111,207,8,69,73,25,24,87,93,67,228,235]))),stream:()=>lr().then(()=>ke(()=>import("./StreamLayerView2D-JgRr97V-.js"),__vite__mapDeps([269,236,200,79,80,74,18,4,81,78,82,71,201,149,196,197,140,72,202,75,198,42,148,41,203,70,101,204,129,132,20,21,76,86,237,238,239,25,32,226,172,218,219,96,60,58,59,94,87,205,240,153,34,89,231,234,228,229,235]))),"subtype-group":()=>lr().then(()=>ke(()=>import("./SubtypeGroupLayerView2D-t9UeN99o.js"),__vite__mapDeps([270,236,200,79,80,74,18,4,81,78,82,71,201,149,196,197,140,72,202,75,198,42,148,41,203,70,101,204,129,132,20,21,76,86,237,238,239,25,32,226,172,218,219,96,60,58,59,94,87,205,240,153,34,89,231,234,228,229,235]))),tile:sS,"vector-tile":()=>lr().then(()=>ke(()=>import("./VectorTileLayerView2D-DsKGrDbE.js"),__vite__mapDeps([271,82,59,4,78,128,210,129,81,149,198,42,148,203,70,71,41,197,101,204,132,20,18,21,219,23,130,131,111,226,172,228,229]))),video:()=>lr().then(()=>ke(()=>import("./VideoLayerView2D-DmNoJtY0.js"),__vite__mapDeps([272,273,274,165,164,264,101,203,70,71,41,197,198,4,42,148,149,204,129,132,20,18,21,200,79,80,74,81,78,82,201,196,140,72,202,75,76,86,214,275,226,172,216,217,218,219,215,206,111,207,8,69,73,25,24,87,93,67,228]))),wcs:()=>lr().then(()=>ke(()=>import("./ImageryTileLayerView2D-BxmU-7Zq.js"),__vite__mapDeps([252,253,251,198,4,42,148,149,41,116,203,70,71,197,101,204,129,132,20,18,21,110,108,226,172,113,254,219,201,196,140,214,202,75,225,255,114,235,191,237,234,228,229]))),"web-tile":sS,wfs:Vg,wms:()=>lr().then(()=>ke(()=>import("./WMSLayerView2D-Ne9xFnRV.js"),__vite__mapDeps([276,242,203,70,71,41,197,198,4,42,148,149,101,204,129,132,20,18,21,224,201,196,140,225,226,172,243,228,229,277,237]))),wmts:()=>lr().then(()=>ke(()=>import("./WMTSLayerView2D-Ctf4yUI5.js"),__vite__mapDeps([278,223,224,204,201,149,196,197,140,225,203,70,71,41,198,4,42,148,101,129,132,20,18,21,219,226,172,228,229]))),"base-elevation":null,"building-scene":null,dimension:null,elevation:null,"gaussian-splat":null,"integrated-mesh-3dtiles":null,"integrated-mesh":null,"line-of-sight":null,"point-cloud":null,scene:null,unknown:null,unsupported:null,viewshed:null,voxel:null};function ONe(t){const e=t.declaredClass?t.declaredClass.slice(t.declaredClass.lastIndexOf(".")+1):"Unknown",i=e.replaceAll(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();return new ee(`${i}:view-not-supported`,`${e} is not supported in 2D`)}const OX={hasLayerViewModule:t=>AX[t.type]!=null,importLayerView:t=>{const e=AX[t.type];if(e==null)throw ONe(t);return e(t)}};var il;let N1=(il=class{static getId(e,i,r,n){return typeof e=="object"?`${e.level}/${e.row}/${e.col}/${e.world}`:`${e}/${i}/${r}/${n}`}constructor(e,i,r,n){this.set(e,i,r,n)}get key(){return this}get id(){return this.toString()}get normalizedId(){return`${this.level}/${this.row}/${this.col}`}set id(e){this.set(e)}get hash(){const e=4095&this.row,i=4095&this.col,r=63&this.level;return(3&this.world)<<30|i<<22|e<<8|r}acquire(e,i,r,n){this.set(e,i,r,n)}contains(e){const i=e.level-this.level;return i>=0&&this.row===e.row>>i&&this.col===e.col>>i&&this.world===e.world}containsChild(e){const i=e.level-this.level;return i>0&&this.row===e.row>>i&&this.col===e.col>>i&&this.world===e.world}equals(e){return this.level===e.level&&this.row===e.row&&this.col===e.col&&this.world===e.world}clone(){return new il(this)}release(){this.level=0,this.row=0,this.col=0,this.world=0}set(e,i,r,n){if(e==null)this.level=0,this.row=0,this.col=0,this.world=0;else if(typeof e=="object")this.level=e.level||0,this.row=e.row||0,this.col=e.col||0,this.world=e.world||0;else if(typeof e=="string"){const[s,o,a,l]=e.split("/");this.level=parseFloat(s),this.row=parseFloat(o),this.col=parseFloat(a),this.world=parseFloat(l)}else this.level=+e,this.row=+i,this.col=+r,this.world=+n||0;return this}toString(){return`${this.level}/${this.row}/${this.col}/${this.world}`}getParentKey(){return this.level<=0?null:new il(this.level-1,this.row>>1,this.col>>1,this.world)}getNormalizedNeighbor(e,i,r){const n=this.clone();return n.col+=e,n.row+=i,r.normalizeKey(n),n}getChildKeys(){const e=this.level+1,i=this.row<<1,r=this.col<<1,n=this.world;return[new il(e,i,r,n),new il(e,i,r+1,n),new il(e,i+1,r,n),new il(e,i+1,r+1,n)]}compareRowMajor(e){return this.row<e.row?-1:this.row>e.row?1:this.col<e.col?-1:this.col>e.col?1:0}},il.pool=new b1(()=>new il(""),null,null,25,50),il);function Kb(t,e){return[t,e]}function Ug(t,e,i){return t[0]=e,t[1]=i,t}function PNe(t,e,i,r,n){return t[0]=e,t[1]=i,t[2]=r,t[3]=n,t}const Lc=new N1("0/0/0/0");let DNe=class dhe{static create(e,i,r=null){const n=Ro(e.spatialReference),s=i.origin||Kb(e.origin.x,e.origin.y),o=Kb(e.size[0]*i.resolution,e.size[1]*i.resolution),a=Kb(-1/0,-1/0),l=Kb(1/0,1/0),h=Kb(1/0,1/0);r!=null&&(Ug(a,Math.max(0,Math.floor((r.xmin-s[0])/o[0])),Math.max(0,Math.floor((s[1]-r.ymax)/o[1]))),Ug(l,Math.max(0,Math.floor((r.xmax-s[0])/o[0])),Math.max(0,Math.floor((s[1]-r.ymin)/o[1]))),Ug(h,l[0]-a[0]+1,l[1]-a[1]+1));const{cols:f,rows:g}=i;let v,w,S,T;return!r&&f&&g&&(Ug(a,f[0],g[0]),Ug(l,f[1],g[1]),Ug(h,f[1]-f[0]+1,g[1]-g[0]+1)),e.isWrappable?(v=Kb(Math.ceil(Math.round((n.valid[1]-n.valid[0])/i.resolution)/e.size[0]),h[1]),w=!0,S=n.origin,T=n.valid):(v=h,w=!1),new dhe(i.level,i.resolution,i.scale,s,a,l,h,o,v,w,S,T)}constructor(e,i,r,n,s,o,a,l,h,f,g,v){this.level=e,this.resolution=i,this.scale=r,this.origin=n,this.first=s,this.last=o,this.size=a,this.norm=l,this.worldSize=h,this.wrap=f,this._spatialReferenceOrigin=g,this._spatialReferenceValid=v}normalizeCol(e){if(!this.wrap)return e;const i=this.worldSize[0];return e<0?i-1-Math.abs((e+1)%i):e%i}normalizeKey(e){if(!this.wrap)return;const i=this.worldSize[0],r=e.col;r<0?(e.col=r+i,e.world-=1):r>=i&&(e.col=r-i,e.world+=1)}denormalizeCol(e,i){return this.wrap?this.worldSize[0]*i+e:e}getWorldForColumn(e){return this.wrap?Math.floor(e/this.worldSize[0]):0}getFirstColumnForWorld(e){return e*this.worldSize[0]+this.first[0]}getLastColumnForWorld(e){return e*this.worldSize[0]+this.first[0]+this.size[0]-1}getColumnForX(e){return(e-this.origin[0])/this.norm[0]}getXForColumn(e){const i=this.origin[0]+e*this.norm[0],r=this._spatialReferenceOrigin,n=this._spatialReferenceValid;return this.wrap&&r&&n?i===r[0]?n[0]:this.origin[0]===r[0]&&e===this.worldSize[0]?n[1]:i:i}getRowForY(e){return(this.origin[1]-e)/this.norm[1]}getYForRow(e){return this.origin[1]-e*this.norm[1]}getTileBounds(e,i,r=!1){Lc.set(i);const n=r?Lc.col:this.denormalizeCol(Lc.col,Lc.world),s=Lc.row;return PNe(e,this.getXForColumn(n),this.getYForRow(s+1),this.getXForColumn(n+1),this.getYForRow(s)),e}getTileCoords(e,i,r=!1){Lc.set(i);const n=r?Lc.col:this.denormalizeCol(Lc.col,Lc.world);return Array.isArray(e)?Ug(e,this.getXForColumn(n),this.getYForRow(Lc.row)):(e.x=this.getXForColumn(n),e.y=this.getYForRow(Lc.row)),e}};var pv;let _B=(pv=class{constructor(){this.spans=[]}acquire(e){this.lodInfo=e}release(){this.lodInfo=null,this.spans.length=0}*keys(){const e=this.lodInfo;for(const{row:i,colFrom:r,colTo:n}of this.spans)for(let s=r;s<=n;s++){const o=e.getWorldForColumn(s);yield new N1(e.level,i,e.normalizeCol(s),o)}}forEach(e,i){const{spans:r,lodInfo:n}=this,{level:s}=n;if(r.length!==0)for(const{row:o,colFrom:a,colTo:l}of r)for(let h=a;h<=l;h++)e.call(i,s,o,n.normalizeCol(h),n.getWorldForColumn(h))}},pv.pool=new b1(()=>new pv),pv),_z=class{constructor(e,i,r){this.row=e,this.colFrom=i,this.colTo=r}};const yr=new N1("0/0/0/0");let RNe=class hhe{static create(e,i){e[1]>i[1]&&([e,i]=[i,e]);const[r,n]=e,[s,o]=i,a=s-r,l=o-n,h=l!==0?a/l:0,f=(Math.ceil(n)-n)*h,g=(Math.floor(n)-n)*h;return new hhe(r,Math.floor(n),Math.ceil(o),h,a<0?f:g,a<0?g:f,a<0?s:r,a<0?r:s)}constructor(e,i,r,n,s,o,a,l){this.x=e,this.ymin=i,this.ymax=r,this.invM=n,this.leftAdjust=s,this.rightAdjust=o,this.leftBound=a,this.rightBound=l}incrRow(){this.x+=this.invM}getLeftCol(){return Math.max(this.x+this.leftAdjust,this.leftBound)}getRightCol(){return Math.min(this.x+this.rightAdjust,this.rightBound)}};const Da=[[0,0],[0,0],[0,0],[0,0]],LNe=1e-6;let zNe=class{constructor(e,i=null,r=e.lods[0].level,n=e.lods[e.lods.length-1].level){this.tileInfo=e,this.fullExtent=i,this.scales=[],this._infoByScale={},this._infoByLevel={};const s=e.lods.filter(a=>a.level>=r&&a.level<=n);this.minScale=s[0].scale,this.maxScale=s[s.length-1].scale;const o=this._lodInfos=s.map(a=>DNe.create(e,a,i));s.forEach((a,l)=>{this._infoByLevel[a.level]=o[l],this._infoByScale[a.scale]=o[l],this.scales[l]=a.scale},this),this._wrap=e.isWrappable}get spatialReference(){return this.tileInfo.spatialReference}getLODInfoAt(e){return this._infoByLevel[typeof e=="number"?e:e.level]}getTileBounds(e,i,r=!1){yr.set(i);const n=this._infoByLevel[yr.level];return n?n.getTileBounds(e,yr,r):e}getTileCoords(e,i,r=!1){yr.set(i);const n=this._infoByLevel[yr.level];return n?n.getTileCoords(e,yr,r):e}getTileCoverage(e,i=192,r=!0,n="closest"){if(!r&&(e.scale>this.minScale||e.scale<this.maxScale))return null;const s=n==="closest"?this.getClosestInfoForScale(e.scale):this.getSmallestInfoForScale(e.scale),o=_B.pool.acquire(s),a=this._wrap;let l,h,f,g=1/0,v=-1/0;const w=o.spans;Da[0][0]=Da[0][1]=Da[1][1]=Da[3][0]=-i,Da[1][0]=Da[2][0]=e.size[0]+i,Da[2][1]=Da[3][1]=e.size[1]+i;for(const I of Da)e.toMap(I,I),I[0]=s.getColumnForX(I[0]),I[1]=s.getRowForY(I[1]);const S=[];let T=3;for(let I=0;I<4;I++){if(Da[I][1]===Da[T][1]){T=I;continue}const A=RNe.create(Da[I],Da[T]);g=Math.min(A.ymin,g),v=Math.max(A.ymax,v),S[A.ymin]===void 0&&(S[A.ymin]=[]),S[A.ymin].push(A),T=I}if(g==null||v==null||v-g>100)return null;let C=[];for(l=g;l<v;){S[l]!=null&&(C=C.concat(S[l])),h=1/0,f=-1/0;for(let I=C.length-1;I>=0;I--){const A=C[I];h=Math.min(h,A.getLeftCol()),f=Math.max(f,A.getRightCol())}if(h=Math.floor(h),f=Math.floor(f),l>=s.first[1]&&l<=s.last[1])if(a)if(s.size[0]<s.worldSize[0]){const I=Math.floor(f/s.worldSize[0]);for(let A=Math.floor(h/s.worldSize[0]);A<=I;A++)w.push(new _z(l,Math.max(s.getFirstColumnForWorld(A),h),Math.min(s.getLastColumnForWorld(A),f)))}else w.push(new _z(l,h,f));else h>s.last[0]||f<s.first[0]||(h=Math.max(h,s.first[0]),f=Math.min(f,s.last[0]),w.push(new _z(l,h,f)));l+=1;for(let I=C.length-1;I>=0;I--){const A=C[I];A.ymax>=l?A.incrRow():C.splice(I,1)}}return o}getTileParentId(e){yr.set(e);const i=this._infoByLevel[yr.level],r=this._lodInfos.indexOf(i)-1;return r<0?null:(this._getTileIdAtLOD(yr,this._lodInfos[r],yr),yr.id)}getTileResolution(e){const i=this._infoByLevel[typeof e=="object"?e.level:e];return i?i.resolution:-1}getTileScale(e){const i=this._infoByLevel[e.level];return i?i.scale:-1}intersects(e,i){yr.set(i);const r=this._infoByLevel[yr.level],n=e.lodInfo;if(n.resolution>r.resolution){this._getTileIdAtLOD(yr,n,yr);const o=n.denormalizeCol(yr.col,yr.world);for(const a of e.spans)if(a.row===yr.row&&a.colFrom<=o&&a.colTo>=o)return!0}if(n.resolution<r.resolution){const[o,a,l,h]=e.spans.reduce((T,C)=>(T[0]=Math.min(T[0],C.row),T[1]=Math.max(T[1],C.row),T[2]=Math.min(T[2],C.colFrom),T[3]=Math.max(T[3],C.colTo),T),[1/0,-1/0,1/0,-1/0]),f=r.denormalizeCol(yr.col,yr.world),g=n.getColumnForX(r.getXForColumn(f)),v=n.getRowForY(r.getYForRow(yr.row)),w=n.getColumnForX(r.getXForColumn(f+1))-1,S=n.getRowForY(r.getYForRow(yr.row+1))-1;return!(g>h||w<l||v>a||S<o)}const s=n.denormalizeCol(yr.col,yr.world);return e.spans.some(o=>o.row===yr.row&&o.colFrom<=s&&o.colTo>=s)}normalizeBounds(e,i,r){if(e[0]=i[0],e[1]=i[1],e[2]=i[2],e[3]=i[3],this._wrap){const n=Ro(this.tileInfo.spatialReference),s=-r*(n.valid[1]-n.valid[0]);e[0]+=s,e[2]+=s}return e}getSmallestInfoForScale(e){const i=this.scales;if(this._infoByScale[e])return this._infoByScale[e];if(e>i[0])return this._infoByScale[i[0]];for(let r=1;r<i.length-1;r++)if(e>i[r]+LNe)return this._infoByScale[i[r-1]];return this._infoByScale[i[i.length-1]]}getClosestInfoForScale(e){const i=this.scales;return this._infoByScale[e]||(e=i.reduce((r,n)=>Math.abs(n-e)<Math.abs(r-e)?n:r,i[0])),this._infoByScale[e]}scaleToLevel(e){const i=this.scales;if(this._infoByScale[e])return this._infoByScale[e].level;for(let r=i.length-1;r>=0;r--)if(e<i[r])return r===i.length-1?this._infoByScale[i[i.length-1]].level:this._infoByScale[i[r]].level+(i[r]-e)/(i[r]-i[r+1]);return this._infoByScale[i[0]].level}scaleToZoom(e){return this.tileInfo.scaleToZoom(e)}zoomToScale(e){return this.tileInfo.zoomToScale(e)}_getTileIdAtLOD(e,i,r){const n=this._infoByLevel[r.level];return e.set(r),i.resolution<n.resolution?null:(i.resolution===n.resolution||(e.level=i.level,e.col=Math.floor(r.col*n.resolution/i.resolution+.01),e.row=Math.floor(r.row*n.resolution/i.resolution+.01)),e)}},NNe=class{constructor(e,i){this.item=e,this.controller=i,this.promise=null}},jNe=class{constructor(e){this._schedule=null,this._task=null,this._deferreds=new e_,this._controllers=new e_,this._processingItems=new e_,this._pausedSignal=J_(!1),this.concurrency=1,e.concurrency&&(this.concurrency=e.concurrency),this._queue=new U2(e.peeker),this.process=e.process;const i=e.scheduler;e.priority&&i&&(this._task=i.registerTask(e.priority,this))}destroy(){this.clear(),this._schedule=rr(this._schedule),this._task=rr(this._task)}get updating(){return!!this._task?.updating||this.readyToRun}get length(){return this._processingItems.size+this._queue.length}abort(e){const i=this._controllers.get(e);i&&i.abort()}clear(){this._queue.clear();const e=[];this._controllers.forEach(i=>e.push(i)),this._controllers.clear(),e.forEach(i=>i.abort()),this._processingItems.clear(),this._cancelNext()}forEach(e){this._deferreds.forEach((i,r)=>e(r))}get(e){const i=this._deferreds.get(e);return i?i.promise:void 0}isOngoing(e){return this._processingItems.has(e)}has(e){return this._deferreds.has(e)}pause(){this._pausedSignal.value||(this._pausedSignal.value=!0,this._cancelNext())}push(e,i){const r=this.get(e);if(r)return r;const n=new AbortController;let s=null;i&&(s=Ds(i,()=>n.abort()));const o=()=>{const f=this._processingItems.get(e);f&&f.controller.abort(),a(),h.reject(Si())},a=()=>{l.remove(),s?.remove(),this._removeItem(e),this._queue.remove(e),this._scheduleNext()},l=o9(n.signal,o),h=cs();return this._deferreds.set(e,h),this._controllers.set(e,n),h.promise.then(a,a),this._queue.push(e),this._scheduleNext(),h.promise}last(){return this._queue.last()}lastPromise(){const e=this.last();return e?this.get(e):null}peek(){return this._queue.peek()}popLast(){const e=this._queue.popLast();return e&&(this._deferreds.get(e)?.reject(Si()),this._removeItem(e)),e}reset(){const e=Array.from(this._processingItems.values());this._processingItems.clear();for(const i of e)this._queue.push(i.item),i.controller.abort();this._scheduleNext()}resume(){this._pausedSignal.value&&(this._pausedSignal.value=!1,this._scheduleNext())}takeAll(){const e=[];for(;this._queue.length;)e.push(this._queue.pop());return this.clear(),e}get readyToRun(){return!this._pausedSignal.value&&this._queue.length>0&&this._processingItems.size<this.concurrency}runTask(e){for(;!e.done&&this._queue.length>0&&this._processingItems.size<this.concurrency;)this._process(this._queue.pop()),e.madeProgress()}_removeItem(e){this._deferreds.delete(e),this._controllers.delete(e),this._processingItems.delete(e)}_scheduleNext(){this._task||this._pausedSignal.value||this._schedule||(this._schedule=_1(()=>{this._schedule=null,this._next()}))}_next(){for(;this._queue.length>0&&this._processingItems.size<this.concurrency;)this._process(this._queue.pop())}_cancelNext(){this._schedule&&(this._schedule.remove(),this._schedule=null)}_processResult(e,i){this._canProcessFulfillment(e)&&(this._scheduleNext(),this._deferreds.get(e.item).resolve(i))}_processError(e,i){this._canProcessFulfillment(e)&&(this._scheduleNext(),this._deferreds.get(e.item).reject(i))}_canProcessFulfillment(e){return!!this._deferreds.get(e.item)&&this._processingItems.get(e.item)===e}_process(e){if(e==null)return;let i;const r=new AbortController,n=new NNe(e,r);this._processingItems.set(e,n);try{i=this.process(e,r.signal)}catch(s){this._processError(n,s)}co(i)?(n.promise=i,i.then(s=>this._processResult(n,s),s=>this._processError(n,s))):this._processResult(n,i)}get test(){}};const PX=[0,0];let Rh=class extends at{constructor(e){super(e),this._keyToItem=new Map,this._tilesByScale=new Map,this.concurrency=6}initialize(){const{concurrency:e,process:i,scheduler:r,priority:n}=this;this._queue=new jNe({concurrency:e,scheduler:r,priority:n,process:(s,o)=>{const a=this._keyToItem.get(s);return i(a,{signal:o})},peeker:s=>this._peek(s)})}destroy(){this.clear(),this._queue=pr(this._queue)}get length(){return this._queue?this._queue.length:0}abort(e){const i=typeof e=="string"?e:e.id;this._queue.abort(i)}clear(){this._queue.clear(),this._keyToItem.clear(),this._tilesByScale.clear()}has(e){return typeof e=="string"?this._keyToItem.has(e):this._keyToItem.has(e.id)}pause(){this._queue.pause()}push(e){const i=e.key.id;if(this._queue.has(i))return this._queue.get(i);const r=this._queue.push(i),n=this.tileInfoView.getTileScale(e.key),s=Vv(this._tilesByScale,n,()=>new Set),o=()=>{s.delete(e.key),s.size===0&&this._tilesByScale.delete(n),this._keyToItem.delete(i)};return s.add(e.key),this._keyToItem.set(i,e),r.then(o,o),r}reset(){this._queue.reset()}resume(){this._queue.resume()}_peek(e){if(!this.state)return e.values().next().value;const i=new Set;for(const o of e)i.add(this._keyToItem.get(o).key);const r=this.state.scale;let n,s=Number.POSITIVE_INFINITY;for(const[o,a]of this._tilesByScale)if(jie(a,l=>i.has(l))){const l=Math.abs(o-r);l<s&&(n=a,s=l)}return this._getClosestTileKey(n,e).id}_getClosestTileKey(e,i){const r=this.tileInfoView,n=this.state.center;let s,o=Number.POSITIVE_INFINITY;for(const a of e)if(i.has(a.id)){r.getTileCoords(PX,a);const l=VD(PX,n);l<o&&(o=l,s=a)}return s}};u([p({constructOnly:!0})],Rh.prototype,"concurrency",void 0),u([p({constructOnly:!0})],Rh.prototype,"priority",void 0),u([p({constructOnly:!0})],Rh.prototype,"process",void 0),u([p({constructOnly:!0})],Rh.prototype,"scheduler",void 0),u([p()],Rh.prototype,"state",void 0),u([p({constructOnly:!0})],Rh.prototype,"tileInfoView",void 0),Rh=u([j("esri.views.2d.tiling.TileQueue")],Rh);const Klt=Rh;let FNe=class{constructor(e,i,r){this.maxSize=e,this._tileInfoView=i,this._removedFunc=r,this._tilePerId=new Map,this._tileKeysPerLevel=[]}clear(){this._tilePerId.clear(),this._tileKeysPerLevel=[]}has(e){return this._tilePerId.has(e)}get(e){return this._tilePerId.get(e)}pop(e){const i=this._tilePerId.get(e);if(!i)return;const r=i.key.level,n=this._tileKeysPerLevel[r];DX(this._tilePerId,e);for(let s=0;s<n.length;s++)if(n[s].id===e){n.splice(s,1);break}return i.visible=!0,i}add(e){e.visible=!1;const i=e.key,r=i.id;if(this._tilePerId.has(r))return;this._tilePerId.set(r,e);const n=i.level;this._tileKeysPerLevel[n]||(this._tileKeysPerLevel[n]=[]),this._tileKeysPerLevel[n].push(i)}prune(e,i,r){let n=this._tilePerId.size;if(n<=this.maxSize)return;let s=this._tileKeysPerLevel.length-1;for(;n>this.maxSize&&s>=0;)s!==e&&(n=this._pruneAroundCenterTile(n,i,r,s)),s--;n>this.maxSize&&(n=this._pruneAroundCenterTile(n,i,r,e))}_pruneAroundCenterTile(e,i,r,n){const s=this._tileKeysPerLevel[n];if(!s||s.length===0)return e;const{size:o,origin:a}=this._tileInfoView.tileInfo,l=r*o[0],h=r*o[1],f=[0,0],g=[0,0];for(s.sort((v,w)=>(f[0]=a.x+l*(v.col+.5),f[1]=a.y-h*(v.row+.5),g[0]=a.x+l*(w.col+.5),g[1]=a.y-h*(w.row+.5),j2(f,i)-j2(g,i)));s.length>0;){const v=s.pop();if(this._removeTile(v.id),--e===this.maxSize)break}return e}_removeTile(e){const i=this._tilePerId.get(e);this._removedFunc&&i&&this._removedFunc(i),DX(this._tilePerId,e)}};function DX(t,e){t.delete(e)}const Bg=new N1(0,0,0,0),bh=new Map,oS=[],xz=[];let ect=class{constructor(e){this._previousScale=Number.POSITIVE_INFINITY,this.cachePolicy="keep",this.coveragePolicy="closest",this.resampling=!0,this.tileIndex=new Map,this.tiles=[],this.buffer=192,this.acquireTile=e.acquireTile,this.releaseTile=e.releaseTile,this.tileInfoView=e.tileInfoView,e.resampling!=null&&(this.resampling=e.resampling),e.cachePolicy&&(this.cachePolicy=e.cachePolicy),e.coveragePolicy&&(this.coveragePolicy=e.coveragePolicy),e.buffer!=null&&(this.buffer=e.buffer),e.cacheSize&&(this._tileCache=new FNe(e.cacheSize,this.tileInfoView,i=>{this.releaseTile(i)}))}destroy(){this.tileIndex.clear()}update(e){const{resampling:i,tileIndex:r}=this,{scale:n,center:s,resolution:o}=e.state,{minScale:a,maxScale:l}=this.tileInfoView,h=!e.stationary&&n>this._previousScale;if(this._previousScale=n,!i&&(n>a||n<l))return this.tiles.length=0,void this.clear();const f=this.tileInfoView.getTileCoverage(e.state,this.buffer,this.resampling,this.coveragePolicy);if(!f)return this.tiles.length=0,void this.clear();const{spans:g,lodInfo:v}=f,{level:w}=v;this.tiles.length=0,r.forEach(I=>I.visible=!0);let S=0,T=0;if(g.length>0)for(const{row:I,colFrom:A,colTo:P}of g)for(let D=A;D<=P;D++){S++;const L=Bg.set(w,I,v.normalizeCol(D),v.getWorldForColumn(D)).id;let B=r.get(L);if(B)B.isReady?(bh.set(L,B),T++):h||this._addParentTile(L,bh);else{if(this._tileCache?.has(L)){if(B=this._tileCache.pop(L),this.tileIndex.set(L,B),B.isReady){bh.set(L,B),T++;continue}}else B=this.acquireTile(Bg),this.tileIndex.set(L,B);h||this._addParentTile(L,bh)}}const C=T===S;for(const[I,A]of r){if(bh.has(I))continue;Bg.set(I);const P=this.tileInfoView.intersects(f,Bg),D=this.cachePolicy==="purge"?Bg.level!==w:Bg.level>w;!P||!h&&C?!D&&P||oS.push(A):A.isReady?D&&this.cachePolicy==="purge"&&this._hasReadyAncestor(Bg,w)?oS.push(A):xz.push(A):D&&oS.push(A)}for(const I of xz)I.isReady&&bh.set(I.key.id,I);for(const I of oS)this._tileCache?this._tileCache.add(I):this.releaseTile(I),r.delete(I.key.id);for(const I of bh.values())this.tiles.push(I);for(const I of r.values())bh.has(I.key.id)||(I.visible=!1);this._tileCache?.prune(w,s,o),_B.pool.release(f),xz.length=0,oS.length=0,bh.clear()}clear(){const{tileIndex:e}=this;for(const i of e.values())this.releaseTile(i);e.clear()}refresh(e){for(const i of this.tileIndex.values())e(i);this._tileCache?.clear()}updateCacheSize(e){this._tileCache&&(this._tileCache.maxSize=e)}_addParentTile(e,i){let r=e,n=null;for(;r=this.tileInfoView.getTileParentId(r),r;)if(this.tileIndex.has(r)){if(n=this.tileIndex.get(r),n?.isReady){i.has(n.key.id)||i.set(n.key.id,n);break}}else if(this._tileCache?.has(r)&&(n=this._tileCache.pop(r),this.tileIndex.set(r,n),n?.isReady)){i.has(n.key.id)||i.set(n.key.id,n);break}}_hasReadyAncestor(e,i){const r=ma();this.tileInfoView.getTileBounds(r,e,!0);for(const n of this.tileIndex.values())if(n.isReady&&n.key.level>=i&&n.key.level<e.level){const s=ma();if(this.tileInfoView.getTileBounds(s,n.key,!0),UEe(s,r))return!0}return!1}};const VNe={"area-measurement":null,dimension:null,"direct-line-measurement":null,"elevation-profile":()=>ke(()=>import("./ElevationProfileAnalysisView2D-DYikZyp2.js"),__vite__mapDeps([279,111,159,273,280,221,281,282,283,284,285,286,91,287,288,289,290,291,99,100,292,293,294,181,295,296,123,52,105,106,119,161,50,297,92,132,137,118])),"line-of-sight":null,slice:null,viewshed:null,"volume-measurement":null};function UNe(t){const e=VNe[t.type];if(!e)throw new ee("analysis-view-module-import-utils:analysis-not-supported",`Analysis "${t.type}" is not supported`);return e()}let BNe=class{constructor(e,i={}){this.events=new Vre,this._hasMajorPerformanceCaveat=!1,this._lastRenderFrameCounter=0,e!=null?(this._canvas=document.createElement("canvas"),this._canvas.setAttribute("style","width: 100%; height:100%; display:block; willChange:transform"),e.contains(this._canvas)||e.appendChild(this._canvas)):i.canvas!=null&&(this._canvas=i.canvas);const r={failIfMajorPerformanceCaveat:!0,alpha:!0,antialias:!1,depth:!0,stencil:!0,powerPreference:"high-performance"};let n=this._canvas.getContext("webgl2",r);n||(n=this._canvas.getContext("webgl2",{...r,failIfMajorPerformanceCaveat:!1}),this._hasMajorPerformanceCaveat=!0),this._gl=n,this._handles=Fv([Sp(this._canvas,"webglcontextlost",s=>this.events.emit("webgl-context-lost",s))])}destroy(){this._canvas.remove(),this._canvas=null,this._handles.remove(),this._gl=null}get gl(){return this._gl}get canvas(){return this._canvas}render(e,i){if(this._hasMajorPerformanceCaveat||he("esri-force-performance-mode")){if(++this._lastRenderFrameCounter>=he("esri-performance-mode-frames-between-render")&&(i(),this._lastRenderViewState=e.state.clone(),this._lastRenderFrameCounter=0),this._lastRenderViewState){const[r,n,s,o,a,l]=this._computeViewTransform(this._lastRenderViewState,e.state);this._canvas.style.transform=`matrix(${r}, ${n}, ${s}, ${o}, ${a}, ${l})`}}else i()}resize(e){const i=this._canvas,r=i.style,{state:{size:n},pixelRatio:s}=e,o=n[0],a=n[1],l=Math.round(o*s),h=Math.round(a*s);i.width===l&&i.height===h||(i.width=l,i.height=h),r.width=o+"px",r.height=a+"px"}_computeViewTransform(e,i){const[r,n]=e.center,[s,o]=i.center,[a,l]=e.toScreen([0,0],s,o),[h,f]=e.toScreen([0,0],r,n),g=h-a,v=f-l,w=e.scale/i.scale,S=i.rotation-e.rotation,T=kd();return bde(T),o3(T,T,[w,w]),dk(T,T,K$(S)),o1(T,T,[g,v]),T}};function HNe(t,e,i,r,n){phe(t,e,i||0,r||t.length-1,n||qNe)}function phe(t,e,i,r,n){for(;r>i;){if(r-i>600){var s=r-i+1,o=e-i+1,a=Math.log(s),l=.5*Math.exp(2*a/3),h=.5*Math.sqrt(a*l*(s-l)/s)*(o-s/2<0?-1:1);phe(t,e,Math.max(i,Math.floor(e-o*l/s+h)),Math.min(r,Math.floor(e+(s-o)*l/s+h)),n)}var f=t[e],g=i,v=r;for(aS(t,i,e),n(t[r],f)>0&&aS(t,i,r);g<v;){for(aS(t,g,v),g++,v--;n(t[g],f)<0;)g++;for(;n(t[v],f)>0;)v--}n(t[i],f)===0?aS(t,i,v):aS(t,++v,r),v<=e&&(i=v+1),e<=v&&(r=v-1)}}function aS(t,e,i){var r=t[e];t[e]=t[i],t[i]=r}function qNe(t,e){return t<e?-1:t>e?1:0}function EO(t,e){if(!(this instanceof EO))return new EO(t,e);this._maxEntries=Math.max(4,t||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),e&&(typeof e=="function"?this.toBBox=e:this._initFormat(e)),this.clear()}function GNe(t,e,i){if(!i)return e.indexOf(t);for(var r=0;r<e.length;r++)if(i(t,e[r]))return r;return-1}function Qb(t,e){YS(t,0,t.children.length,e,t)}function YS(t,e,i,r,n){n||(n=N0(null)),n.minX=1/0,n.minY=1/0,n.maxX=-1/0,n.maxY=-1/0;for(var s,o=e;o<i;o++)s=t.children[o],ZS(n,t.leaf?r(s):s);return n}function ZS(t,e){return t.minX=Math.min(t.minX,e.minX),t.minY=Math.min(t.minY,e.minY),t.maxX=Math.max(t.maxX,e.maxX),t.maxY=Math.max(t.maxY,e.maxY),t}function RX(t,e){return t.minX-e.minX}function LX(t,e){return t.minY-e.minY}function Sz(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function xI(t){return t.maxX-t.minX+(t.maxY-t.minY)}function WNe(t,e){return(Math.max(e.maxX,t.maxX)-Math.min(e.minX,t.minX))*(Math.max(e.maxY,t.maxY)-Math.min(e.minY,t.minY))}function YNe(t,e){var i=Math.max(t.minX,e.minX),r=Math.max(t.minY,e.minY),n=Math.min(t.maxX,e.maxX),s=Math.min(t.maxY,e.maxY);return Math.max(0,n-i)*Math.max(0,s-r)}function Tz(t,e){return t.minX<=e.minX&&t.minY<=e.minY&&e.maxX<=t.maxX&&e.maxY<=t.maxY}function SI(t,e){return e.minX<=t.maxX&&e.minY<=t.maxY&&e.maxX>=t.minX&&e.maxY>=t.minY}function N0(t){return{children:t,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function zX(t,e,i,r,n){for(var s,o=[e,i];o.length;)(i=o.pop())-(e=o.pop())<=r||(s=e+Math.ceil((i-e)/r/2)*r,HNe(t,s,e,i,n),o.push(e,s,s,i))}EO.prototype={all:function(){return this._all(this.data,[])},search:function(t){var e=this.data,i=[],r=this.toBBox;if(!SI(t,e))return i;for(var n,s,o,a,l=[];e;){for(n=0,s=e.children.length;n<s;n++)o=e.children[n],SI(t,a=e.leaf?r(o):o)&&(e.leaf?i.push(o):Tz(t,a)?this._all(o,i):l.push(o));e=l.pop()}return i},collides:function(t){var e=this.data,i=this.toBBox;if(!SI(t,e))return!1;for(var r,n,s,o,a=[];e;){for(r=0,n=e.children.length;r<n;r++)if(s=e.children[r],SI(t,o=e.leaf?i(s):s)){if(e.leaf||Tz(t,o))return!0;a.push(s)}e=a.pop()}return!1},load:function(t){if(!t||!t.length)return this;if(t.length<this._minEntries){for(var e=0,i=t.length;e<i;e++)this.insert(t[e]);return this}var r=this._build(t.slice(),0,t.length-1,0);if(this.data.children.length)if(this.data.height===r.height)this._splitRoot(this.data,r);else{if(this.data.height<r.height){var n=this.data;this.data=r,r=n}this._insert(r,this.data.height-r.height-1,!0)}else this.data=r;return this},insert:function(t){return t!=null&&this._insert(t,this.data.height-1),this},clear:function(){return this.data=N0([]),this},remove:function(t,e){if(t==null)return this;for(var i,r,n,s,o=this.data,a=this.toBBox(t),l=[],h=[];o||l.length;){if(o||(o=l.pop(),r=l[l.length-1],i=h.pop(),s=!0),o.leaf&&(n=GNe(t,o.children,e))!==-1)return o.children.splice(n,1),l.push(o),this._condense(l),this;s||o.leaf||!Tz(o,a)?r?(i++,o=r.children[i],s=!1):o=null:(l.push(o),h.push(i),i=0,r=o,o=o.children[0])}return this},toBBox:function(t){return t},compareMinX:RX,compareMinY:LX,toJSON:function(){return this.data},fromJSON:function(t){return this.data=t,this},_all:function(t,e){for(var i=[];t;)t.leaf?e.push.apply(e,t.children):i.push.apply(i,t.children),t=i.pop();return e},_build:function(t,e,i,r){var n,s=i-e+1,o=this._maxEntries;if(s<=o)return Qb(n=N0(t.slice(e,i+1)),this.toBBox),n;r||(r=Math.ceil(Math.log(s)/Math.log(o)),o=Math.ceil(s/Math.pow(o,r-1))),(n=N0([])).leaf=!1,n.height=r;var a,l,h,f,g=Math.ceil(s/o),v=g*Math.ceil(Math.sqrt(o));for(zX(t,e,i,v,this.compareMinX),a=e;a<=i;a+=v)for(zX(t,a,h=Math.min(a+v-1,i),g,this.compareMinY),l=a;l<=h;l+=g)f=Math.min(l+g-1,h),n.children.push(this._build(t,l,f,r-1));return Qb(n,this.toBBox),n},_chooseSubtree:function(t,e,i,r){for(var n,s,o,a,l,h,f,g;r.push(e),!e.leaf&&r.length-1!==i;){for(f=g=1/0,n=0,s=e.children.length;n<s;n++)l=Sz(o=e.children[n]),(h=WNe(t,o)-l)<g?(g=h,f=l<f?l:f,a=o):h===g&&l<f&&(f=l,a=o);e=a||e.children[0]}return e},_insert:function(t,e,i){var r=this.toBBox,n=i?t:r(t),s=[],o=this._chooseSubtree(n,this.data,e,s);for(o.children.push(t),ZS(o,n);e>=0&&s[e].children.length>this._maxEntries;)this._split(s,e),e--;this._adjustParentBBoxes(n,s,e)},_split:function(t,e){var i=t[e],r=i.children.length,n=this._minEntries;this._chooseSplitAxis(i,n,r);var s=this._chooseSplitIndex(i,n,r),o=N0(i.children.splice(s,i.children.length-s));o.height=i.height,o.leaf=i.leaf,Qb(i,this.toBBox),Qb(o,this.toBBox),e?t[e-1].children.push(o):this._splitRoot(i,o)},_splitRoot:function(t,e){this.data=N0([t,e]),this.data.height=t.height+1,this.data.leaf=!1,Qb(this.data,this.toBBox)},_chooseSplitIndex:function(t,e,i){var r,n,s,o,a,l,h,f;for(l=h=1/0,r=e;r<=i-e;r++)o=YNe(n=YS(t,0,r,this.toBBox),s=YS(t,r,i,this.toBBox)),a=Sz(n)+Sz(s),o<l?(l=o,f=r,h=a<h?a:h):o===l&&a<h&&(h=a,f=r);return f},_chooseSplitAxis:function(t,e,i){var r=t.leaf?this.compareMinX:RX,n=t.leaf?this.compareMinY:LX;this._allDistMargin(t,e,i,r)<this._allDistMargin(t,e,i,n)&&t.children.sort(r)},_allDistMargin:function(t,e,i,r){t.children.sort(r);var n,s,o=this.toBBox,a=YS(t,0,e,o),l=YS(t,i-e,i,o),h=xI(a)+xI(l);for(n=e;n<i-e;n++)s=t.children[n],ZS(a,t.leaf?o(s):s),h+=xI(a);for(n=i-e-1;n>=e;n--)s=t.children[n],ZS(l,t.leaf?o(s):s),h+=xI(l);return h},_adjustParentBBoxes:function(t,e,i){for(var r=i;r>=0;r--)ZS(e[r],t)},_condense:function(t){for(var e,i=t.length-1;i>=0;i--)t[i].children.length===0?i>0?(e=t[i-1].children).splice(e.indexOf(t[i]),1):this.clear():Qb(t[i],this.toBBox)},_initFormat:function(t){var e=["return a"," - b",";"];this.compareMinX=new Function("a","b",e.join(t[0])),this.compareMinY=new Function("a","b",e.join(t[1])),this.toBBox=new Function("a","return {minX: a"+t[0]+", minY: a"+t[1]+", maxX: a"+t[2]+", maxY: a"+t[3]+"};")}};function ZNe(t,{timeZone:e,timeExtent:i}){return{$view:{scale:t,timeZone:e,timeProperties:{currentStart:i?.start,currentEnd:i?.end}}}}let NX=class fhe{constructor(e,i){this.key=new N1(0,0,0,0),this.bounds=ma(),this.objectIds=new Set,this.key.set(i);const r=e.getLODInfoAt(this.key);this.tileInfoView=e,this.tileInfoView.getTileBounds(this.bounds,this.key,!0),this.resolution=r.resolution,this.level=r.level,this.scale=r.scale,this.minScale=e.zoomToScale(r.level-1),this.maxScale=e.zoomToScale(r.level+1)}get lod(){return this.tileInfoView.getLODInfoAt(this.key)}get id(){return this.key.id}get extent(){return jEe(this.bounds,this.tileInfoView.tileInfo.spatialReference)}get transform(){return{originPosition:"upperLeft",scale:[this.resolution,this.resolution],translate:[this.bounds[0],this.bounds[3]]}}createArcadeEvaluationOptions(e){return ZNe(this.scale,e)}createChildTiles(){const e=this.key.getChildKeys(),i=Eo.acquire();for(let r=0;r<e.length;r++)i[r]=new fhe(this.tileInfoView,e[r]);return i}getQuantizationParameters(){return om.fromJSON({mode:"view",originPosition:"upperLeft",tolerance:this.resolution,extent:{xmin:this.bounds[0],ymin:this.bounds[1],xmax:this.bounds[2],ymax:this.bounds[3],spatialReference:this.tileInfoView.tileInfo.spatialReference}})}};const Hg={added:[],removed:[]},$z=new Set,JNe=new N1(0,0,0,0);function XNe(t,e){const i=Ro(e);if(!i)return null;const[r,n]=i.valid;return t[2]>n?[ma([t[0],t[1],n,t[3]]),ma([r,t[1],r+t[2]-n,t[3]])]:t[0]<r?[ma([r,t[1],t[2],t[3]]),ma([n-(r-t[0]),t[1],n,t[3]])]:null}let KNe=class extends C9{constructor(e){super(),this._tiles=new Map,this._index=EO(9,he("esri-csp-restrictions")?i=>({minX:i.bounds[0],minY:i.bounds[1],maxX:i.bounds[2],maxY:i.bounds[3]}):[".bounds[0]",".bounds[1]",".bounds[2]",".bounds[3]"]),this.tiles=[],this.tileScheme=e}destroy(){super.destroy(),this.clear()}clear(){this.tiles.length=0,this._tiles.clear(),this._index.clear()}has(e){return this._tiles.has(e)}get(e){return this._tiles.get(e)}getIntersectingTiles(e){if(!e||xU(e)===0||SU(e)===0)return[];const i=XNe(e,this.tileScheme.spatialReference);return i!=null?[...new Set([...this.boundsIntersections(i[0]),...this.boundsIntersections(i[1])])]:this.boundsIntersections(e)}boundsIntersections(e){return this._index.search({minX:e[0],minY:e[1],maxX:e[2],maxY:e[3]})}updateTiles(e){const i={added:[],removed:[]};for(const r of e.added)if(!this.has(r)){const n=new NX(this.tileScheme,r);this._tiles.set(r,n),this._index.insert(n),i.added.push(n)}for(const r of e.removed)if(this.has(r)){const n=this.get(r);this._tiles.delete(r),this._index.remove(n),i.removed.push(n)}this.tiles.length=0,this._tiles.forEach(r=>this.tiles.push(r)),(i.added.length||i.removed.length)&&this.emit("update",i)}setViewState(e){const i=this.tileScheme.getTileCoverage(e,0);if(!i)return;const{spans:r,lodInfo:n}=i,{level:s}=n;if(r.length>0)for(const{row:o,colFrom:a,colTo:l}of r)for(let h=a;h<=l;h++){const f=JNe.set(s,o,n.normalizeCol(h),n.getWorldForColumn(h)).id;if($z.add(f),!this.has(f)){const g=new NX(this.tileScheme,f);this._tiles.set(f,g),this._index.insert(g),this.tiles.push(g),Hg.added.push(g)}}for(let o=this.tiles.length-1;o>=0;o--){const a=this.tiles[o];$z.has(a.id)||(this._tiles.delete(a.id),this.tiles.splice(o,1),this._index.remove(a),Hg.removed.push(a))}(Hg.added.length||Hg.removed.length)&&this.emit("update",Hg),_B.pool.release(i),$z.clear(),Hg.added.length=0,Hg.removed.length=0}};const nct=1e-30,jX=512,TI=16777216,sct=8,oct=29,act=24,lct=4,cct=0,uct=0,dct=0,hct=1,pct=2,fct=3,mct=4,gct=5,yct=6,vct=12,bct=13,wct=5,QNe=6,_ct=5,xct=6,mhe=6,eje=1<<mhe,Sct=eje<<1,Tct=1.05,$ct=3,kct=1,Ect=3,Ict=3,Cct=5,Mct=6,Act=1.15,tje=4,Oct=128,ije=256,Pct=ije-2*tje,Dct=2,Rct=128,Lct=1,zct=10,Nct=1024,jct=128,Fct=4,Vct=1,Uct=1<<20,Bct=.75,Hct=10,qct=.75,Gct=256,Wct=32,Yct=512,Zct=0,Jct=1,rje=1,Xct=[0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1],Kct=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],lS=256,nje=()=>Ee.getLogger("esri.views.webgl.checkWebGLError");function ghe(t){switch(t.getError()){case t.NO_ERROR:return null;case t.INVALID_ENUM:return"Invalid Enum. An unacceptable value has been specified for an enumerated argument.";case t.INVALID_VALUE:return"Invalid Value. A numeric argument is out of range.";case t.INVALID_OPERATION:return"Invalid Operation. The specified command is not allowed for the current state.";case t.INVALID_FRAMEBUFFER_OPERATION:return"Invalid Framebuffer operation. The currently bound framebuffer is not framebuffer complete when trying to render to or to read from it.";case t.OUT_OF_MEMORY:return"Out of memory. Not enough memory is left to execute the command.";case t.CONTEXT_LOST_WEBGL:return"WebGL context has been lost";default:return"Unknown error"}}const yhe=!!he("enable-feature:webgl-debug");function vhe(){return yhe}function Qct(){return yhe}function qg(t,e=vhe()){if(e){const i=ghe(t);if(i){const r=new Error().stack;nje().error(new ee("webgl-error","WebGL error occurred",{message:i,stack:r}))}}}const eut={POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6},Gg={BYTE:5120,UNSIGNED_BYTE:5121,SHORT:5122,UNSIGNED_SHORT:5123,INT:5124,UNSIGNED_INT:5125,FLOAT:5126,HALF_FLOAT:5131},gt={RGBA4:32854,R16F:33325,RG16F:33327,RGB32F:34837,RGBA16F:34842,R32F:33326,RG32F:33328,RGBA32F:34836,R11F_G11F_B10F:35898,RGB8:32849,RGBA8:32856,RGB5_A1:32855,R8:33321,RG8:33323,R8I:33329,R8UI:33330,R16I:33331,R16UI:33332,R32I:33333,R32UI:33334,RG8I:33335,RG8UI:33336,RG16I:33337,RG16UI:33338,RG32I:33339,RG32UI:33340,RGB16F:34843,RGB9_E5:35901,SRGB8:35905,SRGB8_ALPHA8:35907,RGB565:36194,RGBA32UI:36208,RGB32UI:36209,RGBA16UI:36214,RGB16UI:36215,RGBA8UI:36220,RGB8UI:36221,RGBA32I:36226,RGB32I:36227,RGBA16I:36232,RGB16I:36233,RGBA8I:36238,RGB8I:36239,R8_SNORM:36756,RG8_SNORM:36757,RGB8_SNORM:36758,RGBA8_SNORM:36759,RGB10_A2:32857,RGB10_A2UI:36975},sje=Object.values(gt),IO={DEPTH24_STENCIL8:35056,DEPTH32F_STENCIL8:36013},e2={DEPTH_COMPONENT16:33189,DEPTH_COMPONENT24:33190,DEPTH_COMPONENT32F:36012},g6={FLOAT:Gg.FLOAT,UNSIGNED_BYTE:Gg.UNSIGNED_BYTE,UNSIGNED_INT_24_8:34042,UNSIGNED_SHORT_4_4_4_4:32819,UNSIGNED_SHORT_5_5_5_1:32820,UNSIGNED_SHORT_5_6_5:33635,BYTE:Gg.BYTE,UNSIGNED_SHORT:Gg.UNSIGNED_SHORT,SHORT:Gg.SHORT,UNSIGNED_INT:Gg.UNSIGNED_INT,INT:Gg.INT,HALF_FLOAT:5131,UNSIGNED_INT_2_10_10_10_REV:33640,UNSIGNED_INT_10F_11F_11F_REV:35899,UNSIGNED_INT_5_9_9_9_REV:35902,FLOAT_32_UNSIGNED_INT_24_8_REV:36269},tut=33984,FX={Texture:0,TileTexture:1,BufferObject:2,VertexArrayObject:3,Shader:4,Program:5,FramebufferObject:6,Renderbuffer:7,TransformFeedback:8,Sync:9,UNCOUNTED:10,LinesOfCode:10,Uniform:11,COUNT:12},iut=1029,rut=0,nut=36064,sut=36065,out=36066,aut=36067,lut=33306,cut=36096,uut=36128,Ks={COMPRESSED_RGB_S3TC_DXT1_EXT:33776,COMPRESSED_RGBA_S3TC_DXT1_EXT:33777,COMPRESSED_RGBA_S3TC_DXT3_EXT:33778,COMPRESSED_RGBA_S3TC_DXT5_EXT:33779,COMPRESSED_R11_EAC:37488,COMPRESSED_SIGNED_R11_EAC:37489,COMPRESSED_RG11_EAC:37490,COMPRESSED_SIGNED_RG11_EAC:37491,COMPRESSED_RGB8_ETC2:37492,COMPRESSED_SRGB8_ETC2:37493,COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2:37494,COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2:37495,COMPRESSED_RGBA8_ETC2_EAC:37496,COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:37497};function dut(t,e,i,r=0){const n=t.gl;t.bindBuffer(i);for(const s of i.layout){const o=e.get(s.name);if(o==null){console.warn(`There is no location for vertex attribute '${s.name}' defined.`);continue}const a=r*s.stride;if(s.count<=4)n.vertexAttribPointer(o,s.count,s.type,s.normalized,s.stride,s.offset+a),n.enableVertexAttribArray(o),s.divisor>0&&n.vertexAttribDivisor(o,s.divisor);else if(s.count===9)for(let l=0;l<3;l++)n.vertexAttribPointer(o+l,3,s.type,s.normalized,s.stride,s.offset+12*l+a),n.enableVertexAttribArray(o+l),s.divisor>0&&n.vertexAttribDivisor(o+l,s.divisor);else if(s.count===16)for(let l=0;l<4;l++)n.vertexAttribPointer(o+l,4,s.type,s.normalized,s.stride,s.offset+16*l+a),n.enableVertexAttribArray(o+l),s.divisor>0&&n.vertexAttribDivisor(o+l,s.divisor);else console.error("Unsupported vertex attribute element count: "+s.count);if(vhe()){const l=ghe(t.gl);l&&console.error(`Unable to bind vertex attribute "${s.name}" with baseInstanceOffset ${a}:`,l,s)}}}function hut(t){switch(t){case 6406:case 6409:case 6403:case 36244:case 6402:case 34041:return 1;case 6410:case 33319:case 33320:return 2;case 6407:case 36248:return 3;case 6408:case 36249:return 4}return 0}function oje(t){switch(t){case 6406:case 6409:case 6403:case 36244:case gt.R8:case gt.R8I:case gt.R8UI:case gt.R8_SNORM:case 36168:return 1;case 6410:case 33319:case 33320:case gt.RGBA4:case gt.R16F:case gt.R16I:case gt.R16UI:case gt.RG8:case gt.RG8I:case gt.RG8UI:case gt.RG8_SNORM:case gt.RGB565:case gt.RGB5_A1:case e2.DEPTH_COMPONENT16:return 2;case 6407:case 36248:case gt.RGB8:case gt.RGB8I:case gt.RGB8UI:case gt.RGB8_SNORM:case gt.SRGB8:case e2.DEPTH_COMPONENT24:return 3;case 6408:case 36249:case gt.RGBA8:case gt.R32F:case gt.R11F_G11F_B10F:case gt.RG16F:case gt.R32I:case gt.R32UI:case gt.RG16I:case gt.RG16UI:case gt.RGBA8I:case gt.RGBA8UI:case gt.RGBA8_SNORM:case gt.SRGB8_ALPHA8:case gt.RGB9_E5:case gt.RGB10_A2UI:case gt.RGB10_A2:case e2.DEPTH_COMPONENT32F:case IO.DEPTH24_STENCIL8:return 4;case IO.DEPTH32F_STENCIL8:return 5;case gt.RGB16F:case gt.RGB16I:case gt.RGB16UI:return 6;case gt.RG32F:case gt.RG32I:case gt.RG32UI:case gt.RGBA16F:case gt.RGBA16I:case gt.RGBA16UI:return 8;case gt.RGB32F:case gt.RGB32I:case gt.RGB32UI:return 12;case gt.RGBA32F:case gt.RGBA32I:case gt.RGBA32UI:return 16;case Ks.COMPRESSED_RGB_S3TC_DXT1_EXT:case Ks.COMPRESSED_RGBA_S3TC_DXT1_EXT:return .5;case Ks.COMPRESSED_RGBA_S3TC_DXT3_EXT:case Ks.COMPRESSED_RGBA_S3TC_DXT5_EXT:return 1;case Ks.COMPRESSED_R11_EAC:case Ks.COMPRESSED_SIGNED_R11_EAC:case Ks.COMPRESSED_RGB8_ETC2:case Ks.COMPRESSED_SRGB8_ETC2:case Ks.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2:case Ks.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2:return .5;case Ks.COMPRESSED_RG11_EAC:case Ks.COMPRESSED_SIGNED_RG11_EAC:case Ks.COMPRESSED_RGBA8_ETC2_EAC:case Ks.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:return 1}return 0}let bhe=class{constructor(e=0,i=e){this.width=e,this.height=i,this.type=0,this.target=3553,this.pixelFormat=6408,this.dataType=g6.UNSIGNED_BYTE,this.samplingMode=9729,this.wrapMode=10497,this.maxAnisotropy=1,this.flipped=!1,this.hasMipmap=!1,this.isOpaque=!1,this.unpackAlignment=4,this.preMultiplyAlpha=!1,this.compareEnabled=!1,this.linearFilterDepth=!1,this.depth=1,this.isImmutable=!1}};function aje(t){return t.width<=0||t.height<=0||t.depth<=0?0:Math.round(t.width*t.height*t.depth*(t.hasMipmap?4/3:1)*(t.internalFormat==null?4:oje(t.internalFormat))*(t.target===34067?6:1))}const cS=()=>Ee.getLogger("esri/views/webgl/textureUtils");function uS(t){const{width:e,height:i,depth:r}=t;(e!=null&&e<0||i!=null&&i<0||r!=null&&r<0)&&cS().error("Negative dimension parameters are not allowed!");const{internalFormat:n}=t;if(n&&(whe(n)||_he(n))){const{linearFilterDepth:s,compareEnabled:o,samplingMode:a,hasMipmap:l}=t;l&&cS().error("Depth textures cannot have mipmaps"),s?a!==9729&&a!==9728&&cS().error("Depth textures cannot sample mipmaps"):(a!==9728&&cS().error("Depth textures without filtering must use NEAREST filtering"),o&&cS().error("Depth textures without filtering cannot use compare function"))}}function lje(t){return sje.includes(t)}function whe(t){return oD(e2,t)}function _he(t){return oD(IO,t)}function cje(t){return t!=null&&oD(Ks,t)}function j0(t){return t!=null&&"type"in t&&t.type==="compressed"}function uje(t){return t!=null&&"byteLength"in t}function VX(t){return t!=null&&!j0(t)&&!uje(t)}function e0(t){return t===32879||t===35866}function UX(t,e,i,r=1){let n=Math.max(e,i);return t===32879&&(n=Math.max(n,r)),Math.floor(Math.log2(n))+1}function $I(t){if(t.internalFormat!=null)return t.internalFormat;switch(t.dataType){case g6.FLOAT:switch(t.pixelFormat){case 6408:return gt.RGBA32F;case 6407:return gt.RGB32F;default:throw new ee("texture:unknown-format","Unable to derive format")}case g6.UNSIGNED_BYTE:switch(t.pixelFormat){case 6408:return gt.RGBA8;case 6407:return gt.RGB8}}const{pixelFormat:e}=t;return t.internalFormat=e===34041?IO.DEPTH24_STENCIL8:e===6402?e2.DEPTH_COMPONENT24:e,t.internalFormat}function dje(t){let e="width"in t?t.width:t.codedWidth,i="height"in t?t.height:t.codedHeight;return t instanceof HTMLVideoElement&&(e=t.videoWidth,i=t.videoHeight),{width:e,height:i,depth:1}}let hje=class xhe extends bhe{constructor(e,i){switch(super(),this.context=e,Object.assign(this,i),this.internalFormat){case gt.R16F:case gt.R32F:case gt.R8_SNORM:case gt.R8:this.pixelFormat=6403;break;case gt.R8I:case gt.R8UI:case gt.R16I:case gt.R16UI:case gt.R32I:case gt.R32UI:this.pixelFormat=36244}}static validate(e,i){return new xhe(e,i)}};const pje=!!he("esri-tests-disable-gpu-memory-measurements"),wh=()=>Ee.getLogger("esri/views/webgl/Texture");var _n;let fje=(_n=class{constructor(e,i=null,r=null){if(this.type=1,this._glName=null,this._samplingModeDirty=!1,this._wrapModeDirty=!1,this._shadowFilterDirty=!1,this._wasImmutablyAllocated=!1,"context"in e)this._descriptor=e,r=i;else{const n=hje.validate(e,i);if(!n)throw new ee("texture:invalid-descriptor","Texture descriptor invalid");this._descriptor=n}this._descriptor.target===34067?this._setDataCubeMap(r):this.setData(r)}get glName(){return this._glName}get descriptor(){return this._descriptor}get usedMemory(){return pje?0:aje(this._descriptor)}get isDirty(){return this._samplingModeDirty||this._wrapModeDirty||this._shadowFilterDirty}get hasWebGLTextureObject(){return!!this._glName}dispose(){this.abortCompression(),this.hasWebGLTextureObject&&this._descriptor.context?.gl&&(this._descriptor.context.instanceCounter.decrement(FX.Texture,this),this._descriptor.context.unbindTexture(this),this._descriptor.context.gl.deleteTexture(this._glName),this._glName=null,this._descriptor=null)}release(){this.dispose()}[Symbol.dispose](){this.dispose()}resize(e,i){const r=this._descriptor;if(r.width!==e||r.height!==i){if(this._wasImmutablyAllocated)throw new ee("texture:immutable-resize","Immutable textures can't be resized!");r.width=e,r.height=i,this._descriptor.target===34067?this._setDataCubeMap(null):this.setData(null)}}enableCompression(e){this._descriptor.compress=e}disableCompression(){this._descriptor.compress=void 0}setData(e){this.abortCompression(),!j0(e)&&this._descriptor.internalFormat&&oD(Ks,this._descriptor.internalFormat)&&(this._descriptor.internalFormat=void 0),this._setData(e),!j0(e)&&this._descriptor.compress&&this._compressOnWorker(e)}updateData(e,i,r,n,s,o,a=0){o||wh().error("An attempt to use uninitialized data!"),this.hasWebGLTextureObject||wh().error("An attempt to update uninitialized texture!");const l=this._descriptor;l.internalFormat=$I(l);const{context:h,pixelFormat:f,dataType:g,target:v,isImmutable:w}=l;if(w&&!this._wasImmutablyAllocated)throw new ee("texture:uninitialized","Cannot update immutable texture before allocation!");const S=h.bindTexture(this,_n.TEXTURE_UNIT_FOR_UPDATES,!0);(i<0||r<0||i+n>l.width||r+s>l.height)&&wh().error("An attempt to update out of bounds of the texture!"),this._configurePixelStorage();const{gl:T}=h;a&&(n&&s||wh().warn("Must pass width and height if `UNPACK_SKIP_ROWS` is used"),T.pixelStorei(T.UNPACK_SKIP_ROWS,a)),VX(o)?T.texSubImage2D(v,e,i,r,n,s,f,g,o):j0(o)?T.compressedTexSubImage2D(v,e,i,r,n,s,l.internalFormat,o.levels[e]):T.texSubImage2D(v,e,i,r,n,s,f,g,o),a&&T.pixelStorei(T.UNPACK_SKIP_ROWS,0),h.bindTexture(S,_n.TEXTURE_UNIT_FOR_UPDATES)}updateData3D(e,i,r,n,s,o,a,l){l||wh().error("An attempt to use uninitialized data!"),this.hasWebGLTextureObject||wh().error("An attempt to update an uninitialized texture!");const h=this._descriptor;h.internalFormat=$I(h);const{context:f,pixelFormat:g,dataType:v,isImmutable:w,target:S}=h;if(w&&!this._wasImmutablyAllocated)throw new ee("texture:uninitialized","Cannot update immutable texture before allocation!");e0(S)||wh().warn("Attempting to set 3D texture data on a non-3D texture");const T=f.bindTexture(this,_n.TEXTURE_UNIT_FOR_UPDATES);f.setActiveTexture(_n.TEXTURE_UNIT_FOR_UPDATES),(i<0||r<0||n<0||i+s>h.width||r+o>h.height||n+a>h.depth)&&wh().error("An attempt to update out of bounds of the texture!"),this._configurePixelStorage();const{gl:C}=f;if(j0(l))l=l.levels[e],C.compressedTexSubImage3D(S,e,i,r,n,s,o,a,h.internalFormat,l);else{const I=l;C.texSubImage3D(S,e,i,r,n,s,o,a,g,v,I)}f.bindTexture(T,_n.TEXTURE_UNIT_FOR_UPDATES)}generateMipmap(){const e=this._descriptor;if(e.width===0||e.height===0)return;if(!e.hasMipmap){if(this._wasImmutablyAllocated)throw new ee("texture:immutable-change","Cannot add mipmaps to immutable texture after allocation");e.hasMipmap=!0,this._samplingModeDirty=!0,uS(e)}e.samplingMode===9729?(this._samplingModeDirty=!0,e.samplingMode=9985):e.samplingMode===9728&&(this._samplingModeDirty=!0,e.samplingMode=9984);const i=this._descriptor.context.bindTexture(this,_n.TEXTURE_UNIT_FOR_UPDATES);this._descriptor.context.setActiveTexture(_n.TEXTURE_UNIT_FOR_UPDATES),this._descriptor.context.gl.generateMipmap(e.target),this._descriptor.context.bindTexture(i,_n.TEXTURE_UNIT_FOR_UPDATES)}clearMipmap(){const e=this._descriptor;if(e.hasMipmap){if(this._wasImmutablyAllocated)throw new ee("texture:immutable-change","Cannot delete mipmaps to immutable texture after allocation");e.hasMipmap=!1,this._samplingModeDirty=!0,uS(e)}e.samplingMode===9985?(this._samplingModeDirty=!0,e.samplingMode=9729):e.samplingMode===9984&&(this._samplingModeDirty=!0,e.samplingMode=9728)}setSamplingMode(e){e!==this._descriptor.samplingMode&&(this._descriptor.samplingMode=e,this._samplingModeDirty=!0)}setWrapMode(e){e!==this._descriptor.wrapMode&&(this._descriptor.wrapMode=e,uS(this._descriptor),this._wrapModeDirty=!0)}setShadowFiltering(e){e!==this._descriptor.linearFilterDepth&&(this._descriptor.linearFilterDepth=this._descriptor.compareEnabled=e,this.setSamplingMode(e?9729:9728),uS(this._descriptor),this._shadowFilterDirty=!0)}applyChanges(){this._samplingModeDirty&&(this._applySamplingMode(),this._samplingModeDirty=!1),this._wrapModeDirty&&(this._applyWrapMode(),this._wrapModeDirty=!1),this._shadowFilterDirty&&(this._applyShadowMode(),this._shadowFilterDirty=!1)}abortCompression(){this._compressionAbortController=fv(this._compressionAbortController)}_setData(e,i){const r=this._descriptor,n=r.context?.gl;if(!n)return;qg(n),this.hasWebGLTextureObject||(this._glName=n.createTexture(),r.context.instanceCounter.increment(FX.Texture,this)),uS(r);const s=r.context.bindTexture(this,_n.TEXTURE_UNIT_FOR_UPDATES);r.context.setActiveTexture(_n.TEXTURE_UNIT_FOR_UPDATES),this._configurePixelStorage(),qg(n);const o=i??r.target,a=e0(o);if(VX(e))this._setDataFromTexImageSource(e,o);else{const{width:l,height:h,depth:f}=r;if(l==null||h==null)throw new ee("texture:missing-size","Width and height must be specified!");if(a&&f==null)throw new ee("texture:missing-depth","Depth must be specified!");if(r.internalFormat=$I(r),r.isImmutable&&!this._wasImmutablyAllocated&&this._texStorage(o,r.internalFormat,r.hasMipmap,l,h,f),j0(e)){if(!cje(r.internalFormat))throw new ee("texture:format-mismatch","Attempting to use compressed data with an uncompressed format!");this._setDataFromCompressedSource(e,r.internalFormat,o)}else this._texImage(o,0,r.internalFormat,l,h,f,e),qg(n),r.hasMipmap&&this.generateMipmap()}this._applySamplingMode(),this._applyWrapMode(),this._applyAnisotropicFilteringParameters(),this._applyShadowMode(),qg(n),r.context.bindTexture(s,_n.TEXTURE_UNIT_FOR_UPDATES)}_setDataCubeMap(e=null){for(let i=34069;i<=34074;i++)this._setData(e,i)}_configurePixelStorage(){const e=this._descriptor.context.gl,{unpackAlignment:i,flipped:r,preMultiplyAlpha:n}=this._descriptor;e.pixelStorei(e.UNPACK_ALIGNMENT,i),e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,r?1:0),e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,n?1:0)}_setDataFromTexImageSource(e,i){const{gl:r}=this._descriptor.context,n=this._descriptor;n.internalFormat=$I(n);const s=e0(i),{width:o,height:a,depth:l}=dje(e);n.width&&n.height,n.width||(n.width=o),n.height||(n.height=a),s&&n.depth,s&&(n.depth=l),n.isImmutable&&!this._wasImmutablyAllocated&&this._texStorage(i,n.internalFormat,n.hasMipmap,o,a,l),this._texImage(i,0,n.internalFormat,o,a,l,e),qg(r),n.hasMipmap&&(this.generateMipmap(),qg(r))}_setDataFromCompressedSource(e,i,r){const n=this._descriptor,{width:s,height:o,depth:a}=n,l=e.levels,h=UX(r,s,o,a),f=Math.min(h,l.length)-1;this._descriptor.context.gl.texParameteri(n.target,33085,f),this._forEachMipmapLevel((g,v,w,S)=>{const T=l[Math.min(g,l.length-1)];this._compressedTexImage(r,g,i,v,w,S,T)},f)}_texStorage(e,i,r,n,s,o){const{gl:a}=this._descriptor.context;if(!lje(i)&&!whe(i)&&!_he(i))throw new ee("texture:missing-format","Immutable textures must have a sized internal format");if(!this._descriptor.isImmutable)return;const l=r?UX(e,n,s,o):1;if(e0(e)){if(o==null)throw new ee("texture:missing-depth","Missing depth dimension for 3D texture upload");a.texStorage3D(e,l,i,n,s,o)}else a.texStorage2D(e,l,i,n,s);this._wasImmutablyAllocated=!0}_texImage(e,i,r,n,s,o,a){const l=this._descriptor.context.gl,h=e0(e),{isImmutable:f,pixelFormat:g,dataType:v}=this._descriptor;if(f){if(a!=null){const w=a;if(h){if(o==null)throw new ee("texture:missing-depth","Missing depth dimension for 3D texture upload");l.texSubImage3D(e,i,0,0,0,n,s,o,g,v,w)}else l.texSubImage2D(e,i,0,0,n,s,g,v,w)}}else{const w=a;if(h){if(o==null)throw new ee("texture:missing-depth","Missing depth dimension for 3D texture upload");l.texImage3D(e,i,r,n,s,o,0,g,v,w)}else l.texImage2D(e,i,r,n,s,0,g,v,w)}}_compressedTexImage(e,i,r,n,s,o,a){const l=this._descriptor.context.gl,h=e0(e);if(this._descriptor.isImmutable){if(a!=null)if(h){if(o==null)throw new ee("texture:missing-depth","Missing depth dimension for 3D texture upload");l.compressedTexSubImage3D(e,i,0,0,0,n,s,o,r,a)}else l.compressedTexSubImage2D(e,i,0,0,n,s,r,a)}else if(h){if(o==null)throw new ee("texture:missing-depth","Missing depth dimension for 3D texture upload");l.compressedTexImage3D(e,i,r,n,s,o,0,a)}else l.compressedTexImage2D(e,i,r,n,s,0,a)}async _compressOnWorker(e){const{width:i,height:r,context:n,flipped:s,preMultiplyAlpha:o,hasMipmap:a}=this._descriptor,l=this._descriptor.compress?.compressionTracker,h=this._descriptor.compress?.compressionCallback,{compressedTextureETC:f,compressedTextureS3TC:g}=n.capabilities;if(!_n.compressionWorkerHandle?.isCompressible(e,this._descriptor)||!f&&!g)return;this.abortCompression();const v=new AbortController;let w;this._compressionAbortController=v,l?.increment();try{e instanceof Uint8Array?w=e.buffer:(w=await createImageBitmap(e,{imageOrientation:s?"flipY":"none"}),nr(v));const S={data:w,width:i,height:r,needsFlip:e instanceof Uint8Array&&this.descriptor.flipped,components:this._descriptor.pixelFormat===6408?4:3,preMultiplyAlpha:o,hasMipmap:a,hasETC:!!f,hasS3TC:!!g},T=await _n.compressionWorkerHandle.invoke(S,v.signal,"low");if(nr(v),T.compressedTexture&&this.hasWebGLTextureObject){const C=this.usedMemory;this._descriptor.internalFormat=T.internalFormat,this._setData(T.compressedTexture),h?.(C-this.usedMemory)}}catch(S){us(S)||wh().error("Texture compression failed!")}finally{l?.decrement(),this._compressionAbortController?.signal.aborted&&(this._compressionAbortController=null),w instanceof ImageBitmap&&w.close()}}_forEachMipmapLevel(e,i=1/0){let{width:r,height:n,depth:s,hasMipmap:o,target:a}=this._descriptor;const l=a===32879;if(r==null||n==null||l&&s==null)throw new ee("texture:missing-size","Missing texture dimensions for mipmap calculation");for(let h=0;e(h,r,n,s),o&&(r!==1||n!==1||l&&s!==1)&&!(h>=i);++h)r=Math.max(1,r>>1),n=Math.max(1,n>>1),l&&(s=Math.max(1,s>>1))}_applySamplingMode(){const e=this._descriptor,i=e.context?.gl;let r=e.samplingMode,n=e.samplingMode;r===9985||r===9987?(r=9729,e.hasMipmap||(n=9729)):r!==9984&&r!==9986||(r=9728,e.hasMipmap||(n=9728)),i.texParameteri(e.target,i.TEXTURE_MAG_FILTER,r),i.texParameteri(e.target,i.TEXTURE_MIN_FILTER,n)}_applyWrapMode(){const e=this._descriptor,i=e.context?.gl;typeof e.wrapMode=="number"?(i.texParameteri(e.target,i.TEXTURE_WRAP_S,e.wrapMode),i.texParameteri(e.target,i.TEXTURE_WRAP_T,e.wrapMode)):(i.texParameteri(e.target,i.TEXTURE_WRAP_S,e.wrapMode.s),i.texParameteri(e.target,i.TEXTURE_WRAP_T,e.wrapMode.t))}_applyShadowMode(){const e=this._descriptor,i=e.context?.gl,r=e.compareEnabled?i.COMPARE_REF_TO_TEXTURE:i.NONE;i.texParameteri(e.target,i.TEXTURE_COMPARE_MODE,r),e.compareEnabled&&i.texParameteri(e.target,i.TEXTURE_COMPARE_FUNC,i.GREATER),qg(i)}_applyAnisotropicFilteringParameters(){const e=this._descriptor,i=e.context.capabilities.textureFilterAnisotropic;i&&e.context.gl.texParameterf(e.target,i.TEXTURE_MAX_ANISOTROPY,e.maxAnisotropy??1)}},_n.TEXTURE_UNIT_FOR_UPDATES=0,_n.compressionWorkerHandle=null,_n);const kz=()=>Ee.getLogger("esri.views.2d.engine.webgl.painter.highlight.HighlightGradient");function mje(t,e){e.fillColor[0]=t.color.r/255,e.fillColor[1]=t.color.g/255,e.fillColor[2]=t.color.b/255,e.fillColor[3]=t.color.a,t.haloColor?(e.outlineColor[0]=t.haloColor.r/255,e.outlineColor[1]=t.haloColor.g/255,e.outlineColor[2]=t.haloColor.b/255,e.outlineColor[3]=t.haloColor.a):(e.outlineColor[0]=e.fillColor[0],e.outlineColor[1]=e.fillColor[1],e.outlineColor[2]=e.fillColor[2],e.outlineColor[3]=e.fillColor[3]),e.fillColor[3]*=t.fillOpacity,e.outlineColor[3]*=t.haloOpacity,e.fillColor[0]*=e.fillColor[3],e.fillColor[1]*=e.fillColor[3],e.fillColor[2]*=e.fillColor[3],e.outlineColor[0]*=e.outlineColor[3],e.outlineColor[1]*=e.outlineColor[3],e.outlineColor[2]*=e.outlineColor[3],e.outlineWidth=(1-t.haloBlur)*t.haloWidth,e.outerHaloWidth=t.haloBlur*t.haloWidth/2,e.innerHaloWidth=t.haloBlur*t.haloWidth/2,e.outlinePosition=0}const gje=[0,0,0,0];let She=class{constructor(){this.type="single",this._highlightOptions=new Lm,this._convertedHighlightOptions={fillColor:[0,0,0,0],outlineColor:[0,0,0,0],outlinePosition:0,outlineWidth:0,innerHaloWidth:0,outerHaloWidth:0},this._optionsShadeTexKey="",this._texelData=new Uint8Array(4*lS),this._minMaxDistance=[0,0]}setHighlightOptions(e){this._highlightOptions=e}applyHighlightOptions(e,i){this._updateGradientTexture(e),e.bindTexture(this._shadeTex,QNe),i.setUniform2fv("u_minMaxDistance",this._minMaxDistance)}destroy(){this._shadeTex?.dispose(),this._shadeTex=null}getReasonsWithGradients(){return[{activeReasons:(1<<mhe)-1,activeGradient:this}]}_updateGradientTexture(e){const i=yje(this._highlightOptions);if(i===this._optionsShadeTexKey)return;this._optionsShadeTexKey=i,mje(this._highlightOptions,this._convertedHighlightOptions);const r=this._convertedHighlightOptions,n=r.outlinePosition-r.outlineWidth/2-r.outerHaloWidth,s=r.outlinePosition-r.outlineWidth/2,o=r.outlinePosition+r.outlineWidth/2,a=r.outlinePosition+r.outlineWidth/2+r.innerHaloWidth,l=Math.sqrt(Math.PI/2)*rje,h=Math.abs(n)>l?Math.round(10*(Math.abs(n)-l))/10:0,f=Math.abs(a)>l?Math.round(10*(Math.abs(a)-l))/10:0;let g;h&&!f?kz().error("The outer rim of the highlight is "+h+"px away from the edge of the feature; consider reducing some width values or shifting the outline position towards positive values (inwards)."):!h&&f?kz().error("The inner rim of the highlight is "+f+"px away from the edge of the feature; consider reducing some width values or shifting the outline position towards negative values (outwards)."):h&&f&&kz().error("The highlight is "+Math.max(h,f)+"px away from the edge of the feature; consider reducing some width values.");const v=[void 0,void 0,void 0,void 0];function w(T,C,I){v[0]=(1-I)*T[0]+I*C[0],v[1]=(1-I)*T[1]+I*C[1],v[2]=(1-I)*T[2]+I*C[2],v[3]=(1-I)*T[3]+I*C[3]}const{_texelData:S}=this;for(let T=0;T<lS;++T)g=n+T/(lS-1)*(a-n),g<n?(v[0]=0,v[1]=0,v[2]=0,v[3]=0):g<s?w(gje,r.outlineColor,(g-n)/(s-n)):g<o?[v[0],v[1],v[2],v[3]]=r.outlineColor:g<a?w(r.outlineColor,r.fillColor,(g-o)/(a-o)):[v[0],v[1],v[2],v[3]]=r.fillColor,S[4*T]=255*v[0],S[4*T+1]=255*v[1],S[4*T+2]=255*v[2],S[4*T+3]=255*v[3];if(this._minMaxDistance[0]=n,this._minMaxDistance[1]=a,!this._shadeTex){const T=new bhe(lS,1);T.wrapMode=33071,this._shadeTex=new fje(e,T)}this._shadeTex.updateData(0,0,0,lS,1,this._texelData)}};function yje(t){return`${t.color};${t.haloColor};${t.haloOpacity};${t.fillOpacity};${t.haloWidth};${t.haloBlur}`}let vje=class{constructor(){this.type="multi",this.gradients=[]}setHighlightOptions(e){for(let i=0;i<e.length;i++)this.gradients[i]||(this.gradients[i]=new She),this.gradients[i].setHighlightOptions(e[i]);for(let i=e.length+1;i<this.gradients.length;i++)this.gradients[i].destroy();this.gradients.length=e.length}destroy(){for(const e of this.gradients)e.destroy()}getReasonsWithGradients(){let e=1;const i=[];for(let r=0;r<this.gradients.length;r++){const n=this.gradients[r];i.push({activeReasons:e,activeGradient:n}),e<<=1}return i}};const The={color:{write:[!0,!0,!0,!0],blendMode:"composite"},depth:!1,stencil:{write:!1,test:{compare:514,mask:255,op:{fail:7680,zFail:7680,zPass:7681}}}},bje={color:{write:[!0,!0,!0,!0],blendMode:"additive"},depth:!1,stencil:!1},wje={...The,color:{write:[!0,!0,!0,!0],blendMode:"delete"}};function _je({pixelRatio:t,state:e,displayLevel:i,requiredLevel:r},n){const s=1/2**(i-n.key.level),o=1/2**(r-n.key.level);return{displayMat3:e.displayMat3,displayViewMat3:e.displayViewMat3,displayViewScreenMat3:n.transforms.displayViewScreenMat3,viewMat3:e.viewMat3,tileMat3:n.transforms.tileMat3,displayZoomFactor:s,requiredZoomFactor:o,tileOffset:[n.x,n.y],currentScale:e.scale,currentZoom:i,metersPerSRUnit:dc(e.spatialReference),rotation:e.rotation,pixelRatio:t}}function $he(t){return t.passOptions?.type==="highlight"}function khe(t){return t.passOptions?.type==="hittest"}function xje(t){if(!khe(t))return null;const{position:e,distance:i,smallSymbolDistance:r,smallSymbolSizeThreshold:n}=t.passOptions;return{position:e,distance:i,smallSymbolDistance:r,smallSymbolSizeThreshold:n}}function Sje(t){if(!$he(t))return null;const{activeReasons:e,highlightAll:i}=t.passOptions;return{activeReasons:e,highlightAll:i?1:0}}function gut(t,e,i){const r={};for(const n in i)typeof i[n]!="function"?r[n]=i[n]:r[n]=i[n](t,e);return r}function yut(t,e){const{attributeView:i,context:r}=t;return{storage:i.getUniforms(r),view:_je(t,e),hittestRequest:xje(t),highlight:Sje(t)}}function vut(t){return{inside:t.selection===2,outside:t.selection===3}}function Tje(t){return khe(t)?bje:$he(t)&&t.passOptions.stepType==="clear"?wje:The}function but(t){const{row:e,col:i}=t.key,r=i*jX,n=e*jX;return{tileOffsetFromLocalOrigin:[r%TI,n%TI],maxIntsToLocalOrigin:[Math.floor(r/TI),Math.floor(n/TI)]}}const $je=new At({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryMultiPatch:"multipatch",mesh:"mesh"});function wut(t){return $je.toJSON(t)}function _ut(t){const{bandCount:e,attributeTable:i,colormap:r,pixelType:n}=t.raster.rasterInfo;return e===1&&(i!=null||r!=null||n==="u8"||n==="s8")}function kje(t,e){return e==null?(t?.destroy(),null):(t?.type==="single"&&Array.isArray(e)&&(t.destroy(),t=null),t?.type!=="multi"||Array.isArray(e)||(t.destroy(),t=null),t||(t=Array.isArray(e)?new vje:new She),Array.isArray(e)?t.type==="multi"&&t.setHighlightOptions(e):t.type==="single"&&t.setHighlightOptions(e),t)}function xut(t,e,i,r){const{painter:n,highlightGradient:s}=t,{highlight:o}=n.effects;if(!s)return;const a=t.passOptions,l=s.getReasonsWithGradients();for(let h=0;h<l.length;h++){const f={...t,passOptions:{type:"highlight",activeGradient:l[h].activeGradient,activeReasons:l[h].activeReasons,stepType:"burn",highlightAll:e}};if(o.bind(f),i(f),h<l.length-1){let v=0;for(let w=h+1;w<l.length;w++)v|=l[w].activeReasons;i({...t,passOptions:{type:"highlight",activeGradient:l[h].activeGradient,activeReasons:v,stepType:"clear",highlightAll:e}})}const g={...t,passOptions:{type:"highlight",activeGradient:l[h].activeGradient,activeReasons:l[h].activeReasons,stepType:"draw",highlightAll:e}};n.setPipelineState(Tje(t)),n.updatePipelineState(t.context),o.draw(g),o.unbind()}t.passOptions=a}const kI=t=>parseFloat(t)/100;function Eje(t,e,i){const r=typeof t.left=="string"?kI(t.left)*e:t.left,n=typeof t.right=="string"?kI(t.right)*e:t.right,s=typeof t.top=="string"?kI(t.top)*i:t.top,o=typeof t.bottom=="string"?kI(t.bottom)*i:t.bottom,a=s;return{xmin:r,xmax:Math.max(e-n,r),ymin:a,ymax:Math.max(i-o,s)}}function Ehe(t,e,i,r){switch(e.type){case"rect":{const{width:n,height:s}=t,{xmin:o,xmax:a,ymin:l,ymax:h}=Eje(e,n,s),{x:f,y:g}=i;return f>o&&f<a&&g>l&&g<h}case"path":return e.path.length===0||!Array.isArray(e.path[0][0])||yU(e.path,[i.x,i.y]);case"geometry":return e.geometry==null||(e.geometry.type==="polygon"?gU(e.geometry,r):W$(e.geometry,r))}}function Ije(t){if(!t.highlights)return null;const e=t.highlights.findIndex(i=>i.name==="default");return e===-1?null:t.highlights.items[e]}function Cje(t,e){if(!t.highlights){if(!e)return;t.highlights=new We([new Lm])}const i=t.highlights.findIndex(r=>r.name==="default");e?t.highlights.items[i].assignFrom(e):(t.highlights.removeAt(i),t.highlights.length===0&&(t.highlights=null))}async function Mje(t,e,i){const r=ode(e)?sde(t,e):e;if(!t.ready||isNaN(r.x)||isNaN(r.y))return{screenPoint:r,results:[]};let n=new Set;const s=new Set;let o=!1,a=null,l=null;i?.include?HX(i.include,BX(t,v=>{n.add(v),Ez(v,w=>s.add(w))},(v,w)=>{s.add(v),n.add(w)},v=>{a||(a=new Set),a.add(v)},v=>n.add(v),()=>o=!0)):(o=!0,n=new Set(t.allLayerViews),n.forEach(v=>{Ez(v,w=>s.add(w))})),i?.exclude&&HX(i.exclude,BX(t,v=>{n.delete(v),Ez(v,w=>s.delete(w))},v=>s.delete(v),v=>{l||(l=new Set),l.add(v)}));const h=t.toMap(r),f=t.allLayerViews.filter(v=>!v.suspended&&n.has(v)&&v.clips.every(w=>Ehe(t,w,r,h))).reverse();let g=[...o?t.graphicsView.hitTest(h).map(v=>({type:"graphic",graphic:v,layer:null,mapPoint:h})):[],...await Promise.all(f.map(v=>v.hitTest(h,r)).toArray())].filter(vu).flat().filter(vu);return g=g.filter(v=>v.type!=="graphic"||v.layer?.type!=="subtype-group"||s.has(v.graphic.layer)),a&&(g=g.filter(v=>!("graphic"in v)||!v.graphic||a?.has(y6(v.graphic)))),l&&(g=g.filter(v=>!("graphic"in v)||!v.graphic||!l?.has(y6(v.graphic)))),{screenPoint:r,results:g}}function BX(t,e,i,r,n,s){return o=>{if(o instanceof Pr){if(o.layer===t)s?.();else{const a=t.allLayerViews.find(l=>l.layer===o.layer);a&&n?.(a)}r(y6(o))}else if(!("layer"in o&&"element"in o))if(o.type==="subtype-sublayer"){const a=t.allLayerViews.find(l=>l.layer===o.parent);a&&i(o,a)}else{const a=t.allLayerViews.find(l=>l.layer===o);a&&e(a)}}}function HX(t,e){if(t)if(mA(t))for(const i of t)if(mA(i))for(const r of i)e(r);else e(i);else e(t)}function y6(t){const e=t.getObjectId();return e?`${t.layer?.uid??t.sourceLayer?.uid??"MapView"}/${e}`:`"MapView/${t.uid}`}function Ez(t,e){const i=t.layer;i?.type==="subtype-group"&&i.sublayers.forEach(r=>{e(r)})}let dS=null,CO=!0;function Aje(t,e,i){if(!t||!e)throw new Error("Cannot construct image data without dimensions");if(CO)try{return new ImageData(t,e)}catch{CO=!1}return Ihe(t,e,i)}function Sut(t,e,i,r){if(!e||!i)throw new Error("Cannot construct image data without dimensions");if(CO)try{return new ImageData(t,e,i)}catch{CO=!1}const n=Ihe(e,i,r);return n.data.set(t,0),n}function Oje(){return dS||(dS=document.createElement("canvas"),dS.width=1,dS.height=1),dS}function Ihe(t,e,i){return i||(i=Oje()),i.getContext("2d").createImageData(t,e)}async function Pje(t,e){const i=window.URL.createObjectURL(t);try{const{data:r}=await Vt(i,{...e,responseType:"image"});return r}catch(r){throw us(r)?r:new ee("invalid-image",`Could not fetch requested image at ${i}`)}finally{window.URL.revokeObjectURL(i)}}async function Tut(t,e){const{arrayBuffer:i,mediaType:r}=await Dje(t,e),n=r==="image/png";if(r==="image/gif"){const{isAnimatedGIF:s,parseGif:o}=await ke(()=>import("./gif-ChZOC4wf.js"),[]);if(s(i))return o(i,e)}if(n){const{isAnimatedPNG:s,parseApng:o}=await ke(()=>import("./apng-dNmR4ho7.js"),__vite__mapDeps([298,15]));if(s(i))return o(i,e)}return Pje(new Blob([i],{type:r}),e)}async function Dje(t,e){const i=vv(t);if(i?.isBase64)return{arrayBuffer:hre(i.data),mediaType:i.mediaType};const r=await Vt(t,{responseType:"array-buffer",...e});return{arrayBuffer:r.data,mediaType:r.getHeader?.("Content-Type")??""}}function Che(t,e,i){const{ctx:r,canvas:n}=Ahe(t,i),s=r.getImageData(0,0,t.width,t.height),o=Phe(n,e);return Ohe(n),{dataUrl:o,data:s}}function Mhe(t,e){const{ctx:i,canvas:r}=Ahe(t,e),n=i.getImageData(0,0,t.width,t.height);return Ohe(r),n}function Ahe(t,e){const i=Rje();e.premultipliedAlpha&&jje(t),i.width=t.width,i.height=t.height;const r=i.getContext("2d",{willReadFrequently:!0});return r.putImageData(t,0,0),e.flipY&&Nje(r),{ctx:r,canvas:i}}function Ohe(t){t.width=0,t.height=0}function Rje(){return Iz==null&&(Iz=document.createElement("canvas")),Iz}let Iz=null;function Phe(t,e){const i=Fje[e.format],r=e.quality/100;return t.toDataURL(i,r)}function Dhe(t,e){const i=zje(t),r=Uje[i];return{format:i,quality:vl(e??r,0,100)}}function Rhe(t,e){return e/Math.max(t[0],t[1])}function Lje(t,e,i,r=0,n=0,s=t.width-r,o=t.height-n,a=!1){const{data:l}=t,{width:h,height:f,data:g}=e,v=s/h,w=o/f,S=Math.ceil(v/2),T=Math.ceil(w/2),C=t.width;for(let I=0;I<f;I++)for(let A=0;A<h;A++){const P=4*(A+(a?f-I-1:I)*h);let D=0,L=0,B=0,N=0,Y=0,K=0;const te=(I+.5)*w;for(let ue=Math.floor(I*w);ue<(I+1)*w;ue++){const ye=Math.abs(te-(ue+.5))/T,se=(A+.5)*v,G=ye*ye;for(let ie=Math.floor(A*v);ie<(A+1)*v;ie++){const J=Math.abs(se-(ie+.5))/S,le=Math.sqrt(G+J*J);if(le>=1)continue;let ve=2*le*le*le-3*le*le+1;const Me=4*(r+ie+(n+ue)*C);K+=ve*l[Me+3],L+=ve,!i&&l[Me+3]<255&&(ve=ve*l[Me+3]/255),B+=ve*l[Me],N+=ve*l[Me+1],Y+=ve*l[Me+2],D+=ve}}g[P]=B/D,g[P+1]=N/D,g[P+2]=Y/D,g[P+3]=K/L}return e}function zje(t){switch(t){case"png":case"jpg":case"jpeg":return t;default:return Vje}}function Nje(t){t.save(),t.globalCompositeOperation="copy",t.scale(1,-1),t.translate(0,-t.canvas.height),t.drawImage(t.canvas,0,0),t.restore()}function jje(t){const e=t.data,i=e.length;for(let r=0;r<i;r+=4){const n=e[r+3];if(n!==255&&n>0){const s=255/n;e[r]=e[r]*s,e[r+1]=e[r+1]*s,e[r+2]=e[r+2]*s}}}const Fje={png:"image/png",jpg:"image/jpeg",jpeg:"image/jpeg"},qX=98,Vje="png",Uje={png:100,jpg:qX,jpeg:qX},$ut=Object.freeze(Object.defineProperty({__proto__:null,createEmptyImageData:Aje,encode:Che,encodeData:Mhe,getFormatAndQuality:Dhe,getMaximumResolutionScale:Rhe,resampleHermite:Lje,toDataUrl:Phe},Symbol.toStringTag,{value:"Module"})),Lhe={flipY:!0,premultipliedAlpha:!0};async function Bje(t,e){const i=await zhe(t,e),{format:r,quality:n}=Dhe(e?.format,e?.quality);return Che(i,{format:r,quality:n},Lhe)}async function Hje(t,e){const i=await zhe(t,e);return Mhe(i,Lhe)}function zhe(t,e){const i=Wje(e||{},Gje(t.stage,t.size),t.size,t.padding),r=qje(e,t.allLayerViews);return t.stage.takeScreenshot(i,r,t.backgroundColor,e?.rotation)}function qje(t={},e){if(!t.layers)return;const i=[];return t.layers.forEach(r=>{const n=e.find(s=>s.layer.id===r.id);n?.container&&i.push(n.container)}),i}function Gje(t,e){return Math.min(4,Rhe(e,Math.min(4096,t.context.parameters.maxTextureSize)))}function Wje(t,e,i,r){t.ignorePadding&&(r={left:0,right:0,top:0,bottom:0});let n=null;t.width!=null&&t.height!=null?n=[t.width,t.height]:t.width==null&&t.height!=null?n=[t.height,t.height]:t.width!=null&&t.height==null?n=[t.width,t.width]:t.width==null&&t.height==null&&(n=null);const s=i[0]-(r.left+r.right),o=i[1]-(r.top+r.bottom);let a,l,h=t.area||{x:0,y:0,width:s,height:o};if(n){const f=s/o,g=n[0]/n[1];if(g>f){const v=h.width/g;h={x:h.x,y:Math.round(h.y+(h.height-v)/2),width:h.width,height:Math.round(v)}}else{const v=h.height*g;h={x:Math.round(h.x+(h.width-v)/2),y:h.y,width:Math.round(v),height:h.height}}}else n=[h.width,h.height];return n[0]>h.width?(a=Math.min(n[0]/h.width,e),l=n[0]/h.width/a):(a=1,l=n[0]/h.width),{cropArea:{x:Math.round((h.x+r.left)*a),y:Math.round((h.y+r.top)*a),width:Math.round(h.width*a),height:Math.round(h.height*a)},outputScale:l,resolutionScale:a}}const Yje=t=>t.includes("Brush");let Nhe=class{constructor(){this._names=new Map}begin(e){this._names.has(e)||(this._names.set(e,!1),Yje(e)&&this.record("Esri.FirstDraw"),performance.mark(`Esri.${e}.Start`))}end(e){this._names.has(e)&&!this._names.get(e)&&(this._names.set(e,!0),performance.mark(`Esri.${e}.End`))}record(e){this._names.has(e)||(this._names.set(e,!0),performance.mark(`Esri.${e}`))}};const GX=Symbol("analyses-owner-handles");let Yf=class extends at{constructor(e){super(e),this._allAnalysisViews=new We,this._creatingViewCount=0,this._attachedToViewResolver=WX(),this._items=new Map,this._moduleMap=new Map,this._scheduledUpdateHandle=null,this._emitOnView=(i,r)=>this.view.emit(i,r)}destroy(){this._disconnectOwners(),this._attachedToViewResolver.reject(Si("AnalysisViewManager was destroyed")),this._set("view",null)}attach(){this._connectOwners(),this._attachedToViewResolver.resolve()}detach(){this._disconnectOwners(),this._attachedToViewResolver.reject(Si()),this._attachedToViewResolver=WX()}get updating(){return!this.view.ready||this._creatingViewCount!==0||this._allAnalysisViews.some(e=>e.updating)}get testInfo(){}async whenAnalysisView(e){await this._attachedToViewResolver.promise;const i=this._items.get(e);if(i==null||i.state.list===1)throw new ee("AnalysisViewManager:no-analysis-view-for-analysis","The analysis does not exist in view.analyses",{analysis:e});return i.createAnalysisViewTask.promise}_connectOwners(){this.addHandles(this._connectAnalysesCollection(this.view.analyses),GX)}_disconnectOwners(){this.removeHandles(GX),this._update(),this._creatingViewCount=0}_connectAnalysesCollection(e){for(const n of e)this._addAnalysis(n);const i=e.on("after-add",n=>this._addAnalysis(n.item)),r=e.on("after-remove",n=>this._removeAnalysis(n.item));return oi(()=>{i.remove(),r.remove();for(const n of e)this._removeAnalysis(n)})}_addAnalysis(e){const i=this._items.get(e);if(i==null){const r={state:{view:0,list:0},analysis:e,view:null,createAnalysisViewTask:null};this._items.set(e,r),r.createAnalysisViewTask=ik(n=>this._createAnalysisViewPromise(r,n).then(s=>(this._emitOnView("analysis-view-create",{analysis:e,analysisView:s}),s),s=>{throw this._emitOnView("analysis-view-create-error",{analysis:e,error:s}),s}))}else i.state.list=0}_removeAnalysis(e){const i=this._items.get(e);i!=null?(i.state.list=1,this._scheduleUpdate()):Ee.getLogger(this).error("Trying to remove analysis which was not added")}_scheduleUpdate(){this._scheduledUpdateHandle==null&&(this._scheduledUpdateHandle=_1(()=>this._update()))}_update(){this._scheduledUpdateHandle=rr(this._scheduledUpdateHandle),this._items.forEach(e=>{if(e.state.list!==1)return;const{analysis:i,view:r}=e;switch(this._items.delete(i),e.state.view){case 0:e.createAnalysisViewTask=fv(e.createAnalysisViewTask);break;case 1:r!=null&&(this._allAnalysisViews.remove(r),e.view=pr(r),e.createAnalysisViewTask=null,this._emitOnView("analysis-view-destroy",{analysis:i,analysisView:r}))}})}async _createAnalysisViewPromise(e,i){const{analysis:r}=e;if(this._creatingViewCount+=1,!this._moduleMap.has(r.type))try{this._moduleMap.set(r.type,await this.importAnalysisViewModule(r))}catch{throw this._creatingViewCount-=1,new ee("AnalysisViewManager:no-analysis-view-for-analysis",`Analysis of type "${r.type}" is not supported`)}if(Rs(i))throw this._creatingViewCount-=1,Si("AnalysisView creation aborted");const n=new(this._moduleMap.get(r.type)).default({analysis:r,view:this.view});let s=!0;Ds(i,()=>{s&&this._destroyAnalysisView(r,n)});try{await n.when()}catch(o){throw s=!1,this._destroyAnalysisView(r,n),o}if(Rs(i))throw Si();return s=!1,e.view=n,e.state.view=1,this._allAnalysisViews.add(n),this._creatingViewCount-=1,n}_destroyAnalysisView(e,i){i.destroyed||(this._creatingViewCount-=1,i.destroy(),this._emitOnView("analysis-view-destroy",{analysis:e,analysisView:i}))}};u([p()],Yf.prototype,"updating",null),u([p({constructOnly:!0})],Yf.prototype,"importAnalysisViewModule",void 0),u([p({constructOnly:!0})],Yf.prototype,"view",void 0),u([p()],Yf.prototype,"_allAnalysisViews",void 0),u([p()],Yf.prototype,"_creatingViewCount",void 0),Yf=u([j("esri.views.support.AnalysisViewManager")],Yf);const Zje=Yf;function WX(){const t=cs();return t.promise.catch(()=>{}),t}let Jje=class{constructor(e){this.getUnmaskedRenderer=e}};function Xje(t){const e=t.getExtension("WEBGL_debug_renderer_info");return e?new Jje(()=>t.getParameter(e.UNMASKED_RENDERER_WEBGL)):null}let YX;function Kje(){return YX??=tFe(),YX}let Qje=class{constructor(){this.available=!1,this.majorPerformanceCaveat=!1,this.maxTextureSize=0,this.supportsVertexShaderSamplers=!1,this.supportsHighPrecisionFragment=!1,this.supportsColorBufferFloat=!1,this.supportsColorBufferFloatBlend=!1,this.supportsColorBufferHalfFloat=!1,this.unmaskedRenderer="unloaded"}};function eFe(t){if(typeof WebGL2RenderingContext>"u")return null;const e=document.createElement("canvas");if(!e)return null;let i=e.getContext("webgl2",{failIfMajorPerformanceCaveat:!0});if(i==null&&(i=e.getContext("webgl2"),i!=null&&(t.majorPerformanceCaveat=!0,t.unmaskedRenderer=Xje(i)?.getUnmaskedRenderer()??"unknown")),i==null)return i;t.available=!0,t.maxTextureSize=i.getParameter(i.MAX_TEXTURE_SIZE),t.supportsVertexShaderSamplers=i.getParameter(i.MAX_VERTEX_TEXTURE_IMAGE_UNITS)>0;const r=i.getShaderPrecisionFormat(i.FRAGMENT_SHADER,i.HIGH_FLOAT);return r&&(t.supportsHighPrecisionFragment=r.precision>0),i}function tFe(){const t=new Qje,e=eFe(t);return e==null||(t.supportsColorBufferFloat=e.getExtension("EXT_color_buffer_float")!==null,t.supportsColorBufferFloatBlend=e.getExtension("EXT_float_blend")!==null,t.supportsColorBufferHalfFloat=t.supportsColorBufferFloat||e.getExtension("EXT_color_buffer_half_float")!==null),t}function iFe(t){const e=Kje();return e.available?t==="3d"&&e.majorPerformanceCaveat?new ee("webgl:major-performance-caveat-detected",`Your WebGL implementation (${e.unmaskedRenderer}) doesn't seem to support hardware accelerated rendering. Check your browser settings or if your GPU is in a blocklist.`):e.supportsHighPrecisionFragment?e.supportsVertexShaderSamplers?null:new ee("webgl:vertex-shader-samplers-required","WebGL support for vertex shader samplers is required but not supported."):new ee("webgl:high-precision-fragment-required","WebGL support for high precision fragment shaders is required but not supported."):new ee("webgl:required","WebGL2 is required but not supported.",new Error().stack)}function rFe(t){return t&&"nodeType"in t}function nFe(t){return t&&typeof t.render=="function"}const ZX={component:"esri-component"};let fy=class extends at{constructor(){super(...arguments),this.widget=null}destroy(){this.node=null,this.widget?.destroy()}get id(){return this._get("id")??this.widget?.id??this.node?.id}set id(e){this._set("id",e)}set node(e){const i=this._get("node");e!==i&&(e&&e.classList.add(ZX.component),i&&i.classList.remove(ZX.component),this._set("node",e))}castNode(e){return this.widget?.destroy(),e?typeof e=="string"||rFe(e)?(this._set("widget",null),U9(e)):(nFe(e)&&!e.domNode&&(e.domNode=document.createElement("div")),this._set("widget",e),e.domNode):(this._set("widget",null),null)}};u([p()],fy.prototype,"id",null),u([p()],fy.prototype,"node",null),u([bi("node")],fy.prototype,"castNode",null),u([p({readOnly:!0})],fy.prototype,"widget",void 0),fy=u([j("esri.views.ui.Component")],fy);const MM=fy,sFe={left:0,top:0,bottom:0,right:0},jhe={bottom:30,top:15,right:15,left:15},_h="esri-ui",qo={ui:_h,corner:`${_h}-corner`,innerContainer:`${_h}-inner-container`,manualContainer:`${_h}-manual-container`,cornerContainer:`${_h}-corner-container`,topLeft:`${_h}-top-left`,topRight:`${_h}-top-right`,bottomLeft:`${_h}-bottom-left`,bottomRight:`${_h}-bottom-right`};function oFe(t){return t&&!t._started&&typeof t.postMixInProperties=="function"&&typeof t.buildRendering=="function"&&typeof t.postCreate=="function"&&typeof t.startup=="function"}function EI(t){return t===0?"0":`${t}px`}function Cz(t){const e=typeof t=="object"&&t!==null&&Object.getPrototypeOf(t);return(e===null||e===Object.prototype)&&("component"in t||"index"in t||"position"in t)?t:null}function Mz(t,{top:e,bottom:i,left:r,right:n}){t.style.top=e,t.style.bottom=i,t.style.left=r,t.style.right=n}let ed=class extends k1{constructor(e){super(e),this._cornerNameToContainerLookup={},this._positionNameToContainerLookup={},this._components=new Array,this._componentMap=new Map,this._removeWidgetHandleKey=Symbol("componentOnRemoveSymbol"),this._locale=ya(),this.view=null,this._applyViewPadding=()=>{const i=this.container;i&&Mz(i,this._toPixelPosition(this._getViewPadding()))},this._applyUIPadding=()=>{const i=this._innerContainer;i&&Mz(i,this._toPixelPosition(this.padding))},this._initContainers()}initialize(){this.addHandles([ft(()=>[this.view?.padding,this.container],this._applyViewPadding,Ls),ft(()=>this.padding,this._applyUIPadding,Ls),ft(()=>[this.container,this._locale],([e,i])=>{e&&e.setAttribute("lang",i)},Ls),qre(e=>{this._locale=e})])}destroy(){this.removeAllHandles(),this.container=null;for(const e of this._components)e.destroy();this._components.length=0,this._componentMap.clear(),this.view=null,this._set("view",null)}set container(e){const i=this._get("container");e!==i&&(e&&(e.classList.add(qo.ui),C2e(e),this._attachContainers(e)),i&&(i.classList.remove(qo.ui),Mz(i,{top:"",bottom:"",left:"",right:""}),i.textContent=""),this._set("container",e))}get height(){const e=this.view?.height??0;if(e===0)return e;const i=this._getViewPadding(),{top:r,bottom:n}=i;return Math.max(e-r-n,0)}get padding(){return this._get("padding")}set padding(e){this._overrideIfSome("padding",e)}castPadding(e){return typeof e=="number"?{bottom:e,top:e,right:e,left:e}:{...jhe,...e}}get width(){const e=this.view?.width??0;if(e===0)return e;const i=this._getViewPadding(),{left:r,right:n}=i;return Math.max(e-r-n,0)}add(e,i){let r,n,s;if(Array.isArray(e))return void e.forEach(a=>this.add(a,i));const o=Cz(e);o&&({index:r,position:i,component:e,key:n}=o),i&&typeof i=="object"&&({index:r,key:n,position:i,internal:s}=i),!e||i&&!this._isValidPosition(i)||this._add(e,i,r??this._getNumComponentsAtPosition(i),n,s)}remove(e,i){if(!e)return;if(Array.isArray(e))return e.map(n=>this.remove(n,i));const r=this._find(e);if(r){const n=this._componentMap.get(r);if(!n||n.key!==i)return;const s=this._components.indexOf(r);return r.node.parentNode?.removeChild(r.node),this._componentMap.delete(r),r.widget?.removeHandlesReference(this._removeWidgetHandleKey),this._components.forEach(a=>{const l=this._componentMap.get(a);l&&l.position===n.position&&l.index>n.index&&l.index--}),this._components.splice(s,1)[0]}}empty(e,i={removeInternal:!1}){if(Array.isArray(e)){for(const s of e)this.empty(s,i);return}const r=this._positionNameToContainerLookup[e??"manual"],n=Array.prototype.slice.call(r.children).map(s=>this._findByNode(s)).filter(s=>s==null?!1:!(this._componentMap.get(s)?.internal??!1)||i.removeInternal);for(const s of n)this.remove(s)}move(e,i){if(Array.isArray(e)&&e.forEach(o=>this.move(o,i)),!e)return;let r;const n=Cz(e)||Cz(i);if(n&&(r=n.index,i=n.position,e=n.component||e),i&&!this._isValidPosition(i))return;const s=this.remove(e);s&&this.add(s,{position:i,index:r})}find(e){if(!e)return null;const i=this._findById(e);return i&&(i.widget||i.node)}getComponents(e,i={includeInternal:!1}){return e?Array.isArray(e)?e.flatMap(r=>this._getComponentsAtPosition(r,i)):this._getComponentsAtPosition(e,i):this._components.filter(r=>i.includeInternal||!this._componentMap.get(r)?.internal).map(({widget:r,node:n})=>r??n)}getPosition(e){for(const i in this._positionNameToContainerLookup)if(this._positionNameToContainerLookup[i].contains(e))return i;return null}_add(e,i,r,n,s){e instanceof MM||(e=new MM({node:e}));const{widget:o}=e;o!=null&&o instanceof at&&o.addHandles(oi(()=>{queueMicrotask(()=>this.remove(e))}),this._removeWidgetHandleKey);const a=this._positionNameToContainerLookup[i];this._components.some(l=>{const h=this._componentMap.get(l)?.position,f=h?this._positionNameToContainerLookup[h]:null;return a===f&&this._componentMap.get(l)?.index===r})&&this._components.forEach(l=>{const h=this._componentMap.get(l),f=h?.position,g=f?this._positionNameToContainerLookup[f]:null;h&&g===a&&h.index>=r&&h.index++}),this._place({component:e,position:i,index:r}),this._components.push(e),this._componentMap.set(e,{key:n,position:i,internal:s,index:r})}_find(e){return e?e instanceof MM?this._findByComponent(e):typeof e=="string"?this._findById(e):"domNode"in e?this._findByNode(e.domNode):this._findByNode(e):null}_getViewPadding(){return this.view?.padding??sFe}_attachContainers(e){e.appendChild(this._innerContainer),e.appendChild(this._manualContainer)}_initContainers(){const e=document.createElement("div");e.classList.add(qo.innerContainer,qo.cornerContainer);const i=document.createElement("div");i.classList.add(qo.innerContainer,qo.manualContainer);const r=document.createElement("div");r.classList.add(qo.topLeft,qo.corner),e.appendChild(r);const n=document.createElement("div");n.classList.add(qo.topRight,qo.corner),e.appendChild(n);const s=document.createElement("div");s.classList.add(qo.bottomLeft,qo.corner),e.appendChild(s);const o=document.createElement("div");o.classList.add(qo.bottomRight,qo.corner),e.appendChild(o),this._innerContainer=e,this._manualContainer=i;const a=y2e();this._cornerNameToContainerLookup={"top-left":r,"top-right":n,"bottom-left":s,"bottom-right":o,"top-leading":a?n:r,"top-trailing":a?r:n,"bottom-leading":a?o:s,"bottom-trailing":a?s:o},this._positionNameToContainerLookup={manual:i,...this._cornerNameToContainerLookup}}_isValidPosition(e){return!!this._positionNameToContainerLookup[e]}_place(e){const i=e.position??"manual",{component:r,index:n}=e,s=this._positionNameToContainerLookup[i],o=n!=null&&n>-1;if(oFe(r.widget)&&r.widget.startup(),!o)return void s.appendChild(r.node);const a=Array.from(s.children);if(a.length!==0){for(const l of a){const h=this._findByNode(l);if(h&&n<(this._componentMap.get(h)?.index??0))return void l.parentNode?.insertBefore(r.node,l)}s.appendChild(r.node)}else s.appendChild(r.node)}_toPixelPosition(e){return{top:EI(e.top),left:EI(e.left),right:EI(e.right),bottom:EI(e.bottom)}}_findByComponent(e){return this._components.find(i=>i===e)??null}_findById(e){return this._components.find(({id:i})=>i===e)??null}_findByNode(e){return e?this._components.find(({node:i})=>i===e):null}_getComponentsAtPosition(e,i){const r=this._positionNameToContainerLookup[e];return Array.prototype.slice.call(r.children).map(n=>this._findByNode(n)).filter(vu).filter(n=>i.includeInternal||!this._componentMap.get(n)?.internal).map(({widget:n,node:s})=>n??s)}_getNumComponentsAtPosition(e){return this._positionNameToContainerLookup[e]?.children.length??0}};u([p()],ed.prototype,"_locale",void 0),u([p()],ed.prototype,"container",null),u([p()],ed.prototype,"height",null),u([p({value:jhe})],ed.prototype,"padding",null),u([bi("padding")],ed.prototype,"castPadding",null),u([p()],ed.prototype,"view",void 0),u([p()],ed.prototype,"width",null),ed=u([j("esri.views.ui.UI")],ed);const aFe=ed,lFe=new Map;function cFe(t){return lFe.get(t)}function JX(t,e){return t&&"copyright"in t&&(!e||typeof t.originOf=="function"&&t.originOf("copyright")==="user")}function uFe(t,e){return t.length!==e.length||t.some((i,r)=>i.text!==e[r].text)}function II(t,e,i){!i||!e||t.find(r=>r.layerView===e&&r.text===i)||t.push({text:i,layerView:e})}function dFe(t){return t.type==="bing-maps"}const Bu=[];let F0=class extends at{constructor(e){super(e),this._clear=()=>{this._fetchedAttributionData.clear(),this._pendingAttributions.clear(),this.removeHandles("suspension"),this.notifyChange("state")},this._pendingAttributions=new Set,this._fetchedAttributionData=new Map,this.items=new We,this.view=null,this._allLayerViewsChange=i=>{this.removeHandles("suspension"),this.removeHandles("visible-geometry-changed");const r=this.view?.allLayerViews;r&&(this.addHandles(r.map(n=>ft(()=>[n.suspended,n.layer?.attributionVisible],()=>this._updateAttributionItems())).toArray(),"suspension"),r.forEach(n=>{n.declaredClass==="esri.views.3d.layers.IntegratedMesh3DTilesLayerView3D"&&this.addHandles(n.on("visible-geometry-changed",()=>this._updateAttributionItems()),"visible-geometry-changed")})),i?.removed&&i.removed.forEach(n=>{this._pendingAttributions.delete(n),this._fetchedAttributionData.delete(n)}),this._updateAttributionItems()},this.addHandles([qm(()=>this.view?.allLayerViews,"change",i=>this._allLayerViewsChange(i),{onListenerAdd:()=>this._allLayerViewsChange(),onListenerRemove:this._clear}),wa(()=>this.view?.stationary===!0,()=>this._updateAttributionItems())])}destroy(){this.view=null,this._fetchedAttributionData.clear(),this._pendingAttributions.clear(),this.items.removeAll()}get state(){return this.view?.ready?this._pendingAttributions.size>0?"loading":"ready":"disabled"}_updateAttributionItems(){const e=this.view,i=e?.allLayerViews;Bu.length=0;let r=!1,n=null;if(!e||!i)return void this._clear();i.forEach(o=>{if(o.suspended||!o.layer?.attributionVisible)return;const a=o.layer;if(JX(a,"user"))return void II(Bu,o,a.copyright);if(a.type==="integrated-mesh-3dtiles"&&a.hasGoogleUrl&&(r=!0,n=o),a.hasAttributionData){if(this._fetchedAttributionData.has(o)){const h=this._fetchedAttributionData.get(o);return void(h?II(Bu,o,this._getDynamicAttribution(h,e,a)):JX(a)&&II(Bu,o,a.copyright))}return void this._fetchAttributionData(o)}const l="portalItem"in a?a.portalItem?.accessInformation:void 0;II(Bu,o,l||a.copyright)});const s=i.find(o=>o.layer?.type==="integrated-mesh-3dtiles");if(this.view&&s){const o=cFe(this.view);if(o){const a=o.getAttributionText();for(let l=a.length-1;l>-1;--l)Bu.unshift({text:a[l],layerView:s})}}r&&n&&Bu.unshift({text:"Google Maps",layerView:n}),uFe(this.items,Bu)&&(this.items.removeAll(),this.items.addMany(Bu)),Bu.length=0,this.notifyChange("state")}async _fetchAttributionData(e){if(this._pendingAttributions.has(e))return;this._pendingAttributions.add(e);const i=await qD(e.layer.fetchAttributionData());if(this._pendingAttributions.has(e)){const r=i.ok?this._createContributionIndex(i.value,dFe(e.layer)):null;this._pendingAttributions.delete(e),this._fetchedAttributionData.set(e,r)}this._updateAttributionItems()}_createContributionIndex(e,i){const r=e.contributors,n={};if(!r)return n;for(let s=0;s<r.length;s++){const o=r[s],a=o.coverageAreas;if(!a)return;for(const l of a){const h=l.bbox,f=l.zoomMin-(i&&l.zoomMin?1:0),g=l.zoomMax-(i&&l.zoomMax?1:0),v=new jt({xmin:h[1],ymin:h[0],xmax:h[3],ymax:h[2],spatialReference:Ke.WGS84}),w={extent:Rm(v),attribution:o.attribution||"",score:l.score!=null?l.score:100,id:s};for(let S=f;S<=g;S++)n[S]??=[],n[S].push(w)}}return n.maxKey=Math.max.apply(null,Object.keys(n)),n}_getDynamicAttribution(e,i,r){const{extent:n,scale:s}=i;let o=r.tileInfo?.scaleToZoom(s)??0;if(o=Math.min(e.maxKey??0,Math.round(o)),!n||o==null||o<=-1)return"";const a=e[o],l=PD(n.center.clone().normalize(),Ke.WebMercator),h=new Set;return a?a.filter(f=>{const g=f.id,v=!h.has(g)&&l&&f.extent&&W$(f.extent,l);return v&&h.add(g),v}).sort((f,g)=>g.score-f.score||f.objectId-g.objectId).map(f=>f.attribution).join(", "):""}};u([p({readOnly:!0,type:We})],F0.prototype,"items",void 0),u([p({readOnly:!0})],F0.prototype,"state",null),u([p()],F0.prototype,"view",void 0),F0=u([j("esri.widgets.Attribution.AttributionViewModel")],F0);const Fhe=F0,Ed={button:"esri-button",buttonDisabled:"esri-button--disabled",buttonHalf:"esri-button--half",buttonSecondary:"esri-button--secondary",buttonSmall:"esri-button--small",buttonTertiary:"esri-button--tertiary",buttonThird:"esri-button--third",empty:"esri-widget__content--empty",heading:"esri-widget__heading",interactive:"esri-interactive",panel:"esri-widget--panel",table:"esri-widget__table",widget:"esri-widget",widgetButton:"esri-widget--button"};function hFe(){return function(t,e){if(!t[e])throw new TypeError(`Cannot auto bind undefined function '${String(e)}'`);return{value:fFe(t[e])}}}function pFe(t){const e=t?.type;return t instanceof KeyboardEvent||e==="keyup"||e==="keydown"||e==="keypress"}function fFe(t){return function(e,...i){pFe(e)?v2e(e.key)&&(e.preventDefault(),e.stopPropagation(),e.target.click()):t.call(this,e,...i)}}const t0="esri-attribution",i0={base:t0,poweredBy:`${t0}__powered-by`,sources:`${t0}__sources`,open:`${t0}--open`,sourcesOpen:`${t0}__sources--open`,link:`${t0}__link`};let vo=class extends G${constructor(e,i){super(e,i),this._isOpen=!1,this._attributionTextOverflowed=!1,this._prevSourceNodeHeight=0,this._sourcesNode=null,this._overflowRequestAnimationFrame=null,this._resizeObserver=new ResizeObserver(r=>{r.forEach(({target:n})=>{this._scheduleOverflowCheck(n)})}),this._mutationObserver=new MutationObserver(r=>{let n=!1;for(const s of r)if(s.type==="childList"||s.type==="characterData"||s.type==="attributes"){n=!0;break}n&&this._sourcesNode&&this._scheduleOverflowCheck(this._sourcesNode)}),this.itemDelimiter=" | ",this.messages=null,this.viewModel=new Fhe}initialize(){this.addHandles(qm(()=>this.viewModel?.items,"change",()=>this.scheduleRender()))}destroy(){this._resizeObserver?.disconnect(),this._mutationObserver?.disconnect(),this._overflowRequestAnimationFrame!=null&&(cancelAnimationFrame(this._overflowRequestAnimationFrame),this._overflowRequestAnimationFrame=null)}get _isInteractive(){return this._isOpen||this._attributionTextOverflowed}_scheduleOverflowCheck(e){this._overflowRequestAnimationFrame==null&&(this._overflowRequestAnimationFrame=requestAnimationFrame(()=>{this._overflowRequestAnimationFrame=null,this._checkSourceTextOverflow(e)}))}get attributionText(){return this.viewModel.items.reduce((e,i)=>(e.includes(i.text)||e.push(i.text),e),[]).join(this.itemDelimiter)}get icon(){return"description"}set icon(e){this._overrideIfSome("icon",e)}get label(){return this.messages?.widgetLabel??""}set label(e){this._overrideIfSome("label",e)}get view(){return this.viewModel.view}set view(e){this.viewModel.view=e}render(){const e={[i0.open]:this._isOpen};return dr("div",{bind:this,class:this.classes(i0.base,Ed.widget,e),dir:"ltr",onclick:this._toggleState,onkeydown:this._toggleState},this._renderSourcesNode(),this._renderPoweredBy())}_renderPoweredBy(){return dr("div",{class:i0.poweredBy},"Powered by"," ",dr("a",{class:i0.link,href:"https://www.esri.com/",rel:"noreferrer",target:"_blank"},"Esri"))}_renderSourcesNode(){const e=this._isOpen,i=this._isInteractive,r=i?0:void 0,{attributionText:n}=this,s={[i0.sourcesOpen]:e,[Ed.interactive]:i};return dr("div",{afterCreate:this._afterSourcesNodeCreate,bind:this,class:this.classes(i0.sources,s),innerHTML:n,tabIndex:r})}_afterSourcesNodeCreate(e){this._prevSourceNodeHeight=e.clientWidth,this._sourcesNode=e,this._resizeObserver.observe(e),this._mutationObserver.observe(e,{subtree:!0,childList:!0,characterData:!0,attributes:!0}),this._scheduleOverflowCheck(e)}_checkSourceTextOverflow(e){let i=!1;const{clientHeight:r,clientWidth:n,scrollWidth:s}=e,o=s>n,a=this._attributionTextOverflowed!==o;if(this._attributionTextOverflowed=o,a&&(i=!0),this._isOpen){const l=r<this._prevSourceNodeHeight;this._prevSourceNodeHeight=r,l&&(this._isOpen=!1,i=!0)}i&&this.scheduleRender()}_toggleState(){this._isInteractive&&(this._isOpen=!this._isOpen)}};u([p()],vo.prototype,"_isOpen",void 0),u([p()],vo.prototype,"_isInteractive",null),u([p()],vo.prototype,"_attributionTextOverflowed",void 0),u([p()],vo.prototype,"_prevSourceNodeHeight",void 0),u([p({readOnly:!0,dependsOn:["viewModel.items.length","itemDelimiter"]})],vo.prototype,"attributionText",null),u([p()],vo.prototype,"icon",null),u([p()],vo.prototype,"itemDelimiter",void 0),u([p()],vo.prototype,"label",null),u([p(),H_("esri/widgets/Attribution/t9n/Attribution")],vo.prototype,"messages",void 0),u([p()],vo.prototype,"view",null),u([p({type:Fhe})],vo.prototype,"viewModel",void 0),u([hFe()],vo.prototype,"_toggleState",null),vo=u([j("esri.widgets.Attribution")],vo);const mFe=vo;function gFe(){const t=he("mapview-essential-goto-duration");return t==null?t:t}function yFe(t){return t?.spatialReference?.isWebMercator||t?.spatialReference?.isGeographic||!1}function vFe(t,e,i){return t.goTo(e,i)}const bFe=t=>{const e=t;let i=class extends e{constructor(...r){super(...r),this.goToOverride=null,this.view=null}callGoTo(r){const{view:n}=this;return fie(n),this.goToOverride?this.goToOverride(n,r):vFe(n,r.target,r.options)}};return u([p()],i.prototype,"goToOverride",void 0),u([p()],i.prototype,"view",void 0),i=u([j("esri.widgets.support.GoTo")],i),i};let my=class extends bFe(at){constructor(e){super(e),this.orientation={x:0,y:0,z:0},this.view=null,this._updateForCamera=this._updateForCamera.bind(this),this._updateForRotation=this._updateForRotation.bind(this),this._updateRotationWatcher=this._updateRotationWatcher.bind(this)}initialize(){this._watchForView(Ls)}destroy(){this.view=null}get canShowNorth(){return yFe(this.view)}get state(){return!this.view?.ready||this.view.type==="2d"&&!this.view.constraints.rotationEnabled?"disabled":this.canShowNorth?"compass":"rotation"}reset(){this.view?.ready&&(this.view?.type==="2d"?this.callGoTo({target:{rotation:0},options:{animationMode:"always",duration:gFe()}}):this.callGoTo({target:{heading:0}}))}_updateForRotation(e){e!=null&&this._set("orientation",{z:e})}_updateForCamera(e){if(!e)return;const i=-e.heading;this._set("orientation",{x:0,y:0,z:i})}_updateRotationWatcher(e){this.removeAllHandles(),this._watchForView(),e&&this.addHandles(e.type==="2d"?ft(()=>e?.rotation,this._updateForRotation,Ls):ft(()=>e?.camera,this._updateForCamera,Ls))}_watchForView(e){this.addHandles(ft(()=>this.view,this._updateRotationWatcher,e))}};u([p({readOnly:!0})],my.prototype,"canShowNorth",null),u([p({readOnly:!0})],my.prototype,"orientation",void 0),u([p({readOnly:!0})],my.prototype,"state",null),u([p()],my.prototype,"view",void 0),my=u([j("esri.widgets.Compass.CompassViewModel")],my);const Vhe=my,XX="esri-compass",KX={base:XX,iconContainer:`${XX}__icon-container`};let Lh=class extends G${constructor(e,i){super(e,i),this.messages=null,this.viewModel=new Vhe,this._reset=()=>{this.viewModel.reset()},this._toRotationTransform=r=>({transform:`rotateZ(${r.z}deg)`})}loadDependencies(){return ID({button:()=>ke(()=>Promise.resolve().then(()=>R3),void 0),icon:()=>ke(()=>Promise.resolve().then(()=>Oke),void 0)})}get goToOverride(){return this.viewModel.goToOverride}set goToOverride(e){this.viewModel.goToOverride=e}get icon(){return this.viewModel.state==="rotation"?"arrow-up":"compass-needle"}set icon(e){this._overrideIfSome("icon",e)}get label(){return this.messages?.widgetLabel??""}set label(e){this._overrideIfSome("label",e)}get view(){return this.viewModel.view}set view(e){this.viewModel.view=e}reset(){return this.viewModel.reset()}render(){const{orientation:e,state:i}=this.viewModel,{messages:r}=this;return dr("div",{class:this.classes(KX.base,Ed.widget)},dr("calcite-button",{class:Ed.widgetButton,disabled:i==="disabled",kind:"neutral",label:r.reset,onclick:this._reset,round:!0,scale:"s",title:r.reset},dr("div",{"aria-hidden":"true",class:KX.iconContainer,title:r.reset},dr("calcite-icon",{icon:this.icon,styles:this._toRotationTransform(e)}))))}};u([p()],Lh.prototype,"goToOverride",null),u([p()],Lh.prototype,"icon",null),u([p()],Lh.prototype,"label",null),u([p(),H_("esri/widgets/Compass/t9n/Compass")],Lh.prototype,"messages",void 0),u([p()],Lh.prototype,"view",null),u([p({type:Vhe})],Lh.prototype,"viewModel",void 0),Lh=u([j("esri.widgets.Compass")],Lh);const wFe=Lh,QX="esri-navigation-toggle",eK={base:QX,isLayoutHorizontal:`${QX}--horizontal`};let V0=class extends at{constructor(e){super(e),this._navigationMode="pan",this.view=null,e?.isDefaultViewModel||Ive(Ee.getLogger(this),"Navigation Toggle","arcgis-navigation-toggle",{version:"4.33"})}normalizeCtorArgs(e={}){const{isDefaultViewModel:i,...r}=e;return r}initialize(){this.addHandles(wa(()=>this.view?.navigation?.actionMap,()=>this._updateNavigationActionMap()))}destroy(){this.view=null}get state(){return this.view?.ready&&this.view?.type==="3d"?"ready":"disabled"}get navigationMode(){return this._navigationMode}set navigationMode(e){this._navigationMode=e,this._updateNavigationActionMap()}toggle(){this.state!=="disabled"&&(this.navigationMode=this.navigationMode!=="pan"?"pan":"rotate")}_updateNavigationActionMap(){const e=this.view?.navigation?.actionMap;if(!e)return;const i=this._navigationMode==="pan";e.dragPrimary=i?"pan":"rotate",e.dragSecondary=i?"rotate":"pan"}};u([p({readOnly:!0})],V0.prototype,"state",null),u([p()],V0.prototype,"_navigationMode",void 0),u([p()],V0.prototype,"view",void 0),V0=u([j("esri.widgets.NavigationToggle.NavigationToggleViewModel")],V0);const Uhe=V0;let zh=class extends G${constructor(e,i){super(e,i),this.messages=null,this.viewModel=new Uhe({isDefaultViewModel:!0}),this.toggle=()=>this.viewModel.toggle(),this._panButton=null,this._rotateButton=null,this._toggle=()=>{const r=this.viewModel?.navigationMode==="pan"?this._rotateButton:this._panButton;soe(r),this.toggle()},e?.isDefaultUI||Eve(Ee.getLogger(this),"Navigation Toggle","arcgis-navigation-toggle",{version:"4.32"})}normalizeCtorArgs(e={}){const{isDefaultUI:i,...r}=e;return r}loadDependencies(){return ID({button:()=>ke(()=>Promise.resolve().then(()=>R3),void 0)})}get icon(){return"move"}set icon(e){this._overrideIfSome("icon",e)}get label(){return this.messages?.widgetLabel??""}set label(e){this._overrideIfSome("label",e)}set layout(e){e!=="horizontal"&&(e="vertical"),this._set("layout",e)}get view(){return this.viewModel.view}set view(e){this.viewModel.view=e}render(){const e=this.viewModel?.state==="disabled",i=this.viewModel?.navigationMode==="pan",r=this.messages.toggle;return dr("div",{class:this.classes(eK.base,Ed.widget,{[eK.isLayoutHorizontal]:this.layout==="horizontal"})},dr("calcite-button",{afterCreate:n=>{this._panButton=n},appearance:i?"outline-fill":"solid",class:Ed.widgetButton,disabled:e,iconStart:"move",kind:"neutral",label:r,onclick:this._toggle,tabIndex:i?void 0:-1,title:r}),dr("calcite-button",{afterCreate:n=>{this._rotateButton=n},appearance:i?"solid":"outline-fill",class:Ed.widgetButton,disabled:e,iconStart:"rotate",kind:"neutral",label:r,onclick:this._toggle,tabIndex:i?-1:void 0,title:r}))}};u([p()],zh.prototype,"icon",null),u([p()],zh.prototype,"label",null),u([p({value:"vertical"})],zh.prototype,"layout",null),u([p(),H_("esri/widgets/NavigationToggle/t9n/NavigationToggle")],zh.prototype,"messages",void 0),u([p()],zh.prototype,"view",null),u([p({type:Uhe})],zh.prototype,"viewModel",void 0),zh=u([j("esri.widgets.NavigationToggle")],zh);const _Fe=zh;let gy=class extends at{get canZoomIn(){if(!this.view?.ready)return!1;const i=this.view?.constraints?.effectiveMaxScale;return i===0||this._scale>i}get canZoomOut(){const{view:e}=this;if(!e?.ready)return!1;const r=e.constraints?.effectiveMinScale;return r===0||this._scale<r}get _scale(){const e=this.view?.animation?.target;return(e&&"then"in e?void 0:e?.scale)??this.view?.scale??0}};u([p({readOnly:!0})],gy.prototype,"canZoomIn",null),u([p({readOnly:!0})],gy.prototype,"canZoomOut",null),u([p()],gy.prototype,"view",void 0),u([p()],gy.prototype,"_scale",null),gy=u([j("esri.widgets.Zoom.ZoomConditions2D")],gy);const xFe=gy;let U0=class extends at{get canZoomIn(){return!!this.view.ready}get canZoomOut(){return!!this.view.ready}};u([p({readOnly:!0})],U0.prototype,"canZoomIn",null),u([p({readOnly:!0})],U0.prototype,"canZoomOut",null),u([p()],U0.prototype,"view",void 0),U0=u([j("esri.widgets.Zoom.ZoomConditions3D")],U0);const SFe=U0;let Zf=class extends at{constructor(e){super(e)}destroy(){this.view=null}get canZoomIn(){return this._zoomConditions!=null&&this._zoomConditions.canZoomIn}get canZoomOut(){return this._zoomConditions!=null&&this._zoomConditions?.canZoomOut}get state(){return this.view?.ready?"ready":"disabled"}set view(e){e?e.type==="2d"?this._zoomConditions=new xFe({view:e}):e.type==="3d"&&(this._zoomConditions=new SFe({view:e})):this._zoomConditions=null,this._set("view",e)}zoomIn(){const e=this.view;this.canZoomIn&&e&&(e.type==="2d"?e.mapViewNavigation.zoomIn():T2(e.goTo({zoomFactor:2})))}zoomOut(){const e=this.view;this.canZoomOut&&e&&(e.type==="2d"?e.mapViewNavigation.zoomOut():T2(e.goTo({zoomFactor:.5})))}};u([p()],Zf.prototype,"_zoomConditions",void 0),u([p()],Zf.prototype,"canZoomIn",null),u([p()],Zf.prototype,"canZoomOut",null),u([p({readOnly:!0})],Zf.prototype,"state",null),u([p()],Zf.prototype,"view",null),Zf=u([j("esri.widgets.Zoom.ZoomViewModel")],Zf);const Bhe=Zf,tK={base:"esri-zoom",horizontalLayout:"esri-zoom--horizontal"};let Nh=class extends G${constructor(e,i){super(e,i),this.messages=null,this.viewModel=new Bhe,this.zoomIn=()=>this.viewModel.zoomIn(),this.zoomOut=()=>this.viewModel.zoomOut()}loadDependencies(){return ID({button:()=>ke(()=>Promise.resolve().then(()=>R3),void 0)})}get icon(){return"magnifying-glass-plus"}set icon(e){this._overrideIfSome("icon",e)}get label(){return this.messages?.widgetLabel??""}set label(e){this._overrideIfSome("label",e)}set layout(e){e!=="horizontal"&&(e="vertical"),this._set("layout",e)}set view(e){this.viewModel.view=e}get view(){return this.viewModel.view}render(){const e={[tK.horizontalLayout]:this.layout==="horizontal"},{canZoomIn:i,canZoomOut:r}=this.viewModel,{zoomIn:n,zoomOut:s}=this.messages;return dr("div",{class:this.classes(tK.base,Ed.widget,e)},dr("calcite-button",{class:Ed.widgetButton,disabled:!i,iconStart:"plus",kind:"neutral",label:n,onclick:this.zoomIn,title:n}),dr("calcite-button",{class:Ed.widgetButton,disabled:!r,iconStart:"minus",kind:"neutral",label:s,onclick:this.zoomOut,title:s}))}};u([p()],Nh.prototype,"icon",null),u([p()],Nh.prototype,"label",null),u([p({value:"vertical"})],Nh.prototype,"layout",null),u([p(),H_("esri/widgets/Zoom/t9n/Zoom")],Nh.prototype,"messages",void 0),u([p()],Nh.prototype,"view",null),u([p({type:Bhe})],Nh.prototype,"viewModel",void 0),Nh=u([j("esri.widgets.Zoom")],Nh);const TFe=Nh;function $Fe(t){return t?.view!==void 0}let AM=class extends aFe{constructor(e){super(e),this._defaultPositionLookup={attribution:"manual",compass:"top-left","navigation-toggle":"top-left",zoom:"top-left"},this.components=[],this._updateViewAwareWidgets=i=>{this.components.forEach(r=>{const n=this._find(r),s=n?.widget;$Fe(s)&&(s.view=i)})},this._componentsWatcher=(i,r)=>{this._removeComponents(r),this._addComponents(i),this._adjustPadding(i)}}initialize(){this.addHandles([ft(()=>this.components,this._componentsWatcher,Ls),ft(()=>this.view,this._updateViewAwareWidgets,Ls)])}_add(e,i,r,n,s){let o=e;if(typeof e=="string"&&this._defaultPositionLookup[e]){if(this._find(e))return;o=this._createComponent(e)}super._add(o,i,r,n,s)}_removeComponents(e){e.forEach(i=>{const r=this._find(i);r&&(this.remove(r),r.destroy())})}_adjustPadding(e){if(!e.includes("attribution")&&!this._isOverridden("padding")){const{top:i}=this.padding;this.padding=i}}_addComponents(e){this.constructed&&e.forEach(i=>this.add(this._createComponent(i),this._defaultPositionLookup[i]))}_createComponent(e){const i=this._createWidget(e);return new MM({id:e,node:i})}_createWidget(e){const i=this.view;switch(e){case"attribution":return new mFe({view:i});case"compass":return new wFe({view:i});case"navigation-toggle":return new _Fe({view:i,isDefaultUI:!0});case"zoom":return new TFe({view:i})}}};u([p()],AM.prototype,"components",void 0),AM=u([j("esri.views.ui.DefaultUI")],AM);const Hhe=AM;let OM=class extends Hhe{constructor(e){super(e),this.components=["attribution","zoom"]}};u([p()],OM.prototype,"components",void 0),OM=u([j("esri.views.ui.2d.DefaultUI2D")],OM);const qhe=OM;let kFe=class{constructor(e={},i={},r=8,n=1/0){this.disabledExtensions=e,this.debugWebGLExtensions=i,this.maxAnisotropy=r,this.maxPreferredTexturePixels=n}},Ghe=class v6{constructor(e,i,r=""){this.major=e,this.minor=i,this._context=r}lessThan(e,i){return this.major<e||e===this.major&&this.minor<i}greaterEqual(e,i){return!this.lessThan(e,i)}validate(e){if(this.major!==e.major){const i=this._context&&this._context+":",r=this._context&&this._context+" ";throw new ee(i+"unsupported-version",`Required major ${r}version is '${this.major}', but got '\${version.major}.\${version.minor}'`,{version:e})}}clone(){return new v6(this.major,this.minor,this._context)}static parse(e,i=""){const[r,n]=e.split("."),s=/^\s*\d+\s*$/;if(!r?.match||!s.test(r))throw new ee((i&&i+":")+"invalid-version","Expected major version to be a number, but got '${version}'",{version:e});if(!n?.match||!s.test(n))throw new ee((i&&i+":")+"invalid-version","Expected minor version to be a number, but got '${version}'",{version:e});const o=parseInt(r,10),a=parseInt(n,10);return new v6(o,a,i)}},t_=class extends Ghe{constructor(e,i){super(e,i,"webmap")}};function Az(t){return t!=null&&typeof t=="object"&&"declaredClass"in t&&t.declaredClass==="esri.WebMap"}const Whe=new t_(2,35);var b6;let PM=b6=class extends ge{constructor(t){super(t),this.color=new xt([0,0,0,1])}clone(){return new b6(ne({color:this.color}))}};u([p({type:xt,json:{write:!0}})],PM.prototype,"color",void 0),PM=b6=u([j("esri.webmap.background.ColorBackground")],PM);const u3=PM;let Yhe,Zhe,Jhe,Xhe,Khe,Qhe,epe;async function EFe(){const[,{GraphicsView2D:t,GraphicContainer:e,LabelManager:i,MapViewNavigation:r,MagnifierView2D:n,GridView2D:s,Stage:o}]=await Promise.all([ke(()=>import("./webglDeps-CEXy3Wmw.js"),__vite__mapDeps([195,149,196,197,198,4,42])),ke(()=>import("./mapViewDeps-CqXSGPE6.js"),__vite__mapDeps([199,111,79,80,74,18,4,81,78,82,71,200,201,149,196,197,140,72,202,75,198,42,148,41,203,70,101,204,129,132,20,21,76,86,205,83,84,206,207,8,195,208,96,209,210,128,211,138,139,212,59,69,73,25,24,213,85,214,77,155,156,91,215,87,93,67,216,217,218,219,145,220,221]))]);Zhe=t,Jhe=e,Xhe=i,Khe=r,Qhe=n,epe=s,Yhe=o}var M_;let ei=(M_=class extends Qze(MLe(KMe($Ae(rAe(t5e))))){get timeZone(){return super.timeZone}set timeZone(e){super.timeZone=e}constructor(e){super(e),this._magnifierView=null,this._gridView=null,this.stage=null,this._resolveWhenReady=[],this.rootLayerViews=new cu({getCollections:()=>[this.basemapView?.baseLayerViews,this.layerViews,this.basemapView?.referenceLayerViews],getChildrenFunction:()=>null}),this.featuresTilingScheme=null,this.graphicsView=null,this.labelManager=null,this.navigation=new s3({actionMap:new cB({dragTertiary:"none"})}),this.renderingOptions={samplingMode:"dynamic",edgeLabelsVisible:!0,labelsAnimationTime:125,labelCollisionsEnabled:!0},this.supersampleScreenshotsEnabled=!0,this.analyses=new r1,this.analysisViewManager=new Zje({importAnalysisViewModule:i=>UNe(i),view:this}),this.floors=new We,this.grid=null,this.map=null,this.timeline=new Nhe,this.type="2d",this.view2dType=null,this.ui=new qhe,this.animationsEnabled=!0,this.test={takeScreenshot:async i=>Hje(this._getScreenshotView(i),i)},this.padding={top:0,right:0,bottom:0,left:0},aMe()}destroy(){this.layerViewManager.clear(),this._set("preconditionsReady",!1),this.frameTask=pr(this.frameTask),this.goToManager.destroy(),this.rootLayerViews.destroy(),this.inputManager.destroy(),this._set("inputManager",null)}get graphicsTileStore(){return new KNe(this.featuresTilingScheme)}get constraintsInfo(){const e=this.defaultsFromMap?.tileInfo,i=this.spatialReference;return{lods:e?.spatialReference?.equals(i)?e.lods:null,spatialReference:i}}get initialExtentRequired(){if(!this.stateManager)return!1;const{scale:e,constraints:i,center:r,viewpoint:n,extent:s}=this;let o=this.zoom;return!(this.map&&"initialViewProperties"in this.map&&this.map.initialViewProperties?.viewpoint)&&!s&&(i?.effectiveLODs||(o=-1),(!r||e===0&&o===-1)&&(n?.targetGeometry==null||n.targetGeometry.type!=="extent"&&!n.scale))}get defaultsFromMapSettings(){return{required:{extent:!1,heightModelInfo:!1,tileInfo:!0},requiresExtentInSpatialReference:this.spatialReferenceLocked}}get scheduler(){return this.frameTask.scheduler}get typeSpecificPreconditionsReady(){const e=this._getDefaultViewpoint();if(!e)return!1;const i=e.targetGeometry,r=this.spatialReference;return zle(i.spatialReference,r)}get background(){return Az(this.map)?this.map.initialViewProperties.background:null}set background(e){this._override("background",e)}get center(){return this.stateManager?.center??null}set center(e){this.stateManager.center=e}get constraints(){return super.constraints}set constraints(e){super.constraints=e}get highlightOptions(){return Ije(this)}set highlightOptions(e){Cje(this,e)}get padding(){return this.stateManager?.padding}set padding(e){this.stateManager&&(this.stateManager.padding=e)}get rendering(){return this.stage?.renderRequested??!1}get resizeAlign(){return super.resizeAlign}set resizeAlign(e){super.resizeAlign=e}get resolution(){return this.stateManager.resolution??0}get rotation(){return super.rotation}set rotation(e){super.rotation=e}get scale(){return this.stateManager?.scale??0}set scale(e){this.stateManager&&(this.stateManager.scale=e)}get spatialReference(){return super.spatialReference}set spatialReference(e){super.spatialReference=e}get spatialReferenceLocked(){return this._get("spatialReferenceLocked")}set spatialReferenceLocked(e){this.stage&&Ee.getLogger(this).warn("spatialReferenceLocked cannot be changed after the view has become ready"),this._set("spatialReferenceLocked",e)}get tileInfo(){return this.featuresTilingScheme?.tileInfo}get updating(){const e=!(!this.magnifier.visible||this.magnifier.position===null||!this._magnifierView?.updatingHandles.updating),i=!this.destroyed&&(!this.analysisViewManager||!this.layerViewManager||!this.labelManager||!this.graphicsView||this.analysisViewManager.updating===!0||this.layerViewManager.updating===!0||this.labelManager.updating===!0||this.graphicsView.updating===!0||this.allLayerViews.some(r=>!r.destroyed&&!("layerViews"in r)&&r.updating===!0)||e);if(he("esri-2d-log-updating")){const r=this.allLayerViews.reduce((n,s)=>({...n,[`${s.layer.id}(${s.layer.type})`]:!s.destroyed&&!("layerViews"in s)&&s.updating}),{});console.log(`Updating MapView: ${i}
-> Null LayerViewManager: ${!this.layerViewManager}
-> Null LabelManager: ${!this.labelManager}
-> Null GraphicsView: ${!this.graphicsView}
-> layerViewManager.updating: ${this.layerViewManager?.updating}
-> labelManager.updating: ${this.labelManager?.updating}
-> graphicsView.updating: ${this.graphicsView?.updating}
-> allLayerViews: ${JSON.stringify(r)}
-> updatingMagnifier: ${e}
`)}return i}get viewpoint(){return super.viewpoint}set viewpoint(e){super.viewpoint=e}get visibleArea(){const e=this.stateManager.visibleArea;return e&&new hr({rings:[e.map(i=>[i[0],i[1]])],spatialReference:this.spatialReference})}get zoom(){return this.stateManager.zoom??-1}set zoom(e){this.stateManager.zoom=e}get navigating(){return this.mapViewNavigation?.interacting??!1}async hitTest(e,i){return Mje(this,e,i)}async takeScreenshot(e){return Bje(this._getScreenshotView(e),e)}toScreen(e,i){return this.stateManager.toScreen(e,i)}async whenAnalysisView(e){if(e.parent==null)throw new ee("view:no-analysisview-for-analysis","The analysis does not exist in view.analyses",{analysis:e});return this.analysisViewManager.whenAnalysisView(e)}whenLayerView(e){return super.whenLayerView(e)}graphicChanged(e){this.graphicsView&&this.graphicsView.graphicUpdateHandler(e)}whenReady(){return new Promise(e=>{this.ready?e(this):this._resolveWhenReady.push(e)})}forceDOMReadyCycle(){this.forceReadyCycle()}getDefaultSpatialReference(){return this.map&&"initialViewProperties"in this.map&&this.map.initialViewProperties.spatialReference||this.defaultsFromMap?.spatialReference||null}getDefaultTimeZone(){return Az(this.map)?this.map.initialViewProperties.timeZone:null}getDefaultTimeExtent(){return Az(this.map)?this.map.initialViewProperties.timeExtent:null}getSurface(){return this.surface}hasLayerViewModule(e){return OX.hasLayerViewModule(e)}importLayerView(e){return OX.importLayerView(e)}pixelSizeAt(){return this.ready?this.resolution:(Ee.getLogger(this).error("#pixelSizeAt()","Map view cannot be used before it is ready"),null)}async popupHitTest(e){const i=this.toMap(e),r=await this.hitTest(e),n=this.allLayerViews.toArray().filter(h=>h.clips.every(f=>Ehe(this,f,e,i))).reverse(),s=new globalThis.Map(n.map(h=>[h.layer.uid,h])),o=[];let a=0,l=0;for(;a<r.results.length||l<n.length;){const h=r.results.at(a);if(h&&h.type!=="graphic"){++a;continue}const f=s.get((h?.layer??h?.graphic.layer)?.uid);if((!h||f)&&l<n.length&&n.at(l)!==f){const g=n.at(l);"fetchPopupFeaturesAtLocation"in g&&o.push({mapPoint:i,layerView:g}),++l}else h&&(o.push({graphic:h.graphic,layerView:f}),++a)}return{hits:o,location:i}}requestUpdate(){this.ready&&this.frameTask.requestUpdate()}async validate(){let e=iFe(this.type);if(he("safari")&&he("safari")<9&&(e=new ee("mapview:browser-not-supported","This browser is not supported by MapView (Safari < 9)",{type:"safari",requiredVersion:9,detectedVersion:he("safari")})),e!=null)throw Ee.getLogger(this).warn("#validate()",e.message),e}loadAsyncDependencies(){return EFe()}_getDefaultViewpoint(){const{constraints:e,initialExtent:i,map:r,padding:n,size:s}=this;if(!e)return null;const o=r&&"initialViewProperties"in r?r.initialViewProperties:void 0,a=this.stateManager.getUserStartupOptions(this.size),l=o?.viewpoint,h=l?.targetGeometry?.extent??i,f=h?.center,g=l?.rotation??0,v=l?.scale||h&&a3(h,[s[0]-n.left-n.right,s[1]-n.top-n.bottom]),w=a.center??f,S=a.rotation??g,T=a.scale??v;return w&&T?new Vn({targetGeometry:w,scale:T,rotation:S}):null}_startup(){this.timeline.begin("MapView Startup");const e=this._getDefaultViewpoint();this.stateManager.startup(e,this.size,this.spatialReference,this.defaultsFromMap.extent?.center),this.graphics.owner=this;const i=new BNe(this.surface),r=new Yhe(this.surface,{canvas:this.renderCanvas,contextOptions:new kFe(this.deactivatedWebGLExtensions,this.debugWebGLExtensions),renderingOptions:this.renderingOptions,timeline:this.timeline},i);this.stage=r,this._magnifierView=new Qhe,this._magnifierView.magnifier=this.magnifier,this._gridView=new epe;const n=new Xhe({view:this});this._set("labelManager",n);const s=new ANe({view:this});this._set("animationManager",s);const o=new Khe({view:this,animationManager:s});this._set("mapViewNavigation",o),this._setupSpatialReferenceDependentProperties(),this.addHandles([this.rootLayerViews.on("change",()=>this._updateStageChildren()),r.on("webgl-error",l=>this.fatalError=l.error),ft(()=>this.stationary,l=>r.stationary=l,to),ft(()=>this.background,l=>{r.backgroundColor=l?.color,this._magnifierView.backgroundColor=l?.color},to),ft(()=>this.magnifier,l=>this._magnifierView.magnifier=l,to),ft(()=>this.grid,l=>this._gridView.grid=l,to),ft(()=>this.renderingOptions,l=>r.renderingOptions=l,to),ft(()=>this.highlights.items.map(l=>({name:l.name,options:{fillColor:l.color,haloColor:l.haloColor,fillOpacity:l.fillOpacity,haloOpacity:l.haloOpacity,haloWidth:l.haloWidth,haloBlur:l.haloBlur}})),()=>{r.highlightGradient=kje(r.highlightGradient,this.highlights.items)},to),ft(()=>this.state.id,()=>r.state=this.state,to),ft(()=>this.animationsEnabled,l=>{this.stage.animationsEnabled=l},to)],"map-view"),this._updateStageChildren();const a=this._resolveWhenReady;this._resolveWhenReady=[],a.forEach(l=>l(this)),this.timeline.end("MapView Startup"),this.frameTask.start(),this._set("ready",!0)}_teardown(){this._destroySpatialReferenceDependentProperties(),this.removeHandles("map-view"),this.mapViewNavigation.destroy(),this._set("mapViewNavigation",null),this.animation=null,this.animationManager.destroy(),this._set("animationManager",null),this.layerViewManager.clear(),this.labelManager.destroy(),this._magnifierView.destroy(),this._gridView.destroy(),this.stage.destroy(),this.stage=null,this._set("graphicsView",null),this._magnifierView=null,this._gridView=null,this._set("labelManager",null),this._set("mapViewNavigation",null),this.graphics.owner=null,this.frameTask.stop(),this.stationaryManager.clear(),this._set("ready",!1),this.stateManager.teardown()}_updateStageChildren(){this.stage.removeAllChildren(),this.rootLayerViews.forEach(i=>{this.stage.addChild(i.container)});const e=this.graphicsView;this.stage.addChild(e.container),this.stage.addChild(this._magnifierView),this.stage.addChild(this._gridView)}_setupSpatialReferenceDependentProperties(){const e=new zNe(yo.create({spatialReference:this.spatialReference,size:512,numLODs:36}));this._set("featuresTilingScheme",e);const i=new Zhe({view:this,graphics:this.graphics,requestUpdateCallback:()=>this.requestUpdate(),container:new Jhe(e)});this._set("graphicsView",i)}_destroySpatialReferenceDependentProperties(){const e=this.graphicsView;this._set("graphicsView",null),e.destroy(),this._set("featuresTilingScheme",null)}_getScreenshotView(e){const{allLayerViews:i,padding:r,size:n,stage:s}=this;return{allLayerViews:i,backgroundColor:e?.ignoreBackground?null:this.background?.color,padding:r,size:n,stage:s}}_spatialReferenceChanged(e){if(this.ready){this.frameTask.stop();for(const i of this.allLayerViews)i.processDetach();this._destroySpatialReferenceDependentProperties(),this.stateManager.changeSpatialReference(e),this.stage.state=this.state,this._setupSpatialReferenceDependentProperties();for(const i of this.allLayerViews)i.processAttach();this.frameTask.requestFrame(),this.frameTask.start(),this._updateStageChildren()}}},M_.type="2d",M_);u([p({constructOnly:!0})],ei.prototype,"deactivatedWebGLExtensions",void 0),u([p({constructOnly:!0})],ei.prototype,"debugWebGLExtensions",void 0),u([p({readOnly:!0})],ei.prototype,"featuresTilingScheme",void 0),u([p({readOnly:!0})],ei.prototype,"graphicsTileStore",null),u([p()],ei.prototype,"graphicsView",void 0),u([p()],ei.prototype,"constraintsInfo",null),u([p()],ei.prototype,"initialExtentRequired",null),u([p()],ei.prototype,"labelManager",void 0),u([p({type:s3,nonNullable:!0})],ei.prototype,"navigation",void 0),u([p({constructOnly:!0})],ei.prototype,"renderCanvas",void 0),u([p()],ei.prototype,"renderingOptions",void 0),u([p({constructOnly:!0})],ei.prototype,"supersampleScreenshotsEnabled",void 0),u([p()],ei.prototype,"defaultsFromMapSettings",null),u([p({readOnly:!0})],ei.prototype,"typeSpecificPreconditionsReady",null),u([p(fF(r1,"analyses"))],ei.prototype,"analyses",void 0),u([p()],ei.prototype,"analysisViewManager",void 0),u([p({type:u3})],ei.prototype,"background",null),u([p()],ei.prototype,"center",null),u([p({type:We})],ei.prototype,"floors",void 0),u([p()],ei.prototype,"grid",void 0),u([p({type:Lm})],ei.prototype,"highlightOptions",null),u([p()],ei.prototype,"map",void 0),u([p()],ei.prototype,"padding",null),u([p({readOnly:!0})],ei.prototype,"rendering",null),u([p({readOnly:!0})],ei.prototype,"resolution",null),u([p()],ei.prototype,"scale",null),u([p({type:Boolean,value:!1})],ei.prototype,"spatialReferenceLocked",null),u([p({readOnly:!0})],ei.prototype,"tileInfo",null),u([p({type:Nhe,readOnly:!0})],ei.prototype,"timeline",void 0),u([p({readOnly:!0})],ei.prototype,"type",void 0),u([p({readOnly:!0})],ei.prototype,"updating",null),u([p({readOnly:!0})],ei.prototype,"view2dType",void 0),u([p({readOnly:!0})],ei.prototype,"visibleArea",null),u([p()],ei.prototype,"zoom",null),u([p({readOnly:!0})],ei.prototype,"navigating",null),u([p(),bi(t=>t instanceof Hhe?t:N$(qhe,t))],ei.prototype,"ui",void 0),u([p()],ei.prototype,"animationsEnabled",void 0),ei=u([j("esri.views.View2D")],ei);const IFe=ei;let DM=class extends IFe{constructor(e){super(e),this.view2dType="map"}};u([p({readOnly:!0})],DM.prototype,"view2dType",void 0),DM=u([j("esri.views.MapView")],DM);const CFe=DM;let MFe=class tpe{constructor(){this._propertyOriginMap=new Map,this._originStores=new Array(qN),this._values=new Map,this.multipleOriginsSupported=!0}clone(e){const i=new tpe,r=this._originStores[0];r&&r.forEach((n,s)=>{i.set(s,ne(n),0)});for(let n=2;n<qN;n++){const s=this._originStores[n];s&&s.forEach((o,a)=>{e&&e.has(a)||i.set(a,ne(o),n)})}return i}get(e,i){const r=i===void 0?this._values:this._originStores[i];return r?r.get(e):void 0}keys(e){const i=e==null?this._values:this._originStores[e];return i?[...i.keys()]:[]}set(e,i,r=7){let n=this._originStores[r];if(n||(n=new Map,this._originStores[r]=n),n.set(e,i),!this._values.has(e)||this._propertyOriginMap.get(e)<=r){const s=this._values.get(e);return this._values.set(e,i),this._propertyOriginMap.set(e,r),s!==i}return!1}delete(e,i=7){const r=this._originStores[i];if(!r)return;const n=r.get(e);if(r.delete(e),this._values.has(e)&&this._propertyOriginMap.get(e)===i){this._values.delete(e);for(let s=i-1;s>=0;s--){const o=this._originStores[s];if(o&&o.has(e)){this._values.set(e,o.get(e)),this._propertyOriginMap.set(e,s);break}}}return n}has(e,i){const r=i===void 0?this._values:this._originStores[i];return!!r&&r.has(e)}revert(e,i){for(;i>0&&!this.has(e,i);)--i;const r=this._originStores[i],n=r?.get(e),s=this._values.get(e);return this._values.set(e,n),this._propertyOriginMap.set(e,i),s!==n}originOf(e){return this._propertyOriginMap.get(e)||0}isAtOrigin(e,i){return this.has(e,i)&&this.originOf(e)===i}isBelowOrigin(e,i){return!this.has(e)||this.originOf(e)<i}forEach(e){this._values.forEach(e)}};const ipe=t=>{const e=t;let i=class extends e{constructor(...r){super(...r);const n=zo(this),s=n.store,o=new MFe;n.store=o,ore(n,s,o)}read(r,n){lre(this,r,n)}getAtOrigin(r,n){const s=Oz(this),o=bp(n);if(typeof r=="string")return s.get(r,o);const a={};return r.forEach(l=>{a[l]=s.get(l,o)}),a}originOf(r){return S2(this.originIdOf(r))}originIdOf(r){return Oz(this).originOf(r)}revert(r,n){const s=Oz(this),o=bp(n),a=zo(this);let l;l=typeof r=="string"?r==="*"?s.keys(o):[r]:r,l.forEach(h=>{a.invalidate(h),s.revert(h,o),a.commit(h)})}};return i=u([j("esri.core.ReadOnlyMultiOriginJSONSupport")],i),i};function Oz(t){return zo(t).store}ipe(at);const AFe=t=>{const e=t;let i=class extends e{constructor(...r){super(...r)}clear(r,n="user"){zo(this).clearOrigin(r,bp(n))}write(r,n){return dre(this,r=r||{},n),r}setAtOrigin(r,n,s){zo(this).setAtOrigin(r,n,bp(s))}removeOrigin(r){const n=iK(this),s=bp(r),o=n.keys(s);for(const a of o)n.originOf(a)===s&&n.set(a,n.get(a,s),7)}updateOrigin(r,n){const s=iK(this),o=bp(n),a=du(this,r);for(let l=o+1;l<qN;++l)s.delete(r,l);s.set(r,a,o)}toJSON(r){return this.write({},r)}};return i=u([j("esri.core.MultiOriginJSONSupport.WriteableMultiOriginJSONSupport")],i),i.prototype.toJSON.isDefaultToJSON=!0,i};function iK(t){return zo(t).store}const d3=t=>{const e=AFe(ipe(t));let i=class extends e{};return i=u([j("esri.core.MultiOriginJSONSupport")],i),i},OFe=d3(at);async function PFe(t){const e=t.spatialReference;if(e.isWGS84)return t.clone();if(e.isWebMercator)return kw(t);const i=Ke.WGS84;return await zU(e,i),rg(t,i)}function DFe(t,e){if(!xB(t,e)){const i=t.typeKeywords;i?i.push(e):t.typeKeywords=[e]}}function xB(t,e){return!!t.typeKeywords?.includes(e)}function Wut(t){return xB(t,SB.HOSTED_SERVICE)}function RFe(t,e){const i=t.typeKeywords;if(i){const r=i.indexOf(e);r>-1&&i.splice(r,1)}}function Yut(t,e,i){i?DFe(t,e):RFe(t,e)}async function Zut(t){const e=t.clone().normalize();let i;if(e.length>1)for(const r of e)i?r.width>i.width&&(i=r):i=r;else i=e[0];return PFe(i)}const SB={CHARTS:"Charts",DYNAMIC:"Dynamic",DEVELOPER_BASEMAP:"DeveloperBasemap",GROUP_LAYER_MAP:"Map",HOSTED_SERVICE:"Hosted Service",JSAPI:"ArcGIS API for JavaScript",METADATA:"Metadata",MULTI_LAYER:"Multilayer",ORIENTED_IMAGERY_LAYER:"OrientedImageryLayer",SINGLE_LAYER:"Singlelayer",SUBTYPE_GROUP_LAYER:"SubtypeGroupLayer",SUBTYPE_GROUP_TABLE:"SubtypeGroupTable",TABLE:"Table",TILED_IMAGERY:"Tiled Imagery"};function LFe(t){const{portal:e,isOrgItem:i,itemControl:r}=t,n=e.user?.privileges;let s=!n||n.includes("features:user:edit"),o=!!i&&!!n?.includes("features:user:fullEdit");const a=r==="update"||r==="admin";return a?o=s=!0:o&&(s=!0),{features:{edit:s,fullEdit:o},content:{updateItem:a}}}let Jf=class extends ge{constructor(e){super(e),this.facilityIdField=null,this.layerId=null,this.nameField=null,this.siteIdField=null,this.sublayerId=null}};u([p({type:String,json:{write:{isRequired:!0}}})],Jf.prototype,"facilityIdField",void 0),u([p({type:String,json:{write:{isRequired:!0}}})],Jf.prototype,"layerId",void 0),u([p({type:String,json:{write:{isRequired:!0}}})],Jf.prototype,"nameField",void 0),u([p({type:String,json:{write:!0}})],Jf.prototype,"siteIdField",void 0),u([p({type:Number,json:{read:{source:"subLayerId"},write:{target:"subLayerId"},origins:{"web-scene":{read:!1,write:!1}}}})],Jf.prototype,"sublayerId",void 0),Jf=u([j("esri.layers.support.FacilityLayerInfo")],Jf);const zFe=Jf;let Gc=class extends ge{constructor(e){super(e),this.facilityIdField=null,this.layerId=null,this.levelIdField=null,this.levelNumberField=null,this.longNameField=null,this.shortNameField=null,this.sublayerId=null,this.verticalOrderField=null}};u([p({type:String,json:{write:{isRequired:!0}}})],Gc.prototype,"facilityIdField",void 0),u([p({type:String,json:{write:{isRequired:!0}}})],Gc.prototype,"layerId",void 0),u([p({type:String,json:{write:{isRequired:!0}}})],Gc.prototype,"levelIdField",void 0),u([p({type:String,json:{write:{isRequired:!0}}})],Gc.prototype,"levelNumberField",void 0),u([p({type:String,json:{write:{isRequired:!0}}})],Gc.prototype,"longNameField",void 0),u([p({type:String,json:{write:{isRequired:!0}}})],Gc.prototype,"shortNameField",void 0),u([p({type:Number,json:{read:{source:"subLayerId"},write:{target:"subLayerId"},origins:{"web-scene":{read:!1,write:!1}}}})],Gc.prototype,"sublayerId",void 0),u([p({type:String,json:{write:{isRequired:!0}}})],Gc.prototype,"verticalOrderField",void 0),Gc=u([j("esri.layers.support.LevelLayerInfo")],Gc);const NFe=Gc;let yy=class extends ge{constructor(e){super(e),this.layerId=null,this.nameField=null,this.siteIdField=null,this.sublayerId=null}};u([p({type:String,json:{write:{isRequired:!0}}})],yy.prototype,"layerId",void 0),u([p({type:String,json:{write:{isRequired:!0}}})],yy.prototype,"nameField",void 0),u([p({type:String,json:{write:{isRequired:!0}}})],yy.prototype,"siteIdField",void 0),u([p({type:Number,json:{read:{source:"subLayerId"},write:{target:"subLayerId"},origins:{"web-scene":{read:!1,write:!1}}}})],yy.prototype,"sublayerId",void 0),yy=u([j("esri.layers.support.SiteLayerInfo")],yy);const jFe=yy;let B0=class extends ge{constructor(e){super(e),this.levelLayer=null,this.facilityLayer=null,this.siteLayer=null}};u([p({type:NFe,json:{write:{isRequired:!0}}})],B0.prototype,"levelLayer",void 0),u([p({type:zFe,json:{write:{isRequired:!0}}})],B0.prototype,"facilityLayer",void 0),u([p({type:jFe,json:{write:!0}})],B0.prototype,"siteLayer",void 0),B0=u([j("esri.support.MapFloorInfo")],B0);const FFe=B0;var w6;let H0=w6=class extends ge{constructor(t){super(t),this.activeRange=null,this.currentRangeExtent=null,this.fullRangeExtent=null}clone(){return new w6(ne({activeRange:this.activeRange,currentRangeExtent:this.currentRangeExtent,fullRangeExtent:this.fullRangeExtent}))}};u([p({type:String,nonNullable:!0,json:{read:{source:"activeRangeName"},write:{target:"activeRangeName",isRequired:!0}}})],H0.prototype,"activeRange",void 0),u([p({type:[Number],json:{write:!0}})],H0.prototype,"currentRangeExtent",void 0),u([p({type:[Number],json:{write:!0}})],H0.prototype,"fullRangeExtent",void 0),H0=w6=u([j("esri.webdoc.RangeInfo")],H0);const TB=H0;var _6;let td=_6=class extends ge{constructor(t){super(t),this.enabled=!1,this.longNames=!1,this.minimized=!1,this.pinnedLevels=!1,this.site=null,this.facility=null,this.level=null}clone(){return new _6(ne({enabled:this.enabled,longNames:this.longNames,minimized:this.minimized,pinnedLevels:this.pinnedLevels,site:this.site,facility:this.facility,level:this.level}))}};u([p({type:Boolean,json:{read:{source:"enabled"},write:{target:"enabled"}}})],td.prototype,"enabled",void 0),u([p({type:Boolean,json:{read:{source:"longNames"},write:{target:"longNames"}}})],td.prototype,"longNames",void 0),u([p({type:Boolean,json:{read:{source:"minimized"},write:{target:"minimized"}}})],td.prototype,"minimized",void 0),u([p({type:Boolean,json:{read:{source:"pinnedLevels"},write:{target:"pinnedLevels"}}})],td.prototype,"pinnedLevels",void 0),u([p({type:String,json:{read:{source:"site"},write:{target:"site"}}})],td.prototype,"site",void 0),u([p({type:String,json:{read:{source:"facility"},write:{target:"facility"}}})],td.prototype,"facility",void 0),u([p({type:String,json:{read:{source:"level"},write:{target:"level"}}})],td.prototype,"level",void 0),td=_6=u([j("esri.webdoc.widgets.FloorFilter")],td);const VFe=td;var x6;const CI=new At({slider:"slider",picker:"picker"});let q0=x6=class extends ge{constructor(t){super(t),this.interactionMode=null,this.numStops=null,this.stopInterval=null}clone(){return new x6({interactionMode:this.interactionMode,numStops:this.numStops,stopInterval:this.stopInterval})}};u([p({type:CI.apiValues,nonNullable:!0,json:{type:CI.jsonValues,default:null,read:{reader:CI.read},write:{isRequired:!0,writer:CI.write}}})],q0.prototype,"interactionMode",void 0),u([p({type:Ht,json:{read:{source:"numberOfStops"},write:{target:"numberOfStops",overridePolicy(){const t=this.stopInterval!=null;return{enabled:!t,isRequired:!t}}}}})],q0.prototype,"numStops",void 0),u([p({type:Number,json:{write:{overridePolicy(){return{isRequired:this.numStops==null}}}}})],q0.prototype,"stopInterval",void 0),q0=x6=u([j("esri.webdoc.widgets.Range")],q0);const UFe=q0,$B=En()({esriTimeUnitsMilliseconds:"milliseconds",esriTimeUnitsSeconds:"seconds",esriTimeUnitsMinutes:"minutes",esriTimeUnitsHours:"hours",esriTimeUnitsDays:"days",esriTimeUnitsWeeks:"weeks",esriTimeUnitsMonths:"months",esriTimeUnitsYears:"years",esriTimeUnitsDecades:"decades",esriTimeUnitsCenturies:"centuries",esriTimeUnitsUnknown:void 0});let mu=class extends dt(ge){constructor(e){super(e),this.unit="milliseconds",this.value=0}toMilliseconds(){return ece(this.value,this.unit,"milliseconds")}};u([nt($B,{nonNullable:!0})],mu.prototype,"unit",void 0),u([p({type:Number,json:{write:!0},nonNullable:!0})],mu.prototype,"value",void 0),mu=u([j("esri.time.TimeInterval")],mu);var S6;let Mn=S6=class extends ge{constructor(t){super(t),this.currentTimeExtent=null,this.fullTimeExtent=null,this.loop=!1,this.numStops=null,this.numThumbs=null,this.stopDelay=null,this.stopInterval=null,this.stops=null}readCurrentTimeExtent(t){return t?Oi.fromArray(t):void 0}writeCurrentTimeExtent(t,e,i){t&&Kr(i,t.toArray(),e)}readFullTimeExtent(t,e){const i=e.properties;if(!i)return;const r=i.endTime!=null?new Date(i.endTime):null,n=i.startTime!=null?new Date(i.startTime):null;return new Oi({start:n,end:r})}writeFullTimeExtent(t,e){if(!t)return;const i=e.properties=e.properties||{},r=t.end,n=t.start;r&&(i.endTime=r!=null?r.getTime():null),n&&(i.startTime=n!=null?n.getTime():null)}readStopInterval(t,e,i){return t?mu.fromJSON({value:t.interval,unit:t.units},i):null}writeStopInterval(t,e,i,r){if(!t)return;const n=t.toJSON(r);Kr("properties.timeStopInterval",{interval:n.value,units:n.unit},e)}readStops(t){return t?.length?t.map(e=>new Date(e)):null}writeStops(t,e,i){t?.length&&Kr(i,t.map(r=>r.getTime()),e)}clone(){return new S6(ne({currentTimeExtent:this.currentTimeExtent,fullTimeExtent:this.fullTimeExtent,loop:this.loop,numStops:this.numStops,numThumbs:this.numThumbs,stopDelay:this.stopDelay,stopInterval:this.stopInterval,stops:this.stops}))}};u([p({type:Oi,json:{type:[[Ht,x1]],read:{source:"properties.currentTimeExtent"},write:{target:"properties.currentTimeExtent"}}})],Mn.prototype,"currentTimeExtent",void 0),u([Ae("currentTimeExtent")],Mn.prototype,"readCurrentTimeExtent",null),u([ze("currentTimeExtent")],Mn.prototype,"writeCurrentTimeExtent",null),u([p({type:Oi,json:{read:{source:["properties.endTime","properties.startTime"]},write:{target:{"properties.endTime":{type:Number},"properties.startTime":{type:Number}}}}})],Mn.prototype,"fullTimeExtent",void 0),u([Ae("fullTimeExtent")],Mn.prototype,"readFullTimeExtent",null),u([ze("fullTimeExtent")],Mn.prototype,"writeFullTimeExtent",null),u([p({type:Boolean,nonNullable:!0,json:{default:!1,read:{source:"properties.loop"},write:{target:"properties.loop"}}})],Mn.prototype,"loop",void 0),u([p({type:Ht,json:{read:{source:"properties.numberOfStops"},write:{target:"properties.numberOfStops",overridePolicy(){const t=!!this.stopInterval,e=!!this.stops?.length,i=!(t||e);return{enabled:i,isRequired:i}}}}})],Mn.prototype,"numStops",void 0),u([p({type:[1,2],nonNullable:!0,json:{type:Ht,read:{source:"properties.thumbCount"},write:{target:"properties.thumbCount",isRequired:!0}}})],Mn.prototype,"numThumbs",void 0),u([p({type:Number,nonNullable:!0,json:{read:{source:"properties.thumbMovingRate"},write:{target:"properties.thumbMovingRate",isRequired:!0}}})],Mn.prototype,"stopDelay",void 0),u([p({type:mu,json:{read:{source:"properties.timeStopInterval"},write:{target:{"properties.timeStopInterval.interval":{type:Number},"properties.timeStopInterval.units":{type:$B.jsonValues.filter(t=>t!=="esriTimeUnitsUnknown")}},overridePolicy(){const t=this.numStops!=null,e=!!this.stops?.length;return{enabled:!e,isRequired:!(t||e)}}}}})],Mn.prototype,"stopInterval",void 0),u([Ae("stopInterval")],Mn.prototype,"readStopInterval",null),u([ze("stopInterval")],Mn.prototype,"writeStopInterval",null),u([p({type:[Date],json:{type:[Ht],read:{source:"properties.stops"},write:{target:"properties.stops",overridePolicy(){return{isRequired:this.numStops==null&&!this.stopInterval}}}}})],Mn.prototype,"stops",void 0),u([Ae("stops")],Mn.prototype,"readStops",null),u([ze("stops")],Mn.prototype,"writeStops",null),Mn=S6=u([j("esri.webdoc.widgets.TimeSlider")],Mn);const BFe=Mn;var T6;let G0=T6=class extends ge{constructor(t){super(t),this.range=null,this.timeSlider=null,this.floorFilter=null}clone(){return new T6(ne({range:this.range,timeSlider:this.timeSlider,floorFilter:this.floorFilter}))}};u([p({type:UFe,json:{write:!0}})],G0.prototype,"range",void 0),u([p({type:BFe,json:{write:!0}})],G0.prototype,"timeSlider",void 0),u([p({type:VFe,json:{write:!0}})],G0.prototype,"floorFilter",void 0),G0=T6=u([j("esri.webdoc.Widgets")],G0);const HFe=G0,qFe={width:600,height:400},MI=1.5;function GFe(t,e){e=e||qFe;let{width:i,height:r}=e;const n=i/r;return n<MI?r=i/MI:n>MI&&(i=r*MI),i>t.width&&(r*=t.width/i,i=t.width),r>t.height&&(i*=t.height/r,r=t.height),{width:Math.round(i),height:Math.round(r)}}function WFe(t,e){return{...rpe(t,e),readResourcePaths:[]}}function tdt(t,e,i){const r=Qr(t.itemUrl);return{...rpe(t,e),messages:[],writtenProperties:[],blockedRelativeUrls:[],verifyItemRelativeUrls:r?{rootPath:r.path,writtenUrls:[]}:null,resources:i?{toAdd:[],toUpdate:[],toKeep:[],pendingOperations:[]}:null}}function rpe(t,e){return{origin:e,url:Qr(t.itemUrl),portal:t.portal||Le.getDefault(),portalItem:t}}let am=class extends ge{constructor(e){super(e),this.geometries=[],this.outSpatialReference=null,this.transformation=null,this.transformForward=null}toJSON(){const e=this.geometries.map(n=>n.toJSON()),i=this.geometries[0],r={};return r.outSR=JA(this.outSpatialReference),r.inSR=JA(i.spatialReference),r.geometries=JSON.stringify({geometryType:D1(i),geometries:e}),this.transformation&&(r.transformation=this.transformation.wkid||JSON.stringify(this.transformation)),this.transformForward!=null&&(r.transformForward=this.transformForward),r}};u([p()],am.prototype,"geometries",void 0),u([p({type:Ke,json:{read:{source:"outSR"}}})],am.prototype,"outSpatialReference",void 0),u([p()],am.prototype,"transformation",void 0),u([p()],am.prototype,"transformForward",void 0),am=u([j("esri.rest.support.ProjectParameters")],am);const YFe=tn(am);async function ZFe(t,e,i){e=YFe(e);const r=$de(t),n={...r.query,f:"json",...e.toJSON()},s=e.outSpatialReference,o=D1(e.geometries[0]),a=$5e(n,i);return Vt(r.path+"/project",a).then(({data:{geometries:l}})=>kde(l,o,s))}function JFe(t,e){return e.resourceInfo?npe(e,e.resourceInfo,{origin:t.origin}):e.portalItem?.id?XFe(t,e,e.portalItem):Promise.resolve()}function npe(t,e,i){const r={context:{...i,layerContainerType:"operational-layers"}};return t.portalItem&&(r.context.portal=t.portalItem.portal||Le.getDefault()),ke(async()=>{const{populateOperationalLayers:n}=await import("./layersCreator-CiKRSslc.js");return{populateOperationalLayers:n}},__vite__mapDeps([179,176,175,174,177,173])).then(({populateOperationalLayers:n})=>{const s=[],o=e.operationalLayers;o?.length&&s.push(n(t.layers,o,r));const a={...r,context:{...r.context,layerContainerType:"tables"},defaultLayerType:"ArcGISFeatureLayer"},l=e.tables;return l?.length&&s.push(n(t.tables,l,a)),Promise.allSettled(s).then(()=>{})})}async function XFe(t,e,i){if(await i.load().catch(o=>{throw new ee(`${t.name}:load-portal-item`,"Failed to load portal item",{error:o})}),i.type!==t.itemType)throw new ee(`${t.name}:invalid-portal-item`,`Invalid portal item type '${i.type}', expected '${t.itemType}'`,{type:i.type});const r=await i.fetchData();e.resourceInfo=r;const n=WFe(i,t.origin);await KFe(t,e,r,n),e.resourceReferences={portalItem:i,paths:n.readResourcePaths};const s=await e4e(e.initialViewProperties,i,Ee.getLogger(e));if(s){const o=e.initialViewProperties?.clone()??t.createInitialViewProperties();o.viewpoint=s,e.initialViewProperties=o}}function KFe(t,e,i,r){const n=QFe(t,i);return e.read(n,r),npe(e,n,r)}function QFe(t,e){const i=t.parseVersion(e.version||"",t.name);return t.currentVersion.validate(i),e.version=`${i.major}.${i.minor}`,e}async function e4e(t,e,i){if(t?.viewpoint?.targetGeometry)return null;const n=await t4e(t,e,i);return n?new Vn({targetGeometry:n}):null}async function t4e(t,e,i){const r=t?.spatialReference,n=e?.extent;if(!r||!n)return null;if(r.isWGS84)return n.clone();if(r.isWebMercator)return Rm(n);const{getGeometryServiceURL:s}=await ke(()=>import("./geometryServiceUtils-Cb-TaW8f.js"),[]);try{const o=await s(e),a=new am({geometries:[n],outSpatialReference:r});return(await ZFe(o,a))[0]}catch(o){i.error("Error projecting item's extent:",o)}return null}function rK(t){return{enabled:!!t?.length}}var $6;let W0=$6=class extends ge{constructor(t){super(t),this.exactMatch=!1,this.name=null,this.type=null}clone(){return new $6({exactMatch:this.exactMatch,type:this.type,name:this.name})}};u([p({type:Boolean,json:{write:!0}})],W0.prototype,"exactMatch",void 0),u([p({type:String,json:{write:!0}})],W0.prototype,"name",void 0),u([nt(aB)],W0.prototype,"type",void 0),W0=$6=u([j("esri.webdoc.applicationProperties.SearchLayerField")],W0);const i4e=W0;var k6;let Y0=k6=class extends ge{constructor(t){super(t),this.field=null,this.id=null,this.subLayer=null}clone(){return new k6(ne({field:this.field,id:this.id,subLayer:this.subLayer}))}};u([p({type:i4e,json:{write:{isRequired:!0}}})],Y0.prototype,"field",void 0),u([p({type:String,json:{write:{isRequired:!0}}})],Y0.prototype,"id",void 0),u([p({type:Ht,json:{write:!0}})],Y0.prototype,"subLayer",void 0),Y0=k6=u([j("esri.webdoc.applicationProperties.SearchLayer")],Y0);const r4e=Y0;var E6;let Z0=E6=class extends ge{constructor(t){super(t),this.exactMatch=!1,this.name=null,this.type=null}clone(){return new E6({exactMatch:this.exactMatch,type:this.type,name:this.name})}};u([p({type:Boolean,json:{write:!0}})],Z0.prototype,"exactMatch",void 0),u([p({type:String,json:{write:!0}})],Z0.prototype,"name",void 0),u([nt(aB)],Z0.prototype,"type",void 0),Z0=E6=u([j("esri.webdoc.applicationProperties.SearchTableField")],Z0);const n4e=Z0;var I6;let JS=I6=class extends ge{constructor(t){super(t),this.field=null,this.id=null}clone(){return new I6(ne({field:this.field,id:this.id}))}};u([p({type:n4e,json:{write:{isRequired:!0}}})],JS.prototype,"field",void 0),u([p({type:String,json:{write:{isRequired:!0}}})],JS.prototype,"id",void 0),JS=I6=u([j("esri.webdoc.applicationProperties.SearchTable")],JS);const s4e=JS;var C6;const spe=We.ofType(r4e),ope=We.ofType(s4e);let id=C6=class extends ge{constructor(t){super(t),this.addressSearchEnabled=!0,this.enabled=!0,this.hintText=null,this.layers=new spe,this.tables=new ope}readAddressSearchEnabled(t){return!t}writeAddressSearchEnabled(t,e,i){e[i]=!t}clone(){return new C6(ne({addressSearchEnabled:this.addressSearchEnabled,enabled:this.enabled,hintText:this.hintText,layers:this.layers,tables:this.tables}))}};u([p({type:Boolean,nonNullable:!0,json:{read:{source:"disablePlaceFinder"},write:{target:"disablePlaceFinder",isRequired:!0},origins:{"web-scene":{read:!1,write:!1}}}})],id.prototype,"addressSearchEnabled",void 0),u([Ae("addressSearchEnabled")],id.prototype,"readAddressSearchEnabled",null),u([ze("addressSearchEnabled")],id.prototype,"writeAddressSearchEnabled",null),u([p({type:Boolean,nonNullable:!0,json:{write:!0,origins:{"web-map":{write:{isRequired:!0}},"web-scene":{default:!0,write:!0}}}})],id.prototype,"enabled",void 0),u([p({type:String,json:{write:!0}})],id.prototype,"hintText",void 0),u([p({type:spe,json:{write:{overridePolicy:rK},origins:{"web-scene":{write:{isRequired:!0}}}}})],id.prototype,"layers",void 0),u([p({type:ope,json:{read:!0,write:{overridePolicy:rK}}})],id.prototype,"tables",void 0),id=C6=u([j("esri.webdoc.applicationProperties.Search")],id);const o4e=id;var M6;let RM=M6=class extends ge{constructor(t){super(t),this.search=null}clone(){return new M6(ne({search:this.search}))}};u([p({type:o4e,json:{write:!0}})],RM.prototype,"search",void 0),RM=M6=u([j("esri.webdoc.applicationProperties.Viewing")],RM);const a4e=RM;var A6;let J0=A6=class extends ge{constructor(t){super(t),this.editing=null,this.offline=null,this.viewing=null}clone(){return new A6(ne({editing:this.editing,offline:this.offline,viewing:this.viewing}))}};u([p({json:{write:!0}})],J0.prototype,"editing",void 0),u([p({json:{write:!0}})],J0.prototype,"offline",void 0),u([p({type:a4e,json:{write:!0}})],J0.prototype,"viewing",void 0),J0=A6=u([j("esri.webmap.ApplicationProperties")],J0);const l4e=J0;var O6;let fp=O6=class extends ge{constructor(){super(...arguments),this.url=""}destroy(){this.url=""}get isSecureUrl(){return wre(this.url)}get isDataURI(){return Np(this.url)}clone(){return new O6({url:this.url})}};u([p({type:String,json:{write:{isRequired:!0}}})],fp.prototype,"url",void 0),u([p()],fp.prototype,"isSecureUrl",null),u([p()],fp.prototype,"isDataURI",null),fp=O6=u([j("esri.webdoc.support.SlideThumbnail")],fp);const c4e={type:Oi,json:{read:{source:"timeExtent",reader:t=>t?Array.isArray(t)?Oi.fromArray(t):Oi.fromJSON(t):null},write:{writer:(t,e,i,r)=>{t&&(t.isEmpty?r?.messages&&r.messages.push(new ee("invalid-timeExtent","TimeExtent cannot be empty")):e[i]=t.toArray())},target:{timeExtent:{type:[[Ht,x1]]}}}}};var P6;let rd=P6=class extends WD(ge){constructor(t){super(t),this.name=null,this.thumbnail=new fp,this.timeExtent=null}castThumbnail(t){return typeof t=="string"?new fp({url:t}):tn(fp,t)}set viewpoint(t){const{targetGeometry:e,scale:i}=t;e!=null&&e.type==="point"&&i==null&&Ee.getLogger(this).warn("Bookmark.viewpoint should include 'scale' when its targetGeometry is a point.",t),this._set("viewpoint",t)}readViewpoint(t,e){const{extent:i,viewpoint:r}=e;return Vn.fromJSON(r||{targetGeometry:i})}writeViewpoint(t,e,i,r){if(!t)return;const{targetGeometry:n}=t;if(n!=null&&n.type!=="extent"){const s="Bookmark.viewpoint cannot be written to JSON when the viewpoint's targetGeometry is not an extent.";return void(r?.messages?r.messages.push(new ee("property:unsupported",s)):Ee.getLogger(this).error(s))}n!=null&&(e.extent=n.toJSON()),e[i]=t.toJSON()}clone(){return new P6(ne({name:this.name,thumbnail:this.thumbnail,timeExtent:this.timeExtent,viewpoint:this.viewpoint}))}};u([p({type:String,nonNullable:!0,json:{write:{isRequired:!0}}})],rd.prototype,"name",void 0),u([p({type:fp,json:{write:{overridePolicy:t=>({enabled:!(!t||!t.url)})}}})],rd.prototype,"thumbnail",void 0),u([bi("thumbnail")],rd.prototype,"castThumbnail",null),u([p(c4e)],rd.prototype,"timeExtent",void 0),u([p({type:Vn,nonNullable:!0,json:{write:!0}})],rd.prototype,"viewpoint",null),u([Ae("viewpoint",["extent","viewpoint"])],rd.prototype,"readViewpoint",null),u([ze("viewpoint")],rd.prototype,"writeViewpoint",null),rd=P6=u([j("esri.webmap.Bookmark")],rd);const u4e=rd;let jh=class extends dt(at){constructor(e){super(e),this.background=null,this.rangeInfo=null,this.spatialReference=null,this.timeExtent=null,this.timeZone=cc,this.viewpoint=null}};u([p({type:u3})],jh.prototype,"background",void 0),u([p({type:TB})],jh.prototype,"rangeInfo",void 0),u([p({type:Ke})],jh.prototype,"spatialReference",void 0),u([p({type:Oi})],jh.prototype,"timeExtent",void 0),u([p({nonNullable:!0})],jh.prototype,"timeZone",void 0),u([p({type:Vn})],jh.prototype,"viewpoint",void 0),jh=u([j("esri.webmap.InitialViewProperties")],jh);const MO=jh,ape=We.ofType(u4e),d4e=new Map([["image/jpeg","jpeg"],["image/jpg","jpg"],["image/png","png"],["image/gif","gif"]]),h4e="ArcGIS Pro",p4e=SB.JSAPI;let ar=class extends d3(cU(wD(Rce))){constructor(e){super(e),this._isAuthoringAppSetByUser=!1,this._isAuthoringAppVersionSetByUser=!1,this._thumbnailFilename=null,this._updateFromPromise=null,this.resourceReferences={portalItem:null,paths:[]},this.applicationProperties=null,this.bookmarks=new ape,this.floorInfo=null,this.initialViewProperties=new MO,this.portalItem=null,this.sourceVersion=null,this.widgets=null,this._debouncedSaveOperations=cD(async(i,r,n)=>{const{save:s,saveAs:o}=await ke(()=>import("./webdocSaveUtils-CwVQCSJh.js"),__vite__mapDeps([299,300,301,302,303,304]));switch(i){case 0:return s(this.context,this,r);case 1:return o(this.context,this,n,r)}}),this.authoringApp=this.authoringAppVersion=null,this._isAuthoringAppSetByUser=this._isAuthoringAppVersionSetByUser=!1}destroy(){this.portalItem=pr(this.portalItem)}initialize(){if(this.when().catch(e=>{Ee.getLogger(this).error("#load()","Failed to load web map",e)}),this.resourceInfo){let e;try{e=this._validateJSON(this.resourceInfo)}catch(i){return void this.addResolvingPromise(Promise.reject(i))}this.read(e)}}set authoringApp(e){this._isAuthoringAppSetByUser=!0,this._set("authoringApp",e)}writeAuthoringApp(e,i){e&&this._isAuthoringAppSetByUser?i.authoringApp=e:i.authoringApp=p4e}set authoringAppVersion(e){this._isAuthoringAppVersionSetByUser=!0,this._set("authoringAppVersion",e)}writeAuthoringAppVersion(e,i){e&&this._isAuthoringAppVersionSetByUser?i.authoringAppVersion=e:i.authoringAppVersion=Cre}readInitialViewProperties(e,i){const r=new MO;i.background&&(r.background=u3.fromJSON(i.background));const n=i.initialState?.timeExtent;n&&(r.timeExtent=Oi.fromArray(n));const s=i.initialState?.viewpoint;return s&&(s.rotation&&t_.parse(i.version||"","webmap").lessThan(2,20)&&i.authoringApp===h4e&&(s.rotation*=-1),r.viewpoint=Vn.fromJSON(s)),i.mapRangeInfo&&(r.rangeInfo=TB.fromJSON(i.mapRangeInfo)),i.spatialReference&&(r.spatialReference=Ke.fromJSON(i.spatialReference)),i.timeZone&&(r.timeZone=i.timeZone),r}writeInitialViewProperties(e,i,r,n){if(!e)return;e.background?.color&&(i.background=e.background.write({},n));const{timeExtent:s,viewpoint:o}=e;if(o||s){const a={};o&&(a.viewpoint=o.write({},n)),s&&(a.timeExtent=s.toArray()),i.initialState=a}e.rangeInfo&&(i.mapRangeInfo=e.rangeInfo.toJSON(n)),e.spatialReference&&(i.spatialReference=e.spatialReference.write({},n)),i.timeZone=e.timeZone}writeLayers(e,i,r,n){i[r]=this._writeLayers(e,n,"operational-layers")}get loaded(){return super.loaded}readSourceVersion(e,i){const[r,n]=i.version.split(".");return new t_(parseInt(r,10),parseInt(n,10))}writeSourceVersion(e,i,r){i[r]=`${this.context.currentVersion.major}.${this.context.currentVersion.minor}`}writeTables(e,i,r,n){const s=this._writeLayers(e,n,"tables");s.length&&(i[r]=s)}get thumbnailUrl(){return this.portalItem?.thumbnailUrl||null}set thumbnailUrl(e){e?(this._override("thumbnailUrl",e),this._thumbnailFilename=this._generateCustomThumbnailFilename(e)):this._clearThumbnailOverride()}get updatingFromView(){return!!this._updateFromPromise}load(e){return this.addResolvingPromise(JFe(this.context,this)),Promise.resolve(this)}loadAll(){return GD(this,e=>{e(this.ground,this.basemap,this.layers,this.tables)})}read(e,i){i={...i,origin:this.context.origin};const r=this._getAuthoringPropsState();cre(this,e,n=>super.read(e,n),i),this._restoreAuthoringPropsFromState(r)}write(e,i){if(this.loadStatus!=="loaded"){const r=new ee("webmap:not-loaded","Web map must be loaded before it can be serialized");throw Ee.getLogger(this).error("#toJSON()","Web map must be loaded before it can be serialized",this.loadError||this.loadStatus),r}return this._removeDanglingLayerRefs(),i={...i,origin:this.context.origin,restrictedWebMapWriting:!0,webmap:this},super.write(e,i)}async save(e){return this._debouncedSaveOperations(0,e)}async saveAs(e,i){return this._debouncedSaveOperations(1,i,e)}async updateFrom(e,i){const r=this._updateFromInternal(e,i);this._updateFromPromise=r,await r,r===this._updateFromPromise&&(this._updateFromPromise=null)}getLayerJSONFromResourceInfo(e){const i=this.resourceInfo;return this._collectAllLayersJSON([...i?.baseMap?.baseMapLayers||[],...i?.operationalLayers||[],...this.basemap?.resourceInfo?.data?.baseMapLayers||[]]).find(r=>r.id===e.id)}async updateItemThumbnail(){this.thumbnailUrl&&this._isOverridden("thumbnailUrl")&&(await this.portalItem?.updateThumbnail({thumbnail:this.thumbnailUrl,filename:this._thumbnailFilename}),this._clearThumbnailOverride())}getThumbnailState(){let e=this.thumbnailUrl;return e&&(e=this._isOverridden("thumbnailUrl")?e:Tre(e,"w","8192")),{thumbnailUrl:e,filename:this._thumbnailFilename}}restoreThumbnailFromState(e){this.thumbnailUrl=e.thumbnailUrl,this._thumbnailFilename=e.filename}_collectAllLayersJSON(e){return e.reduce((i,r)=>(i.push(r),r.layerType==="GroupLayer"&&(i=i.concat(this._collectAllLayersJSON(r.layers||[]))),i),[])}_writeLayers(e,i,r){return i={...i,layerContainerType:r},e.map(n=>iM(n,r==="tables"?null:this.getLayerJSONFromResourceInfo(n),i)).filter(vu).toArray()}_validateJSON(e){const i=t_.parse(e.version||"","webmap");return this.context.currentVersion.validate(i),e.version=`${i.major}.${i.minor}`,e}_removeDanglingLayerRefs(){const e=this.applicationProperties,i=e?.viewing?.search,r=o=>this.allLayers.some(a=>a.id===o);if(i?.layers&&(i.layers=i.layers.filter(o=>r(o.id))),i?.tables&&(i.tables=i.tables.filter(o=>this.tables.some(a=>a.id===o.id))),e){const o=e.editing?.locationTracking;o?.info&&!r(o.info.layerId)&&(e.editing=null)}const n="presentation"in this?this.presentation:null,s=n?.slides;s&&s.forEach(o=>{o.visibleLayers&&(o.visibleLayers=o.visibleLayers.filter(a=>r(a.id)))})}async _updateFromInternal(e,i){if(i??={},await _D(()=>e.ready),this._updateInitialViewProperties(e,i),e.map===this)for(const r of e.allLayerViews)"visible"in r&&"visible"in r.layer&&r._isOverridden("visible")&&(r.layer.visible=r.visible),"featureEffect"in r&&"featureEffect"in r.layer&&r._isOverridden("featureEffect")&&(r.layer.featureEffect=r.featureEffect);await this._updateThumbnailUrl(e,i)}_updateInitialViewProperties(e,i){if(i.backgroundExcluded||(this.initialViewProperties.background=e.background?.clone()),this.initialViewProperties.spatialReference=e.spatialReference?.clone(),this.initialViewProperties.timeZone=e.timeZone,i.viewpointExcluded||(this.initialViewProperties.viewpoint=new Vn({rotation:e.rotation,scale:i.scalePreserved?e.scale:null,targetGeometry:this._getViewExtent(e)})),!i.widgetsExcluded)for(const r of e.persistableViewModels)r.updateWebDocument(this)}_getViewExtent(e){const i=e.center.clone().normalize(),r=e.extent.clone(),n=r.width/2;return r.xmin=i.x-n,r.xmax=i.x+n,r}async _updateThumbnailUrl(e,i){if(i.thumbnailExcluded)return;const r=GFe(e,i.thumbnailSize),n=await e.takeScreenshot({format:"png",width:r.width,height:r.height});this._setAutoGeneratedThumbnail(n.dataUrl)}_setAutoGeneratedThumbnail(e){this.thumbnailUrl=e,this._thumbnailFilename=null}_clearThumbnailOverride(){this._clearOverride("thumbnailUrl"),this.clear("thumbnailUrl","user"),this._thumbnailFilename=null}_generateCustomThumbnailFilename(e){if(Np(e)){const i=vv(e),r=i?.mediaType,n=r&&d4e.get(r.toLowerCase())||null,s=`thumbnail${Date.now()}`;return n?`${s}.${n}`:s}return null}_getAuthoringPropsState(){return{authoringApp:this.authoringApp,authoringAppVersion:this.authoringAppVersion,isAuthoringAppSetByUser:this._isAuthoringAppSetByUser,isAuthoringAppVersionSetByUser:this._isAuthoringAppVersionSetByUser}}_restoreAuthoringPropsFromState(e){e.isAuthoringAppSetByUser?this.authoringApp=e.authoringApp:this._isAuthoringAppSetByUser=!1,e.isAuthoringAppVersionSetByUser?this.authoringAppVersion=e.authoringAppVersion:this._isAuthoringAppVersionSetByUser=!1}};u([p()],ar.prototype,"_updateFromPromise",void 0),u([p({type:l4e,json:{write:!0}})],ar.prototype,"applicationProperties",void 0),u([p({type:String,json:{write:{allowNull:!0,ignoreOrigin:!0}}})],ar.prototype,"authoringApp",null),u([ze("authoringApp")],ar.prototype,"writeAuthoringApp",null),u([p({type:String,json:{write:{allowNull:!0,ignoreOrigin:!0}}})],ar.prototype,"authoringAppVersion",null),u([ze("authoringAppVersion")],ar.prototype,"writeAuthoringAppVersion",null),u([p({type:ape,json:{write:{overridePolicy:t=>({enabled:!!(t&&t.length>0),ignoreOrigin:!0})}}})],ar.prototype,"bookmarks",void 0),u([p({type:FFe,json:{name:"mapFloorInfo",write:!0}})],ar.prototype,"floorInfo",void 0),u([p({type:MO,nonNullable:!0,json:{read:{source:["background","initialState.timeExtent","initialState.viewpoint","mapRangeInfo","spatialReference","timeZone"]},write:{ignoreOrigin:!0,target:{background:{type:u3},"initialState.timeExtent":{type:Oi},"initialState.viewpoint":{type:Vn},mapRangeInfo:{type:TB},spatialReference:{type:Ke},"timeZone:":{type:String}}}}})],ar.prototype,"initialViewProperties",void 0),u([Ae("initialViewProperties")],ar.prototype,"readInitialViewProperties",null),u([ze("initialViewProperties")],ar.prototype,"writeInitialViewProperties",null),u([p({json:{read:!1,write:{target:"operationalLayers",ignoreOrigin:!0}}})],ar.prototype,"layers",void 0),u([ze("layers")],ar.prototype,"writeLayers",null),u([p({type:kt})],ar.prototype,"portalItem",void 0),u([p()],ar.prototype,"resourceInfo",void 0),u([p({readOnly:!0,type:t_,json:{read:{source:"version"},write:{allowNull:!0,ignoreOrigin:!0,target:"version",isRequired:!0}}})],ar.prototype,"sourceVersion",void 0),u([Ae("sourceVersion")],ar.prototype,"readSourceVersion",null),u([ze("sourceVersion")],ar.prototype,"writeSourceVersion",null),u([p({json:{read:!1,write:{ignoreOrigin:!0}}})],ar.prototype,"tables",void 0),u([ze("tables")],ar.prototype,"writeTables",null),u([p()],ar.prototype,"thumbnailUrl",null),u([p()],ar.prototype,"updatingFromView",null),u([p({type:HFe,json:{write:!0}})],ar.prototype,"widgets",void 0),ar=u([j("esri.WebDocument2D")],ar);const f4e=ar,Ki=(t=>t)(["operational-layers","basemap-base-layers","basemap-ground-layers","ground"]);var D6;let vy=D6=class extends ge{constructor(t){super(t),this.expression=null,this.name=null,this.returnType="boolean",this.title=null}clone(){return new D6({name:this.name,title:this.title,expression:this.expression,returnType:this.returnType})}};u([p({type:String,json:{write:!0}})],vy.prototype,"expression",void 0),u([p({type:String,json:{write:!0}})],vy.prototype,"name",void 0),u([p({type:["boolean","date","number","string"],json:{write:!0}})],vy.prototype,"returnType",void 0),u([p({type:String,json:{write:!0}})],vy.prototype,"title",void 0),vy=D6=u([j("esri.form.ExpressionInfo")],vy);const m4e=vy;let ua=class extends ge{constructor(e){super(e),this.description=null,this.label=null,this.type=null,this.visibilityExpression=null}};u([p({type:String,json:{write:!0}})],ua.prototype,"description",void 0),u([p({type:String,json:{write:!0}})],ua.prototype,"label",void 0),u([p()],ua.prototype,"type",void 0),u([p({type:String,json:{write:!0}})],ua.prototype,"visibilityExpression",void 0),ua=u([j("esri.form.elements.Element")],ua);let LM=class extends dt(ge){constructor(e){super(e),this.type=null}};u([p()],LM.prototype,"type",void 0),LM=u([j("esri.form.elements.inputs.attachments.Input")],LM);const Jm=LM,h3=["any","capture","upload"];let X0=class extends Jm{constructor(e){super(e),this.type="audio",this.inputMethod="any",this.maxDuration=null}};u([p({type:["audio"],readOnly:!0,json:{write:!0}})],X0.prototype,"type",void 0),u([p({type:h3,json:{write:!0}})],X0.prototype,"inputMethod",void 0),u([p({type:Number,json:{write:!0}})],X0.prototype,"maxDuration",void 0),X0=u([j("esri.form.elements.inputs.attachments.AudioInput")],X0);const nK=X0;let XS=class extends Jm{constructor(e){super(e),this.type="document",this.maxFileSize=null}};u([p({type:["document"],readOnly:!0,json:{write:!0}})],XS.prototype,"type",void 0),u([p({type:Number,json:{write:!0}})],XS.prototype,"maxFileSize",void 0),XS=u([j("esri.form.elements.inputs.attachments.DocumentInput")],XS);const sK=XS;let K0=class extends Jm{constructor(e){super(e),this.type="image",this.inputMethod="any",this.maxImageSize=null}};u([p({type:["image"],readOnly:!0,json:{write:!0}})],K0.prototype,"type",void 0),u([p({type:h3,json:{write:!0}})],K0.prototype,"inputMethod",void 0),u([p({type:Number,json:{write:!0}})],K0.prototype,"maxImageSize",void 0),K0=u([j("esri.form.elements.inputs.attachments.ImageInput")],K0);const oK=K0;let KS=class extends Jm{constructor(e){super(e),this.type="signature",this.inputMethod="any"}};u([p({type:["signature"],readOnly:!0,json:{write:!0}})],KS.prototype,"type",void 0),u([p({type:h3,json:{write:!0}})],KS.prototype,"inputMethod",void 0),KS=u([j("esri.form.elements.inputs.attachments.SignatureInput")],KS);const aK=KS;let Q0=class extends Jm{constructor(e){super(e),this.type="video",this.inputMethod="any",this.maxDuration=null}};u([p({type:["video"],readOnly:!0,json:{write:!0}})],Q0.prototype,"type",void 0),u([p({type:h3,json:{write:!0}})],Q0.prototype,"inputMethod",void 0),u([p({type:Number,json:{write:!0}})],Q0.prototype,"maxDuration",void 0),Q0=u([j("esri.form.elements.inputs.attachments.VideoInput")],Q0);const lK=Q0;function lpe(t){return{nestableTypes:{base:Jm,key:"type",typeMap:{audio:nK,document:sK,image:oK,signature:aK,video:lK}},allTypes:{base:Jm,key:"type",typeMap:{attachment:t,audio:nK,document:sK,image:oK,signature:aK,video:lK}}}}function g4e(t,e,i){return t?t.map(r=>Dd(e.nestableTypes,r)):null}function y4e(t,e,i){if(!t)return null;const r=e.nestableTypes.typeMap;return t.filter(n=>r[n.type]).map(n=>r[n.type].fromJSON(n))}function v4e(t,e,i){if(!t)return null;const r=e.nestableTypes.typeMap;return t.filter(n=>r[n.type]).map(n=>n.toJSON())}let ld=class extends Jm{constructor(e){super(e),this.type="attachment",this.attachmentAssociationType="exact",this.inputTypes=null}castInputs(e){return g4e(e,Pz)}readInputs(e,i){return y4e(i.inputTypes,Pz)}writeInputs(e,i){i.inputTypes=v4e(e,Pz)}};u([p({type:["attachment"],readOnly:!0,json:{write:!0}})],ld.prototype,"type",void 0),u([p({type:["any","exact","exactOrNone"],json:{write:!0}})],ld.prototype,"attachmentAssociationType",void 0),u([p({json:{write:{isRequired:!0}}})],ld.prototype,"inputTypes",void 0),u([bi("inputTypes")],ld.prototype,"castInputs",null),u([Ae("inputTypes")],ld.prototype,"readInputs",null),u([ze("inputTypes")],ld.prototype,"writeInputs",null),ld=u([j("esri.form.elements.inputs.attachments.AttachmentInput")],ld);const Pz=lpe(ld),b4e=ld;var R6;const w4e=lpe(b4e);let Ga=R6=class extends ua{constructor(t){super(t),this.allowUserRename=!0,this.attachmentKeyword=null,this.displayFilename=!1,this.editableExpression=null,this.filenameExpression="{attachmentKeyword}_{now}",this.input=null,this.maxAttachmentCount=null,this.minAttachmentCount=null,this.type="attachment",this.useOriginalFilename=!0}clone(){return new R6({allowUserRename:this.allowUserRename,attachmentKeyword:this.attachmentKeyword,description:this.description,displayFilename:this.displayFilename,editableExpression:this.editableExpression,filenameExpression:this.filenameExpression,input:this.input?.clone(),label:this.label,maxAttachmentCount:this.maxAttachmentCount,minAttachmentCount:this.minAttachmentCount,useOriginalFilename:this.useOriginalFilename,visibilityExpression:this.visibilityExpression})}};u([p({type:Boolean,json:{write:!0}})],Ga.prototype,"allowUserRename",void 0),u([p({type:String,json:{write:{isRequired:!0}}})],Ga.prototype,"attachmentKeyword",void 0),u([p({type:Boolean,json:{write:!0}})],Ga.prototype,"displayFilename",void 0),u([p({type:String,json:{write:!0}})],Ga.prototype,"editableExpression",void 0),u([p({type:String,json:{write:!0}})],Ga.prototype,"filenameExpression",void 0),u([p({types:w4e.allTypes,json:{read:{source:"inputType"},write:{target:"inputType",isRequired:!0}}})],Ga.prototype,"input",void 0),u([p({type:Number,json:{write:!0}})],Ga.prototype,"maxAttachmentCount",void 0),u([p({type:Number,json:{write:!0}})],Ga.prototype,"minAttachmentCount",void 0),u([p({type:["attachment"],readOnly:!0,json:{read:!1,write:!0}})],Ga.prototype,"type",void 0),u([p({type:Boolean,json:{write:!0}})],Ga.prototype,"useOriginalFilename",void 0),Ga=R6=u([j("esri.form.elements.AttachmentElement")],Ga);const cK=Ga;let zM=class extends ge{constructor(e){super(e),this.type=null}};u([p()],zM.prototype,"type",void 0),zM=u([j("esri.form.elements.inputs.Input")],zM);const Up=zM;let QS=class extends Up{constructor(e){super(e),this.maxLength=null,this.minLength=0}};u([p({type:Number,json:{write:!0}})],QS.prototype,"maxLength",void 0),u([p({type:Number,json:{write:!0}})],QS.prototype,"minLength",void 0),QS=u([j("esri.form.elements.inputs.TextInput")],QS);const kB=QS;var L6;let NM=L6=class extends kB{constructor(t){super(t),this.type="barcode-scanner"}clone(){return new L6({maxLength:this.maxLength,minLength:this.minLength})}};u([p({type:["barcode-scanner"],json:{read:!1,write:!0}})],NM.prototype,"type",void 0),NM=L6=u([j("esri.form.elements.inputs.BarcodeScannerInput")],NM);const _4e=NM;var z6;let ew=z6=class extends Up{constructor(t){super(t),this.noValueOptionLabel=null,this.showNoValueOption=!0,this.type="combo-box"}clone(){return new z6({showNoValueOption:this.showNoValueOption,noValueOptionLabel:this.noValueOptionLabel})}};u([p({type:String,json:{write:!0}})],ew.prototype,"noValueOptionLabel",void 0),u([p({type:Boolean,json:{write:!0}})],ew.prototype,"showNoValueOption",void 0),u([p({type:["combo-box"],json:{read:!1,write:!0}})],ew.prototype,"type",void 0),ew=z6=u([j("esri.form.elements.inputs.ComboBoxInput")],ew);const x4e=ew;var N6;function uK(t){return t??null}function dK(t){return t??null}let nd=N6=class extends Up{constructor(t){super(t),this.max=null,this.min=null,this.type="date-picker"}readMax(t,e){return uK(e.max)}writeMax(t,e){e.max=dK(t)}readMin(t,e){return uK(e.min)}writeMin(t,e){e.min=dK(t)}clone(){return new N6({max:this.max,min:this.min})}};u([p({type:String,json:{type:String,write:!0}})],nd.prototype,"max",void 0),u([Ae("max")],nd.prototype,"readMax",null),u([ze("max")],nd.prototype,"writeMax",null),u([p({type:String,json:{type:String,write:!0}})],nd.prototype,"min",void 0),u([Ae("min")],nd.prototype,"readMin",null),u([ze("min")],nd.prototype,"writeMin",null),u([p({type:["date-picker"],json:{read:!1,write:!0}})],nd.prototype,"type",void 0),nd=N6=u([j("esri.form.elements.inputs.DatePickerInput")],nd);const S4e=nd;var j6;function Dz(t){return t??null}function Rz(t){return t??null}let Jo=j6=class extends Up{constructor(t){super(t),this.includeTimeOffset=!0,this.max=null,this.min=null,this.timeResolution="minutes",this.type="datetimeoffset-picker"}readMax(t,e){return Dz(e.max)}writeMax(t,e){e.max=Rz(t)}readMin(t,e){return Dz(e.min)}writeMin(t,e){e.min=Rz(t)}readTimeResolution(t,e){return Dz(e.timeResolution)}writeTimeResolution(t,e){e.timeResolution=Rz(t)}clone(){return new j6({includeTimeOffset:this.includeTimeOffset,max:this.max,min:this.min,timeResolution:this.timeResolution})}};u([p({type:Boolean,json:{write:!0}})],Jo.prototype,"includeTimeOffset",void 0),u([p({type:String,json:{type:String,write:!0}})],Jo.prototype,"max",void 0),u([Ae("max")],Jo.prototype,"readMax",null),u([ze("max")],Jo.prototype,"writeMax",null),u([p({type:String,json:{type:String,write:!0}})],Jo.prototype,"min",void 0),u([Ae("min")],Jo.prototype,"readMin",null),u([ze("min")],Jo.prototype,"writeMin",null),u([p({type:String,json:{type:String,write:!0}})],Jo.prototype,"timeResolution",void 0),u([Ae("timeResolution")],Jo.prototype,"readTimeResolution",null),u([ze("timeResolution")],Jo.prototype,"writeTimeResolution",null),u([p({type:["datetimeoffset-picker"],json:{read:!1,write:!0}})],Jo.prototype,"type",void 0),Jo=j6=u([j("esri.form.elements.inputs.DateTimeOffsetPickerInput")],Jo);const T4e=Jo;var F6;function hK(t){return t!=null?new Date(t):null}function pK(t){return t?t.getTime():null}let Wc=F6=class extends Up{constructor(t){super(t),this.includeTime=!1,this.max=null,this.min=null,this.type="datetime-picker"}readMax(t,e){return hK(e.max)}writeMax(t,e){e.max=pK(t)}readMin(t,e){return hK(e.min)}writeMin(t,e){e.min=pK(t)}clone(){return new F6({includeTime:this.includeTime,max:this.max,min:this.min})}};u([p({type:Boolean,json:{write:!0}})],Wc.prototype,"includeTime",void 0),u([p({type:Date,json:{type:Number,write:!0}})],Wc.prototype,"max",void 0),u([Ae("max")],Wc.prototype,"readMax",null),u([ze("max")],Wc.prototype,"writeMax",null),u([p({type:Date,json:{type:Number,write:!0}})],Wc.prototype,"min",void 0),u([Ae("min")],Wc.prototype,"readMin",null),u([ze("min")],Wc.prototype,"writeMin",null),u([p({type:["datetime-picker"],json:{read:!1,write:!0}})],Wc.prototype,"type",void 0),Wc=F6=u([j("esri.form.elements.inputs.DateTimePickerInput")],Wc);const $4e=Wc;var V6;let tw=V6=class extends Up{constructor(t){super(t),this.noValueOptionLabel=null,this.showNoValueOption=!0,this.type="radio-buttons"}clone(){return new V6({noValueOptionLabel:this.noValueOptionLabel,showNoValueOption:this.showNoValueOption})}};u([p({type:String,json:{write:!0}})],tw.prototype,"noValueOptionLabel",void 0),u([p({type:Boolean,json:{write:!0}})],tw.prototype,"showNoValueOption",void 0),u([p({type:["radio-buttons"],json:{read:!1,write:!0}})],tw.prototype,"type",void 0),tw=V6=u([j("esri.form.elements.inputs.RadioButtonsInput")],tw);const k4e=tw;var U6;let iw=U6=class extends Up{constructor(t){super(t),this.offValue=null,this.onValue=null,this.type="switch"}clone(){return new U6({offValue:this.offValue,onValue:this.onValue})}};u([p({type:[String,Number],json:{write:!0}})],iw.prototype,"offValue",void 0),u([p({type:[String,Number],json:{write:!0}})],iw.prototype,"onValue",void 0),u([p({type:["switch"],json:{read:!1,write:!0}})],iw.prototype,"type",void 0),iw=U6=u([j("esri.form.elements.inputs.SwitchInput")],iw);const E4e=iw;var B6;let jM=B6=class extends kB{constructor(t){super(t),this.type="text-area"}clone(){return new B6({maxLength:this.maxLength,minLength:this.minLength})}};u([p({type:["text-area"],json:{read:!1,write:!0}})],jM.prototype,"type",void 0),jM=B6=u([j("esri.form.elements.inputs.TextAreaInput")],jM);const I4e=jM;var H6;let FM=H6=class extends kB{constructor(t){super(t),this.type="text-box"}clone(){return new H6({maxLength:this.maxLength,minLength:this.minLength})}};u([p({type:["text-box"],json:{read:!1,write:!0}})],FM.prototype,"type",void 0),FM=H6=u([j("esri.form.elements.inputs.TextBoxInput")],FM);const C4e=FM;var q6;function Lz(t){return t??null}function zz(t){return t??null}let Wa=q6=class extends Up{constructor(t){super(t),this.max=null,this.min=null,this.timeResolution="minutes",this.type="time-picker"}readMax(t,e){return Lz(e.max)}writeMax(t,e){e.max=zz(t)}readMin(t,e){return Lz(e.min)}writeMin(t,e){e.min=zz(t)}readTimeResolution(t,e){return Lz(e.timeResolution)}writeTimeResolution(t,e){e.timeResolution=zz(t)}clone(){return new q6({max:this.max,min:this.min,timeResolution:this.timeResolution})}};u([p({type:String,json:{type:String,write:!0}})],Wa.prototype,"max",void 0),u([Ae("max")],Wa.prototype,"readMax",null),u([ze("max")],Wa.prototype,"writeMax",null),u([p({type:String,json:{type:String,write:!0}})],Wa.prototype,"min",void 0),u([Ae("min")],Wa.prototype,"readMin",null),u([ze("min")],Wa.prototype,"writeMin",null),u([p({type:String,json:{type:String,write:!0}})],Wa.prototype,"timeResolution",void 0),u([Ae("timeResolution")],Wa.prototype,"readTimeResolution",null),u([ze("timeResolution")],Wa.prototype,"writeTimeResolution",null),u([p({type:["time-picker"],json:{read:!1,write:!0}})],Wa.prototype,"type",void 0),Wa=q6=u([j("esri.form.elements.inputs.TimePickerInput")],Wa);const M4e=Wa,A4e=_4e,O4e=x4e,P4e=S4e,D4e=T4e,R4e=$4e,L4e=k4e,z4e=E4e,N4e=I4e,j4e=C4e,F4e=M4e,V4e={base:Up,key:"type",typeMap:{"barcode-scanner":A4e,"combo-box":O4e,"date-picker":P4e,"datetime-picker":R4e,"datetimeoffset-picker":D4e,"radio-buttons":L4e,switch:z4e,"text-area":N4e,"text-box":j4e,"time-picker":F4e}};var G6;let Qa=G6=class extends ua{constructor(t){super(t),this.domain=null,this.editable=null,this.editableExpression=null,this.fieldName=null,this.hint=null,this.input=null,this.requiredExpression=null,this.type="field",this.valueExpression=null}clone(){return new G6({description:this.description,domain:this.domain,editable:this.editable,editableExpression:this.editableExpression,fieldName:this.fieldName,hint:this.hint,input:this.input,label:this.label,requiredExpression:this.requiredExpression,valueExpression:this.valueExpression,visibilityExpression:this.visibilityExpression})}};u([p({types:Kue,json:{read:{reader:n3},write:!0}})],Qa.prototype,"domain",void 0),u([p({type:Boolean,json:{write:!0}})],Qa.prototype,"editable",void 0),u([p({type:String,json:{write:!0}})],Qa.prototype,"editableExpression",void 0),u([p({type:String,json:{write:!0}})],Qa.prototype,"fieldName",void 0),u([p({type:String,json:{write:!0}})],Qa.prototype,"hint",void 0),u([p({types:V4e,json:{read:{source:"inputType"},write:{target:"inputType"}}})],Qa.prototype,"input",void 0),u([p({type:String,json:{write:!0}})],Qa.prototype,"requiredExpression",void 0),u([p({type:String,json:{read:!1,write:!0}})],Qa.prototype,"type",void 0),u([p({type:String,json:{write:!0}})],Qa.prototype,"valueExpression",void 0),Qa=G6=u([j("esri.form.elements.FieldElement")],Qa);var W6;let Fh=W6=class extends ua{constructor(t){super(t),this.displayCount=null,this.displayType="list",this.editableExpression=null,this.orderByFields=null,this.relationshipId=null,this.type="relationship"}clone(){return new W6({description:this.description,displayCount:this.displayCount,displayType:this.displayType,editableExpression:this.editableExpression,label:this.label,orderByFields:ne(this.orderByFields),relationshipId:this.relationshipId,visibilityExpression:this.visibilityExpression})}};u([p({type:Number,json:{write:!0}})],Fh.prototype,"displayCount",void 0),u([p({type:["list"],json:{write:!0}})],Fh.prototype,"displayType",void 0),u([p({type:String,json:{write:!0}})],Fh.prototype,"editableExpression",void 0),u([p({type:[KU],json:{write:!0}})],Fh.prototype,"orderByFields",void 0),u([p({type:Number,json:{write:!0}})],Fh.prototype,"relationshipId",void 0),u([p({type:["relationship"],json:{read:!1,write:!0}})],Fh.prototype,"type",void 0),Fh=W6=u([j("esri.form.elements.RelationshipElement")],Fh);const fK=Fh;var Y6;let rw=Y6=class extends ua{constructor(t){super(t),this.text=null,this.textFormat="plain-text",this.type="text"}clone(){return new Y6({text:this.text,textFormat:this.textFormat,visibilityExpression:this.visibilityExpression})}};u([p({type:String,json:{write:!0}})],rw.prototype,"text",void 0),u([p({type:String,json:{write:!0}})],rw.prototype,"textFormat",void 0),u([p({type:["text"],readOnly:!0,json:{read:!1,write:!0}})],rw.prototype,"type",void 0),rw=Y6=u([j("esri.form.elements.TextElement")],rw);const mK=rw;let nw=class extends dt(ua){constructor(e){super(e),this.associationTypes=null,this.editableExpression=null,this.type="utilityNetworkAssociations"}};u([p({type:[$ue],json:{write:{isRequired:!0}}})],nw.prototype,"associationTypes",void 0),u([p({type:String,json:{write:!0}})],nw.prototype,"editableExpression",void 0),u([p({type:["utilityNetworkAssociations"],json:{read:!1,write:!0}})],nw.prototype,"type",void 0),nw=u([j("esri.form.elements.UtilityNetworkAssociationsElement")],nw);const gK=nw,U4e=t=>t.type==="field",B4e=t=>t.type==="group",H4e=t=>t.type==="text";function cpe(t){return{typesWithGroup:{base:ua,key:"type",typeMap:{attachment:cK,field:Qa,group:t,relationship:fK,text:mK,utilityNetworkAssociations:gK}},typesWithoutGroup:{base:ua,key:"type",typeMap:{attachment:cK,field:Qa,relationship:fK,text:mK,utilityNetworkAssociations:gK}}}}function upe(t,e,i=!0){if(!t)return null;const r=i?e.typesWithGroup.typeMap:e.typesWithoutGroup.typeMap;return t.filter(n=>r[n.type]).map(n=>r[n.type].fromJSON(n))}function dpe(t,e,i=!0){if(!t)return null;const r=i?e.typesWithGroup.typeMap:e.typesWithoutGroup.typeMap;return t.filter(n=>r[n.type]).map(n=>n.toJSON())}function hpe(t,e,i=!0){return t?t.map(r=>Dd(i?e.typesWithGroup:e.typesWithoutGroup,r)):null}var Z6;let cd=Z6=class extends ua{constructor(t){super(t),this.elements=null,this.initialState="expanded",this.type="group"}castElements(t){return hpe(t,Nz,!1)}readElements(t,e){return upe(e.formElements,Nz,!1)}writeElements(t,e){e.formElements=dpe(t,Nz,!1)}clone(){return new Z6({description:this.description,elements:ne(this.elements),initialState:this.initialState,label:this.label,visibilityExpression:this.visibilityExpression})}};u([p({json:{write:!0}})],cd.prototype,"elements",void 0),u([bi("elements")],cd.prototype,"castElements",null),u([Ae("elements",["formElements"])],cd.prototype,"readElements",null),u([ze("elements")],cd.prototype,"writeElements",null),u([p({type:["collapsed","expanded"],json:{write:!0}})],cd.prototype,"initialState",void 0),u([p({type:String,json:{read:!1,write:!0}})],cd.prototype,"type",void 0),cd=Z6=u([j("esri.form.elements.GroupElement")],cd);const Nz=cpe(cd),q4e=cd;var J6;const jz=cpe(q4e);let Yc=J6=class extends ge{constructor(t){super(t),this.description=null,this.elements=null,this.expressionInfos=null,this.preserveFieldValuesWhenHidden=!1,this.title=null}castElements(t){return hpe(t,jz)}readElements(t,e){return upe(e.formElements,jz)}writeElements(t,e){e.formElements=dpe(t,jz)}clone(){return new J6({description:this.description,expressionInfos:ne(this.expressionInfos),elements:ne(this.elements),title:this.title,preserveFieldValuesWhenHidden:this.preserveFieldValuesWhenHidden})}async getFieldsUsed(t,e){const i=new Set,{description:r,elements:n,expressionInfos:s,title:o}=this;if(t2(i,t,r),t2(i,t,o),!n)return[];const a=G4e(n,s).map(l=>ho(i,t,null,l));await Promise.all(a);for(const l of n)ppe(i,{fieldsIndex:t,relationships:e},l);return Array.from(i).sort()}};function ppe(t,e,i){const{fieldsIndex:r}=e;if(!r||r.fields.length!==t.size)switch(t2(t,r,i.label),t2(t,r,i.description),i.type){case"field":uo(t,r,i.fieldName);break;case"group":i.elements.forEach(n=>ppe(t,e,n));break;case"relationship":if(e.relationships){const n=e.relationships.find(s=>s.id===i.relationshipId);n&&uo(t,r,n.keyField)}Av(t,r,i.orderByFields?.map(n=>n.field));break;case"text":t2(t,r,i.text)}}function G4e(t,e){if(!e||e.length===0)return[];const i=fpe(t),r=[];for(const n of e)i.has(n.name)&&r.push(n.expression);return r}function fpe(t){const e=new Set;for(const i of t)if(lW(e,i.visibilityExpression),!H4e(i)){if(B4e(i))xA(e,fpe(i.elements));else if(lW(e,i.editableExpression),U4e(i)){const{requiredExpression:r,valueExpression:n}=i;xA(e,[r,n])}}return e}function t2(t,e,i){Av(t,e,YU(i))}u([p({type:String,json:{write:!0}})],Yc.prototype,"description",void 0),u([p({json:{write:!0}})],Yc.prototype,"elements",void 0),u([bi("elements")],Yc.prototype,"castElements",null),u([Ae("elements",["formElements"])],Yc.prototype,"readElements",null),u([ze("elements")],Yc.prototype,"writeElements",null),u([p({type:[m4e],json:{write:!0}})],Yc.prototype,"expressionInfos",void 0),u([p({type:Boolean,json:{default:!1,write:!0}})],Yc.prototype,"preserveFieldValuesWhenHidden",void 0),u([p({type:String,json:{write:!0}})],Yc.prototype,"title",void 0),Yc=J6=u([j("esri.form.FormTemplate")],Yc);const W4e=Symbol("getSliceableSymbol");let K2=class{};K2=u([j("esri.graphic.GraphicOrigin")],K2);const Y4e=Symbol("isFeatureGraphicOrigin");var yK;let Z4e=class extends K2{get[(yK=Y4e,nk)](){return this.layer}get[tB](){return this.layer}get[W4e](){return this.layer}constructor(e){super(),this[yK]=!0,this.type="feature",this.layer=e}get id(){return this.layer.id}};function vK(t,e,i){if(t.hasM==null||t.hasZ)for(const r of e)for(const n of r)n.length>2&&(n[2]*=i)}function J4e(t,e,i){if(!t&&!e||!i)return;const r=KA(i);bK(t,i,r),bK(e,i,r)}function bK(t,e,i){if(t)for(const r of t)X4e(r.geometry,e,i)}function X4e(t,e,i){if(!t?.spatialReference||Un(t.spatialReference,e))return;const r=KA(t.spatialReference)/i;if(r!==1){if("x"in t)t.z!=null&&(t.z*=r);else if("rings"in t)vK(t,t.rings,r);else if("paths"in t)vK(t,t.paths,r);else if("points"in t&&(t.hasM==null||t.hasZ))for(const n of t.points)n.length>2&&(n[2]*=r)}}function wK(t,e,i){if(!i?.features||!i.hasZ)return;const r=Rle(i.geometryType,e,t.outSpatialReference);if(r!=null)for(const n of i.features)r(n.geometry)}var X6;const K6=new At({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryEnvelope:"extent",mesh:"mesh","":null});let Pn=X6=class extends ge{constructor(t){super(t),this.displayFieldName=null,this.exceededTransferLimit=!1,this.features=[],this.fields=null,this.geometryType=null,this.hasM=!1,this.hasZ=!1,this.queryGeometry=null,this.spatialReference=null}readFeatures(t,e){return this.readFeaturesWithClass(t,e,Pr)}writeGeometryType(t,e,i,r){if(t)return void K6.write(t,e,i,r);const{features:n}=this;if(n){for(const s of n)if(s?.geometry!=null)return void K6.write(s.geometry.type,e,i,r)}}readQueryGeometry(t,e){if(!t)return null;const i=!!t.spatialReference,r=jd(t);return r&&!i&&e.spatialReference&&(r.spatialReference=Ke.fromJSON(e.spatialReference)),r}writeSpatialReference(t,e){if(t)return void(e.spatialReference=t.toJSON());const{features:i}=this;if(i){for(const r of i)if(r&&r.geometry!=null&&r.geometry.spatialReference)return void(e.spatialReference=r.geometry.spatialReference.toJSON())}}clone(){return new X6(this.cloneProperties())}cloneProperties(){return ne({displayFieldName:this.displayFieldName,exceededTransferLimit:this.exceededTransferLimit,features:this.features,fields:this.fields,geometryType:this.geometryType,hasM:this.hasM,hasZ:this.hasZ,queryGeometry:this.queryGeometry,spatialReference:this.spatialReference,transform:this.transform})}toJSON(t){const e=this.write();if(e.features&&Array.isArray(t)&&t.length>0)for(let i=0;i<e.features.length;i++){const r=e.features[i];if(r.geometry){const n=t?.[i];r.geometry=n?.toJSON()||r.geometry}}return e}quantize(t){const{scale:[e,i],translate:[r,n]}=t,s=h=>Math.round((h-r)/e),o=h=>Math.round((n-h)/i),a=this.features,l=this._getQuantizationFunction(this.geometryType,s,o);for(let h=0,f=a.length;h<f;h++)l?.(a[h].geometry)||(a.splice(h,1),h--,f--);return this.transform=t,this}unquantize(){const{geometryType:t,features:e,transform:i}=this;if(!i)return this;const{translate:[r,n],scale:[s,o]}=i,a=v=>v*s+r,l=v=>n-v*o;let h=null,f=null;if(this.hasZ&&i?.scale?.[2]!=null){const{translate:[,,v],scale:[,,w]}=i;h=S=>S*w+v}if(this.hasM&&i?.scale?.[3]!=null){const{translate:[,,,v],scale:[,,,w]}=i;f=S=>S==null?S:S*w+v}const g=this._getHydrationFunction(t,a,l,h,f);for(const{geometry:v}of e)v!=null&&g&&g(v);return this.transform=null,this}readFeaturesWithClass(t,e,i){const r=Ke.fromJSON(e.spatialReference),n=[];for(let s=0;s<t.length;s++){const o=t[s],a=i.fromJSON(o),l=o.geometry?.spatialReference;a.geometry==null||l||(a.geometry.spatialReference=r);const h=o.aggregateGeometries,f=a.aggregateGeometries;if(h&&f!=null)for(const g in f){const v=f[g],w=h[g],S=w?.spatialReference;v==null||S||(v.spatialReference=r)}n.push(a)}return n}_quantizePoints(t,e,i){let r,n;const s=[];for(let o=0,a=t.length;o<a;o++){const l=t[o];if(o>0){const h=e(l[0]),f=i(l[1]);h===r&&f===n||(s.push([h-r,f-n]),r=h,n=f)}else r=e(l[0]),n=i(l[1]),s.push([r,n])}return s.length>0?s:null}_getQuantizationFunction(t,e,i){return t==="point"?r=>(r.x=e(r.x),r.y=i(r.y),r):t==="polyline"||t==="polygon"?r=>{const n=qw(r)?r.rings:r.paths,s=[];for(let o=0,a=n.length;o<a;o++){const l=n[o],h=this._quantizePoints(l,e,i);h&&s.push(h)}return s.length>0?(qw(r)?r.rings=s:r.paths=s,r):null}:t==="multipoint"?r=>{const n=this._quantizePoints(r.points,e,i);return n&&n.length>0?(r.points=n,r):null}:t==="extent"?r=>r:null}_getHydrationFunction(t,e,i,r,n){return t==="point"?s=>{s.x=e(s.x),s.y=i(s.y),r&&(s.z=r(s.z))}:t==="polyline"||t==="polygon"?s=>{const o=qw(s)?s.rings:s.paths;let a,l;for(let h=0,f=o.length;h<f;h++){const g=o[h];for(let v=0,w=g.length;v<w;v++){const S=g[v];v>0?(a+=S[0],l+=S[1]):(a=S[0],l=S[1]),S[0]=e(a),S[1]=i(l)}}if(r&&n)for(let h=0,f=o.length;h<f;h++){const g=o[h];for(let v=0,w=g.length;v<w;v++){const S=g[v];S[2]=r(S[2]),S[3]=n(S[3])}}else if(r)for(let h=0,f=o.length;h<f;h++){const g=o[h];for(let v=0,w=g.length;v<w;v++){const S=g[v];S[2]=r(S[2])}}else if(n)for(let h=0,f=o.length;h<f;h++){const g=o[h];for(let v=0,w=g.length;v<w;v++){const S=g[v];S[2]=n(S[2])}}}:t==="extent"?s=>{s.xmin=e(s.xmin),s.ymin=i(s.ymin),s.xmax=e(s.xmax),s.ymax=i(s.ymax),r&&s.zmax!=null&&s.zmin!=null&&(s.zmax=r(s.zmax),s.zmin=r(s.zmin)),n&&s.mmax!=null&&s.mmin!=null&&(s.mmax=n(s.mmax),s.mmin=n(s.mmin))}:t==="multipoint"?s=>{const o=s.points;let a,l;for(let h=0,f=o.length;h<f;h++){const g=o[h];h>0?(a+=g[0],l+=g[1]):(a=g[0],l=g[1]),g[0]=e(a),g[1]=i(l)}if(r&&n)for(let h=0,f=o.length;h<f;h++){const g=o[h];g[2]=r(g[2]),g[3]=n(g[3])}else if(r)for(let h=0,f=o.length;h<f;h++){const g=o[h];g[2]=r(g[2])}else if(n)for(let h=0,f=o.length;h<f;h++){const g=o[h];g[2]=n(g[2])}}:null}};u([p({type:String,json:{write:!0}})],Pn.prototype,"displayFieldName",void 0),u([p({type:Boolean,json:{write:{overridePolicy:t=>({enabled:t})}}})],Pn.prototype,"exceededTransferLimit",void 0),u([p({type:[Pr],json:{write:!0}})],Pn.prototype,"features",void 0),u([Ae("features")],Pn.prototype,"readFeatures",null),u([p({type:[rs],json:{write:!0}})],Pn.prototype,"fields",void 0),u([p({type:["point","multipoint","polyline","polygon","extent","mesh"],json:{read:{reader:K6.read}}})],Pn.prototype,"geometryType",void 0),u([ze("geometryType")],Pn.prototype,"writeGeometryType",null),u([p({type:Boolean,json:{write:{overridePolicy:t=>({enabled:t})}}})],Pn.prototype,"hasM",void 0),u([p({type:Boolean,json:{write:{overridePolicy:t=>({enabled:t})}}})],Pn.prototype,"hasZ",void 0),u([p({types:R1,json:{write:!0}})],Pn.prototype,"queryGeometry",void 0),u([Ae("queryGeometry")],Pn.prototype,"readQueryGeometry",null),u([p({type:Ke,json:{write:!0}})],Pn.prototype,"spatialReference",void 0),u([ze("spatialReference")],Pn.prototype,"writeSpatialReference",null),u([p({json:{write:!0}})],Pn.prototype,"transform",void 0),Pn=X6=u([j("esri.rest.support.FeatureSet")],Pn),Pn.prototype.toJSON.isDefaultToJSON=!0;let K4e=0,Qh=class extends cU(wD(We)){constructor(e){super(e),this._idToClientGeometry=null,this.type="memory"}load(e){const i=e!=null?e.signal:null;return this.addResolvingPromise(this._startWorker(i)),Promise.resolve(this)}destroy(){this._connection?.close(),this._connection=null}get _workerGeometryType(){const e=this.layer?.geometryType;return e?this._geometryTypeRequiresClientGraphicMapping(e)?"polygon":e:null}applyEdits(e){return this.load().then(()=>this._applyEdits(e))}openPorts(){return this.load().then(()=>this._connection.openPorts())}async queryFeatures(e,i={}){await this.load(i);const r=await this._connection.invoke("queryFeatures",e?e.toJSON():null,i);wK(e,this.layer.spatialReference,r);const n=Pn.fromJSON(r);if(!this._requiresClientGraphicMapping()||!this._idToClientGeometry)return n;const s=this.layer.objectIdField;for(const o of n.features){const a=o.attributes[s],l=this._idToClientGeometry.get(a);l!==void 0&&(o.geometry=l)}return n.geometryType=this.layer.geometryType,n}async queryFeaturesJSON(e,i={}){if(this._requiresClientGraphicMapping())throw new ee("query-features-json:unsupported","Cannot query in JSON format for client only geometry types (mesh and extent)");await this.load(i);const r=await this._connection.invoke("queryFeatures",e?e.toJSON():null,i);return wK(e,this.layer.spatialReference,r),r}queryFeatureCount(e,i={}){return this.load(i).then(()=>this._connection.invoke("queryFeatureCount",e?e.toJSON():null,i))}queryObjectIds(e,i={}){return this.load(i).then(()=>this._connection.invoke("queryObjectIds",e?e.toJSON():null,i))}queryExtent(e,i={}){return this.load(i).then(()=>this._connection.invoke("queryExtent",e?e.toJSON():null,i)).then(r=>({count:r.count,extent:jt.fromJSON(r.extent)}))}querySnapping(e,i={}){return this.load(i).then(()=>this._connection.invoke("querySnapping",e,i))}async queryAttributeBins(e,i={}){return await this.load(),this._connection.invoke("queryAttributeBins",e?.toJSON(),i)}async _applyEdits(e){if(!this._connection)throw new ee("feature-layer-source:edit-failure","Memory source not loaded");const i=this.layer.objectIdField;let r=null;const n=[],s=[];await Promise.all([this._prepareClientMapping(e.addFeatures,null),this._prepareClientMapping(e.updateFeatures,null)]);const o=f=>"objectId"in f&&f.objectId!=null?f.objectId:"attributes"in f&&f.attributes[i]!=null?f.attributes[i]:null;if(e.addFeatures&&(r=this._prepareAddFeatures(e.addFeatures)),e.deleteFeatures)for(const f of e.deleteFeatures){const g=o(f);g!=null&&n.push(g)}const a=e.updateFeatures&&this._idToClientGeometry?new Map:null;if(e.updateFeatures){for(const f of e.updateFeatures)if(s.push(this._serializeFeature(f)),a&&f.geometry!=null){const g=o(f);g!=null&&a.set(g,f)}}J4e(r?r.features:null,s,this.layer.spatialReference);const{fullExtent:l,featureEditResults:h}=await this._connection.invoke("applyEdits",{adds:r?r.features:[],updates:s,deletes:n});return this.fullExtent=l,r&&r.finish(h.uidToObjectId),this._updateIdToClientGeometries(a,h),this._createEditsResult(h)}async _prepareClientMapping(e,i){if(this._layerOrSourceGeometryType!=="mesh"||e==null)return;const r=[];for(const{geometry:n}of e)n==null||n.type!=="mesh"||n.hasExtent||n.loaded||r.push(n.load({signal:i}));r.length&&await Promise.all(r)}_updateIdToClientGeometries(e,i){if(this._idToClientGeometry){if(e)for(const r of i.updateResults){if(!r.success)continue;const n=e.get(r.objectId);n!=null&&this._addIdToClientGeometry(n)}for(const r of i.deleteResults)r.success&&this._idToClientGeometry.delete(r.objectId)}}_createEditsResult(e){return{addFeatureResults:e.addResults?e.addResults.map(this._createFeatureEditResult,this):[],updateFeatureResults:e.updateResults?e.updateResults.map(this._createFeatureEditResult,this):[],deleteFeatureResults:e.deleteResults?e.deleteResults.map(this._createFeatureEditResult,this):[],addAttachmentResults:[],updateAttachmentResults:[],deleteAttachmentResults:[]}}_createFeatureEditResult(e){const i=e.success===!0?null:e.error||{code:void 0,description:""};return{objectId:e.objectId,globalId:e.globalId,error:i?new ee("feature-layer-source:edit-failure",i.description,{code:i.code}):null}}_prepareAddFeatures(e){const i=new Map,r=new Array(e.length);let n=null;for(let o=0;o<e.length;o++){const a=e[o],l=this._serializeFeature(a);n||a.geometry==null||(n=a.geometry.type),r[o]=l,i.set(`${l.uid}`,a)}const s=this;return{features:r,inferredGeometryType:n,finish(o){const a=s.sourceJSON.objectIdField;for(const l in o){const h=o[l],f=i.get(l);f&&(f.attributes||(f.attributes={}),h===-1?delete f.attributes[a]:f.attributes[a]=h,s._addIdToClientGeometry(f))}}}}_addIdToClientGeometry(e){if(!this._idToClientGeometry)return;const i=this.sourceJSON.objectIdField,r=e.attributes?.[i];r!=null&&this._idToClientGeometry.set(r,e.geometry??null)}get _layerOrSourceGeometryType(){return this.layer?.geometryType??this.sourceJSON?.geometryType}_requiresClientGraphicMapping(){return this._geometryTypeRequiresClientGraphicMapping(this._layerOrSourceGeometryType)}_geometryRequiresClientGraphicMapping(e){return this._geometryTypeRequiresClientGraphicMapping(e.type)}_geometryTypeRequiresClientGraphicMapping(e){return e==="mesh"||e==="multipatch"||e==="extent"}_serializeFeature(e){const{attributes:i}=e,r=this._geometryForSerialization(e),n=(K4e++).toString();return r?{uid:n,geometry:r.toJSON(),attributes:i}:{uid:n,attributes:i}}_geometryForSerialization(e){const{geometry:i}=e;return i==null?null:this._geometryRequiresClientGraphicMapping(i)?i.extent?hr.fromExtent(i.extent):null:i}async _startWorker(e){this._connection=await lMe("MemorySourceWorker",{strategy:he("feature-layers-workers")?"dedicated":"local",signal:e,registryTarget:this});const{fields:i,spatialReference:r,objectIdField:n,hasM:s,hasZ:o,timeInfo:a,dateFieldsTimeZone:l}=this.layer,h=this.layer.originOf("spatialReference")==="defaults";await this._prepareClientMapping(this.items,e);const f=this._prepareAddFeatures(this.items);this.addHandles(this.on("before-changes",S=>{Ee.getLogger(this).error("Source modifications will not propagate after layer has been loaded. Please use .applyEdits() instead"),S.preventDefault()}));const g={features:f.features,fields:i?.map(S=>S.toJSON()),geometryType:CZ.toJSON(this._workerGeometryType),hasM:this._layerOrSourceGeometryType!=="mesh"&&s,hasZ:this._layerOrSourceGeometryType==="mesh"||o,objectIdField:n,spatialReference:h?null:r&&r.toJSON(),timeInfo:a?.toJSON()??null,dateFieldsTimeZone:l},v=await this._connection.invoke("load",g,{signal:e});for(const S of v.warnings)Ee.getLogger(this.layer).warn("#load()",`${S.message} (title: '${this.layer.title||"no title"}', id: '${this.layer.id??"no id"}')`,{warning:S});v.featureErrors.length&&Ee.getLogger(this.layer).warn("#load()",`Encountered ${v.featureErrors.length} validation errors while loading features. (title: '${this.layer.title||"no title"}', id: '${this.layer.id??"no id"}')`,{errors:v.featureErrors});const w=v.layerDefinition;this._geometryTypeRequiresClientGraphicMapping(f.inferredGeometryType)&&(w.geometryType=CZ.toJSON(f.inferredGeometryType)),this.sourceJSON=w,this._requiresClientGraphicMapping()&&(this._idToClientGeometry=new Map),f.finish(v.assignedObjectIds)}};u([PU({Type:Pr,ensureType:tn(Pr)})],Qh.prototype,"itemType",void 0),u([p()],Qh.prototype,"type",void 0),u([p({constructOnly:!0})],Qh.prototype,"layer",void 0),u([p({readOnly:!0})],Qh.prototype,"_workerGeometryType",null),u([p()],Qh.prototype,"sourceJSON",void 0),Qh=u([j("esri.layers.graphics.sources.MemorySource")],Qh);function Q4e(t){return"portalItem"in t}const e6e=t=>{const e=t;let i=class extends e{get apiKey(){return this._isOverridden("apiKey")?this._get("apiKey"):Q4e(this)?this.portalItem?.apiKey:null}set apiKey(r){r!=null?this._override("apiKey",r):(this._clearOverride("apiKey"),this.clear("apiKey","user"))}};return u([p({type:String})],i.prototype,"apiKey",null),i=u([j("esri.layers.mixins.APIKeyMixin")],i),i},t6e=t=>{const e=t;let i=class extends e{get title(){if(this._get("title")&&this.originOf("title")!=="defaults")return this._get("title");if(this.url){const r=Ld(this.url);if(r?.title)return r.title}return this._get("title")||""}set title(r){this._set("title",r)}set url(r){this._set("url",Owe(r,Ee.getLogger(this)))}};return u([p()],i.prototype,"title",null),u([p({type:String})],i.prototype,"url",null),i=u([j("esri.layers.mixins.ArcGISService")],i),i};let _K=class extends SyntaxError{constructor(e,i,r,n){super(e),this.expected=i,this.found=r,this.location=n,this.name="SyntaxError"}format(e){let i="Error: "+this.message;if(this.location){let r=null;const n=e.find(l=>l.source===this.location.source);n&&(r=n.text.split(/\r\n|\n|\r/g));const s=this.location.start,o=this.location.source&&typeof this.location.source.offset=="function"?this.location.source.offset(s):s,a=this.location.source+":"+o.line+":"+o.column;if(r){const l=this.location.end,h="".padEnd(o.line.toString().length," "),f=r[s.line-1],g=(s.line===l.line?l.column:f.length+1)-s.column||1;i+=`
 --> `+a+`
`+h+` |
`+o.line+" | "+f+`
`+h+" | "+"".padEnd(s.column-1," ")+"".padEnd(g,"^")}else i+=`
 at `+a}return i}static buildMessage(e,i){function r(v){return v.codePointAt(0).toString(16).toUpperCase()}const n=Object.prototype.hasOwnProperty.call(RegExp.prototype,"unicode")?new RegExp("[\\p{C}\\p{Mn}\\p{Mc}]","gu"):null;function s(v){return n?v.replace(n,w=>"\\u{"+r(w)+"}"):v}function o(v){return s(v.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,w=>"\\x0"+r(w)).replace(/[\x10-\x1F\x7F-\x9F]/g,w=>"\\x"+r(w)))}function a(v){return s(v.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,w=>"\\x0"+r(w)).replace(/[\x10-\x1F\x7F-\x9F]/g,w=>"\\x"+r(w)))}const l={literal:v=>'"'+o(v.text)+'"',class(v){const w=v.parts.map(S=>Array.isArray(S)?a(S[0])+"-"+a(S[1]):a(S));return"["+(v.inverted?"^":"")+w.join("")+"]"+(v.unicode?"u":"")},any:()=>"any character",end:()=>"end of input",other:v=>v.description};function h(v){return l[v.type](v)}function f(v){const w=v.map(h);if(w.sort(),w.length>0){let S=1;for(let T=1;T<w.length;T++)w[T-1]!==w[T]&&(w[S]=w[T],S++);w.length=S}switch(w.length){case 1:return w[0];case 2:return w[0]+" or "+w[1];default:return w.slice(0,-1).join(", ")+", or "+w[w.length-1]}}function g(v){return v?'"'+o(v)+'"':"end of input"}return"Expected "+f(e)+" but "+g(i)+" found."}};function i6e(t,e){const i={},r=(e=e!==void 0?e:{}).grammarSource,n={start:ab};let s=ab;const o="none",a=")",l=",",h="(",f="%",g="px",v="cm",w="mm",S="in",T="pt",C="pc",I="deg",A="rad",P="grad",D="turn",L="#",B=".",N="e",Y=/^[ \t\n\r]/,K=/^[a-z\-]/,te=/^[0-9a-fA-F]/,ue=/^[+\-]/,ye=/^[0-9]/,se=Fi("none"),G=ki("none",!1),ie=ki(")",!1),J=ki(",",!1),le=Ou([" ","	",`
`,"\r"],!1,!1,!1),ve=Fi("function"),Me=ki("(",!1),Ne=Fi("identifier"),X=Ou([["a","z"],"-"],!1,!1,!1),fe=Fi("percentage"),Pe=ki("%",!1),Be=Fi("length"),Je=ki("px",!1),lt=ki("cm",!1),St=ki("mm",!1),si=ki("in",!1),qe=ki("pt",!1),fo=ki("pc",!1),qn=Fi("angle"),xa=ki("deg",!1),$u=ki("rad",!1),hs=ki("grad",!1),Sa=ki("turn",!1),Ta=Fi("number"),Qv=Fi("color"),ku=ki("#",!1),Gp=Ou([["0","9"],["a","f"],["A","F"]],!1,!1,!1),fc=Ou(["+","-"],!1,!1,!1),ps=Ou([["0","9"]],!1,!1,!1),eb=ki(".",!1),tb=ki("e",!1);function hn(){return[]}function ib(Z,be){return{type:"function",name:Z,parameters:be||[]}}function Eu(Z,be){return be.length>0?pg(Z,be,3):[Z]}function rb(Z){return{type:"quantity",value:Z.value,unit:Z.unit}}function Iu(Z){return{type:"color",colorType:Z.type,value:Z.value}}function G1(Z){return Z}function Wp(){return Yn()}function lg(Z){return{value:Z,unit:"%"}}function cg(Z){return{value:Z,unit:"px"}}function Cu(Z){return{value:Z,unit:"cm"}}function Gn(Z){return{value:Z,unit:"mm"}}function mo(Z){return{value:Z,unit:"in"}}function Wn(Z){return{value:Z,unit:"pt"}}function nb(Z){return{value:Z,unit:"pc"}}function Hd(Z){return{value:Z,unit:"deg"}}function qd(Z){return{value:Z,unit:"rad"}}function $a(Z){return{value:Z,unit:"grad"}}function Gd(Z){return{value:Z,unit:"turn"}}function Mu(Z){return{value:Z,unit:null}}function xl(){return{type:"hex",value:Yn()}}function Au(Z){return{type:"function",value:Z}}function mc(){return{type:"named",value:Yn()}}function sb(){return parseFloat(Yn())}let Se=0|e.peg$currPos,Di=Se;const js=[{line:1,column:1}];let gc,Fs=Se,Wd=e.peg$maxFailExpected||[],ct=0|e.peg$silentFails;if(e.startRule){if(!(e.startRule in n))throw new Error(`Can't start parsing from rule "`+e.startRule+'".');s=n[e.startRule]}function Yn(){return t.substring(Di,Se)}function ka(Z=Se){const be=t.codePointAt(Z);return be===void 0?"":String.fromCodePoint(be)}function ki(Z,be){return{type:"literal",text:Z,ignoreCase:be}}function Ou(Z,be,Fe,$t){return{type:"class",parts:Z,inverted:be,ignoreCase:Fe,unicode:$t}}function Sl(){return{type:"end"}}function Fi(Z){return{type:"other",description:Z}}function sr(Z){let be,Fe=js[Z];if(Fe)return Fe;if(Z>=js.length)be=js.length-1;else for(be=Z;!js[--be];);for(Fe=js[be],Fe={line:Fe.line,column:Fe.column};be<Z;)t.charCodeAt(be)===10?(Fe.line++,Fe.column=1):Fe.column++,be++;return js[Z]=Fe,Fe}function Tt(Z,be,Fe){const $t=sr(Z),ui=sr(be);return{source:r,start:{offset:Z,line:$t.line,column:$t.column},end:{offset:be,line:ui.line,column:ui.column}}}function Ot(Z){Se<Fs||(Se>Fs&&(Fs=Se,Wd=[]),Wd.push(Z))}function ob(Z,be,Fe){return new _K(_K.buildMessage(Z,be),Z,be,Fe)}function ab(){let Z;return Z=lb(),Z===i&&(Z=Ea()),Z}function lb(){let Z,be;return ct++,Z=Se,or(),t.substr(Se,4)===o?(be=o,Se+=4):(be=i,ct===0&&Ot(G)),be!==i?(or(),Di=Z,Z=hn()):(Se=Z,Z=i),ct--,Z===i&&ct===0&&Ot(se),Z}function Ea(){let Z,be;if(Z=[],be=yc(),be!==i)for(;be!==i;)Z.push(be),be=yc();else Z=i;return Z}function yc(){let Z,be,Fe,$t;return Z=Se,or(),be=vc(),be!==i?(or(),Fe=Pu(),Fe===i&&(Fe=null),or(),t.charCodeAt(Se)===41?($t=a,Se++):($t=i,ct===0&&Ot(ie)),$t!==i?(or(),Di=Z,Z=ib(be,Fe)):(Se=Z,Z=i)):(Se=Z,Z=i),Z}function Pu(){let Z,be,Fe,$t,ui,Gi,Vi,fr;if(Z=Se,be=Tl(),be!==i){for(Fe=[],$t=Se,ui=or(),t.charCodeAt(Se)===44?(Gi=l,Se++):(Gi=i,ct===0&&Ot(J)),Gi===i&&(Gi=null),Vi=or(),fr=Tl(),fr!==i?(ui=[ui,Gi,Vi,fr],$t=ui):(Se=$t,$t=i);$t!==i;)Fe.push($t),$t=Se,ui=or(),t.charCodeAt(Se)===44?(Gi=l,Se++):(Gi=i,ct===0&&Ot(J)),Gi===i&&(Gi=null),Vi=or(),fr=Tl(),fr!==i?(ui=[ui,Gi,Vi,fr],$t=ui):(Se=$t,$t=i);Di=Z,Z=Eu(be,Fe)}else Se=Z,Z=i;return Z}function Tl(){let Z,be;return Z=Se,be=ug(),be===i&&(be=dg(),be===i&&(be=No(),be===i&&(be=bc()))),be!==i&&(Di=Z,be=rb(be)),Z=be,Z===i&&(Z=Se,be=hg(),be!==i&&(Di=Z,be=Iu(be)),Z=be),Z}function or(){let Z,be;for(ct++,Z=[],be=t.charAt(Se),Y.test(be)?Se++:(be=i,ct===0&&Ot(le));be!==i;)Z.push(be),be=t.charAt(Se),Y.test(be)?Se++:(be=i,ct===0&&Ot(le));return ct--,Z}function vc(){let Z,be,Fe;return ct++,Z=Se,be=Ir(),be!==i?(t.charCodeAt(Se)===40?(Fe=h,Se++):(Fe=i,ct===0&&Ot(Me)),Fe!==i?(Di=Z,Z=be):(Se=Z,Z=i)):(Se=Z,Z=i),ct--,Z===i&&(be=i,ct===0&&Ot(ve)),Z}function Ir(){let Z,be,Fe;if(ct++,Z=Se,be=[],Fe=t.charAt(Se),K.test(Fe)?Se++:(Fe=i,ct===0&&Ot(X)),Fe!==i)for(;Fe!==i;)be.push(Fe),Fe=t.charAt(Se),K.test(Fe)?Se++:(Fe=i,ct===0&&Ot(X));else be=i;return be!==i&&(Di=Z,be=Wp()),Z=be,ct--,Z===i&&(be=i,ct===0&&Ot(Ne)),Z}function ug(){let Z,be,Fe;return ct++,Z=Se,or(),be=Zn(),be!==i?(t.charCodeAt(Se)===37?(Fe=f,Se++):(Fe=i,ct===0&&Ot(Pe)),Fe!==i?(Di=Z,Z=lg(be)):(Se=Z,Z=i)):(Se=Z,Z=i),ct--,Z===i&&ct===0&&Ot(fe),Z}function dg(){let Z,be,Fe;return ct++,Z=Se,or(),be=Zn(),be!==i?(t.substr(Se,2)===g?(Fe=g,Se+=2):(Fe=i,ct===0&&Ot(Je)),Fe!==i?(Di=Z,Z=cg(be)):(Se=Z,Z=i)):(Se=Z,Z=i),Z===i&&(Z=Se,or(),be=Zn(),be!==i?(t.substr(Se,2)===v?(Fe=v,Se+=2):(Fe=i,ct===0&&Ot(lt)),Fe!==i?(Di=Z,Z=Cu(be)):(Se=Z,Z=i)):(Se=Z,Z=i),Z===i&&(Z=Se,or(),be=Zn(),be!==i?(t.substr(Se,2)===w?(Fe=w,Se+=2):(Fe=i,ct===0&&Ot(St)),Fe!==i?(Di=Z,Z=Gn(be)):(Se=Z,Z=i)):(Se=Z,Z=i),Z===i&&(Z=Se,or(),be=Zn(),be!==i?(t.substr(Se,2)===S?(Fe=S,Se+=2):(Fe=i,ct===0&&Ot(si)),Fe!==i?(Di=Z,Z=mo(be)):(Se=Z,Z=i)):(Se=Z,Z=i),Z===i&&(Z=Se,or(),be=Zn(),be!==i?(t.substr(Se,2)===T?(Fe=T,Se+=2):(Fe=i,ct===0&&Ot(qe)),Fe!==i?(Di=Z,Z=Wn(be)):(Se=Z,Z=i)):(Se=Z,Z=i),Z===i&&(Z=Se,or(),be=Zn(),be!==i?(t.substr(Se,2)===C?(Fe=C,Se+=2):(Fe=i,ct===0&&Ot(fo)),Fe!==i?(Di=Z,Z=nb(be)):(Se=Z,Z=i)):(Se=Z,Z=i)))))),ct--,Z===i&&ct===0&&Ot(Be),Z}function No(){let Z,be,Fe;return ct++,Z=Se,be=Zn(),be!==i?(t.substr(Se,3)===I?(Fe=I,Se+=3):(Fe=i,ct===0&&Ot(xa)),Fe!==i?(Di=Z,Z=Hd(be)):(Se=Z,Z=i)):(Se=Z,Z=i),Z===i&&(Z=Se,be=Zn(),be!==i?(t.substr(Se,3)===A?(Fe=A,Se+=3):(Fe=i,ct===0&&Ot($u)),Fe!==i?(Di=Z,Z=qd(be)):(Se=Z,Z=i)):(Se=Z,Z=i),Z===i&&(Z=Se,be=Zn(),be!==i?(t.substr(Se,4)===P?(Fe=P,Se+=4):(Fe=i,ct===0&&Ot(hs)),Fe!==i?(Di=Z,Z=$a(be)):(Se=Z,Z=i)):(Se=Z,Z=i),Z===i&&(Z=Se,be=Zn(),be!==i?(t.substr(Se,4)===D?(Fe=D,Se+=4):(Fe=i,ct===0&&Ot(Sa)),Fe!==i?(Di=Z,Z=Gd(be)):(Se=Z,Z=i)):(Se=Z,Z=i)))),ct--,Z===i&&(be=i,ct===0&&Ot(qn)),Z}function bc(){let Z,be;return ct++,Z=Se,or(),be=Zn(),be!==i?(Di=Z,Z=Mu(be)):(Se=Z,Z=i),ct--,Z===i&&ct===0&&Ot(Ta),Z}function hg(){let Z,be,Fe,$t;if(ct++,Z=Se,t.charCodeAt(Se)===35?(be=L,Se++):(be=i,ct===0&&Ot(ku)),be!==i){if(Fe=[],$t=t.charAt(Se),te.test($t)?Se++:($t=i,ct===0&&Ot(Gp)),$t!==i)for(;$t!==i;)Fe.push($t),$t=t.charAt(Se),te.test($t)?Se++:($t=i,ct===0&&Ot(Gp));else Fe=i;Fe!==i?(Di=Z,Z=xl()):(Se=Z,Z=i)}else Se=Z,Z=i;return Z===i&&(Z=Se,be=yc(),be!==i&&(Di=Z,be=Au(be)),Z=be,Z===i&&(Z=Se,be=Ir(),be!==i&&(Di=Z,be=mc()),Z=be)),ct--,Z===i&&(be=i,ct===0&&Ot(Qv)),Z}function Zn(){let Z,be,Fe,$t,ui,Gi,Vi,fr;for(Z=Se,be=t.charAt(Se),ue.test(be)?Se++:(be=i,ct===0&&Ot(fc)),be===i&&(be=null),Fe=Se,$t=[],ui=t.charAt(Se),ye.test(ui)?Se++:(ui=i,ct===0&&Ot(ps));ui!==i;)$t.push(ui),ui=t.charAt(Se),ye.test(ui)?Se++:(ui=i,ct===0&&Ot(ps));if(t.charCodeAt(Se)===46?(ui=B,Se++):(ui=i,ct===0&&Ot(eb)),ui!==i){if(Gi=[],Vi=t.charAt(Se),ye.test(Vi)?Se++:(Vi=i,ct===0&&Ot(ps)),Vi!==i)for(;Vi!==i;)Gi.push(Vi),Vi=t.charAt(Se),ye.test(Vi)?Se++:(Vi=i,ct===0&&Ot(ps));else Gi=i;Gi!==i?($t=[$t,ui,Gi],Fe=$t):(Se=Fe,Fe=i)}else Se=Fe,Fe=i;if(Fe===i)if(Fe=[],$t=t.charAt(Se),ye.test($t)?Se++:($t=i,ct===0&&Ot(ps)),$t!==i)for(;$t!==i;)Fe.push($t),$t=t.charAt(Se),ye.test($t)?Se++:($t=i,ct===0&&Ot(ps));else Fe=i;if(Fe!==i){if($t=Se,t.charCodeAt(Se)===101?(ui=N,Se++):(ui=i,ct===0&&Ot(tb)),ui!==i){if(Gi=t.charAt(Se),ue.test(Gi)?Se++:(Gi=i,ct===0&&Ot(fc)),Gi===i&&(Gi=null),Vi=[],fr=t.charAt(Se),ye.test(fr)?Se++:(fr=i,ct===0&&Ot(ps)),fr!==i)for(;fr!==i;)Vi.push(fr),fr=t.charAt(Se),ye.test(fr)?Se++:(fr=i,ct===0&&Ot(ps));else Vi=i;Vi!==i?(ui=[ui,Gi,Vi],$t=ui):(Se=$t,$t=i)}else Se=$t,$t=i;$t===i&&($t=null),Di=Z,Z=sb()}else Se=Z,Z=i;return Z}function cb(Z,be){return Z.map(function(Fe){return Fe[be]})}function pg(Z,be,Fe){return[Z].concat(cb(be,Fe))}gc=s();const Du=gc!==i&&Se===t.length;function wc(){throw gc!==i&&Se<t.length&&Ot(Sl()),ob(Wd,Fs<t.length?ka(Fs):null,Fs<t.length?Tt(Fs,Fs+1):Tt(Fs,Fs))}return e.peg$library?{peg$result:gc,peg$currPos:Se,peg$FAILED:i,peg$maxFailExpected:Wd,peg$maxFailPos:Fs,peg$success:Du,peg$throw:Du?void 0:wc}:Du?gc:void wc()}function mpe(t){if(!t||t.length===0)return null;if(typeof t=="string"){const i=xK(t);return i&&i.length!==0?i:null}const e=t.map(i=>{if(!Number.isFinite(i.scale)||i.scale<=0)throw new ee("effect:invalid-scale","scale must be finite and greater than 0",{stop:i});return{scale:i.scale,effects:xK(i.value)}});e.sort((i,r)=>r.effects.length-i.effects.length);for(let i=0;i<e.length-1;i++){if(!_Pe(e[i].effects,e[i+1].effects))throw new ee("effect:interpolation-impossible","Cannot interpolate by scale between 2 lists of mixed effects",{a:e[i].effects,b:e[i+1].effects});xPe(e[i].effects,e[i+1].effects)}return e.sort((i,r)=>r.scale-i.scale),e}function xK(t){let e;if(!t)return[];try{e=i6e(t)}catch(i){throw new ee("effect:invalid-syntax","Invalid effect syntax",{value:t,error:i})}return e.map(i=>r6e(i))}function r6e(t){try{switch(t.name){case"grayscale":case"sepia":case"saturate":case"invert":case"brightness":case"contrast":return n6e(t);case"opacity":return s6e(t);case"hue-rotate":return o6e(t);case"blur":return a6e(t);case"drop-shadow":return l6e(t);case"bloom":return c6e(t)}}catch(e){throw e.details.filter=t,e}throw new ee("effect:unknown-effect",`Effect '${t.name}' is not supported`,{effect:t})}function n6e(t){let e=1;return j1(t.parameters,1),t.parameters.length===1&&(e=iu(t.parameters[0])),new CF(t.name,e)}function s6e(t){let e=1;return j1(t.parameters,1),t.parameters.length===1&&(e=iu(t.parameters[0])),new Pce(e)}function o6e(t){let e=0;return j1(t.parameters,1),t.parameters.length===1&&(e=m6e(t.parameters[0])),new Ace(e)}function a6e(t){let e=0;return j1(t.parameters,1),t.parameters.length===1&&(e=CB(t.parameters[0]),hk(e,t.parameters[0])),new kce(e)}function l6e(t){const e=[];let i=null;for(const r of t.parameters)if(r.type==="color"){if(e.length&&Object.freeze(e),i)throw new ee("effect:type-error","Accepts only one color",{});i=g6e(r)}else{const n=CB(r);if(Object.isFrozen(e))throw new ee("effect:type-error","<length> parameters not consecutive",{lengths:e});e.push(n),e.length===3&&hk(n,r)}if(e.length<2||e.length>3)throw new ee("effect:type-error",`Expected <length>{2,3}, Actual: <length>{${e.length}}`,{lengths:e});return new Cce(e[0],e[1],e[2]||0,i||gpe("black"))}function c6e(t){let e=1,i=0,r=0;return j1(t.parameters,3),t.parameters[0]&&(e=iu(t.parameters[0])),t.parameters[1]&&(i=CB(t.parameters[1]),hk(i,t.parameters[1])),t.parameters[2]&&(r=iu(t.parameters[2])),new Tce(e,i,r)}function j1(t,e){if(t.length>e)throw new ee("effect:type-error",`Function supports up to ${e} parameters, Actual: ${t.length}`,{parameters:t})}function p3(t){if(t.type==="color")return"<color>";if(t.unit){if(t.unit in IB)return"<length>";if(t.unit in EB)return"<angle>";if(t.unit==="%")return"<percentage>"}return"<double>"}function hk(t,e){if(t<0)throw new ee("effect:type-error",`Negative values are not allowed, Actual: ${t}`,{term:e})}function u6e(t){if(t.type!=="quantity"||t.unit!==null)throw new ee("effect:type-error",`Expected <double>, Actual: ${p3(t)}`,{term:t})}function d6e(t){if(t.type!=="quantity"||t.unit!==null&&t.unit!=="%")throw new ee("effect:type-error",`Expected <double> or <percentage>, Actual: ${p3(t)}`,{term:t})}const EB={deg:1,grad:.9,rad:180/Math.PI,turn:360};function h6e(t){if(t.type!=="quantity"||!(t.value===0&&t.unit===null||t.unit&&EB[t.unit]!=null))throw new ee("effect:type-error",`Expected <angle>, Actual: ${p3(t)}`,{term:t})}const IB={px:1,cm:96/2.54,mm:96/2.54/10,in:96,pc:16,pt:96/72};function p6e(t){if(t.type!=="quantity"||!(t.value===0&&t.unit===null||t.unit&&IB[t.unit]!=null))throw new ee("effect:type-error",`Expected <length>, Actual: ${p3(t)}`,{term:t})}function iu(t){d6e(t);const e=t.value;return hk(e,t),t.unit==="%"?.01*e:e}function f6e(t){return u6e(t),hk(t.value,t),t.value}function m6e(t){return h6e(t),t.value*EB[t.unit]||0}function CB(t){return p6e(t),t.value*IB[t.unit]||0}function g6e(t){switch(t.colorType){case"hex":return tOe(t.value);case"named":return gpe(t.value);case"function":return b6e(t.value)}}function gpe(t){if(!sce(t))throw new ee("effect:unknown-color",`color '${t}' isn't valid`,{namedColor:t});return eOe(t)}const y6e=/^rgba?/i,v6e=/^hsla?/i;function b6e(t){if(j1(t.parameters,4),y6e.test(t.name))return[iu(t.parameters[0]),iu(t.parameters[1]),iu(t.parameters[2]),t.parameters[3]?iu(t.parameters[3]):1];if(v6e.test(t.name))return oce(f6e(t.parameters[0]),iu(t.parameters[1]),iu(t.parameters[2]),t.parameters[3]?iu(t.parameters[3]):1);throw new ee("effect:syntax-error",`Invalid color function '${t.name}'`,{colorFunction:t})}function Q2(t,e,i){try{return _6e(t)}catch(r){i?.messages?.push(r)}return null}function e$(t,e,i,r){try{const n=w6e(t);Kr(i,n,e)}catch(n){r.messages&&r.messages.push(n)}}function w6e(t){const e=mpe(t);return e?SPe(e)?e.map(i=>i.toJSON()):e.map(({scale:i,effects:r})=>({scale:i,value:r.map(n=>n.toJSON())})):null}function _6e(t){if(!t||t.length===0)return null;if(x6e(t)){const e=[];for(const i of t)e.push({scale:i.scale,value:SK(i.value)});return e}return SK(t)}function x6e(t){const e=t[0];return!!e&&"scale"in e}function SK(t){if(!t?.length)return"";const e=[];for(const i of t){let r=[];switch(i.type){case"grayscale":case"sepia":case"saturate":case"invert":case"brightness":case"contrast":case"opacity":r=[xh(i,"amount")];break;case"blur":r=[xh(i,"radius","pt")];break;case"hue-rotate":r=[xh(i,"angle","deg")];break;case"drop-shadow":r=[xh(i,"xoffset","pt"),xh(i,"yoffset","pt"),xh(i,"blurRadius","pt"),S6e(i,"color")];break;case"bloom":r=[xh(i,"strength"),xh(i,"radius","pt"),xh(i,"threshold")]}const n=`${i.type}(${r.filter(Boolean).join(" ")})`;mpe(n),e.push(n)}return e.join(" ")}function xh(t,e,i){if(t[e]==null)throw new ee("effect:missing-parameter",`Missing parameter '${e}' in ${t.type} effect`,{effect:t});return i?t[e]+i:""+t[e]}function S6e(t,e){if(t[e]==null)throw new ee("effect:missing-parameter",`Missing parameter '${e}' in ${t.type} effect`,{effect:t});const i=t[e];return`rgba(${i[0]||0}, ${i[1]||0}, ${i[2]||0}, ${i[3]/255||0})`}const T6e={type:["average","color-burn","color-dodge","color","darken","destination-atop","destination-in","destination-out","destination-over","difference","exclusion","hard-light","hue","invert","lighten","lighter","luminosity","minus","multiply","normal","overlay","plus","reflect","saturation","screen","soft-light","source-atop","source-in","source-out","vivid-light","xor"],nonNullable:!0,json:{read:!1,write:!1,origins:{"web-map":{read:!0,write:{layerContainerTypes:Ki}},"portal-item":{read:!0,write:{layerContainerTypes:Ki}}}}},TK={read:{reader:Q2},write:{allowNull:!0,writer:e$,layerContainerTypes:Ki}},$6e={json:{read:!1,write:!1,origins:{"web-map":TK,"portal-item":TK}}},k6e=t=>{const e=t;let i=class extends e{constructor(){super(...arguments),this.blendMode="normal",this.effect=null}};return u([p(T6e)],i.prototype,"blendMode",void 0),u([p($6e)],i.prototype,"effect",void 0),i=u([j("esri.layers.mixins.BlendLayer")],i),i},E6e=t=>{const e=t;let i=class extends e{constructor(){super(...arguments),this.customParameters=null}};return u([p({type:Object,json:{write:{overridePolicy:r=>({enabled:!!(r&&Object.keys(r).length>0)})}}})],i.prototype,"customParameters",void 0),i=u([j("esri.layers.mixins.CustomParametersMixin")],i),i},ype=96;function wdt(t,e){const i=t.extent,r=t.width,n=dc(i?.spatialReference);return i&&r?i.width/r*n*Aoe*ype:0}function _dt(t,e){return t/(dc(e)*Aoe*ype)}function xdt(t,e,i){return I6e(t,e)&&C6e(t,i)}function I6e(t,e){return e===0||fl(t,e)||t<e}function C6e(t,e){return e===0||fl(t,e)||t>e}function M6e(t,e){return fl(t,e)?0:(t||Number.POSITIVE_INFINITY)>(e||Number.POSITIVE_INFINITY)?1:-1}const $K={write:{overridePolicy:(t,e,i)=>({enabled:!i||i.filterMode==="scale"})}};let ep=class extends dt(ge){constructor(e){super(e),this.id=A1(),this.maxScale=0,this.minScale=0,this.title="",this.where=null}};u([p({type:String,json:{write:!0}})],ep.prototype,"id",void 0),u([p({type:Number,json:$K})],ep.prototype,"maxScale",void 0),u([p({type:Number,json:$K})],ep.prototype,"minScale",void 0),u([p({type:String,json:{write:!0}})],ep.prototype,"title",void 0),u([p({type:String,json:{write:!0}})],ep.prototype,"where",void 0),ep=u([j("esri.layers.support.DisplayFilter")],ep);function A6e(t,e){return{...e,filterMode:t.mode}}function Tdt(t,e){return vpe(t,e).next().value??null}function $dt(t,e,i){const r=O6e(t);if(r&&(kae(e,r[0])||tF(i,r[1])))return"";const n=Array.from(vpe(t,e,i)),s=P6e(n,e,i)?"1=1":n.map(o=>o.where||"1=1").reduce((o,a)=>OF(o,a),"");return s&&s!=="1=1"?s:""}function O6e(t){if(bpe(t)==="manual")return null;const e=[Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY];for(const{minScale:i,maxScale:r}of t.filters)e[0]=Math.max(e[0],t$(i)),e[1]=Math.min(e[1],AO(r));return e}function*vpe(t,e,i){if(bpe(t)==="manual"){const r=t.filters.find(n=>n.id===t.activeFilterId);r&&(yield r)}else{typeof e=="object"&&(e=e.scale);for(const r of t.filters)D6e(r.minScale,r.maxScale,e,i)&&(yield r)}}function P6e(t,e,i){if(t.length===0)return!0;const r=t$(t.at(0)?.minScale),n=AO(t.at(-1)?.maxScale);if(tF(r,e)||kae(n,i))return!0;for(let s=0;s<t.length-1;s++){const o=t[s],a=t[s+1];if(tF(t$(a.minScale),AO(o.maxScale)))return!0}return!1}function D6e(t,e,i,r){return t=t$(t),i=t$(i),e=AO(e),!(!fl(i,t)&&(r??i)>t)&&!PEe(e,i)&&(r===void 0||!fl(r,t))}function bpe(t){return"mode"in t?t.mode:t.filterMode}function t$(t){return t||Number.POSITIVE_INFINITY}function AO(t){return t||0}let by=class extends dt(ge){constructor(e){super(e),this.activeFilterId=null,this.filters=new(We.ofType(ep)),this.mode="manual"}writeFilters(e,i,r,n){const s=e.toArray();this.mode==="scale"&&s.sort((o,a)=>{const l=M6e(a.minScale,o.minScale),h=o.maxScale-a.maxScale;return l===0?h:l}),i[r]=s.map(o=>o.toJSON(n))}write(e,i){return super.write(e,A6e(this,i))}};u([p({type:String,json:{write:{overridePolicy:(t,e,i)=>({enabled:i.filterMode==="manual",isRequired:!0})}}})],by.prototype,"activeFilterId",void 0),u([p({type:We.ofType(ep),nonNullable:!0,json:{write:!0}})],by.prototype,"filters",void 0),u([ze("filters")],by.prototype,"writeFilters",null),u([p({type:["manual","scale"],nonNullable:!0,json:{name:"filterMode",write:!0}})],by.prototype,"mode",void 0),by=u([j("esri.layers.support.DisplayFilterInfo")],by);const R6e=t=>{const e=t;let i=class extends e{constructor(){super(...arguments),this.displayFilterEnabled=!0,this.displayFilterInfo=null}};return u([p(L6e)],i.prototype,"displayFilterEnabled",void 0),u([p(z6e)],i.prototype,"displayFilterInfo",void 0),i=u([j("esri.layers.mixins.DisplayFilteredLayer")],i),i},L6e={type:Boolean,json:{name:"layerDefinition.disableDisplayFilter",read:{reader:t=>!t},write:{layerContainerTypes:Ki,writer(t,e,i){Kr(i,!t,e)}},origins:{"web-scene":{write:!1,read:!1}}}},z6e={type:by,json:{name:"layerDefinition.displayFilterInfo",write:{enabled:!0,allowNull:!0,layerContainerTypes:Ki},origins:{"web-scene":{write:!1,read:!1}}}},Q6=Axe(),wpe=new Map,_pe=new Map;async function Edt(t,e,i){if(!t||!i)return!1;if(!e)return!0;const r=new URL(t).host;let n=wpe.get(r);if(!n){const s=t.replace(/\/FeatureServer/i,"/VersionManagementServer").replace(/\/\d*$/,"");n=(await Vt(s,{responseType:"json",query:{f:"json"}})).data.defaultVersionName}return n===e}async function kK(t,e,i=!1){if(!t||!e)return!0;const r=t.replace(/\/FeatureServer/i,"/VersionManagementServer").replace(/\/\d*$/,""),n=_pe.get(r)?.entries();if(n){for(const[s,o]of n)if(o.name===e){const a=!o.stack?.hasForwardEdits();if(!a&&i){const[{deleteForwardEdits:l},{default:h}]=await Promise.all([ke(()=>import("./deleteForwardEdits-CztS8bbw.js"),[]),ke(()=>import("./DeleteForwardEditsParameters-CJNy6NDr.js"),[])]),f=await l(r,s,new h({sessionId:Q6,moment:o.moment}));return f.success&&o.stack?.clearForwardEdits(),f.success}return a}}return!0}function VM(t,e){if(!t)return!1;const i=t.replace(/\/FeatureServer/i,"/VersionManagementServer").replace(/\/\d*$/,""),r=_pe.get(i)?.entries();if(r){for(const[n,s]of r)if(s.name===e)return s.lockType==="edit"}return!1}const MB=new Vre;function xpe(t){return MB.on("apply-edits",new WeakRef(t))}function Spe(t){return MB.on("update-moment",new WeakRef(t))}function EK(t,e,i=null,r=!1){const n=cs();return r=e==null||r,MB.emit("apply-edits",{serviceUrl:t,layerId:e,gdbVersion:i,mayReceiveServiceEdits:r,result:n.promise}),n}const Tpe=Symbol();function Idt(t){return t!=null&&typeof t=="object"&&Tpe in t}function hS(t){return t!=null&&typeof t=="object"&&"gdbVersion"in t}function i2(t,e,i){const r=new URL(t).host,n=wpe.get(r),s=o=>!o||o===n;return s(e)&&s(i)||e===i}const N6e=t=>{var n;var e;const i=t;let r=(n=class extends i{constructor(...s){super(...s),this[e]=!0,this._applyEditsHandler=o=>{const{serviceUrl:a,layerId:l,gdbVersion:h,mayReceiveServiceEdits:f,result:g}=o,v=a===this.url,w=l!=null&&this.layerId!=null&&l===this.layerId,S=hS(this),T=hS(this)&&i2(a,h,this.gdbVersion);if(!v||S&&!T||!w&&!f)return;const C=g.then(I=>{if(this.lastEditsEventDate=new Date,w&&(I.addedFeatures.length||I.updatedFeatures.length||I.deletedFeatures.length||I.addedAttachments.length||I.updatedAttachments.length||I.deletedAttachments.length))return this.emit("edits",ne(I)),I;const A=I.editedFeatures?.find(({layerId:D})=>D===this.layerId);if(A){const{adds:D,updates:L,deletes:B}=A.editedFeatures,N={edits:null,addedAttachments:[],deletedAttachments:[],updatedAttachments:[],addedFeatures:D?D.map(({attributes:Y})=>({objectId:this.objectIdField&&Y[this.objectIdField],globalId:this.globalIdField&&Y[this.globalIdField]})):[],deletedFeatures:B?B.map(({attributes:Y})=>({objectId:this.objectIdField&&Y[this.objectIdField],globalId:this.globalIdField&&Y[this.globalIdField]})):[],updatedFeatures:L?L.map(({current:{attributes:Y}})=>({objectId:this.objectIdField&&Y[this.objectIdField],globalId:this.globalIdField&&Y[this.globalIdField]})):[],editedFeatures:ne(I.editedFeatures),exceededTransferLimit:!1,historicMoment:ne(I.historicMoment)};return this.emit("edits",N),N}const P={edits:null,addedAttachments:[],deletedAttachments:[],updatedAttachments:[],addedFeatures:[],deletedFeatures:[],updatedFeatures:[],editedFeatures:ne(I.editedFeatures),exceededTransferLimit:!1,historicMoment:ne(I.historicMoment)};return"historicMoment"in this&&this._shouldUpdateHistoricMoment(a,h,P.historicMoment)&&this.emit("edits",P),P}).then(I=>("historicMoment"in this&&this._shouldUpdateHistoricMoment(a,h,I.historicMoment)&&(this.historicMoment=I.historicMoment),I));this.emit("apply-edits",{result:C})},this._updateMomentHandler=o=>{const{serviceUrl:a,gdbVersion:l,moment:h}=o,f=a===this.url,g=hS(this),v=hS(this)&&i2(a,l,this.gdbVersion),w=hS(this)&&!i2(a,this.gdbVersion,null);f&&g&&v&&w&&"historicMoment"in this&&this.historicMoment!==h&&(this.historicMoment=h)},this.when().then(()=>{this.addHandles(xpe(this._applyEditsHandler)),"historicMoment"in this&&this.addHandles(Spe(this._updateMomentHandler))},()=>{})}_shouldUpdateHistoricMoment(s,o,a){return"historicMoment"in this&&this.historicMoment!==a&&VM(s,o)}},e=Tpe,n);return u([p()],r.prototype,"lastEditsEventDate",void 0),r=u([j("esri.layers.mixins.EditBusLayer")],r),r};var e8;const Fz=new At({esriSpatialRelIntersects:"intersects",esriSpatialRelContains:"contains",esriSpatialRelCrosses:"crosses",esriSpatialRelDisjoint:"disjoint",esriSpatialRelEnvelopeIntersects:"envelope-intersects",esriSpatialRelIndexIntersects:"index-intersects",esriSpatialRelOverlaps:"overlaps",esriSpatialRelTouches:"touches",esriSpatialRelWithin:"within",esriSpatialRelRelation:"relation"}),Vz=new At({esriSRUnit_Meter:"meters",esriSRUnit_Kilometer:"kilometers",esriSRUnit_Foot:"feet",esriSRUnit_StatuteMile:"miles",esriSRUnit_NauticalMile:"nautical-miles",esriSRUnit_USNauticalMile:"us-nautical-miles"});let sd=e8=class extends ge{constructor(t){super(t),this.where=null,this.geometry=null,this.spatialRelationship="intersects",this.distance=void 0,this.objectIds=null,this.units=null,this.timeExtent=null}createQuery(t={}){const{where:e,geometry:i,spatialRelationship:r,timeExtent:n,objectIds:s,units:o,distance:a}=this;return new ot({geometry:ne(i),objectIds:ne(s),spatialRelationship:r,timeExtent:ne(n),where:e,units:o,distance:a,...t})}clone(){const{where:t,geometry:e,spatialRelationship:i,timeExtent:r,objectIds:n,units:s,distance:o}=this;return new e8({geometry:ne(e),objectIds:ne(n),spatialRelationship:i,timeExtent:ne(r),where:t,units:s,distance:o})}};u([p({type:String,json:{write:!0}})],sd.prototype,"where",void 0),u([p({types:R1,json:{write:!0}})],sd.prototype,"geometry",void 0),u([p({type:Fz.apiValues,json:{name:"spatialRel",read:{reader:Fz.read},write:{allowNull:!1,writer:Fz.write,overridePolicy(){return{enabled:this.geometry!=null}}}}})],sd.prototype,"spatialRelationship",void 0),u([p({type:Number,json:{write:{overridePolicy(t){return{enabled:t!=null&&this.geometry!=null}}}}})],sd.prototype,"distance",void 0),u([p({type:[Number],json:{write:!0}})],sd.prototype,"objectIds",void 0),u([p({type:Vz.apiValues,json:{read:Vz.read,write:{writer:Vz.write,overridePolicy(t){return{enabled:t!=null&&this.geometry!=null}}}}})],sd.prototype,"units",void 0),u([p({type:Oi,json:{write:!0}})],sd.prototype,"timeExtent",void 0),sd=e8=u([j("esri.layers.support.FeatureFilter")],sd);const t8=sd;var i8;const IK={read:{reader:Q2},write:{writer:e$,overridePolicy(){return{allowNull:this.excludedEffect!=null,isRequired:this.excludedEffect==null}}}},CK={read:{reader:Q2},write:{writer:e$,overridePolicy(){return{allowNull:this.includedEffect!=null,isRequired:this.includedEffect==null}}}},MK={name:"showExcludedLabels",default:!0};let wy=i8=class extends ge{constructor(t){super(t),this.filter=null,this.includedEffect=null,this.excludedEffect=null,this.excludedLabelsVisible=!1}write(t,e){const i=super.write(t,e);if(e?.origin){if(i.filter){const r=Object.keys(i.filter);if(r.length>1||r[0]!=="where")return e.messages?.push(new ee("web-document-write:unsupported-feature-effect","Invalid feature effect 'filter'. A filter can only contain a 'where' property",{layer:e.layer,effect:this})),null}if("showExcludedLabels"in i)return e.messages?.push(new ee("web-document-write:unsupported-feature-effect","Invalid value for property 'excludedLabelsVisible' which should always be 'true'",{layer:e.layer,effect:this})),null}return i}clone(){return new i8({filter:this.filter!=null?this.filter.clone():null,includedEffect:this.includedEffect,excludedEffect:this.excludedEffect,excludedLabelsVisible:this.excludedLabelsVisible})}};u([p({type:t8,json:{write:{allowNull:!0,writer(t,e,i,r){const n=t?.write({},r);n&&Object.keys(n).length!==0?Kr(i,n,e):Kr(i,null,e)}}}})],wy.prototype,"filter",void 0),u([p({json:{read:Q2,write:{writer:e$,allowNull:!0},origins:{"web-map":IK,"portal-item":IK}}})],wy.prototype,"includedEffect",void 0),u([p({json:{read:Q2,write:{writer:e$,allowNull:!0},origins:{"web-map":CK,"portal-item":CK}}})],wy.prototype,"excludedEffect",void 0),u([p({type:Boolean,json:{write:!0,name:"showExcludedLabels",origins:{"web-map":MK,"portal-item":MK}}})],wy.prototype,"excludedLabelsVisible",void 0),wy=i8=u([j("esri.layers.support.FeatureEffect")],wy);const AK={write:{allowNull:!0}},j6e={type:wy,json:{origins:{"web-map":AK,"portal-item":AK}}},F6e=t=>{const e=t;let i=class extends e{constructor(){super(...arguments),this.featureEffect=null}};return u([p(j6e)],i.prototype,"featureEffect",void 0),i=u([j("esri.layers.mixins.FeatureEffectLayer")],i),i};var r8;let eT=r8=class extends ge{constructor(t){super(t),this.expression=void 0,this.title=void 0}async collectRequiredFields(t,e){return ho(t,e,null,this.expression)}clone(){return new r8({expression:this.expression,title:this.title})}equals(t){return this.expression===t.expression&&this.title===t.title}};u([p({type:String,json:{write:{isRequired:!0}}})],eT.prototype,"expression",void 0),u([p({type:String,json:{write:!0}})],eT.prototype,"title",void 0),eT=r8=u([j("esri.symbols.support.FeatureExpressionInfo")],eT);const OK=eT,f3={unknown:1,inches:Wr(1,"meters","inches"),feet:Wr(1,"meters","feet"),"us-feet":Wr(1,"meters","us-feet"),yards:Wr(1,"meters","yards"),miles:Wr(1,"meters","miles"),"nautical-miles":Wr(1,"meters","nautical-miles"),millimeters:Wr(1,"meters","millimeters"),centimeters:Wr(1,"meters","centimeters"),decimeters:Wr(1,"meters","decimeters"),meters:Wr(1,"meters","meters"),kilometers:Wr(1,"meters","kilometers"),"decimal-degrees":1/g$e(1,"meters",zr.radius)};function Cdt(t){return!!t&&f3[t]!=null}function Mdt(t){return 1/(f3[t]||1)}function V6e(){const t=Object.keys(f3);return KV(t,"decimal-degrees"),t.sort(),t}const U6e=V6e(),AI=En()({onTheGround:"on-the-ground",relativeToGround:"relative-to-ground",relativeToScene:"relative-to-scene",absoluteHeight:"absolute-height"}),PK=new At({foot:"feet",kilometer:"kilometers",meter:"meters",mile:"miles","us-foot":"us-feet",yard:"yards"});let Vh=class extends dt(ge){constructor(e){super(e),this.featureExpressionInfo=void 0,this.offset=null}readFeatureExpressionInfo(e,i){return e!=null?e.expression?e:void 0:i.featureExpression&&i.featureExpression.value===0?{expression:"0"}:void 0}writeFeatureExpressionInfo(e,i,r,n){i[r]=e.write({},n),e.expression==="0"&&(i.featureExpression={value:0})}get mode(){const{offset:e,featureExpressionInfo:i}=this;return this._isOverridden("mode")?this._get("mode"):e!=null||i?"relative-to-ground":"on-the-ground"}set mode(e){this._override("mode",e)}set unit(e){this._set("unit",e)}write(e,i){return this.offset||this.mode||this.featureExpressionInfo||this.unit?super.write(e,i):null}equals(e){return this.mode===e.mode&&this.offset===e.offset&&this.unit===e.unit&&Wve(this.featureExpressionInfo,e.featureExpressionInfo)}};u([p({type:OK,json:{write:!0}})],Vh.prototype,"featureExpressionInfo",void 0),u([Ae("featureExpressionInfo",["featureExpressionInfo","featureExpression"])],Vh.prototype,"readFeatureExpressionInfo",null),u([ze("featureExpressionInfo",{featureExpressionInfo:{type:OK},"featureExpression.value":{type:[0]}})],Vh.prototype,"writeFeatureExpressionInfo",null),u([p({type:AI.apiValues,nonNullable:!0,json:{type:AI.jsonValues,read:AI.read,write:{writer:AI.write,isRequired:!0}}})],Vh.prototype,"mode",null),u([p({type:Number,json:{write:!0}})],Vh.prototype,"offset",void 0),u([p({type:U6e,json:{type:String,read:PK.read,write:PK.write}})],Vh.prototype,"unit",null),Vh=u([j("esri.symbols.support.ElevationInfo")],Vh);let sw=class extends ge{constructor(e){super(e),this.description=null,this.label=null,this.type=null}};u([p({type:String,json:{write:!0}})],sw.prototype,"description",void 0),u([p({type:String,json:{write:!0}})],sw.prototype,"label",void 0),u([p()],sw.prototype,"type",void 0),sw=u([j("esri.tables.elements.AttributeTableElement")],sw);const F1=sw;let tT=class extends dt(F1){constructor(e){super(e),this.displayType="auto",this.type="attachment"}clone(){return super.clone()}};u([p({type:["auto"],json:{write:!0}})],tT.prototype,"displayType",void 0),u([p({type:["attachment"],readOnly:!0,json:{read:!1,write:{enabled:!0,isRequired:!0}}})],tT.prototype,"type",void 0),tT=u([j("esri.tables.elements.AttributeTableAttachmentElement")],tT);const $pe=tT;let _y=class extends dt(F1){constructor(e){super(e),this.description=null,this.fieldName=null,this.label=null,this.type="field"}clone(){return super.clone()}};u([p({type:String,json:{read:!1,write:!1}})],_y.prototype,"description",void 0),u([p({type:String,json:{write:{enabled:!0,isRequired:!0}}})],_y.prototype,"fieldName",void 0),u([p({type:String,json:{read:!1,write:!1}})],_y.prototype,"label",void 0),u([p({type:["field"],readOnly:!0,json:{read:!1,write:{enabled:!0,isRequired:!0}}})],_y.prototype,"type",void 0),_y=u([j("esri.tables.elements.AttributeTableFieldElement")],_y);const kpe=_y;let iT=class extends dt(F1){constructor(e){super(e),this.relationshipId=null,this.type="relationship"}clone(){return super.clone()}};u([p({type:Number,json:{type:Ht,write:{enabled:!0,isRequired:!0}}})],iT.prototype,"relationshipId",void 0),u([p({type:["relationship"],readOnly:!0,json:{read:!1,write:{enabled:!0,isRequired:!0}}})],iT.prototype,"type",void 0),iT=u([j("esri.tables.elements.AttributeTableRelationshipElement")],iT);const Epe=iT,Ipe={base:F1,key:"type",typeMap:{attachment:$pe,field:kpe,relationship:Epe}};function B6e(t){return{typesWithGroup:{base:F1,key:"type",typeMap:{attachment:$pe,field:kpe,group:t,relationship:Epe}},typesWithoutGroup:Ipe}}let rT=class extends dt(F1){constructor(e){super(e),this.elements=null,this.type="group"}clone(){return super.clone()}};u([p({types:[Ipe],json:{name:"attributeTableElements",write:!0}})],rT.prototype,"elements",void 0),u([p({type:["group"],readOnly:!0,json:{read:!1,write:{enabled:!0,isRequired:!0}}})],rT.prototype,"type",void 0),rT=u([j("esri.tables.elements.AttributeTableGroupElement")],rT);const H6e=rT;let nT=class extends dt(ge){constructor(e){super(e),this.field=null,this.order=null}};u([p({type:String,json:{write:!0}})],nT.prototype,"field",void 0),u([p({type:["asc","desc"],json:{write:!0}})],nT.prototype,"order",void 0),nT=u([j("esri.tables.support.FieldOrder")],nT);const q6e=nT;var n8;const G6e=B6e(H6e);let sT=n8=class extends ge{constructor(t){super(t),this.elements=null,this.orderByFields=null}clone(){return new n8({elements:ne(this.elements),orderByFields:ne(this.orderByFields)})}};u([p({types:[G6e.typesWithGroup],json:{name:"attributeTableElements",write:!0}})],sT.prototype,"elements",void 0),u([p({type:[q6e],json:{write:!0}})],sT.prototype,"orderByFields",void 0),sT=n8=u([j("esri.tables.AttributeTableTemplate")],sT);const W6e=sT,Y6e={type:Boolean,value:!0,json:{origins:{service:{read:!1,write:!1},"web-map":{read:!1,write:!1}},name:"screenSizePerspective",write:{enabled:!0,layerContainerTypes:Ki}}},m3={type:Boolean,value:!0,json:{name:"disablePopup",read:{reader:(t,e)=>!e.disablePopup},write:{enabled:!0,writer(t,e,i){e[i]=!t}}}},g3={type:Boolean,value:!0,nonNullable:!0,json:{name:"showLabels",write:{enabled:!0,layerContainerTypes:Ki}}},Z6e={type:String,json:{origins:{"portal-item":{write:!1}},write:{isRequired:!0,ignoreOrigin:!0,writer:wv}}},J6e={type:Boolean,value:!0,nonNullable:!0,json:{origins:{service:{read:{enabled:!1}}},name:"showLegend",write:{enabled:!0,layerContainerTypes:Ki}}},X6e={value:null,type:Vh,json:{origins:{service:{name:"elevationInfo",write:!0}},name:"layerDefinition.elevationInfo",write:{enabled:!0,layerContainerTypes:Ki}}};function Ndt(t){return{type:t,readOnly:!0,json:{origins:{service:{read:!0}},read:!1}}}const Cpe={write:{enabled:!0,layerContainerTypes:Ki},read:!0},s8={type:Number,json:{origins:{"web-document":Cpe,"portal-item":{write:{layerContainerTypes:Ki}}}}},K6e={...s8,json:{...s8.json,origins:{"web-document":{...Cpe,write:{enabled:!0,layerContainerTypes:Ki,target:{opacity:{type:Number},"layerDefinition.drawingInfo.transparency":{type:Number}}}}},read:{source:["layerDefinition.drawingInfo.transparency","drawingInfo.transparency"],reader:(t,e,i)=>i&&i.origin!=="service"||!e.drawingInfo||e.drawingInfo.transparency===void 0?e.layerDefinition?.drawingInfo&&e.layerDefinition.drawingInfo.transparency!==void 0?W2(e.layerDefinition.drawingInfo.transparency):void 0:W2(e.drawingInfo.transparency)}}},jdt={type:jt,readOnly:!0,json:{origins:{service:{read:{source:["fullExtent","spatialReference"],reader:(t,e)=>{const i=jt.fromJSON(t);return e.spatialReference!=null&&typeof e.spatialReference=="object"&&(i.spatialReference=Ke.fromJSON(e.spatialReference)),i}}}},read:!1}},Q6e={type:String,json:{origins:{service:{read:!1},"portal-item":{read:!1}}}},e8e={type:Number,json:{origins:{service:{write:{enabled:!1}}},name:"layerDefinition.minScale",write:{layerContainerTypes:Ki}}},t8e={type:Number,json:{origins:{service:{write:{enabled:!1}}},name:"layerDefinition.maxScale",write:{layerContainerTypes:Ki}}},Mpe={json:{write:{ignoreOrigin:!0,layerContainerTypes:Ki},origins:{"web-map":{read:!1,write:!1}}}},i8e={type:W6e,json:{name:"attributeTableInfo",write:!0}};let Uh=class extends dt(ge){constructor(e){super(e),this.creatorField=null,this.creationDateField=null,this.editorField=null,this.editDateField=null,this.realm=null,this.timeZone=null}};u([p()],Uh.prototype,"creatorField",void 0),u([p()],Uh.prototype,"creationDateField",void 0),u([p()],Uh.prototype,"editorField",void 0),u([p()],Uh.prototype,"editDateField",void 0),u([p()],Uh.prototype,"realm",void 0),u([p(VA("dateFieldsTimeReference",!0))],Uh.prototype,"timeZone",void 0),Uh=u([j("esri.layers.support.EditFieldsInfo")],Uh);let ud=class extends dt(ge){constructor(e){super(e)}};u([p({constructOnly:!0,json:{write:!0}})],ud.prototype,"name",void 0),u([p({constructOnly:!0,json:{write:!0}})],ud.prototype,"fields",void 0),u([p({constructOnly:!0,json:{write:!0}})],ud.prototype,"isAscending",void 0),u([p({constructOnly:!0,json:{write:!0}})],ud.prototype,"indexType",void 0),u([p({constructOnly:!0,json:{write:!0}})],ud.prototype,"isUnique",void 0),u([p({constructOnly:!0,json:{write:!0}})],ud.prototype,"description",void 0),ud=u([j("esri.layers.support.FeatureIndex")],ud);async function Ape(t,e,i){e=e.clone(),t.capabilities.query.supportsMaxRecordCountFactor&&(e.maxRecordCountFactor=Ope(t));const r=r8e(t),n=t.capabilities.query.supportsPagination;e.start=0,e.num=r;let s=null;for(;;){const o=await t.source.queryFeaturesJSON(e,i);if(s==null?s=o:s.features=s.features.concat(o.features),s.exceededTransferLimit=o.exceededTransferLimit,!n||!o.exceededTransferLimit)break;e.start+=r}return s}function r8e(t){return Ope(t)*n8e(t)}function n8e(t){return t.capabilities.query.maxRecordCount||2e3}function Ope(t){return t.capabilities.query.supportsMaxRecordCountFactor?ot.MAX_MAX_RECORD_COUNT_FACTOR:1}var o8;let oT=o8=class extends ge{constructor(t){super(t),this.minValue=0,this.maxValue=0}clone(){return new o8({minValue:this.minValue,maxValue:this.maxValue})}};u([p({type:Number,json:{write:!0}})],oT.prototype,"minValue",void 0),u([p({type:Number,json:{write:!0}})],oT.prototype,"maxValue",void 0),oT=o8=u([j("esri.renderers.support.AuthoringInfoClassBreakInfo")],oT);var a8;let lm=a8=class extends ge{constructor(t){super(t),this.field="",this.normalizationField="",this.label="",this.classBreakInfos=new Array}clone(){return new a8({field:this.field,normalizationField:this.normalizationField,label:this.label,classBreakInfos:ne(this.classBreakInfos)})}};u([p({type:String,json:{write:!0}})],lm.prototype,"field",void 0),u([p({type:String,json:{write:!0}})],lm.prototype,"normalizationField",void 0),u([p({type:String,json:{write:!0}})],lm.prototype,"label",void 0),u([p({type:[oT],json:{write:!0}})],lm.prototype,"classBreakInfos",void 0),lm=a8=u([j("esri.renderers.support.AuthoringInfoFieldInfo")],lm);var l8;let ow=l8=class extends ge{constructor(t){super(t),this.label=null,this.size=null,this.value=null}clone(){return new l8({label:this.label,value:this.value,size:this.size})}};u([p({type:String,json:{write:!0}})],ow.prototype,"label",void 0),u([p({type:Number,json:{write:!0}})],ow.prototype,"size",void 0),u([p({type:Number,json:{write:!0}})],ow.prototype,"value",void 0),ow=l8=u([j("esri.renderers.support.AuthoringInfoSizeStop")],ow);const s8e=ow;var c8;const OI=new At({percentTotal:"percent-of-total",ratio:"ratio",percent:"percent"}),PI=new At({sizeInfo:"size",colorInfo:"color",transparencyInfo:"opacity",rotationInfo:"rotation"}),DK={key:t=>typeof t=="number"?"number":"string",typeMap:{number:Number,string:String},base:null},RK=["high-to-low","above-and-below","centered-on","extremes"],LK=[...new Set(["high-to-low","above-and-below","centered-on","extremes","above","below","high-to-low","above-and-below","above","below","reference-size","spike"])],zK=["seconds","minutes","hours","days","months","years"],o8e=["circle","diamond","hexagon-flat","hexagon-pointy","square"],a8e=["triangle-closed-outline","triangle-gradient-fill-closed","triangle-gradient-fill-closed-outline","triangle-gradient-fill-open","triangle-gradient-fill-open-outline","triangle-open-outline","triangle-solid-fill-closed","triangle-solid-fill-closed-outline","triangle-solid-fill-open","triangle-solid-fill-open-outline"];let An=c8=class extends ge{constructor(t){super(t),this.endTime=null,this.field=null,this.maxSliderValue=null,this.minSliderValue=null,this.startTime=null,this.type=null,this.units=null}castEndTime(t){return typeof t=="string"||typeof t=="number"?t:null}get normalizationField(){return this.theme==="reference-size"||this.theme==="spike"?this._get("normalizationField"):null}set normalizationField(t){this._set("normalizationField",t)}get referenceSizeScale(){return this.theme==="reference-size"?this._get("referenceSizeScale"):null}set referenceSizeScale(t){this._set("referenceSizeScale",t)}get referenceSizeSymbolStyle(){return this.theme==="reference-size"?this._get("referenceSizeSymbolStyle"):null}set referenceSizeSymbolStyle(t){this._set("referenceSizeSymbolStyle",t)}get spikeSymbolStyle(){return this.theme==="spike"?this._get("spikeSymbolStyle"):null}set spikeSymbolStyle(t){this._set("spikeSymbolStyle",t)}castStartTime(t){return typeof t=="string"||typeof t=="number"?t:null}get sizeStops(){return this.theme==="reference-size"||this.theme==="spike"?this._get("sizeStops"):null}set sizeStops(t){this._set("sizeStops",t)}get style(){return this.type==="color"?this._get("style"):null}set style(t){this._set("style",t)}get theme(){return this.type==="color"||this.type==="size"?this._get("theme")||"high-to-low":null}set theme(t){this._set("theme",t)}clone(){return new c8({endTime:this.endTime,field:this.field,maxSliderValue:this.maxSliderValue,minSliderValue:this.minSliderValue,normalizationField:this.normalizationField,referenceSizeScale:this.referenceSizeScale,referenceSizeSymbolStyle:this.referenceSizeSymbolStyle,spikeSymbolStyle:this.spikeSymbolStyle,sizeStops:ne(this.sizeStops),startTime:this.startTime,style:this.style,theme:this.theme,type:this.type,units:this.units})}};u([p({types:DK,json:{write:!0}})],An.prototype,"endTime",void 0),u([bi("endTime")],An.prototype,"castEndTime",null),u([p({type:String,json:{write:!0}})],An.prototype,"field",void 0),u([p({type:Number,json:{write:!0}})],An.prototype,"maxSliderValue",void 0),u([p({type:Number,json:{write:!0}})],An.prototype,"minSliderValue",void 0),u([p({type:String,json:{origins:{"web-scene":{write:!1}},write:!0}})],An.prototype,"normalizationField",null),u([p({type:Number,value:null,json:{origins:{"web-scene":{write:!1}},write:!0}})],An.prototype,"referenceSizeScale",null),u([p({type:o8e,value:null,json:{origins:{"web-scene":{write:!1}},write:!0}})],An.prototype,"referenceSizeSymbolStyle",null),u([p({type:a8e,value:null,json:{origins:{"web-scene":{write:!1}},write:!0}})],An.prototype,"spikeSymbolStyle",null),u([p({types:DK,json:{write:!0}})],An.prototype,"startTime",void 0),u([bi("startTime")],An.prototype,"castStartTime",null),u([p({type:[s8e],json:{origins:{"web-scene":{write:!1}},write:!0}})],An.prototype,"sizeStops",null),u([p({type:OI.apiValues,value:null,json:{type:OI.jsonValues,read:OI.read,write:OI.write}})],An.prototype,"style",null),u([p({type:LK,value:null,json:{type:LK,origins:{"web-scene":{type:RK,write:{writer:(t,e)=>{RK.includes(t)&&(e.theme=t)}}}},write:!0}})],An.prototype,"theme",null),u([p({type:PI.apiValues,json:{type:PI.jsonValues,read:PI.read,write:PI.write}})],An.prototype,"type",void 0),u([p({type:zK,json:{type:zK,write:!0}})],An.prototype,"units",void 0),An=c8=u([j("esri.renderers.support.AuthoringInfoVisualVariable")],An);const l8e=An;let i_=class extends ge{constructor(e){super(e),this.type=null}};u([p({readOnly:!0,json:{read:!1,write:!0}})],i_.prototype,"type",void 0),i_=u([j("esri.rest.support.ColorRamp")],i_);var u8;let dp=u8=class extends i_{constructor(t){super(t),this.algorithm=null,this.fromColor=null,this.toColor=null,this.type="algorithmic"}clone(){return new u8({fromColor:ne(this.fromColor),toColor:ne(this.toColor),algorithm:this.algorithm})}};u([nt({esriCIELabAlgorithm:"cie-lab",esriHSVAlgorithm:"hsv",esriLabLChAlgorithm:"lab-lch"})],dp.prototype,"algorithm",void 0),u([p({type:xt,json:{type:[Ht],write:{isRequired:!0}}})],dp.prototype,"fromColor",void 0),u([p({type:xt,json:{type:[Ht],write:{isRequired:!0}}})],dp.prototype,"toColor",void 0),u([p({type:["algorithmic"],json:{write:{isRequired:!0}}})],dp.prototype,"type",void 0),dp=u8=u([j("esri.rest.support.AlgorithmicColorRamp")],dp);var d8;let tp=d8=class extends i_{constructor(t){super(t),this.colorRamps=null,this.type="multipart",this.weights=void 0}writeColorRamps(t,e,i,r){const n=t?.map(o=>o.toJSON(r)),{weights:s}=this;if(n&&s?.length&&n.length===s?.length){const o=100/s.reduce((l,h)=>l+h);let a=0;n.forEach((l,h)=>{l.start=a,a+=s[h]*o,l.stop=a})}e.colorRamps=n}readWeights(t,e){const i=e.colorRamps?.map(({start:r,stop:n})=>r==null||n==null?-1:n-r);if(!i?.some(r=>r<0))return i}clone(){return new d8({colorRamps:ne(this.colorRamps)})}};u([p({type:[dp],json:{write:{isRequired:!0}}})],tp.prototype,"colorRamps",void 0),u([ze("colorRamps")],tp.prototype,"writeColorRamps",null),u([p({type:["multipart"],json:{write:{isRequired:!0}}})],tp.prototype,"type",void 0),u([p({type:[Number]})],tp.prototype,"weights",void 0),u([Ae("weights",["colorRamps"])],tp.prototype,"readWeights",null),tp=d8=u([j("esri.rest.support.MultipartColorRamp")],tp);const c8e={key:"type",base:i_,typeMap:{algorithmic:dp,multipart:tp}};function u8e(t){return t?.type?t.type==="algorithmic"?dp.fromJSON(t):t.type==="multipart"?tp.fromJSON(t):null:null}var h8;const Wg=new At({esriClassifyDefinedInterval:"defined-interval",esriClassifyEqualInterval:"equal-interval",esriClassifyManual:"manual",esriClassifyNaturalBreaks:"natural-breaks",esriClassifyQuantile:"quantile",esriClassifyStandardDeviation:"standard-deviation"}),DI=new At({classedSize:"class-breaks-size",classedColor:"class-breaks-color",univariateColorSize:"univariate-color-size",relationship:"relationship",predominance:"predominance",dotDensity:"dot-density",flow:"flow"}),NK=["inches","feet","yards","miles","nautical-miles","millimeters","centimeters","decimeters","meters","kilometers"],d8e=["high-to-low","above-and-below","above","below"],h8e=["flow-line","wave-front"],p8e=["caret","circle-caret","arrow","circle-arrow","plus-minus","circle-plus-minus","square","circle","triangle","happy-sad","thumb","custom"];let br=h8=class extends ge{constructor(t){super(t),this.colorRamp=null,this.fadeRatio=null,this.isAutoGenerated=!1,this.lengthUnit=null,this.maxSliderValue=null,this.minSliderValue=null,this.visualVariables=null}get classificationMethod(){const t=this._get("classificationMethod"),e=this.type;return e&&e!=="relationship"?e==="class-breaks-size"||e==="class-breaks-color"?t||"manual":null:t}set classificationMethod(t){this._set("classificationMethod",t)}readColorRamp(t){return t?u8e(t):void 0}get fields(){return this.type&&this.type!=="predominance"?null:this._get("fields")}set fields(t){this._set("fields",t)}get field1(){return this.type&&this.type!=="relationship"?null:this._get("field1")}set field1(t){this._set("field1",t)}get field2(){return this.type&&this.type!=="relationship"?null:this._get("field2")}set field2(t){this._set("field2",t)}get flowTheme(){return this.type==="flow"?this._get("flowTheme"):null}set flowTheme(t){this._set("flowTheme",t)}get focus(){return this.type&&this.type!=="relationship"?null:this._get("focus")}set focus(t){this._set("focus",t)}get numClasses(){return this.type&&this.type!=="relationship"?null:this._get("numClasses")}set numClasses(t){this._set("numClasses",t)}get statistics(){return this.type==="univariate-color-size"&&this.univariateTheme==="above-and-below"?this._get("statistics"):null}set statistics(t){this._set("statistics",t)}get standardDeviationInterval(){const t=this.type;return t&&t!=="relationship"&&t!=="class-breaks-size"&&t!=="class-breaks-color"||this.classificationMethod&&this.classificationMethod!=="standard-deviation"?null:this._get("standardDeviationInterval")}set standardDeviationInterval(t){this._set("standardDeviationInterval",t)}get type(){return this._get("type")}set type(t){let e=t;t==="classed-size"?e="class-breaks-size":t==="classed-color"&&(e="class-breaks-color"),this._set("type",e)}get univariateSymbolStyle(){return this.type==="univariate-color-size"&&this.univariateTheme==="above-and-below"?this._get("univariateSymbolStyle"):null}set univariateSymbolStyle(t){this._set("univariateSymbolStyle",t)}get univariateTheme(){return this.type==="univariate-color-size"?this._get("univariateTheme"):null}set univariateTheme(t){this._set("univariateTheme",t)}clone(){return new h8({classificationMethod:this.classificationMethod,colorRamp:ne(this.colorRamp),fadeRatio:ne(this.fadeRatio),fields:this.fields?.slice(),field1:ne(this.field1),field2:ne(this.field2),isAutoGenerated:this.isAutoGenerated,focus:this.focus,numClasses:this.numClasses,maxSliderValue:this.maxSliderValue,minSliderValue:this.minSliderValue,lengthUnit:this.lengthUnit,statistics:this.statistics,standardDeviationInterval:this.standardDeviationInterval,type:this.type,visualVariables:this.visualVariables&&this.visualVariables.map(t=>t.clone()),univariateSymbolStyle:this.univariateSymbolStyle,univariateTheme:this.univariateTheme,flowTheme:this.flowTheme})}};u([p({type:Wg.apiValues,value:null,json:{type:Wg.jsonValues,read:Wg.read,write:Wg.write,origins:{"web-document":{default:"manual",type:Wg.jsonValues,read:Wg.read,write:Wg.write}}}})],br.prototype,"classificationMethod",null),u([p({types:c8e,json:{write:!0}})],br.prototype,"colorRamp",void 0),u([Ae("colorRamp")],br.prototype,"readColorRamp",null),u([p({json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],br.prototype,"fadeRatio",void 0),u([p({type:[String],value:null,json:{write:!0}})],br.prototype,"fields",null),u([p({type:lm,value:null,json:{write:!0}})],br.prototype,"field1",null),u([p({type:lm,value:null,json:{write:!0}})],br.prototype,"field2",null),u([p({type:h8e,value:null,json:{write:!0,origins:{"web-scene":{write:!1}}}})],br.prototype,"flowTheme",null),u([p({type:["HH","HL","LH","LL"],value:null,json:{write:!0}})],br.prototype,"focus",null),u([p({type:Boolean,json:{write:!0,default:!1,origins:{"web-scene":{write:!1}}}})],br.prototype,"isAutoGenerated",void 0),u([p({type:Number,value:null,json:{type:Ht,write:!0}})],br.prototype,"numClasses",null),u([p({type:NK,json:{type:NK,read:!1,write:!1,origins:{"web-scene":{read:!0,write:!0}}}})],br.prototype,"lengthUnit",void 0),u([p({type:Number,json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],br.prototype,"maxSliderValue",void 0),u([p({type:Number,json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],br.prototype,"minSliderValue",void 0),u([p({type:Object,value:null,json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],br.prototype,"statistics",null),u([p({type:[.25,.33,.5,1],value:null,json:{type:[.25,.33,.5,1],write:!0}})],br.prototype,"standardDeviationInterval",null),u([p({type:DI.apiValues,value:null,json:{type:DI.jsonValues,read:DI.read,write:DI.write}})],br.prototype,"type",null),u([p({type:[l8e],json:{write:!0}})],br.prototype,"visualVariables",void 0),u([p({type:p8e,value:null,json:{write:!0,origins:{"web-scene":{write:!1}}}})],br.prototype,"univariateSymbolStyle",null),u([p({type:d8e,value:null,json:{write:!0,origins:{"web-scene":{write:!1}}}})],br.prototype,"univariateTheme",null),br=h8=u([j("esri.renderers.support.AuthoringInfo")],br);const Uz=new At({simple:"simple",uniqueValue:"unique-value",classBreaks:"class-breaks",heatmap:"heatmap",dotDensity:"dot-density",dictionary:"dictionary",pieChart:"pie-chart"},{ignoreUnknown:!0});let ul=class extends ge{constructor(e){super(e),this.authoringInfo=null,this.type=null}async getRequiredFields(e){if(!this.collectRequiredFields)return[];const i=new Set;return await this.collectRequiredFields(i,e),Array.from(i).sort()}getSymbol(e,i){}async getSymbolAsync(e,i){}get symbols(){return[]}get arcadeRequired(){return!1}getAttributeHash(){return JSON.stringify(this)}getMeshHash(){return JSON.stringify(this)}};u([p({type:br,json:{write:!0}})],ul.prototype,"authoringInfo",void 0),u([p({type:Uz.apiValues,readOnly:!0,json:{type:Uz.jsonValues,read:!1,write:{writer:Uz.write,ignoreOrigin:!0,isRequired:!0}}})],ul.prototype,"type",void 0),ul=u([j("esri.renderers.Renderer")],ul);let aT=class extends dt(ge){constructor(){super(...arguments),this.showLegend=null,this.title=null}};u([p({type:Boolean,json:{write:!0}})],aT.prototype,"showLegend",void 0),u([p({type:String,json:{write:!0}})],aT.prototype,"title",void 0),aT=u([j("esri.renderers.visualVariables.support.VisualVariableLegendOptions")],aT);const Ppe=aT,Bz=new At({colorInfo:"color",transparencyInfo:"opacity",rotationInfo:"rotation",sizeInfo:"size"});let Qs=class extends ge{constructor(e){super(e),this.index=null,this.type=null,this.field=null,this.valueExpression=null,this.valueExpressionTitle=null,this.legendOptions=null}castField(e){return e==null?e:typeof e=="function"?(Ee.getLogger(this).error(".field: field must be a string value"),null):z$(e)}get arcadeRequired(){return!!this.valueExpression}clone(){}getAttributeHash(){return`${this.type}-${this.field}-${this.valueExpression}`}};u([p()],Qs.prototype,"index",void 0),u([p({type:Bz.apiValues,readOnly:!0,json:{read:Bz.read,write:{writer:Bz.write,isRequired:!0}}})],Qs.prototype,"type",void 0),u([p({type:String,json:{write:!0}})],Qs.prototype,"field",void 0),u([bi("field")],Qs.prototype,"castField",null),u([p({type:String,json:{write:!0}})],Qs.prototype,"valueExpression",void 0),u([p({type:String,json:{write:!0}})],Qs.prototype,"valueExpressionTitle",void 0),u([p({readOnly:!0})],Qs.prototype,"arcadeRequired",null),u([p({type:Ppe,json:{write:!0}})],Qs.prototype,"legendOptions",void 0),Qs=u([j("esri.renderers.visualVariables.VisualVariable")],Qs);var p8;let xy=p8=class extends ge{constructor(t){super(t),this.color=null,this.label=null,this.value=null}writeValue(t,e,i){e[i]=t??0}clone(){return new p8({color:this.color&&this.color.clone(),label:this.label,value:this.value})}};u([p({type:xt,json:{type:[Ht],write:{isRequired:!0}}})],xy.prototype,"color",void 0),u([p({type:String,json:{write:!0}})],xy.prototype,"label",void 0),u([p({type:Number,json:{write:{writerEnsuresNonNull:!0}}})],xy.prototype,"value",void 0),u([ze("value")],xy.prototype,"writeValue",null),xy=p8=u([j("esri.renderers.visualVariables.support.ColorStop")],xy);const f8e=xy;var f8;let cm=f8=class extends Qs{constructor(t){super(t),this.type="color",this.normalizationField=null}get cache(){return{ipData:this._interpolateData(),hasExpression:!!this.valueExpression,compiledFunc:null}}set stops(t){t&&Array.isArray(t)&&(t=t.filter(e=>!!e)).sort((e,i)=>e.value-i.value),this._set("stops",t)}clone(){return new f8({field:this.field,normalizationField:this.normalizationField,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,stops:this.stops&&this.stops.map(t=>t.clone()),legendOptions:this.legendOptions?.clone()})}getAttributeHash(){return`${super.getAttributeHash()}-${this.normalizationField}`}_interpolateData(){return this.stops&&this.stops.map(t=>t.value||0)}};u([p({readOnly:!0})],cm.prototype,"cache",null),u([p({type:["color"],json:{type:["colorInfo"]}})],cm.prototype,"type",void 0),u([p({type:String,json:{write:!0}})],cm.prototype,"normalizationField",void 0),u([p({type:[f8e],json:{write:!0}})],cm.prototype,"stops",null),cm=f8=u([j("esri.renderers.visualVariables.ColorVariable")],cm);var m8;let Xf=m8=class extends ge{constructor(t){super(t),this.label=null,this.opacity=null,this.value=null}readOpacity(t,e){return W2(e.transparency)}writeOpacity(t,e,i){e[i]=ZD(t)}clone(){return new m8({label:this.label,opacity:this.opacity,value:this.value})}};u([p({type:String,json:{write:!0}})],Xf.prototype,"label",void 0),u([p({type:Number,json:{type:Ht,write:{target:"transparency",isRequired:!0}}})],Xf.prototype,"opacity",void 0),u([Ae("opacity",["transparency"])],Xf.prototype,"readOpacity",null),u([ze("opacity")],Xf.prototype,"writeOpacity",null),u([p({type:Number,json:{write:{isRequired:!0}}})],Xf.prototype,"value",void 0),Xf=m8=u([j("esri.renderers.visualVariables.support.OpacityStop")],Xf);const m8e=Xf;var g8;let hp=g8=class extends Qs{constructor(t){super(t),this.type="opacity",this.normalizationField=null}get cache(){return{ipData:this._interpolateData(),hasExpression:!!this.valueExpression,compiledFunc:null}}set stops(t){t&&Array.isArray(t)&&(t=t.filter(e=>!!e)).sort((e,i)=>e.value-i.value),this._set("stops",t)}clone(){return new g8({field:this.field,normalizationField:this.normalizationField,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,stops:this.stops&&this.stops.map(t=>t.clone()),legendOptions:this.legendOptions?.clone()})}getAttributeHash(){return`${super.getAttributeHash()}-${this.normalizationField}`}_interpolateData(){return this.stops&&this.stops.map(t=>t.value||0)}};u([p({readOnly:!0})],hp.prototype,"cache",null),u([p({type:["opacity"],json:{type:["transparencyInfo"]}})],hp.prototype,"type",void 0),u([p({type:String,json:{write:!0}})],hp.prototype,"normalizationField",void 0),u([p({type:[m8e],json:{write:!0}})],hp.prototype,"stops",null),hp=g8=u([j("esri.renderers.visualVariables.OpacityVariable")],hp);var y8;let um=y8=class extends Qs{constructor(t){super(t),this.axis=null,this.type="rotation",this.rotationType="geographic"}get cache(){return{hasExpression:!!this.valueExpression,compiledFunc:null}}clone(){return new y8({axis:this.axis,rotationType:this.rotationType,field:this.field,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,legendOptions:this.legendOptions?.clone()})}};u([p({readOnly:!0})],um.prototype,"cache",null),u([p({type:["heading","tilt","roll"],json:{origins:{"web-scene":{default:"heading",write:!0}}}})],um.prototype,"axis",void 0),u([p({type:["rotation"],json:{type:["rotationInfo"]}})],um.prototype,"type",void 0),u([p({type:["geographic","arithmetic"],json:{write:!0,origins:{"web-document":{write:!0,default:"geographic"}}}})],um.prototype,"rotationType",void 0),um=y8=u([j("esri.renderers.visualVariables.RotationVariable")],um);function g8e(t){return ci(t)}var v8;let ru=v8=class extends ge{constructor(t){super(t),this.label=null,this.size=null,this.value=null,this.useMinValue=null,this.useMaxValue=null}clone(){return new v8({label:this.label,size:this.size,value:this.value,useMaxValue:this.useMaxValue,useMinValue:this.useMinValue})}};u([p({type:String,json:{write:!0}})],ru.prototype,"label",void 0),u([p({type:Number,cast:ci,json:{write:{isRequired:!0}}})],ru.prototype,"size",void 0),u([p({type:Number,json:{write:{isRequired:!0}}})],ru.prototype,"value",void 0),u([p({type:Boolean,json:{write:!1}})],ru.prototype,"useMinValue",void 0),u([p({type:Boolean,json:{write:!1}})],ru.prototype,"useMaxValue",void 0),ru=v8=u([j("esri.renderers.visualVariables.support.SizeStop")],ru);let UM=class extends Ppe{constructor(){super(...arguments),this.customValues=null}};u([p({type:[Number],json:{write:!0}})],UM.prototype,"customValues",void 0),UM=u([j("esri.renderers.visualVariables.support.SizeVariableLegendOptions")],UM);const y8e=UM;function Pw(t){return t&&t.declaredClass==="esri.renderers.visualVariables.SizeVariable"}function Ov(t){return t!=null&&!isNaN(t)&&isFinite(t)}function Dpe(t){return t.valueExpression?"expression":t.field&&typeof t.field=="string"?"field":"unknown"}function v8e(t,e){const i=e||Dpe(t),r=t.valueUnit||"unknown";return i==="unknown"?"constant":t.stops?"stops":t.minSize!=null&&t.maxSize!=null&&t.minDataValue!=null&&t.maxDataValue!=null?"clamped-linear":r==="unknown"?t.minSize!=null&&t.minDataValue!=null?t.minSize&&t.minDataValue?"proportional":"additive":"identity":"real-world-size"}const Rpe=()=>Ee.getLogger("esri.renderers.visualVariables.support.visualVariableUtils"),y3=t=>Rpe().warn(`The visualVariable should be an instance of esri.renderers.visualVariables.${t}`),v3=()=>Rpe().error("Use of arcade expressions requires an arcade context"),jK=new Pr,BM=Math.PI,Lpe=/^\s*(return\s+)?\$view\.scale\s*(;)?\s*$/i;function zpe(t,e,i){const r="visualVariables"in t?t.visualVariables?.find(S=>S.type==="color"):t;if(!r)return;if(r.declaredClass!=="esri.renderers.visualVariables.ColorVariable")return void y3("ColorVariable");const n=typeof e=="number",s=n?null:e,o=s?.attributes;let a=n?e:null;const l=r.field,{ipData:h,hasExpression:f}=r.cache;let g=r.cache.compiledFunc;if(!l&&!f){const S=r.stops;return S&&S[0]&&S[0].color}if(typeof a!="number")if(f){if(i?.arcade==null)return void v3();const S={viewingMode:i.viewingMode,scale:i.scale,spatialReference:i.spatialReference},T=i.arcade.arcadeUtils,C=T.getViewInfo(S),I=T.createExecContext(s,C,i.timeZone);if(!g){const A=T.createSyntaxTree(r.valueExpression);g=T.createFunction(A),r.cache.compiledFunc=g}a=T.executeFunction(g,I)}else o&&(a=o[l]);const v=r.normalizationField,w=o!=null&&v!=null?parseFloat(o[v]):void 0;if(a!=null&&(!v||n||!isNaN(w)&&w!==0)){Ov(w)&&!n&&(a/=w);const S=AB(a,h);if(S){const T=S[0],C=S[1],I=T===C?r.stops[T].color:xt.blendColors(r.stops[T].color,r.stops[C].color,S[2],i?.color);return new xt(I)}}}function Npe(t,e,i){const r="visualVariables"in t?t.visualVariables?.find(S=>S.type==="opacity"):t;if(!r)return;if(r.declaredClass!=="esri.renderers.visualVariables.OpacityVariable")return void y3("OpacityVariable");const n=typeof e=="number",s=n?null:e,o=s?.attributes;let a=n?e:null;const l=r.field,{ipData:h,hasExpression:f}=r.cache;let g=r.cache.compiledFunc;if(!l&&!f){const S=r.stops;return S&&S[0]&&S[0].opacity}if(typeof a!="number")if(f){if(i?.arcade==null)return void v3();const S={viewingMode:i.viewingMode,scale:i.scale,spatialReference:i.spatialReference},T=i.arcade.arcadeUtils,C=T.getViewInfo(S),I=T.createExecContext(s,C,i.timeZone);if(!g){const A=T.createSyntaxTree(r.valueExpression);g=T.createFunction(A),r.cache.compiledFunc=g}a=T.executeFunction(g,I)}else o&&(a=o[l]);const v=r.normalizationField,w=o!=null&&v!=null?parseFloat(o[v]):void 0;if(a!=null&&(!v||n||!isNaN(w)&&w!==0)){Ov(w)&&!n&&(a/=w);const S=AB(a,h);if(S){const T=S[0],C=S[1];if(T===C)return r.stops[T].opacity;{const I=r.stops[T].opacity;return I+(r.stops[C].opacity-I)*S[2]}}}}function jpe(t,e,i){const r="visualVariables"in t?t.visualVariables?.find(w=>w.type==="rotation"):t;if(!r)return;if(r.declaredClass!=="esri.renderers.visualVariables.RotationVariable")return void y3("RotationVariable");const n=r.axis||"heading",s=n==="heading"&&r.rotationType==="arithmetic"?90:0,o=n==="heading"&&r.rotationType==="arithmetic"?-1:1,a=typeof e=="number"?null:e,l=a?.attributes,h=r.field,{hasExpression:f}=r.cache;let g=r.cache.compiledFunc,v=null;if(!h&&!f)return v;if(f){if(i?.arcade==null)return void v3();const w={viewingMode:i.viewingMode,scale:i.scale,spatialReference:i.spatialReference},S=i.arcade.arcadeUtils,T=S.getViewInfo(w),C=S.createExecContext(a,T,i.timeZone);if(!g){const I=S.createSyntaxTree(r.valueExpression);g=S.createFunction(I),r.cache.compiledFunc=g}v=S.executeFunction(g,C)}else l&&(v=l[h]);return v=typeof v!="number"||isNaN(v)?null:s+o*v,v}function b8e(t,e,i){const r=typeof e=="number",n=r?null:e,s=n?.attributes;let o=r?e:null;const{isScaleDriven:a}=t.cache;let l=t.cache.compiledFunc;if(a){const f=i?.scale,g=i?.view;o=f==null||g==="3d"?w8e(t):f}else if(!r)switch(t.inputValueType){case"expression":{if(i?.arcade==null)return void v3();const f={viewingMode:i.viewingMode,scale:i.scale,spatialReference:i.spatialReference},g=i.arcade.arcadeUtils,v=g.getViewInfo(f),w=g.createExecContext(n,v,i.timeZone);if(!l){const S=g.createSyntaxTree(t.valueExpression);l=g.createFunction(S),t.cache.compiledFunc=l}o=g.executeFunction(l,w);break}case"field":s&&(o=s[t.field]);break;case"unknown":o=null}if(!Ov(o))return null;if(r||!t.normalizationField)return o;const h=s?parseFloat(s[t.normalizationField]):null;return Ov(h)&&h!==0?o/h:null}function w8e(t){let e=null,i=null;const r=t.stops;return r?(e=r[0].value,i=r[r.length-1].value):(e=t.minDataValue||0,i=t.maxDataValue||0),(e+i)/2}function b3(t,e,i){const r="visualVariables"in t?t.visualVariables?.find(s=>s.type==="size"):t;if(!r)return;if(r.declaredClass!=="esri.renderers.visualVariables.SizeVariable")return void y3("SizeVariable");const n=Vpe(b8e(r,e,i),r,e,i,r.cache.ipData);return n==null||isNaN(n)?void 0:n}function va(t,e,i){return t==null?null:Pw(t)?b3(t,e,i):Ov(t)?t:null}function Fpe(t,e,i){return Ov(i)&&t>i?i:Ov(e)&&t<e?e:t}function _8e(t,e,i,r){const n=va(e.minSize,i,r)||e.minDataValue;return t==null&&n==null?null:(t??0)+(n??0)}function x8e(t,e,i){const r=t.stops;let n=r?.length&&r[0].size;return n==null&&(n=t.minSize),va(n,e,i)}function S8e(t,e,i,r){const n=va(e.minSize,i,r);if(t==null)return n;const{minDataValue:s,maxDataValue:o}=e;if(s==null||o==null)return null;const a=(t-s)/(o-s),l=va(e.maxSize,i,r),h=r?.shape;if(t<=s)return n;if(t>=o)return l;if(n==null||l==null)return null;if(e.scaleBy==="area"&&h){const f=h==="circle",g=f?BM*(n/2)**2:n*n,v=g+a*((f?BM*(l/2)**2:l*l)-g);return f?2*Math.sqrt(v/BM):Math.sqrt(v)}return n+a*(l-n)}function T8e(t,e,i,r){const n=va(e.minSize,i,r);if(t==null||n==null)return n;const s=r?.shape,{minDataValue:o}=e;if(o==null)return null;const a=t/o,l=va(e.maxSize,i,r);let h=null;return h=s==="circle"?2*Math.sqrt(a*(n/2)**2):s==="square"||s==="diamond"||s==="image"?Math.sqrt(a*n**2):a*n,Fpe(h,n,l)}function $8e(t,e,i,r,n){if(t==null)return null;const[s,o,a]=AB(t,n);if(s===o)return va(e.stops?.[s].size,i,r);{const l=va(e.stops?.[s].size,i,r),h=va(e.stops?.[o].size,i,r);return l==null||h==null?null:l+(h-l)*a}}function k8e(t,e,i,r){const n=(r?.resolution??1)*f3[e.valueUnit],s=va(e.minSize,i,r),o=va(e.maxSize,i,r),{valueRepresentation:a}=e;if(t==null)return s;let l=null;return l=a==="area"?2*Math.sqrt(t/BM)/n:a==="radius"||a==="distance"?2*t/n:t/n,Fpe(l,s,o)}function Vpe(t,e,i,r,n){switch(e.transformationType){case"additive":return _8e(t,e,i,r);case"constant":return x8e(e,i,r);case"clamped-linear":return S8e(t,e,i,r);case"proportional":return T8e(t,e,i,r);case"stops":return $8e(t,e,i,r,n);case"real-world-size":return k8e(t,e,i,r);case"identity":return t;case"unknown":return null}}function E8e(t,e,i){const{isScaleDriven:r}=t.cache;if(!(r&&i==="3d"||e))return null;const n={scale:e,view:i};let s=va(t.minSize,jK,n),o=va(t.maxSize,jK,n);if(s!=null||o!=null){if(s>o){const a=o;o=s,s=a}return{minSize:s,maxSize:o}}}function I8e(t,e,i){if(!t.visualVariables)return;const r=[],n=[],s=[],o=[],a=[];for(const l of t.visualVariables)switch(l.type){case"color":n.push(l);break;case"opacity":s.push(l);break;case"rotation":a.push(l);break;case"size":o.push(l)}return n.forEach(l=>{const h=zpe(l,e,i);r.push({variable:l,value:h})}),s.forEach(l=>{const h=Npe(l,e,i);r.push({variable:l,value:h})}),a.forEach(l=>{const h=jpe(l,e,i);r.push({variable:l,value:h})}),o.forEach(l=>{const h=b3(l,e,i);r.push({variable:l,value:h})}),r}function AB(t,e){if(!e)return;let i=0,r=e.length-1;return e.some((n,s)=>t<n?(r=s,!0):(i=s,!1)),[i,r,(t-e[i])/(e[r]-e[i])]}function C8e(t,e,i){const r=["proportional","proportional","proportional"];for(const n of t){const s=n.useSymbolValue?"symbol-value":b3(n,e,i)??"proportional";switch(n.axis){case"width":r[0]=s;break;case"depth":r[1]=s;break;case"height":r[2]=s;break;case"width-and-depth":r[0]=s,r[1]=s;break;case"all":case void 0:case null:r[0]=s,r[1]=s,r[2]=s;break;default:n.axis}}return r}const Wdt=Object.freeze(Object.defineProperty({__proto__:null,getAllSizes:C8e,getColor:zpe,getOpacity:Npe,getRotationAngle:jpe,getSize:b3,getSizeForValue:Vpe,getSizeFromNumberOrVariable:va,getSizeRangeAtScale:E8e,getVisualVariableValues:I8e,viewScaleRE:Lpe},Symbol.toStringTag,{value:"Module"}));var b8;const RI=new At({width:"width",depth:"depth",height:"height",widthAndDepth:"width-and-depth",all:"all"}),w8=new At({unknown:"unknown",inch:"inches",foot:"feet",yard:"yards",mile:"miles","nautical-mile":"nautical-miles",millimeter:"millimeters",centimeter:"centimeters",decimeter:"decimeters",meter:"meters",kilometer:"kilometers"});function FK(t){if(t!=null)return typeof t=="string"||typeof t=="number"?g8e(t):t.type==="size"?Pw(t)?t:(delete(t={...t}).type,new gi(t)):void 0}function VK(t,e,i){if(typeof t!="object")return t;const r=new gi;return r.read(t,i),r}let gi=b8=class extends Qs{constructor(t){super(t),this.axis=null,this.legendOptions=null,this.normalizationField=null,this.scaleBy=null,this.target=null,this.type="size",this.useSymbolValue=null,this.valueExpression=null,this.valueRepresentation=null,this.valueUnit=null}get cache(){return{ipData:this._interpolateData(),hasExpression:!!this.valueExpression,compiledFunc:null,isScaleDriven:this.valueExpression!=null&&Lpe.test(this.valueExpression)}}set index(t){Pw(this.maxSize)&&(this.maxSize.index=`visualVariables[${t}].maxSize`),Pw(this.minSize)&&(this.minSize.index=`visualVariables[${t}].minSize`),this._set("index",t)}get inputValueType(){return Dpe(this)}set maxDataValue(t){t&&this.stops&&(Ee.getLogger(this).warn("cannot set maxDataValue when stops is not null."),t=null),this._set("maxDataValue",t)}set maxSize(t){t&&this.stops&&(Ee.getLogger(this).warn("cannot set maxSize when stops is not null."),t=null),this._set("maxSize",t)}castMaxSize(t){return FK(t)}readMaxSize(t,e,i){return VK(t,e,i)}set minDataValue(t){t&&this.stops&&(Ee.getLogger(this).warn("cannot set minDataValue when stops is not null."),t=null),this._set("minDataValue",t)}set minSize(t){t&&this.stops&&(Ee.getLogger(this).warn("cannot set minSize when stops is not null."),t=null),this._set("minSize",t)}castMinSize(t){return FK(t)}readMinSize(t,e,i){return VK(t,e,i)}get arcadeRequired(){return!!this.valueExpression||this.minSize!=null&&typeof this.minSize=="object"&&this.minSize.arcadeRequired||this.maxSize!=null&&typeof this.maxSize=="object"&&this.maxSize.arcadeRequired}set stops(t){this.minDataValue==null&&this.maxDataValue==null&&this.minSize==null&&this.maxSize==null?t&&Array.isArray(t)&&(t=t.filter(e=>!!e)).sort((e,i)=>e.value-i.value):t&&(Ee.getLogger(this).warn("cannot set stops when one of minDataValue, maxDataValue, minSize or maxSize is not null."),t=null),this._set("stops",t)}get transformationType(){return v8e(this,this.inputValueType)}readValueExpression(t,e){return t||e.expression&&"$view.scale"}writeValueExpressionWebScene(t,e,i,r){if(t==="$view.scale"){if(r?.messages){const n=this.index,s=typeof n=="string"?n:`visualVariables[${n}]`;r.messages.push(new ee("property:unsupported",this.type+"VisualVariable.valueExpression = '$view.scale' is not supported in Web Scene. Please remove this property to save the Web Scene.",{instance:this,propertyName:s+".valueExpression",context:r}))}}else e[i]=t}readValueUnit(t){return t?w8.read(t):null}clone(){return new b8({axis:this.axis,field:this.field,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,maxDataValue:this.maxDataValue,maxSize:Pw(this.maxSize)?this.maxSize.clone():this.maxSize,minDataValue:this.minDataValue,minSize:Pw(this.minSize)?this.minSize.clone():this.minSize,normalizationField:this.normalizationField,stops:this.stops?.map(t=>t.clone()),target:this.target,useSymbolValue:this.useSymbolValue,valueRepresentation:this.valueRepresentation,valueUnit:this.valueUnit,legendOptions:this.legendOptions?.clone()})}flipSizes(){if(this.transformationType==="clamped-linear"){const{minSize:t,maxSize:e}=this;return this.minSize=e,this.maxSize=t,this}if(this.transformationType==="stops"){const t=this.stops;if(!t)return this;const e=t.map(r=>r.size).reverse(),i=t.length;for(let r=0;r<i;r++)t[r].size=e[r];return this}return this}getAttributeHash(){return`${super.getAttributeHash()}-${this.target}-${this.normalizationField}`}_interpolateData(){return this.stops?.map(t=>t.value||0)}};u([p({readOnly:!0})],gi.prototype,"cache",null),u([p({type:RI.apiValues,json:{type:RI.jsonValues,origins:{"web-map":{read:!1}},read:RI.read,write:RI.write}})],gi.prototype,"axis",void 0),u([p()],gi.prototype,"index",null),u([p({type:String,readOnly:!0})],gi.prototype,"inputValueType",null),u([p({type:y8e,json:{write:!0}})],gi.prototype,"legendOptions",void 0),u([p({type:Number,value:null,json:{write:!0}})],gi.prototype,"maxDataValue",null),u([p({type:Number,value:null,json:{write:!0}})],gi.prototype,"maxSize",null),u([bi("maxSize")],gi.prototype,"castMaxSize",null),u([Ae("maxSize")],gi.prototype,"readMaxSize",null),u([p({type:Number,value:null,json:{write:!0}})],gi.prototype,"minDataValue",null),u([p({type:Number,value:null,json:{write:!0}})],gi.prototype,"minSize",null),u([bi("minSize")],gi.prototype,"castMinSize",null),u([Ae("minSize")],gi.prototype,"readMinSize",null),u([p({type:String,json:{write:!0}})],gi.prototype,"normalizationField",void 0),u([p({readOnly:!0})],gi.prototype,"arcadeRequired",null),u([p({type:String})],gi.prototype,"scaleBy",void 0),u([p({type:[ru],value:null,json:{write:!0}})],gi.prototype,"stops",null),u([p({type:["outline"],json:{write:!0}})],gi.prototype,"target",void 0),u([p({type:String,readOnly:!0})],gi.prototype,"transformationType",null),u([p({type:["size"],json:{type:["sizeInfo"]}})],gi.prototype,"type",void 0),u([p({type:Boolean,json:{write:!0,origins:{"web-map":{read:!1}}}})],gi.prototype,"useSymbolValue",void 0),u([p({type:String,json:{write:!0}})],gi.prototype,"valueExpression",void 0),u([Ae("valueExpression",["valueExpression","expression"])],gi.prototype,"readValueExpression",null),u([ze("web-scene","valueExpression")],gi.prototype,"writeValueExpressionWebScene",null),u([p({type:["radius","diameter","area","width","distance"],json:{write:!0}})],gi.prototype,"valueRepresentation",void 0),u([p({type:w8.apiValues,json:{write:w8.write,origins:{"web-map":{read:!1},"web-scene":{write:!0},"portal-item":{write:!0}}}})],gi.prototype,"valueUnit",void 0),u([Ae("valueUnit")],gi.prototype,"readValueUnit",null),gi=b8=u([j("esri.renderers.visualVariables.SizeVariable")],gi);const M8e={color:cm,size:gi,opacity:hp,rotation:um},A8e=new At({colorInfo:"color",transparencyInfo:"opacity",rotationInfo:"rotation",sizeInfo:"size"}),O8e=/^\[([^\]]+)\]$/i;let HM=class extends at{constructor(){super(...arguments),this.colorVariables=null,this.opacityVariables=null,this.rotationVariables=null,this.sizeVariables=null}set visualVariables(e){if(this._resetVariables(),e=e?.filter(i=>!!i),e?.length){for(const i of e)switch(i.type){case"color":this.colorVariables.push(i);break;case"opacity":this.opacityVariables.push(i);break;case"rotation":this.rotationVariables.push(i);break;case"size":this.sizeVariables.push(i)}this.sizeVariables.length&&this.sizeVariables.some(i=>!!i.target)&&e.sort((i,r)=>{let n=null;return n=i.target===r.target?0:i.target?1:-1,n});for(let i=0;i<e.length;i++)e[i].index=i;this._set("visualVariables",e)}else this._set("visualVariables",e)}readVariables(e,i,r){const{rotationExpression:n,rotationType:s}=i,o=n?.match(O8e),a=o?.[1];if(a&&(e||(e=[]),e.push({type:"rotationInfo",rotationType:s,field:a})),e)return e.map(l=>{const h=A8e.read(l.type),f=M8e[h];f||(Ee.getLogger(this).warn(`Unknown variable type: ${h}`),r?.messages&&r.messages.push(new yl("visual-variable:unsupported",`visualVariable of type '${h}' is not supported`,{definition:l,context:r})));const g=new f;return g.read(l,r),g})}writeVariables(e,i){const r=[];for(const n of e){const s=n.toJSON(i);s&&r.push(s)}return r}_resetVariables(){this.colorVariables=[],this.opacityVariables=[],this.rotationVariables=[],this.sizeVariables=[]}};u([p()],HM.prototype,"visualVariables",null),HM=u([j("esri.renderers.visualVariables.VisualVariableFactory")],HM);const P8e={base:Qs,key:"type",typeMap:{opacity:hp,color:cm,rotation:um,size:gi}},V1=t=>{const e=t;let i=class extends e{constructor(){super(...arguments),this._vvFactory=new HM}set visualVariables(r){this._vvFactory.visualVariables=r,this._set("visualVariables",this._vvFactory.visualVariables)}readVisualVariables(r,n,s){return this._vvFactory.readVariables(r,n,s)}writeVisualVariables(r,n,s,o){n[s]=this._vvFactory.writeVariables(r,o)}get arcadeRequiredForVisualVariables(){return this.visualVariables?.some(({arcadeRequired:r})=>r)??!1}hasVisualVariables(r,n){return r?this.getVisualVariablesForType(r,n).length>0:this.getVisualVariablesForType("size",n).length>0||this.getVisualVariablesForType("color",n).length>0||this.getVisualVariablesForType("opacity",n).length>0||this.getVisualVariablesForType("rotation",n).length>0}getVisualVariablesForType(r,n){return this.visualVariables?.filter(s=>s.type===r&&(typeof n=="string"?s.target===n:n!==!1||!s.target))??[]}async collectVVRequiredFields(r,n){let s=[];this.visualVariables&&(s=s.concat(this.visualVariables));for(const o of s)o&&(o.field&&uo(r,n,o.field),o.normalizationField&&uo(r,n,o.normalizationField),o.valueExpression&&(D8e(o.valueExpression,r,n)||await ho(r,n,null,o.valueExpression)))}};return u([p({types:[P8e],value:null,json:{write:!0}})],i.prototype,"visualVariables",null),u([Ae("visualVariables",["visualVariables","rotationType","rotationExpression"])],i.prototype,"readVisualVariables",null),u([ze("visualVariables")],i.prototype,"writeVisualVariables",null),i=u([j("esri.renderers.mixins.VisualVariablesMixin")],i),i};function D8e(t,e,i){const r=ZPe(t);return r!=null&&(uo(e,i,r),!0)}const OB=[252,146,31,255],R8e=[153,153,153,255],L8e={type:"esriSMS",style:"esriSMSCircle",size:6,color:OB,outline:{type:"esriSLS",style:"esriSLSSolid",width:.75,color:[153,153,153,255]}},z8e={type:"esriSLS",style:"esriSLSSolid",width:.75,color:OB},N8e={type:"esriSFS",style:"esriSFSSolid",color:[252,146,31,196],outline:{type:"esriSLS",style:"esriSLSSolid",width:.75,color:[255,255,255,191]}},j8e={type:"esriTS",color:[255,255,255,255],font:{family:"arial-unicode-ms",size:10,weight:"bold"},horizontalAlignment:"center",kerning:!0,haloColor:[0,0,0,255],haloSize:1,rotated:!1,text:"",xoffset:0,yoffset:0,angle:0},F8e={type:"esriSMS",style:"esriSMSCircle",color:[0,0,0,255],outline:null,size:10.5},V8e={type:"esriSLS",style:"esriSLSSolid",color:[0,0,0,255],width:1.5},U8e={type:"esriSFS",style:"esriSFSSolid",color:[0,0,0,255],outline:null},OO=Ln.fromJSON(L8e),PB=un.fromJSON(z8e),Upe=ol.fromJSON(N8e),B8e=Ni.fromJSON(j8e);function Zdt(t){if(t==null)return null;switch(t.type){case"mesh":return null;case"point":case"multipoint":return OO;case"polyline":return PB;case"polygon":case"extent":return Upe}return null}const Jdt=Ln.fromJSON(F8e),Xdt=un.fromJSON(V8e),Kdt=ol.fromJSON(U8e),H8e=Co.fromSimpleMarkerSymbol(OO),q8e=fu.fromSimpleLineSymbol(PB),G8e=ac.fromSimpleFillSymbol(Upe),W8e=new wp({symbolLayers:new We([new ko({material:{color:OB},edges:new Eue({size:uc(1),color:new xt(R8e)})})])}),Y8e=new fu({symbolLayers:new We([new $o({material:{color:new xt([0,0,0])},size:uc(1)})])}),Z8e=new ac({symbolLayers:new We([new ko({outline:{color:new xt([0,0,0]),size:uc(1)}})])});function Qdt(t){if(t==null)return null;switch(t.type){case"mesh":return W8e;case"point":case"multipoint":return H8e;case"polyline":return q8e;case"polygon":case"extent":return G8e}return null}const UK="#useCIMFallbackSymbology()",r0={retainId:!1,ignoreDrivers:!1,hasLabelingContext:!0};function J8e(t,e=r0){if(!t)return{symbol:null};const{retainId:i=r0.retainId,ignoreDrivers:r=r0.ignoreDrivers,hasLabelingContext:n=r0.hasLabelingContext,retainCIM:s=r0.retainCIM,cimFallbackEnabled:o=r0.cimFallbackEnabled}=e;let a=null;if(Yue(t))a=t.clone();else if(t.type==="web-style")a=t.clone();else if(t.type==="cim"){const l=t.data?.symbol?.type;switch(l){case"CIMPointSymbol":a=s?t.clone():Co.fromCIMSymbol(t);break;case"CIMLineSymbol":o&&(a=Y8e.clone(),e?.logWarning?.(UK,"Unsupported CIM line symbology converted to fallback 3D line symbology"));break;case"CIMPolygonSymbol":o&&(a=Z8e.clone(),e?.logWarning?.(UK,"Unsupported CIM polygon symbology converted to fallback 3D polygon symbology"))}if(!a)return{error:new ee("symbol-conversion:unsupported-cim-symbol",`CIM symbol of type '${l||"unknown"}' is unsupported in 3D`,{symbol:t})}}else if(t instanceof un)a=fu.fromSimpleLineSymbol(t);else if(t instanceof Ln)a=Co.fromSimpleMarkerSymbol(t);else if(t instanceof To)a=Co.fromPictureMarkerSymbol(t);else if(t instanceof ol)a=e.geometryType&&e.geometryType==="mesh"?wp.fromSimpleFillSymbol(t):ac.fromSimpleFillSymbol(t);else{if(!(t instanceof Ni))return{error:new ee("symbol-conversion:unsupported-2d-symbol",`2D symbol of type '${t.type||t.declaredClass}' is unsupported in 3D`,{symbol:t})};a=n?eu.fromTextSymbol(t):Co.fromTextSymbol(t)}return i&&a&&a.type!=="cim"&&(a.id=t.id),!r||a.type==="cim"||a instanceof Is||a.symbolLayers.forEach(l=>l.ignoreDrivers=!0),{symbol:a}}function PO(t,e,i,r){const n=Bpe(t,{},{context:r,isLabelSymbol:!1});n!=null&&Kr(i,n,e)}function BK(t,e,i,r){const n=Bpe(t,{},{context:r,isLabelSymbol:!0});n!=null&&(e[i]=n)}function HK(t){return Yue(t)||t instanceof Is}function X8e(t){return t?.type==="polygon-3d"||t?.type==="line-3d"}function Bpe(t,e,i){if(t==null)return null;const{context:r,isLabelSymbol:n}=i,s=r?.origin,o=r?.messages;if(s==="web-scene"&&!HK(t)){const a=J8e(t,{retainCIM:!0,hasLabelingContext:n});return a.symbol!=null?a.symbol.write(e,r):(o?.push(new ee("symbol:unsupported",`Symbols of type '${t.declaredClass}' are not supported in scenes. Use 3D symbology instead when working with WebScene and SceneView`,{symbol:t,context:r,error:a.error})),null)}return _F(r?.layer)&&X8e(t)?(o?.push(new ee("symbol:unsupported",`Symbols of type '${t.declaredClass}' are not supported on layers of type '${r?.layer?.declaredClass}'.`,{symbol:t,context:r})),null):(s==="web-map"||s==="portal-item"&&!_F(r?.layer))&&HK(t)?(o?.push(new ee("symbol:unsupported",`Symbols of type '${t.declaredClass}' are not supported in web maps and portal items. Use 2D symbology and CIMSymbol instead when working with MapView`,{symbol:t,context:r})),null):t.write(e,r)}function eht(t,e){return q3e(t,null,e)}const w3={types:Zue,json:{write:{writer:PO},origins:{"web-scene":{types:AJ,write:{writer:PO},read:{reader:S1({types:AJ})}}}}},DB=n9({json:{origins:{"web-scene":{write:{isRequired:!0}}}}},w3),RB={types:{base:Xr,key:"type",typeMap:{"simple-fill":km.typeMap["simple-fill"],"picture-fill":km.typeMap["picture-fill"],"polygon-3d":km.typeMap["polygon-3d"],cim:km.typeMap.cim}},json:{write:{writer:PO},origins:{"web-scene":{type:ac,write:{writer:PO}}}}},qM={cast:t=>t==null||typeof t=="string"||typeof t=="number"?t:`${t}`,json:{type:String,write:{writer:(t,e)=>{e.value=t?.toString()}}}};var _8;let Mo=_8=class extends V1(ul){constructor(t){super(t),this.description=null,this.label=null,this.symbol=null,this.type="simple"}async collectRequiredFields(t,e){await Promise.all([this.collectSymbolFields(t,e),this.collectVVRequiredFields(t,e)])}async collectSymbolFields(t,e){await Promise.all(this.symbols.map(i=>i.collectRequiredFields(t,e)))}getSymbol(t,e){return this.symbol}async getSymbolAsync(t,e){return this.symbol}get symbols(){return this.symbol?[this.symbol]:[]}getAttributeHash(){return this.visualVariables?.reduce((t,e)=>t+e.getAttributeHash(),"")??""}getMeshHash(){return this.symbols.reduce((t,e)=>t+JSON.stringify(e),"")}get arcadeRequired(){return this.arcadeRequiredForVisualVariables}clone(){return new _8({description:this.description,label:this.label,symbol:ne(this.symbol),visualVariables:ne(this.visualVariables),authoringInfo:ne(this.authoringInfo)})}};u([p({type:String,json:{write:!0}})],Mo.prototype,"description",void 0),u([p({type:String,json:{write:!0}})],Mo.prototype,"label",void 0),u([p(DB)],Mo.prototype,"symbol",void 0),u([nt({simple:"simple"})],Mo.prototype,"type",void 0),Mo=_8=u([j("esri.renderers.SimpleRenderer")],Mo);const K8e=new Set(["esri.Color","esri.portal.Portal","esri.symbols.support.Symbol3DAnchorPosition2D","esri.symbols.support.Symbol3DAnchorPosition3D"]);function x8(t){return t instanceof at}function qK(t){return t instanceof We?Object.keys(t.items):x8(t)?zo(t).keys():t?Object.keys(t):[]}function LI(t,e){return t instanceof We?t.items[e]:t[e]}function Q8e(t,e){return!(!Array.isArray(t)||!Array.isArray(e))&&t.length!==e.length}function r2(t){return t?t.declaredClass:null}function Hpe(t,e){const i=t.diff;if(i&&typeof i=="function")return i(t,e);const r=qK(t),n=qK(e);if(r.length===0&&n.length===0)return;if(!r.length||!n.length||Q8e(t,e))return{type:"complete",oldValue:t,newValue:e};const s=n.filter(g=>!r.includes(g)),o=r.filter(g=>!n.includes(g)),a=r.filter(g=>n.includes(g)&&LI(t,g)!==LI(e,g)).concat(s,o).sort(),l=r2(t);if(l&&K8e.has(l)&&a.length)return{type:"complete",oldValue:t,newValue:e};let h;const f=x8(t)&&x8(e);for(const g of a){const v=LI(t,g),w=LI(e,g);let S;if((f||typeof v!="function"&&typeof w!="function")&&v!==w&&(v!=null||w!=null)){if(i&&i[g]&&typeof i[g]=="function")S=i[g]?.(v,w);else if(v instanceof Date&&w instanceof Date){if(v.getTime()===w.getTime())continue;S={type:"complete",oldValue:v,newValue:w}}else S=typeof v=="object"&&typeof w=="object"&&r2(v)===r2(w)?Hpe(v,w):{type:"complete",oldValue:v,newValue:w};S!=null&&(h!=null?h.diff[g]=S:h={type:"partial",diff:{[g]:S}})}}return h}function tht(t,e){if(t==null)return!1;const i=e.split(".");let r=t;for(const n of i){if(r.type==="complete")return!0;if(r.type!=="partial")return!1;{const s=r.diff[n];if(!s)return!1;r=s}}return!0}function eVe(t,e){if(typeof t!="function"&&typeof e!="function"&&(t!=null||e!=null))return t==null||e==null||typeof t=="object"&&typeof e=="object"&&r2(t)!==r2(e)?{type:"complete",oldValue:t,newValue:e}:Hpe(t,e)}function zI(t){if(t==null)return!0;switch(t.type){case"complete":return!1;case"collection":{const e=t;for(const i of e.added)if(!zI(i))return!1;for(const i of e.removed)if(!zI(i))return!1;for(const i of e.changed)if(!zI(i))return!1;return!0}case"partial":for(const e in t.diff)if(!zI(t.diff[e]))return!1;return!0}}var S8;const tVe=En()({ascendingValues:"ascending-values",descendingValues:"descending-values"});let lT=S8=class extends dt(ge){static from(t){return N$(S8,t)}constructor(t){super(t),this.title=null,this.order=null}};u([p({type:String,json:{write:!0}})],lT.prototype,"title",void 0),u([nt(tVe)],lT.prototype,"order",void 0),lT=S8=u([j("esri.renderers.support.RendererLegendOptions")],lT);const LB=lT;let uu=class extends dt(ge){constructor(e){super(e),this.value=null,this.value2=null,this.value3=null}};u([p(qM)],uu.prototype,"value",void 0),u([p(qM)],uu.prototype,"value2",void 0),u([p(qM)],uu.prototype,"value3",void 0),uu=u([j("esri.renderers.support.UniqueValue")],uu);let ip=class extends dt(ge){constructor(e){super(e),this.description=null,this.label=null,this.symbol=null,this.values=null}castValues(e){if(e==null)return null;const i=typeof(e=Array.isArray(e)?e:[e])[0];return i==="string"||i==="number"?e.map(r=>new uu({value:r})):i==="object"?e[0]instanceof uu?e:e.map(r=>new uu(r)):null}};u([p({type:String,json:{write:!0}})],ip.prototype,"description",void 0),u([p({type:String,json:{write:!0}})],ip.prototype,"label",void 0),u([p(w3)],ip.prototype,"symbol",void 0),u([p({type:[uu],json:{type:[[String]],read:{reader:t=>t?t.map(e=>new uu({value:e[0],value2:e[1],value3:e[2]})):null},write:{writer:(t,e)=>{const i=[];for(const r of t){const n=[r.value,r.value2,r.value3].filter(vu).map(s=>s.toString());i.push(n)}e.values=i}}}})],ip.prototype,"values",void 0),u([bi("values")],ip.prototype,"castValues",null),ip=u([j("esri.renderers.support.UniqueValueClass")],ip);let Wy=class extends dt(ge){constructor(e){super(e),this.heading=null,this.classes=null}};u([p({type:String,json:{write:!0}})],Wy.prototype,"heading",void 0),u([p({type:[ip],json:{write:{isRequired:!0}}})],Wy.prototype,"classes",void 0),Wy=u([j("esri.renderers.support.UniqueValueGroup")],Wy);var T8;let au=T8=class extends ge{constructor(t){super(t),this.description=null,this.label=null,this.symbol=null,this.value=null}clone(){return new T8({value:this.value,description:this.description,label:this.label,symbol:this.symbol?this.symbol.clone():null})}getMeshHash(){const t=JSON.stringify(this.symbol?.toJSON());return`${this.value}.${t}`}};u([p({type:String,json:{write:!0}})],au.prototype,"description",void 0),u([p({type:String,json:{write:!0}})],au.prototype,"label",void 0),u([p(DB)],au.prototype,"symbol",void 0),u([p(qM)],au.prototype,"value",void 0),au=T8=u([j("esri.renderers.support.UniqueValueInfo")],au);const GK=new Map;async function iVe(t,e){try{return{data:(await oVe(t,e)).data,baseUrl:gwe(t),styleUrl:t}}catch(i){return md(i),null}}function rVe(t,e,i){const r=e.portal!=null?e.portal:Le.getDefault();let n;const s=`${r.url} - ${r.user?.username} - ${t}`,o=GK.get(s);if(o)return o;const a=nVe(t,r,i).then(l=>(n=l,l.fetchData())).then(l=>({data:l,baseUrl:n.itemUrl??"",styleName:t}));return GK.set(s,a),a}function nVe(t,e,i){return e.load(i).then(()=>{const r=new Yr({disableExtraQuery:!0,query:`owner:${WK} AND type:${YK} AND typekeywords:"${t}"`});return e.queryItems(r,i)}).then(({results:r})=>{let n=null;const s=t.toLowerCase();if(r&&Array.isArray(r)){for(const o of r)if(o.typeKeywords?.some(l=>l.toLowerCase()===s)&&o.type===YK&&o.owner===WK){n=o;break}}if(!n)throw new ee("symbolstyleutils:style-not-found",`The style '${t}' could not be found`,{styleName:t});return n.load(i)})}function sVe(t,e,i){return t?.styleUrl!=null?iVe(t.styleUrl,i):t?.styleName!=null?rVe(t.styleName,e,i):Promise.reject(new ee("symbolstyleutils:style-url-and-name-missing","Either styleUrl or styleName is required to resolve a style"))}function sht(t){return t===null||t.type==="CIMSymbolReference"?t:{type:"CIMSymbolReference",symbol:t}}function oht(t,e){for(const i of e)switch(i){case"cim":if(t.cimRef)return{format:i,url:encodeURI(t.cimRef)};break;case"web-gltf-basisu":{const r=Hz(t,"gltf_basisu");if(r)return{format:i,url:r};break}case"web-gltf":{const r=Hz(t,"gltf");if(r)return{format:i,url:r};break}case"web":{const r=Hz(t,"gltf");if(r)return{format:"web-gltf",url:r};if(t.webRef)return{format:i,url:encodeURI(t.webRef)};break}}}function Hz(t,e){if(!he("enable-feature:force-wosr"))return t.formatInfos?.find(i=>i.type===e)?.href}function oVe(t,e){const i={responseType:"json",query:{f:"json"},...e};return Vt(lc(t),i)}const WK="esri_en",YK="Style",aht="https://cdn.arcgis.com/sharing/rest/content/items/220936cc6ed342c9937abd8f180e7d1e/resources/styles/cim/{SymbolName}.json?f=json";var cT;const ZK="uvInfos-watcher",JK="uvGroups-watcher",aVe=",",lVe=tn(au);function cVe(t){const{field1:e,field2:i,field3:r,fieldDelimiter:n,uniqueValueInfos:s,valueExpression:o}=t,a=!(!e||!i);return[{classes:(s??[]).map(l=>{const{symbol:h,label:f,value:g,description:v}=l,[w,S,T]=a?g?.toString()?.split(n||"")||[]:[g],C=[];return(e||o)&&C.push(w),i&&C.push(S),r&&C.push(T),{symbol:h,label:f,values:[C],description:v}})}]}function n0(t){return t!=null&&t!==""&&(typeof t!="string"||t.trim()!==""&&t.toLowerCase()!=="<null>")||(t=null),t+""}let tr=cT=class extends V1(ul){constructor(t){super(t),this._valueInfoMap={},this._isDefaultSymbolDerived=!1,this._isInfosSource=null,this.type="unique-value",this.backgroundFillSymbol=null,this.orderByClassesEnabled=!1,this.valueExpressionTitle=null,this.legendOptions=null,this.defaultLabel=null,this.portal=null,this.styleOrigin=null,this.diff={uniqueValueInfos(e,i){if(!e&&!i)return;if(!e||!i)return{type:"complete",oldValue:e,newValue:i};let r=!1;const n={type:"collection",added:[],removed:[],changed:[],unchanged:[]};for(let s=0;s<i.length;s++){const o=e.find(a=>a.value===i[s].value);o?eVe(o,i[s])?(n.changed.push({type:"complete",oldValue:o,newValue:i[s]}),r=!0):n.unchanged.push({oldValue:o,newValue:i[s]}):(n.added.push(i[s]),r=!0)}for(let s=0;s<e.length;s++)i.find(o=>o.value===e[s].value)||(n.removed.push(e[s]),r=!0);return r?n:void 0}},this._set("uniqueValueInfos",[]),this._set("uniqueValueGroups",[])}get _cache(){return{compiledFunc:null}}set field(t){this._set("field",t),this._updateFieldDelimiter(),this._updateUniqueValues()}castField(t){return t==null||typeof t=="function"?t:z$(t)}writeField(t,e,i,r){typeof t=="string"?e[i]=t:r?.messages?r.messages.push(new ee("property:unsupported","UniqueValueRenderer.field set to a function cannot be written to JSON")):Ee.getLogger(this).error(".field: cannot write field to JSON since it's not a string value")}set field2(t){this._set("field2",t),this._updateFieldDelimiter(),this._updateUniqueValues()}set field3(t){this._set("field3",t),this._updateUniqueValues()}set valueExpression(t){this._set("valueExpression",t),this._updateUniqueValues()}set defaultSymbol(t){this._isDefaultSymbolDerived=!1,this._set("defaultSymbol",t)}set fieldDelimiter(t){this._set("fieldDelimiter",t),this._updateUniqueValues()}readPortal(t,e,i){return i.portal||Le.getDefault()}readStyleOrigin(t,e,i){if(e.styleName)return Object.freeze({styleName:e.styleName});if(e.styleUrl){const r=Uv(e.styleUrl,i);return Object.freeze({styleUrl:r})}}writeStyleOrigin(t,e,i,r){t.styleName?e.styleName=t.styleName:t.styleUrl&&(e.styleUrl=bv(t.styleUrl,r))}set uniqueValueGroups(t){this.styleOrigin?Ee.getLogger(this).error("#uniqueValueGroups=","Cannot modify unique value groups of a UniqueValueRenderer created from a web style"):(this._set("uniqueValueGroups",t),this._updateInfosFromGroups(),this._isInfosSource=!1,this._watchUniqueValueGroups())}set uniqueValueInfos(t){this.styleOrigin?Ee.getLogger(this).error("#uniqueValueInfos=","Cannot modify unique value infos of a UniqueValueRenderer created from a web style"):(this._set("uniqueValueInfos",t),this._updateValueInfoMap(),this._updateGroupsFromInfos(),this._isInfosSource=!0,this._watchUniqueValueInfos())}addUniqueValueInfo(t,e){if(this.styleOrigin)return void Ee.getLogger(this).error("#addUniqueValueInfo()","Cannot modify unique value infos of a UniqueValueRenderer created from a web style");let i;i=typeof t=="object"?lVe(t):new au({value:t,symbol:Jue(e)}),this.uniqueValueInfos?.push(i),this._valueInfoMap[n0(i.value)]=i,this._updateGroupsFromInfos(),this._isInfosSource=!0,this._watchUniqueValueInfos()}removeUniqueValueInfo(t){if(this.styleOrigin)return void Ee.getLogger(this).error("#removeUniqueValueInfo()","Cannot modify unique value infos of a UniqueValueRenderer created from a web style");const e=this.uniqueValueInfos;if(e)for(let i=0;i<e.length;i++){const r=e[i];if(String(r.value)===String(t)){delete this._valueInfoMap[n0(t)],e.splice(i,1);break}}this._updateGroupsFromInfos(),this._isInfosSource=!0,this._watchUniqueValueInfos()}async getUniqueValueInfo(t,e){let i=e;return this.valueExpression&&e?.arcade==null&&(i={...i,arcade:await Mv()}),this._getUniqueValueInfo(t,i)}getSymbol(t,e){return this.valueExpression&&e?.arcade==null?void Ee.getLogger(this).error("#getSymbol()","Please use getSymbolAsync if valueExpression is used"):this._getUniqueValueInfo(t,e)?.symbol||this.defaultSymbol}async getSymbolAsync(t,e){let i=e;if(this.valueExpression&&i?.arcade==null){const n=await Mv(),{arcadeUtils:s}=n;s.hasGeometryOperations(this.valueExpression)&&await s.enableGeometryOperations(),i={...i,arcade:n}}return this._getUniqueValueInfo(t,i)?.symbol||this.defaultSymbol}get symbols(){const t=[];if(this._isInfosSource)for(const e of this.uniqueValueInfos??[])e.symbol&&t.push(e.symbol);else for(const e of this.uniqueValueGroups??[])for(const i of e.classes??[])i.symbol&&t.push(i.symbol);return this.defaultSymbol&&t.push(this.defaultSymbol),t}getAttributeHash(){return this.visualVariables?.reduce((t,e)=>t+e.getAttributeHash(),"")??""}getMeshHash(){const t=JSON.stringify(this.backgroundFillSymbol),e=JSON.stringify(this.defaultSymbol),i=this.uniqueValueInfos?.reduce((r,n)=>r+n.getMeshHash(),"");return`${t}.${e}.${i}.${`${this.field}.${this.field2}.${this.field3}.${this.fieldDelimiter}`}.${this.valueExpression}`}clone(){const t=new cT({field:this.field,field2:this.field2,field3:this.field3,defaultLabel:this.defaultLabel,defaultSymbol:ne(this.defaultSymbol),orderByClassesEnabled:this.orderByClassesEnabled,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,fieldDelimiter:this.fieldDelimiter,visualVariables:ne(this.visualVariables),legendOptions:ne(this.legendOptions),authoringInfo:ne(this.authoringInfo),backgroundFillSymbol:ne(this.backgroundFillSymbol)});this._isDefaultSymbolDerived&&(t._isDefaultSymbolDerived=!0),t._set("portal",this.portal);const e=ne(this.uniqueValueInfos),i=ne(this.uniqueValueGroups);return this.styleOrigin&&(t._set("styleOrigin",Object.freeze(ne(this.styleOrigin))),Object.freeze(e),Object.freeze(i)),t._set("uniqueValueInfos",e),t._updateValueInfoMap(),t._set("uniqueValueGroups",i),t._isInfosSource=this._isInfosSource,t._watchUniqueValueInfosAndGroups(),t}get arcadeRequired(){return this.arcadeRequiredForVisualVariables||!!this.valueExpression}async collectRequiredFields(t,e){const i=[this.collectVVRequiredFields(t,e),this.collectSymbolFields(t,e)];await Promise.all(i)}async collectSymbolFields(t,e){const i=[...this.symbols.map(r=>r.collectRequiredFields(t,e)),ho(t,e,null,this.valueExpression)];uo(t,e,this.field),uo(t,e,this.field2),uo(t,e,this.field3),await Promise.all(i)}populateFromStyle(){return sVe(this.styleOrigin,{portal:this.portal}).then(t=>{const e=[];return this._valueInfoMap={},t?.data&&Array.isArray(t.data.items)&&t.data.items.forEach(i=>{const r=new Is({styleUrl:t.styleUrl,styleName:t.styleName,portal:this.portal,name:i.name});this.defaultSymbol||i.name!==t.data.defaultItem||(this.defaultSymbol=r,this._isDefaultSymbolDerived=!0);const n=new au({value:i.name,symbol:r});e.push(n),this._valueInfoMap[n0(i.name)]=n}),this._set("uniqueValueInfos",Object.freeze(e)),this._updateGroupsFromInfos(!0),this._isInfosSource=null,this._watchUniqueValueInfos(),!this.defaultSymbol&&this.uniqueValueInfos?.length&&(this.defaultSymbol=this.uniqueValueInfos[0].symbol,this._isDefaultSymbolDerived=!0),this})}_updateFieldDelimiter(){this.field&&this.field2&&!this.fieldDelimiter&&this._set("fieldDelimiter",aVe)}_updateUniqueValues(){this._isInfosSource!=null&&(this._isInfosSource?this._updateGroupsFromInfos():this._updateInfosFromGroups())}_updateValueInfoMap(){this._valueInfoMap={};const{uniqueValueInfos:t}=this;if(t)for(const e of t)this._valueInfoMap[n0(e.value)]=e}_watchUniqueValueInfosAndGroups(){this._watchUniqueValueInfos(),this._watchUniqueValueGroups()}_watchUniqueValueInfos(){this.removeHandles(ZK);const{uniqueValueInfos:t}=this;if(t){const e=[];for(const i of t)e.push(ft(()=>({symbol:i.symbol,value:i.value,label:i.label,description:i.description}),(r,n)=>{r!==n&&(this._updateGroupsFromInfos(),this._isInfosSource=!0)},{sync:!0}));this.addHandles(e,ZK)}}_watchUniqueValueGroups(){this.removeHandles(JK);const{uniqueValueGroups:t}=this;if(t){const e=[];for(const i of t){e.push(ft(()=>({classes:i.classes}),(r,n)=>{r!==n&&(this._updateInfosFromGroups(),this._isInfosSource=!1)},{sync:!0}));for(const r of i.classes??[])e.push(ft(()=>({symbol:r.symbol,values:r.values,label:r.label,description:r.description}),(n,s)=>{n!==s&&(this._updateInfosFromGroups(),this._isInfosSource=!1)},{sync:!0}))}this.addHandles(e,JK)}}_updateInfosFromGroups(){if(!this.uniqueValueGroups)return this._set("uniqueValueInfos",null),this._updateValueInfoMap(),void this._watchUniqueValueInfos();const t=[],{field:e,field2:i,field3:r,fieldDelimiter:n,uniqueValueGroups:s,valueExpression:o}=this;if(!e&&!o)return this._set("uniqueValueInfos",t),this._updateValueInfoMap(),void this._watchUniqueValueInfos();const a=!(!e||!i);for(const l of s)for(const h of l.classes??[]){const{symbol:f,label:g,values:v,description:w}=h;for(const S of v??[]){const{value:T,value2:C,value3:I}=S,A=[T];i&&A.push(C),r&&A.push(I);const P=a?A.join(n||""):A[0]??void 0;t.push(new au({symbol:f,label:g,value:P,description:w}))}}this._set("uniqueValueInfos",t),this._updateValueInfoMap(),this._watchUniqueValueInfos()}_updateGroupsFromInfos(t=!1){if(!this.uniqueValueInfos)return this._set("uniqueValueGroups",null),void this._watchUniqueValueGroups();const{field:e,field2:i,valueExpression:r,fieldDelimiter:n,uniqueValueInfos:s}=this;if(!e&&!r||!s.length)return this._set("uniqueValueGroups",[]),void this._watchUniqueValueGroups();const o=!(!e||!i),a=s.map(h=>{const{symbol:f,label:g,value:v,description:w}=h,[S,T,C]=o?v?.toString()?.split(n||"")||[]:[v];return new ip({symbol:f,label:g,description:w,values:[new uu({value:S,value2:T,value3:C})]})}),l=[new Wy({classes:a})];t&&Object.freeze(l),this._set("uniqueValueGroups",l),this._watchUniqueValueGroups()}_getUniqueValueInfo(t,e){return this.valueExpression?this._getUnqiueValueInfoForExpression(t,e):this._getUnqiueValueInfoForFields(t)}_getUnqiueValueInfoForExpression(t,e){const{viewingMode:i,scale:r,spatialReference:n,arcade:s,timeZone:o}=e??{};let a=this._cache.compiledFunc;const l=s.arcadeUtils;if(!a){const f=l.createSyntaxTree(this.valueExpression);a=l.createFunction(f),this._cache.compiledFunc=a}const h=l.executeFunction(a,l.createExecContext(t,l.getViewInfo({viewingMode:i,scale:r,spatialReference:n}),o));return this._valueInfoMap[n0(h)]}_getUnqiueValueInfoForFields(t){const e=this.field,i=t.attributes;let r;if(this.field2){const n=this.field2,s=this.field3,o=[];e&&o.push(i[e]),n&&o.push(i[n]),s&&o.push(i[s]),r=o.join(this.fieldDelimiter||"")}else e&&(r=i[e]);return this._valueInfoMap[n0(r)]}static fromPortalStyle(t,e){const i=new cT(e?.properties);i._set("styleOrigin",Object.freeze({styleName:t})),i._set("portal",e?.portal||Le.getDefault());const r=i.populateFromStyle();return r.catch(n=>{Ee.getLogger(this.prototype).error(`#fromPortalStyle('${t}'[, ...])`,"Failed to create unique value renderer from style name",n)}),r}static fromStyleUrl(t,e){const i=new cT(e?.properties);i._set("styleOrigin",Object.freeze({styleUrl:t}));const r=i.populateFromStyle();return r.catch(n=>{Ee.getLogger(this.prototype).error(`#fromStyleUrl('${t}'[, ...])`,"Failed to create unique value renderer from style URL",n)}),r}};u([p({readOnly:!0})],tr.prototype,"_cache",null),u([nt({uniqueValue:"unique-value"})],tr.prototype,"type",void 0),u([p(RB)],tr.prototype,"backgroundFillSymbol",void 0),u([p({value:null,json:{type:String,read:{source:"field1"},write:{target:"field1"}}})],tr.prototype,"field",null),u([bi("field")],tr.prototype,"castField",null),u([ze("field")],tr.prototype,"writeField",null),u([p({type:String,value:null,json:{write:!0}})],tr.prototype,"field2",null),u([p({type:String,value:null,json:{write:!0}})],tr.prototype,"field3",null),u([p({type:Boolean,json:{name:"drawInClassOrder",default:!1,write:!0,origins:{"web-scene":{write:!1}}}})],tr.prototype,"orderByClassesEnabled",void 0),u([p({type:String,value:null,json:{write:!0}})],tr.prototype,"valueExpression",null),u([p({type:String,json:{write:!0}})],tr.prototype,"valueExpressionTitle",void 0),u([p({type:LB,json:{write:!0}})],tr.prototype,"legendOptions",void 0),u([p({type:String,json:{write:!0}})],tr.prototype,"defaultLabel",void 0),u([p(n9({...w3},{json:{write:{overridePolicy(){return{enabled:!this._isDefaultSymbolDerived}}},origins:{"web-scene":{write:{overridePolicy(){return{enabled:!this._isDefaultSymbolDerived}}}}}}}))],tr.prototype,"defaultSymbol",null),u([p({type:String,value:null,json:{write:!0}})],tr.prototype,"fieldDelimiter",null),u([p({type:Le,readOnly:!0})],tr.prototype,"portal",void 0),u([Ae("portal",["styleName"])],tr.prototype,"readPortal",null),u([p({readOnly:!0,json:{write:{enabled:!1,overridePolicy:()=>({enabled:!0})}}})],tr.prototype,"styleOrigin",void 0),u([Ae("styleOrigin",["styleName","styleUrl"])],tr.prototype,"readStyleOrigin",null),u([ze("styleOrigin",{styleName:{type:String},styleUrl:{type:String}})],tr.prototype,"writeStyleOrigin",null),u([p({type:[Wy],json:{read:{source:["uniqueValueGroups","uniqueValueInfos"],reader:(t,e,i)=>(e.uniqueValueGroups||cVe(e)).map(r=>Wy.fromJSON(r,i))},write:{overridePolicy(){return this.styleOrigin?{enabled:!1}:{enabled:!0}}}}})],tr.prototype,"uniqueValueGroups",null),u([p({type:[au],json:{read:!1,write:{isRequired:!0,overridePolicy(){return this.styleOrigin?{enabled:!1}:{enabled:!0,isRequired:!0}}}}})],tr.prototype,"uniqueValueInfos",null),tr=cT=u([j("esri.renderers.UniqueValueRenderer")],tr);var $8,A_;let On=(A_=class extends ge{constructor(e){super(e),this.attachmentTypes=null,this.attachmentsWhere=null,this.cacheHint=void 0,this.keywords=null,this.globalIds=null,this.name=null,this.num=null,this.objectIds=null,this.orderByFields=null,this.returnMetadata=!1,this.size=null,this.start=null,this.where=null}writeStart(e,i){i.resultOffset=this.start,i.resultRecordCount=this.num||10}clone(){return new $8(ne({attachmentTypes:this.attachmentTypes,attachmentsWhere:this.attachmentsWhere,cacheHint:this.cacheHint,keywords:this.keywords,where:this.where,globalIds:this.globalIds,name:this.name,num:this.num,objectIds:this.objectIds,orderByFields:this.orderByFields,returnMetadata:this.returnMetadata,size:this.size,start:this.start}))}},$8=A_,A_);u([p({type:[String],json:{write:!0}})],On.prototype,"attachmentTypes",void 0),u([p({type:String,json:{read:{source:"attachmentsDefinitionExpression"},write:{target:"attachmentsDefinitionExpression"}}})],On.prototype,"attachmentsWhere",void 0),u([p({type:Boolean,json:{write:!0}})],On.prototype,"cacheHint",void 0),u([p({type:[String],json:{write:!0}})],On.prototype,"keywords",void 0),u([p({type:[String],json:{write:!0}})],On.prototype,"globalIds",void 0),u([p({json:{write:!0}})],On.prototype,"name",void 0),u([p({type:Number,json:{read:{source:"resultRecordCount"}}})],On.prototype,"num",void 0),u([p({type:[Number],json:{write:!0}})],On.prototype,"objectIds",void 0),u([p({type:[String],json:{write:!0}})],On.prototype,"orderByFields",void 0),u([p({type:Boolean,json:{default:!1,write:!0}})],On.prototype,"returnMetadata",void 0),u([p({type:[Number],json:{write:!0}})],On.prototype,"size",void 0),u([p({type:Number,json:{read:{source:"resultOffset"}}})],On.prototype,"start",void 0),u([ze("start"),ze("num")],On.prototype,"writeStart",null),u([p({type:String,json:{read:{source:"definitionExpression"},write:{target:"definitionExpression"}}})],On.prototype,"where",void 0),On=$8=u([j("esri.rest.support.AttachmentQuery")],On),On.from=tn(On);const qpe=En()({naturalLog:"natural-log",squareRoot:"square-root",percentOfTotal:"percent-of-total",log:"log",field:"field"}),XK="percent-of-total",KK="field",lht=t=>{const e=t;let i=class extends e{constructor(){super(...arguments),this.normalizationField=null,this.normalizationMaxValue=null,this.normalizationMinValue=null,this.normalizationTotal=null}get normalizationType(){let r=this._get("normalizationType");const n=!!this.normalizationField,s=this.normalizationTotal!=null;return n||s?(r=n&&KK||s&&XK||null,n&&s&&Ee.getLogger(this).warn("warning: both normalizationField and normalizationTotal are set!")):r!==KK&&r!==XK||(r=null),r}set normalizationType(r){this._set("normalizationType",r)}};return u([p({type:String,json:{name:"parameters.normalizationField",write:!0}})],i.prototype,"normalizationField",void 0),u([p({type:Number,json:{name:"parameters.normalizationMaxValue",write:!0}})],i.prototype,"normalizationMaxValue",void 0),u([p({type:Number,json:{name:"parameters.normalizationMinValue",write:!0}})],i.prototype,"normalizationMinValue",void 0),u([p({type:Number,json:{name:"parameters.normalizationTotal",write:!0}})],i.prototype,"normalizationTotal",void 0),u([nt(qpe,{name:"parameters.normalizationType"})],i.prototype,"normalizationType",null),i=u([j("esri.rest.support.NormalizationBinParametersMixin")],i),i};var k8,O_;let cr=(O_=class extends ge{constructor(e){super(e),this.cacheHint=void 0,this.dynamicDataSource=void 0,this.gdbVersion=null,this.geometryPrecision=void 0,this.historicMoment=null,this.maxAllowableOffset=void 0,this.objectIds=null,this.orderByFields=null,this.outFields=null,this.outSpatialReference=null,this.relationshipId=void 0,this.start=void 0,this.num=void 0,this.returnGeometry=!1,this.returnM=void 0,this.returnZ=void 0,this.where=null}_writeHistoricMoment(e,i){i.historicMoment=e&&e.getTime()}writeStart(e,i){i.resultOffset=this.start,i.resultRecordCount=this.num||10,this.start>0&&this.where==null&&(i.definitionExpression="1=1")}clone(){return new k8(ne({cacheHint:this.cacheHint,dynamicDataSource:this.dynamicDataSource,gdbVersion:this.gdbVersion,geometryPrecision:this.geometryPrecision,historicMoment:this.historicMoment&&new Date(this.historicMoment),maxAllowableOffset:this.maxAllowableOffset,objectIds:this.objectIds,orderByFields:this.orderByFields,outFields:this.outFields,outSpatialReference:this.outSpatialReference,relationshipId:this.relationshipId,start:this.start,num:this.num,returnGeometry:this.returnGeometry,where:this.where,returnZ:this.returnZ,returnM:this.returnM}))}},k8=O_,O_);u([p({type:Boolean,json:{write:!0}})],cr.prototype,"cacheHint",void 0),u([p({type:tu,json:{write:!0}})],cr.prototype,"dynamicDataSource",void 0),u([p({type:String,json:{write:!0}})],cr.prototype,"gdbVersion",void 0),u([p({type:Number,json:{write:!0}})],cr.prototype,"geometryPrecision",void 0),u([p({type:Date})],cr.prototype,"historicMoment",void 0),u([ze("historicMoment")],cr.prototype,"_writeHistoricMoment",null),u([p({type:Number,json:{write:!0}})],cr.prototype,"maxAllowableOffset",void 0),u([p({json:{write:!0}})],cr.prototype,"objectIds",void 0),u([p({type:[String],json:{write:!0}})],cr.prototype,"orderByFields",void 0),u([p({type:[String],json:{write:!0}})],cr.prototype,"outFields",void 0),u([p({type:Ke,json:{read:{source:"outSR"},write:{target:"outSR"}}})],cr.prototype,"outSpatialReference",void 0),u([p({json:{write:!0}})],cr.prototype,"relationshipId",void 0),u([p({type:Number,json:{read:{source:"resultOffset"}}})],cr.prototype,"start",void 0),u([ze("start"),ze("num")],cr.prototype,"writeStart",null),u([p({type:Number,json:{read:{source:"resultRecordCount"}}})],cr.prototype,"num",void 0),u([p({json:{write:!0}})],cr.prototype,"returnGeometry",void 0),u([p({type:Boolean,json:{write:{overridePolicy:t=>({enabled:t})}}})],cr.prototype,"returnM",void 0),u([p({type:Boolean,json:{write:{overridePolicy:t=>({enabled:t})}}})],cr.prototype,"returnZ",void 0),u([p({type:String,json:{read:{source:"definitionExpression"},write:{target:"definitionExpression"}}})],cr.prototype,"where",void 0),cr=k8=u([j("esri.rest.support.RelationshipQuery")],cr),cr.from=tn(cr);const cht=Object.freeze(Object.defineProperty({__proto__:null,get default(){return cr}},Symbol.toStringTag,{value:"Module"})),E8=new At({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryMultiPatch:"multipatch"});async function uVe(t,e,i,r){const n=await ag(t);if(await zB(t,e,r),!n.addAttachment)throw new ee(r,"Layer source does not support addAttachment capability");return n.addAttachment(e,i)}function zB(t,e,i){const{attributes:r}=e,{objectIdField:n}=t;return t.capabilities?.data?.supportsAttachment?e?r?n&&r[n]?Promise.resolve():Promise.reject(new ee(i,`feature is missing the identifying attribute ${n}`)):Promise.reject(new ee(i,"'attributes' are required on a feature to query attachments")):Promise.reject(new ee(i,"A feature is required to add/delete/update attachments")):Promise.reject(new ee(i,"this layer doesn't support attachments"))}async function dVe(t,e,i,r,n){const s=await ag(t);if(await zB(t,e,n),!s.updateAttachment)throw new ee(n,"Layer source does not support updateAttachment capability");return s.updateAttachment(e,i,r)}async function hVe(t,e,i){const{applyEdits:r}=await ke(()=>import("./editingSupport-UOGNwLzb.js"),[]),n=await t.load();let s=i;return n.type==="feature"&&n.infoFor3D&&e.deleteFeatures!=null&&n.globalIdField!=null&&(s={...s,globalIdToObjectId:await DVe(n,e.deleteFeatures,n.globalIdField)}),r(n,n.source,e,i)}async function pVe(t,e,i){const{uploadAssets:r}=await ke(()=>import("./editingSupport-UOGNwLzb.js"),[]),n=await t.load();return r(n,n.source,e,i)}async function fVe(t,e,i,r){const n=await ag(t);if(await zB(t,e,r),!n.deleteAttachments)throw new ee(r,"Layer source does not support deleteAttachments capability");return n.deleteAttachments(e,i)}async function mVe(t,e,i){const r=(await t.load({signal:e?.signal})).source;if(!r.fetchRecomputedExtents)throw new ee(i,"Layer source does not support fetchUpdates capability");return r.fetchRecomputedExtents(e)}async function gVe(t,e,i,r){e=On.from(e),await t.load();const n=t.source,s=t.capabilities;if(!s?.data?.supportsAttachment)throw new ee(r,"this layer doesn't support attachments");const{attachmentTypes:o,objectIds:a,globalIds:l,num:h,size:f,start:g,where:v}=e;if(!s?.operations?.supportsQueryAttachments&&(o?.length>0||l?.length>0||f?.length>0||h||g||v))throw new ee(r,"when 'capabilities.operations.supportsQueryAttachments' is false, only objectIds is supported",e);if(!(a?.length||l?.length||v))throw new ee(r,"'objectIds', 'globalIds', or 'where' are required to perform attachment query",e);if(!n.queryAttachments)throw new ee(r,"Layer source does not support queryAttachments capability",e);return!s?.attachment?.supportsOrderByFields&&e.orderByFields?.length&&((e=e.clone()).orderByFields=null),n.queryAttachments(e)}async function yVe(t,e,i,r){const n=await ag(t);if(!n.queryObjectIds)throw new ee(r,"Layer source does not support queryObjectIds capability");return n.queryObjectIds(ot.from(e)??t.createQuery(),i)}async function vVe(t,e,i,r){const n=await ag(t);if(!n.queryFeatureCount)throw new ee(r,"Layer source does not support queryFeatureCount capability");return n.queryFeatureCount(ot.from(e)??t.createQuery(),i)}async function bVe(t,e,i,r){const n=await ag(t);if(!n.queryExtent)throw new ee(r,"Layer source does not support queryExtent capability");return n.queryExtent(ot.from(e)??t.createQuery(),i)}async function wVe(t,e,i,r){const n=await ag(t);if(!n.queryRelatedFeatures)throw new ee(r,"Layer source does not support queryRelatedFeatures capability");return n.queryRelatedFeatures(cr.from(e),i)}async function _Ve(t,e,i,r){const n=await ag(t);if(!n.queryRelatedFeaturesCount)throw new ee(r,"Layer source does not support queryRelatedFeaturesCount capability");return n.queryRelatedFeaturesCount(cr.from(e),i)}async function xVe(t){const e=t.source;if(e?.refresh)try{const{dataChanged:i,updates:r}=await e.refresh();if(r!=null&&(t.sourceJSON={...t.sourceJSON,...r},t.read(r,{origin:"service",url:t.parsedUrl})),i)return!0}catch{}if(t.definitionExpression)try{return(await zce(t.definitionExpression,t.fieldsIndex)).hasDateFunctions}catch{}return!1}function SVe(t){const e=new ot;e.historicMoment=t.historicMoment,e.gdbVersion=t.gdbVersion,e.returnGeometry=!0,e.outFields=["*"],e.multipatchOption=t.geometryType==="multipatch"?"xyFootprint":null;const i=t.capabilities?.query;i&&(e.compactGeometryEnabled=i.supportsCompactGeometry,e.defaultSpatialReferenceEnabled=i.supportsDefaultSpatialReference);const r=t.capabilities?.data;r?.supportsZ&&t.returnZ!=null&&(e.returnZ=t.returnZ),r?.supportsM&&t.returnM!=null&&(e.returnM=t.returnM);const{timeOffset:n,timeExtent:s}=t;return e.timeExtent=n!=null&&s!=null?s.offset(-n.value,n.unit):s||null,e}function Gpe(t){const{globalIdField:e,fields:i}=t;if(e)return e;if(i){for(const r of i)if(r.type==="esriFieldTypeGlobalID")return r.name}}function Wpe(t){const{objectIdField:e,fields:i}=t;if(e)return e;if(i){for(const r of i)if(r.type==="esriFieldTypeOID")return r.name}}function TVe(t){return t.currentVersion?t.currentVersion:t.hasOwnProperty("capabilities")||t.hasOwnProperty("drawingInfo")||t.hasOwnProperty("hasAttachments")||t.hasOwnProperty("htmlPopupType")||t.hasOwnProperty("relationships")||t.hasOwnProperty("timeInfo")||t.hasOwnProperty("typeIdField")||t.hasOwnProperty("types")?10:9.3}function $Ve(t,e,i,r){const n=i?.feature,s=!!t.subtypes?.length;if(s&&!i?.excludeImpliedDomains){const l=EVe(t,e);if(l)return l}const o=s&&kVe(t,n);if(o){const l=o?.domains?.[e];return l?.type==="inherited"?r:l}const a=Jpe(t.types,t.typeIdField,n);if(a){const l=a.domains&&a.domains[e];if(l&&l?.type!=="inherited")return l}if(r)return r;if(!i?.excludeImpliedDomains){const l=IVe(t,e);if(l)return l}return null}function kVe(t,e){const{subtypes:i,subtypeField:r}=t;if(!e?.attributes||!i?.length||!r)return null;const n=e.attributes[r];return n==null?null:i.find(s=>s.code===n)}function EVe(t,e){const{fieldsIndex:i,subtypeField:r}=t,{name:n,type:s}=i.get(e)??{};if(!n)return null;if((r&&i.get(r)?.name)===n&&t.subtypes?.length){const o=t.subtypes.map(a=>new qy({code:Ype(a.code,s),name:a.name}));if(o?.length)return new Im({codedValues:o})}return null}function IVe(t,e){const{fieldsIndex:i}=t,{name:r,type:n}=i.get(e)??{};if(!r)return null;if(("typeIdField"in t?i.get(t.typeIdField)?.name:null)===r&&"types"in t&&t.types?.length){const s=t.types.map(o=>new qy({code:Ype(o.id,n),name:o.name}));return new Im({codedValues:s})}return null}function Ype(t,e){return e?Kce({type:e})&&typeof t=="number"?`${t}`:SDe({type:e})&&typeof t=="string"?Number.parseInt(t,10):t:t}async function ag(t){return(await t.load()).source}async function uht(t,e){if(!Zt)return;const i=Zt.findCredential(t);if(i)return i.userId;let r;try{const n=await UU(t,e);n&&(r=await Zt.checkSignInStatus(`${n}/sharing`))}catch{}return r?r.userId:null}async function Zpe(t,e){if(!Zt||Zt.findCredential(t))return;let i;try{const r=await UU(t,e);r&&(i=await Zt.checkSignInStatus(`${r}/sharing`))}catch{}if(i)try{const r=e!=null?e.signal:null;await Zt.getCredential(t,{signal:r})}catch{}}async function CVe(t,e,i){const r=t.parsedUrl?.path;r&&t.authenticationTriggerEvent===e&&await Zpe(r,i)}async function dht(t){const e=t.parsedUrl?.path;e&&MVe(t)&&await Zpe(e)}function MVe(t){return AVe(t)&&("serviceDefinitionExpression"in t&&DO(t.serviceDefinitionExpression)||"definitionExpression"in t&&DO(t.definitionExpression))}function AVe(t){return!(!rce(t)||!t.capabilities?.query.supportsCurrentUser)}function DO(t){return!!t?.toLowerCase().includes("current_user")}function OVe(t){return!GM(t)&&(t.userHasUpdateItemPrivileges||t.editingEnabled)}const qz=S1({types:Zue});function NB(t,e){if(t.defaultSymbol)return t.types?.length?new tr({defaultSymbol:qz(t.defaultSymbol,t,e),field:t.typeIdField,uniqueValueInfos:t.types.map(i=>({id:i.id,symbol:qz(i.symbol,i,e)}))}):new Mo({symbol:qz(t.defaultSymbol,t,e)})}function PVe(t){let e=t.sourceJSON?.cacheMaxAge;if(!e)return!1;const i=t.editingInfo?.lastEditDate?.getTime();return i==null||(e*=1e3,Date.now()-i<e)}async function DVe(t,e,i){if(e==null)return null;const r=[],{objectIdField:n}=t;if(e.forEach(h=>{let f=null;if("attributes"in h){const{attributes:g}=h;f={globalId:g[i],objectId:g[n]!=null&&g[n]!==-1?g[n]:null}}else f={globalId:h.globalId,objectId:h.objectId!=null&&h.objectId!==-1?h.objectId:null};f.globalId!=null&&(f.objectId!=null&&f.objectId!==-1||r.push(f.globalId))}),r.length===0)return null;const s=t.createQuery();s.where=r.map(h=>`${i}='${h}'`).join(" OR "),s.returnGeometry=!1,s.outFields=[n,i],s.cacheHint=!1;const o=await aAe(Ape(t,s));if(!o.ok)return null;const a=new Map,l=o.value.features;for(const h of l){const f=h.attributes[i],g=h.attributes[n];f!=null&&g!=null&&g!==-1&&a.set(Oxe(f),g)}return a}function Jpe(t,e,i){if(!e||!i||!t)return null;const r=i.getAttribute(e);return r==null?null:t.find(n=>{const{id:s}=n;return s!=null&&s.toString()===r.toString()})??null}function GM(t){return t.sourceJSON?.isMultiServicesView||RVe(t)}function RVe(t){return!!t.sourceJSON?.capabilities?.toLowerCase().split(",").map(e=>e.trim()).includes("map")}function LVe(t,e,i){const r=e?.queryAttributeBins;if(!e?.operations?.supportsQueryBins||!r)throw new ee(i,"Layer source does not support binning");switch(t.binParameters.type){case"auto-interval":if(!r.supportsAutoInterval)throw new ee(i,"Layer source does not support auto-interval binning");if(t.binParameters.normalizationType&&(!r.supportsNormalization||!QK(t.binParameters.normalizationType,r.supportedNormalizationTypes)))throw new ee(i,"Layer source does not support normalization binning");break;case"date":if(!r.supportsDate)throw new ee(i,"Layer source does not support date binning");if(t.binParameters.snapToData&&!r.supportsSnapToData)throw new ee(i,"Layer source does not support snapToData binning");if(t.binParameters.returnFullIntervalBin&&!r.supportsReturnFullIntervalBin)throw new ee(i,"Layer source does not support returnFullIntervalBin binning");break;case"fixed-boundaries":if(!r.supportsFixedBoundaries)throw new ee(i,"Layer source does not support fixed-boundaries binning");break;case"fixed-interval":if(!r.supportsFixedInterval)throw new ee(i,"Layer source does not support fixed-interval binning");if(t.binParameters.normalizationType&&(!r.supportsNormalization||!QK(t.binParameters.normalizationType,r.supportedNormalizationTypes)))throw new ee(i,"Layer source does not support normalization binning")}if(t.binParameters.stackBy&&!r.supportsStackBy)throw new ee(i,"Layer source does not support stackBy binning");if(t.binParameters.splitBy&&!r.supportsSplitBy)throw new ee(i,"Layer source does not support splitBy binning");if(t.binParameters.firstDayOfWeek&&!r.supportsFirstDayOfWeek)throw new ee(i,"Layer source does not support firstDayOfWeek binning");const n=r?.supportedStatistics;if(t.outStatistics&&n){const s=new Map([["count","count"],["sum","sum"],["min","min"],["max","max"],["avg","avg"],["stddev","stddev"],["var","var"],["percentile-continuous","percentileContinuous"],["percentile-discrete","percentileDiscrete"],["centroid-aggregate","centroid"],["convex-hull-aggregate","convexHull"],["envelope-aggregate","envelope"]]);for(const{statisticType:o}of t.outStatistics){const a=s.get(o);if(a&&!n[a])throw new ee(i,`Layer source does not support ${o} statistic type`)}}}function QK(t,e){return t!=null&&!!e?.[qpe.toJSON(t)]}let aw=class extends dt(ge){constructor(e){super(e),this.shapeAreaField=null,this.shapeLengthField=null,this.units=null}};u([p({type:String,json:{read:{source:"shapeAreaFieldName"}}})],aw.prototype,"shapeAreaField",void 0),u([p({type:String,json:{read:{source:"shapeLengthFieldName"}}})],aw.prototype,"shapeLengthField",void 0),u([p({type:String,json:{read:t=>S$e.read(t)||T$e.read(t)}})],aw.prototype,"units",void 0),aw=u([j("esri.layers.support.GeometryFieldsInfo")],aw);var I8;let lw=I8=class extends ge{constructor(t){super(t),this.floorField=null,this.viewAllMode=!1,this.viewAllLevelIds=new We}clone(){return new I8({floorField:this.floorField,viewAllMode:this.viewAllMode,viewAllLevelIds:this.viewAllLevelIds})}};u([p({type:String,json:{write:{isRequired:!0}}})],lw.prototype,"floorField",void 0),u([p({json:{read:!1,write:!1}})],lw.prototype,"viewAllMode",void 0),u([p({json:{read:!1,write:!1}})],lw.prototype,"viewAllLevelIds",void 0),lw=I8=u([j("esri.layers.support.LayerFloorInfo")],lw);function zVe(t){const{nonStandardUrlAllowed:e=!1,separator:i}=t??{},r=ne(Z6e),n=r.json?.write;return typeof n=="object"&&n&&(n.writer=function(s,o,a,l){Dwe(this,s,i,o,l)}),{...r,set:function(s){if(s==null)return void this._set("url",s);const o=Pwe({layer:this,url:s,nonStandardUrlAllowed:e,logger:Ee.getLogger(this)});this._set("url",o.url),o.layerId!=null&&this._set("layerId",o.layerId)}}}function NVe(t,e){const{separator:i}=e??{},r=Qr(t.url);return r!=null&&(t.dynamicDataSource!=null?r.path=yv(r.path,"dynamicLayer"):t.layerId!=null&&(r.path=yv(r.path,i??"",t.layerId.toString()))),r}const eQ=new At({esriRelCardinalityOneToOne:"one-to-one",esriRelCardinalityOneToMany:"one-to-many",esriRelCardinalityManyToMany:"many-to-many"}),tQ=new At({esriRelRoleOrigin:"origin",esriRelRoleDestination:"destination"});let Ya=class extends dt(ge){constructor(e){super(e),this.cardinality=null,this.catalogId=null,this.composite=null,this.id=null,this.keyField=null,this.keyFieldInRelationshipTable=null,this.name=null,this.relatedTableId=null,this.relationshipTableId=null,this.role=null}};u([p({json:{read:eQ.read,write:eQ.write}})],Ya.prototype,"cardinality",void 0),u([p({json:{name:"catalogID"}})],Ya.prototype,"catalogId",void 0),u([p({json:{read:!0,write:!0}})],Ya.prototype,"composite",void 0),u([p({json:{read:!0,write:!0}})],Ya.prototype,"id",void 0),u([p({json:{read:!0,write:!0}})],Ya.prototype,"keyField",void 0),u([p({json:{read:!0,write:!0}})],Ya.prototype,"keyFieldInRelationshipTable",void 0),u([p({json:{read:!0,write:!0}})],Ya.prototype,"name",void 0),u([p({json:{read:!0,write:!0}})],Ya.prototype,"relatedTableId",void 0),u([p({json:{read:!0,write:!0}})],Ya.prototype,"relationshipTableId",void 0),u([p({json:{read:tQ.read,write:tQ.write}})],Ya.prototype,"role",void 0),Ya=u([j("esri.layers.support.Relationship")],Ya);const jVe=[["binary","application/octet-stream","bin",""]];function fht(t,e){return efe(e.name,t?.supportedFormats??[])!=null}function mht(t,e){if(!t)return!1;const i=FVe(e,t.supportedFormats??[]);return i!=null&&t.editFormats.includes(i)}function Xpe(t,e){return FB(HVe(t,e))}function Kpe(t,e){return FB(efe(t,e))}function ght(t,e){return tfe(BVe(t,e))}function FVe(t,e){return Kpe(t.name,e)??Xpe(t.type,e)}function _3(t,e,i){return Xpe(t,i)??Kpe(e,i)}function Qpe({supportedFormats:t}){return _3("model/gltf-binary","glb",t)}function yht(t){const e=Qpe(t);return e!=null&&t.editFormats.includes(e)}function VVe({supportedFormats:t}){return _3("model/gltf+json","gltf",t)}function UVe(t){if(!t)return null;const e=Qpe(t),i=VVe(t);let r=null;for(const n of t.queryFormats){if(n===e)return n;n===i&&(r=n)}return r}function vht({supportedFormats:t}){return _3("application/esri3do-SR_world","wld",t)}function bht({supportedFormats:t}){return _3("application/esri3do-SR_prj","prj",t)}function jB(t){return[...jVe,...t]}function BVe(t,e){return jB(e).find(i=>FB(i)===t)}function HVe(t,e){const i=t.toLowerCase();return jB(e).find(r=>tfe(r)===i)}function efe(t,e){const i=t.toLowerCase();return jB(e).find(r=>qVe(r).some(n=>i.endsWith(n)))}function FB(t){return t?.[0]}function tfe(t){return t?.[1].toLowerCase()}function qVe(t){return t?.[2].split(",").map(e=>e.toLowerCase())??[]}function wht(t){return t.tables?.find(e=>e.role==="assetMaps")}function Xe(t,e,i){return!!ife(t,e,i)}function cw(t,e,i){return ife(t,e,i)}function ife(t,e,i){return t&&t.hasOwnProperty(e)?t[e]:i}const GVe={name:"supportsName",size:"supportsSize",contentType:"supportsContentType",keywords:"supportsKeywords",exifInfo:"supportsExifInfo"};function WVe(t){const e=t?.supportedSpatialAggregationStatistics?.map(i=>i.toLowerCase());return{envelope:!!e?.includes("envelopeaggregate"),centroid:!!e?.includes("centroidaggregate"),convexHull:!!e?.includes("convexhullaggregate")}}function pk(t,e){return!!t?.supportedOperationsWithCacheHint?.map(r=>r.toLowerCase())?.includes(e.toLowerCase())}function YVe(t){const e=t?.supportedStatisticTypes?.map(i=>i.toLowerCase());return{count:!!e?.includes("count"),sum:!!e?.includes("sum"),min:!!e?.includes("min"),max:!!e?.includes("max"),avg:!!e?.includes("avg"),var:!!e?.includes("var"),stddev:!!e?.includes("stddev"),percentileContinuous:!!e?.includes("percentile_cont"),percentileDiscrete:!!e?.includes("percentile_disc"),envelope:!!e?.includes("envelopeaggregate"),centroid:!!e?.includes("centroidaggregate"),convexHull:!!e?.includes("convexhullaggregate")}}function ZVe(t){const e=t?.supportedNormalizationTypes?.map(i=>i.toLowerCase());return{field:!!e?.includes("field"),log:!!e?.includes("log"),naturalLog:!!e?.includes("naturallog"),percentOfTotal:!!e?.includes("percentoftotal"),squareRoot:!!e?.includes("squareroot")}}function rfe(t,e){return{analytics:JVe(t),attachment:XVe(t),data:KVe(t),metadata:QVe(t),operations:e9e(t.capabilities,t,e),query:t9e(t,e),queryAttributeBins:n9e(t),queryRelated:i9e(t),queryTopFeatures:r9e(t),editing:s9e(t)}}function JVe(t){return{supportsCacheHint:pk(t.advancedQueryCapabilities,"queryAnalytics")}}function XVe(t){const e=t.attachmentProperties,i={supportsName:!1,supportsSize:!1,supportsContentType:!1,supportsKeywords:!1,supportsExifInfo:!1,supportsCacheHint:pk(t.advancedQueryCapabilities,"queryAttachments"),supportsOrderByFields:Xe(t.advancedQueryCapabilities,"supportsQueryAttachmentOrderByFields",!1),supportsResize:Xe(t,"supportsAttachmentsResizing",!1),supportsTypeWildcard:Xe(t.advancedQueryCapabilities,"supportsQueryAttachmentWithTypeWildcard",!1)};return e&&Array.isArray(e)&&e.forEach(r=>{const n=GVe[r.name];n&&(i[n]=!!r.isEnabled)}),i}function KVe(t){return{isVersioned:Xe(t,"isDataVersioned",!1),isBranchVersioned:Xe(t,"isDataBranchVersioned",!1),supportsAttachment:Xe(t,"hasAttachments",!1),supportsM:Xe(t,"hasM",!1),supportsZ:Xe(t,"hasZ",!1)}}function QVe(t){return{supportsAdvancedFieldProperties:Xe(t,"supportsFieldDescriptionProperty",!1)}}function e9e(t,e,i){const r=t?.toLowerCase().split(",").map(v=>v.trim())??[],n=i?Ld(i):null,s=r.includes(n?.serverType==="MapServer"?"data":"query"),o=r.includes("editing")&&!e.datesInUnknownTimezone&&e.uniqueIdInfo?.OIDFieldContainsHashValue!==!0;let a=o&&r.includes("create"),l=o&&r.includes("delete"),h=o&&r.includes("update");const f=r.includes("changetracking"),g=e.advancedQueryCapabilities;return o&&!(a||l||h)&&(a=l=h=!0),{supportsCalculate:Xe(e,"supportsCalculate",!1),supportsTruncate:Xe(e,"supportsTruncate",!1),supportsValidateSql:Xe(e,"supportsValidateSql",!1),supportsAdd:a,supportsDelete:l,supportsEditing:o,supportsChangeTracking:f,supportsQuery:s,supportsQueryAnalytics:Xe(g,"supportsQueryAnalytic",!1),supportsQueryAttachments:Xe(g,"supportsQueryAttachments",!1),supportsQueryBins:Xe(g,"supportsQueryBins",!1)||!!e.queryBinsCapabilities,supportsQueryPivot:Xe(g,"supportsQueryPivot",!1),supportsQueryTopFeatures:Xe(g,"supportsTopFeaturesQuery",!1),supportsResizeAttachments:Xe(e,"supportsAttachmentsResizing",!1),supportsSync:r.includes("sync"),supportsUpdate:h,supportsExceedsLimitStatistics:Xe(e,"supportsExceedsLimitStatistics",!1),supportsAsyncConvert3D:Xe(e,"supportsAsyncConvert3D",!1)}}function t9e(t,e){const i=t.advancedQueryCapabilities,r=t.ownershipBasedAccessControlForFeatures,n=t.archivingInfo,s=t.currentVersion,o=e?.includes("MapServer"),a=!o||s>=he("mapserver-pbf-version-support"),l=DA(e),h=new Set((t.supportedQueryFormats??"").split(",").map(f=>f.toLowerCase().trim()));return{maxRecordCount:cw(t,"maxRecordCount",void 0),maxRecordCountFactor:cw(t,"maxRecordCountFactor",void 0),maxUniqueIDCount:cw(t,"maxUniqueIDCount",void 0),standardMaxRecordCount:cw(t,"standardMaxRecordCount",void 0),supportedSpatialAggregationStatistics:WVe(i),supportsCacheHint:Xe(i,"supportsQueryWithCacheHint",!1)||pk(i,"query"),supportsCentroid:Xe(i,"supportsReturningGeometryCentroid",!1),supportsCentroidOnDegeneratedQuantizedGeometry:l||e==null,supportsCompactGeometry:l,supportsCurrentUser:Xe(i,"supportsCurrentUserQueries",!1),supportsDefaultSpatialReference:Xe(i,"supportsDefaultSR",!1),supportsDegeneratedQuantizedGeometry:Xe(i,"supportsDegeneratedQuantizedGeometry",!1),supportsDisjointSpatialRelationship:Xe(i,"supportsDisjointSpatialRel",!1),supportsDistance:Xe(i,"supportsQueryWithDistance",!1),supportsDistinct:Xe(i,"supportsDistinct",t.supportsAdvancedQueries),supportsExtent:Xe(i,"supportsReturningQueryExtent",!1),supportsFormatPBF:a&&h.has("pbf"),supportsFullTextSearch:Xe(i,"supportsFullTextSearch",!1),supportsGeometryProperties:Xe(i,"supportsReturningGeometryProperties",!1),supportsHavingClause:Xe(i,"supportsHavingClause",!1),supportsHistoricMoment:Xe(n,"supportsQueryWithHistoricMoment",!1),supportsMaxRecordCountFactor:Xe(i,"supportsMaxRecordCountFactor",!1),supportsOrderBy:Xe(i,"supportsOrderBy",t.supportsAdvancedQueries),supportsPagination:Xe(i,"supportsPagination",!1),supportsPaginationOnAggregatedQueries:Xe(i,"supportsPaginationOnAggregatedQueries",!1),supportsPercentileStatistics:Xe(i,"supportsPercentileStatistics",!1),supportsQuantization:Xe(t,"supportsCoordinatesQuantization",!1),supportsQuantizationEditMode:Xe(t,"supportsQuantizationEditMode",!1),supportsQueryByAnonymous:Xe(r,"allowAnonymousToQuery",!0),supportsQueryByOthers:Xe(r,"allowOthersToQuery",!0),supportsQueryGeometry:Xe(t,"supportsReturningQueryGeometry",!1),supportsResultType:Xe(i,"supportsQueryWithResultType",!1),supportsReturnMesh:!!UVe(t.infoFor3D),supportsSpatialAggregationStatistics:Xe(i,"supportsSpatialAggregationStatistics",!1),supportsSqlExpression:Xe(i,"supportsSqlExpression",!1),supportsStandardizedQueriesOnly:Xe(t,"useStandardizedQueries",!1),supportsStatistics:Xe(i,"supportsStatistics",t.supportsStatistics),supportsTopFeaturesQuery:Xe(i,"supportsTopFeaturesQuery",!1),supportsTrueCurve:Xe(i,"supportsTrueCurve",!1),tileMaxRecordCount:cw(t,"tileMaxRecordCount",void 0)}}function i9e(t){const e=t.advancedQueryCapabilities,i=Xe(e,"supportsAdvancedQueryRelated",!1);return{supportsPagination:Xe(e,"supportsQueryRelatedPagination",!1),supportsCount:i,supportsOrderBy:i,supportsCacheHint:pk(e,"queryRelated")}}function r9e(t){return{supportsCacheHint:pk(t.advancedQueryCapabilities,"queryTopFilter")}}function n9e(t){const e=t?t.queryBinsCapabilities:void 0;return{supportsDate:Xe(e,"supportsDateBin",!1),supportsFixedInterval:Xe(e,"supportsFixedIntervalBin",!1),supportsAutoInterval:Xe(e,"supportsAutoIntervalBin",!1),supportsFixedBoundaries:Xe(e,"supportsFixedBoundariesBin",!1),supportsStackBy:Xe(e,"supportsStackBy",!1),supportsSplitBy:Xe(e,"supportsSplitBy",!1),supportsSnapToData:Xe(e,"supportsSnapToData",!1),supportsReturnFullIntervalBin:Xe(e,"supportsReturnFullIntervalBin",!1),supportsFirstDayOfWeek:Xe(e,"supportsFirstDayOfWeek",!1),supportsNormalization:Xe(e,"supportsNormalization",!1),supportedStatistics:YVe(e),supportedNormalizationTypes:ZVe(e)}}function s9e(t){const e=t.ownershipBasedAccessControlForFeatures,i=t?t.advancedEditingCapabilities:void 0;return{supportsGeometryUpdate:Xe(t,"allowGeometryUpdates",!0),supportsGlobalId:Xe(t,"supportsApplyEditsWithGlobalIds",!1),supportsReturnServiceEditsInSourceSpatialReference:Xe(t,"supportsReturnServiceEditsInSourceSR",!1),supportsRollbackOnFailure:Xe(t,"supportsRollbackOnFailureParameter",!1),supportsUpdateWithoutM:Xe(t,"allowUpdateWithoutMValues",!1),supportsUploadWithItemId:Xe(t,"supportsAttachmentsByUploadId",!1),supportsDeleteByAnonymous:Xe(e,"allowAnonymousToDelete",!0),supportsDeleteByOthers:Xe(e,"allowOthersToDelete",!0),supportsUpdateByAnonymous:Xe(e,"allowAnonymousToUpdate",!0),supportsUpdateByOthers:Xe(e,"allowOthersToUpdate",!0),supportsAsyncApplyEdits:Xe(i,"supportsAsyncApplyEdits",!1),zDefault:cw(t,"zDefault",void 0)}}function _ht(t){return{operations:{supportsAppend:Xe(t,"supportsAppend",!1),supportsCoverageQuery:t?.playbackInfo?.klv["0601"]??!1,supportsExportClip:Xe(t,"supportsExportClip",!1),supportsExportFrameset:Xe(t,"supportsExportFrameset",!1),supportsMensuration:Xe(t,"supportsMensuration",!1),supportsPreviews:Xe(t,"supportsPreviews",!1),supportsUpdate:Xe(t,"supportsUpdate",!1)}}}let Bh=class extends dt(ge){constructor(e){super(e),this.code=null,this.defaultValues={},this.domains=null,this.name=null}readDomains(e){if(!e)return null;const i={};for(const r of Object.keys(e))i[r]=n3(e[r]);return i}writeDomains(e,i){if(!e)return;const r={};for(const n of Object.keys(e))e[n]&&(r[n]=e[n]?.toJSON());i.domains=r}};u([p({type:Number,json:{write:!0}})],Bh.prototype,"code",void 0),u([p({type:Object,json:{write:!0}})],Bh.prototype,"defaultValues",void 0),u([p({json:{write:!0}})],Bh.prototype,"domains",void 0),u([Ae("domains")],Bh.prototype,"readDomains",null),u([ze("domains")],Bh.prototype,"writeDomains",null),u([p({type:String,json:{write:!0}})],Bh.prototype,"name",void 0),Bh=u([j("esri.layers.support.Subtype")],Bh);const o9e=t=>{const e=t;let i=class extends e{constructor(){super(...arguments),this.copyright=null,this.capabilities=null,this.dateFieldsTimeZone=null,this.datesInUnknownTimezone=!1,this.definitionExpression=null,this.displayField=null,this.editFieldsInfo=null,this.editingInfo=null,this.elevationInfo=null,this.fieldsIndex=null,this.floorInfo=null,this.fullExtent=null,this.gdbVersion=null,this.geometryFieldsInfo=null,this.geometryType=null,this.globalIdField=null,this.hasM=void 0,this.hasZ=void 0,this.heightModelInfo=null,this.historicMoment=null,this.indexes=new(We.ofType(ud)),this.isTable=!1,this.layerId=void 0,this.maxScale=0,this.minScale=0,this.objectIdField=null,this.preferredTimeZone=null,this.relationships=null,this.returnM=void 0,this.returnZ=void 0,this.serviceDefinitionExpression=null,this.serviceItemId=null,this.sourceJSON=null,this.spatialReference=Ke.WGS84,this.subtypeField=null,this.subtypes=null,this.trackIdField=null,this.uniqueIdFields=null,this.url=null,this.version=void 0,this._isUrlHostModified=!1,this._isUrlHostModificationEnabled=!1}getFieldDomain(r,n){throw new Error("Not implemented")}getField(r){return this.fieldsIndex.get(r)}get authenticationTriggerEvent(){if(!this.url)return null;const{capabilities:r}=this;if(r){const{query:s,operations:o,editing:a}=r;if(!s.supportsQueryByOthers||!s.supportsQueryByAnonymous||o.supportsEditing&&!(a.supportsUpdateByOthers&&a.supportsUpdateByAnonymous&&a.supportsDeleteByOthers&&a.supportsDeleteByAnonymous))return"load"}if(DO(this.serviceDefinitionExpression)||DO(this.definitionExpression))return"load";if(this.userHasUpdateItemPrivileges){if(PVe(this))return"load";if(this.hasUpdateItemRestrictions)return r.operations.supportsQuery?"editing":"load"}if(this.userHasFullEditingPrivileges&&this.hasFullEditingRestrictions)return"editing";const n=this.editFieldsInfo;return(n?.creatorField||n?.editorField)&&r?.operations.supportsEditing?"editing":null}readCapabilitiesFromService(r,n){return rfe(n,this.url)}readEditingInfo(r,n){const{editingInfo:s}=n;return s?{lastEditDate:s.lastEditDate!=null?new Date(s.lastEditDate):null}:null}get effectiveCapabilities(){const r=this.capabilities;if(!r)return null;const n=ne(r),{operations:s,editing:o}=n;return GM(this)?(this.userHasUpdateItemPrivileges&&(s.supportsQuery=!0),n):this.userHasUpdateItemPrivileges?(s.supportsAdd=s.supportsDelete=s.supportsEditing=s.supportsQuery=s.supportsUpdate=o.supportsDeleteByOthers=o.supportsGeometryUpdate=o.supportsUpdateByOthers=!0,n):(this.userHasFullEditingPrivileges&&s.supportsEditing&&(s.supportsAdd=s.supportsDelete=s.supportsUpdate=o.supportsGeometryUpdate=!0),n)}get effectiveEditingEnabled(){return!1}readGlobalIdFieldFromService(r,n){return Gpe(n)}get hasFullEditingRestrictions(){const r=this.capabilities;if(!r||GM(this))return!1;const{operations:n,editing:s}=r;return n.supportsEditing&&!(n.supportsAdd&&n.supportsDelete&&n.supportsUpdate&&s.supportsGeometryUpdate)}get hasUpdateItemRestrictions(){const r=this.capabilities;if(!r)return!1;const{operations:n,editing:s}=r;return GM(this)?!n.supportsQuery:!(n.supportsAdd&&n.supportsDelete&&n.supportsEditing&&n.supportsQuery&&n.supportsUpdate&&s.supportsDeleteByOthers&&s.supportsGeometryUpdate&&s.supportsUpdateByOthers)}readIsTableFromService(r,n){return n.type==="Table"}readMaxScale(r,n){return n.effectiveMaxScale||r||0}readMinScale(r,n){return n.effectiveMinScale||r||0}readObjectIdFieldFromService(r,n){return Wpe(n)}get parsedUrl(){return NVe(this)}readServiceDefinitionExpression(r,n){return n.definitionQuery||n.definitionExpression}readUniqueIdFields(r,n){return n.uniqueIdInfo?.OIDFieldContainsHashValue?n.uniqueIdInfo.fields:null}readVersion(r,n){return TVe(n)}get isUrlHostModified(){const{loaded:r,url:n,_isUrlHostModified:s}=this;if(s)return!0;if(!r||!n||this.originIdOf("url")<7)return!1;const o=this.sourceJSON?.preferredHost;if(!o||!os(n,`https://${o}`,!0))return!1;for(let a=6;a>=3;a--){const l=this.getAtOrigin("url",S2(a));if(l)return!os(n,l,!0)}return!1}applyPreferredHost(r){const{url:n,portalItem:s}=this;!n||xF(s)}applyHostFromPortalItem(){const{url:r,portalItem:n}=this;if(!r||this.originIdOf("url")===7||!n?.url||!xF(n)||!xB(n,SB.HOSTED_SERVICE)||os(r,n.url,!0)||!this._isUrlHostModificationEnabled)return;const s=_we(n.url);this._set("url",xre(r,s)),this._isUrlHostModified=!0}};return u([p({readOnly:!0})],i.prototype,"authenticationTriggerEvent",null),u([p({type:String,json:{origins:{service:{read:{source:"copyrightText"}}}}})],i.prototype,"copyright",void 0),u([p({readOnly:!0,json:{read:!1,origins:{service:{read:{source:["advancedQueryCapabilities","allowGeometryUpdates","allowUpdateWithoutMValues","archivingInfo","capabilities","datesInUnknownTimezone","hasAttachments","hasM","hasZ","isDataBranchVersioned","isDataVersioned","maxRecordCount","maxRecordCountFactor","maxUniqueIDCount","ownershipBasedAccessControlForFeatures","standardMaxRecordCount","supportedQueryFormats","supportsAdvancedQueries","supportsApplyEditsWithGlobalIds","supportsAttachmentsByUploadId","supportsAttachmentsResizing","supportsCalculate","supportsCoordinatesQuantization","supportsExceedsLimitStatistics","supportsFieldDescriptionProperty","supportsQuantizationEditMode","supportsRollbackOnFailureParameter","supportsStatistics","supportsTruncate","supportsValidateSql","tileMaxRecordCount","useStandardizedQueries"]}}}}})],i.prototype,"capabilities",void 0),u([Ae("service","capabilities")],i.prototype,"readCapabilitiesFromService",null),u([p(VA("dateFieldsTimeReference"))],i.prototype,"dateFieldsTimeZone",void 0),u([p({type:Boolean})],i.prototype,"datesInUnknownTimezone",void 0),u([p({type:String,json:{origins:{service:{read:!1,write:!1}},name:"layerDefinition.definitionExpression",write:{enabled:!0,allowNull:!0}}})],i.prototype,"definitionExpression",void 0),u([p({type:String,json:{origins:{service:{read:{source:"displayField"}}}}})],i.prototype,"displayField",void 0),u([p({readOnly:!0,type:Uh})],i.prototype,"editFieldsInfo",void 0),u([p({readOnly:!0})],i.prototype,"editingInfo",void 0),u([Ae("editingInfo")],i.prototype,"readEditingInfo",null),u([p({readOnly:!0})],i.prototype,"effectiveCapabilities",null),u([p()],i.prototype,"effectiveEditingEnabled",null),u([p((()=>{const r=ne(X6e),n=r.json.origins;return n["web-map"]={read:!1,write:!1},n["portal-item"]={read:!1,write:!1},r})())],i.prototype,"elevationInfo",void 0),u([p()],i.prototype,"fieldsIndex",void 0),u([p({type:lw,json:{name:"layerDefinition.floorInfo",write:{layerContainerTypes:Ki}}})],i.prototype,"floorInfo",void 0),u([p({type:jt,json:{origins:{service:{read:{source:"extent"}}}}})],i.prototype,"fullExtent",void 0),u([p()],i.prototype,"gdbVersion",void 0),u([p({readOnly:!0,type:aw,json:{read:{source:"geometryProperties"}}})],i.prototype,"geometryFieldsInfo",void 0),u([p({type:["point","polygon","polyline","multipoint","multipatch","mesh"],json:{origins:{service:{read:E8.read}}}})],i.prototype,"geometryType",void 0),u([p({type:String})],i.prototype,"globalIdField",void 0),u([Ae("service","globalIdField",["globalIdField","fields"])],i.prototype,"readGlobalIdFieldFromService",null),u([p({readOnly:!0})],i.prototype,"hasFullEditingRestrictions",null),u([p({type:Boolean,json:{origins:{service:{read:!0}}}})],i.prototype,"hasM",void 0),u([p({readOnly:!0})],i.prototype,"hasUpdateItemRestrictions",null),u([p({type:Boolean,json:{origins:{service:{read:!0}}}})],i.prototype,"hasZ",void 0),u([p({readOnly:!0,type:So})],i.prototype,"heightModelInfo",void 0),u([p({type:Date})],i.prototype,"historicMoment",void 0),u([p({type:We.ofType(ud),readOnly:!0})],i.prototype,"indexes",void 0),u([p({readOnly:!0})],i.prototype,"isTable",void 0),u([Ae("service","isTable",["type"])],i.prototype,"readIsTableFromService",null),u([p({type:Number,json:{origins:{service:{read:{source:"id"}},"portal-item":{read:!1,write:{target:"id"}}},read:!1}})],i.prototype,"layerId",void 0),u([p(t8e)],i.prototype,"maxScale",void 0),u([Ae("service","maxScale",["maxScale","effectiveMaxScale"])],i.prototype,"readMaxScale",null),u([p(e8e)],i.prototype,"minScale",void 0),u([Ae("service","minScale",["minScale","effectiveMinScale"])],i.prototype,"readMinScale",null),u([p({type:String})],i.prototype,"objectIdField",void 0),u([Ae("service","objectIdField",["objectIdField","fields"])],i.prototype,"readObjectIdFieldFromService",null),u([p({readOnly:!0})],i.prototype,"parsedUrl",null),u([p(VA("preferredTimeReference"))],i.prototype,"preferredTimeZone",void 0),u([p({type:[Ya],readOnly:!0})],i.prototype,"relationships",void 0),u([p({type:Boolean})],i.prototype,"returnM",void 0),u([p({type:Boolean})],i.prototype,"returnZ",void 0),u([p({readOnly:!0,json:{write:!1}})],i.prototype,"serverGens",void 0),u([p({readOnly:!0})],i.prototype,"serviceDefinitionExpression",void 0),u([Ae("service","serviceDefinitionExpression",["definitionQuery","definitionExpression"])],i.prototype,"readServiceDefinitionExpression",null),u([p({type:String,readOnly:!0,json:{read:!1,origins:{service:{read:!0}}}})],i.prototype,"serviceItemId",void 0),u([p()],i.prototype,"sourceJSON",void 0),u([p({type:Ke,json:{origins:{service:{read:{source:"extent.spatialReference"}}}}})],i.prototype,"spatialReference",void 0),u([p({type:String,readOnly:!0,json:{origins:{service:{read:!0}}}})],i.prototype,"subtypeField",void 0),u([p({type:[Bh],readOnly:!0,json:{read:!1,origins:{service:{read:!0}}}})],i.prototype,"subtypes",void 0),u([p({type:String,json:{read:{source:"timeInfo.trackIdField"}}})],i.prototype,"trackIdField",void 0),u([p({type:[String],readOnly:!0})],i.prototype,"uniqueIdFields",void 0),u([Ae("service","uniqueIdFields",["uniqueIdInfo.OIDFieldContainsHashValue","uniqueIdInfo.fields"])],i.prototype,"readUniqueIdFields",null),u([p(zVe({nonStandardUrlAllowed:!0}))],i.prototype,"url",void 0),u([p({json:{origins:{service:{read:!0}},read:!1}})],i.prototype,"version",void 0),u([Ae("service","version",["currentVersion","capabilities","drawingInfo","hasAttachments","htmlPopupType","relationships","timeInfo","typeIdField","types"])],i.prototype,"readVersion",null),u([p({readOnly:!0})],i.prototype,"isUrlHostModified",null),i=u([j("esri.layers.mixins.FeatureLayerBase")],i),i};let a9e=class extends K2{constructor(e){super(),this.type="aggregate",this.featureReductionProvider=e}get id(){return this.featureReductionProvider.id}get[nk](){const e=this.featureReductionProvider.featureReduction;return e&&"popupTemplate"in e?e:null}},ym=class extends dt(ge){constructor(e){super(e),this.expression=null,this.title=null,this.returnType=null}};u([p({type:String,json:{write:!0}})],ym.prototype,"expression",void 0),u([p({type:String,json:{write:!0}})],ym.prototype,"title",void 0),u([p({type:String,json:{write:!0}})],ym.prototype,"returnType",void 0),ym=u([j("esri.layers.support.ExpressionInfo")],ym);var C8,P_;let ro=(P_=class extends ge{constructor(e){super(e),this.isAutoGenerated=!1,this.name=null,this.alias=null,this.onStatisticField=null,this.onStatisticExpression=null,this.statisticType=null}clone(){return new C8({name:this.name,alias:this.alias,isAutoGenerated:this.isAutoGenerated,onStatisticExpression:ne(this.onStatisticExpression),onStatisticField:this.onStatisticField,statisticType:this.statisticType})}},C8=P_,P_);u([p({type:Boolean,json:{write:!0}})],ro.prototype,"isAutoGenerated",void 0),u([p({type:String,json:{write:!0}})],ro.prototype,"name",void 0),u([p({type:String,json:{write:!0}})],ro.prototype,"alias",void 0),u([p({type:String,json:{write:!0}})],ro.prototype,"onStatisticField",void 0),u([p({type:ym,json:{write:!0}})],ro.prototype,"onStatisticExpression",void 0),u([p({type:String,json:{write:!0}})],ro.prototype,"statisticType",void 0),ro=C8=u([j("esri.layers.support.AggregateField")],ro);let zm=class extends ge{constructor(){super(...arguments),this.type=null}};u([p({type:["selection","cluster","binning"],readOnly:!0,json:{read:!1,write:!0}})],zm.prototype,"type",void 0),zm=u([j("esri.layers.support.FeatureReduction")],zm);const VB="__begin__",UB="__end__",l9e=new RegExp(VB,"ig"),c9e=new RegExp(UB,"ig"),iQ=new RegExp("^"+VB,"i"),rQ=new RegExp(UB+"$","i"),RO='"',u9e=RO+" + ",d9e=" + "+RO;function h9e(t){return t.replaceAll(new RegExp("\\[","g"),"{").replaceAll(new RegExp("\\]","g"),"}")}function p9e(t){return t.replaceAll(new RegExp("\\{","g"),"[").replaceAll(new RegExp("\\}","g"),"]")}function BB(t){const e={expression:"",type:"none"};return t.labelExpressionInfo?t.labelExpressionInfo.value?(e.expression=t.labelExpressionInfo.value,e.type="conventional"):t.labelExpressionInfo.expression&&(e.expression=t.labelExpressionInfo.expression,e.type="arcade"):t.labelExpression!=null&&(e.expression=h9e(t.labelExpression),e.type="conventional"),e}function f9e(t){const e=BB(t);if(!e)return null;switch(e.type){case"conventional":return M8(e.expression);case"arcade":return e.expression}return null}function m9e(t){const e=BB(t);if(!e)return null;switch(e.type){case"conventional":return y9e(e.expression);case"arcade":return nfe(e.expression)}return null}function M8(t){let e;return t?(e=eg(t,i=>VB+'$feature["'+i+'"]'+UB),e=iQ.test(e)?e.replace(iQ,""):RO+e,e=rQ.test(e)?e.replace(rQ,""):e+RO,e=e.replaceAll(l9e,u9e).replaceAll(c9e,d9e)):e='""',e}const g9e=/^\s*\{([^}]+)\}\s*$/i;function y9e(t){return t?.match(g9e)?.[1].trim()||null}const v9e=/^\s*(?:(?:\$feature\.(\w+))|(?:\$feature\[(["'])(.+)(\2)\]));?\s*$/i,b9e=/^\s*(?:(?:\$feature\.(\w+))|(?:\$feature\[(["'])(.+)(\2)\]));?\s*(?:DomainName\(\s*\$feature\s*,\s*(["'])(\1|\3)(\5)\s*\));?\s*$/i,w9e=/^\s*(?:DomainName\(\s*\$feature\s*,\s*(["'])(.+)(\1)\s*\));?\s*$/i;function nfe(t){if(!t)return null;let e=v9e.exec(t)||b9e.exec(t);return e?e[1]||e[3]:(e=w9e.exec(t),e?e[2]:null)}var A8,D_;let rp=(D_=class extends ge{constructor(){super(...arguments),this.expression=null,this.title=null,this.value=null}readExpression(e,i){return i.value?M8(i.value):e}writeExpression(e,i,r){this.value!=null&&(e=M8(this.value)),e!=null&&(i[r]=e)}clone(){return new A8({expression:this.expression,title:this.title,value:this.value})}},A8=D_,D_);u([p({type:String,json:{write:{writerEnsuresNonNull:!0}}})],rp.prototype,"expression",void 0),u([Ae("expression",["expression","value"])],rp.prototype,"readExpression",null),u([ze("expression")],rp.prototype,"writeExpression",null),u([p({type:String,json:{write:!0,origins:{"web-scene":{write:!1}}}})],rp.prototype,"title",void 0),u([p({json:{read:!1,write:!1}})],rp.prototype,"value",void 0),rp=A8=u([j("esri.layers.support.LabelExpressionInfo")],rp);var O8;const NI=new At({esriServerPointLabelPlacementAboveCenter:"above-center",esriServerPointLabelPlacementAboveLeft:"above-left",esriServerPointLabelPlacementAboveRight:"above-right",esriServerPointLabelPlacementBelowCenter:"below-center",esriServerPointLabelPlacementBelowLeft:"below-left",esriServerPointLabelPlacementBelowRight:"below-right",esriServerPointLabelPlacementCenterCenter:"center-center",esriServerPointLabelPlacementCenterLeft:"center-left",esriServerPointLabelPlacementCenterRight:"center-right",esriServerLinePlacementAboveAfter:"above-after",esriServerLinePlacementAboveAlong:"above-along",esriServerLinePlacementAboveBefore:"above-before",esriServerLinePlacementAboveStart:"above-start",esriServerLinePlacementAboveEnd:"above-end",esriServerLinePlacementBelowAfter:"below-after",esriServerLinePlacementBelowAlong:"below-along",esriServerLinePlacementBelowBefore:"below-before",esriServerLinePlacementBelowStart:"below-start",esriServerLinePlacementBelowEnd:"below-end",esriServerLinePlacementCenterAfter:"center-after",esriServerLinePlacementCenterAlong:"center-along",esriServerLinePlacementCenterBefore:"center-before",esriServerLinePlacementCenterStart:"center-start",esriServerLinePlacementCenterEnd:"center-end",esriServerPolygonPlacementAlwaysHorizontal:"always-horizontal"},{ignoreUnknown:!0});function jI(t,e,i){return{enabled:!_F(i?.layer)}}function sfe(t){return!t||t.origin!=="service"&&t.layer?.type!=="map-image"}function _9e(t){return t?.type==="map-image"}function ofe(t){return!!_9e(t)&&!!t.capabilities?.exportMap?.supportsArcadeExpressionForLabeling}function x9e(t){return sfe(t)||ofe(t?.layer)}var R_;let ur=(R_=class extends ge{static evaluateWhere(e,i){const r=(n,s,o)=>{switch(s){case"=":return n==o;case"<>":return n!=o;case">":return n>o;case">=":return n>=o;case"<":return n<o;case"<=":return n<=o}return!1};try{if(e==null)return!0;const n=e.split(" ");if(n.length===3)return r(i[n[0]],n[1],n[2]);if(n.length===7){const s=r(i[n[0]],n[1],n[2]),o=n[3],a=r(i[n[4]],n[5],n[6]);switch(o){case"AND":return s&&a;case"OR":return s||a}}return!1}catch{}}constructor(e){super(e),this.type="label",this.name=null,this.allowOverrun=!1,this.deconflictionStrategy="static",this.labelExpression=null,this.labelExpressionInfo=null,this.labelPlacement=null,this.labelPosition="curved",this.maxScale=0,this.minScale=0,this.repeatLabel=!0,this.repeatLabelDistance=null,this.symbol=B8e,this.useCodedValues=void 0,this.where=null}readLabelExpression(e,i){const r=i.labelExpressionInfo;if(!r||!r.value&&!r.expression)return e}writeLabelExpression(e,i,r){if(this.labelExpressionInfo){if(this.labelExpressionInfo.value!=null)e=p9e(this.labelExpressionInfo.value);else if(this.labelExpressionInfo.expression!=null){const n=nfe(this.labelExpressionInfo.expression);n&&(e="["+n+"]")}}e!=null&&(i[r]=e)}writeLabelExpressionInfo(e,i,r,n){if(e==null&&this.labelExpression!=null&&sfe(n))e=new rp({expression:this.getLabelExpressionArcade()});else if(!e)return;const s=e.toJSON(n);s.expression&&(i[r]=s)}writeMaxScale(e,i){(e||this.minScale)&&(i.maxScale=e)}writeMinScale(e,i){(e||this.maxScale)&&(i.minScale=e)}getLabelExpression(){return BB(this)}getLabelExpressionArcade(){return f9e(this)}getLabelExpressionSingleField(){return m9e(this)}hash(){return JSON.stringify(this)}clone(){return new O8({allowOverrun:this.allowOverrun,deconflictionStrategy:this.deconflictionStrategy,labelExpression:this.labelExpression,labelExpressionInfo:ne(this.labelExpressionInfo),labelPosition:this.labelPosition,labelPlacement:this.labelPlacement,maxScale:this.maxScale,minScale:this.minScale,name:this.name,repeatLabel:this.repeatLabel,repeatLabelDistance:this.repeatLabelDistance,symbol:ne(this.symbol),where:this.where,useCodedValues:this.useCodedValues})}},O8=R_,R_);u([p({type:String,json:{write:!0}})],ur.prototype,"name",void 0),u([p({type:Boolean,json:{write:!0,default:!1,origins:{"web-scene":{write:!1},"portal-item":{default:!1,write:{overridePolicy:jI}}}}})],ur.prototype,"allowOverrun",void 0),u([p({type:String,json:{write:!0,default:"static",origins:{"web-scene":{write:!1},"portal-item":{default:"static",write:{overridePolicy:jI}}}}})],ur.prototype,"deconflictionStrategy",void 0),u([p({type:String,json:{write:{overridePolicy(t,e,i){return this.labelExpressionInfo&&i?.origin==="service"&&ofe(i.layer)?{enabled:!1}:{allowNull:!0}}}}})],ur.prototype,"labelExpression",void 0),u([Ae("labelExpression")],ur.prototype,"readLabelExpression",null),u([ze("labelExpression")],ur.prototype,"writeLabelExpression",null),u([p({type:rp,json:{write:{overridePolicy:(t,e,i)=>x9e(i)?{allowNull:!0}:{enabled:!1}}}})],ur.prototype,"labelExpressionInfo",void 0),u([ze("labelExpressionInfo")],ur.prototype,"writeLabelExpressionInfo",null),u([p({type:NI.apiValues,json:{type:NI.jsonValues,read:NI.read,write:NI.write}})],ur.prototype,"labelPlacement",void 0),u([p({type:["curved","parallel"],json:{write:!0,origins:{"web-map":{write:!1},"web-scene":{write:!1},"portal-item":{write:!1}}}})],ur.prototype,"labelPosition",void 0),u([p({type:Number})],ur.prototype,"maxScale",void 0),u([ze("maxScale")],ur.prototype,"writeMaxScale",null),u([p({type:Number})],ur.prototype,"minScale",void 0),u([ze("minScale")],ur.prototype,"writeMinScale",null),u([p({type:Boolean,json:{write:!0,origins:{"web-scene":{write:!1},"portal-item":{write:{overridePolicy:jI}}}}})],ur.prototype,"repeatLabel",void 0),u([p({type:Number,cast:ci,json:{write:!0,origins:{"web-scene":{write:!1},"portal-item":{write:{overridePolicy:jI}}}}})],ur.prototype,"repeatLabelDistance",void 0),u([p({types:G3e,json:{origins:{"web-scene":{types:W3e,write:BK,default:null}},write:BK,default:null}})],ur.prototype,"symbol",void 0),u([p({type:Boolean,json:{write:!0}})],ur.prototype,"useCodedValues",void 0),u([p({type:String,json:{write:!0}})],ur.prototype,"where",void 0),ur=O8=u([j("esri.layers.support.LabelClass")],ur);var P8;let nu=P8=class extends ge{constructor(t){super(t),this.description=null,this.label=null,this.minValue=null,this.maxValue=0,this.symbol=null}clone(){return new P8({description:this.description,label:this.label,minValue:this.minValue,maxValue:this.maxValue,symbol:this.symbol?.clone()??null})}getMeshHash(){const t=JSON.stringify(this.symbol);return`${this.minValue}.${this.maxValue}.${t}`}};u([p({type:String,json:{write:!0}})],nu.prototype,"description",void 0),u([p({type:String,json:{write:!0}})],nu.prototype,"label",void 0),u([p({type:Number,json:{read:{source:"classMinValue"},write:{target:"classMinValue"}}})],nu.prototype,"minValue",void 0),u([p({type:Number,json:{read:{source:"classMaxValue"},write:{target:"classMaxValue"}}})],nu.prototype,"maxValue",void 0),u([p(DB)],nu.prototype,"symbol",void 0),nu=P8=u([j("esri.renderers.support.ClassBreakInfo")],nu);var D8;const afe="log",WM="percent-of-total",YM="field",FI=new At({esriNormalizeByLog:afe,esriNormalizeByPercentOfTotal:WM,esriNormalizeByField:YM}),S9e=tn(nu);let on=D8=class extends V1(ul){constructor(t){super(t),this._compiledValueExpression={valueExpression:null,compiledFunction:null},this.backgroundFillSymbol=null,this.classBreakInfos=null,this.defaultLabel=null,this.defaultSymbol=null,this.field=null,this.isMaxInclusive=!0,this.legendOptions=null,this.normalizationField=null,this.normalizationTotal=null,this.type="class-breaks",this.valueExpression=null,this.valueExpressionTitle=null,this._set("classBreakInfos",[])}readClassBreakInfos(t,e,i){if(!Array.isArray(t))return;let r=e.minValue;return t.map(n=>{const s=new nu;return s.read(n,i),s.minValue==null&&(s.minValue=r),s.maxValue==null&&(s.maxValue=s.minValue),r=s.maxValue,s})}writeClassBreakInfos(t,e,i,r){const n=t.map(s=>s.write({},r));this._areClassBreaksConsecutive()&&n.forEach(s=>delete s.classMinValue),e[i]=n}castField(t){return t==null?t:typeof t=="function"?(Ee.getLogger(this).error(".field: field must be a string value"),null):z$(t)}get minValue(){return this.classBreakInfos&&this.classBreakInfos[0]&&this.classBreakInfos[0].minValue||0}get normalizationType(){let t=this._get("normalizationType");const e=!!this.normalizationField,i=this.normalizationTotal!=null;return e||i?(t=e&&YM||i&&WM||null,e&&i&&Ee.getLogger(this).warn("warning: both normalizationField and normalizationTotal are set!")):t!==YM&&t!==WM||(t=null),t}set normalizationType(t){this._set("normalizationType",t)}addClassBreakInfo(t,e,i){let r=null;r=typeof t=="number"?new nu({minValue:t,maxValue:e,symbol:Jue(i)}):S9e(ne(t)),this.classBreakInfos.push(r),this.classBreakInfos.length===1&&this.notifyChange("minValue")}removeClassBreakInfo(t,e){const i=this.classBreakInfos.length;for(let r=0;r<i;r++){const n=[this.classBreakInfos[r].minValue,this.classBreakInfos[r].maxValue];if(n[0]===t&&n[1]===e){this.classBreakInfos.splice(r,1);break}}}getBreakIndex(t,e){return this.valueExpression&&e?.arcade==null&&Ee.getLogger(this).warn(""),this.valueExpression?this._getBreakIndexForExpression(t,e):this._getBreakIndexForField(t)}async getClassBreakInfo(t,e){let i=e;this.valueExpression&&e?.arcade==null&&(i={...i,arcade:await Mv()});const r=this.getBreakIndex(t,i);return r!==-1?this.classBreakInfos[r]:null}getSymbol(t,e){if(this.valueExpression&&e?.arcade==null)return void Ee.getLogger(this).error("#getSymbol()","Please use getSymbolAsync if valueExpression is used");const i=this.getBreakIndex(t,e);return i>-1?this.classBreakInfos[i].symbol:this.defaultSymbol}async getSymbolAsync(t,e){let i=e;if(this.valueExpression&&e?.arcade==null){const n=await Mv(),{arcadeUtils:s}=n;s.hasGeometryOperations(this.valueExpression)&&await s.enableGeometryOperations(),i={...i,arcade:n}}const r=this.getBreakIndex(t,i);return r>-1?this.classBreakInfos[r].symbol:this.defaultSymbol}get symbols(){const t=[];return this.classBreakInfos.forEach(e=>{e.symbol&&t.push(e.symbol)}),this.defaultSymbol&&t.push(this.defaultSymbol),t}getAttributeHash(){return this.visualVariables?.reduce((t,e)=>t+e.getAttributeHash(),"")??""}getMeshHash(){const t=JSON.stringify(this.backgroundFillSymbol),e=JSON.stringify(this.defaultSymbol),i=`${this.normalizationField}.${this.normalizationType}.${this.normalizationTotal}`;return`${t}.${e}.${this.classBreakInfos.reduce((r,n)=>r+n.getMeshHash(),"")}.${i}.${this.field}.${this.valueExpression}`}get arcadeRequired(){return this.arcadeRequiredForVisualVariables||!!this.valueExpression}clone(){return new D8({field:this.field,backgroundFillSymbol:this.backgroundFillSymbol?.clone(),defaultLabel:this.defaultLabel,defaultSymbol:this.defaultSymbol?.clone(),valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle,classBreakInfos:ne(this.classBreakInfos),isMaxInclusive:this.isMaxInclusive,normalizationField:this.normalizationField,normalizationTotal:this.normalizationTotal,normalizationType:this.normalizationType,visualVariables:ne(this.visualVariables),legendOptions:ne(this.legendOptions),authoringInfo:ne(this.authoringInfo)})}async collectRequiredFields(t,e){const i=[this.collectVVRequiredFields(t,e),this.collectSymbolFields(t,e)];await Promise.all(i)}async collectSymbolFields(t,e){const i=[...this.symbols.map(r=>r.collectRequiredFields(t,e)),ho(t,e,null,this.valueExpression)];uo(t,e,this.field),uo(t,e,this.normalizationField),await Promise.all(i)}_getBreakIndexForExpression(t,e){const{viewingMode:i,scale:r,spatialReference:n,arcade:s,timeZone:o}=e??{},{valueExpression:a}=this;let l=this._compiledValueExpression.valueExpression===a?this._compiledValueExpression.compiledFunction:null;const h=s.arcadeUtils;if(!l){const g=h.createSyntaxTree(a);l=h.createFunction(g),this._compiledValueExpression.compiledFunction=l}this._compiledValueExpression.valueExpression=a;const f=h.executeFunction(l,h.createExecContext(t,h.getViewInfo({viewingMode:i,scale:r,spatialReference:n}),o));return this._getBreakIndexfromInfos(f)}_getBreakIndexForField(t){const e=this.field,i=t.attributes,r=this.normalizationType;let n=parseFloat(i[e]);if(r){const s=this.normalizationTotal,o=parseFloat(this.normalizationField?i[this.normalizationField]:void 0);if(r===afe)n=Math.log(n)*Math.LOG10E;else if(r!==WM||s==null||isNaN(s)){if(r===YM&&!isNaN(o)){if(isNaN(n)||isNaN(o))return-1;n/=o}}else n=n/s*100}return this._getBreakIndexfromInfos(n)}_getBreakIndexfromInfos(t){const e=this.isMaxInclusive;if(t!=null&&typeof t=="number"&&!isNaN(t))for(let i=0;i<this.classBreakInfos.length;i++){const r=[this.classBreakInfos[i].minValue,this.classBreakInfos[i].maxValue];if(r[0]<=t&&(e?t<=r[1]:t<r[1]))return i}return-1}_areClassBreaksConsecutive(){const t=this.classBreakInfos,e=t.length;for(let i=1;i<e;i++)if(t[i-1].maxValue!==t[i].minValue)return!1;return!0}};u([p(RB)],on.prototype,"backgroundFillSymbol",void 0),u([p({type:[nu],json:{write:{isRequired:!0}}})],on.prototype,"classBreakInfos",void 0),u([Ae("classBreakInfos")],on.prototype,"readClassBreakInfos",null),u([ze("classBreakInfos")],on.prototype,"writeClassBreakInfos",null),u([p({type:String,json:{write:!0}})],on.prototype,"defaultLabel",void 0),u([p(w3)],on.prototype,"defaultSymbol",void 0),u([p({type:String,json:{write:!0}})],on.prototype,"field",void 0),u([bi("field")],on.prototype,"castField",null),u([p({type:Boolean})],on.prototype,"isMaxInclusive",void 0),u([p({type:LB,json:{write:!0}})],on.prototype,"legendOptions",void 0),u([p({type:Number,readOnly:!0,value:null,json:{read:!1,write:{overridePolicy(){return this.classBreakInfos.length!==0&&this._areClassBreaksConsecutive()?{enabled:!0}:{enabled:!1}}}}})],on.prototype,"minValue",null),u([p({type:String,json:{write:!0}})],on.prototype,"normalizationField",void 0),u([p({type:Number,json:{write:!0}})],on.prototype,"normalizationTotal",void 0),u([p({type:FI.apiValues,value:null,json:{type:FI.jsonValues,read:FI.read,write:FI.write}})],on.prototype,"normalizationType",null),u([nt({classBreaks:"class-breaks"})],on.prototype,"type",void 0),u([p({type:String,json:{write:!0}})],on.prototype,"valueExpression",void 0),u([p({type:String,json:{write:!0}})],on.prototype,"valueExpressionTitle",void 0),on=D8=u([j("esri.renderers.ClassBreaksRenderer")],on);const R8=-3,T9e=R8-1,$9e=!!he("esri-tests-disable-gpu-memory-measurements");let k9e=class{get size(){return this._size}constructor(e=10485760){this._maxSize=e,this._db=new Map,this._size=0,this._hit=0,this._miss=0,this._users=new Map,this._sizeLimits=new Map}destroy(){this.clearAll(),this._sizeLimits.clear(),this._users.clear(),this._db=null}register(e){this._users.set(e.id.slice(0,-1),e)}deregister(e){this.clear(e),this._sizeLimits.delete(e),this._users.delete(e.id.slice(0,-1))}get maxSize(){return this._maxSize}set maxSize(e){this._maxSize=Math.max(e,-1),this._checkSize()}getSize(e,i){return this._db.get(e.id+i)?.size??0}put(e,i,r,n,s){i=e.id+i;const o=this._db.get(i);if(o&&(this._size-=o.size,e.size-=o.size,this._db.delete(i),o.entry!==r&&this._notifyRemove(i,o.entry,o.size,0)),n>this._maxSize)return void this._notifyRemove(i,r,n,0);if(r===void 0)return void console.warn("Refusing to cache undefined entry ");if(!n||n<0)return $9e||console.warn(`Refusing to cache entry with size ${n} for key ${i}`),void this._notifyRemove(i,r,0,0);const a=1+Math.max(s,T9e)-R8;this._db.set(i,new E9e(r,n,a)),this._size+=n,e.size+=n,this._checkSize()}updateSize(e,i){i=e.id+i;const r=this._db.get(i);if(!r)return;this._size-=r.size,e.size-=r.size;let n=r.entry.usedMemory;for(;n>this._maxSize;){const s=this._notifyRemove(i,r.entry,n,1);if(!(s!=null&&s>0))return void this._db.delete(i);n=s}r.size=n,this._size+=n,e.size+=n,this._checkSize()}pop(e,i){i=e.id+i;const r=this._db.get(i);if(r)return this._size-=r.size,e.size-=r.size,this._db.delete(i),++this._hit,r.entry;++this._miss}get(e,i){i=e.id+i;const r=this._db.get(i);if(r!==void 0)return this._db.delete(i),r.lives=r.lifetime,this._db.set(i,r),++this._hit,r.entry;++this._miss}peek(e,i){const r=this._db.get(e.id+i);return r?++this._hit:++this._miss,r?.entry}get performanceInfo(){const e={Size:Math.round(this._size/1048576)+"/"+Math.round(this._maxSize/1048576)+"MB","Hit rate":Math.round(100*this._getHitRate())+"%",Entries:this._db.size.toString()},i={},r=new Array;this._db.forEach((o,a)=>{const l=o.lifetime;r[l]=(r[l]||0)+o.size,this._users.forEach(h=>{const{id:f,name:g}=h;if(a.startsWith(f)){const v=i[g]||0;i[g]=v+o.size}})});const n={};this._users.forEach(o=>{const a=o.name;if("hitRate"in o&&typeof o.hitRate=="number"&&!isNaN(o.hitRate)&&o.hitRate>0){const l=i[a]||0;i[a]=l,n[a]=Math.round(100*o.hitRate)+"%"}else n[a]="0%"});const s=Object.keys(i);s.sort((o,a)=>i[a]-i[o]),s.forEach(o=>e[o]=Math.round(i[o]/2**20)+"MB / "+n[o]);for(let o=r.length-1;o>=0;--o){const a=r[o];a&&(e["Priority "+(o+R8-1)]=Math.round(a/this._size*100)+"%")}return e}resetStats(){this._hit=this._miss=0,this._users.forEach(e=>e.resetHitRate())}clear(e){const i=e.id;this._db.forEach((r,n)=>{n.startsWith(i)&&(this._size-=r.size,this._db.delete(n),this._notifyRemove(n,r.entry,r.size,0))}),e.size=0}clearAll(){this._db.forEach((e,i)=>this._notifyRemove(i,e.entry,e.size,0)),this._users.forEach(e=>e.size=0),this._size=0,this._db.clear()}*values(e){for(const[i,r]of this._db)i.startsWith(e.id)&&(yield r.entry)}_getHitRate(){return this._hit/(this._hit+this._miss)}_notifyRemove(e,i,r,n){const s=this._users.get(e.split(Gz)[0])?.removeFunc,o=s?.(i,n,r);return typeof o=="number"?o:null}_checkSize(){this._sizeLimits.forEach((e,i)=>this._checkSizeLimits(e,i)),this._checkSizeLimits(this.maxSize)}setMaxSize(e,i){i==null||i<=0?this._sizeLimits.delete(e):this._sizeLimits.set(e,i)}_checkSizeLimits(e,i){const r=i??this;if(r.size<=e)return;const n=i?.id;let s=!0;for(;s;){s=!1;for(const[o,a]of this._db)if(a.lifetime===0&&(!n||o.startsWith(n))){const l=i??this._users.get(o.split(Gz)[0]);if(this._purgeItem(o,a,l),r.size<=.9*e)return;s||=this._db.has(o)}}for(const[o,a]of this._db)if(!n||o.startsWith(n)){const l=i??this._users.get(o.split(Gz)[0]);if(this._purgeItem(o,a,l),r.size<=.9*e)return}}_purgeItem(e,i,r){if(this._db.delete(e),i.lives<=1){this._size-=i.size,r&&(r.size-=i.size);const n=this._notifyRemove(e,i.entry,i.size,1);n!=null&&n>0&&(this._size+=n,r&&(r.size+=n),i.lives=i.lifetime,i.size=n,this._db.set(e,i))}else--i.lives,this._db.set(e,i)}},E9e=class{constructor(e,i,r){this.entry=e,this.size=i,this.lifetime=r,this.lives=r}};const Gz=":";let I9e=class{constructor(e,i){this.removeFunc=i,this._storage=new k9e,this.id="",this.name="",this.size=0,this._storage.maxSize=e,this._storage.register(this)}destroy(){this._storage.deregister(this),this._storage.destroy(),this._storage=null}put(e,i,r=1){this._storage.put(this,e,i,r,1)}pop(e){return this._storage.pop(this,e)}get(e){return this._storage.get(this,e)}clear(){this._storage.clearAll()}get maxSize(){return this._storage.maxSize}set maxSize(e){this._storage.maxSize=e}resetHitRate(){}},nQ=class lfe{static parse(e,i,r){const n=[],s=[],o=e.split(";");for(let a=0;a<o.length;a++){const l=o[a];if(l){if(l.includes("po:")){const h=l.slice(3).split("|");if(h.length===3){const[f,g,v]=h,w=M9e(f,g,v);w&&s.push(w)}continue}if(l.includes("|")){for(const h of l.split("|"))if(i.has(h)){n.push(h);break}}else if(i.has(l))n.push(l);else if(a===0){n.length=0,n.push(A9e(r));break}}}return new lfe(n,s)}constructor(e,i){this.partNames=e,this.overrides=i}};function C9e(t,e){if(t==="DashTemplate")return e.split(" ").map(i=>Number(i));if(t==="Color"){const i=new xt(e).toRgba();return[i[0],i[1],i[2],255*i[3]]}return Number(e)}function M9e(t,e,i){return{primitiveName:t,propertyName:e,value:C9e(e,i),defaultValue:null}}function A9e(t){switch(t){case"esriGeometryPolyline":return"Invalid_L";case"esriGeometryPolygon":return"Invalid_A";default:return"Invalid_P"}}var L_;let yd=(L_=class{},L_.instance=new ba("Etc/UTC"),L_);function O9e(t){return t instanceof Hv?t===yd.instance:t?.toString().toLowerCase()==="unknown"}function Cht(t){return O9e(t)?yd.instance:t}function P9e(t){return"timeZone"in t}function D9e(t){return"timeZone"in t}function R9e(t){return"dateFieldsTimeZone"in t}const L9e=new Map;let LO=class ZM{static fromJSON(e){return new ZM(e.fields,e.timeZoneByFieldName)}static fromLayer(e){return new ZM(e.fields??[],oQ(e))}static fromLayerJSON(e){return new ZM(e.fields??[],oQ(e))}constructor(e=[],i){this._fieldsMap=new Map,this._normalizedFieldsMap=new Map,this._dateFieldsSet=new Set,this._numericFieldsSet=new Set,this._requiredFields=null,this.dateFields=[],this.numericFields=[],this.fields=e||[],this._timeZoneByFieldName=i?new Map(i):null;const r=[];for(const n of this.fields){const s=n?.name,o=sQ(s);if(s&&o){const a=Ry(s);this._fieldsMap.set(s,n),this._fieldsMap.set(a,n),this._normalizedFieldsMap.set(o,n),r.push(`${a}:${n.type}:${this._timeZoneByFieldName?.get(s)}`),Qce(n)?(this.dateFields.push(n),this._dateFieldsSet.add(n)):WU(n)&&(this._numericFieldsSet.add(n),this.numericFields.push(n)),gJ(n)||yJ(n)||(n.editable=n.editable==null||!!n.editable,n.nullable=n.nullable==null||!!n.nullable)}}r.sort(),this.uid=r.join()}get requiredFields(){if(!this._requiredFields){this._requiredFields=[];for(const e of this.fields)gJ(e)||yJ(e)||e.nullable||pDe(e)!==void 0||this._requiredFields.push(e)}return this._requiredFields}equals(e){return this.uid===e?.uid}has(e){return this.get(e)!=null}get(e){if(!e)return;let i=this._fieldsMap.get(e);return i||(i=this._fieldsMap.get(Ry(e))??this._normalizedFieldsMap.get(sQ(e)),i&&this._fieldsMap.set(e,i),i)}getTimeZone(e){const i=this.get(e&&typeof e!="string"?e.name:e);return i?this._timeZoneByFieldName?this._timeZoneByFieldName.get(i.name):i.type==="date"||i.type==="esriFieldTypeDate"?(Ee.getLogger("esri.layers.support.FieldsIndex").errorOnce(new ee("getTimeZone:no-timezone-information",`no time zone information for field '${i.name}'`)),Hm):cfe.has(i.type)?Bm:null:null}getLuxonTimeZone(e){const i=this.getTimeZone(e);return i?i===Bm?yd.instance:i===Hm?kn.utcInstance:Vv(L9e,i,()=>ba.create(i)):null}isDateField(e){return this._dateFieldsSet.has(this.get(e))}isTimeOnlyField(e){return eue(this.get(e))}isNumericField(e){return this._numericFieldsSet.has(this.get(e))}normalizeFieldName(e){return this.get(e)?.name??void 0}toJSON(){return{fields:this.fields.map(e=>E2(e)?e.toJSON():e),timeZoneByFieldName:this._timeZoneByFieldName?Array.from(this._timeZoneByFieldName.entries()):null}}};function Ry(t){return t.trim().toLowerCase()}function sQ(t){return QPe(t)?.toLowerCase()??""}const cfe=new Set(["time-only","date-only","timestamp-offset","esriFieldTypeDateOnly","esriFieldTypeTimeOnly","esriFieldTypeTimestampOffset"]);function oQ(t){const e=new Map;if(!t.fields)return e;const i=t.datesInUnknownTimezone===!0,{timeInfo:r,editFieldsInfo:n}=t,s=(r?"startField"in r?r.startField:r.startTimeField:"")??"",o=(r?"endField"in r?r.endField:r.endTimeField:"")??"",a=R9e(t)?t.dateFieldsTimeZone??null:t.dateFieldsTimeReference?RC(t.dateFieldsTimeReference):null,l=n?P9e(n)?n.timeZone??a:n.dateFieldsTimeReference?RC(n.dateFieldsTimeReference):a??Hm:null,h=r?D9e(r)?r.timeZone??a:r.timeReference?RC(r.timeReference):a:null,f=new Map([[Ry(n?.creationDateField??""),l],[Ry(n?.editDateField??""),l],[Ry(s),h],[Ry(o),h]]);for(const{name:g,type:v}of t.fields)if(cfe.has(v))e.set(g,Bm);else if(v!=="date"&&v!=="esriFieldTypeDate")e.set(g,null);else if(i)e.set(g,Bm);else{const w=f.get(Ry(g??""))??a;e.set(g,w)}return e}const ufe={TypeNotAllowedInFeature:"Feature attributes only support dates, numbers, strings, guids.",LogicError:"Logic error - {reason}",CannotCompareDateAndTime:"Cannot compare date or dateonly with timeonly types",NeverReach:"Encountered unreachable logic",AsyncNotEnabled:"Async Arcade must be enabled for this script",ModuleAccessorMustBeString:"Module accessor must be a string",ModuleExportNotFound:"Module has no export with provided identifier",ModulesNotSupported:"Current profile does not support modules",ArrayAccessMustBeNumber:"Array accessor must be a number",FunctionNotFound:"Function not found",FieldNotFound:"Key not found - {key}",CircularModules:"Circular module dependencies are not allowed",Cancelled:"Execution cancelled",UnsupportedHashType:"Type not supported in hash function",IllegalResult:"Value is not a supported return type",PortalRequired:"Portal is required",InvalidParameter:"Invalid parameter",WrongNumberOfParameters:"Call with wrong number of parameters",Unrecognized:"Unrecognized code structure",UnrecognizedType:"Unrecognized type",WrongSpatialReference:"Cannot work with geometry in this spatial reference. It is different to the execution spatial reference",BooleanConditionRequired:"Conditions must use booleans",NoFunctionInDictionary:"Dictionaries cannot contain functions.",NoFunctionInArray:"Arrays cannot contain functions.",NoFunctionInTemplateLiteral:"Template Literals do not expect functions by value.",KeyAccessorMustBeString:"Accessor must be a string",KeyMustBeString:"Object keys must be a string",Immutable:"Object is immutable",UnexpectedToken:"Unexpected token",MemberOfNull:"Cannot access property of null object",MaximumCallDepth:"Exceeded maximum function depth",OutOfBounds:"Out of bounds",InvalidIdentifier:"Identifier not recognized",CallNonFunction:"Expression is not a function",InvalidMemberAccessKey:"Cannot access value using a key of this type",AssignModuleFunction:"Cannot assign function to module variable",UnsupportUnaryOperator:"Unsupported unary operator",UnsupportedOperator:"Unsupported operator",LogicalExpressionOnlyBoolean:"Logical expressions must be boolean",LogicExpressionOrAnd:"Logical expression can only be combined with || or &&",CannotChangeTimeZoneTime:"Cannot change the timezone of a Time",CannotChangeTimeZoneDateOnly:"Cannot change the timezone of a DateOnly",FeatureSetDoesNotHaveSubtypes:"FeatureSet does not have subtypes"};let z9e=class extends Error{constructor(...e){super(...e)}},aQ=class dfe extends z9e{constructor(e,i){super(HB(i)+e.message,{cause:e}),this.loc=null,Error.captureStackTrace&&Error.captureStackTrace(this,dfe),i?.loc&&(this.loc=i.loc)}},N9e=class hfe extends Error{constructor(e,i,r,n){super("Execution error - "+HB(r)+eg(ufe[i],n)),this.loc=null,this.declaredRootClass="esri.arcade.arcadeexecutionerror",Error.captureStackTrace&&Error.captureStackTrace(this,hfe),r?.loc&&(this.loc=r.loc)}};function HB(t){return t&&t.loc?`Line : ${t.loc.start?.line}, ${t.loc.start?.column}: `:""}let Aht=class pfe extends Error{constructor(e,i,r,n){super("Compilation error - "+HB(r)+eg(ufe[i],n)),this.loc=null,this.declaredRootClass="esri.arcade.arcadecompilationerror",Error.captureStackTrace&&Error.captureStackTrace(this,pfe),r?.loc&&(this.loc=r.loc)}},Oht=class ffe extends Error{constructor(){super("Uncompilable code structures"),this.declaredRootClass="esri.arcade.arcadeuncompilableerror",Error.captureStackTrace&&Error.captureStackTrace(this,ffe)}};function Pht(t,e,i){return i.declaredRootClass==="esri.arcade.arcadeexecutionerror"||i.declaredRootClass==="esri.arcade.arcadecompilationerror"?i.loc===null&&e?.loc?new aQ(i,{cause:i}):i:(i.declaredRootClass==="esri.arcade.featureset.support.featureseterror"||i.declaredRootClass==="esri.arcade.featureset.support.sqlerror"||i.declaredRootClass,e?.loc?new aQ(i,{cause:i}):i)}const j9e={UnrecognizedUri:"Unrecognized uri - {uri}",UnsupportedUriProtocol:"Unrecognized uri protocol"};let Dht=class mfe extends Error{constructor(e,i){super(eg(j9e[e],i)),this.declaredRootClass="esri.arcade.arcademoduleerror",Error.captureStackTrace&&Error.captureStackTrace(this,mfe)}};function JM(t){return t.toLowerCase().replaceAll(/[\s-]+/g,"")}let Rht=class{constructor(e,i){const r=new Map;for(const n of e){const s=JM(n);if(r.has(s))throw new Error(`${n} already added as ${r.get(s)}`);r.set(s,n)}if(i!=null)for(const[n,s]of i){const o=JM(n);if(r.has(o))throw new Error(`${n} already associated with ${r.get(o)}`);r.set(o,s)}this._enumMap=r}lookup(e){return this._enumMap.get(JM(e))}get(e){const i=this.lookup(e);if(i==null)throw new N9e(null,"InvalidParameter",null);return i}};const F9e={TimeZoneNotRecognized:"Timezone identifier has not been recognized."};let V9e=class gfe extends Error{constructor(e,i){super(eg(F9e[e],i)),this.declaredRootClass="esri.arcade.arcadedate.dateerror",Error.captureStackTrace&&Error.captureStackTrace(this,gfe)}};function s0(t,e,i){return t<e?t-e:t>i?t-i:0}function o0(t,e,i){return t<e?e:t>i?i:t}let _p=class sn{constructor(e){this._date=e,this.declaredRootClass="esri.arcade.arcadedate"}static fromParts(e=0,i=1,r=1,n=0,s=0,o=0,a=0,l){if(isNaN(e)||isNaN(i)||isNaN(r)||isNaN(n)||isNaN(s)||isNaN(o)||isNaN(a))return null;const h=rt.local(e,i).daysInMonth;let f=rt.fromObject({day:o0(r,1,h),year:e,month:o0(i,1,12),hour:o0(n,0,23),minute:o0(s,0,59),second:o0(o,0,59),millisecond:o0(a,0,999)},{zone:hd(l)});return f=f.plus({months:s0(i,1,12),days:s0(r,1,h),hours:s0(n,0,23),minutes:s0(s,0,59),seconds:s0(o,0,59),milliseconds:s0(a,0,999)}),new sn(f)}static get systemTimeZoneCanonicalName(){return Intl.DateTimeFormat().resolvedOptions().timeZone??"system"}static arcadeDateAndZoneToArcadeDate(e,i){const r=hd(i);return e.isUnknownTimeZone||r===yd.instance?sn.fromParts(e.year,e.monthJS+1,e.day,e.hour,e.minute,e.second,e.millisecond,r):new sn(e._date.setZone(r))}static dateJSToArcadeDate(e){return new sn(rt.fromJSDate(e,{zone:"system"}))}static dateJSAndZoneToArcadeDate(e,i="system"){const r=hd(i);return new sn(rt.fromJSDate(e,{zone:r}))}static unknownEpochToArcadeDate(e){return new sn(rt.fromMillis(e,{zone:yd.instance}))}static unknownDateJSToArcadeDate(e){return new sn(rt.fromMillis(e.getTime(),{zone:yd.instance}))}static epochToArcadeDate(e,i="system"){const r=hd(i);return new sn(rt.fromMillis(e,{zone:r}))}static dateTimeToArcadeDate(e){return new sn(e)}clone(){return new sn(this._date)}changeTimeZone(e){const i=hd(e);return sn.dateTimeToArcadeDate(this._date.setZone(i))}static dateTimeAndZoneToArcadeDate(e,i){const r=hd(i);return e.zone===yd.instance||r===yd.instance?sn.fromParts(e.year,e.month,e.day,e.hour,e.minute,e.second,e.millisecond,r):new sn(e.setZone(r))}static nowToArcadeDate(e){const i=hd(e);return new sn(rt.fromJSDate(new Date,{zone:i}))}static nowUTCToArcadeDate(){return new sn(rt.utc())}get isSystem(){return this.timeZone==="system"||this.timeZone===sn.systemTimeZoneCanonicalName}equals(e){return this.isSystem&&e.isSystem?this.toNumber()===e.toNumber():this.isUnknownTimeZone===e.isUnknownTimeZone&&this._date.equals(e._date)}get isUnknownTimeZone(){return this._date.zone===yd.instance}get isValid(){return this._date.isValid}get hour(){return this._date.hour}get second(){return this._date.second}get day(){return this._date.day}get dayOfWeekISO(){return this._date.weekday}get dayOfWeekJS(){let e=this._date.weekday;return e>6&&(e=0),e}get millisecond(){return this._date.millisecond}get monthISO(){return this._date.month}get weekISO(){return this._date.weekNumber}get yearISO(){return this._date.weekYear}get monthJS(){return this._date.month-1}get year(){return this._date.year}get minute(){return this._date.minute}get zone(){return this._date.zone}get timeZoneOffset(){return this.isUnknownTimeZone?0:this._date.offset}get timeZone(){if(this.isUnknownTimeZone)return"unknown";if(this._date.zone.type==="system")return"system";const e=this.zone;return e.type==="fixed"?e.fixed===0?"UTC":e.formatOffset(0,"short"):e.name}stringify(){return JSON.stringify(this.toJSDate())}plus(e){return new sn(this._date.plus(e))}diff(e,i){return this._date.diff(e._date,i)[i]}toISODate(){return this._date.toISODate()}toISOString(e){return e?this._date.toISO({suppressMilliseconds:!0,includeOffset:!this.isUnknownTimeZone}):this._date.toISO({includeOffset:!this.isUnknownTimeZone})}toISOTime(e,i){return this._date.toISOTime({suppressMilliseconds:e,includeOffset:i&&!this.isUnknownTimeZone})}toFormat(e,i){return this.isUnknownTimeZone&&(e=e.replaceAll("Z","")),this._date.toFormat(e,i)}toJSDate(){return this._date.toJSDate()}toSQLValue(){return this._date.toFormat("yyyy-LL-dd HH:mm:ss")}toSQLWithKeyword(){return`timestamp '${this.toSQLValue()}'`}toDateTime(){return this._date}toNumber(){return this._date.toMillis()}getTime(){return this._date.toMillis()}toUTC(){return new sn(this._date.toUTC())}toLocal(){return new sn(this._date.toLocal())}toString(){return this.toISOString(!0)}static fromReaderAsTimeStampOffset(e){if(!e)return null;const i=rt.fromISO(e,{setZone:!0});return new sn(i)}};function hd(t,e=!0){if(t instanceof Hv)return t;switch(JM(t)){case"system":return"system";case"utc":return"UTC";case"unknown":return yd.instance}if(/^[+-]?[0-9]{1,2}(:[0-9]{2})?$/.test(t)){const r=kn.parseSpecifier("UTC"+(t.startsWith("+")||t.startsWith("-")?"":"+")+t);if(r)return r}const i=ba.create(t);if(!i.isValid){if(e)throw new V9e("TimeZoneNotRecognized");return null}return i}function lQ(t){t=t.replaceAll(/LTS|LT|L{1,4}|l{1,4}/g,"[$&]");let e="";const i=/(\[[^[]*\])|(\\)?([Hh]mm(ss)?|Mo|M{1,4}|Do|DDDo|D{1,4}|d{2,4}|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g;for(const r of t.match(i)||[])switch(r){case"D":e+="d";break;case"DD":e+="dd";break;case"DDD":e+="o";break;case"d":e+="c";break;case"ddd":e+="ccc";break;case"dddd":e+="cccc";break;case"M":e+="L";break;case"MM":e+="LL";break;case"MMM":e+="LLL";break;case"MMMM":e+="LLLL";break;case"YY":e+="yy";break;case"Y":case"YYYY":e+="yyyy";break;case"Q":e+="q";break;case"X":case"x":e+=r;break;default:r.length>=2&&r.startsWith("[")&&r.endsWith("]")?e+=`'${r.slice(1,-1)}'`:e+=`'${r}'`}return e}const cQ="esri.core.sql.dateonly";let U9e=class Za{constructor(e,i,r){this._year=e,this._month=i,this._day=r,this.declaredRootClass=cQ}static isDateOnly(e){return typeof e=="object"&&e!=null&&"declaredRootClass"in e&&e.declaredRootClass===cQ}get month(){return this._month}get monthJS(){return this._month-1}get year(){return this._year}get day(){return this._day}get isValid(){return this.toDateTime("unknown").isValid}equals(e){return Za.isDateOnly(e)&&e.day===this.day&&e.month===this.month&&e.year===this.year}clone(){return new Za(this._year,this._month,this._day)}toDateTime(e){return rt.fromObject({day:this.day,month:this.month,year:this.year},{zone:hd(e)})}toDateTimeLuxon(e){return rt.fromObject({day:this.day,month:this.month,year:this.year},{zone:hd(e)})}toString(){return`${this.year.toString().padStart(4,"0")}-${this.month.toString().padStart(2,"0")}-${this.day.toString().padStart(2,"0")}`}toFormat(e=null,i=!0){if(e===null||e==="")return this.toString();if(i&&(e=lQ(e)),!e)return"";const r=this.toDateTime("unknown");return _p.dateTimeToArcadeDate(r).toFormat(e,{locale:ya(),numberingSystem:"latn"})}toArcadeDate(){const e=this.toDateTime("unknown");return _p.dateTimeToArcadeDate(e)}toNumber(){return this.toDateTime("unknown").toMillis()}toJSDate(){return this.toDateTime("unknown").toJSDate()}toStorageFormat(){return this.toFormat("yyyy-LL-dd",!1)}toSQLValue(){return this.toFormat("yyyy-LL-dd",!1)}toSQLWithKeyword(){return"date '"+this.toFormat("yyyy-LL-dd",!1)+"'"}plus(e,i){return Za.fromDateTime(this.toUTCDateTime().plus({[e]:i}))}toUTCDateTime(){return rt.utc(this.year,this.month,this.day,0,0,0,0)}difference(e,i){switch(i.toLowerCase()){case"days":case"day":case"d":return this.toUTCDateTime().diff(e.toUTCDateTime(),"days").days;case"months":case"month":return this.toUTCDateTime().diff(e.toUTCDateTime(),"months").months;case"minutes":case"minute":case"m":return i==="M"?this.toUTCDateTime().diff(e.toUTCDateTime(),"months").months:this.toUTCDateTime().diff(e.toUTCDateTime(),"minutes").minutes;case"seconds":case"second":case"s":return this.toUTCDateTime().diff(e.toUTCDateTime(),"seconds").seconds;case"milliseconds":case"millisecond":case"ms":default:return this.toUTCDateTime().diff(e.toUTCDateTime(),"milliseconds").milliseconds;case"hours":case"hour":case"h":return this.toUTCDateTime().diff(e.toUTCDateTime(),"hours").hours;case"years":case"year":case"y":return this.toUTCDateTime().diff(e.toUTCDateTime(),"years").years}}static fromMilliseconds(e){const i=rt.fromMillis(e,{zone:kn.utcInstance});return i.isValid?Za.fromParts(i.year,i.month,i.day):null}static fromSeconds(e){const i=rt.fromSeconds(e,{zone:kn.utcInstance});return i.isValid?Za.fromParts(i.year,i.month,i.day):null}static fromReader(e){if(!e)return null;const i=e.split("-");return i.length!==3?null:new Za(parseInt(i[0],10),parseInt(i[1],10),parseInt(i[2],10))}static fromParts(e,i,r){const n=new Za(e,i,r);return n.isValid===!1?null:n}static fromDateJS(e){return Za.fromParts(e.getFullYear(),e.getMonth()+1,e.getDay())}static fromDateTime(e){return Za.fromParts(e.year,e.month,e.day)}static fromSqlTimeStampOffset(e){return this.fromDateTime(e.toDateTime())}static fromString(e,i=null){if(e===""||e===null)return null;const r=[];if(i)(i=lQ(i))&&r.push(i);else if(i===null||i===""){const n=rt.fromISO(e,{setZone:!0});return n.isValid?Za.fromParts(n.year,n.month,n.day):null}for(const n of r){const s=rt.fromFormat(e,i??n);if(s.isValid)return new Za(s.year,s.month,s.day)}return null}static fromNow(e="system"){const i=rt.fromJSDate(new Date).setZone(hd(e));return new Za(i.year,i.month,i.day)}};function zht(t){if(t==null)return null;switch(t.type){case"polygon":case"multipoint":case"polyline":return t.extent;case"point":return new jt({xmin:t.x,ymin:t.y,xmax:t.x,ymax:t.y,spatialReference:t.spatialReference});case"extent":return t}return null}function Nht(t){if(t==null)return null;const e=t.clone();return t.cache._geVersion!==void 0&&(e.cache._geVersion=t.cache._geVersion),e}function VI(t){return typeof t=="number"&&isFinite(t)&&Math.floor(t)===t}function uQ(t){if(!t)return"";const e=/(a|A|hh?|HH?|mm?|ss?|SSS|S|.)/g;let i="";for(const r of t.match(e)||[])switch(r){case"SSS":case"m":case"mm":case"h":case"hh":case"H":case"HH":case"s":case"ss":i+=r;break;case"A":case"a":i+="a";break;default:i+=`'${r}'`}return i}const dQ="esri.core.sql.timeonly";let B9e=class od{constructor(e,i,r,n){this._hour=e,this._minute=i,this._second=r,this._millisecond=n,this.declaredRootClass=dQ}static isTimeOnly(e){return typeof e=="object"&&e!=null&&"declaredRootClass"in e&&e.declaredRootClass===dQ}get hour(){return this._hour}get minute(){return this._minute}get second(){return this._second}get millisecond(){return this._millisecond}equals(e){return od.isTimeOnly(e)&&e.hour===this.hour&&e.minute===this.minute&&e.second===this.second&&e.millisecond===this.millisecond}clone(){return new od(this.hour,this.minute,this.second,this.millisecond)}isValid(){return VI(this.hour)&&VI(this.minute)&&VI(this.second)&&VI(this.millisecond)&&this.hour>=0&&this.hour<24&&this.minute>=0&&this.minute<60&&this.second>=0&&this.second<60&&this.millisecond>=0&&this.millisecond<1e3}toString(){return`${this.hour.toString().padStart(2,"0")}:${this.minute.toString().padStart(2,"0")}:${this.second.toString().padStart(2,"0")}`+(this.millisecond>0?"."+this.millisecond.toString().padStart(3,"0"):"")}toSQLValue(){return this.toString()}toSQLWithKeyword(){return`time '${this.hour.toString().padStart(2,"0")}:${this.minute.toString().padStart(2,"0")}:${this.second.toString().padStart(2,"0")}${this.millisecond>0?"."+this.millisecond.toString().padStart(3,"0"):""}'`}toStorageString(){return`${this.hour.toString().padStart(2,"0")}:${this.minute.toString().padStart(2,"0")}:${this.second.toString().padStart(2,"0")}`}toFormat(e=null){return e===null||e===""?this.toString():(e=uQ(e))?rt.local(1970,1,1,this._hour,this._minute,this._second,this._millisecond).toFormat(e,{locale:ya(),numberingSystem:"latn"}):""}toNumber(){return this.millisecond+1e3*this.second+1e3*this.minute*60+60*this.hour*60*1e3}static fromParts(e,i,r,n){const s=new od(e,i,r,n);return s.isValid()?s:null}static fromReader(e){if(!e)return null;const i=e.split(":");return i.length!==3?null:new od(parseInt(i[0],10),parseInt(i[1],10),parseInt(i[2],10),0)}static fromMilliseconds(e){if(e>864e5||e<0)return null;const i=Math.floor(e/1e3%60),r=Math.floor(e/6e4%60),n=Math.floor(e/36e5%24),s=Math.floor(e%1e3);return new od(n,r,i,s)}static fromDateJS(e){return new od(e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds())}static fromDateTime(e){return new od(e.hour,e.minute,e.second,e.millisecond)}static fromSqlTimeStampOffset(e){return this.fromDateTime(e.toDateTime())}static fromString(e,i=null){if(e===""||e===null)return null;const r=[];i?(i=uQ(i))&&r.push(i):i!==null&&i!==""||(r.push("HH:mm:ss"),r.push("HH:mm:ss.SSS"),r.push("hh:mm:ss a"),r.push("hh:mm:ss.SSS a"),r.push("HH:mm"),r.push("hh:mm a"),r.push("H:mm"),r.push("h:mm a"),r.push("H:mm:ss"),r.push("h:mm:ss a"),r.push("H:mm:ss.SSS"),r.push("h:mm:ss.SSS a"));for(const n of r){const s=rt.fromFormat(e,n);if(s.isValid)return new od(s.hour,s.minute,s.second,s.millisecond)}return null}plus(e,i){switch(e){case"days":case"years":case"months":return this.clone();case"hours":case"minutes":case"seconds":case"milliseconds":return od.fromDateTime(this.toUTCDateTime().plus({[e]:i}))}return null}toUTCDateTime(){return rt.utc(1970,1,1,this.hour,this.minute,this.second,this.millisecond)}difference(e,i){switch(i.toLowerCase()){case"days":case"day":case"d":return this.toUTCDateTime().diff(e.toUTCDateTime(),"days").days;case"months":case"month":return this.toUTCDateTime().diff(e.toUTCDateTime(),"months").months;case"minutes":case"minute":case"m":return i==="M"?this.toUTCDateTime().diff(e.toUTCDateTime(),"months").months:this.toUTCDateTime().diff(e.toUTCDateTime(),"minutes").minutes;case"seconds":case"second":case"s":return this.toUTCDateTime().diff(e.toUTCDateTime(),"seconds").seconds;case"milliseconds":case"millisecond":case"ms":default:return this.toUTCDateTime().diff(e.toUTCDateTime(),"milliseconds").milliseconds;case"hours":case"hour":case"h":return this.toUTCDateTime().diff(e.toUTCDateTime(),"hours").hours;case"years":case"year":case"y":return this.toUTCDateTime().diff(e.toUTCDateTime(),"years").years}}};const H9e=["geometry","scale","timeProperties"];function jht(t,e){if(e!=null)for(const i of H9e)e.hasArcadeDependency(i)&&t.add(i);return t}function Fht(t,e){return yfe.create(t,e,null,["$feature","$view"])}function q9e(t,e,i){return yfe.create(t,e,i,["$feature","$view","$config"])}let yfe=class vfe{static async create(e,i,r,n){const{arcade:s,Dictionary:o}=await Mv();let a;try{a=s.parseScript(e)}catch(w){throw new ee("arcade-bad-expression","Failed to parse arcade script",{script:e,error:w})}const l=s.scriptUsesGeometryEngine(a);l&&await s.enableGeometrySupport(),await s.loadDependentModules(new Set,a,null,!1,l);const h={vars:n.reduce((w,S)=>({...w,[S]:null}),{}),spatialReference:i,useAsync:!1},f=s.compileScript(a,h);let g=null;r!=null&&(g=new o(r),g.immutable=!0);const v=new o;return v.immutable=!1,v.setField("scale",0),new vfe(e,s,a,f,i,v,g,o)}constructor(e,i,r,n,s,o,a,l){this.script=e,this._arcade=i,this._syntaxTree=r,this._compiled=n,this._spatialReference=s,this._viewDict=o,this._configDict=a,this._dictionaryCtor=l,this._dependencies=new Map,this._featureReader=new bfe,this._dependencies.set("geometry",i.scriptTouchesGeometry(this._syntaxTree)),this._dependencies.set("scale",this._arcade.referencesMember(this._syntaxTree,"scale")),this._dependencies.set("timeProperties",this._arcade.scriptUsesViewProperties(this._syntaxTree,["timeProperties"]))}evaluate(e,i){const r=i.$view?.timeZone;if(i.$view){let n;if(this._viewDict.setField("scale",i.$view.scale),i.$view.timeProperties!=null){const{currentStart:s,currentEnd:o}=i.$view.timeProperties;n=new this._dictionaryCtor({currentStart:s!=null?r!=null?_p.epochToArcadeDate(s,r):_p.unknownEpochToArcadeDate(s):void 0,currentEnd:o!=null?r!=null?_p.epochToArcadeDate(o,r):_p.unknownEpochToArcadeDate(o):void 0,startIncluded:!0,endIncluded:!0})}this._viewDict.setField("timeProperties",n)}return this._compiled({vars:{$view:this._viewDict,$config:this._configDict,$feature:e},spatialReference:this._spatialReference,timeZone:r})}repurposeFeature(e,i){return this._featureReader.bind(e,i,this._spatialReference),this._featureReader}references(e){return this._dependencies.get(e)??!1}},bfe=class{constructor(){this._boundTarget=null,this._boundSchema={fields:null,fieldsIndex:null,spatialReference:null,get geometryType(){return null},get objectIdField(){return null}},this.arcadeDeclaredClass="esri.arcade.Feature",this._contextTimeZone=null}bind(e,i,r){const n=i??new LO(wfe(e.attributes));this._boundTarget=e,this._boundSchema.fields=n.fields,this._boundSchema.fieldsIndex=n,this._boundSchema.spatialReference=r}_getField(e){return this._boundSchema.fieldsIndex.get(e)}get contextTimeZone(){return this._contextTimeZone}set contextTimeZone(e){this._contextTimeZone=e}readArcadeFeature(){return this}hasField(e){return this._boundSchema.fieldsIndex.has(e)}geometry(){if("fromJSON"in this._boundTarget)return this._boundTarget.geometry;const e=jd(this._boundTarget.geometry);if(e){if(!this._boundSchema.spatialReference)throw new Error("InternalError: Expected spatial reference to be defined");e.spatialReference=this._boundSchema.spatialReference}return e}_hasGeometry(){return this._boundTarget.geometry!=null}isUnknownDateTimeField(e){return this._boundSchema.fieldsIndex.getTimeZone(e)===Bm}field(e,i=!0){const r=this._getField(e);if(r){const n=this._boundTarget.attributes[r.name];if(n==null)return null;switch(r.type){case"date-only":case"esriFieldTypeDateOnly":return U9e.fromReader(n);case"time-only":case"esriFieldTypeTimeOnly":return B9e.fromReader(n);case"esriFieldTypeTimestampOffset":case"timestamp-offset":return _p.fromReaderAsTimeStampOffset(n);case"date":case"esriFieldTypeDate":return this.isUnknownDateTimeField(e)?_p.unknownEpochToArcadeDate(n):_p.epochToArcadeDate(n,this.contextTimeZone??cc);default:return n}}if(i)throw new Error(`Field ${e} does not exist`);return null}setField(e,i){throw new Error("Unable to update feature attribute values, feature is readonly")}keys(){return this._boundSchema.fieldsIndex.fields.map(e=>e.name)}isEmpty(){return this._boundSchema.fields.length<=0&&!this._hasGeometry()}castToText(e=!1){return JSON.stringify(this._boundTarget)}gdbVersion(){return null}fullSchema(){return this._boundSchema}castAsJson(e=null){return{attributes:this._boundTarget.attributes,geometry:e?.keepGeometryType===!0?this.geometry():this.geometry()?.toJSON()??null}}castAsJsonAsync(e=null,i=null){return Promise.resolve(this.castAsJson(i))}};function wfe(t){const e=[];for(const i in t)e.push({name:i,alias:i,type:typeof t[i]=="string"?"esriFieldTypeString":"esriFieldTypeDouble"});return e}let G9e=class _fe{static async from(e,i,r){const n=e.dictionary_version?Ghe.parse(e.dictionary_version):null,s=new Set(e.itemsNames),o={};if(i)for(const g in i)o[g]=i[g];if(e.authoringInfo.configuration)for(const g of e.authoringInfo.configuration)o.hasOwnProperty(g.name)||(o[g.name]=g.value);const a=new Set(e.authoringInfo.symbol);for(const g of Object.keys(r))a.delete(g);a.size&&Ee.getLogger("esri.renderers.support.DictionaryScriptEvaluator").warnOnce("missing-fields: fieldMap entries for the following symbol fields are missing",{symbolFields:a});const l=await q9e(e.expression,null,o);if(!l)throw new ee("dictionary-renderer:expression-error","Unable to create dictionary renderer expression");const h=!n||!n.greaterEqual(4,0);h&&Ee.getLogger("esri.renderers.support.DictionaryScriptEvaluator").warnOnce("Dictionary script does not support native field types. Applying fallback",{version:n});const f=new W9e(r,h);return new _fe(h,s,l,f)}constructor(e,i,r,n){this._requiresFieldCoercionToString=e,this._itemNames=i,this._compiled=r,this._reader=n}get itemNames(){return this._itemNames}evaluate(e,i,r,n){try{return this._reader.bind(e,r,n),this._compiled.evaluate(this._reader,{$view:{scale:i}})}catch(s){Ee.getLogger("esri.renderers.support.DictionaryScriptEvaluator").warnOnce("arcade: dictionary script evaluation failed",{error:s})}return null}createDictionaryFieldsIndex(e){if(!this._requiresFieldCoercionToString)return new LO(e);const i=e.map(r=>({...r,type:"esriFieldTypeString"}));return new LO(i)}},W9e=class extends bfe{constructor(e,i){super(),this._fieldMap=e,this._requiresFieldCoercionToString=i}_getField(e){const i=this._fieldMap[e]??e;return this._boundSchema.fieldsIndex.get(i)}field(e){if(!this._requiresFieldCoercionToString)return super.field(e,!1);const i=this._getField(e);return i==null||this._boundTarget.attributes[i.name]==null?"":""+this._boundTarget.attributes[i.name]}};const hQ={Relative:0,Absolute:1},Y9e={color:[128,128,128,1],outlinecolor:[0,0,0,1],backgroundcolor:[128,128,128,1],borderlinecolor:[0,0,0,1],tintcolor:[255,255,255,1]},L8={CIMVectorMarker:{scalesymbolsproportionally:!1,respectframe:!0,anchorpointunits:"Relative",offsetx:0,offsety:0,rotateclockwise:!1,rotation:0,size:10,enable:!0,colorlocked:!1},CIMPictureMarker:{scalex:1,texturefilter:"Draft",anchorpointunits:"Relative",offsetx:0,offsety:0,rotateclockwise:!1,rotation:0,size:10,enable:!0,colorlocked:!1},CIMTextSymbol:{angle:0,anglex:0,angley:0,halosize:1,height:10,horizontalalignment:"Left",kerning:!0,letterspacing:0,letterwidth:100,ligatures:!0,linegap:0,offsetx:0,offsety:0,strikethrough:!1,textcase:"Normal",textstring:"",underline:!1,verticalalignment:"Bottom",enable:!0,colorlocked:!1},CIMSolidStroke:{capstyle:"Round",joinstyle:"Round",miterlimit:4,width:4,enable:!0,colorlocked:!1},CIMPictureStroke:{texturefilter:"Draft",capstyle:"Round",joinstyle:"Round",miterlimit:4,width:4,enable:!0,colorlocked:!1},CIMGradientStroke:{capstyle:"Round",joinstyle:"Round",miterlimit:4,width:4,enable:!0,colorlocked:!1,gradientMethod:"AcrossLine",gradientSize:75,gradientSizeUnits:hQ.Relative,gradientType:"Discrete",interval:5},CIMSolidFill:{enable:!0,colorlocked:!1},CIMPictureFill:{offsetx:0,offsety:0,rotation:0,scalex:1,height:10,texturefilter:"Draft",enable:!0,colorlocked:!1},CIMHatchFill:{offsetx:0,offsety:0,rotation:0,separation:4,enable:!0,colorlocked:!1},CIMGradientFill:{enable:!0,angle:90,gradientMethod:"Linear",gradientSize:75,gradientSizeUnits:hQ.Relative,gradientType:"Discrete",interval:5},CIMGeometricEffectAddControlPoints:{angletolerance:120},CIMGeometricEffectArrow:{arrowtype:"OpenEnded",width:5},CIMGeometricEffectBuffer:{size:1},CIMGeometricEffectCut:{begincut:1,endcut:1,middlecut:0,invert:!1},CIMGeometricEffectDashes:{customendingoffset:0,linedashending:"NoConstraint",offsetalongline:0},CIMGeometricEffectDonut:{method:"Mitered",option:"Accurate",width:2},CIMGeometricEffectJog:{angle:225,length:20,position:50},CIMGeometricEffectControlMeasureLine:{rule:"FullGeometry"},CIMGeometricEffectMove:{offsetx:1,offsety:-1},CIMGeometricEffectOffset:{method:"Square",offset:1,option:"Fast"},CIMGeometricEffectRadial:{angle:0,length:5},CIMGeometricEffectRotate:{angle:15},CIMGeometricEffectScale:{xscalefactor:1.15,yscalefactor:1.15},CIMGeometricEffectWave:{amplitude:2,period:3,seed:1,waveform:"Sinus"},CIMMarkerPlacementAlongLine:{customendingoffset:0,endings:"WithHalfGap",offsetalongline:0,placeperpart:!0,angletoline:!0,offset:0},CIMMarkerPlacementAtExtremities:{extremityplacement:"Both",offsetalongline:0,angletoline:!0,offset:0},CIMMarkerPlacementAtRatioPositions:{beginposition:0,endposition:0,flipfirst:!0,angletoline:!0,offset:0},CIMMarkerPlacementInsidePolygon:{gridangle:0,gridtype:"Fixed",offsetx:0,offsety:0,randomness:100,seed:0,shiftoddrows:!1,stepx:16,stepy:16,clipping:"ClipAtBoundary"},CIMMarkerPlacementOnLine:{relativeto:"LineMiddle",startpointoffset:0,angletoline:!0,offset:0},CIMMarkerPlacementOnVertices:{placeperpart:!0,placeoncontrolpoints:!0,placeonendpoints:!0,placeonregularvertices:!0,angletoline:!0,offset:0},CIMMarkerPlacementPolygonCenter:{method:"OnPolygon",offsetx:0,offsety:0,clipatboundary:!1},CIMAnimatedSymbolProperties:{playanimation:!1,reverseanimation:!1,randomizestarttime:!1,randomizestartseed:0,starttimeoffset:0,duration:3,endingduration:3,useendingduration:!1,repeattype:"Loop",repeatdelay:0,easing:"Linear"},CIMSymbolAnimationSize:{tosize:10},CIMSymbolAnimationScale:{scalefactor:1},CIMSymbolAnimationColor:{tocolor:[255,255,255,1]},CIMSymbolAnimationTransparency:{totransparency:0},CIMSymbolAnimationRotation:{torotation:0,rotateclockwise:!1},CIMSymbolAnimationOffset:{offsetx:0,offsety:0},CIMSymbolAnimationMoveAlongLine:{speed:30,distanceAlong:100}};function Z9e(t){return typeof t=="function"}function Bht(t,e,i,r){return Z9e(t)?t(e,i,r):t}function Hht(t){return[t.r,t.g,t.b,t.a]}const J9e=` /-,
`;function pQ(t){let e=t.length;for(;e--;)if(!J9e.includes(t.charAt(e)))return!1;return!0}function qht(t,e){const i=[];let r=0,n=-1;do if(n=t.indexOf("[",r),n>=r){if(n>r){const s=t.slice(r,n);i.push([s,null,pQ(s)])}if(r=n+1,n=t.indexOf("]",r),n>=r){if(n>r){const s=e[t.slice(r,n)];s&&i.push([null,s,!1])}r=n+1}}while(n!==-1);if(r<t.length){const s=t.slice(r);i.push([s,null,pQ(s)])}return i}function Ght(t,e,i){let r="",n=null;for(const s of e){const[o,a,l]=s;if(o!=null&&o!=="")l?n=o:(n!=null&&(r+=n,n=null),r+=o);else{const h=t.readAttribute(a);h!=null&&h!==""&&(n!==null&&(r+=n,n=null),r+=h)}}return xfe(r,i)}function Wht(t,e,i,r){let n="",s=null;for(const o of e){const[a,l,h]=o;if(a!=null&&a!=="")h?s=a:(s!=null&&(n+=s,s=null),n+=a);else{let f=l;i!=null&&(f=nUe(l,i));const g=t.attributes[f];g!=null&&g!==""&&(s!=null&&(n+=s,s=null),n+=g)}}return xfe(n,r)}function xfe(t,e){switch(typeof t!="string"&&(t=String(t)),e){case"LowerCase":return t.toLowerCase();case"Allcaps":return t.toUpperCase();default:return t}}function Yht(t,e,i,r,n,s,o=!0){const a=e/n,l=i/s,h=Math.ceil(a/2),f=Math.ceil(l/2);for(let g=0;g<s;g++)for(let v=0;v<n;v++){const w=4*(v+(o?s-g-1:g)*n);let S=0,T=0,C=0,I=0,A=0,P=0,D=0;const L=(g+.5)*l;for(let B=Math.floor(g*l);B<(g+1)*l;B++){const N=Math.abs(L-(B+.5))/f,Y=(v+.5)*a,K=N*N;for(let te=Math.floor(v*a);te<(v+1)*a;te++){let ue=Math.abs(Y-(te+.5))/h;const ye=Math.sqrt(K+ue*ue);ye>=-1&&ye<=1&&(S=2*ye*ye*ye-3*ye*ye+1,S>0&&(ue=4*(te+B*e),D+=S*t[ue+3],C+=S,t[ue+3]<255&&(S=S*t[ue+3]/250),I+=S*t[ue],A+=S*t[ue+1],P+=S*t[ue+2],T+=S))}}r[w]=I/T,r[w+1]=A/T,r[w+2]=P/T,r[w+3]=D/C}}function X9e(t){return t?[t[0],t[1],t[2],t[3]/255]:[0,0,0,0]}function Zht(t){return t.data?.symbol??null}function Jht(t){return t.type==="CIMVectorMarker"||t.type==="CIMPictureMarker"||t.type==="CIMBarChartMarker"||t.type==="CIMCharacterMarker"||t.type==="CIMPieChartMarker"||t.type==="CIMStackedBarChartMarker"}function Xht(t){return t.type==="CIMGradientStroke"||t.type==="CIMPictureStroke"||t.type==="CIMSolidStroke"}function Kht(t){return t!=null&&(t.type==="CIMGradientFill"||t.type==="CIMHatchFill"||t.type==="CIMPictureFill"||t.type==="CIMSolidFill"||t.type==="CIMWaterFill")}function K9e(t){return t!=null&&(t.type==="CIMMarkerPlacementAlongLineRandomSize"||t.type==="CIMMarkerPlacementAlongLineSameSize"||t.type==="CIMMarkerPlacementAlongLineVariableSize"||t.type==="CIMMarkerPlacementAtExtremities"||t.type==="CIMMarkerPlacementAtMeasuredUnits"||t.type==="CIMMarkerPlacementAtRatioPositions"||t.type==="CIMMarkerPlacementOnLine"||t.type==="CIMMarkerPlacementOnVertices")}const Qht=(t,e=0)=>t==null||isNaN(t)?e:t,ept=(t,e)=>t??e,tpt=(t,e)=>t??e,ipt=t=>t.tintColor?X9e(t.tintColor):[255,255,255,1];let Q9e=class{constructor(e){this._import=e}getImportPromise(){return this._promise==null&&(this._promise=this._import().then(e=>this.module=e)),this._promise}};function npt(t){return new Q9e(t)}function spt(t){if(!t)return"normal";switch(t.toLowerCase()){case"italic":return"italic";case"oblique":return"oblique";default:return"normal"}}function opt(t){if(!t)return"normal";switch(t.toLowerCase()){case"bold":return"bold";case"bolder":return"bolder";case"lighter":return"lighter";default:return"normal"}}function apt(t){let e="normal",i="normal";if(t){const r=t.toLowerCase();r.includes("italic")?e="italic":r.includes("oblique")&&(e="oblique"),r.includes("bold")?i="bold":r.includes("light")&&(i="lighter")}return{style:e,weight:i}}function lpt(t){return t.underline?"underline":t.strikethrough?"line-through":"none"}function fQ(t){if(!t)return null;switch(t.type){case"CIMPolygonSymbol":if(t.symbolLayers)for(const e of t.symbolLayers){const i=fQ(e);if(i!=null)return i}break;case"CIMTextSymbol":return fQ(t.symbol);case"CIMSolidFill":return t.color}return null}function mQ(t){if(t)switch(t.type){case"CIMPolygonSymbol":case"CIMLineSymbol":{const e=t.symbolLayers;if(e)for(const i of e){const r=mQ(i);if(r!=null)return r}break}case"CIMTextSymbol":return mQ(t.symbol);case"CIMSolidStroke":return t.color}}function cpt(t){for(const e of t)if(e.enable)switch(e.type){case"CIMSolidStroke":case"CIMGradientStroke":case"CIMPictureStroke":return!0}return!1}function gQ(t){if(t)switch(t.type){case"CIMPolygonSymbol":case"CIMLineSymbol":if(t.symbolLayers)for(const e of t.symbolLayers){const i=gQ(e);if(i!==void 0)return i}break;case"CIMTextSymbol":return gQ(t.symbol);case"CIMSolidStroke":case"CIMGradientStroke":case"CIMPictureStroke":return t.width}}function upt(t){switch(t){case"Left":default:return"left";case"Right":return"right";case"Center":case"Justify":return"center"}}function dpt(t){switch(t){case"Top":default:return"top";case"Center":return"middle";case"Baseline":return"baseline";case"Bottom":return"bottom"}}function hpt(t){return(t?Object.keys(t):[]).map(e=>({name:e,alias:e,type:typeof t[e]=="string"?"esriFieldTypeString":"esriFieldTypeDouble"}))}const ppt=t=>t.includes("data:image/svg+xml");function fpt(t){if(!t)return null;switch(t.type){case"CIMPointSymbol":case"CIMTextSymbol":return"esriGeometryPoint";case"CIMLineSymbol":return"esriGeometryPolyline";case"CIMPolygonSymbol":return"esriGeometryPolygon";default:return null}}function x3(t){return t&&t.charAt(0).toLowerCase()+t.slice(1)}function mpt(t,e,i,r,n,s,o=!0){const{infos:a}=s;let l=1,h=0,f=0,g=0,v=1;for(const{absoluteAnchorPoint:T,offsetX:C,offsetY:I,rotation:A,size:P,frameHeight:D,rotateClockWise:L,scaleSymbolsProportionally:B}of a)v=T?1:l,f=vQ(C,I,h,v,f),g=yQ(C,I,h,v,g),D&&(B||o)&&(l*=P/D),h=bQ(A,L,h);const w=vQ(r,n,h,v,f),S=yQ(r,n,h,v,g);return{size:t*l,rotation:bQ(e,i,h),offsetX:w,offsetY:S}}function eUe(t){if(t==null)return!1;if(Array.isArray(t))return t.every(e=>eUe(e));switch(typeof t){case"string":return!!t;case"number":return!isNaN(t)}}function tUe(t,e){if(e==="color"||e==="outlinecolor"||e==="backgroundcolor"||e==="borderlinecolor"||e==="tintcolor")return[...Y9e[e]];const i=L8[t];if(!i)throw new Error(`InternalError: default value for type ${t}.`);return i[e]}function iUe(t){return t.split(" ").map(e=>Number(e))}function rUe(t){return typeof t=="string"?iUe(t):t}function gpt(t){return t?.dashTemplate&&(t.dashTemplate=rUe(t.dashTemplate)),t}function z8(t){if(t==null)return"Normal";switch(t.type){case"CIMTextSymbol":return t.textCase??"Normal";case"CIMPointSymbol":case"CIMLineSymbol":case"CIMPolygonSymbol":{const e=t.symbolLayers;if(!e)return"Normal";for(const i of e)if(i.type==="CIMVectorMarker")return z8(i)}break;case"CIMVectorMarker":{const e=t.markerGraphics;if(!e)return"Normal";for(const i of e)if(i.symbol)return z8(i.symbol)}}return"Normal"}function ypt(t){if(t)switch(t.type){case"CIMTextSymbol":return t.height;case"CIMPointSymbol":{let e=0;if(t.symbolLayers){for(const i of t.symbolLayers)if(i)switch(i.type){case"CIMCharacterMarker":case"CIMPictureMarker":case"CIMVectorMarker":case"CIMObjectMarker3D":case"CIMglTFMarker3D":{const r=i.size??L8.CIMVectorMarker.size;r>e&&(e=r);break}}}return e}case"CIMLineSymbol":case"CIMPolygonSymbol":{let e=0;if(t.symbolLayers){for(const i of t.symbolLayers)if(i)switch(i.type){case"CIMSolidStroke":case"CIMPictureStroke":case"CIMGradientStroke":{const r=i.width;r!=null&&r>e&&(e=r);break}case"CIMCharacterMarker":case"CIMPictureMarker":case"CIMVectorMarker":case"CIMObjectMarker3D":case"CIMglTFMarker3D":if(i.markerPlacement&&K9e(i.markerPlacement)){const r=i.size??L8.CIMVectorMarker.size;r>e&&(e=r)}break;case"CIMPictureFill":{const r=i.height;r!=null&&r>e&&(e=r)}}}return e}}}function nUe(t,e){if(e!==null){const i=e.get(t);return i?i.name:t}return t}function vpt(t){return t.map(e=>({...e,propertyName:x3(e.propertyName)}))}function bpt(t){const e={};for(const i in t){const r=t[i];e[x3(i)]=r}return e}function yQ(t,e,i,r,n){const s=i*Math.PI/180;if(s){const o=Math.cos(s);return(Math.sin(s)*t+o*e)*r+n}return e*r+n}function vQ(t,e,i,r,n){const s=i*Math.PI/180;return s?(Math.cos(s)*t-Math.sin(s)*e)*r+n:t*r+n}function bQ(t,e,i){return e?i-t:i+t}function wpt(t,e,i){const r=i==="Color"||i==="TintColor"||i==="ToColor",n=i==="Rotation"||i==="Angle"||i==="ToRotation";let s=e[x3(i)];if(s!=null&&(r?s=[s[0]/255,s[1]/255,s[2]/255,s[3]/255]:n&&(s*=Math.PI/180)),s==null&&(s=tUe(e.type,i.toLowerCase()),s!=null&&(r?s=[s[0]/255,s[1]/255,s[2]/255,s[3]]:n&&(s*=Math.PI/180))),e.primitiveName!=null){const o=t[e.primitiveName];if(o!=null){const a=o[i];a==null||(typeof a=="string"||typeof a=="number"||Array.isArray(a)?(s=a,s!=null&&(r?s=[s[0]/255,s[1]/255,s[2]/255,s[3]/255]:n&&(s*=Math.PI/180))):(s={valueExpressionInfo:a,defaultValue:s},s!=null&&(r?s={type:"Process",op:"ArcadeColor",value:s}:n&&(s={type:"Process",op:"Divide",left:s,right:180/Math.PI}))))}}if(s==null)throw new Error(`Failed to derive a value or an expression for "${i}".`);return s}function _pt(t,e,i){if(e[x3(i)]!=null)return!0;if(e.primitiveName!=null){const r=t[e.primitiveName];if(r!=null&&r[i]!=null)return!0}return!1}function xpt(t,e){return Math.max(Math.min((t??e)/100,1),0)}const sUe={type:"CIMSimpleLineCallout",lineSymbol:{type:"CIMLineSymbol",symbolLayers:[{type:"CIMSolidStroke",width:.5,color:[0,0,0,255]}]}};let Sfe=class{constructor(e,i,r,n){this.url=e,this.fieldMap=r,this.dictionaryInfo=n,this._symbolPartCache=new I9e(100);const s=async()=>G9e.from(await n,i,r);this._evaluator=s()}async getSymbolAsync(e,i,r=!0){const n=await this._evaluator,s=i?.fields??wfe(e.attributes),o=n.createDictionaryFieldsIndex(s),a=n.evaluate(e,i?.scale??0,o,i?.spatialReference);if(a==null)return null;const l=D1(e.geometry),h=nQ.parse(a,n.itemNames,l),f=l==="esriGeometryPoint"&&!e.geometry?.hasZ;return await this._cimPartsToCIMSymbol(e,h.partNames,h.overrides,f,i,r,o)}async getSymbolForControlString(e,i,r){const n=await this._evaluator,s=nQ.parse(e,n.itemNames,i),o=i==="esriGeometryPoint"&&!r,a=wQ(await Promise.all(s.partNames.map(l=>this._getSymbolPart(l))),s.overrides,o);return new no({data:a})}async _cimPartsToCIMSymbol(e,i,r,n,s,o,a){const l=i.map(g=>this._getSymbolPart(g,s));let h=await Promise.all(l);if(o&&this.fieldMap&&h.length>0){const{OverrideHelper:g}=await ke(()=>import("./OverrideHelper-CPkbnXtV.js"),__vite__mapDeps([206,111,207,8]));h=ne(h);for(const v of h)g.applyDictionaryTextOverrides(v,e,this.fieldMap,a,z8(v))}const f=wQ(h,r,n);return new no({data:f})}async _fetchSymbolPart(e,i){const r=await this.dictionaryInfo,n=(this.url+"/"+r.cimRefTemplateUrl).replaceAll(/\{itemName\}/gi,e),{data:s}=await Vt(n,{responseType:"json",query:{f:"json"},...i});return s}async _getSymbolPart(e,i){let r=this._symbolPartCache.get(e);return r||(r=this._fetchSymbolPart(e,i),this._symbolPartCache.put(e,r)),r}};function wQ(t,e,i){if(!t||t.length===0)return null;const r={...t[0]};if(t.length>1){r.effects=null,r.symbolLayers=[];for(const n of t){const s=n;if(s.effects!=null)for(const o of s.symbolLayers)o.effects==null?o.effects=s.effects:o.effects.unshift(...s.effects);r.symbolLayers.unshift(...s.symbolLayers)}}return i&&(r.callout=sUe),{type:"CIMSymbolReference",symbol:r,primitiveOverrides:e}}var N8;let Zc=N8=class extends V1(ul){constructor(t){super(t),this.config=null,this.fieldMap=null,this.scaleExpression=null,this.scaleExpressionTitle=null,this.url=null,this.type="dictionary"}get _loader(){const t=this.getDictionaryInfo();return new Sfe(this.url,this.config,this.fieldMap??{},t)}writeData(t,e){t&&(e.scalingExpressionInfo={expression:t,returnType:"number"})}writeVisualVariables(t,e,i,r){r?.origin||super.writeVisualVariables(t,e,i,r)}clone(){return new N8({config:ne(this.config),scaleExpression:this.scaleExpression,scaleExpressionTitle:this.scaleExpressionTitle,fieldMap:ne(this.fieldMap),url:ne(this.url),visualVariables:ne(this.visualVariables)})}async getSymbolAsync(t,e,i=!0){return this._loader.getSymbolAsync(t,e,i)}async getSymbolForControlString(t,e,i){return this._loader.getSymbolForControlString(t,e,i)}getDictionaryInfo(){return this._dictionaryInfoPromise||(this._dictionaryInfoPromise=this._fetchDictionaryInfo()),this._dictionaryInfoPromise}async collectRequiredFields(t,e){await this.collectVVRequiredFields(t,e),this.scaleExpression&&await ho(t,e,null,this.scaleExpression);for(const i in this.fieldMap){const r=this.fieldMap[i];e.has(r)&&t.add(r)}}get arcadeRequired(){return!0}getSymbol(){return null}get symbols(){return[]}getAttributeHash(){return this.visualVariables?.reduce((t,e)=>t+e.getAttributeHash(),"")??""}getMeshHash(){return`${this.url}-${JSON.stringify(this.fieldMap)}`}async _fetchDictionaryInfo(){const{data:t}=await Vt(this.url+"/resources/styles/dictionary-info.json",{responseType:"json",query:{f:"json"}});return t}};u([p({type:Sfe})],Zc.prototype,"_loader",null),u([p({type:Object,json:{read:{source:"configuration"},write:{target:"configuration"}}})],Zc.prototype,"config",void 0),u([p({type:Object,json:{write:!0}})],Zc.prototype,"fieldMap",void 0),u([p({type:String,json:{read:{source:"scalingExpressionInfo.expression"},write:!0}})],Zc.prototype,"scaleExpression",void 0),u([ze("scaleExpression")],Zc.prototype,"writeData",null),u([p({type:String,json:{read:{source:"scalingExpressionInfo.title"},write:{target:"scalingExpressionInfo.title",overridePolicy(t){return{enabled:!!t&&!!this.scaleExpression}}}}})],Zc.prototype,"scaleExpressionTitle",void 0),u([p({type:String,json:{write:!0}})],Zc.prototype,"url",void 0),u([ze("visualVariables")],Zc.prototype,"writeVisualVariables",null),Zc=N8=u([j("esri.renderers.DictionaryRenderer")],Zc);var j8;let Hh=j8=class extends ge{constructor(t){super(t),this.color=null,this.field=null,this.label=null,this.valueExpression=null,this.valueExpressionTitle=null}castField(t){return t==null?t:typeof t=="function"?(Ee.getLogger(this).error(".field: field must be a string value"),null):z$(t)}getAttributeHash(){return`${this.field}-${this.valueExpression}`}clone(){return new j8({color:this.color?.clone(),field:this.field,label:this.label,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle})}};u([p({type:xt,json:{type:[Number],write:!0}})],Hh.prototype,"color",void 0),u([p({type:String,json:{write:!0}})],Hh.prototype,"field",void 0),u([bi("field")],Hh.prototype,"castField",null),u([p({type:String,json:{write:!0}})],Hh.prototype,"label",void 0),u([p({type:String,json:{write:!0}})],Hh.prototype,"valueExpression",void 0),u([p({type:String,json:{write:!0}})],Hh.prototype,"valueExpressionTitle",void 0),Hh=j8=u([j("esri.renderers.support.AttributeColorInfo")],Hh);const Tfe=Hh;var F8;let XM=F8=class extends ge{constructor(){super(...arguments),this.unit=null}clone(){return new F8({unit:this.unit})}};u([p({type:String,json:{write:!0}})],XM.prototype,"unit",void 0),XM=F8=u([j("esri.renderers.support.DotDensityLegendOptions")],XM);const oUe=XM;var V8;let Xo=V8=class extends V1(ul){constructor(t){super(t),this.attributes=null,this.backgroundColor=new xt([0,0,0,0]),this.dotBlendingEnabled=!0,this.dotShape="square",this.dotSize=1,this.legendOptions=null,this.outline=new un,this.dotValue=null,this.referenceScale=null,this.seed=1,this.type="dot-density"}set visualVariables(t){super.visualVariables=t}calculateDotValue(t){if(this.referenceScale==null)return this.dotValue;const e=t/this.referenceScale*this.dotValue;return e<1?1:e}getSymbol(){return new ol({outline:this.outline})}async getSymbolAsync(){return this.getSymbol()}get symbols(){return[this.getSymbol()]}getAttributeHash(){return this.attributes?.reduce((t,e)=>t+e.getAttributeHash(),"")??""}getMeshHash(){return JSON.stringify(this.outline)}clone(){return new V8({attributes:ne(this.attributes),backgroundColor:ne(this.backgroundColor),dotBlendingEnabled:ne(this.dotBlendingEnabled),dotShape:ne(this.dotShape),dotSize:ne(this.dotSize),dotValue:ne(this.dotValue),legendOptions:ne(this.legendOptions),outline:ne(this.outline),referenceScale:ne(this.referenceScale),seed:ne(this.seed),visualVariables:ne(this.visualVariables),authoringInfo:ne(this.authoringInfo)})}getControllerHash(){return`${this.attributes?.map(e=>e.field||e.valueExpression||"")}-${this.outline&&JSON.stringify(this.outline.toJSON())||""}`}async collectRequiredFields(t,e){await this.collectVVRequiredFields(t,e);for(const i of this.attributes??[])i.valueExpression&&await ho(t,e,null,i.valueExpression),i.field&&t.add(i.field)}};u([p({type:[Tfe],json:{write:!0}})],Xo.prototype,"attributes",void 0),u([p({type:xt,json:{write:!0}})],Xo.prototype,"backgroundColor",void 0),u([p({type:Boolean,json:{write:!0}})],Xo.prototype,"dotBlendingEnabled",void 0),u([p({type:String,json:{write:!1}})],Xo.prototype,"dotShape",void 0),u([p({type:Number,json:{write:!0}})],Xo.prototype,"dotSize",void 0),u([p({type:oUe,json:{write:!0}})],Xo.prototype,"legendOptions",void 0),u([p({type:un,json:{default:null,write:!0}})],Xo.prototype,"outline",void 0),u([p({type:Number,json:{write:!0}})],Xo.prototype,"dotValue",void 0),u([p({type:Number,json:{write:!0}})],Xo.prototype,"referenceScale",void 0),u([p({type:Number,json:{write:!0}})],Xo.prototype,"seed",void 0),u([nt({dotDensity:"dot-density"})],Xo.prototype,"type",void 0),Xo=V8=u([j("esri.renderers.DotDensityRenderer")],Xo);var U8;let Cm=U8=class extends ge{constructor(t){super(t),this.color=null,this.ratio=null}clone(){return new U8({color:this.color&&this.color.clone(),ratio:this.ratio})}};u([p({type:xt,json:{type:[Ht],default:null,write:{isRequired:!0}}})],Cm.prototype,"color",void 0),u([p({type:Number,json:{write:{isRequired:!0}}})],Cm.prototype,"ratio",void 0),Cm=U8=u([j("esri.renderers.support.HeatmapColorStop")],Cm);let uw=class extends dt(ge){constructor(){super(...arguments),this.minLabel=null,this.maxLabel=null,this.title=null}};u([p({type:String,json:{write:!0}})],uw.prototype,"minLabel",void 0),u([p({type:String,json:{write:!0}})],uw.prototype,"maxLabel",void 0),u([p({type:String,json:{write:!0}})],uw.prototype,"title",void 0),uw=u([j("esri.renderers.support.HeatmapLegendOptions")],uw);function aUe(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}function lUe(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}function cUe(t,e,i,r,n){return t[0]=e,t[1]=i,t[2]=r,t[3]=n,t}function uUe(t,e,i){return t[0]=e[0]+i[0],t[1]=e[1]+i[1],t[2]=e[2]+i[2],t[3]=e[3]+i[3],t}function $fe(t,e,i){return t[0]=e[0]-i[0],t[1]=e[1]-i[1],t[2]=e[2]-i[2],t[3]=e[3]-i[3],t}function kfe(t,e,i){return t[0]=e[0]*i[0],t[1]=e[1]*i[1],t[2]=e[2]*i[2],t[3]=e[3]*i[3],t}function Efe(t,e,i){return t[0]=e[0]/i[0],t[1]=e[1]/i[1],t[2]=e[2]/i[2],t[3]=e[3]/i[3],t}function dUe(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t[2]=Math.ceil(e[2]),t[3]=Math.ceil(e[3]),t}function hUe(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t[2]=Math.floor(e[2]),t[3]=Math.floor(e[3]),t}function pUe(t,e,i){return t[0]=Math.min(e[0],i[0]),t[1]=Math.min(e[1],i[1]),t[2]=Math.min(e[2],i[2]),t[3]=Math.min(e[3],i[3]),t}function fUe(t,e,i){return t[0]=Math.max(e[0],i[0]),t[1]=Math.max(e[1],i[1]),t[2]=Math.max(e[2],i[2]),t[3]=Math.max(e[3],i[3]),t}function mUe(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t[2]=Math.round(e[2]),t[3]=Math.round(e[3]),t}function gUe(t,e,i){return t[0]=e[0]*i,t[1]=e[1]*i,t[2]=e[2]*i,t[3]=e[3]*i,t}function yUe(t,e,i,r){return t[0]=e[0]+i[0]*r,t[1]=e[1]+i[1]*r,t[2]=e[2]+i[2]*r,t[3]=e[3]+i[3]*r,t}function Ife(t,e){const i=e[0]-t[0],r=e[1]-t[1],n=e[2]-t[2],s=e[3]-t[3];return Math.sqrt(i*i+r*r+n*n+s*s)}function Cfe(t,e){const i=e[0]-t[0],r=e[1]-t[1],n=e[2]-t[2],s=e[3]-t[3];return i*i+r*r+n*n+s*s}function Mfe(t){const e=t[0],i=t[1],r=t[2],n=t[3];return Math.sqrt(e*e+i*i+r*r+n*n)}function Afe(t){const e=t[0],i=t[1],r=t[2],n=t[3];return e*e+i*i+r*r+n*n}function vUe(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=-e[3],t}function bUe(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t[3]=1/e[3],t}function wUe(t,e){const i=e[0],r=e[1],n=e[2],s=e[3];let o=i*i+r*r+n*n+s*s;return o>0&&(o=1/Math.sqrt(o),t[0]=i*o,t[1]=r*o,t[2]=n*o,t[3]=s*o),t}function _Ue(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]}function Ofe(t,e,i,r){const n=e[0],s=e[1],o=e[2],a=e[3];return t[0]=n+r*(i[0]-n),t[1]=s+r*(i[1]-s),t[2]=o+r*(i[2]-o),t[3]=a+r*(i[3]-a),t}function xUe(t,e=1){const i=FD;let r,n,s,o,a,l;do r=2*i()-1,n=2*i()-1,a=r*r+n*n;while(a>=1);do s=2*i()-1,o=2*i()-1,l=s*s+o*o;while(l>=1);const h=Math.sqrt((1-a)/l);return t[0]=e*r,t[1]=e*n,t[2]=e*s*h,t[3]=e*o*h,t}function SUe(t,e,i){const r=e[0],n=e[1],s=e[2],o=e[3];return t[0]=i[0]*r+i[4]*n+i[8]*s+i[12]*o,t[1]=i[1]*r+i[5]*n+i[9]*s+i[13]*o,t[2]=i[2]*r+i[6]*n+i[10]*s+i[14]*o,t[3]=i[3]*r+i[7]*n+i[11]*s+i[15]*o,t}function TUe(t,e,i){const r=e[0],n=e[1],s=e[2],o=i[0],a=i[1],l=i[2],h=i[3],f=h*r+a*s-l*n,g=h*n+l*r-o*s,v=h*s+o*n-a*r,w=-o*r-a*n-l*s;return t[0]=f*h+w*-o+g*-l-v*-a,t[1]=g*h+w*-a+v*-o-f*-l,t[2]=v*h+w*-l+f*-a-g*-o,t[3]=e[3],t}function $Ue(t){return"vec4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"}function kUe(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]}function EUe(t,e){const i=t[0],r=t[1],n=t[2],s=t[3],o=e[0],a=e[1],l=e[2],h=e[3],f=Lo();return Math.abs(i-o)<=f*Math.max(1,Math.abs(i),Math.abs(o))&&Math.abs(r-a)<=f*Math.max(1,Math.abs(r),Math.abs(a))&&Math.abs(n-l)<=f*Math.max(1,Math.abs(n),Math.abs(l))&&Math.abs(s-h)<=f*Math.max(1,Math.abs(s),Math.abs(h))}const IUe=$fe,CUe=kfe,MUe=Efe,AUe=Ife,OUe=Cfe,PUe=Mfe,DUe=Afe;Object.freeze(Object.defineProperty({__proto__:null,add:uUe,ceil:dUe,copy:aUe,copyVec3:lUe,dist:AUe,distance:Ife,div:MUe,divide:Efe,dot:_Ue,equals:EUe,exactEquals:kUe,floor:hUe,inverse:bUe,len:PUe,length:Mfe,lerp:Ofe,max:fUe,min:pUe,mul:CUe,multiply:kfe,negate:vUe,normalize:wUe,random:xUe,round:mUe,scale:gUe,scaleAndAdd:yUe,set:cUe,sqrDist:OUe,sqrLen:DUe,squaredDistance:Cfe,squaredLength:Afe,str:$Ue,sub:IUe,subtract:$fe,transformMat4:SUe,transformQuat:TUe},Symbol.toStringTag,{value:"Module"}));function S3(){return[0,0,0,0]}function RUe(t){return[t[0],t[1],t[2],t[3]]}function U1(t,e,i,r){return[t,e,i,r]}function LUe(t,e,i,r){return[t,e,i,r]}function zUe(t,e=S3()){const i=Math.min(4,t.length);for(let r=0;r<i;++r)e[r]=t[r];return e}function Pfe(){return S3()}function Dfe(){return U1(1,1,1,1)}function Rfe(){return U1(1,0,0,0)}function Lfe(){return U1(0,1,0,0)}function zfe(){return U1(0,0,1,0)}function Nfe(){return U1(0,0,0,1)}const NUe=Pfe(),jUe=Dfe(),FUe=Rfe(),VUe=Lfe(),UUe=zfe(),BUe=Nfe();Object.freeze(Object.defineProperty({__proto__:null,ONES:jUe,UNIT_W:BUe,UNIT_X:FUe,UNIT_Y:VUe,UNIT_Z:UUe,ZEROS:NUe,clone:RUe,create:S3,freeze:LUe,fromArray:zUe,fromValues:U1,ones:Dfe,unitW:Nfe,unitX:Rfe,unitY:Lfe,unitZ:zfe,zeros:Pfe},Symbol.toStringTag,{value:"Module"}));const qB=2.4;function HUe(t){return uc(t*qB)}function qUe(t){return fAe(t)/qB}function GUe(t,e,i,r){let{color:n,ratio:s}=e,{color:o,ratio:a}=i;a===s&&(a===1?s-=1e-6:a+=1e-6);const l=vl((r-s)/(a-s),0,1);Ofe(t,n.toArray(),o.toArray(),l)}function $pt(t){const i=new Uint8ClampedArray(2048);if(t=t.filter(({ratio:a})=>a>=0&&a<=1).sort((a,l)=>a.ratio-l.ratio).map(({color:a,ratio:l})=>({color:a,ratio:Math.max(l,.001)})),t.length<1)return i;let r=t[0],n=t[0],s=1;const o=S3();for(let a=0;a<512;a++){const l=(a+.5)/512;for(;l>n.ratio&&s<t.length;)r=n,n=t[s++];GUe(o,r,n,l),i.set(o,4*a)}return i}function kpt(t,e,i){const r=Math.sqrt(t**2+e**2)/i;return r>1?0:3/(Math.PI*i**2)*(1-r**2)**2}function Ept(t){return typeof t=="function"?t:t?e=>+e[t]:()=>1}var B8;function _Q(t){if(t!=null){const{maxDensity:e,minDensity:i,radius:r}=t;if(e!=null||i!=null||r!=null){const{blurRadius:n,maxPixelIntensity:s,minPixelIntensity:o,...a}=t;return a}}return t}let Dn=B8=class extends ul{constructor(t){super(t),this.authoringInfo=null,this.colorStops=[new Cm({ratio:0,color:new xt("rgba(255, 140, 0, 0)")}),new Cm({ratio:.75,color:new xt("rgba(255, 140, 0, 1)")}),new Cm({ratio:.9,color:new xt("rgba(255, 0,   0, 1)")})],this.field=null,this.legendOptions=null,this.maxDensity=.04,this.minDensity=0,this.radius=18,this.referenceScale=0,this.type="heatmap",this.valueExpression=null,this.valueExpressionTitle=null}normalizeCtorArgs(t){return _Q(t)}get blurRadius(){return qUe(this.radius)}set blurRadius(t){const e=this.maxPixelIntensity,i=this.minPixelIntensity;this._set("radius",HUe(t)),this._set("maxDensity",e*this._pixelIntensityToDensity),this._set("minDensity",i*this._pixelIntensityToDensity)}get maxPixelIntensity(){return this.maxDensity/this._pixelIntensityToDensity}set maxPixelIntensity(t){this._set("maxDensity",t*this._pixelIntensityToDensity)}get minPixelIntensity(){return this.minDensity/this._pixelIntensityToDensity}set minPixelIntensity(t){this._set("minDensity",t*this._pixelIntensityToDensity)}get _pixelIntensityToDensity(){return 24/(qB**2*this.blurRadius**4)}read(t,e){t=_Q(t),super.read(t,e)}getSymbol(){return new Ln}async getSymbolAsync(){return this.getSymbol()}get symbols(){return[this.getSymbol()]}async collectRequiredFields(t,e){const i=this.field,r=this.valueExpression;i&&typeof i=="string"&&uo(t,e,i),r&&typeof r=="string"&&await ho(t,e,null,r)}getAttributeHash(){return""}getMeshHash(){return`${JSON.stringify(this.colorStops)}.${this.blurRadius}.${this.field}`}clone(){return new B8({authoringInfo:this.authoringInfo&&this.authoringInfo.clone(),colorStops:ne(this.colorStops),field:this.field,legendOptions:ne(this.legendOptions),maxDensity:this.maxDensity,minDensity:this.minDensity,radius:this.radius,referenceScale:this.referenceScale,valueExpression:this.valueExpression,valueExpressionTitle:this.valueExpressionTitle})}};u([p({type:br,json:{write:!0,origins:{"web-scene":{write:!1,read:!1}}}})],Dn.prototype,"authoringInfo",void 0),u([p({type:Number,json:{origins:{"portal-item":{write:!0},"web-map":{write:!0}}}})],Dn.prototype,"blurRadius",null),u([p({type:[Cm],json:{write:{isRequired:!0}}})],Dn.prototype,"colorStops",void 0),u([p({type:String,json:{write:!0}})],Dn.prototype,"field",void 0),u([p({type:uw,json:{write:!0}})],Dn.prototype,"legendOptions",void 0),u([p({type:Number,json:{write:!0}})],Dn.prototype,"maxDensity",void 0),u([p({type:Number,json:{origins:{"portal-item":{write:!0},"web-map":{write:!0}}}})],Dn.prototype,"maxPixelIntensity",null),u([p({type:Number,json:{write:!0}})],Dn.prototype,"minDensity",void 0),u([p({type:Number,json:{origins:{"portal-item":{write:!0},"web-map":{write:!0}}}})],Dn.prototype,"minPixelIntensity",null),u([p({type:Number,cast:ci,json:{write:!0}})],Dn.prototype,"radius",void 0),u([p({type:Number,range:{min:0},json:{default:0,write:!0}})],Dn.prototype,"referenceScale",void 0),u([nt({heatmap:"heatmap"})],Dn.prototype,"type",void 0),u([p({type:String,json:{write:!0,origins:{"web-document":{write:!1},"portal-item":{write:!1}}}})],Dn.prototype,"valueExpression",void 0),u([p({type:String})],Dn.prototype,"valueExpressionTitle",void 0),u([p({readOnly:!0})],Dn.prototype,"_pixelIntensityToDensity",null),Dn=B8=u([j("esri.renderers.HeatmapRenderer")],Dn);let Ly=class extends dt(ge){constructor(){super(...arguments),this.color=new xt([0,0,0,0]),this.label=null,this.threshold=0}};u([p({type:xt,json:{write:!0}})],Ly.prototype,"color",void 0),u([p({type:String,json:{write:!0}})],Ly.prototype,"label",void 0),u([p({type:Number,range:{min:0,max:1},json:{write:!0}})],Ly.prototype,"threshold",void 0),Ly=u([j("esri.renderers.support.OthersCategory")],Ly);const WUe={base:Qs,key:"type",typeMap:{size:gi,opacity:hp}};let Ko=class extends V1(dt(ul)){constructor(e){super(e),this.attributes=null,this.backgroundFillSymbol=null,this.defaultColor=new xt([0,0,0,0]),this.defaultLabel=null,this.holePercentage=0,this.othersCategory=new Ly,this.legendOptions=null,this.outline=null,this.size=12,this.type="pie-chart",this.visualVariables=null}getSymbol(){return new Ln({size:this.size?this.size/2+(this.outline?.width||0):0})}async getSymbolAsync(){return this.getSymbol()}get symbols(){return[this.getSymbol(),this.backgroundFillSymbol].filter(vu)}getAttributeHash(){return this.visualVariables?.reduce((e,i)=>e+i.getAttributeHash(),"")??""}getMeshHash(){return this.symbols.reduce((e,i)=>e+JSON.stringify(i),"")}async collectRequiredFields(e,i){await this.collectVVRequiredFields(e,i);for(const r of this.attributes)r.valueExpression&&await ho(e,i,null,r.valueExpression),r.field&&e.add(r.field)}};u([p({type:[Tfe],json:{write:!0}})],Ko.prototype,"attributes",void 0),u([p(RB)],Ko.prototype,"backgroundFillSymbol",void 0),u([p({type:xt,json:{write:!0}})],Ko.prototype,"defaultColor",void 0),u([p({type:String,json:{write:!0}})],Ko.prototype,"defaultLabel",void 0),u([p({type:Number,range:{min:0,max:1},json:{write:!0}})],Ko.prototype,"holePercentage",void 0),u([p({type:Ly,json:{write:!0}})],Ko.prototype,"othersCategory",void 0),u([p({type:LB,json:{write:!0}})],Ko.prototype,"legendOptions",void 0),u([p({type:un,json:{default:null,write:!0}})],Ko.prototype,"outline",void 0),u([p({type:Number,cast:ci,json:{write:!0}})],Ko.prototype,"size",void 0),u([nt({pieChart:"pie-chart"})],Ko.prototype,"type",void 0),u([p({types:[WUe]})],Ko.prototype,"visualVariables",void 0),Ko=u([j("esri.renderers.PieChartRenderer")],Ko);const fk={key:"type",base:ul,typeMap:{heatmap:Dn,simple:Mo,"unique-value":tr,"class-breaks":on,"dot-density":Xo,dictionary:Zc,"pie-chart":Ko},errorContext:"renderer"},YUe={key:"type",base:ul,typeMap:{simple:Mo,"unique-value":tr,"class-breaks":on,heatmap:Dn},errorContext:"renderer",validate:ZUe};function ZUe(t){switch(t.type){case"simple":return JUe(t);case"unique-value":return XUe(t);case"class-breaks":return KUe(t);case"heatmap":return t}}function JUe(t){if(t.symbol)return t;Ee.getLogger("esri.renderers.support.types").error("Removed invalid 'simple' renderer without a symbol from web scene.")}function XUe(t){const e=t.uniqueValueInfos,i=e?.filter(({symbol:r,label:n},s)=>(r||Ee.getLogger("esri.renderers.support.types").error(`Removed invalid unique value info ([${s}] ${n}) without a symbol from web scene.`),!!r));return i?.length!==e?.length&&(t.uniqueValueInfos=i),t}function KUe(t){const e=t.classBreakInfos,i=e?.filter(({symbol:r,label:n},s)=>(r||Ee.getLogger("esri.renderers.support.types").error(`Removed invalid class break info ([${s}] ${n}) without a symbol from web scene.`),!!r));return i?.length!==e?.length&&(t.classBreakInfos=i),t}function Mpt(t,e){return i$(t,null,e)}const QUe=S1({types:fk});function i$(t,e,i){return t?t&&(t.styleName||t.styleUrl)&&t.type!=="uniqueValue"?(i?.messages&&i.messages.push(new yl("renderer:unsupported","Only UniqueValueRenderer can be referenced from a web style, but found '"+t.type+"'",{definition:t,context:i})),null):QUe(t,e,i):null}var H8;let $s=H8=class extends zm{constructor(t){super(t),this.type="binning",this.binType="geohash",this.fixedBinLevel=null,this.labelingInfo=null,this.labelsVisible=!0,this.maxScale=0,this.popupEnabled=!0,this.popupTemplate=null,this.size=ci("12px"),this.fields=[],this.renderer=null}writeFields(t,e,i){const r=t.filter(n=>n.statisticType!=="avg_angle").map(n=>n.toJSON());Kr(i,r,e)}readRenderer(t,e,i){const r=e.drawingInfo?.renderer;return r?i$(r,e,i)??void 0:NB(e,i)}clone(){return new H8({fields:ne(this.fields),fixedBinLevel:this.fixedBinLevel,labelingInfo:ne(this.labelingInfo),labelsVisible:this.labelsVisible,maxScale:this.maxScale,popupEnabled:this.popupEnabled,popupTemplate:ne(this.popupTemplate),renderer:ne(this.renderer),binType:ne(this.binType),size:this.size})}};u([nt({binning:"binning"})],$s.prototype,"type",void 0),u([nt({geohash:"geohash",square:"square"}),p({type:["geohash","square"]})],$s.prototype,"binType",void 0),u([p({type:Number,json:{write:!0}})],$s.prototype,"fixedBinLevel",void 0),u([p({type:[ur],json:{read:{source:"drawingInfo.labelingInfo"},write:{target:"drawingInfo.labelingInfo"}}})],$s.prototype,"labelingInfo",void 0),u([p(g3)],$s.prototype,"labelsVisible",void 0),u([p({type:Number,json:{default:0,name:"visibilityInfo.maxScale"}})],$s.prototype,"maxScale",void 0),u([p(m3)],$s.prototype,"popupEnabled",void 0),u([p({type:Xv,json:{name:"popupInfo",write:!0}})],$s.prototype,"popupTemplate",void 0),u([p({cast:t=>t==="auto"?t:Io(ci(t))})],$s.prototype,"size",void 0),u([p({type:[ro],json:{write:!0}})],$s.prototype,"fields",void 0),u([ze("fields")],$s.prototype,"writeFields",null),u([p({types:fk,json:{write:{target:"drawingInfo.renderer"}}})],$s.prototype,"renderer",void 0),u([Ae("renderer",["drawingInfo.renderer"])],$s.prototype,"readRenderer",null),$s=H8=u([j("esri.layers.support.FeatureReductionBinning")],$s);var q8;function xQ(t){return t.type==="simple"&&!t.visualVariables?.length}let an=q8=class extends ge{constructor(t){super(t),this.type="cluster",this.clusterRadius=ci("80px"),this.clusterMinSize=ci("12px"),this.clusterMaxSize=ci("50px"),this.maxScale=0,this.popupEnabled=!0,this.popupTemplate=null,this.renderer=null,this.symbol=null,this.labelingInfo=null,this.labelsVisible=!0,this.fields=[]}readRenderer(t,e,i){const r=e.drawingInfo?.renderer;return r?.authoringInfo?.isAutoGenerated?null:r?xQ(r)?null:i$(r,e,i)??void 0:NB(e,i)}readSymbol(t,e,i){const r=e.drawingInfo?.renderer;return r?.authoringInfo?.isAutoGenerated?null:r&&xQ(r)?i$(r,e,i)?.symbol:null}writeSymbol(t,e,i,r){const n=this.renderer?.authoringInfo?.isAutoGenerated;if(!this.renderer||n){const s=new Mo({symbol:t});e.drawingInfo={renderer:s.write({},r)}}}writeFields(t,e,i){const r=t.filter(n=>n.statisticType!=="avg_angle").map(n=>n.toJSON());Kr(i,r,e)}readFields(t,e,i){return t.filter(r=>!r.isAutoGenerated).map(r=>ro.fromJSON(r))}clone(){return new q8({clusterRadius:this.clusterRadius,clusterMinSize:this.clusterMinSize,clusterMaxSize:this.clusterMaxSize,labelingInfo:ne(this.labelingInfo),labelsVisible:this.labelsVisible,fields:ne(this.fields),maxScale:this.maxScale,renderer:ne(this.renderer),symbol:ne(this.symbol),popupEnabled:this.popupEnabled,popupTemplate:ne(this.popupTemplate)})}};u([p({type:["cluster"],readOnly:!0,json:{write:!0}})],an.prototype,"type",void 0),u([p({cast:t=>t==="auto"?t:Io(ci(t)),json:{write:!0}})],an.prototype,"clusterRadius",void 0),u([p({type:Number,cast:ci,json:{write:!0}})],an.prototype,"clusterMinSize",void 0),u([p({type:Number,cast:ci,json:{write:!0}})],an.prototype,"clusterMaxSize",void 0),u([p({type:Number,json:{default:0,name:"visibilityInfo.maxScale"}})],an.prototype,"maxScale",void 0),u([p(m3)],an.prototype,"popupEnabled",void 0),u([p({type:Xv,json:{read:{source:"popupInfo"},write:{target:"popupInfo"}}})],an.prototype,"popupTemplate",void 0),u([p({types:fk,json:{write:{target:"drawingInfo.renderer"}}})],an.prototype,"renderer",void 0),u([Ae("renderer",["drawingInfo.renderer"])],an.prototype,"readRenderer",null),u([p({types:H3e})],an.prototype,"symbol",void 0),u([Ae("symbol",["drawingInfo.renderer"])],an.prototype,"readSymbol",null),u([ze("symbol")],an.prototype,"writeSymbol",null),u([p({type:[ur],json:{read:{source:"drawingInfo.labelingInfo"},write:{target:"drawingInfo.labelingInfo"}}})],an.prototype,"labelingInfo",void 0),u([p(g3)],an.prototype,"labelsVisible",void 0),u([p({type:[ro],json:{write:!0}})],an.prototype,"fields",void 0),u([ze("fields")],an.prototype,"writeFields",null),u([Ae("fields")],an.prototype,"readFields",null),an=q8=u([j("esri.layers.support.FeatureReductionCluster")],an);var G8;let n2=G8=class extends zm{constructor(t){super(t),this.type="selection"}clone(){return new G8}};u([p({type:["selection"]})],n2.prototype,"type",void 0),n2=G8=u([j("esri.layers.support.FeatureReductionSelection")],n2);const SQ={key:"type",base:zm,typeMap:{cluster:an,binning:$s}},eBe={types:{key:"type",base:zm,typeMap:{selection:n2,cluster:an,binning:$s}},json:{name:"layerDefinition.featureReduction",write:{allowNull:!0},origins:{"web-map":{types:SQ},"portal-item":{types:SQ},"web-scene":{types:{key:"type",base:zm,typeMap:{selection:n2}},name:"layerDefinition.featureReduction",write:{allowNull:!0,layerContainerTypes:Ki}}}}},tBe=()=>Ee.getLogger("esri.views.2d.layers.support.clusterUtils");he.add("esri-cluster-arcade-enabled",!0);const iBe=he("esri-cluster-arcade-enabled"),rBe=new Set(["simple-line","simple-fill","picture-fill"]);function TQ(t,e){let i=e.clone();if(!nBe(i))return i;if(e.symbols.some(r=>rBe.has(r.type))&&(i=new Mo({symbol:new Ln})),i.authoringInfo||(i.authoringInfo=new br),i.authoringInfo.isAutoGenerated=!0,"visualVariables"in i){const r=(i.visualVariables||[]).filter(n=>n.valueExpression!=="$view.scale");r.forEach(n=>{n.type==="rotation"?n.field?n.field=Yg(t,n.field,"avg_angle","number"):n.valueExpression&&(n.field=pS(t,n.valueExpression,"avg_angle","number"),n.valueExpression=null):n.normalizationField?(n.field=Yg(t,n.field,"avg_norm","number",n.normalizationField),n.normalizationField=null):n.field?n.field=Yg(t,n.field,"avg","number"):n.valueExpression&&(n.field=pS(t,n.valueExpression,"avg","number"),n.valueExpression=null)}),i.visualVariables=r}switch(i.type){case"simple":break;case"pie-chart":for(const r of i.attributes)r.field?r.field=Yg(t,r.field,"sum","number"):r.valueExpression&&(r.field=pS(t,r.valueExpression,"sum","number"),r.valueExpression=null);break;case"unique-value":i.field?i.field=Yg(t,i.field,"mode","string"):i.valueExpression&&(i.field=pS(t,i.valueExpression,"mode","string"),i.valueExpression=null);break;case"class-breaks":i.normalizationField?(i.field=Yg(t,i.field,"avg_norm","number",i.normalizationField),i.normalizationField=null):i.field?i.field=Yg(t,i.field,"avg","number"):i.valueExpression&&(i.field=pS(t,i.valueExpression,"avg","number"),i.valueExpression=null)}return i}const nBe=t=>{const e=i=>tBe().error(new ee("Unsupported-renderer",i,{renderer:t}));if(!t)return!1;switch(t.type){case"unique-value":if(t.field2||t.field3)return e("FeatureReductionCluster does not support multi-field UniqueValueRenderers"),!1;break;case"class-breaks":if(t.normalizationField){const i=t.normalizationType;if(i!=="field")return e(`FeatureReductionCluster does not support a normalizationType of ${i}`),!1}break;case"simple":case"pie-chart":break;default:return e(`FeatureReductionCluster does not support renderers of type ${t.type}`),!1}if(!iBe){if("valueExpression"in t&&t.valueExpression)return e("FeatureReductionCluster does not currently support renderer.valueExpression. Support will be added in a future release"),!1;if(("visualVariables"in t&&t.visualVariables||[]).some(i=>!(!("valueExpression"in i)||!i.valueExpression)))return e("FeatureReductionCluster does not currently support visualVariables with a valueExpression. Support will be added in a future release"),!1}return!0};function sBe(t,e,i){switch(t){case"sum":return`cluster_sum_${e}`;case"avg":case"avg_angle":return`cluster_avg_${e}`;case"mode":return`cluster_type_${e}`;case"avg_norm":{const r=i,n="field",s=e.toLowerCase()+",norm:"+n+","+r.toLowerCase();return"cluster_avg_"+HU(s)}}}function pS(t,e,i,r){const n=HU(e),s=i==="mode"?`cluster_type_${n}`:i==="sum"?`cluster_sum_${n}`:`cluster_avg_${n}`;return t.some(o=>o.name===s)||t.push(new ro({name:s,isAutoGenerated:!0,onStatisticExpression:new ym({expression:e,returnType:r}),statisticType:i})),s}function Yg(t,e,i,r,n){if(e==="cluster_count"||t.some(o=>o.name===e))return e;const s=sBe(i,e,n);return t.some(o=>o.name===s)||(i==="avg_norm"?t.push(new ro({name:s,isAutoGenerated:!0,onStatisticExpression:new ym({expression:`$feature.${e} / $feature.${n}`,returnType:r}),statisticType:"avg"})):t.push(new ro({name:s,isAutoGenerated:!0,onStatisticField:e,statisticType:i}))),s}const oBe=t=>{const e=t;let i=class extends e{constructor(...r){super(...r),this.aggregateGraphicOrigin=new a9e(this),this.addHandles(ft(()=>this.renderer,()=>{if(this.featureReduction){const n=this._normalizeFeatureReduction(this.featureReduction);this._set("featureReduction",n)}},zd))}set featureReduction(r){const n=this._normalizeFeatureReduction(r);this._set("featureReduction",n)}set renderer(r){}_withClusterVariable(r,n,s){const o=r.clone();return"visualVariables"in o&&(o.visualVariables||(o.visualVariables=[]),o.visualVariables.some(a=>a.type==="size")||o.visualVariables.push(new gi({field:"cluster_count",stops:[new ru({value:1}),new ru({useMinValue:!0,size:n}),new ru({useMaxValue:!0,size:s})]}))),o}_normalizeFeatureReduction(r){if(r?.type!=="cluster")return r;const n=r.clone(),s=[new ro({name:"cluster_count",alias:"cluster_count",isAutoGenerated:!0,statisticType:"count"})],o=(n.fields??[]).filter(v=>!v.isAutoGenerated),a=r.renderer&&!r.renderer.authoringInfo?.isAutoGenerated,{clusterMinSize:l,clusterMaxSize:h}=n;if(a){n.fields=[...s,...o];const v=this._withClusterVariable(n.renderer,l,h);return n.effectiveFeatureRenderer=v,n.effectiveClusterRenderer=v,n}if(r.symbol){if(n.fields=[...s,...o],n.renderer=null,!this.renderer)return n.effectiveFeatureRenderer=null,n.effectiveClusterRenderer=null,n;const v=TQ(s,this.renderer),w=this._withClusterVariable(v,l,h),S="visualVariables"in w&&w.visualVariables?w.visualVariables:[],T=new Mo({symbol:r.symbol,visualVariables:S});return n.fields=[...s,...o],n.effectiveFeatureRenderer=w,n.effectiveClusterRenderer=T,n}if(!this.renderer)return r;const f=TQ(s,this.renderer);n.fields=[...s,...o],n.renderer=f;const g=this._withClusterVariable(f,l,h);return n.effectiveFeatureRenderer=g,n.effectiveClusterRenderer=g,n}};return u([p({readOnly:!0,clonable:!1})],i.prototype,"aggregateGraphicOrigin",void 0),u([p(eBe)],i.prototype,"featureReduction",null),i=u([j("esri.layers.mixins.FeatureReductionLayer")],i),i},$Q={ArcGISAnnotationLayer:!0,ArcGISDimensionLayer:!0,ArcGISFeatureLayer:!0,ArcGISImageServiceLayer:!0,ArcGISImageServiceVectorLayer:!0,ArcGISMapServiceLayer:!0,ArcGISStreamLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,ArcGISVideoLayer:!0,BingMapsAerial:!0,BingMapsHybrid:!0,BingMapsRoad:!0,CatalogLayer:!0,CSV:!0,GeoJSON:!0,GeoRSS:!0,GroupLayer:!0,KML:!0,KnowledgeGraphLayer:!0,MediaLayer:!0,OGCFeatureLayer:!0,OrientedImageryLayer:!0,ParquetLayer:!0,SubtypeGroupLayer:!0,VectorTileLayer:!0,WCS:!0,WFS:!0,WMS:!0,WebTiledLayer:!0},kQ={ArcGISImageServiceLayer:!0,ArcGISImageServiceVectorLayer:!0,ArcGISMapServiceLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,BingMapsAerial:!0,BingMapsHybrid:!0,BingMapsRoad:!0,OpenStreetMap:!0,VectorTileLayer:!0,WCS:!0,WMS:!0,WebTiledLayer:!0},EQ={ArcGISFeatureLayer:!0,SubtypeGroupTable:!0},aBe={"web-scene/operational-layers":{ArcGISDimensionLayer:!0,ArcGISFeatureLayer:!0,ArcGISImageServiceLayer:!0,ArcGISMapServiceLayer:!0,ArcGISSceneServiceLayer:!0,ArcGISTiledElevationServiceLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,BuildingSceneLayer:!0,CatalogLayer:!0,CSV:!0,GaussianSplatLayer:!0,GeoJSON:!0,GroupLayer:!0,IntegratedMesh3DTilesLayer:!0,Object3DTilesLayer:!0,IntegratedMeshLayer:!0,KML:!0,LineOfSightLayer:!0,MediaLayer:!0,OGCFeatureLayer:!0,OrientedImageryLayer:!0,PointCloudLayer:!0,RasterDataLayer:!0,VectorTileLayer:!0,ViewshedLayer:!0,Voxel:!0,WCS:!0,WFS:!0,WMS:!0,WebTiledLayer:!0},"web-scene/basemap-base-layers":{ArcGISImageServiceLayer:!0,ArcGISMapServiceLayer:!0,ArcGISSceneServiceLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,OpenStreetMap:!0,VectorTileLayer:!0,WCS:!0,WMS:!0,WebTiledLayer:!0},"web-scene/basemap-ground-layers":{IntegratedMesh3DTilesLayer:!0},"web-scene/ground":{ArcGISTiledElevationServiceLayer:!0,RasterDataElevationLayer:!0},"web-scene/tables":{ArcGISFeatureLayer:!0},"web-map/operational-layers":$Q,"web-map/basemap-base-layers":kQ,"web-map/tables":EQ,"link-chart/operational-layers":{...$Q,LinkChartLayer:!0},"link-chart/basemap-base-layers":kQ,"link-chart/tables":EQ,"portal-item/operational-layers":{ArcGISFeatureLayer:!0,ArcGISImageServiceLayer:!0,ArcGISMapServiceLayer:!0,ArcGISSceneServiceLayer:!0,ArcGISStreamLayer:!0,ArcGISTiledImageServiceLayer:!0,BuildingSceneLayer:!0,IntegratedMesh3DTilesLayer:!0,IntegratedMeshLayer:!0,MediaLayer:!0,OrientedImageryLayer:!0,PointCloudLayer:!0,SubtypeGroupLayer:!0,WCS:!0},"portal-item/tables":{ArcGISFeatureLayer:!0,SubtypeGroupTable:!0}},lBe=t=>{const e=t;let i=class extends e{constructor(){super(...arguments),this.persistenceEnabled=!0,this.title=null}readId(r,n,s){return s?.portalItem?.type==="Group Layer"?void 0:r}writeListMode(r,n,s,o){(o&&o.layerContainerType==="ground"||r&&G0e(this,s,{},o))&&(n[s]=r)}writeOperationalLayerType(r,n,s){r&&(n[s]=r)}writeTitle(r,n){n.title=r??"Layer"}readVisibilityTimeExtent(r){return r?Oi.fromArray(r):null}writeVisibilityTimeExtent(r,n,s,o){r&&o.layerContainerType!=="tables"&&(r.isEmpty?o?.messages&&o.messages.push(new ee("layer:invalid-visibilityTimeExtent","visibilityTimeExtent cannot be empty")):n[s]=r.toArray())}read(r,n){n&&(n.layer=this),cre(this,r,s=>super.read(r,s),n)}write(r,n){if(!this.persistenceEnabled&&!n?.ignorePersistenceEnabled)return null;if(n?.origin){const a=`${n.origin}/${n.layerContainerType||"operational-layers"}`;let h=!!aBe[a]?.[this.operationalLayerType];if(this.operationalLayerType==="ArcGISTiledElevationServiceLayer"&&a==="web-scene/operational-layers"&&(h=!1),this.operationalLayerType==="ArcGISDimensionLayer"&&a==="web-map/operational-layers"&&(h=!1),!h)return n.messages?.push(new ee("layer:unsupported",`Layers (${this.title}, ${this.id}) of type '${this.declaredClass}' are not supported in the context of '${a}'`,{layer:this})),null}const s=super.write(r,{...n,layer:this}),o=!!n&&!!n.messages&&!!n.messages.filter(a=>a instanceof ee&&a.name==="web-document-write:property-required").length;return $1(s?.url)?(n?.messages?.push(new ee("layer:invalid-url",`Layer (${this.title}, ${this.id}) of type '${this.declaredClass}' using a Blob URL cannot be written to web scenes and web maps`,{layer:this})),null):!this.url&&o?null:s}beforeSave(){}};return u([p({type:String,json:{write:{ignoreOrigin:!0},origins:{"web-scene":{write:{isRequired:!0,ignoreOrigin:!0}},"portal-item":{write:!1}}}})],i.prototype,"id",void 0),u([Ae("id",["id"])],i.prototype,"readId",null),u([p(Mpe)],i.prototype,"listMode",void 0),u([ze("listMode")],i.prototype,"writeListMode",null),u([p({type:String,readOnly:!0,json:{read:!1,write:{target:"layerType",ignoreOrigin:!0},origins:{"portal-item":{write:!1},"web-scene":{name:"layerType",read:!1,write:{enabled:!0,ignoreOrigin:!0,layerContainerTypes:Ki,isRequired:!0}}}}})],i.prototype,"operationalLayerType",void 0),u([ze("operationalLayerType")],i.prototype,"writeOperationalLayerType",null),u([p(s8)],i.prototype,"opacity",void 0),u([p({type:Boolean,readOnly:!1})],i.prototype,"persistenceEnabled",void 0),u([p({type:String,json:{write:{ignoreOrigin:!0,writerEnsuresNonNull:!0},origins:{"web-scene":{write:{isRequired:!0,ignoreOrigin:!0,writerEnsuresNonNull:!0}},"portal-item":{write:!1}}},value:"Layer"})],i.prototype,"title",void 0),u([ze("title"),ze(["web-scene"],"title")],i.prototype,"writeTitle",null),u([p({type:Oi,json:{origins:{"web-scene":{write:{layerContainerTypes:Ki}}}}})],i.prototype,"visibilityTimeExtent",void 0),u([Ae("visibilityTimeExtent")],i.prototype,"readVisibilityTimeExtent",null),u([ze(["portal-item","web-map","web-scene"],"visibilityTimeExtent",{visibilityTimeExtent:{type:[[Ht,x1]]}})],i.prototype,"writeVisibilityTimeExtent",null),u([p({type:Boolean,json:{name:"visibility",write:{layerContainerTypes:Ki}}})],i.prototype,"visible",void 0),i=u([j("esri.layers.mixins.OperationalLayer")],i),i};var W8;const UI=new At({asc:"ascending",desc:"descending"});var z_;let zy=(z_=class extends ge{constructor(e){super(e),this.field=null,this.valueExpression=null,this.order="ascending"}clone(){return new W8({field:this.field,valueExpression:this.valueExpression,order:this.order})}},W8=z_,z_);u([p({type:String,json:{write:!0}})],zy.prototype,"field",void 0),u([p({type:String,json:{write:!0,origins:{"web-scene":{read:!1,write:!1}}}})],zy.prototype,"valueExpression",void 0),u([p({type:UI.apiValues,json:{type:UI.jsonValues,read:UI.read,write:UI.write}})],zy.prototype,"order",void 0),zy=W8=u([j("esri.layers.support.OrderByInfo")],zy);function cBe(t,e,i){if(!t)return null;const r=t.find(s=>!!s.field);if(!r)return null;const n=new zy;return n.read(r,i),[n]}function uBe(t,e,i,r){const n=t.find(s=>!!s.field);n&&Kr(i,[n.toJSON()],e)}const dBe={type:[zy],json:{origins:{"web-scene":{write:!1,read:!1}},name:"layerDefinition.orderBy",read:{reader:cBe},write:{writer:uBe}}},hBe=t=>{const e=t;let i=class extends e{constructor(){super(...arguments),this.orderBy=null}};return u([p(dBe)],i.prototype,"orderBy",void 0),i=u([j("esri.layers.mixins.OrderedLayer")],i),i},pBe=t=>{const e=t;let i=class extends e{constructor(){super(...arguments),this.resourceReferences={portalItem:null,paths:[]},this.userHasEditingPrivileges=!0,this.userHasFullEditingPrivileges=!1,this.userHasUpdateItemPrivileges=!1}destroy(){this.portalItem=pr(this.portalItem),this.resourceReferences.portalItem=null,this.resourceReferences.paths.length=0}set portalItem(r){r!==this._get("portalItem")&&(this.removeOrigin("portal-item"),this._set("portalItem",r))}readPortalItem(r,n,s){if(n.itemId)return new kt({id:n.itemId,portal:s?.portal})}writePortalItem(r,n){r?.id&&(n.itemId=r.id)}async loadFromPortal(r,n){if(this.portalItem?.id)try{const{load:s}=await ke(()=>import("./layersLoader-CooJw7ar.js"),__vite__mapDeps([305,175,176,174]));return nr(n),await s({instance:this,supportedTypes:r.supportedTypes,validateItem:r.validateItem,supportsData:r.supportsData,layerModuleTypeMap:r.layerModuleTypeMap,populateGroupLayer:r.populateGroupLayer},n)}catch(s){throw us(s)||Ee.getLogger(this).warn(`Failed to load layer (${this.title}, ${this.id}) portal item (${this.portalItem.id})
  ${s}`),s}}async finishLoadEditablePortalLayer(r){this._set("userHasEditingPrivileges",await this._fetchUserHasEditingPrivileges(r).catch(n=>(md(n),!0)))}async setUserPrivileges(r,n){if(!ni.userPrivilegesApplied)return this.finishLoadEditablePortalLayer(n);if(this.url)try{const{features:{edit:s,fullEdit:o},content:{updateItem:a}}=await this._fetchUserPrivileges(r,n);this._set("userHasEditingPrivileges",s),this._set("userHasFullEditingPrivileges",o),this._set("userHasUpdateItemPrivileges",a)}catch(s){md(s)}}async _fetchUserPrivileges(r,n){let s=this.portalItem;if(!r||!s||!s.loaded||s.sourceUrl)return this._fetchFallbackUserPrivileges(n);const o=!Zt?.findCredential(this.url),a=r===s.id;if(a&&s.portal.user)return this._getUserPrivileges(s,o);let l,h;if(a)l=s.portal.url;else try{l=await UU(this.url,n)}catch(w){md(w)}if(!l||!awe(l,s.portal.url))return this._fetchFallbackUserPrivileges(n);try{const w=n!=null?n.signal:null;h=await Zt?.getCredential(`${l}/sharing`,{prompt:!1,signal:w})}catch(w){md(w)}const f=!0,g=!1,v=!1;if(!h)return{features:{edit:f,fullEdit:g},content:{updateItem:v}};try{if(a?await s.reload():(s=new kt({id:r,portal:{url:l}}),await s.load(n)),s.portal.user)return this._getUserPrivileges(s,o)}catch(w){md(w)}return{features:{edit:f,fullEdit:g},content:{updateItem:v}}}_getUserPrivileges(r,n){const s=LFe(r);return n&&(s.features.edit=!0),s}async _fetchFallbackUserPrivileges(r){let n=!0;try{n=await this._fetchUserHasEditingPrivileges(r)}catch(s){md(s)}return{features:{edit:n,fullEdit:!1},content:{updateItem:!1}}}async _fetchUserHasEditingPrivileges(r){const n=this.url?Zt?.findCredential(this.url):null;if(!n)return!0;const s=BI.credential===n?BI.user:await this._fetchEditingUser(r);return BI.credential=n,BI.user=s,s?.privileges==null||s.privileges.includes("features:user:edit")}async _fetchEditingUser(r){const n=this.portalItem?.portal?.user;if(n)return n;const s=Zt?.findServerInfo(this.url??"");if(!s?.owningSystemUrl)return null;const o=`${s.owningSystemUrl}/sharing/rest`,a=Le.getDefault();if(a&&a.loaded&&lc(a.restUrl)===lc(o))return a.user;const l=`${o}/community/self`,h=r!=null?r.signal:null,f=await qD(Vt(l,{authMode:"no-prompt",query:{f:"json"},signal:h}));return f.ok?zi.fromJSON(f.value.data):null}read(r,n){n&&(n.layer=this),super.read(r,n)}write(r,n){const s=n?.portal,o=this.portalItem?.id&&(this.portalItem.portal||Le.getDefault());return s&&o&&!vre(o.restUrl,s.restUrl)?(n.messages&&n.messages.push(new ee("layer:cross-portal",`The layer '${this.title} (${this.id})' cannot be persisted because it refers to an item on a different portal than the one being saved to. To save, set layer.portalItem to null or save to the same portal as the item associated with the layer`,{layer:this})),null):super.write(r,{...n,layer:this})}};return u([p({type:kt})],i.prototype,"portalItem",null),u([Ae("web-document","portalItem",["itemId"])],i.prototype,"readPortalItem",null),u([ze("web-document","portalItem",{itemId:{type:String}})],i.prototype,"writePortalItem",null),u([p({clonable:!1})],i.prototype,"resourceReferences",void 0),u([p({type:Boolean,readOnly:!0})],i.prototype,"userHasEditingPrivileges",void 0),u([p({type:Boolean,readOnly:!0})],i.prototype,"userHasFullEditingPrivileges",void 0),u([p({type:Boolean,readOnly:!0})],i.prototype,"userHasUpdateItemPrivileges",void 0),i=u([j("esri.layers.mixins.PortalLayer")],i),i},BI={credential:null,user:null};let uT=class extends at{constructor(){super(...arguments),this.updating=!1,this.status="unknown"}};u([p()],uT.prototype,"updating",void 0),u([p()],uT.prototype,"status",void 0),uT=u([j("esri.layers.support.PublishingInfo")],uT);const fBe=Symbol(),mBe=t=>{var n;var e;const i=t;let r=(n=class extends i{constructor(){super(...arguments),this[e]=!0}get publishingInfo(){if(this.destroyed)return null;const s=this._get("publishingInfo");if(s)return s;const o=new uT;return this._checkPublishingStatus(o),o}_checkPublishingStatus(s){let l=0;const h=async g=>{let v;s.updating=!0;try{v=await this.fetchPublishingStatus()}catch{v="unavailable"}v!=="published"&&v!=="unavailable"||(s.status==="publishing"&&this.refresh(),f.remove()),s.status=v,s.updating=!1,f.removed||(l=setTimeout(h,g,g+125))},f={removed:!1,remove(){this.removed=!0,clearTimeout(l)}};this.when().catch(()=>f.remove()),h(250),this.addHandles(f)}},e=fBe,n);return u([p({readOnly:!0,clonable:!1})],r.prototype,"publishingInfo",null),r=u([j("esri.layers.mixins.PublishableLayer")],r),r},Mm=new We,s2=new WeakMap;function gBe(t){vBe(t)&&Mm.push(new WeakRef(t))}function yBe(t){const e=Mm.find(i=>i.deref()===t);e&&Mm.remove(e)}function vBe(t){return t!=null&&typeof t=="object"&&"refreshInterval"in t&&"refresh"in t}function jfe(t,e){return Number.isFinite(t)&&Number.isFinite(e)?e<=0?t:jfe(e,t%e):0}let Wz=0,HI=0;function bBe(){const t=Date.now();let e=!1;for(const i of Mm){const r=i.deref();r?r.refreshInterval&&t-(s2.get(r)??0)+5>=6e4*r.refreshInterval&&(s2.set(r,t),r.refresh(t)):e=!0}if(e)for(let i=Mm.length-1;i>=0;i--)Mm.at(i).deref()||Mm.removeAt(i)}Uie(()=>{const t=Date.now();let e=0;for(const i of Mm){const r=i.deref();r&&(e=jfe(Math.round(6e4*r.refreshInterval),e),r.refreshInterval?s2.get(r)||s2.set(r,t):s2.delete(r))}if(e!==HI){if(HI=e,clearInterval(Wz),HI===0)return void(Wz=0);Wz=setInterval(bBe,HI)}},zd);const IQ=.1,wBe=t=>{const e=t;let i=class extends e{constructor(...r){super(...r),this.refreshInterval=0,this.refreshTimestamp=0,this._debounceHasDataChanged=cD(()=>this.hasDataChanged()),this.when().then(()=>{this.destroyed||gBe(this)},()=>{})}destroy(){yBe(this)}castRefreshInterval(r){return r>=IQ?r:r<=0?0:IQ}get refreshParameters(){return{_ts:this.refreshTimestamp||null}}refresh(r=Date.now()){T2(this._debounceHasDataChanged()).then(n=>{n&&this._set("refreshTimestamp",r),this.emit("refresh",{dataChanged:n})},n=>{Ee.getLogger(this).error(n),this.emit("refresh",{dataChanged:!1,error:n})})}async hasDataChanged(){return!0}get test(){}};return u([p({type:Number,json:{write:!0,origins:{"web-scene":{write:{enabled:!0,layerContainerTypes:Ki}}}}})],i.prototype,"refreshInterval",void 0),u([bi("refreshInterval")],i.prototype,"castRefreshInterval",null),u([p({readOnly:!0})],i.prototype,"refreshTimestamp",void 0),u([p({readOnly:!0})],i.prototype,"refreshParameters",null),i=u([j("esri.layers.mixins.RefreshableLayer")],i),i},_Be=t=>{const e=t;let i=class extends e{constructor(){super(...arguments),this.minScale=0,this.maxScale=0}get effectiveScaleRange(){const r={minScale:this.minScale,maxScale:this.maxScale},n=this.parent;n?.effectiveScaleRange!==void 0&&xBe(r,n.effectiveScaleRange);const s=this._get("effectiveScaleRange");return s&&s.minScale===r.minScale&&s.maxScale===r.maxScale?s:r}};return u([p({type:Number,nonNullable:!0,json:{write:!0}})],i.prototype,"minScale",void 0),u([p({type:Number,nonNullable:!0,json:{write:!0}})],i.prototype,"maxScale",void 0),u([p({readOnly:!0})],i.prototype,"effectiveScaleRange",null),i=u([j("esri.layers.mixins.ScaleRangeLayer")],i),i};function xBe(t,e){return t.minScale=t.minScale>0?e.minScale>0?Math.min(t.minScale,e.minScale):t.minScale:e.minScale,t.maxScale=t.maxScale>0?e.maxScale>0?Math.max(t.maxScale,e.maxScale):t.maxScale:e.maxScale,t}function CQ(t,e){return mu.fromJSON({value:t,unit:e})}let ts=class extends dt(ge){constructor(e){super(e),this.cumulative=!1,this.endField=null,this.fullTimeExtent=null,this.hasLiveData=!1,this.interval=null,this.startField=null,this.timeZone=null,this.trackIdField=null,this.useTime=!0,this.stops=null}readFullTimeExtent(e,i){return i.timeExtent&&Array.isArray(i.timeExtent)&&i.timeExtent.length===2?Oi.fromArray(i.timeExtent):null}writeFullTimeExtent(e,i){e?.start!=null&&e.end!=null?i.timeExtent=e.toArray():i.timeExtent=null}readInterval(e,i){return i.timeInterval&&i.timeIntervalUnits?CQ(i.timeInterval,i.timeIntervalUnits):i.defaultTimeInterval&&i.defaultTimeIntervalUnits?CQ(i.defaultTimeInterval,i.defaultTimeIntervalUnits):null}writeInterval(e,i){i.timeInterval=e?.toJSON().value??null,i.timeIntervalUnits=e?.toJSON().unit??null}};u([p({type:Boolean,json:{name:"exportOptions.timeDataCumulative",write:!0}})],ts.prototype,"cumulative",void 0),u([p({type:String,json:{name:"endTimeField",write:{enabled:!0,allowNull:!0}}})],ts.prototype,"endField",void 0),u([p({type:Oi,json:{write:{enabled:!0,allowNull:!0}}})],ts.prototype,"fullTimeExtent",void 0),u([Ae("fullTimeExtent",["timeExtent"])],ts.prototype,"readFullTimeExtent",null),u([ze("fullTimeExtent")],ts.prototype,"writeFullTimeExtent",null),u([p({type:Boolean,json:{write:!0}})],ts.prototype,"hasLiveData",void 0),u([p({type:mu,json:{write:{enabled:!0,allowNull:!0}}})],ts.prototype,"interval",void 0),u([Ae("interval",["timeInterval","timeIntervalUnits","defaultTimeInterval","defaultTimeIntervalUnits"])],ts.prototype,"readInterval",null),u([ze("interval")],ts.prototype,"writeInterval",null),u([p({type:String,json:{name:"startTimeField",write:{enabled:!0,allowNull:!0}}})],ts.prototype,"startField",void 0),u([p(VA("timeReference",!0))],ts.prototype,"timeZone",void 0),u([p({type:String,json:{write:{enabled:!0,allowNull:!0}}})],ts.prototype,"trackIdField",void 0),u([p({type:Boolean,json:{name:"exportOptions.useTime",write:!0}})],ts.prototype,"useTime",void 0),u([p({type:[Date],json:{read:!1}})],ts.prototype,"stops",void 0),ts=u([j("esri.layers.support.TimeInfo")],ts);const SBe={type:Boolean,json:{read:{source:"timeAnimation"},write:{target:"timeAnimation",layerContainerTypes:Ki}}},TBe=t=>{const e=t;let i=class extends e{constructor(){super(...arguments),this.timeExtent=null,this.timeOffset=null,this.useViewTime=!0}readOffset(r,n){const s=n.timeInfo.exportOptions;if(!s)return null;const o=s.timeOffset,a=$B.fromJSON(s.timeOffsetUnits);return o&&a?new mu({value:o,unit:a}):null}set timeInfo(r){Bce(r,this.fieldsIndex),this._set("timeInfo",r)}};return u([p({type:Oi,json:{write:!1}})],i.prototype,"timeExtent",void 0),u([p({type:mu})],i.prototype,"timeOffset",void 0),u([Ae("service","timeOffset",["timeInfo.exportOptions"])],i.prototype,"readOffset",null),u([p({value:null,type:ts,json:{write:!0,origins:{"web-document":{read:!1,write:!1},"portal-item":{read:!1,write:!1}}}})],i.prototype,"timeInfo",null),u([p(SBe)],i.prototype,"useViewTime",void 0),i=u([j("esri.layers.mixins.TemporalLayer")],i),i};let $Be=class extends K2{constructor(e){super(),this.type="track",this.trackInfoProvider=e}get id(){return this.trackInfoProvider.id}get[nk](){return this.trackInfoProvider.trackInfo}},Ql=class extends dt(ge){constructor(e){super(e),this.labelingInfo=null,this.labelsVisible=!0,this.renderer=null,this.visible=!0}};u([p({type:[ur],json:{write:!0}})],Ql.prototype,"labelingInfo",void 0),u([p(g3)],Ql.prototype,"labelsVisible",void 0),u([p({types:fk,json:{write:!0}})],Ql.prototype,"renderer",void 0),u([p({type:Boolean,json:{write:!0}})],Ql.prototype,"visible",void 0),Ql=u([j("esri.layers.support.TrackPartInfo")],Ql);let Qo=class extends dt(ge){constructor(e){super(e),this.enabled=!0,this.fields=[],this.latestObservations=new Ql({renderer:new Mo({symbol:OO.clone()})}),this.maxDisplayDuration=null,this.maxDisplayObservationsPerTrack=0,this.popupEnabled=!0,this.popupTemplate=null,this.previousObservations=new Ql({renderer:new Mo({symbol:OO.clone()})}),this.trackLines=new Ql({renderer:new Mo({symbol:PB.clone()})}),this.timeField="startTimeField"}writeFields(e,i,r){const n=e.filter(s=>s.statisticType!=="avg_angle").map(s=>s.toJSON());Kr(r,n,i)}};u([p({type:Boolean,json:{write:!0}})],Qo.prototype,"enabled",void 0),u([p({type:[ro],json:{write:!0}})],Qo.prototype,"fields",void 0),u([ze("fields")],Qo.prototype,"writeFields",null),u([p({type:Ql,json:{write:!0}})],Qo.prototype,"latestObservations",void 0),u([p({type:mu,json:{write:!0}})],Qo.prototype,"maxDisplayDuration",void 0),u([p({type:Number,json:{write:!0}})],Qo.prototype,"maxDisplayObservationsPerTrack",void 0),u([p(m3)],Qo.prototype,"popupEnabled",void 0),u([p({type:Xv,json:{name:"popupInfo",write:!0}})],Qo.prototype,"popupTemplate",void 0),u([p({type:Ql,json:{write:!0}})],Qo.prototype,"previousObservations",void 0),u([p({type:Ql,json:{write:!0}})],Qo.prototype,"trackLines",void 0),u([p({type:["timeReceived","startTimeField","endTimeField"],json:{read:!0,write:!0}})],Qo.prototype,"timeField",void 0),Qo=u([j("esri.layers.support.TrackInfo")],Qo);const kBe=t=>{const e=t;let i=class extends e{constructor(){super(...arguments),this.trackGraphicOrigin=new $Be(this),this.trackInfo=null}};return u([p({readOnly:!0,clonable:!1})],i.prototype,"trackGraphicOrigin",void 0),u([p({type:Qo})],i.prototype,"trackInfo",void 0),i=u([j("esri.layers.mixins.TrackableLayer")],i),i},MQ=new At({esriFeatureEditToolAutoCompletePolygon:"auto-complete-polygon",esriFeatureEditToolCircle:"circle",esriFeatureEditToolEllipse:"ellipse",esriFeatureEditToolFreehand:"freehand",esriFeatureEditToolLine:"line",esriFeatureEditToolNone:"none",esriFeatureEditToolPoint:"point",esriFeatureEditToolPolygon:"polygon",esriFeatureEditToolRectangle:"rectangle",esriFeatureEditToolArrow:"arrow",esriFeatureEditToolTriangle:"triangle",esriFeatureEditToolLeftArrow:"left-arrow",esriFeatureEditToolRightArrow:"right-arrow",esriFeatureEditToolUpArrow:"up-arrow",esriFeatureEditToolDownArrow:"down-arrow"});let pd=class extends dt(ge){constructor(e){super(e),this.name=null,this.description=null,this.drawingTool=null,this.prototype=null,this.thumbnail=null}};u([p({json:{write:!0}})],pd.prototype,"name",void 0),u([p({json:{write:!0}})],pd.prototype,"description",void 0),u([p({json:{read:MQ.read,write:MQ.write}})],pd.prototype,"drawingTool",void 0),u([p({json:{write:!0}})],pd.prototype,"prototype",void 0),u([p({json:{write:!0}})],pd.prototype,"thumbnail",void 0),pd=u([j("esri.layers.support.FeatureTemplate")],pd);let dd=class extends dt(ge){constructor(e){super(e),this.id=null,this.name=null,this.domains=null,this.templates=null}readDomains(e){const i={};for(const r of Object.keys(e))i[r]=n3(e[r]);return i}writeDomains(e,i){const r={};for(const n of Object.keys(e))e[n]&&(r[n]=e[n]?.toJSON());i.domains=r}};u([p({json:{write:!0}})],dd.prototype,"id",void 0),u([p({json:{write:!0}})],dd.prototype,"name",void 0),u([p({json:{write:!0}})],dd.prototype,"domains",void 0),u([Ae("domains")],dd.prototype,"readDomains",null),u([ze("domains")],dd.prototype,"writeDomains",null),u([p({type:[pd],json:{write:!0}})],dd.prototype,"templates",void 0),dd=u([j("esri.layers.support.FeatureType")],dd);let vm=class extends dt(ge){constructor(e){super(e),this.alias=null,this.name=void 0,this.fieldFormat=null}};u([p({type:String,json:{write:!0}})],vm.prototype,"alias",void 0),u([p({type:String,nonNullable:!0,json:{write:{isRequired:!0}}})],vm.prototype,"name",void 0),u([p({types:lue,json:{write:!0}})],vm.prototype,"fieldFormat",void 0),vm=u([j("esri.layers.support.FieldConfiguration")],vm);function EBe(t){const{popupTemplate:e,fieldsIndex:i}=t,r=e?.fieldInfos;if(!r?.length||!i)return;const n=[];for(const s of r){const{fieldName:o,label:a}=s,l=i.get(o);if(!l)continue;const h=a&&a!==l.alias?a:null,f=NDe(s,l);(h||f)&&n.push(new vm({name:l.name,alias:h,fieldFormat:f}))}return n.length?n:null}function IBe(t){const{fields:e}=t;if(!e?.length)return;const i=[];for(const r of e){const n=Jv(r)?BT(r):null;n&&i.push(new vm({name:r.name,fieldFormat:n}))}return i.length?i:null}function CBe(t,e){const{popupTemplate:i,fieldsIndex:r}=t;if(!i||!r)return;const n=MBe(t,e,i.fieldInfos);if(!n)return;const s=i.clone();return s.fieldInfos=n,s}function MBe(t,e,i){e??=[],i=ne(i)??[];let r=!1;const n=new Map;for(const s of e){const o=t.fieldsIndex.get(s.name);o&&n.set(o.name,s)}for(const s of i){const o=t.fieldsIndex.get(s.fieldName);if(!o)continue;const a=n.get(o.name);s.label=a?.alias||o.alias,s.format=Jv(o)&&a?.fieldFormat?JU(a.fieldFormat,o):null,r=!0,n.delete(o.name)}for(const s of n.values()){const o=ABe(t,s);o&&(i.push(o),r=!0)}return r?i:null}function ABe(t,e){const{name:i,alias:r,fieldFormat:n}=e,s=t.fieldsIndex.get(i);if(!s||!r&&!n)return;const o=r||s.alias,a=Jv(s)&&n?JU(n,s):null;return new t3({fieldName:s.name,label:o,format:a,visible:!1,isEditable:Wce(s,t)})}function OBe(){return{fields:{type:[rs],value:null,set:function(t){if(t&&he("big-integer-warning-enabled")){const e=t.filter(i=>i.type==="big-integer"||i.type==="oid"&&(i.length||0)>=8);if(e.length){const i=e.map(r=>`'${r.name}'`).join(", ");Ee.getLogger(this).warn("#fields",`Layer (title: '${this.title??"no title"}', id: '${this.id??"no id"}') references big-integer field(s): ${i}, support for which is experimental. Only integers less than ${Number.MAX_SAFE_INTEGER} (Number.MAX_SAFE_INTEGER) are supported.`)}}this._set("fields",t)}},fieldsIndex:{readOnly:!0,get(){return LO.fromLayer(this)}},outFields:{type:[String],json:{read:!1},set:function(t){this._userOutFields=t,this.notifyChange("outFields")},get:function(){const t=this._userOutFields;if(!t?.length)return null;if(t.includes("*"))return["*"];if(!this.fields)return t;for(const e of t)this.fieldsIndex?.has(e)||Ee.getLogger("esri.layers.support.fieldProperties").error("field-attributes-layer:invalid-field",`Invalid field ${e} found in outFields`,{layer:this,outFields:t});return QD(this.fieldsIndex,t)}}}}const Yz=()=>Ee.getLogger("esri.layers.support.labelingInfo"),PBe=/\[([^[\]]+)\]/gi;function AQ(t,e,i){return t?t.map(r=>{const n=new ur;if(n.read(r,i),n.labelExpression){const s=e.fields||e.layerDefinition?.fields||this.fields;n.labelExpression=n.labelExpression.replaceAll(PBe,(o,a)=>`[${DBe(a,s)}]`)}return n}):null}function DBe(t,e){if(!e)return t;const i=t.toLowerCase();for(let r=0;r<e.length;r++){const n=e[r].name;if(n.toLowerCase()===i)return n}return t}const OQ=["above-right","above-center","above-left","center-center","center-left","center-right","below-center","below-left","below-right"],RBe={esriGeometryPoint:OQ,esriGeometryMultiPatch:["always-horizontal"],esriGeometryPolygon:["always-horizontal"],esriGeometryPolyline:["center-along","above-along","below-along"],esriGeometryMultipoint:OQ,esriGeometryEnvelope:null};function jpt(t,e){const i=[];for(const r of t){const n=r.labelPlacement,s=RBe[e];if(!r.symbol)return Yz().warn("No ILabelClass symbol specified."),[];if(!s)return Yz().error(new ee("labeling:unsupported-geometry-type",`Unable to create labels for layer, geometry type '${e}' is not supported`)),[];if(s.includes(n))i.push(r);else{const o=s[0];n&&Yz().warn(`Found invalid label placement type ${n} for ${e}. Defaulting to ${o}`);const a=r.clone();a.labelPlacement=o,i.push(a)}}return i}const LBe="relationships/",zBe="expression/",NBe=/<br\s*\/*>/gi;let bo=class extends at{constructor(t){super(t),this._featureUtils=null,this.effectivePopupTemplate=null}get _arcadeTask(){return this.expressionsUsedInTitle.length>0?this._get("_arcadeTask")||ik(()=>Mv()):null}get featureUtilsPromise(){return this._get("featureUtilsPromise")??ke(()=>import("./featureUtils-DaQU3_3g.js"),__vite__mapDeps([163,9])).then(t=>this._featureUtils=t)}get calculatedExpressions(){const t=new We;if(!this.expressionsUsedInTitle.length)return t;if(!this._arcadeTask?.value){for(const e of this.expressionsUsedInTitle??[])t.push({name:e.name,invalid:!0});return t}for(const e of this.expressionsUsedInTitle)try{const i=this._arcadeTask.value.arcade.parseScript(e.expression,["$layer","$map","$datastore"]);if(i.isAsync){t.push({name:e.name,invalid:!0});break}t.push({name:e.name,syntax:i,invalid:!1,func:this._arcadeTask.value.arcade.compileScript(i,{vars:{$feature:"any"}})})}catch{t.push({name:e.name,invalid:!0});break}return t}get expressionsUsedInTitle(){let t=this.effectivePopupTemplate?.title??"";return typeof t!="string"?[]:(t=t.toLowerCase(),this.effectivePopupTemplate?.expressionInfos?.filter(e=>t.includes(`{expression/${e.name.toLowerCase()}}`))??[])}get fieldInfoMap(){return this._featureUtils?this._createFieldInfoMap(this._featureUtils.getAllFieldInfos(this.effectivePopupTemplate)):null}get hasBadExpressions(){return this.calculatedExpressions.some(t=>t.invalid===!0)}get requiredFields(){const t=new Set;if(this._arcadeTask?.value&&!this.hasBadExpressions)for(const i of this.calculatedExpressions?.toArray()??[])try{const r=this._arcadeTask.value.arcade.extractFieldLiterals(i.syntax);for(const n of r){const s=n.split("."),o=this.fieldsIndex.get(s.at(-1)??"");o&&t.add(o.name)}}catch{}const e=this._extractFieldNames(this.workingTitle);for(const i of e){const r=this.fieldsIndex.get(i);r&&t.add(r.name)}return this.objectIdField!=null&&t.add(this.objectIdField),t}get titleFromDisplayField(){let t="";return this.displayField&&(t=this.fieldsIndex.get(this.displayField)?.name??""),t||(t=this.fieldsIndex.get(this.objectIdField)?.name??""),t?`{${t}}`:""}get workingTitle(){const t=this.effectivePopupTemplate?this.effectivePopupTemplate.title:"";return t===""||t==null||this.hasBadExpressions||typeof t!="string"?this.titleFromDisplayField:t}async getTitle(t,e,i){const r=e.getObjectId()??e.attributes[t.objectIdField];return(await this.getTitles(t,[e],i)).get(r)??""}async getTitles(t,e,i){const r=new Map,n=i?.timeZone??"system";try{const[{substituteFieldsInLinksAndAttributes:s}]=await Promise.all([this.featureUtilsPromise,this._arcadeTask?.promise]);i?.fetchMissingFields&&(e=await this._checkAndReQueryGraphics(t,e));const{fieldInfoMap:o,workingTitle:a}=this,l=a&&o;e.forEach(h=>{const f=h.getObjectId()??h.attributes[t.objectIdField];let g=l?s({attributes:h.attributes,expressionAttributes:null,fieldInfoMap:o,globalAttributes:this._createFormattedAttributes(t,h,n).global,layer:t,text:a}):"";i?.removeHTML&&(g=ASe.sanitize(g).replaceAll(NBe," ")),r.set(f,g)})}catch{}return r}async _checkAndReQueryGraphics(t,e){const i=e.map(r=>r.getObjectId()??r.attributes[t.objectIdField]).filter(vu);if(i.length!==e.length)return e;if(e.some(r=>!PDe(r,this.requiredFields))){const r=t.createQuery();r.where="1=1",r.outFields=[...this.requiredFields],r.objectIds=i;const n=await t.queryFeatures(r);if(n?.features.length===e.length)return n.features}return e}_createFieldInfoMap(t){const e=new Map;if(!t)return e;for(const i of t){if(!i.fieldName)continue;const r=this.fieldsIndex.get(i.fieldName),n=r?.name??i.fieldName;i.fieldName=n,e.set(n.toLowerCase(),i)}return e}_createFormattedAttributes(t,e,i="system"){const r=this.effectivePopupTemplate?.fieldInfos??[],n={};if(!this._featureUtils)return{};if(!this.hasBadExpressions&&this.calculatedExpressions.length>0&&this._arcadeTask?.value){const o=this._arcadeTask.value.Feature.createFromGraphicLikeObject(e.geometry,e.attributes,t,null);for(const a of this.calculatedExpressions)try{n[`expression/${a.name}`]=a.func({vars:{$feature:o}})}catch{}}const s={...e.attributes,...n};return{global:this._featureUtils.formatAttributes({fieldInfos:r,attributes:s,graphic:e,timeZone:i,layer:t,fieldInfoMap:this.fieldInfoMap}),content:[]}}_extractFieldNames(t){return YU(t).filter(e=>!(e.startsWith(LBe)||e.startsWith(zBe)))}};u([p({readOnly:!0})],bo.prototype,"_arcadeTask",null),u([p()],bo.prototype,"_featureUtils",void 0),u([p({readOnly:!0})],bo.prototype,"featureUtilsPromise",null),u([p({readOnly:!0})],bo.prototype,"calculatedExpressions",null),u([p()],bo.prototype,"displayField",void 0),u([p()],bo.prototype,"effectivePopupTemplate",void 0),u([p()],bo.prototype,"expressionsUsedInTitle",null),u([p()],bo.prototype,"fieldsIndex",void 0),u([p()],bo.prototype,"fieldInfoMap",null),u([p()],bo.prototype,"fields",void 0),u([p()],bo.prototype,"objectIdField",void 0),u([p()],bo.prototype,"requiredFields",null),bo=u([j("esri.layers.support.TitleCreator")],bo);const dw=[];function jBe(t,e){if(DA(t.url??""))return!0;const{wkid:i}=e;for(const r of dw){if((t.version??0)>=r[0])return!0;if(typeof r[1]=="function"&&(r[1]=r[1]()),r[1].has(i))return!1}return!0}dw.push([10.91,()=>{const t=new Set([9709,9716,9741,9761,9766]);for(let e=9712;e<=9713;e++)t.add(e);for(let e=9748;e<=9749;e++)t.add(e);for(let e=20904;e<=20932;e++)t.add(e);for(let e=21004;e<=21032;e++)t.add(e);for(let e=21207;e<=21264;e++)t.add(e);for(let e=21307;e<=21364;e++)t.add(e);for(let e=23301;e<=23333;e++)t.add(e);for(let e=102759;e<=102760;e++)t.add(e);for(let e=102934;e<=102955;e++)t.add(e);return t}]),dw.push([10.9,()=>{const t=new Set([9300,9354,9364,9367,9373,9377,9387,9456,9473,9498,9678,9680,29874,103599,103872,104028]);for(let e=9356;e<=9360;e++)t.add(e);for(let e=9404;e<=9407;e++)t.add(e);for(let e=9476;e<=9482;e++)t.add(e);for(let e=9487;e<=9494;e++)t.add(e);for(let e=9697;e<=9699;e++)t.add(e);return t}]),dw.push([10.81,()=>{const t=new Set([9265,9333,103598,103699]);for(let e=9248;e<=9254;e++)t.add(e);for(let e=9271;e<=9273;e++)t.add(e);for(let e=9284;e<=9285;e++)t.add(e);for(let e=21453;e<=21463;e++)t.add(e);return t}]),dw.push([10.8,()=>{const t=new Set([8088,8395,8428,8433,8531,8687,8692,8694,8699,8900,9003,9006,9009,9012,9017,9191]);for(let e=8035;e<=8036;e++)t.add(e);for(let e=8455;e<=8456;e++)t.add(e);for(let e=8518;e<=8529;e++)t.add(e);for(let e=8533;e<=8536;e++)t.add(e);for(let e=8538;e<=8540;e++)t.add(e);for(let e=8677;e<=8679;e++)t.add(e);for(let e=8902;e<=8903;e++)t.add(e);for(let e=8907;e<=8910;e++)t.add(e);for(let e=8949;e<=8951;e++)t.add(e);for(let e=8972;e<=8987;e++)t.add(e);for(let e=9039;e<=9040;e++)t.add(e);for(let e=9068;e<=9069;e++)t.add(e);for(let e=9140;e<=9141;e++)t.add(e);for(let e=9148;e<=9150;e++)t.add(e);for(let e=9153;e<=9159;e++)t.add(e);for(let e=9205;e<=9218;e++)t.add(e);for(let e=9221;e<=9222;e++)t.add(e);for(let e=54098;e<=54101;e++)t.add(e);return t}]),dw.push([10.71,()=>{const t=new Set([6316]);for(let e=8351;e<=8353;e++)t.add(e);for(let e=9294;e<=9297;e++)t.add(e);for(let e=22619;e<=22621;e++)t.add(e);for(let e=103586;e<=103594;e++)t.add(e);return t}]);async function FBe(t,e,i){const r=t&&t.getAtOrigin&&t.getAtOrigin("renderer",e.origin);if(r&&r.type==="unique-value"&&r.styleOrigin){const n=await qD(r.populateFromStyle());if(nr(i),n.ok===!1){const s=n.error;e?.messages&&e.messages.push(new yl("renderer:style-reference",`Failed to create unique value renderer from style reference: ${s.message}`,{error:s,context:e})),t.clear("renderer",e?.origin)}}}function VBe({displayField:t,editFieldsInfo:e,fields:i,objectIdField:r,title:n},s){if(!i)return null;const o=qBe({editFieldsInfo:e,fields:i,objectIdField:r},s);if(!o.length)return null;const a=YBe({titleBase:n,fields:i,displayField:t}),l=WBe();return new Xv({title:a,content:l,fieldInfos:o})}const UBe=(t,e)=>e.visibleFieldNames?e.visibleFieldNames.has(t.name):hDe(t,e);function BBe({fields:t,ignoreFieldTypes:e,sortDisabled:i}){const r=t;return e&&(t=t.filter(n=>!e.includes(n.type))),t===r&&(t=t.slice()),i!==!0&&t.sort(HBe),t}function HBe(t,e){return t.type==="oid"?-1:e.type==="oid"?1:PQ(t)?-1:PQ(e)?1:(t.alias||t.name).toLocaleLowerCase().localeCompare((e.alias||e.name).toLocaleLowerCase())}function qBe(t,e){const i=e?.visibleFieldNames;return BBe({fields:t.fields??[],ignoreFieldTypes:e?.ignoreFieldTypes||ZBe,sortDisabled:e?.sortDisabled}).map(r=>new t3({fieldName:r.name,isEditable:Wce(r,t),label:r.alias,format:GBe(r),visible:UBe(r,{...t,visibleFieldNames:i})}))}function GBe(t){switch(t.type){case"small-integer":case"integer":return new Ip({digitSeparator:!0,places:0});case"single":case"double":return new Ip({digitSeparator:!0,places:2});case"string":return RDe(t.name)?new Ip({digitSeparator:!0,places:0}):void 0;default:return}}function WBe(){return[new s1,new n1]}function YBe(t){const e=iDe(t),{titleBase:i}=t;return e?`${i}: {${e.trim()}}`:i??""}function PQ(t){return(t.name&&t.name.toLowerCase())==="name"?!0:t.alias?.toLowerCase()==="name"}const ZBe=["geometry","blob","raster","guid","xml"],Qn="FeatureLayer";function qI(t,e){return new ee("layer:unsupported",`Layer (${t.title}, ${t.id}) of type '${t.declaredClass}' ${e}`,{layer:t})}function DQ(t){return t&&t instanceof We}const Zz=OBe();function Jz(t,e,i){const r=!!i?.writeLayerSchema;return{enabled:r,ignoreOrigin:r}}let Qe=class extends o9e(oBe(F6e(mBe(N6e(R6e(k6e(hBe(TBe(kBe(_Be(wBe(t6e(lBe(pBe(d3(E6e(e6e(dt(wr))))))))))))))))))){constructor(...t){super(...t),this.attributeTableTemplate=null,this.charts=null,this.copyright=null,this.displayField=null,this.dynamicDataSource=null,this.fields=null,this.fieldsIndex=null,this.formTemplate=null,this.fullExtent=null,this.geometryType=null,this.graphicOrigin=new Z4e(this),this.hasM=void 0,this.hasZ=void 0,this.infoFor3D=null,this.isTable=!1,this.labelsVisible=!0,this.labelingInfo=null,this.legendEnabled=!0,this.objectIdField=null,this.operationalLayerType="ArcGISFeatureLayer",this.outFields=null,this.path=null,this.popupEnabled=!0,this.popupTemplate=null,this.resourceInfo=null,this.screenSizePerspectiveEnabled=!0,this.spatialReference=Ke.WGS84,this.subtypeCode=null,this.supportedSourceTypes=new Set(["Feature Layer","Oriented Imagery Layer","Table","Catalog Layer"]),this.templates=null,this.timeInfo=null,this.title=null,this.sublayerTitleMode="item-title",this.type="feature",this.typeIdField=null,this.types=null,this.visible=!0,this._debouncedSaveOperations=cD(async(e,i,r)=>{const{save:n,saveAs:s}=await ke(()=>import("./featureLayerUtils-CzvasJax.js"),__vite__mapDeps([306,300,307,304,175]));switch(e){case 0:return n(this,i);case 1:return s(this,r,i)}})}destroy(){this.source?.destroy()}normalizeCtorArgs(t,e){return typeof t=="string"?{url:t,...e}:t}load(t){const e=t!=null?t.signal:null;if(this.portalItem?.loaded&&this.source)return this.addResolvingPromise(this.createGraphicsSource(e).then(r=>this.initLayerProperties(r))),Promise.resolve(this);const i=this.loadFromPortal({supportedTypes:["Feature Service","Feature Collection","Scene Service"]},t).catch(md).then(async()=>{if(this.url&&this.layerId==null&&/FeatureServer|MapServer\/*$/i.test(this.url)){const r=await this._fetchFirstValidLayerId(e);r!=null&&(this.layerId=r)}if(!this.url&&!this._hasMemorySource())throw new ee("feature-layer:missing-url-or-source","Feature layer must be created with either a url or a source");return this.initLayerProperties(await this.createGraphicsSource(e))}).then(()=>CVe(this,"load",t));return this.addResolvingPromise(i),Promise.resolve(this)}get _titleCreator(){const t=this._get("_titleCreator");return pr(t),new bo({fieldsIndex:this.fieldsIndex,objectIdField:this.objectIdField,fields:this.fields,displayField:this.displayField,effectivePopupTemplate:this.popupTemplate??this.defaultPopupTemplate})}readCapabilities(t,e){return e=e.layerDefinition||e,rfe(e,this.url)}get createQueryVersion(){return this.commitProperty("definitionExpression"),this.commitProperty("dynamicDataSource"),this.commitProperty("timeExtent"),this.commitProperty("timeOffset"),this.commitProperty("geometryType"),this.commitProperty("gdbVersion"),this.commitProperty("historicMoment"),this.commitProperty("returnZ"),this.commitProperty("capabilities"),this.commitProperty("returnM"),(this._get("createQueryVersion")??0)+1}get editingEnabled(){return!(this.loaded&&!this.capabilities?.operations.supportsEditing)&&(this._isOverridden("editingEnabled")?this._get("editingEnabled"):this._hasMemorySource()||this.userHasEditingPrivileges)}set editingEnabled(t){this._overrideIfSome("editingEnabled",t)}readEditingEnabled(t,e){return this._readEditingEnabled(e,!1)}readEditingEnabledFromWebMap(t,e,i){return this._readEditingEnabled(e,!0,i)}writeEditingEnabled(t,e){this._writeEditingEnabled(t,e,!1)}writeEditingEnabledToWebMap(t,e,i,r){this._writeEditingEnabled(t,e,!0,r)}get effectiveEditingEnabled(){return OVe(this)}get featureTitleFields(){return[...this._titleCreator.requiredFields]}set fieldConfigurations(t){if(this._hasMemorySource()||(this._override("fieldConfigurations",t),!this.loaded))return;const e=CBe(this,t);e&&this._set("popupTemplate",e)}get fieldConfigurations(){if(!this._hasMemorySource())return this._isOverridden("fieldConfigurations")?this._get("fieldConfigurations"):EBe(this)||null}readIsTable(t,e){return(e=e?.layerDefinition??e).type==="Table"||!e.geometryType}writeIsTable(t,e,i,r){r?.writeLayerSchema&&Kr(i,t?"Table":"Feature Layer",e)}readGlobalIdField(t,e){return Gpe(e.layerDefinition||e)}readObjectIdField(t,e){return Wpe(e.layerDefinition||e)}writePopupTemplate(t,e,i,r){t&&(e[i]=t.toJSON({...r,writeFieldFormat:!r?.writeLayerSchema}))}get defaultPopupTemplate(){return this.createPopupTemplate()}set renderer(t){fJ(t,this.fieldsIndex),this._set("renderer",t)}readRenderer(t,e,i){e=e.layerDefinition||e;const r=e.drawingInfo?.renderer;if(r){const n=i$(r,e,i)??void 0;return n||Ee.getLogger(this).error("Failed to create renderer",{rendererDefinition:e.drawingInfo.renderer,layer:this,context:i}),n}return NB(e,i)}set source(t){const e=this._get("source");e!==t&&(DQ(e)&&this._resetMemorySource(e),DQ(t)&&this._initMemorySource(t),this._set("source",t))}castSource(t){return t?Array.isArray(t)||t instanceof We?new Qh({layer:this,items:t}):t:null}readSource(t,e){const i=Pn.fromJSON(e.featureSet);return new Qh({layer:this,items:i?.features??[]})}readTemplates(t,e){const i=e.editFieldsInfo,r=i?.creatorField,n=i?.editorField;return t=t?.map(s=>pd.fromJSON(s)),this._fixTemplates(t,r),this._fixTemplates(t,n),t}readTitle(t,e){const i=e.layerDefinition?.name??e.name,r=e.title||e.layerDefinition?.title;if(i){const n=this.portalItem?.title;if(this.sublayerTitleMode==="item-title")return this.url?Awe(this.url,i):i;let s=i;if(!s&&this.url){const o=Ld(this.url);o!=null&&(s=o.title)}return s?(this.sublayerTitleMode==="item-title-and-service-name"&&n&&n!==s&&(s=n+" - "+s),k9(s)):void 0}if(this.sublayerTitleMode==="item-title"&&r)return r}readTitleFromWebMap(t,e){return e.title||e.layerDefinition?.name}readTypeIdField(t,e){let i=(e=e.layerDefinition||e).typeIdField;if(i&&e.fields){i=i.toLowerCase();const r=e.fields.find(n=>n.name.toLowerCase()===i);r&&(i=r.name)}return i}readTypes(t,e){t=(e=e.layerDefinition||e).types;const i=e.editFieldsInfo,r=i?.creatorField,n=i?.editorField;return t?.map(s=>(s=dd.fromJSON(s),this._fixTemplates(s.templates,r),this._fixTemplates(s.templates,n),s))}readVisible(t,e){return e.layerDefinition?.defaultVisibility!=null?!!e.layerDefinition.defaultVisibility:e.visibility!=null?!!e.visibility:void 0}async addAttachment(t,e){const i=await uVe(this,t,e,Qn);return this.lastEditsEventDate=new Date,i}async updateAttachment(t,e,i){const r=await dVe(this,t,e,i,Qn);return this.lastEditsEventDate=new Date,r}async applyEdits(t,e){return hVe(this,t,e)}async uploadAssets(t,e){return pVe(this,t,e)}createFieldConfigurations(){return IBe(this)}createPopupTemplate(t){return VBe(this,t)}async createGraphicsSource(t){if(this._hasMemorySource()&&this.source)return this.source.load({signal:t});const{default:e}=await Die(ke(()=>import("./FeatureLayerSource-Db8Ny7qq.js"),__vite__mapDeps([308,48,53,309,310,311,99,100,312,313,35,30,314,315,60,58,59,4,18,21,166,20])),t);return new e({layer:this,supportedSourceTypes:this.supportedSourceTypes}).load({signal:t})}createQuery(){const t=SVe(this);t.dynamicDataSource=this.dynamicDataSource;const e=this.subtypeCode!=null?`${this.subtypeField} = ${this.subtypeCode}`:null,i=oM(this.definitionExpression,e);return t.where=i||"1=1",t}async deleteAttachments(t,e){const i=await fVe(this,t,e,Qn);return this.lastEditsEventDate=new Date,i}async fetchRecomputedExtents(t){return mVe(this,t,Qn)}async getFeatureTitle(t,e){return this._titleCreator.getTitle(this,t,e)}async getFeatureTitles(t,e){return this._titleCreator.getTitles(this,t,e)}getFeatureType(t){return Jpe(this.types,this.typeIdField,t)}getFieldAlias(t){const e=this.getField(t);if(e)return this.getFieldConfiguration(e.name)?.alias||e.alias}getFieldConfiguration(t){return t=t.toLowerCase(),this.fieldConfigurations?.find(e=>e.name.toLowerCase()===t)}getFieldDomain(t,e){return $Ve(this,t,e,this.getField(t)?.domain??null)}async queryAttachments(t,e){return gVe(this,t,e,Qn)}async queryFeatures(t,e){const i=await this.load(),r=await i.source.queryFeatures(ot.from(t)??i.createQuery(),e),n=this.graphicOrigin;if(r?.features)for(const s of r.features)s.layer=s.sourceLayer=i,s.origin=n;return r}async queryObjectIds(t,e){return await yVe(this,t,e,Qn)}async queryFeatureCount(t,e){return vVe(this,t,e,Qn)}async queryExtent(t,e){return bVe(this,t,e,Qn)}async queryRelatedFeatures(t,e){return wVe(this,t,e,Qn)}async queryRelatedFeaturesCount(t,e){return _Ve(this,t,e,Qn)}async queryPivot(t,e){const{source:i,capabilities:r}=await this.load();if(!i.queryPivot||!r?.operations?.supportsQueryPivot)throw new ee(Qn,"Layer source does not support queryPivot capability");const n=await ke(()=>import("./PivotQuery-DFsXF7re.js").then(o=>o.P),[]),s=await i.queryPivot(n.default.from(t),e);if(s?.features)for(const o of s.features)o.layer=o.sourceLayer=this;return s}async queryTopFeatures(t,e){const{source:i,capabilities:r}=await this.load();if(!i.queryTopFeatures||!r?.query?.supportsTopFeaturesQuery)throw new ee(Qn,"Layer source does not support queryTopFeatures capability");const n=await ke(()=>import("./TopFeaturesQuery-DW8_M2Ms.js"),[]),s=await i.queryTopFeatures(n.default.from(t),e);if(s?.features)for(const o of s.features)o.layer=o.sourceLayer=this;return s}async queryAttributeBins(t,e){const{source:i,capabilities:r}=await this.load();if(!i.queryAttributeBins)throw new ee(Qn,"Layer source does not support queryAttributeBins capability");LVe(t,r,Qn);const n=await ke(()=>import("./AttributeBinsQuery-L18_yIfE.js"),__vite__mapDeps([239,25,32])),s=await i.queryAttributeBins(n.default.from(t),e);if(s.features)for(const o of s.features)o.layer=o.sourceLayer=this;return s}async queryTopObjectIds(t,e){const{source:i,capabilities:r}=await this.load();if(!i.queryTopObjectIds||!r?.query.supportsTopFeaturesQuery)throw new ee(Qn,"Layer source does not support queryTopObjectIds capability");const n=await ke(()=>import("./TopFeaturesQuery-DW8_M2Ms.js"),[]);return(await i.queryTopObjectIds(n.default.from(t),e)).filter(zPe)}async queryTopFeaturesExtent(t,e){const{source:i,capabilities:r}=await this.load();if(!i.queryTopExtents||!r?.query?.supportsTopFeaturesQuery)throw new ee(Qn,"Layer source does not support queryTopExtents capability");const n=await ke(()=>import("./TopFeaturesQuery-DW8_M2Ms.js"),[]);return i.queryTopExtents(n.default.from(t),e)}async queryTopFeatureCount(t,e){const{source:i,capabilities:r}=await this.load();if(!i.queryTopCount||!r?.query?.supportsTopFeaturesQuery)throw new ee(Qn,"Layer source does not support queryFeatureCount capability");const n=await ke(()=>import("./TopFeaturesQuery-DW8_M2Ms.js"),[]);return i.queryTopCount(n.default.from(t),e)}read(t,e){const i=t.featureCollection;if((i||t.type==="Feature Collection")&&(this.resourceInfo=t),i){const{layers:r,showLegend:n}=i;r?.length===1&&(super.read(r[0],e),n!=null&&super.read({showLegend:n},e))}super.read(t,e),e&&e.origin==="service"&&(this.revert(["objectIdField","fields","timeInfo","dateFieldsTimeZone"],"service"),this.spatialReference||this.revert(["spatialReference"],"service"))}write(t,e){e={...e,origin:e?.origin??void 0,writeLayerSchema:e?.writeLayerSchema??this._hasMemorySource()};const{origin:i,layerContainerType:r,messages:n}=e;if(this.dynamicDataSource)return n?.push(qI(this,"using a dynamic data source cannot be written to web scenes, web maps and feature service items")),null;if(this.isTable){if((i==="web-map"||i==="web-scene")&&r!=="tables")return n?.push(qI(this,`a table source can only be written to tables, not ${r}`)),null;if(this._hasMemorySource())return n?.push(qI(this,"using an in-memory table source cannot be written to web scenes and web maps")),null}else if(this.loaded&&(i==="web-map"||i==="web-scene")&&r==="tables")return n?.push(qI(this,"using a non-table source cannot be written to tables in web maps or web scenes")),null;return super.write(t,e)}clone(){if(this._hasMemorySource())throw new ee(Qn,`FeatureLayer (title: ${this.title}, id: ${this.id}) created using in-memory source cannot be cloned`);return super.clone()}serviceSupportsSpatialReference(t){return!!this.loaded&&(this.source?.type==="memory"||jBe(this,t))}async save(t){return this._debouncedSaveOperations(0,t)}async saveAs(t,e){return this._debouncedSaveOperations(1,e,t)}_readEditingEnabled(t,e,i){let r=t.layerDefinition?.capabilities;return r?this._hasEditingCapability(r):(r=t.capabilities,e&&i?.origin==="web-map"&&!this._hasMemorySource()&&r?this._hasEditingCapability(r):void 0)}_hasEditingCapability(t){return t.toLowerCase().split(",").map(e=>e.trim()).includes("editing")}_writeEditingEnabled(t,e,i,r){if(!t){const n=this.capabilities?.operations?.supportsSync?"Query,Sync":"Query";Kr("layerDefinition.capabilities",n,e),i&&!r?.writeLayerSchema&&(e.capabilities=n)}}_fetchFirstValidLayerId(t){return Vt(this.url??"",{query:{f:"json",...this.customParameters,token:this.apiKey},responseType:"json",signal:t}).then(e=>{const i=e.data;if(i)return this.applyPreferredHost(i),this.findFirstValidLayerId(i)})}async initLayerProperties(t){return this._set("source",t),t.sourceJSON&&(this.sourceJSON=t.sourceJSON,this.read(t.sourceJSON,{origin:"service",portalItem:this.portalItem,portal:this.portalItem?.portal,url:this.parsedUrl})),this._verifySource(),this._verifyFields(),fJ(this.renderer,this.fieldsIndex),Bce(this.timeInfo,this.fieldsIndex),this._hasMemorySource()&&this.geometryType==="mesh"&&(this.capabilities.query.supportsReturnMesh=!0),FBe(this,{origin:"service"})}async hasDataChanged(){return xVe(this)}async fetchPublishingStatus(){const t=this.source;return t?.fetchPublishingStatus?t.fetchPublishingStatus():"unavailable"}_verifyFields(){const t=this.parsedUrl?.path??"undefined";this.objectIdField||console.log("FeatureLayer: 'objectIdField' property is not defined (url: "+t+")"),this.isTable||this._hasMemorySource()||t.search(/\/FeatureServer\//i)!==-1||this.fields?.some(e=>e.type==="geometry")||console.log("FeatureLayer: unable to find field of type 'geometry' in the layer 'fields' list. If you are using a map service layer, features will not have geometry (url: "+t+")")}_fixTemplates(t,e){t&&t.forEach(i=>{const r=i.prototype?.attributes;r&&e&&delete r[e]})}_verifySource(){if(this._hasMemorySource()){if(this.url)throw new ee("feature-layer:mixed-source-and-url","FeatureLayer cannot be created with both an in-memory source and a url")}else if(!this.url)throw new ee("feature-layer:source-or-url-required","FeatureLayer requires either a url, a valid portal item or a source")}_initMemorySource(t){t.forEach(e=>{e.layer=this,e.sourceLayer=this}),this.addHandles([t.on("after-add",e=>{e.item.layer=this,e.item.sourceLayer=this}),t.on("after-remove",e=>{e.item.layer=null,e.item.sourceLayer=null})],"fl-source")}_resetMemorySource(t){t.forEach(e=>{e.layer=null,e.sourceLayer=null}),this.removeHandles("fl-source")}_hasMemorySource(){return!(this.url||!this.source)}findFirstValidLayerId(t){return Array.isArray(t.layers)&&t.layers.length>0?t.layers[0].id:Array.isArray(t.tables)&&t.tables.length>0?t.tables[0].id:void 0}};u([p({clonable:!1,readOnly:!0})],Qe.prototype,"_titleCreator",null),u([p(i8e)],Qe.prototype,"attributeTableTemplate",void 0),u([Ae("service","capabilities")],Qe.prototype,"readCapabilities",null),u([p({json:{origins:{"web-scene":{write:!1}},write:!0}})],Qe.prototype,"charts",void 0),u([p({readOnly:!0})],Qe.prototype,"createQueryVersion",null),u([p({json:{read:{source:"layerDefinition.copyrightText"}}})],Qe.prototype,"copyright",void 0),u([p({json:{read:{source:"layerDefinition.displayField"}}})],Qe.prototype,"displayField",void 0),u([p({types:km,readOnly:!0})],Qe.prototype,"defaultSymbol",void 0),u([p({type:tu})],Qe.prototype,"dynamicDataSource",void 0),u([p({type:Boolean})],Qe.prototype,"editingEnabled",null),u([Ae(["portal-item","web-scene"],"editingEnabled",["layerDefinition.capabilities"])],Qe.prototype,"readEditingEnabled",null),u([Ae("web-map","editingEnabled",["capabilities","layerDefinition.capabilities"])],Qe.prototype,"readEditingEnabledFromWebMap",null),u([ze(["portal-item","web-scene"],"editingEnabled",{"layerDefinition.capabilities":{type:String}})],Qe.prototype,"writeEditingEnabled",null),u([ze("web-map","editingEnabled",{capabilities:{type:String},"layerDefinition.capabilities":{type:String}})],Qe.prototype,"writeEditingEnabledToWebMap",null),u([p({readOnly:!0})],Qe.prototype,"effectiveEditingEnabled",null),u([p({clonable:!1,readOnly:!0})],Qe.prototype,"featureTitleFields",null),u([p({type:[vm],json:{name:"layerDefinition.fieldConfigurations",write:{overridePolicy(t,e,i){return{enabled:!i?.writeLayerSchema,ignoreOrigin:this.originIdOf(e)===1}}}}})],Qe.prototype,"fieldConfigurations",null),u([p({...Zz.fields,json:{read:{source:"layerDefinition.fields"},origins:{service:{name:"fields"},"web-map":{write:{target:"layerDefinition.fields",overridePolicy:Jz}}}}})],Qe.prototype,"fields",void 0),u([p(Zz.fieldsIndex)],Qe.prototype,"fieldsIndex",void 0),u([p({type:Yc,json:{name:"formInfo",write:!0,origins:{"web-scene":{read:!1,write:!1}}}})],Qe.prototype,"formTemplate",void 0),u([p({json:{read:{source:"layerDefinition.extent"}}})],Qe.prototype,"fullExtent",void 0),u([p({json:{origins:{"web-map":{write:{target:"layerDefinition.geometryType",overridePolicy:Jz,writer(t,e,i){const r=t?E8.toJSON(t):null;r&&Kr(i,r,e)}}}},read:{source:"layerDefinition.geometryType",reader:E8.read}}})],Qe.prototype,"geometryType",void 0),u([p({readOnly:!0,clonable:!1})],Qe.prototype,"graphicOrigin",void 0),u([p({json:{read:{source:"layerDefinition.hasM"}}})],Qe.prototype,"hasM",void 0),u([p({json:{read:{source:"layerDefinition.hasZ"}}})],Qe.prototype,"hasZ",void 0),u([p(Q6e)],Qe.prototype,"id",void 0),u([p({readOnly:!0,json:{origins:{service:{read:!0}},read:!1}})],Qe.prototype,"infoFor3D",void 0),u([p({json:{origins:{"web-map":{write:{target:"layerDefinition.type"}}}}})],Qe.prototype,"isTable",void 0),u([Ae("service","isTable",["type","geometryType"]),Ae("isTable",["layerDefinition.type","layerDefinition.geometryType"])],Qe.prototype,"readIsTable",null),u([ze("web-map","isTable")],Qe.prototype,"writeIsTable",null),u([p(g3)],Qe.prototype,"labelsVisible",void 0),u([p({type:[ur],json:{origins:{service:{name:"drawingInfo.labelingInfo",read:AQ,write:!1}},name:"layerDefinition.drawingInfo.labelingInfo",read:AQ,write:{layerContainerTypes:Ki}}})],Qe.prototype,"labelingInfo",void 0),u([p((()=>{const t=ne(K6e);return t.json.origins["portal-item"]={write:{target:"layerDefinition.drawingInfo.transparency",writer(e,i,r){Kr(r,ZD(e),i)}}},t})())],Qe.prototype,"opacity",void 0),u([p(J6e)],Qe.prototype,"legendEnabled",void 0),u([p({type:["show","hide"],json:(()=>{const t=ne(Mpe.json);return t.origins["portal-item"]={read:!1,write:!1},t})()})],Qe.prototype,"listMode",void 0),u([Ae("globalIdField",["layerDefinition.globalIdField","layerDefinition.fields"])],Qe.prototype,"readGlobalIdField",null),u([p({json:{origins:{"web-map":{write:{target:"layerDefinition.objectIdField",overridePolicy:Jz}}}}})],Qe.prototype,"objectIdField",void 0),u([Ae("objectIdField",["layerDefinition.objectIdField","layerDefinition.fields"])],Qe.prototype,"readObjectIdField",null),u([p({type:["ArcGISFeatureLayer"],json:{write:{target:"layerType",ignoreOrigin:!0,layerContainerTypes:Ki}}})],Qe.prototype,"operationalLayerType",void 0),u([p(Zz.outFields)],Qe.prototype,"outFields",void 0),u([p({type:String,json:{origins:{"web-scene":{read:!0,write:!0}},read:!1}})],Qe.prototype,"path",void 0),u([p(m3)],Qe.prototype,"popupEnabled",void 0),u([p({type:Xv,json:{name:"popupInfo",write:!0}})],Qe.prototype,"popupTemplate",void 0),u([ze("popupTemplate")],Qe.prototype,"writePopupTemplate",null),u([p({readOnly:!0})],Qe.prototype,"defaultPopupTemplate",null),u([p({types:fk,json:{origins:{service:{write:{target:"drawingInfo.renderer",enabled:!1}},"web-scene":{types:YUe,name:"layerDefinition.drawingInfo.renderer",write:{layerContainerTypes:Ki,overridePolicy:(t,e,i)=>({ignoreOrigin:i?.writeLayerSchema,layerContainerTypes:Ki})}}},write:{target:"layerDefinition.drawingInfo.renderer",overridePolicy:(t,e,i)=>({ignoreOrigin:i?.writeLayerSchema,layerContainerTypes:Ki})}}})],Qe.prototype,"renderer",null),u([Ae("service","renderer",["drawingInfo.renderer","defaultSymbol"]),Ae("renderer",["layerDefinition.drawingInfo.renderer","layerDefinition.defaultSymbol"])],Qe.prototype,"readRenderer",null),u([p()],Qe.prototype,"resourceInfo",void 0),u([p((()=>{const t=ne(Y6e);return t.json.origins["portal-item"]={read:!1,write:!1},t})())],Qe.prototype,"screenSizePerspectiveEnabled",void 0),u([p({clonable:!1})],Qe.prototype,"source",null),u([bi("source")],Qe.prototype,"castSource",null),u([Ae("portal-item","source",["featureSet"]),Ae("web-map","source",["featureSet"])],Qe.prototype,"readSource",null),u([p({json:{read:{source:"layerDefinition.extent.spatialReference"}}})],Qe.prototype,"spatialReference",void 0),u([p({type:Number})],Qe.prototype,"subtypeCode",void 0),u([p({type:[pd]})],Qe.prototype,"templates",void 0),u([Ae("templates",["editFieldsInfo","creatorField","editorField","templates"])],Qe.prototype,"readTemplates",null),u([p({type:ts})],Qe.prototype,"timeInfo",void 0),u([p()],Qe.prototype,"title",void 0),u([Ae("service","title",["name"]),Ae("portal-item","title",["layerDefinition.title","layerDefinition.name","title"])],Qe.prototype,"readTitle",null),u([Ae("web-map","title",["layerDefinition.name","title"])],Qe.prototype,"readTitleFromWebMap",null),u([p({type:String})],Qe.prototype,"sublayerTitleMode",void 0),u([p({json:{read:!1}})],Qe.prototype,"type",void 0),u([p({type:String})],Qe.prototype,"typeIdField",void 0),u([Ae("service","typeIdField"),Ae("typeIdField",["layerDefinition.typeIdField"])],Qe.prototype,"readTypeIdField",null),u([p({type:[dd]})],Qe.prototype,"types",void 0),u([Ae("service","types",["types"]),Ae("types",["layerDefinition.types"])],Qe.prototype,"readTypes",null),u([p({type:Boolean,json:{origins:{"portal-item":{write:{target:"layerDefinition.defaultVisibility",layerContainerTypes:Ki}}}}})],Qe.prototype,"visible",void 0),u([Ae("portal-item","visible",["visibility","layerDefinition.defaultVisibility"])],Qe.prototype,"readVisible",null),Qe=u([j("esri.layers.FeatureLayer")],Qe);const Fpt=Object.freeze(Object.defineProperty({__proto__:null,get default(){return Qe}},Symbol.toStringTag,{value:"Module"}));let qh=class extends ge{constructor(e){super(e),this.moment=null,this.fullUpdate=!1,this.validateErrorsCreated=!1,this.exceededTransferLimit=null,this.serviceEdits=null,this.discoveredSubnetworks=null}};u([p({type:Date,json:{type:Number,write:{writer:(t,e)=>{e.moment=t?t.getTime():null}}}})],qh.prototype,"moment",void 0),u([p({type:Boolean,json:{write:!0}})],qh.prototype,"fullUpdate",void 0),u([p({type:Boolean,json:{write:!0}})],qh.prototype,"validateErrorsCreated",void 0),u([p({type:Boolean,json:{write:!0}})],qh.prototype,"exceededTransferLimit",void 0),u([p({type:[Object],json:{write:!0}})],qh.prototype,"serviceEdits",void 0),u([p({type:[Object],json:{write:!0}})],qh.prototype,"discoveredSubnetworks",void 0),qh=u([j("esri.rest.networks.support.ValidateNetworkTopologyResult")],qh);const JBe=qh,XBe=En()({Pending:"job-waiting",InProgress:"job-executing",Completed:"job-succeeded"});let Kf=class extends JBe{constructor(e){super(e),this.statusUrl=null,this.status=null,this.submissionTime=null,this.lastUpdatedTime=null,this._timer=void 0}destroy(){clearInterval(this._timer)}async checkJobStatus(e){const i={...e,query:{f:"json"}},{data:r}=await Vt(this.statusUrl,i);return this.read(r),this.editsResolver&&this.editsResolver.resolve({edits:null,addedFeatures:[],updatedFeatures:[],deletedFeatures:[],addedAttachments:[],updatedAttachments:[],deletedAttachments:[],exceededTransferLimit:!0,historicMoment:null}),this}async waitForJobCompletion(e={}){const{interval:i=1e3,statusCallback:r}=e;return new Promise((n,s)=>{this._clearTimer();const o=setInterval(()=>{this._timer||s(Si()),this.checkJobStatus().then(a=>{const{status:l}=a;switch(this.status=l,l){case"job-succeeded":this._clearTimer(),n(this);break;case"job-waiting":case"job-executing":r&&r(this)}},a=>{this._clearTimer(),s(a)})},i);this._timer=o})}_clearTimer(){clearInterval(this._timer),this._timer=void 0}};u([p()],Kf.prototype,"editsResolver",void 0),u([p({type:String,json:{write:!0}})],Kf.prototype,"statusUrl",void 0),u([nt(XBe)],Kf.prototype,"status",void 0),u([p({type:Date,json:{type:Number,write:{writer:(t,e)=>{e.submissionTime=t?t.getTime():null}}}})],Kf.prototype,"submissionTime",void 0),u([p({type:Date,json:{type:Number,write:{writer:(t,e)=>{e.lastUpdatedTime=t?t.getTime():null}}}})],Kf.prototype,"lastUpdatedTime",void 0),Kf=u([j("esri.networks.support.TopologyValidationJobInfo")],Kf);const KBe=Kf;function QBe(t,e,i="from"){const{fromRuleElement:r,viaRuleElement:n,toRuleElement:s}=Ffe(t),o=[];switch(t.ruleType){case 2:case 3:i==="from"&&su(e,r,!1)?o.push(s):i==="to"&&su(e,s,!1)&&o.push(r);break;case 4:case 1:su(e,r,!0)?o.push(s):su(e,s,!0)&&o.push(r);break;case 5:n&&(su(e,n,!0)?(o.push(r),o.push(s)):(su(e,r,!0)||su(e,s,!0))&&o.push(n));break;default:return[]}return o}function dT(t,e,i){const{fromRuleElement:r,viaRuleElement:n,toRuleElement:s}=Ffe(t);switch(t.ruleType){case 2:case 3:return GI(e,i,r,s,!1,!1);case 4:case 1:return GI(e,i,r,s,!0,!0);case 5:return GI(e,i,r,n,!0,!0)||GI(e,i,s,n,!0,!0);default:return!1}}function GI(t,e,i,r,n,s){if(!i||!r)return!1;const o=su(t,i,s),a=su(e,r,s);if(n){const l=su(t,r,s),h=su(e,i,s);return o&&a||l&&h}return o&&a}function e7e(t,e){const i=t.terminal?.terminalId,r=e.terminalId;return i==null&&r==null||(i===1?r==null||r===1:i===r)}function su(t,e,i){const{assetGroupCode:r,assetTypeCode:n}=t;return("layerId"in t?t.layerId===e.networkSource?.layerId:t.networkSourceId===e.networkSource?.sourceId)&&(r==null||r===e.assetGroup?.assetGroupCode)&&(n==null||n===e.assetType?.assetTypeCode)&&(!i||!("terminalId"in t)||e7e(e,t))}function Ffe(t){return{fromRuleElement:{networkSource:t.fromNetworkSource,assetGroup:t.fromAssetGroup,assetType:t.fromAssetType,terminal:t.fromTerminal},viaRuleElement:t.viaNetworkSource?{networkSource:t.viaNetworkSource,assetGroup:t.viaAssetGroup,assetType:t.viaAssetType,terminal:t.viaTerminal}:void 0,toRuleElement:{networkSource:t.toNetworkSource,assetGroup:t.toAssetGroup,assetType:t.toAssetType,terminal:t.toTerminal}}}function a0(t){let e=null,i=null,r=null;if(Nce(t))e=Y8(t),[i,r]=t7e(t);else if(mm(t)){e=t.parent?.layerId??null;const[n]=zO(t);n===t.subtypeField&&(i=t.subtypeCode)}else e=t.layerId??null;return{layerId:e,assetGroupCode:i,assetTypeCode:r}}function Y8(t){const{sourceLayer:e}=t;let i;return ice(e)?i=e.layerId:mm(e)&&(i=e.parent?.layerId),i??null}function t7e(t){const[e,i]=zO(t.sourceLayer);return[e?t.attributes[e]:null,i?t.attributes[i]:null]}function zO(t){return!t||!("fieldsIndex"in t)?[null,null]:[t.fieldsIndex.normalizeFieldName("assetGroup")??null,t.fieldsIndex.normalizeFieldName("assetType")??null]}async function RQ(t,e){if(t==="Utility Network Layer"){const{default:i}=await ke(()=>Promise.resolve().then(()=>g7e),void 0);return new i({layerUrl:e})}return null}async function i7e(t){let e="portalItem"in t?t:{portalItem:t};!e.portalItem||e.portalItem instanceof kt||(e={...e,portalItem:new kt(e.portalItem)});const i=e.portalItem;if(await i.load(),i.type!=="Feature Service")throw new ee("portal:unknown-item-type","Unknown item type '${type}'",{type:i.type});const r=i.url,n=await Vt(r,{responseType:"json",query:{f:"json"}}),s="Network Layer";if(n.data.type?.includes(s))return RQ(n.data.type,r);if(n.data.layers){const o=n.data.layers.find(a=>a.type.includes(s));if(o){const a=`${r}/${o.id}`;return RQ(o.type,a)}}return null}let Mr=class extends d3(Gv){static fromPortalItem(t){return i7e(t)}constructor(t){super(t),this.id=null,this.title=null,this.layerUrl=null,this.dataElement=null,this.fullExtent=null,this.spatialReference=null,this.type=null,this.sourceJSON=null,this._historicMoment=null,this._gdbVersion=null,this._sourceIdByLayerId=new Map,this._layerIdBySourceId=new Map,this._applyEditsHandler=e=>{const{serviceUrl:i,gdbVersion:r,result:n}=e,s=i===this.featureServiceUrl,o=i2(i,r,this.gdbVersion);s&&o&&n.then(a=>{VM(i,r)&&(this.historicMoment=a.historicMoment)})},this._updateMomentHandler=e=>{const{serviceUrl:i,gdbVersion:r,moment:n}=e,s=i===this.featureServiceUrl,o=i2(i,r,this.gdbVersion);s&&o&&(this.historicMoment=n)},this.when().then(()=>{this.addHandles([xpe(this._applyEditsHandler),Spe(this._updateMomentHandler)])},()=>{})}initialize(){this.when().catch(t=>{us(t)||Ee.getLogger(this).error("#load()",`Failed to load layer (title: '${this.title??"no title"}', id: '${this.id??"no id"}')`,{error:t})})}get loaded(){return super.loaded}get datasetName(){return this.dataElement?.name??null}get owner(){return this.dataElement?.userIdentity??null}get schemaGeneration(){return this.dataElement?.schemaGeneration??null}get parsedUrl(){return Qr(this.layerUrl)}get featureServiceUrl(){return Ld(this.parsedUrl.path).url.path}get networkServiceUrl(){return this.featureServiceUrl.replace(/\/FeatureServer/i,"/UtilityNetworkServer")}get layerId(){return Ld(this.parsedUrl.path).sublayer}get networkSystemLayers(){return null}get gdbVersion(){return this._gdbVersion}set gdbVersion(t){this._gdbVersion=t}get historicMoment(){return this._historicMoment}set historicMoment(t){this._historicMoment=t}async load(t){return this.addResolvingPromise(this._load(t)),this}async _load(t){await Promise.all([this._fetchDataElement(this.featureServiceUrl,this.layerId.toString(),t),this._fetchLayerMetaData(this.layerUrl,t)])}getLayerIdBySourceId(t){if(!this.dataElement)return null;const e=this._layerIdBySourceId.get(t);if(e!=null)return e;const i=this.dataElement.domainNetworks,r=this._traverseNetworkSources(i,this._layerIdBySourceId,"sourceId","layerId",t);return r>=0?r:null}getSourceIdByLayerId(t){if(!this.dataElement)return null;const e=this._sourceIdByLayerId.get(t);if(e!=null)return e;const i=this.dataElement.domainNetworks,r=this._traverseNetworkSources(i,this._sourceIdByLayerId,"layerId","sourceId",t);return r>=0?r:null}getObjectIdsFromElements(t){const e=[],i=new Map;for(const n of t){const s=this.getLayerIdBySourceId(n.networkSourceId);if(s==null)continue;let o=i.get(s);o===void 0&&(o=[]),o.push(n.objectId),i.set(s,o)}const r=this.featureServiceUrl;return i.forEach((n,s)=>e.push({layerUrl:`${r}/${s}`,objectIds:n})),e}async queryNamedTraceConfigurations(t,e){const[{queryNamedTraceConfigurations:i},{default:r}]=await Promise.all([ke(()=>import("./queryNamedTraceConfigurations-YqwlMeAJ.js"),[]),ke(()=>import("./QueryNamedTraceConfigurationsParameters-E67Is45G.js"),[])]),n=this.networkServiceUrl,s=r.from(t);return(await i(n,s,{...e}))?.namedTraceConfigurations}async validateTopology(t,e){if(!t.validateArea)throw new ee("network:undefined-validateArea","the network must have validateArea defined in the validate network topology parameters.");const[{validateNetworkTopology:i},{default:r}]=await Promise.all([ke(()=>import("./validateNetworkTopology-2TezoFPH.js"),[]),ke(()=>import("./ValidateNetworkTopologyParameters-BoIOr7VI.js"),[])]),n=r.from(t);VM(this.featureServiceUrl,this.gdbVersion||null)?(n.sessionID=Q6,await kK(this.featureServiceUrl,this.gdbVersion,!0)):n.sessionID=null,n.gdbVersion=this.gdbVersion;const s=this.networkServiceUrl,o=this.featureServiceUrl,a=EK(o,null,this.gdbVersion,!0),l=await i(s,n,{...e});if(l?.serviceEdits){const h=[];for(const f of l.serviceEdits){const{editedFeatures:g}=f,v=g?.spatialReference?new Ke(g.spatialReference):null;h.push({layerId:f.layerId,editedFeatures:{adds:g?.adds?.map(w=>WI(w,v))||[],updates:g?.updates?.map(w=>({original:WI(w[0],v),current:WI(w[1],v)}))||[],deletes:g?.deletes?.map(w=>WI(w,v))||[],spatialReference:v}})}a.resolve({edits:null,addedFeatures:[],updatedFeatures:[],deletedFeatures:[],addedAttachments:[],updatedAttachments:[],deletedAttachments:[],editedFeatures:h,exceededTransferLimit:!1,historicMoment:l.moment})}return l}async submitTopologyValidationJob(t,e){let i=null;if(!t.validateArea)throw new ee("network:undefined-validateArea","the network must have validateArea defined in the validate network topology parameters.");if(!this.gdbVersion){const h=this.layerUrl.replace(/\/FeatureServer/i,"/VersionManagementServer").replace(/\/\d*$/,"");i=(await Vt(h,{responseType:"json",query:{f:"json"}})).data.defaultVersionName}const[{submitValidateNetworkTopologyJob:r},{default:n}]=await Promise.all([ke(()=>import("./validateNetworkTopology-2TezoFPH.js"),[]),ke(()=>import("./ValidateNetworkTopologyParameters-BoIOr7VI.js"),[])]),s=n.from(t);VM(this.featureServiceUrl,this.gdbVersion||null)?(s.sessionID=Q6,await kK(this.featureServiceUrl,this.gdbVersion,!0)):s.sessionID=null,s.gdbVersion=this.gdbVersion||i;const o=this.networkServiceUrl,a=this.featureServiceUrl?EK(this.featureServiceUrl,null,this.gdbVersion,!0):void 0,l=await r(o,s,{...e});return new KBe({statusUrl:l,editsResolver:a})}getSourceTypeById(t){if(!this.dataElement)return null;for(const e of this.dataElement.domainNetworks)for(const i of[e.edgeSources??[],e.junctionSources??[]])for(const r of i)if(r.sourceId===t)return i===e.edgeSources?"edge":"junction";return null}_traverseNetworkSources(t,e,i,r,n){for(const s of t)for(const o of[s.edgeSources??[],s.junctionSources??[]])for(const a of o)if(a[i]===n)return e.set(n,a[r]),a[r];return-1}async _fetchLayerMetaData(t,e){const i=await Vt(t,{responseType:"json",query:{f:"json"},...e});this.sourceJSON=i.data,this.read(i.data,{origin:"service"})}async _fetchDataElement(t,e,i){if(this.dataElement)return;const r=await Vt(`${t}/queryDataElements`,{responseType:"json",query:{layers:JSON.stringify([e]),f:"json"},...i}).then(n=>n.data.layerDataElements?.[0]);r&&this.read(r,{origin:"service"})}};function WI(t,e){return new Pr({attributes:t.attributes,geometry:jd({...t.geometry,spatialReference:e})})}u([p({type:String,nonNullable:!0,json:{origins:{"web-map":{read:!0,write:{isRequired:!0}},service:{read:!0}},read:!1}})],Mr.prototype,"id",void 0),u([p({type:String,nonNullable:!0,json:{origins:{"web-map":{read:!0,write:{isRequired:!0}},service:{read:{source:"name"}}},read:!1}})],Mr.prototype,"title",void 0),u([p({type:String,nonNullable:!0,json:{origins:{"web-map":{read:{source:"url"},write:{target:"url",isRequired:!0}}},read:!1}})],Mr.prototype,"layerUrl",void 0),u([p({type:Object,json:{origins:{service:{read:!0}},read:!1}})],Mr.prototype,"dataElement",void 0),u([p({type:jt,json:{origins:{service:{read:{source:"extent"}}},read:!1}})],Mr.prototype,"fullExtent",void 0),u([p({type:Ke,json:{origins:{service:{read:{source:"extent.spatialReference"}}},read:!1}})],Mr.prototype,"spatialReference",void 0),u([p({type:["utility","trace"],readOnly:!0,json:{read:!1,write:!1}})],Mr.prototype,"type",void 0),u([p({readOnly:!0})],Mr.prototype,"datasetName",null),u([p({readOnly:!0})],Mr.prototype,"owner",null),u([p({readOnly:!0})],Mr.prototype,"schemaGeneration",null),u([p({readOnly:!0})],Mr.prototype,"parsedUrl",null),u([p({readOnly:!0})],Mr.prototype,"featureServiceUrl",null),u([p({readOnly:!0})],Mr.prototype,"networkServiceUrl",null),u([p({readOnly:!0})],Mr.prototype,"layerId",null),u([p()],Mr.prototype,"sourceJSON",void 0),u([p({readOnly:!0})],Mr.prototype,"networkSystemLayers",null),u([p({type:String})],Mr.prototype,"gdbVersion",null),u([p({type:Date})],Mr.prototype,"historicMoment",null),u([p()],Mr.prototype,"_historicMoment",void 0),u([p()],Mr.prototype,"_gdbVersion",void 0),Mr=u([j("esri.networks.Network")],Mr);const r7e=Mr;let Qf=class extends zp(Gv){constructor(e){super(e),this.rulesCategorized={attachment:[],containment:[],connectivity:[]},this.request=Vt}initialize(){}async load(e){const i=this.rulesLayer.load(e).then(()=>this._initializeRulesTable());return this.addResolvingPromise(i),this}getFeaturesCanAssociateWithClause(e,i,r){const n=new Map,[s,o]=zO(e.sourceLayer);if(!s||!o)return"";const a=a0(e),l=a0(i);r.forEach(f=>{const{type:g,direction:v}=f;this._getRulesForAssociationType(g).forEach(w=>{QBe(w,a,v).filter(S=>S.networkSource?.layerId===l.layerId).forEach(S=>{const T=S.assetGroup?.assetGroupCode,C=S.assetType?.assetTypeCode;if(T!=null&&C!=null){const I=n.get(T)??new Set;I.add(C),n.set(T,I)}})})});let h=[];return this._mergeAssetCodes(n).forEach((f,g)=>{const v=`${s} IN (${g})`,w=DPe(o,[...f]);v&&w&&h.push(oM(v,w))}),h.length>1&&(h=h.map(f=>`(${f})`)),h.join(" OR ")}getFeaturesCanAssociateWith(e,i,r){return Y8(e)==null?[]:i.filter(n=>this.canAssociateFeatures(e,n,r))}canAssociateFeatures(e,i,r){if(!this._canSupportAssociations([e,i]))return!1;const n=a0(e),s=a0(i);return r.some(o=>{const{type:a,direction:l}=o;return this._getRulesForAssociationType(a).some(h=>l==="to"?dT(h,s,n):dT(h,n,s))})}getLayersCanAssociateWith(e,i,r){return Y8(e)==null?[]:i.filter(n=>this.canAssociateFeatureToLayer(e,n,r))}canAssociateFeatureToLayer(e,i,r){if(!this._canSupportAssociations([e,i]))return!1;const n=a0(e),s=a0(i);return r.some(o=>{const{type:a,direction:l}=o;return this._getRulesForAssociationType(a).some(h=>l==="to"?dT(h,s,n):dT(h,n,s))})}getFeatureSQL(e,i){const r=e.layerId.toString(),n=e.fieldsIndex?.normalizeFieldName("assetGroup"),s=e.fieldsIndex?.normalizeFieldName("assetType"),o=n?i.attributes[n]:null,a=s?i.attributes[s]:null,l=this.rulesHash[r];if(l){const h=l.assetGroupHash[o];if(h)return h.assetTypeHash[a]||null}return null}_initializeRulesTable(){const e={},i=[{networkSourceId:"fromNetworkSource",assetGroupId:"fromAssetGroup",assetTypeId:"fromAssetType"},{networkSourceId:"toNetworkSource",assetGroupId:"toAssetGroup",assetTypeId:"toAssetType"},{networkSourceId:"viaNetworkSource",assetGroupId:"viaAssetGroup",assetTypeId:"viaAssetType"}];this.rulesCategorized={attachment:[],containment:[],connectivity:[]};for(const r of this.rules){if(r.ruleType===3){this.rulesCategorized.attachment.push(r);continue}if(r.ruleType===2){this.rulesCategorized.containment.push(r);continue}if(r.ruleType===1){this.rulesCategorized.connectivity.push(r);continue}this.rulesCategorized.connectivity.push(r);let n=[[0,1],[1,0]];r.ruleType===5&&(n=[[0,2],[2,0],[1,2],[2,1]]);for(const s of n){const o=s.shift(),a=s.shift();let l=!1;switch(r.ruleType){case 5:l=o===0||o===1;break;case 4:l=o===1}const h=i[o],f=r[h.networkSourceId]?.layerId.toString()??"",g=r[h.assetGroupId]?.assetGroupCode?.toString(),v=r[h.assetTypeId],w=v?.assetTypeCode?.toString(),S=i[a],T=r[S.networkSourceId]?.layerId.toString()??"",C=r[S.assetGroupId]?.assetGroupCode?.toString(),I=r[S.assetTypeId],A=I?.assetTypeCode?.toString(),P=e[f]??{assetGroupHash:{}};if(!(g&&w&&C&&A))continue;const D=P.assetGroupHash[g]??{assetTypeHash:{}},L=D.assetTypeHash[w]??{};if(L[T]=L[T]??{},l){L[f]=L[f]??{};const N=oM(`assetgroup = ${g}`,`assettype = ${w}`);I?.connectivityPolicy==="esriNECPEndVertex"?L[f].endVertex=L[f]?.endVertex?`${L[f].endVertex}`:`(${N})`:L[f].anyVertex=L[f].anyVertex?`${L[f].anyVertex}`:`(${N})`}const B=oM(`assetgroup = ${C}`,`assettype = ${A}`);I?.connectivityPolicy==="esriNECPEndVertex"?L[T].endVertex=L[T]?.endVertex?OF(L[T].endVertex,B):`(${B})`:L[T].anyVertex=L[T]?.anyVertex?OF(L[T].anyVertex,B):`(${B})`,D.assetTypeHash[w]=L,P.assetGroupHash[g]=D,e[f]=P}}this._set("rulesHash",e)}_getRulesForAssociationType(e){const{rulesCategorized:i}=this;switch(e){case"attachment":return i.attachment;case"containment":return i.containment;case"connectivity":case"junction-junction-connectivity":return i.connectivity.filter(r=>r.ruleType===1);case"junction-edge-from-connectivity":case"junction-edge-midspan-connectivity":case"junction-edge-to-connectivity":return i.connectivity.filter(r=>r.ruleType===4||r.ruleType===5);default:return[]}}_areSetsEqual(e,i){if(e.size!==i.size)return!1;for(const r of e)if(!i.has(r))return!1;return!0}_mergeAssetCodes(e){const i=new Map,r=new Set;for(const[n,s]of e){const o=new Set([n]);for(const[l,h]of e)n!==l&&!r.has(l)&&this._areSetsEqual(s,h)&&(o.add(l),r.add(l));const a=Array.from(o).sort().join(",");i.set(a,s)}return i}_canSupportAssociations(e){return e.every(i=>{const r=Nce(i)?i.sourceLayer:i,[n,s]=zO(r);return n!=null&&s!=null})}};u([p({constructOnly:!0})],Qf.prototype,"rulesLayer",void 0),u([p({constructOnly:!0})],Qf.prototype,"rules",void 0),u([p({readOnly:!0})],Qf.prototype,"rulesHash",void 0),u([p()],Qf.prototype,"rulesCategorized",void 0),u([p({constructOnly:!0})],Qf.prototype,"request",void 0),Qf=u([j("esri.networks.RulesTable")],Qf);let Bl=class extends ge{constructor(e){super(e),this.conditionBarriers=[],this.outputConditions=[],this.functions=[],this.functionBarriers=[],this.traversabilityScope=null,this.shortestPathNetworkAttributeName=null,this.includeBarriers=null,this.validateConsistency=null,this.ignoreBarriersAtStartingPoints=null}};u([p({type:[Object],json:{write:!0}})],Bl.prototype,"conditionBarriers",void 0),u([p({type:[Object],json:{write:!0}})],Bl.prototype,"outputConditions",void 0),u([p({type:[Object],json:{write:!0}})],Bl.prototype,"functions",void 0),u([p({type:[Object],json:{write:!0}})],Bl.prototype,"functionBarriers",void 0),u([p({type:["junctions","edges","junctionsAndEdges"],json:{write:!0}})],Bl.prototype,"traversabilityScope",void 0),u([p({type:String,json:{write:!0}})],Bl.prototype,"shortestPathNetworkAttributeName",void 0),u([p({type:Boolean,json:{write:!0}})],Bl.prototype,"includeBarriers",void 0),u([p({type:Boolean,json:{write:!0}})],Bl.prototype,"validateConsistency",void 0),u([p({type:Boolean,json:{write:!0}})],Bl.prototype,"ignoreBarriersAtStartingPoints",void 0),Bl=u([j("esri.networks.support.TraceConfiguration")],Bl);const GB=Bl,Xz=new At({Clean:"clean",Dirty:"dirty"}),Am=new At({Physical:"physical",Virtual:"virtual"}),Kz=new At({"Start and end":"start-and-end",Start:"start",Midspan:"midspan",End:"end"}),YI=new At({startingPoint:"starting-point",barrier:"barrier",stoppingPoint:"stopping-point"}),ZI=new At({connected:"connected",upstream:"upstream",downstream:"downstream",shortestPath:"shortest-path",subnetwork:"subnetwork",subnetworkController:"subnetwork-controller",loops:"loops",isolation:"isolation",path:"path",circuit:"circuit"}),n7e="{00000000-0000-0000-0000-000000000000}",s7e=new At({junctionJunctionConnectivity:"junction-junction-connectivity",connectivity:"connectivity",attachment:"attachment",containment:"containment",junctionEdgeFromConnectivity:"junction-edge-from-connectivity",junctionEdgeMidspanConnectivity:"junction-edge-midspan-connectivity",junctionEdgeToConnectivity:"junction-edge-to-connectivity"}),o7e={connectivity:1,"junction-junction-connectivity":1,containment:2,attachment:3,"junction-edge-from-connectivity":4,"junction-edge-midspan-connectivity":5,"junction-edge-to-connectivity":6},qpt=new At({normal:"normal",rebuild:"rebuild",forceRebuild:"force-rebuild"});let Xi=class extends GB{constructor(e){super(e),this.filterBarriers=[],this.arcadeExpressionBarrier=null,this.circuitName=null,this.domainNetworkName=null,this.filterBitsetNetworkAttributeName=null,this.filterFunctionBarriers=[],this.filterScope=null,this.includeContainers=null,this.includeContent=null,this.includeIsolated=null,this.includeStructures=null,this.allowIndeterminateFlow=null,this.includeUpToFirstSpatialContainer=null,this.inferConnectivity=null,this.maxHops=null,this.nearestNeighbor=null,this.numPaths=null,this.outputFilterCategories=[],this.outputFilters=[],this.propagators=[],this.subnetworkName=null,this.targetTierName=null,this.diagramTemplateName=null,this.tierName=null,this.validateLocatability=null}};u([p({type:[Object],json:{write:!0}})],Xi.prototype,"filterBarriers",void 0),u([p({type:String,json:{write:!0}})],Xi.prototype,"arcadeExpressionBarrier",void 0),u([p({type:String,json:{write:!0}})],Xi.prototype,"circuitName",void 0),u([p({type:String,json:{write:!0}})],Xi.prototype,"domainNetworkName",void 0),u([p({type:String,json:{write:!0}})],Xi.prototype,"filterBitsetNetworkAttributeName",void 0),u([p({type:[Object],json:{write:!0}})],Xi.prototype,"filterFunctionBarriers",void 0),u([p({type:["junctions","edges","junctionsAndEdges"],json:{write:!0}})],Xi.prototype,"filterScope",void 0),u([p({type:Boolean,json:{write:!0}})],Xi.prototype,"includeContainers",void 0),u([p({type:Boolean,json:{write:!0}})],Xi.prototype,"includeContent",void 0),u([p({type:Boolean,json:{write:!0}})],Xi.prototype,"includeIsolated",void 0),u([p({type:Boolean,json:{write:!0}})],Xi.prototype,"includeStructures",void 0),u([p({type:Boolean,json:{write:!0}})],Xi.prototype,"allowIndeterminateFlow",void 0),u([p({type:Boolean,json:{write:!0}})],Xi.prototype,"includeUpToFirstSpatialContainer",void 0),u([p({type:Boolean,json:{write:!0}})],Xi.prototype,"inferConnectivity",void 0),u([p({type:Number,json:{write:!0}})],Xi.prototype,"maxHops",void 0),u([p({type:Object,json:{write:!0}})],Xi.prototype,"nearestNeighbor",void 0),u([p({type:Number,json:{write:!0}})],Xi.prototype,"numPaths",void 0),u([p({type:[Object],json:{write:!0}})],Xi.prototype,"outputFilterCategories",void 0),u([p({type:[Object],json:{write:!0}})],Xi.prototype,"outputFilters",void 0),u([p({type:[Object],json:{write:!0}})],Xi.prototype,"propagators",void 0),u([p({type:String,json:{write:!0}})],Xi.prototype,"subnetworkName",void 0),u([p({type:String,json:{write:!0}})],Xi.prototype,"targetTierName",void 0),u([p({type:String,json:{write:!0}})],Xi.prototype,"diagramTemplateName",void 0),u([p({type:String,json:{write:!0}})],Xi.prototype,"tierName",void 0),u([p({type:Boolean,json:{write:!0}})],Xi.prototype,"validateLocatability",void 0),Xi=u([j("esri.networks.support.UNTraceConfiguration")],Xi);const a7e=Xi;let ea=class extends OFe{constructor(e){super(e),this.globalId=null,this.title=null,this.traceConfiguration=null,this.creationDate=null,this.creator=null,this.description=null,this.minStartingPoints=null,this.resultTypes=[],this.tags=[],this.traceType=null}readTraceConfiguration(e,i){return e.tierName!==void 0?a7e.fromJSON(e):GB.fromJSON(e)}};u([p({type:String,nonNullable:!0,json:{origins:{"web-map":{read:{source:"id"},write:{target:"id",isRequired:!0}},service:{read:{source:"globalId"},write:{target:"globalId",isRequired:!0}}},read:!1}})],ea.prototype,"globalId",void 0),u([p({type:String,nonNullable:!0,json:{origins:{"web-map":{read:{source:"title"},write:{target:"title",isRequired:!0}},service:{read:{source:"name"},write:{target:"name",isRequired:!0}}},read:!1}})],ea.prototype,"title",void 0),u([p({type:GB,json:{origins:{service:{read:!0,write:!0}},read:!1}})],ea.prototype,"traceConfiguration",void 0),u([Ae("service","traceConfiguration")],ea.prototype,"readTraceConfiguration",null),u([p({type:Date,json:{origins:{service:{read:!0,write:!0}},read:!1}})],ea.prototype,"creationDate",void 0),u([p({type:String,json:{origins:{service:{read:!0,write:!0}},read:!1}})],ea.prototype,"creator",void 0),u([p({type:String,json:{origins:{service:{read:!0,write:!0}},read:!1}})],ea.prototype,"description",void 0),u([p({type:["none","one","many"],json:{origins:{service:{read:{source:"minNumStartingPoints"},write:{target:"minNumStartingPoints"}}},read:!1}})],ea.prototype,"minStartingPoints",void 0),u([p({json:{origins:{service:{read:!0,write:!0}},read:!1}})],ea.prototype,"resultTypes",void 0),u([p({type:[String],json:{origins:{service:{read:!0,write:!0}},read:!1}})],ea.prototype,"tags",void 0),u([p({type:ZI.apiValues,json:{type:ZI.jsonValues,origins:{service:{read:ZI.read,write:ZI.write}},read:!1}})],ea.prototype,"traceType",void 0),ea=u([j("esri.networks.support.NamedTraceConfiguration")],ea);const l7e=ea;function c7e(t){const e=t?.fieldsIndex,i="fromnetworksourceid",r="fromglobalid",n="fromterminalid",s="fromfirstunit",o="fromnumunits",a="tonetworksourceid",l="toglobalid",h="toterminalid",f="tofirstunit",g="tonumunits",v="status",w="associationtype",S="iscontentvisible",T="percentalong",C="globalid";return{fromNetworkSourceId:e?.get(i)?.name??i,fromGlobalId:e?.get(r)?.name??r,fromTerminalId:e?.get(n)?.name??n,fromFirstUnit:e?.get(s)?.name??s,fromNumUnits:e?.get(o)?.name??o,toNetworkSourceId:e?.get(a)?.name??a,toGlobalId:e?.get(l)?.name??l,toTerminalId:e?.get(h)?.name??h,toFirstUnit:e?.get(f)?.name??f,toNumUnits:e?.get(g)?.name??g,status:e?.get(v)?.name??v,associationType:e?.get(w)?.name??w,isContentVisible:e?.get(S)?.name??S,percentAlong:e?.get(T)?.name??T,globalId:e?.get(t?.globalIdField??C)?.name??C}}function Ypt(t,e){if(e.type!=="feature"&&e.type!=="subtype-group")return[];if(!e.url)return[];const i="utilityNetworks"in t.map?t.map.utilityNetworks??[]:[];for(const r of i)if(r.isUtilityLayer(e)){const n=e.fieldsIndex.get("assetgroup"),s=e.fieldsIndex.get("assettype");return[n?.name,s?.name].filter(o=>o!=null)}return[]}let Ja=class extends at{constructor(e){super(e),this.rulesTableId=null,this.rulesTableUrl=null,this.subnetworksTable=null,this.subnetworksTableId=null,this.subnetworksTableUrl=null,this.dirtyAreasLayerId=null,this.dirtyAreasLayerUrl=null,this.associationsTable=null,this.associationsTableId=null,this.associationsTableUrl=null}destroy(){this.associationsTable?.destroy()}async loadAssociationsTable(e){if(!this.associationsTable){const{associationsTableUrl:i}=this;if(!i)throw new ee("utility-network-system-layers:missing-associations-table-url","Unable to load the associations table, as the `associationsTableUrl` is not set.");this.associationsTable=new Qe({url:i})}return await this.associationsTable.load(e),this.associationsTable}async loadSubnetworksTable(e){if(!this.subnetworksTable){const{subnetworksTableUrl:i}=this;if(!i)throw new ee("utility-network-system-layers:missing-subnetworks-table-url","Unable to load the subnetworks table, as the `subnetworksTableUrl` is not set.");this.subnetworksTable=new Qe({url:i})}return await this.subnetworksTable.load(e),this.subnetworksTable}};u([p({constructOnly:!0})],Ja.prototype,"rulesTableId",void 0),u([p({constructOnly:!0})],Ja.prototype,"rulesTableUrl",void 0),u([p()],Ja.prototype,"subnetworksTable",void 0),u([p({constructOnly:!0})],Ja.prototype,"subnetworksTableId",void 0),u([p({constructOnly:!0})],Ja.prototype,"subnetworksTableUrl",void 0),u([p({constructOnly:!0})],Ja.prototype,"dirtyAreasLayerId",void 0),u([p({constructOnly:!0})],Ja.prototype,"dirtyAreasLayerUrl",void 0),u([p()],Ja.prototype,"associationsTable",void 0),u([p({constructOnly:!0})],Ja.prototype,"associationsTableId",void 0),u([p({constructOnly:!0})],Ja.prototype,"associationsTableUrl",void 0),Ja=u([j("esri.networks.support.NetworkSystemLayers")],Ja);let hw=class extends ge{constructor(e){super(e),this.id=null,this.name=null}};u([p({type:Number,json:{read:{source:"terminalId"},write:{target:"terminalId"}}})],hw.prototype,"id",void 0),u([p({type:String,json:{read:{source:"terminalName"},write:{target:"terminalName"}}})],hw.prototype,"name",void 0),u([p({type:Boolean,json:{write:!0}})],hw.prototype,"isUpstreamTerminal",void 0),hw=u([j("esri.networks.support.Terminal")],hw);const u7e=hw,JI=new At({esriUNTMBidirectional:"bidirectional",esriUNTMDirectional:"directional"});let np=class extends ge{constructor(e){super(e),this.defaultConfiguration=null,this.id=null,this.name=null,this.terminals=[],this.traversabilityModel=null}};u([p({type:String,json:{write:!0}})],np.prototype,"defaultConfiguration",void 0),u([p({type:Number,json:{read:{source:"terminalConfigurationId"},write:{target:"terminalConfigurationId"}}})],np.prototype,"id",void 0),u([p({type:String,json:{read:{source:"terminalConfigurationName"},write:{target:"terminalConfigurationName"}}})],np.prototype,"name",void 0),u([p({type:[u7e],json:{write:!0}})],np.prototype,"terminals",void 0),u([p({type:JI.apiValues,json:{type:JI.jsonValues,read:JI.read,write:JI.write}})],np.prototype,"traversabilityModel",void 0),np=u([j("esri.networks.support.TerminalConfiguration")],np);let ra=class extends ge{constructor(e){super(e),this.type="networkElement",this.assetGroupCode=null,this.assetTypeCode=null,this.globalId=null,this.networkSourceId=null,this.objectId=null,this.positionFrom=null,this.positionTo=null,this.terminalId=null}};u([p({json:{write:!1}})],ra.prototype,"type",void 0),u([p({type:Number,json:{write:!0}})],ra.prototype,"assetGroupCode",void 0),u([p({type:Number,json:{write:!0}})],ra.prototype,"assetTypeCode",void 0),u([p({type:String,json:{write:!0}})],ra.prototype,"globalId",void 0),u([p({type:Number,json:{write:!0}})],ra.prototype,"networkSourceId",void 0),u([p({type:Number,json:{write:!0}})],ra.prototype,"objectId",void 0),u([p({type:Number,json:{write:!0}})],ra.prototype,"positionFrom",void 0),u([p({type:Number,json:{write:!0}})],ra.prototype,"positionTo",void 0),u([p({type:Number,json:{write:!0}})],ra.prototype,"terminalId",void 0),ra=u([j("esri.rest.networks.support.NetworkElement")],ra);let tc=class extends ra{constructor(e){super(e),this.type="telecomNetworkElement",this.firstUnit=null,this.numUnits=null}};u([p({json:{write:!1}})],tc.prototype,"type",void 0),u([p({json:{write:!0}})],tc.prototype,"firstUnit",void 0),u([p({json:{write:!0}})],tc.prototype,"numUnits",void 0),tc=u([j("esri.rest.networks.support.TelecomNetworkElement")],tc);let Gh=class extends ge{constructor(e){super(e),this.edgeElement=null,this.junctionElement=null}readEdgeElement(e,i){return new tc({networkSourceId:i.edgeNetworkSourceId,globalId:i.edgeGlobalId,objectId:i.edgeObjectId,positionFrom:i.edgePositionFrom,positionTo:i.edgePositionTo,firstUnit:i.edgeFirstUnit,numUnits:i.edgeNumUnits})}writeEdgeElement(e,i){i.edgeNetworkSourceId=e.networkSourceId,i.edgeGlobalId=e.globalId,i.edgeObjectId=e.objectId,i.edgePositionFrom=e.positionFrom,i.edgePositionTo=e.positionTo,i.edgeFirstUnit=e.firstUnit,i.edgeNumUnits=e.numUnits}readJunctionElement(e,i){return new tc({networkSourceId:i.junctionNetworkSourceId,globalId:i.junctionGlobalId,objectId:i.junctionObjectId,terminalId:i.junctionTerminalId,firstUnit:i.junctionFirstUnit,numUnits:i.junctionNumUnits})}writeJunctionElement(e,i){i.junctionNetworkSourceId=e.networkSourceId,i.junctionGlobalId=e.globalId,i.junctionObjectId=e.objectId,i.junctionTerminalId=e.terminalId,i.junctionFirstUnit=e.firstUnit,i.junctionNumUnits=e.numUnits}};u([p({type:tc,json:{read:{source:["edgeNetworkSourceId","edgeGlobalId","edgeObjectId","edgePositionFrom","edgePositionTo","edgeFirstUnit","edgeNumUnits"]},write:!0}})],Gh.prototype,"edgeElement",void 0),u([Ae("edgeElement")],Gh.prototype,"readEdgeElement",null),u([ze("edgeElement")],Gh.prototype,"writeEdgeElement",null),u([p({type:tc,json:{read:{source:["junctionNetworkSourceId","junctionGlobalId","junctionObjectId","junctionTerminalId","junctionFirstUnit","junctionNumUnits"]},write:!0}})],Gh.prototype,"junctionElement",void 0),u([Ae("junctionElement")],Gh.prototype,"readJunctionElement",null),u([ze("junctionElement")],Gh.prototype,"writeJunctionElement",null),Gh=u([j("esri.networks.support.CircuitPathConnectivityElement")],Gh);const d7e=Gh;let Jc=class extends ge{constructor(e){super(e),this.globalId=null,this.isFilterBarrier=!1,this.percentAlong=null,this.terminalId=null,this.type=null,this.firstUnit=null,this.numUnits=null,this.networkSourceId=null}};u([p({type:String,json:{write:!0}})],Jc.prototype,"globalId",void 0),u([p({type:Boolean,json:{write:!0}})],Jc.prototype,"isFilterBarrier",void 0),u([p({type:Number,json:{write:!0}})],Jc.prototype,"percentAlong",void 0),u([p({type:Number,json:{write:!0}})],Jc.prototype,"terminalId",void 0),u([p({type:YI.apiValues,json:{type:YI.jsonValues,read:{reader:YI.read,source:"traceLocationType"},write:{writer:YI.write,target:"traceLocationType"}}})],Jc.prototype,"type",void 0),u([p({type:Number,json:{write:!0}})],Jc.prototype,"firstUnit",void 0),u([p({type:Number,json:{write:!0}})],Jc.prototype,"numUnits",void 0),u([p({type:Number})],Jc.prototype,"networkSourceId",void 0),Jc=u([j("esri.rest.networks.support.TraceLocation")],Jc);const LQ=Jc;let Wh=class extends ge{constructor(e){super(e),this.pathId=null,this.order=null,this.startingPoint=null,this.stoppingPoint=null,this.pathConnectivity=[],this.geometry=null}};u([p({type:Number,json:{write:!0}})],Wh.prototype,"pathId",void 0),u([p({type:Number,json:{write:!0}})],Wh.prototype,"order",void 0),u([p({type:LQ,json:{write:!0}})],Wh.prototype,"startingPoint",void 0),u([p({type:LQ,json:{write:!0}})],Wh.prototype,"stoppingPoint",void 0),u([p({type:[d7e],json:{write:!0}})],Wh.prototype,"pathConnectivity",void 0),u([p({type:Dr,json:{write:!0}})],Wh.prototype,"geometry",void 0),Wh=u([j("esri.networks.support.CircuitPath")],Wh);const WB=Wh;let em=class extends ge{constructor(e){super(e),this.sourceId=null,this.globalId=null,this.terminalId=1,this.firstUnit=1,this.numUnits=1}};u([p({type:Number,json:{write:!0}})],em.prototype,"sourceId",void 0),u([p({type:String,json:{write:!0}})],em.prototype,"globalId",void 0),u([p({type:Number,json:{write:!0}})],em.prototype,"terminalId",void 0),u([p({type:Number,json:{write:!0}})],em.prototype,"firstUnit",void 0),u([p({type:Number,json:{write:!0}})],em.prototype,"numUnits",void 0),em=u([j("esri.networks.support.CircuitLocation")],em);const NO=em;let Yh=class extends ge{constructor(e){super(e),this.name=null,this.globalId=null,this.providerId=null,this.consumerId=null,this.isReserved=!1,this.attributes=null}getAttribute(e){return this.attributes?.[e]}setAttribute(e,i){this.attributes?this.attributes[e]=i:this.attributes={[e]:i}}};u([p({type:String,json:{write:!0}})],Yh.prototype,"name",void 0),u([p({type:String,json:{write:!0}})],Yh.prototype,"globalId",void 0),u([p({type:String})],Yh.prototype,"providerId",void 0),u([p({type:String})],Yh.prototype,"consumerId",void 0),u([p({type:Boolean,json:{write:!0}})],Yh.prototype,"isReserved",void 0),u([p({json:{write:{allowNull:!0,writer:(t,e)=>e.attributes=t??{}}}})],Yh.prototype,"attributes",void 0),Yh=u([j("esri.networks.support.Subcircuit")],Yh);const Vfe=Yh;let ad=class extends ge{constructor(e){super(e),this.sectionId=null,this.role="start-and-end",this.sectionType="physical",this.startLocation=null,this.stopLocation=null,this.subcircuit=null,this.path=null}normalizeCtorArgs(e){if(e===void 0)return e;const{sectionId:i,startLocation:r,stopLocation:n,subcircuit:s}=e;return(r||n)&&s?(delete e.startLocation,delete e.stopLocation,Ee.getLogger(this).warn("Cannot instantiate CircuitSection with both start/stop locations and subcircuit.",`CircuitSection with ID '${i}' was defaulted to having a subcircuit only.`)):(r&&!n||!r&&n)&&!s&&Ee.getLogger(this).warn(`CircuitSection with ID '${i}' must have both start and stop locations.`,"Create/alter operations involving this section will fail unless both are populated."),e}setStartStopLocations(e,i){this.startLocation=e,this.stopLocation=i,this.subcircuit=null}setSubcircuit(e){this.subcircuit=e,this.startLocation=null,this.stopLocation=null}};u([p({type:Number,json:{write:!0}})],ad.prototype,"sectionId",void 0),u([p({type:Kz.apiValues,json:{type:Kz.jsonValues,read:Kz.read},readOnly:!0})],ad.prototype,"role",void 0),u([p({type:Am.apiValues,json:{type:Am.jsonValues,read:Am.read,write:Am.write}})],ad.prototype,"sectionType",void 0),u([p({type:NO,json:{write:!0}})],ad.prototype,"startLocation",void 0),u([p({type:NO,json:{write:!0}})],ad.prototype,"stopLocation",void 0),u([p({type:Vfe,json:{write:!0}})],ad.prototype,"subcircuit",void 0),u([p({type:WB,readOnly:!0})],ad.prototype,"path",void 0),ad=u([j("esri.networks.support.CircuitSection")],ad);let bn=class extends ge{constructor(e){super(e),this._sectionIdLookup=new Map,this.attributes=null,this.circuitManager=null,this.circuitType="physical",this.globalId=null,this.isDeleted=!1,this.lastExportedTime=null,this.lastVerifiedTime=null,this.name=null,this.sections=null,this.startLocation=null,this.status="dirty",this.stopLocation=null,this.subcircuits=[]}initialize(){this.addHandles([ft(()=>this.sections,e=>{this._sectionIdLookup.clear(),e!=null&&Array.from(e.keys()).forEach(i=>this._sectionIdLookup.set(i.sectionId,i))},Ls)])}normalizeCtorArgs(e){if(e===void 0)return e;const{name:i,startLocation:r,stopLocation:n,sections:s}=e;return(r||n)&&s?(delete e.startLocation,delete e.stopLocation,Ee.getLogger(this).warn("Cannot instantiate Circuit with both start/stop locations and sections.",`Circuit '${i}' was defaulted to having sections only.`)):(r&&!n||!r&&n)&&!s&&Ee.getLogger(this).warn(`Non-sectioned circuit '${i}' must have both start and stop locations.`,"Create/alter operations involving this circuit will fail unless both are populated."),e}get isSectioned(){return this.startLocation==null&&this.stopLocation==null&&this.sections!=null}readSections(e,i){const{sectionOrder:r,sections:n}=i,s=new Map;if(n==null)return null;if(this._sectionIdLookup.clear(),n.forEach(o=>this._sectionIdLookup.set(o.sectionId,ad.fromJSON(o))),r==null)return Array.from(this._sectionIdLookup.values()).forEach(o=>s.set(o,[])),s;for(const[o,a]of Object.entries(r)){const l=Number(o),h=this._sectionIdLookup.get(l);if(h==null)continue;const f=a.map(g=>this._sectionIdLookup.get(g)).filter(vu);s.set(h,f)}return s}writeSections(e,i){const r={},n=[];e?.forEach((s,o)=>{const a=o.sectionId.toString(),l=s.map(h=>h.sectionId);r[a]=l,n.push(o.toJSON())}),i.sectionOrder=r,i.sections=n}getSectionById(e){return this._sectionIdLookup.get(e)??null}setStartStopLocations(e,i){this.startLocation=e,this.stopLocation=i,this.sections=null}setSections(e){this.sections=e,this.startLocation=null,this.stopLocation=null}getAttribute(e){return this.attributes?.[e]}setAttribute(e,i){this.attributes?this.attributes[e]=i:this.attributes={[e]:i}}};u([p({json:{write:{allowNull:!0,writer:(t,e)=>e.attributes=t??{}}}})],bn.prototype,"attributes",void 0),u([p()],bn.prototype,"circuitManager",void 0),u([p({type:Am.apiValues,json:{type:Am.jsonValues,read:Am.read,write:Am.write}})],bn.prototype,"circuitType",void 0),u([p({type:String,json:{write:!0}})],bn.prototype,"globalId",void 0),u([p({type:Boolean,readOnly:!0})],bn.prototype,"isDeleted",void 0),u([p({type:Boolean,json:{write:!0},readOnly:!0})],bn.prototype,"isSectioned",null),u([p({type:Date,json:{read:{reader:t=>typeof t=="number"?new Date(t):null}},readOnly:!0})],bn.prototype,"lastExportedTime",void 0),u([p({type:Date,json:{read:{reader:t=>typeof t=="number"?new Date(t):null}},readOnly:!0})],bn.prototype,"lastVerifiedTime",void 0),u([p({type:String,json:{write:!0}})],bn.prototype,"name",void 0),u([p({json:{read:{source:["sectionOrder","sections"]},write:!0}})],bn.prototype,"sections",void 0),u([Ae("sections")],bn.prototype,"readSections",null),u([ze("sections")],bn.prototype,"writeSections",null),u([p({type:NO,json:{write:!0}})],bn.prototype,"startLocation",void 0),u([p({type:Xz.apiValues,json:{type:Xz.jsonValues,read:Xz.read}})],bn.prototype,"status",void 0),u([p({type:NO,json:{write:!0}})],bn.prototype,"stopLocation",void 0),u([p({type:[Vfe],json:{write:!0}})],bn.prototype,"subcircuits",void 0),bn=u([j("esri.networks.support.Circuit")],bn);let Sy=class extends ge{constructor(e){super(e),this.circuit=null,this.geometry=null,this.path=null}readCircuit(e,i){return bn.fromJSON(i)}};u([p({type:bn,json:{write:!0,read:{source:["name","globalId","isSectioned","sectionOrder","startLocation","stopLocation","sections","subcircuits","lastVerifiedTime","lastExportedTime","circuitType","status"]}}})],Sy.prototype,"circuit",void 0),u([Ae("circuit")],Sy.prototype,"readCircuit",null),u([p({type:Dr,json:{write:!0}})],Sy.prototype,"geometry",void 0),u([p({type:WB,json:{write:!0}})],Sy.prototype,"path",void 0),Sy=u([j("esri.rest.networks.circuits.support.CircuitTraceResult")],Sy);const h7e=Sy;let pw=class extends ge{constructor(e){super(e),this.line=null,this.multipoint=null,this.polygon=null}};u([p({type:Dr,json:{write:!0},readOnly:!0})],pw.prototype,"line",void 0),u([p({type:Xl,json:{read:{source:"point"},write:{target:"point"}},readOnly:!0})],pw.prototype,"multipoint",void 0),u([p({type:hr,json:{write:!0},readOnly:!0})],pw.prototype,"polygon",void 0),pw=u([j("esri.rest.networks.support.AggregatedGeometry")],pw);const p7e=pw;let fw=class extends ge{constructor(t){super(t),this.functionType=null,this.networkAttributeName=null,this.result=null}};u([p({type:["add","subtract","average","count","min","max"],json:{write:!0},readOnly:!0})],fw.prototype,"functionType",void 0),u([p({type:String,json:{write:!0},readOnly:!0})],fw.prototype,"networkAttributeName",void 0),u([p({type:Number,json:{write:!0},readOnly:!0})],fw.prototype,"result",void 0),fw=u([j("esri.rest.networks.support.FunctionResult")],fw);const f7e=fw;let Xa=class extends ge{constructor(e){super(e),this.aggregatedGeometry=null,this.circuits=null,this.elements=null,this.globalFunctionResults=null,this.kFeaturesForKNNFound=!1,this.paths=null,this.startingPointsIgnored=!1,this.warnings=null}readNetworkElements(e,i){return i.elements!=null&&Array.isArray(i.elements)?i.elements.map(r=>"firstUnit"in r&&"numUnits"in r?new tc({...r}):new ra({...r})):[]}writeNetworkElements(e,i){i.elements=e.map(r=>r.toJSON())}};u([p({type:p7e,json:{write:!0},readOnly:!0})],Xa.prototype,"aggregatedGeometry",void 0),u([p({type:[h7e],json:{write:!0},readOnly:!0})],Xa.prototype,"circuits",void 0),u([p({type:[ra],json:{write:!0},readOnly:!0})],Xa.prototype,"elements",void 0),u([Ae("elements")],Xa.prototype,"readNetworkElements",null),u([ze("elements")],Xa.prototype,"writeNetworkElements",null),u([p({type:[f7e],json:{write:!0},readOnly:!0})],Xa.prototype,"globalFunctionResults",void 0),u([p({type:Boolean,json:{write:!0},readOnly:!0})],Xa.prototype,"kFeaturesForKNNFound",void 0),u([p({type:[WB],json:{write:!0},readOnly:!0})],Xa.prototype,"paths",void 0),u([p({type:Boolean,json:{write:!0},readOnly:!0})],Xa.prototype,"startingPointsIgnored",void 0),u([p({type:[String],json:{write:!0},readOnly:!0})],Xa.prototype,"warnings",void 0),Xa=u([j("esri.rest.networks.support.TraceResult")],Xa);const m7e=En()({Pending:"job-waiting",InProgress:"job-executing",Completed:"job-succeeded"});let Ty=class extends Xa{constructor(e){super(e),this.statusUrl=null,this.status=null,this.submissionTime=null,this.lastUpdatedTime=null,this._timer=void 0}destroy(){clearInterval(this._timer)}async checkJobStatus(e){const i={...e,query:{f:"json"}},{data:r}=await Vt(this.statusUrl,i),n=r.traceResults?{...r.traceResults,...r}:r;return this.read(n),this}async waitForJobCompletion(e={}){const{interval:i=1e3,statusCallback:r}=e;return new Promise((n,s)=>{this._clearTimer();const o=setInterval(()=>{this._timer||s(Si()),this.checkJobStatus().then(a=>{const{status:l}=a;switch(this.status=l,l){case"job-succeeded":this._clearTimer(),n(this);break;case"job-waiting":case"job-executing":r&&r(this)}},a=>{this._clearTimer(),s(a)})},i);this._timer=o})}_clearTimer(){clearInterval(this._timer),this._timer=void 0}};u([p({type:String,json:{write:!0}})],Ty.prototype,"statusUrl",void 0),u([nt(m7e)],Ty.prototype,"status",void 0),u([p({type:Date,json:{type:Number,write:{writer:(t,e)=>{e.submissionTime=t?t.getTime():null}}}})],Ty.prototype,"submissionTime",void 0),u([p({type:Date,json:{type:Number,write:{writer:(t,e)=>{e.lastUpdatedTime=t?t.getTime():null}}}})],Ty.prototype,"lastUpdatedTime",void 0),Ty=u([j("esri.networks.support.TraceJobInfo")],Ty);let Hl=class extends r7e{constructor(e){super(e),this.sharedNamedTraceConfigurations=[],this.type="utility",this._circuitManagerMap=new Map,this._terminalById=new Map,this._unitIdentifierManager=null}initialize(){this.addHandles(ft(()=>[this.gdbVersion,this.historicMoment],()=>{this.networkSystemLayers.associationsTable&&(this.networkSystemLayers.associationsTable.gdbVersion!==this.gdbVersion&&(this.networkSystemLayers.associationsTable.gdbVersion=this.gdbVersion),this.networkSystemLayers.associationsTable.historicMoment!==this.historicMoment&&(this.networkSystemLayers.associationsTable.historicMoment=this.historicMoment))}))}get _rulesLayer(){const{gdbVersion:e,historicMoment:i}=this,r=this.networkSystemLayers.rulesTableUrl;return new Qe({url:r,gdbVersion:e,historicMoment:i})}get _utilityLayerList(){const e=new Set;return this.dataElement?.domainNetworks?.map(i=>{i?.edgeSources?.map(({layerId:r,sourceId:n})=>{this._layerIdBySourceId.set(n,r),this._sourceIdByLayerId.set(r,n),e.add(r)}),i?.junctionSources?.map(({layerId:r,sourceId:n})=>{this._layerIdBySourceId.set(n,r),this._sourceIdByLayerId.set(r,n),e.add(r)})}),e}get serviceTerritoryFeatureLayerId(){return this.dataElement?.serviceTerritoryFeatureLayerId??null}get networkSystemLayers(){return new Ja({rulesTableId:this.sourceJSON?.systemLayers.rulesTableId,rulesTableUrl:this.sourceJSON?`${this.featureServiceUrl}/${this.sourceJSON?.systemLayers.rulesTableId}`:null,subnetworksTableId:this.sourceJSON?.systemLayers.subnetworksTableId,subnetworksTableUrl:this.sourceJSON?`${this.featureServiceUrl}/${this.sourceJSON?.systemLayers.subnetworksTableId}`:null,dirtyAreasLayerId:this.sourceJSON?.systemLayers.dirtyAreasLayerId,dirtyAreasLayerUrl:this.sourceJSON?`${this.featureServiceUrl}/${this.sourceJSON?.systemLayers.dirtyAreasLayerId}`:null,associationsTableId:this.sourceJSON?.systemLayers.associationsTableId,associationsTableUrl:this.sourceJSON?`${this.featureServiceUrl}/${this.sourceJSON?.systemLayers.associationsTableId}`:null})}get terminalConfigurations(){return this.dataElement?.terminalConfigurations.map(e=>np.fromJSON(e))||[]}get domainNetworkNames(){return this.dataElement?.domainNetworks.map(e=>e.domainNetworkName)||[]}get hasTelecomNetwork(){return this.dataElement?.domainNetworks.some(e=>e.isTelecomNetwork)??!1}get associationsTable(){return this.networkSystemLayers.associationsTable}async load(e){return this.addResolvingPromise(this._load(e)),this}async _load(e){await super._load(e),await Promise.all([this._loadNamedTraceConfigurationsFromNetwork(e),this.networkSystemLayers.loadAssociationsTable(e)])}getTerminalConfiguration(e){let i=null,r=null;const n=e.sourceLayer;let s=null;if(n?.type==="feature"){if(s=n.layerId,s===null)return null}else if(n?.type!=="subtype-sublayer"||(s=n?.parent?.layerId??null,s===null))return null;const o=e.attributes;if(o==null)return null;for(const h of Object.keys(o))h.toUpperCase()==="ASSETGROUP"&&(i=e.getAttribute(h)),h.toUpperCase()==="ASSETTYPE"&&(r=e.getAttribute(h));if(!this.dataElement)return null;let a=null;const l=this.dataElement.domainNetworks;for(const h of l){const f=h.junctionSources?.find(g=>g.layerId===s);if(f){const g=f.assetGroups?.find(v=>v.assetGroupCode===i);if(g){const v=g.assetTypes?.find(w=>w.assetTypeCode===r);if(v?.isTerminalConfigurationSupported){a=v.terminalConfigurationId;break}}}}if(a!=null){const h=this.dataElement.terminalConfigurations,f=h?.find(g=>g.terminalConfigurationId===a);return f?np.fromJSON(f):null}return null}getTierNames(e){return this.dataElement?.domainNetworks.find(r=>r.domainNetworkName===e)?.tiers?.map(r=>r.name)||[]}async getRulesTable(){const e=this._rulesLayer;e.loaded||await e.load();const i=this.dataElement?.domainNetworks;if(!i)return null;const r=i.flatMap(s=>[...s.edgeSources||[],...s.junctionSources||[]]),n=(await this._queryRulesTable(e)).map(s=>this._hydrateRuleInfo(e,r,s));return new Qf({rulesLayer:e,rules:n})}async getCircuitManager(e){if(!this.hasTelecomNetwork)return null;const i=this.dataElement?.domainNetworks.find(n=>n.domainNetworkName===e&&n.isTelecomNetwork);if(!i)return null;const{default:r}=await ke(()=>import("./CircuitManager-CE6ckN14.js"),[]);return Vv(this._circuitManagerMap,e,()=>new r({utilityNetwork:this,telecomDomainNetwork:i}))}async getUnitIdentifierManager(){if(!this.hasTelecomNetwork)return null;if(this._unitIdentifierManager)return this._unitIdentifierManager;const{default:e}=await ke(()=>import("./UnitIdentifierManager-DDHXqSNt.js"),[]);return this._unitIdentifierManager=new e({utilityNetwork:this}),this._unitIdentifierManager}getTerminalById(e){if(!this.dataElement||e==null)return null;const i=this._terminalById.get(e);return i??(this.terminalConfigurations.forEach(r=>{r.terminals.forEach(n=>{this._terminalById.set(n.id,n)})}),this._terminalById.get(e))}isUtilityLayer(e){return"layerId"in e?e.layerId!=null&&this._utilityLayerList.has(e.layerId)&&(e.url?.startsWith(this.featureServiceUrl)??!1):!(e.type!=="subtype-sublayer"||!e.parent)&&this._utilityLayerList.has(e.parent.layerId)&&(e.parent.url?.startsWith(this.featureServiceUrl)??!1)}async queryAssociations(e,i){const[{queryAssociations:r},{default:n}]=await Promise.all([ke(()=>import("./queryAssociations-CA-b9rAL.js"),__vite__mapDeps([316,317])),ke(()=>import("./QueryAssociationsParameters-BPWdDVq9.js"),[])]),s=n.from(e);return s.gdbVersion=this.gdbVersion,s.moment=this.historicMoment,(await r(this.networkServiceUrl,s,i)).associations}async synthesizeAssociationGeometries(e){const[{synthesizeAssociationGeometries:i},{default:r}]=await Promise.all([ke(()=>import("./synthesizeAssociationGeometries-DEiy7zEc.js"),__vite__mapDeps([318,317])),ke(()=>import("./SynthesizeAssociationGeometriesParameters-Cve-D5zk.js"),[])]),n=r.from(e);return n.gdbVersion=this.gdbVersion,n.moment=this.historicMoment,i(this.networkServiceUrl,n)}async trace(e){const[{trace:i},{default:r}]=await Promise.all([ke(()=>import("./trace-29si5CHJ.js"),[]),ke(()=>import("./TraceParameters-C-EwT4GR.js"),[])]),n=r.from(e);return n.gdbVersion=this.gdbVersion,n.moment=this.historicMoment,i(this.networkServiceUrl,n)}async submitTraceJob(e){const[{submitTraceJob:i},{default:r}]=await Promise.all([ke(()=>import("./trace-29si5CHJ.js"),[]),ke(()=>import("./TraceParameters-C-EwT4GR.js"),[])]),n=r.from(e);n.gdbVersion=this.gdbVersion,n.moment=this.historicMoment;const s=await i(this.networkServiceUrl,n);return new Ty({statusUrl:s})}async canAddAssociation(e){const i=await this.getRulesTable();if(!i)return!1;const{fromNetworkElement:r,toNetworkElement:n}=e;if(!r||!n)return!1;await i.load();let s=null;switch(e.associationType){case"containment":s=i.rulesCategorized.containment;break;case"attachment":s=i.rulesCategorized.attachment;break;default:s=i.rulesCategorized.connectivity}return s.some(o=>dT(o,r,n))}generateAddAssociations(e){const{associationsTable:i}=this.networkSystemLayers,{fromNetworkSourceId:r,fromGlobalId:n,fromTerminalId:s,fromFirstUnit:o,fromNumUnits:a,toNetworkSourceId:l,toGlobalId:h,toTerminalId:f,toFirstUnit:g,toNumUnits:v,associationType:w,isContentVisible:S,percentAlong:T,globalId:C}=c7e(i);return{addFeatures:e.map(I=>{const A=new Pr({attributes:{[r]:I.fromNetworkElement?.networkSourceId,[n]:I.fromNetworkElement?.globalId,[s]:I.fromNetworkElement?.terminalId,[l]:I.toNetworkElement?.networkSourceId,[h]:I.toNetworkElement?.globalId,[f]:I.toNetworkElement?.terminalId,[w]:o7e[I.associationType],[S]:I.isContentVisible==null?void 0:I.isContentVisible?1:0,[T]:I.percentAlong,[C]:I.globalId}});return I.fromNetworkElement instanceof tc&&(A.attributes[o]=I.fromNetworkElement?.firstUnit,A.attributes[a]=I.fromNetworkElement?.numUnits),I.toNetworkElement instanceof tc&&(A.attributes[g]=I.toNetworkElement?.firstUnit,A.attributes[v]=I.toNetworkElement?.numUnits),A}),id:this.networkSystemLayers.associationsTableId,identifierFields:{globalIdField:i?.globalIdField??"globalid",objectIdField:i?.objectIdField??"objectid"}}}generateDeleteAssociations(e){const{associationsTable:i,associationsTableId:r}=this.networkSystemLayers,n={id:r,identifierFields:{globalIdField:i?.globalIdField??"globalid",objectIdField:i?.objectIdField??"objectid"}};if(this.dataElement?.schemaGeneration===-8){const o=this._generateDeleteTelecomAssociationPayload(e);return{...n,deleteAssociations:o}}const s=e.map(o=>({globalId:o.globalId}));return{...n,deleteFeatures:s}}generateCombineNetworkElements(e){return{id:this._ensureSingleSourceIdAsValidLayerId(e),combineGroupedObjects:[{globalIds:e.map(i=>i.globalId)}]}}generateDivideNetworkElements(e,i){return{id:this._ensureSingleSourceIdAsValidLayerId([e]),divideGroupedObjects:[{globalId:e.globalId,numUnits:i}]}}async loadAssociationsTable(){return this.networkSystemLayers.loadAssociationsTable()}async loadSubnetworksTable(){return this.networkSystemLayers.loadSubnetworksTable()}async _loadNamedTraceConfigurationsFromNetwork(e){if(this.sharedNamedTraceConfigurations?.length===0)return;const i=this.sharedNamedTraceConfigurations.map(n=>n.globalId),r=await this.queryNamedTraceConfigurations({globalIds:i},e);for(const n of this.sharedNamedTraceConfigurations){const s=r?.find(o=>o.globalId===n.globalId);if(s){const o=s.write({},{origin:"service"});n.read(o,{origin:"service"})}}}_hydrateRuleInfo(e,i,r){const n=e.fieldsIndex,s=n.get("RULETYPE"),o=n.get("CREATIONDATE"),a=n.get("FROMNETWORKSOURCEID"),l=n.get("FROMASSETGROUP"),h=n.get("FROMASSETTYPE"),f=n.get("FROMTERMINALID"),g=n.get("TONETWORKSOURCEID"),v=n.get("TOASSETGROUP"),w=n.get("TOASSETTYPE"),S=n.get("TOTERMINALID"),T=n.get("VIANETWORKSOURCEID"),C=n.get("VIAASSETGROUP"),I=n.get("VIAASSETTYPE"),A=n.get("VIATERMINALID"),P=r.attributes[s.name],D=new Date(r.attributes[o.name]),L=[{networkSourceId:r.attributes[a.name],assetGroupId:r.attributes[l.name],assetTypeId:r.attributes[h.name],terminalId:r.attributes[f.name]},{networkSourceId:r.attributes[g.name],assetGroupId:r.attributes[v.name],assetTypeId:r.attributes[w.name],terminalId:r.attributes[S.name]},{networkSourceId:r.attributes[T.name],assetGroupId:r.attributes[C.name],assetTypeId:r.attributes[I.name],terminalId:r.attributes[A.name]}],B={ruleType:P,creationDate:D};for(const N of[0,1,2]){if(P!==5&&N===2)continue;const Y=L[N],K=i.find(G=>G.sourceId===Y.networkSourceId),te=K?.assetGroups.find(G=>G.assetGroupCode===Y.assetGroupId),ue=te?.assetTypes.find(G=>G.assetTypeCode===Y.assetTypeId),ye=this._getTerminal(ue,Y);let se="";switch(N){case 0:se="from";break;case 1:se="to";break;case 2:se="via"}B[`${se}NetworkSource`]=K,B[`${se}AssetGroup`]=te,B[`${se}AssetType`]=ue,B[`${se}Terminal`]=ye?.toJSON()}return B}_getTerminal(e,i){const r=e?.terminalConfigurationId;return this.terminalConfigurations?.find(s=>s.id===r)?.terminals?.find(s=>s.id===i.terminalId)??null}async _queryRulesTable(e){const{gdbVersion:i,historicMoment:r}=this,n=new ot({where:"1=1",outFields:["*"],gdbVersion:i,historicMoment:r});return(await Ape(e,n)).features}_generateDeleteTelecomAssociationPayload(e){return e.map(i=>({globalId:i.globalId??n7e,associationType:s7e.toJSON(i.associationType),fromSourceId:i.fromNetworkElement.networkSourceId,fromGlobalId:i.fromNetworkElement.globalId,fromTerminalId:i.fromNetworkElement.terminalId,toSourceId:i.toNetworkElement.networkSourceId,toGlobalId:i.toNetworkElement.globalId,toTerminalId:i.toNetworkElement.terminalId}))}_ensureSingleSourceIdAsValidLayerId(e){const i=Rve(e.map(s=>s.networkSourceId));if(i.length>1)throw new ee("utility-network:invalid-source-id","'networkSourceId' is not valid. Ensure that all network elements have the same 'networkSourceId' and that it corresponds to a valid layer in the utility network.");const r=i[0],n=this.getLayerIdBySourceId(r);if(n==null)throw new ee("utility-network:invalid-source-id","'networkSourceId' is not valid. Ensure that all network elements have the same 'networkSourceId' and that it corresponds to a valid layer in the utility network.");return n}};u([p({readOnly:!0})],Hl.prototype,"_rulesLayer",null),u([p({type:[l7e],json:{origins:{"web-map":{read:{source:"traceConfigurations"},write:{target:"traceConfigurations"}},service:{read:{source:"traceConfigurations"}}},read:!1}})],Hl.prototype,"sharedNamedTraceConfigurations",void 0),u([p({type:["utility"],readOnly:!0,json:{read:!1,write:!1}})],Hl.prototype,"type",void 0),u([p({readOnly:!0})],Hl.prototype,"serviceTerritoryFeatureLayerId",null),u([p({readOnly:!0})],Hl.prototype,"networkSystemLayers",null),u([p({readOnly:!0})],Hl.prototype,"terminalConfigurations",null),u([p({readOnly:!0})],Hl.prototype,"domainNetworkNames",null),u([p({readOnly:!0})],Hl.prototype,"hasTelecomNetwork",null),u([p({readOnly:!0,json:{read:!1}})],Hl.prototype,"associationsTable",null),Hl=u([j("esri.networks.UtilityNetwork")],Hl);const Ufe=Hl,g7e=Object.freeze(Object.defineProperty({__proto__:null,default:Ufe},Symbol.toStringTag,{value:"Module"}));let mw=class extends dt(ge){constructor(e){super(e),this.expression=null,this.returnType="string",this.title=null}};u([p({type:String,json:{write:{isRequired:!0}}})],mw.prototype,"expression",void 0),u([p({type:["number","string"],json:{write:!0}})],mw.prototype,"returnType",void 0),u([p({type:String,json:{write:!0}})],mw.prototype,"title",void 0),mw=u([j("esri.webdoc.geotriggersInfo.ExpressionInfo")],mw);const Bfe=mw,XI=new At({deviceLocation:"device-location"});let hT=class extends dt(ge){constructor(e){super(e),this.filterExpression=null,this.type="device-location"}};u([p({type:Bfe,json:{write:!0}})],hT.prototype,"filterExpression",void 0),u([p({type:XI.apiValues,readOnly:!0,json:{type:XI.jsonValues,read:XI.read,write:XI.write}})],hT.prototype,"type",void 0),hT=u([j("esri.webdoc.geotriggersInfo.DeviceLocationFeed")],hT);const y7e=hT;let pT=class extends dt(ge){constructor(e){super(e),this.geometry=null,this.where=null}};u([p({types:R1,json:{read:jd,write:!0}})],pT.prototype,"geometry",void 0),u([p({type:String,json:{write:!0}})],pT.prototype,"where",void 0),pT=u([j("esri.webdoc.geotriggersInfo.FeatureFilter")],pT);const v7e=pT;let gw=class extends dt(ge){constructor(e){super(e),this.layerId=null,this.layerUrl=null,this.type="feature-layer"}};u([p({type:String,json:{write:{overridePolicy(){return{isRequired:this.layerUrl===null}}}}})],gw.prototype,"layerId",void 0),u([p({type:String,json:{write:{overridePolicy(){return{isRequired:this.layerId===null}}}}})],gw.prototype,"layerUrl",void 0),u([nt({featureLayer:"feature-layer"},{readOnly:!0})],gw.prototype,"type",void 0),gw=u([j("esri.webdoc.geotriggersInfo.FeatureLayerSource")],gw);const b7e=gw;let $y=class extends dt(ge){constructor(e){super(e),this.fenceSource=null,this.filter=null,this.bufferDistance=null,this.type="features"}};u([p({type:b7e,json:{write:{isRequired:!0}}})],$y.prototype,"fenceSource",void 0),u([p({type:v7e,json:{write:!0}})],$y.prototype,"filter",void 0),u([p({type:Number,json:{write:!0}})],$y.prototype,"bufferDistance",void 0),u([nt({features:"features"},{readOnly:!0})],$y.prototype,"type",void 0),$y=u([j("esri.webdoc.geotriggersInfo.FeatureFenceParameters")],$y);const w7e=$y;let KM=class extends dt(ge){constructor(e){super(e),this.type="fence"}};u([nt({fence:"fence"},{readOnly:!0})],KM.prototype,"type",void 0),KM=u([j("esri.webdoc.geotriggersInfo.Geotrigger")],KM);const Hfe=KM;let fT=class extends dt(ge){constructor(e){super(e),this.expressionInfo=null,this.requestedActions=null}};u([p({type:Bfe,json:{write:!0}})],fT.prototype,"expressionInfo",void 0),u([p({type:[String],json:{write:!0}})],fT.prototype,"requestedActions",void 0),fT=u([j("esri.webdoc.geotriggersInfo.GeotriggerNotificationOptions")],fT);const _7e=fT,x7e=new At({enterContainsAndExitDoesNotContain:"enter-contains-and-exit-does-not-contain",enterContainsAndExitDoesNotIntersect:"enter-contains-and-exit-does-not-intersect",enterIntersectsAndExitDoesNotIntersect:"enter-intersects-and-exit-does-not-intersect"}),S7e=new At({useGeometry:"use-geometry",useGeometryWithAccuracy:"use-geometry-with-accuracy"}),KI=new At({enter:"enter",enterOrExit:"enter-or-exit",exit:"exit"});let Xc=class extends Hfe{constructor(e){super(e),this.enterExitRule="enter-contains-and-exit-does-not-intersect",this.feed=null,this.feedAccuracyMode="use-geometry",this.fenceNotificationRule=null,this.fenceParameters=null,this.name=null,this.notificationOptions=null,this.type="fence"}};u([nt(x7e)],Xc.prototype,"enterExitRule",void 0),u([p({type:y7e,json:{write:{isRequired:!0}}})],Xc.prototype,"feed",void 0),u([nt(S7e)],Xc.prototype,"feedAccuracyMode",void 0),u([p({type:KI.apiValues,json:{type:KI.jsonValues,read:KI.read,write:{writer:KI.write,isRequired:!0}}})],Xc.prototype,"fenceNotificationRule",void 0),u([p({type:w7e,json:{write:{isRequired:!0}}})],Xc.prototype,"fenceParameters",void 0),u([p({type:String,json:{write:!0}})],Xc.prototype,"name",void 0),u([p({type:_7e,json:{write:!0}})],Xc.prototype,"notificationOptions",void 0),u([nt({fence:"fence"},{readOnly:!0})],Xc.prototype,"type",void 0),Xc=u([j("esri.webdoc.geotriggersInfo.FenceGeotrigger")],Xc);const T7e=Xc,$7e={base:Hfe,key:"type",typeMap:{fence:T7e}};let QM=class extends dt(ge){constructor(e){super(e),this.geotriggers=null}};u([p({types:[$7e],json:{write:{isRequired:!0}}})],QM.prototype,"geotriggers",void 0),QM=u([j("esri.webdoc.GeotriggersInfo")],QM);const k7e=QM;let eA=class extends dt(ge){constructor(e){super(e),this.enabled=!0}};u([p({type:Boolean,nonNullable:!0,json:{write:!0}})],eA.prototype,"enabled",void 0),eA=u([j("esri.webdoc.ips.AppleIPSProperties")],eA);const E7e=eA;let tA=class extends dt(ge){constructor(e){super(e),this.enabled=!0}};u([p({type:Boolean,nonNullable:!0,json:{write:!0}})],tA.prototype,"enabled",void 0),tA=u([j("esri.webdoc.ips.GNSSProperties")],tA);const I7e=tA;let yw=class extends dt(ge){constructor(e){super(e),this.enabled=!0,this.distance=5,this.units="meter"}};u([p({type:Boolean,nonNullable:!0,json:{write:!0}})],yw.prototype,"enabled",void 0),u([p({type:Number,nonNullable:!0,json:{write:!0}})],yw.prototype,"distance",void 0),u([p({type:["feet","meter"],nonNullable:!0,json:{write:!0}})],yw.prototype,"units",void 0),yw=u([j("esri.webdoc.ips.PathSnappingProperties")],yw);const C7e=yw;let iA=class extends dt(ge){constructor(t){super(t),this.enabled=!0}};u([p({type:Boolean,nonNullable:!0,json:{write:!0}})],iA.prototype,"enabled",void 0),iA=u([j("esri.webdoc.ips.SmoothingProperties")],iA);const M7e=iA;let ky=class extends dt(ge){constructor(e){super(e),this.appleIPS=null,this.gnss=null,this.smoothing=null,this.pathSnapping=null}};u([p({type:E7e,json:{name:"AppleIPS",write:!0}})],ky.prototype,"appleIPS",void 0),u([p({type:I7e,json:{name:"GNSS",write:!0}})],ky.prototype,"gnss",void 0),u([p({type:M7e,json:{write:!0}})],ky.prototype,"smoothing",void 0),u([p({type:C7e,json:{write:!0}})],ky.prototype,"pathSnapping",void 0),ky=u([j("esri.webdoc.ips.Configuration")],ky);const A7e=ky;let vw=class extends dt(ge){constructor(e){super(e),this.portalItem=null}readPortalItem(e,i,r){const{itemId:n}=i;if(n)return new kt({id:n,portal:r?.portal})}writePortalItem(e,i){e?.id&&(i.itemId=e.id)}};u([p({type:kt,json:{write:{isRequired:!0}}})],vw.prototype,"portalItem",void 0),u([Ae("portalItem",["itemId"])],vw.prototype,"readPortalItem",null),u([ze("portalItem",{itemId:{type:String}})],vw.prototype,"writePortalItem",null),vw=u([j("esri.webdoc.ips.PositioningService")],vw);const O7e=vw;let mT=class extends dt(ge){constructor(e){super(e),this.positioningService=null,this.configuration=null}};u([p({type:O7e,json:{write:{isRequired:!0}}})],mT.prototype,"positioningService",void 0),u([p({type:A7e,json:{write:!0}})],mT.prototype,"configuration",void 0),mT=u([j("esri.webdoc.IPSInfo")],mT);const P7e=mT,D7e={currentVersion:Whe,createInitialViewProperties:()=>new MO,parseVersion:t_.parse,itemType:"Web Map",name:"webmap",origin:"web-map"},R7e=We.ofType(Ufe);var N_;let Ey=(N_=class extends f4e{constructor(e){super(e),this.geotriggersInfo=null,this.ipsInfo=null,this.presentation=null,this.utilityNetworks=null}destroy(){if(this.utilityNetworks){const e=this.utilityNetworks.removeAll();for(const i of e)i.destroy();this.utilityNetworks.destroy()}}get context(){return D7e}loadAll(){return GD(this,e=>{e(this.ground,this.basemap,this.layers,this.tables,this.ipsInfo?.positioningService?.portalItem)})}static fromJSON(e){if(e)return new this({resourceInfo:e});throw new ee("webmap:empty-resource","Expected a JSON resource but got nothing")}},N_.VERSION=Whe,N_);u([p({type:k7e,json:{write:!0}})],Ey.prototype,"geotriggersInfo",void 0),u([p({type:P7e,json:{write:!0,name:"mapIPSInfo"}})],Ey.prototype,"ipsInfo",void 0),u([p({json:{write:!0}})],Ey.prototype,"presentation",void 0),u([p({type:R7e,json:{read:!0,write:!0}})],Ey.prototype,"utilityNetworks",void 0),Ey=u([j("esri.WebMap")],Ey);const L7e=Ey,yn=(t,e)=>{const r=B$().manager;r.onLoaded(()=>r.onLifecycle(()=>qm(t,e,n.emit)));const n=jse();return n},qfe=(t,e)=>i=>N7e(i,t);class z7e extends oU{constructor(e,i){super(e),this.Y=new Map,this.A=void 0,this.#e=xae();const r=this;r.#i=i,r.Z(),r.setProvisionalExports(j7e(e,new WeakRef(r),e.M.length-1,r.instance,r.Y),!1),Nse(e,n=>{if(n){const s=ft(()=>e[n],o=>{if(o===r.instance)return;const a=r.instance;r.exports=o,r.instance=o,r.Y.forEach((l,h)=>e.requestUpdate(l,a[h])),r.#t&&a.destroy(),r.#t=!1},{sync:!0});r.onDestroy(s.remove)}},r.exports)}#t;#e;#i;get exports(){return Sae(this.#e),super.exports}set exports(e){super.exports=e,this.#e.notify()}Z(){const e=this;e.instance="prototype"in e.#i&&"declaredClass"in e.#i.prototype?new e.#i:e.#i(),e.#t=!0}hostConnected(){this.exports=this.instance}hostDestroy(){this.#t&&this.instance.destroy?.()}}const N7e=uae(z7e),j7e=(t,e,i,r,n)=>new Proxy(r,{get:(s,o)=>{const a=s[o];if(typeof o=="symbol"||n.has(o))return a;const l=t.M[i];return l.A=o,nU(t,h=>{if(l.A=void 0,h!==void 0){const f=h.key;n.set(o,f);const g=t.constructor.getPropertyOptions(f),v=o!==f&&f.toLowerCase().includes("disable");F7e(e,g,o,f,v),g.i===void 0&&V7e(g,i,o,v)}},a)}}),F7e=(t,e,i,r,n,s)=>s=ft(()=>{const o=t.deref();return o===void 0||o.component.manager.destroyed?s=s.remove():o.exports[i]},(o,a)=>{if(!s)return;t.deref().component?.requestUpdate(r,n?!a:a),e.c=!1},{sync:!0}),V7e=(t,e,i,r)=>{t.d.get=function(){const n=this.M[e]?.exports[i];return r?!n:n},t.d.set=function(n){const s=this.M[e];s.A!==i&&(s.exports[i]=r?!n:n)}},U7e=(t,e)=>{const i=e.manager.useRefSync(t);i?.hostDestroy(),i?.Z(),i?.hostConnected()};const B7e=vi`@charset "UTF-8";@keyframes esri-basemap-slide{0%{opacity:0;margin-top:0;margin-left:0}75%{opacity:0;margin-top:0;margin-left:0}to{opacity:1;margin-top:5px;margin-left:5px}}@keyframes esri-docking-animation{0%{opacity:0}25%{opacity:0}to{opacity:1}}@keyframes popup-intro-animation-down{0%{opacity:0;transform:translateY(-5px)}to{opacity:1;transform:translate(0)}}@keyframes popup-intro-animation-up{0%{opacity:0;transform:translateY(5px)}to{opacity:1;transform:translate(0)}}@supports (-ms-ime-align: auto){.esri-slider__anchor:focus{outline:1px dotted #000}}@keyframes esri-spinner--start-animation{0%{opacity:0;transform:scale(0)}to{opacity:1;transform:scale(1)}}@keyframes esri-spinner--finish-animation{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(0)}}@keyframes esri-spinner--rotate-animation{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@media (prefers-reduced-motion){.esri-utility-network-trace__reset-prompt{animation:none!important}}@media (prefers-reduced-motion){.esri-popup--aligned-top-center,.esri-popup--aligned-top-left,.esri-popup--aligned-top-right,.esri-popup--aligned-bottom-center,.esri-popup--aligned-bottom-left,.esri-popup--aligned-bottom-right,.esri-popup--is-docked{animation:none!important}}@keyframes esri-fade-in-down{0%{opacity:0;transform:translateY(-5px)}25%{opacity:0;transform:translateY(-5px)}to{opacity:1;transform:translate(0)}}@keyframes esri-fade-in-up{0%{opacity:0;transform:translateY(5px)}25%{opacity:0;transform:translateY(5px)}to{opacity:1;transform:translate(0)}}@keyframes esri-fade-in{0%{opacity:0}25%{opacity:0}to{opacity:1}}@keyframes esri-fade-in-scale{0%{opacity:0;transform:scale(.95)}to{opacity:1;transform:scale(1)}}@keyframes looping-progresss-bar-ani{0%{width:0;left:0}20%{width:20%;left:0}80%{width:20%;left:80%}to{width:0;left:100%}}@keyframes esri-rotate{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@keyframes panel-advance{0%{opacity:0;transform:translate(50px) scale(.99)}to{opacity:1;transform:translate(0) scale(1)}}@keyframes panel-retreat{0%{opacity:0;transform:translate(-50px) scale(.99)}to{opacity:1;transform:translate(0) scale(1)}}@keyframes panel-advance--rtl{0%{opacity:0;transform:translate(-50px) scale(.99)}to{opacity:1;transform:translate(0) scale(1)}}@keyframes panel-retreat--rtl{0%{opacity:0;transform:translate(50px) scale(.99)}to{opacity:1;transform:translate(0) scale(1)}}.esri-view{--esri-view-outline-color: var(--calcite-color-brand);--esri-view-outline: 2px solid var(--esri-view-outline-color);--esri-view-outline-offset: -2px;margin:0;padding:0;display:flex;height:100%;width:100%}.esri-view .esri-view-user-storage{overflow:hidden}.esri-view .esri-view-root{-webkit-tap-highlight-color:var(--calcite-color-foreground-1);-webkit-tap-highlight-color:transparent;border:none;flex:100%;margin:0;padding:0;position:relative}.esri-view .esri-view-surface{-webkit-user-select:none;user-select:none;direction:ltr;border:none;outline:0;width:100%;height:100%;margin:0;padding:0;position:absolute;top:0;left:0;overflow:clip}.esri-view .esri-view-surface--touch-none{touch-action:none}.esri-view .esri-view-surface--touch-pan{touch-action:pan-x pan-y}.esri-view .esri-view-surface:focus:after{box-sizing:border-box;z-index:999;outline:var(--esri-view-outline);outline-offset:var(--esri-view-outline-offset);content:"";pointer-events:none;width:100%;height:100%;position:absolute;top:0;left:0;overflow:hidden}.esri-view .esri-view-surface[data-navigating=true]{cursor:grabbing}.esri-view .esri-view-surface[data-cursor=copy]{cursor:copy}.esri-view .esri-view-surface[data-cursor=crosshair]{cursor:crosshair}.esri-view .esri-view-surface[data-cursor=help]{cursor:help}.esri-view .esri-view-surface[data-cursor=move]{cursor:move}.esri-view .esri-view-surface[data-cursor=pointer]{cursor:pointer}.esri-view .esri-view-surface[data-cursor=progress]{cursor:progress}.esri-view .esri-view-surface[data-cursor=grab]{cursor:grab}.esri-view .esri-view-surface[data-cursor=grabbing]{cursor:grabbing}.esri-view .esri-view-surface[data-cursor=n-resize]{cursor:n-resize}.esri-view .esri-view-surface[data-cursor=e-resize]{cursor:e-resize}.esri-view .esri-view-surface[data-cursor=s-resize]{cursor:s-resize}.esri-view .esri-view-surface[data-cursor=w-resize]{cursor:w-resize}.esri-view .esri-view-surface[data-cursor=ne-resize]{cursor:ne-resize}.esri-view .esri-view-surface[data-cursor=nw-resize]{cursor:nw-resize}.esri-view .esri-view-surface[data-cursor=se-resize]{cursor:se-resize}.esri-view .esri-view-surface[data-cursor=sw-resize]{cursor:sw-resize}.esri-view .esri-view-surface[data-cursor=ew-resize]{cursor:ew-resize}.esri-view .esri-view-surface[data-cursor=ns-resize]{cursor:ns-resize}.esri-view .esri-view-surface[data-cursor=nesw-resize]{cursor:nesw-resize}.esri-view .esri-view-surface[data-cursor=nwse-resize]{cursor:nwse-resize}.esri-view .esri-view-surface[data-cursor=none]{cursor:none}.esri-view .esri-display-object,.esri-view .esri-bitmap{-webkit-user-drag:none;-webkit-user-select:none;user-select:none;border:none;margin:0;padding:0;position:absolute}.esri-view .esri-bitmap{transform-origin:0 0;max-width:none}:root{view-transition-name:none}::view-transition{pointer-events:none}.esri-ui{box-sizing:border-box;z-index:0;pointer-events:none;contain:layout;font-size:var(--calcite-font-size);position:absolute;inset:0;overflow:hidden;container:esri-view-canvas/size}.esri-ui calcite-flow,.esri-ui calcite-panel{z-index:1;position:relative}.esri-ui .esri-component{pointer-events:auto}.esri-ui .esri-fov-overlay-outer{pointer-events:none;place-content:center;width:100%;height:100%;display:grid}.esri-ui .esri-fov-overlay{text-shadow:0 0 1px var(--calcite-color-foreground-1),0 0 2px var(--calcite-color-foreground-1),0 0 3px var(--calcite-color-foreground-1);color:var(--calcite-color-text-1);font-size:var(--calcite-font-size-3);-webkit-user-select:none;user-select:none;pointer-events:none;flex-direction:row;align-items:center;gap:7px;animation:1s forwards fadeInAnimation;display:flex}.esri-ui .esri-fov-overlay-reset{cursor:pointer;pointer-events:auto}.esri-ui .esri-fov-overlay-text{pointer-events:none}@keyframes fadeInAnimation{0%{opacity:0}to{opacity:1}}@media (prefers-reduced-motion: reduce){.esri-fov-overlay{animation:none!important}}.esri-ui-corner{display:flex;position:absolute}.esri-ui-inner-container{position:absolute;inset:0}.esri-ui-manual-container>.esri-component{position:absolute}.esri-ui-manual-container .esri-swipe{z-index:-1}.esri-ui-top-left,.esri-ui-top-right{flex-flow:column}.esri-ui-top-left{align-items:flex-start;top:0;left:0}.esri-ui-top-right{align-items:flex-end;top:0;right:0}.esri-ui-bottom-left,.esri-ui-bottom-right{flex-flow:row;align-items:flex-end}.esri-ui-bottom-right{flex-flow:row-reverse;bottom:0;right:0}.esri-ui-bottom-right .esri-component{margin-left:10px}.esri-ui-top-right .esri-component,.esri-ui-top-left .esri-component{margin-bottom:10px}.esri-ui-bottom-left{bottom:0;left:0}.esri-ui-bottom-left .esri-component{margin-right:10px}:dir(rtl) .esri-ui-top-left{align-items:flex-end}:dir(rtl) .esri-ui-top-right{align-items:flex-start}:dir(rtl) .esri-ui-bottom-left{flex-direction:row-reverse}:dir(rtl) .esri-ui-bottom-right{flex-direction:row}.esri-zoom-box__container{width:100%;height:100%;position:relative}.esri-zoom-box__overlay{cursor:crosshair;width:100%;height:100%;position:absolute;top:0;left:0}.esri-zoom-box__overlay-background{fill:#0000001a}.esri-zoom-box__outline{fill:var(--calcite-color-transparent);stroke:var(--calcite-color-brand);stroke-dasharray:1 1;stroke-width:var(--calcite-spacing-base)}.esri-overlay-surface{z-index:0;pointer-events:none;-webkit-user-select:none;user-select:none;border:none;width:100%;height:100%;margin:0;padding:0;position:absolute;top:0;left:0;overflow:clip}.esri-text-overlay-item{white-space:nowrap;font-size:var(--calcite-font-size);line-height:var(--calcite-font-line-height-relative-tight);display:block;position:absolute;overflow:hidden}.esri-text-overlay-item-anchor-bottom{transform:translate(-50%,-100%)}.esri-text-overlay-item-anchor-bottom-right{transform:translate(-100%,-100%)}.esri-text-overlay-item-anchor-bottom-left{transform:translateY(-100%)}.esri-text-overlay-item-anchor-top{transform:translate(-50%)}.esri-text-overlay-item-anchor-top-right{transform:translate(-100%)}.esri-text-overlay-item-anchor-top-left{transform:translate(0)}.esri-text-overlay-item-anchor-center{transform:translate(-50%,-50%)}.esri-text-overlay-item-anchor-right{transform:translate(-100%,-50%)}.esri-text-overlay-item-anchor-left{transform:translateY(-50%)}.esri-line-overlay-item,.esri-outline-overlay-item,.esri-box-overlay-item{white-space:nowrap;display:block;position:absolute;overflow:hidden}.esri-shadow-cast__tooltip{color:var(--calcite-color-text-2);font-size:var(--calcite-font-size-sm)}.esri-shadow-cast__tooltip__content{margin-top:-8px-var(--calcite-spacing-xxs);padding:var(--calcite-spacing-xs) var(--calcite-spacing-sm);background:var(--calcite-color-foreground-1);width:max-content;position:absolute;transform:translate(-50%,-100%)}.esri-shadow-cast__tooltip__content:after{content:"";border:8px solid var(--calcite-color-transparent);border-top-color:var(--calcite-color-foreground-1);box-sizing:inherit;width:0;height:0;display:block;position:absolute;bottom:1px;left:50%;transform:translate(-50%,100%)}.esri-attribution{position:absolute;bottom:0;left:0;right:0;background-color:var(--calcite-color-transparent-tint)!important;flex-flow:row;justify-content:space-between;align-items:center;font-size:var(--calcite-font-size-sm)!important;line-height:var(--calcite-font-line-height-fixed-base)!important;display:flex}.esri-attribution__link{color:var(--calcite-color-text-1)}.esri-attribution__link:hover,.esri-attribution__link:active,.esri-attribution__link:visited,.esri-attribution__link:focus{color:var(--calcite-color-text-1)}.esri-attribution__sources{text-overflow:ellipsis;white-space:nowrap;flex:1 0;align-self:flex-start;padding:0 5px;font-weight:var(--calcite-font-weight-light);overflow:hidden}.esri-attribution__sources[role=button]{font-size:1em}.esri-attribution__powered-by{color:var(--calcite-color-text-2);text-align:right;white-space:nowrap;align-self:flex-end;padding:0 5px;font-weight:var(--calcite-font-weight-normal)}.esri-attribution--open{z-index:2}.esri-attribution__sources--open{white-space:normal}.esri-button{box-sizing:border-box;cursor:pointer;white-space:normal;word-break:normal;color:var(--calcite-color-text-1);background-color:var(--calcite-color-status-info);border:var(--calcite-spacing-px) solid var(--calcite-color-status-info);justify-content:center;align-items:center;width:100%;min-height:var(--calcite-spacing-xxxl);padding:6px 7px;font-family:inherit;font-size:var(--calcite-font-size);transition:background-color .125s ease-in-out,border .125s ease-in-out;display:flex;overflow:hidden;&:hover{color:var(--calcite-color-text-1);background-color:var(--calcite-color-status-info-hover);border:var(--calcite-spacing-px) solid var(--calcite-color-status-info-hover)}}.esri-button:hover{color:var(--calcite-color-text-1);background-color:var(--calcite-color-text-2);border:1px solid var(--calcite-color-text-2)}.esri-button.esri-button--small{min-height:var(--calcite-spacing-xl);font-size:var(--calcite-font-size-sm)}.esri-button.esri-button--half{width:50%;display:inline-block}.esri-button.esri-button--third{width:33%;display:inline-block}.esri-button--secondary{color:var(--calcite-color-text-1);background-color:var(--calcite-color-foreground-1)}.esri-button--tertiary{color:var(--calcite-color-brand);background-color:var(--calcite-color-transparent);border-color:var(--calcite-color-transparent)}.esri-button--tertiary:hover{color:var(--calcite-color-brand-hover);background-color:var(--calcite-color-foreground-2);border-color:var(--calcite-color-transparent)}.esri-button--disabled{opacity:.4;pointer-events:none}.esri-button--drill-in{outline-offset:-4px;cursor:pointer;text-align:unset;background-color:var(--calcite-color-foreground-1);border:none;border-radius:2px;justify-content:space-between;align-items:center;margin:var(--calcite-spacing-md) 7px;padding:var(--calcite-spacing-md) 7px;text-decoration:none;transition:background-color .125s ease-in-out;display:flex;box-shadow:0 0 0 1px #adadad4d}.esri-button--drill-in:hover,.esri-button--drill-in:focus{background-color:var(--calcite-color-foreground-2)}.esri-button--drill-in__title{font-size:var(--calcite-font-size)}.esri-button--drill-in [class^=esri-icon-],.esri-button--drill-in [class*=" esri-icon-"]{padding:0 7px}.esri-widget--button{cursor:pointer;text-align:center;color:var(--calcite-color-text-2);background-color:var(--calcite-color-foreground-1);flex-flow:row;justify-content:center;align-items:center;width:var(--calcite-spacing-xxxl);height:var(--calcite-spacing-xxxl);margin:0;padding:0;font-size:var(--calcite-font-size);transition:background-color .125s ease-in-out;display:flex;overflow:hidden}.esri-widget--button:is(calcite-button):not(:hover){--calcite-icon-color: var(--calcite-color-text-3)}.esri-widget--button:not([appearance]),.esri-widget--button[appearance=solid]{--calcite-color-foreground-3: var(--calcite-color-foreground-1)}.esri-widget--button:is(calcite-button){--calcite-offset-invert-focus: 1}.esri-widget--button calcite-loader[inline]{margin:auto}.esri-button--secondary{color:var(--calcite-color-brand);background-color:var(--calcite-color-foreground-1);&:hover{color:var(--calcite-color-text-inverse);background-color:var(--calcite-color-status-info);border:1px solid var(--calcite-color-status-info)}}.esri-widget__heading{color:var(--calcite-color-text-2);margin:0 0 .5rem;font-weight:var(--calcite-font-weight-semibold)}h1.esri-widget__heading{font-size:var(--calcite-font-size-xl)}h2.esri-widget__heading{font-size:var(--calcite-font-size-md)}h3.esri-widget__heading,h4.esri-widget__heading,h5.esri-widget__heading,h6.esri-widget__heading{font-size:var(--calcite-font-size)}.esri-widget{--esri-widget-padding-x: 15px;--esri-widget-padding-y: var(--calcite-spacing-md);--esri-widget-padding: var(--esri-widget-padding-y) var(--esri-widget-padding-x);box-sizing:border-box;color:var(--calcite-color-text-2);background-color:var(--calcite-color-foreground-1);font-size:var(--calcite-font-size);line-height:var(--calcite-font-line-height-relative-tight)}.esri-widget *,.esri-widget :before,.esri-widget :after{box-sizing:inherit}.esri-widget.esri-widget--disabled>*{opacity:.4;pointer-events:none}.esri-widget.esri-widget--compact{--esri-widget-padding-y: 0;--esri-widget-padding-x: 0}.esri-widget__anchor{color:var(--calcite-color-text-2)}.esri-widget__anchor:hover{color:var(--calcite-color-text-3)}.esri-widget__anchor:hover,.esri-widget__anchor:focus{text-decoration:underline}.esri-widget__anchor--disabled{opacity:.4;pointer-events:none}.esri-widget__header{background-color:var(--calcite-color-foreground-1);flex:1 0 100%;justify-content:space-between;align-items:center;width:100%;min-height:48px;padding:12px 0 12px 15px;display:flex}.esri-widget__header .esri-widget__heading{width:calc(100% - 48px);text-align:initial;color:var(--calcite-color-text-1);align-items:center;margin:0;padding:0;display:flex}.esri-widget__header-button{appearance:none;cursor:pointer;color:var(--calcite-color-text-2);background-color:var(--calcite-color-foreground-1);border:none;flex:0 0 48px;justify-content:center;align-self:stretch;align-items:center;width:48px;padding:0;display:flex}.esri-widget__footer{background-color:var(--calcite-color-foreground-1);justify-content:center;align-items:center;width:100%;min-height:48px;display:flex}.esri-widget__footer-pagination{color:var(--calcite-color-text-2);justify-content:space-between;align-items:center;display:flex}.esri-widget__footer-pagination-previous-button,.esri-widget__footer-pagination-next-button{cursor:pointer;background-color:var(--calcite-color-foreground-1);border:0;margin:0 7px;padding:12px 15px;transition:background-color .125s ease-in-out}.esri-widget__footer-pagination-previous-button:hover,.esri-widget__footer-pagination-previous-button:focus,.esri-widget__footer-pagination-next-button:hover,.esri-widget__footer-pagination-next-button:focus{color:var(--calcite-color-text-1);background-color:var(--calcite-color-foreground-1)}.esri-menu{visibility:hidden;z-index:1;background-clip:padding;background-color:var(--calcite-color-foreground-1);background-clip:padding-box;width:100%;max-height:0;margin:2px 0 0;padding:0;font-size:var(--calcite-font-size);line-height:var(--calcite-spacing-xl);position:absolute;top:100%;left:0;overflow:hidden;box-shadow:0 1px 2px #0000004d}.esri-menu .esri-menu__header{color:var(--calcite-color-text-inverse);background-color:var(--calcite-color-inverse);padding:6px 12px}.esri-menu__list{margin:0;padding:0;list-style:none}.esri-menu__list-item{cursor:pointer;border-top:1px solid #adadad4d;border-left:3px solid #0000;padding:.8em 1em}.esri-menu__list-item [class^=esri-icon-],.esri-menu__list-item [class*=" esri-icon-"]{padding-right:2.8px}.esri-menu__list-item:first-child{border-top:none}.esri-menu__list-item--focus,.esri-menu__list-item:hover,.esri-menu__list-item:focus{background-color:var(--calcite-color-foreground-1)}.esri-menu__list-item:active{background-color:var(--calcite-color-foreground-current)}.esri-menu__list-item--active,.esri-menu__list-item--active:hover,.esri-menu__list-item--active:focus{background-color:var(--calcite-color-foreground-1);border-left-color:var(--calcite-color-brand)}.esri-widget__table{border-collapse:collapse;color:var(--calcite-color-text-1);border:none;width:100%;line-height:var(--calcite-font-line-height-relative-tight)}.esri-widget__table tr:nth-child(odd){background-color:var(--calcite-color-transparent)}.esri-widget__table tr:nth-child(2n){background-color:var(--calcite-color-transparent-press)}.esri-widget__table tr a{color:var(--calcite-color-text-2)}.esri-widget__table tr a:hover,.esri-widget__table tr a:focus{color:var(--calcite-color-text-1)}.esri-widget__table tr td,.esri-widget__table tr th{vertical-align:top;word-break:break-word;padding:.5em .7em;font-size:var(--calcite-font-size-sm);font-weight:var(--calcite-font-weight-regular)}.esri-widget__table tr th{text-align:left;border-right:3px solid #0000000d;width:50%}.esri-widget__table tr td{width:50%}.esri-input{color:var(--calcite-color-text-1);background-color:var(--calcite-color-foreground-1);border:1px solid #959595;font-size:var(--calcite-font-size)}.esri-input::-ms-clear{display:none}.esri-input::placeholder{opacity:1;color:var(--calcite-color-text-2)}.esri-input:placeholder-shown{text-overflow:ellipsis}.esri-input[type=text],.esri-input[type=password],.esri-input[type=number]{height:32px;padding:0 .5em}calcite-combobox.esri-input{border:none}.esri-widget__content--empty{text-align:center;color:var(--calcite-color-border-input);flex-flow:column wrap;align-items:center;padding:18px 22px;display:flex}.esri-widget__content--empty h1.esri-widget__heading,.esri-widget__content--empty h2.esri-widget__heading,.esri-widget__content--empty h3.esri-widget__heading,.esri-widget__content--empty h4.esri-widget__heading,.esri-widget__content--empty h5.esri-widget__heading{font-weight:var(--calcite-font-weight-regular)}.esri-widget__content-illustration--empty{width:128px;padding:1rem 0}.esri-widget__content-icon--empty{width:32px;padding:.5rem 0}.esri-select{appearance:none;cursor:pointer;color:var(--calcite-color-text-2);background:var(--calcite-color-foreground-1) url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='-8 -8 32 32' width='32' height='32'%3E%3Cpath d='M8 11.207l-4-4V5.793l4 4 4-4v1.414z' fill='%23adadad' fillrule='nonzero'/%3E%3C/svg%3E") 100% no-repeat;border:1px solid #959595;border-radius:0;width:100%;height:32px;margin:0;padding:0 .5em;font-family:inherit;font-size:.85em;display:block}.esri-select[disabled]{cursor:auto}.esri-select::-ms-expand{display:none}.esri-disabled a,.esri-disabled [role=menu],.esri-disabled [role=checkbox],.esri-disabled [class^=esri-icon-],.esri-disabled [class*=" esri-icon-"]{color:var(--calcite-color-text-3)}.keynav-mode .esri-widget:focus,.keynav-mode .esri-widget :focus{z-index:1;outline-offset:2px;outline:2px solid #adadad}.esri-widget__loader-animation{border:.15em solid #adadad4d;border-top-color:var(--calcite-color-border-input);border-radius:100%;width:1em;height:1em;font-size:var(--calcite-font-size-md);animation:1.25s linear infinite esri-rotate;display:block;transform:translateZ(0)}:dir(rtl) .esri-widget__table th{text-align:right;border-left:3px solid #0000000d;border-right:none}:dir(rtl) .esri-select{background-position:0}:dir(rtl) .esri-menu__list-item{border-left:none;border-right:3px solid #0000}:dir(rtl) .esri-menu__list-item [class^=esri-icon-],:dir(rtl) .esri-menu__list-item [class*=" esri-icon-"]{padding-left:2px;padding-right:0}:dir(rtl) .esri-menu__list-item--active{border-right-color:var(--calcite-color-brand)}.esri-icon-font-fallback-text{clip:rect(0 0 0 0);width:1px;height:1px;position:absolute;overflow:hidden}.esri-rotating{animation:1.25s linear infinite esri-rotate;transform:translateZ(0)}.esri-clearfix:before,.esri-clearfix:after{content:" ";display:table}.esri-clearfix:after{clear:both}.esri-interactive{cursor:pointer}.esri-invisible{visibility:hidden!important}.esri-offscreen{position:absolute;top:-999em;left:-999em}.esri-match-height{flex-direction:column;flex:auto;display:flex;overflow:hidden}.esri-hidden{display:none!important}[class^=esri-icon-],[class*=" esri-icon-"]{speak:none;font-variant:normal;text-transform:none;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-style:normal;font-weight:var(--calcite-font-weight-normal);line-height:1;font-family:CalciteWebCoreIcons!important}.esri-icon-close:before{content:"";color:inherit}.esri-icon-drag-horizontal:before{content:"";color:inherit}.esri-icon-drag-vertical:before{content:"";color:inherit}.esri-icon-handle-horizontal:before{content:"";color:inherit}.esri-icon-handle-vertical:before{content:"";color:inherit}.esri-icon-check-mark:before{content:"";color:inherit}.esri-icon-left-triangle-arrow:before{content:"";color:inherit}.esri-icon-right-triangle-arrow:before{content:"";color:inherit}.esri-icon-down-arrow:before{content:"";color:inherit}.esri-icon-up-arrow:before{content:"";color:inherit}.esri-icon-overview-arrow-bottom-left:before{content:"";color:inherit}.esri-icon-overview-arrow-bottom-right:before{content:"";color:inherit}.esri-icon-overview-arrow-top-left:before{content:"";color:inherit}.esri-icon-overview-arrow-top-right:before{content:"";color:inherit}.esri-icon-maximize:before{content:"";color:inherit}.esri-icon-minimize:before{content:"";color:inherit}.esri-icon-checkbox-unchecked:before{content:"";color:inherit}.esri-icon-checkbox-checked:before{content:"";color:inherit}.esri-icon-radio-unchecked:before{content:"";color:inherit}.esri-icon-radio-checked:before{content:"";color:inherit}.esri-icon-up-arrow-circled:before{content:"";color:inherit}.esri-icon-down-arrow-circled:before{content:"";color:inherit}.esri-icon-left-arrow-circled:before{content:"";color:inherit}.esri-icon-right-arrow-circled:before{content:"";color:inherit}.esri-icon-zoom-out-fixed:before{content:"";color:inherit}.esri-icon-zoom-in-fixed:before{content:"";color:inherit}.esri-icon-refresh:before{content:"";color:inherit}.esri-icon-edit:before{content:"";color:inherit}.esri-icon-authorize:before{content:"";color:inherit}.esri-icon-map-pin:before{content:"";color:inherit}.esri-icon-blank-map-pin:before{content:"";color:inherit}.esri-icon-table:before{content:"";color:inherit}.esri-icon-plus:before{content:"+";color:inherit}.esri-icon-minus:before{content:"";color:inherit}.esri-icon-beginning:before{content:"";color:inherit}.esri-icon-reverse:before{content:"";color:inherit}.esri-icon-pause:before{content:"";color:inherit}.esri-icon-play:before{content:"";color:inherit}.esri-icon-forward:before{content:"";color:inherit}.esri-icon-end:before{content:"";color:inherit}.esri-icon-erase:before{content:"";color:inherit}.esri-icon-up-down-arrows:before{content:"";color:inherit}.esri-icon-left:before{content:"";color:inherit}.esri-icon-right:before{content:"";color:inherit}.esri-icon-announcement:before{content:"";color:inherit}.esri-icon-notice-round:before{content:"";color:inherit}.esri-icon-notice-triangle:before{content:"";color:inherit}.esri-icon-home:before{content:"";color:inherit}.esri-icon-locate:before{content:"";color:inherit}.esri-icon-expand:before{content:"";color:inherit}.esri-icon-collapse:before{content:"";color:inherit}.esri-icon-layer-list:before{content:"";color:inherit}.esri-icon-basemap:before{content:"";color:inherit}.esri-icon-globe:before{content:"";color:inherit}.esri-icon-applications:before{content:"";color:inherit}.esri-icon-arrow-up-circled:before{content:"";color:inherit}.esri-icon-arrow-down-circled:before{content:"";color:inherit}.esri-icon-arrow-left-circled:before{content:"";color:inherit}.esri-icon-arrow-right-circled:before{content:"";color:inherit}.esri-icon-minus-circled:before{content:"";color:inherit}.esri-icon-plus-circled:before{content:"";color:inherit}.esri-icon-add-attachment:before{content:"";color:inherit}.esri-icon-attachment:before{content:"";color:inherit}.esri-icon-calendar:before{content:"";color:inherit}.esri-icon-close-circled:before{content:"";color:inherit}.esri-icon-browser:before{content:"";color:inherit}.esri-icon-collection:before{content:"";color:inherit}.esri-icon-comment:before{content:"";color:inherit}.esri-icon-configure-popup:before{content:"";color:inherit}.esri-icon-contact:before{content:"";color:inherit}.esri-icon-dashboard:before{content:"";color:inherit}.esri-icon-deny:before{content:"";color:inherit}.esri-icon-description:before{content:"";color:inherit}.esri-icon-directions:before{content:"";color:inherit}.esri-icon-directions2:before{content:"";color:inherit}.esri-icon-documentation:before{content:"";color:inherit}.esri-icon-duplicate:before{content:"";color:inherit}.esri-icon-review:before{content:"";color:inherit}.esri-icon-environment-settings:before{content:"";color:inherit}.esri-icon-error:before{content:"";color:inherit}.esri-icon-error2:before{content:"";color:inherit}.esri-icon-experimental:before{content:"";color:inherit}.esri-icon-feature-layer:before{content:"";color:inherit}.esri-icon-filter:before{content:"";color:inherit}.esri-icon-grant:before{content:"";color:inherit}.esri-icon-group:before{content:"";color:inherit}.esri-icon-key:before{content:"";color:inherit}.esri-icon-labels:before{content:"";color:inherit}.esri-icon-tag:before{content:"";color:inherit}.esri-icon-layers:before{content:"";color:inherit}.esri-icon-left-arrow:before{content:"";color:inherit}.esri-icon-right-arrow:before{content:"";color:inherit}.esri-icon-link-external:before{content:"";color:inherit}.esri-icon-link:before{content:"";color:inherit}.esri-icon-loading-indicator:before{content:"";color:inherit}.esri-icon-maps:before{content:"";color:inherit}.esri-icon-marketplace:before{content:"";color:inherit}.esri-icon-media:before{content:"";color:inherit}.esri-icon-media2:before{content:"";color:inherit}.esri-icon-menu:before{content:"";color:inherit}.esri-icon-mobile:before{content:"";color:inherit}.esri-icon-phone:before{content:"";color:inherit}.esri-icon-navigation:before{content:"";color:inherit}.esri-icon-pan:before{content:"";color:inherit}.esri-icon-printer:before{content:"";color:inherit}.esri-icon-pie-chart:before{content:"";color:inherit}.esri-icon-chart:before{content:"";color:inherit}.esri-icon-line-chart:before{content:"";color:inherit}.esri-icon-question:before{content:"";color:inherit}.esri-icon-resend-invitation:before{content:"";color:inherit}.esri-icon-rotate:before{content:"";color:inherit}.esri-icon-save:before{content:"";color:inherit}.esri-icon-settings:before{content:"";color:inherit}.esri-icon-settings2:before{content:"";color:inherit}.esri-icon-share:before{content:"";color:inherit}.esri-icon-sign-out:before{content:"";color:inherit}.esri-icon-support:before{content:"";color:inherit}.esri-icon-user:before{content:"";color:inherit}.esri-icon-time-clock:before{content:"";color:inherit}.esri-icon-trash:before{content:"";color:inherit}.esri-icon-upload:before{content:"";color:inherit}.esri-icon-download:before{content:"";color:inherit}.esri-icon-zoom-in-magnifying-glass:before{content:"";color:inherit}.esri-icon-search:before{content:"";color:inherit}.esri-icon-zoom-out-magnifying-glass:before{content:"";color:inherit}.esri-icon-locked:before{content:"";color:inherit}.esri-icon-unlocked:before{content:"";color:inherit}.esri-icon-favorites:before{content:"";color:inherit}.esri-icon-compass:before{content:"";color:inherit}.esri-icon-down:before{content:"";color:inherit}.esri-icon-up:before{content:"";color:inherit}.esri-icon-chat:before{content:"";color:inherit}.esri-icon-dock-bottom:before{content:"";color:inherit}.esri-icon-dock-left:before{content:"";color:inherit}.esri-icon-dock-right:before{content:"";color:inherit}.esri-icon-organization:before{content:"";color:inherit}.esri-icon-north-navigation:before{content:"";color:inherit}.esri-icon-locate-circled:before{content:"";color:inherit}.esri-icon-dial:before{content:"";color:inherit}.esri-icon-polygon:before{content:"";color:inherit}.esri-icon-polyline:before{content:"";color:inherit}.esri-icon-visible:before{content:"";color:inherit}.esri-icon-non-visible:before{content:"";color:inherit}.esri-icon-link-vertical:before{content:"";color:inherit}.esri-icon-unlocked-link-vertical:before{content:"";color:inherit}.esri-icon-link-horizontal:before{content:"";color:inherit}.esri-icon-unlocked-link-horizontal:before{content:"";color:inherit}.esri-icon-swap:before{content:"";color:inherit}.esri-icon-cta-link-external:before{content:"";color:inherit}.esri-icon-reply:before{content:"";color:inherit}.esri-icon-public:before{content:"";color:inherit}.esri-icon-share2:before{content:"";color:inherit}.esri-icon-launch-link-external:before{content:"";color:inherit}.esri-icon-rotate-back:before{content:"";color:inherit}.esri-icon-pan2:before{content:"";color:inherit}.esri-icon-tracking:before{content:"";color:inherit}.esri-icon-expand2:before{content:"";color:inherit}.esri-icon-arrow-down:before{content:"";color:inherit}.esri-icon-arrow-up:before{content:"";color:inherit}.esri-icon-hollow-eye:before{content:"";color:inherit}.esri-icon-play-circled:before{content:"";color:inherit}.esri-icon-volume-off:before{content:"";color:inherit}.esri-icon-volume-on:before{content:"";color:inherit}.esri-icon-bookmark:before{content:"";color:inherit}.esri-icon-lightbulb:before{content:"";color:inherit}.esri-icon-sketch-rectangle:before{content:"";color:inherit}.esri-icon-north-navigation-filled:before{content:"";color:inherit}.esri-icon-default-action:before{content:"";color:inherit}.esri-icon-undo:before{content:"";color:inherit}.esri-icon-redo:before{content:"";color:inherit}.esri-icon-cursor:before{content:"";color:inherit}.esri-icon-cursor-filled:before{content:"";color:inherit}.esri-icon-measure:before{content:"";color:inherit}.esri-icon-measure-line:before{content:"";color:inherit}.esri-icon-measure-area:before{content:"";color:inherit}.esri-icon-legend:before{content:"";color:inherit}.esri-icon-sliders:before{content:"";color:inherit}.esri-icon-sliders-horizontal:before{content:"";color:inherit}.esri-icon-cursor-marquee:before{content:"";color:inherit}.esri-icon-lasso:before{content:"";color:inherit}.esri-icon-elevation-profile:before{content:"";color:inherit}.esri-icon-slice:before{content:"";color:inherit}.esri-icon-line-of-sight:before{content:"";color:inherit}.esri-icon-zoom-to-object:before{content:"";color:inherit}.esri-icon-urban-model:before{content:"";color:inherit}.esri-icon-measure-building-height-shadow:before{content:"";color:inherit}.esri-icon-partly-cloudy:before{content:"";color:inherit}.esri-attachments__progress-bar:before,.esri-attachments__progress-bar:after{opacity:var(--calcite-opacity-100);content:"";height:1px;transition:opacity .5s ease-in-out;position:absolute;top:0}.esri-attachments__progress-bar:before{z-index:0;background-color:var(--calcite-color-foreground-2);width:100%}.esri-attachments__progress-bar:after{z-index:0;background-color:var(--calcite-color-text-2);width:20%;animation:1.5s linear infinite looping-progresss-bar-ani}.esri-attachments{background-color:var(--calcite-color-background)!important;width:100%}.esri-attachments__loader-container{justify-content:center;align-items:center;height:150px;padding:0;display:flex}.esri-attachments__loader{background:url(data:image/gif;base64,R0lGODlhIQAnALMKAAB6wrze86TR7Y3F53W44V6s2kaf1C+TzheGyNPq+f///wAAAAAAAAAAAAAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh/wtYTVAgRGF0YVhNUDw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMDE0IDc5LjE1Njc5NywgMjAxNC8wOC8yMC0wOTo1MzowMiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo1MkRGQzEzOEQ3MUIxMUU0QjJCRTkxRjI3NjA5MTc2MyIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDo2RDdDRTgwM0Q3MjAxMUU0QjJCRTkxRjI3NjA5MTc2MyIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo2RDdDRTgwMkQ3MjAxMUU0QjJCRTkxRjI3NjA5MTc2MyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ0MgMjAxNCAoTWFjaW50b3NoKSI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOmQyYThhNjgzLWIwNjctNDhhZi05Nzc0LTZiOTZkM2RhMjI2OCIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo1MkRGQzEzOEQ3MUIxMUU0QjJCRTkxRjI3NjA5MTc2MyIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PgH//v38+/r5+Pf29fTz8vHw7+7t7Ovq6ejn5uXk4+Lh4N/e3dzb2tnY19bV1NPS0dDPzs3My8rJyMfGxcTDwsHAv769vLu6ubi3trW0s7KxsK+urayrqqmop6alpKOioaCfnp2cm5qZmJeWlZSTkpGQj46NjIuKiYiHhoWEg4KBgH9+fXx7enl4d3Z1dHNycXBvbm1sa2ppaGdmZWRjYmFgX15dXFtaWVhXVlVUU1JRUE9OTUxLSklIR0ZFRENCQUA/Pj08Ozo5ODc2NTQzMjEwLy4tLCsqKSgnJiUkIyIhIB8eHRwbGhkYFxYVFBMSERAPDg0MCwoJCAcGBQQDAgEAACH5BAkEAAoALAAAAAAhACcAAASOUMlJq70W6L2xv1z4jVPIkaTZoZ+qsa0Ley4wY7WU7Dyv9z1JTgEMEos7oeyI/DUVQ2SSWVSqnFUq0GrCbrXGqNQbXkoTZB/UPAarxc8zV+SeytfXOlo/P/H/cFl3gV+DbHFthEaGeXeMXX+PdI6Jh4KVjW2SfpRPQzcVn6AlS6OkeaZ9K6l4kKyirLEXEQAh+QQJBAAKACwAAAAAIQAnAAAEqFDJSau9OOutkP8fx4GkuJGgqaGhirGe+8JSYN+3CCM1jkuJoFAo2fV8NuBwWKQpkDnFktlxQpPSabDJOiKVWi7K6wNPxaXn1bxEp9RQNtUI/2bD1W69fD/nx3s/fW1/aVcBckSFb4eJW4stjYNzVmuTinSSWo+ZlpsJbpGem6ExgVGfpTynWKmQppqkr6uxeJ1xl5yVuCdOMhV0vxTBwqrFw77HysvFEQAh+QQFBAAKACwAAAAAIQAnAAAEqFDJSau9OOvNez5gGHqaaJKfOaKXugpwHHcuKMk4Xd/4rCTAYFBSO/B6AolwSdwpkDDlcqgoHnvSaaLpuuZ+2m3VCU2CtVyVV5adpk9PaJs57saRc+FbtPaFxVZ3WGdudWqCX397L3KEdIFleVSQjYqGcJGOepd8iGyak2SVYYs2nn6knIx4oEClRqdRrYCirJaUtqm4gxu7X71OLBWBwhTExcjJysseEQAh+QQJBAAKACwBAAMAFAAhAAAEU9DIOZW9WNGd+6Zd9lXKYJ7nKFloqxpsm6qxPLy1jJf2TfO2Xc83yrl+Q2FPGUQunc0iUAelSpPV4/W5jX6MKKb1O9WSsd0xpxzOtqUhyy6u+dEjACH5BAkEAAoALAAAAAAhACcAAASAUMlJq7046827/10hjiOIkahErCwboqXSzi9cqLPL2SKeEzWYLxdMyX7AHW9IU9qYrSIJqtvwbsefNIZMWpdZolMYbn6f5ejY2N320lXNlbpyY9vrKbye5yLtdF5yYHhnZIWDaIgZc3uCjIR/fW+LJ5Fak3eShkYmnp+goaKjHREAIfkECQQACgAsAAAAACEAJwAABKhQyUmrvTjrzbv/IFaMJNkRaJpKZXuqKtuaHBwrM73ZK54XkoRwOJTwULJckEg0HpOzJVPo5EFdimlRcSRcS9Jp1falaancp0+ZPY9h5VGY+b79gG1tvXefN9NWa1F5YoBkglhnCXtIiGCEdIZwjmZuknY/fltdcXiKjF6UcpB/nKKelqZ9pJtqq5+XfJmsaKqzsLZsuK6zO7xsvoGrIRXDxMfIycrLxBEAIfkEBQQACgAsAAAAACEAJwAABKdQyUmrvTjrzbu3RiiKXzaeJXaO3eC+r7SSHGzLs9HasZLrioRwOJTwej8JcWk8DnAz5bKocD59Oek00TxCV9ppl/dFBbfcqrPMOm/HN2zULVZ75WA6007Gm9FpVmw0gHAwgyFhe4J+bYV8cUl6RIZIWZNUjJKPmpeca42EaJUuiECfd5ujkIehiZhCpFeqb6yWc6h9khudcykVu78TwcKuQMXIycrKEQAh+QQJBAAKACwBAAMAFAAhAAAEVVDJSdW5GNed+65dJowkKYVYqZ7ooZYs+ppWO49xeAt5t/eiGzAlrMmKLRfStjzOhpefUdekPqe+avaalHa1QS5T7HxBlWSrGRtef9OezyQpn7fq5wgAIfkECQQACgAsAAAAACEAJwAABIBQyUmrvTjrzZH/H9eBoLiRpZmhoYqxnhjMNC3BiFzXN6zvsx7rBxSiiDsjCclT4Jg2p48DjD6p1YAytclqpUNsddvqZskxcRF8VCfZS3fzah7DuRovOie3TutrdHlnd2WDdoIZeoVpgG+JGIuQF5J/LhWTl5kumyqdJp+XoqMiEQAh+QQJBAAKACwAAAAAIQAnAAAEjlDJSau9OIPNef5VJ4KkInYleHqptgKtu8bYC5NJruuSLe3AH5BnegmHieOwZ1Qgc8pgceZ8RndM6jNZRWZPV+L2O+ouzVIfGrsmqsdt6BQc58Lf1joZpe/jvX5NcHeCeYRahnl/Z4d0g4qFgI1lj4CLUpN8lWeXbCpNNCGgoRNqpKWjp6anc2WsrXyvrBEAIfkECQQACgAsAAAAACEAJwAABKlQyUmrvTjrzZH/H9eBoLiRpZmhoYqxnvvCUmDft5TsPC/BiBoOp+v1fjTFkKgwHhVA4TJQdCaQLOmy6sSitEOu0UsCM607cmpqEz+jSrbbB02yqU20unWfp+tZcVN+V4Bfglt5VnsxiGGKXYZljmd6kmtykGOXfJlohXB9mm92npahpoucjaKfjEGUOaN0qIOzf7WJJ6W2u4EyFXDAFMLDr8bEScjLzBoRACH5BAUEAAoALAAAAAAhACcAAASqUMlJq7046827t0coil82niV2jum1koogz3P3hhKtS0nv+5LbIaerKX7I4I1YFPCQQIWQWXxCE8oXdXe8YqXLWNPZvWZXW5oVekaJm+skWPuultlzdJ3r/U73andyf2NkfW0sgEaHeW6FcT+IMI+CkY2JlIyEY5BRm3CVnmGZXpI4ijKdPaZDqIall5Ocoauxp6Rmtq2UG592vaOzwHQtFH/FE8fIy8zNzBEAIfkECQQACgAsDAADABQAIQAABFPQyDmVvVjRnfumXfZVymCe5yhZaKsabJuqsTy8tYyX9k3ztl3PN8q5fkNhTxlELp3NIlAHpUqT1eP1uY1+jCim9TvVkrHdMacczralIcsurvnRIwAh+QQJBAAKACwAAAAAIQAnAAAEgFDJSau9OOvNu/8gVowkGV5lKhFs23ZpubouHI8zzdp3rvMxHw2oUuhenBvOeCQQZczj0xT9JZXC2rVXHW6DXe1GWcgix9jwWUM2777FphMOlU+Xdjo1j+by2Wl/GW1qb31ggiKBTXdlhXOHcYx6eJORdZaAfpmDaSefoKGio58RACH5BAkEAAoALAAAAAAhACcAAASoUMlJq7046827/2AoFWRZdkSqqqNpouvauiQcpzMtJXzfSzeWgnZS+I7AICHn2h1/CuVySCw4n4lkkPkyYrNRJbf4BUvHNS9We0Nb1U92zH2Nh7dUYh15b+d1cHxnf02BPnIyhF1liEJVb4x9c4pkX404lGmRg497h5KJnYZQnFWepGKZkJagjqajPJdTopuptKylehy5gBu8hb62ryIUosTHyMnKyxIRACH5BAUEAAoALAAAAAAhACcAAASpUMlJq7046827/5IhjiOIkah5oWQ3vDAcsqIbxzMtJXzfSzecglZT+I7A4CvH2h1/CuVySHQ+E0klM2W8YqPSbat7zQbFJfLTfEMXvV/pwG2wrsFaqk6NxJ/1TXw+bEJEdYJQcnR2fYqAXHCEMo9jkX5tlGmWjoaMg5eFVYg8klOdo3FhmW9epXOrh5uqp7J5tK2gk6cbnKK8s74qE7vCi8XDwcfKy8wWEQAh+QQJBAAKACwMAAMAFAAhAAAEVVDJSdW5GNed+65dJowkKYVYqZ7ooZYs+ppWO49xeAt5t/eiGzAlrMmKLRfStjzOhpefUdekPqe+avaalHa1QS5T7HxBlWSrGRtef9OezyQpn7fq5wgAIfkECQQACgAsAAAAACEAJwAABIBQyUmrvTjrzTf6INh5YThqpXliqbhe7dcFdF1LMTLbNh7vPJqvBQwOU0XesZTsKXLN2/PHCUqhVWtgqdpot1Ni1sp1ebVl2dgYRq6VbebbiT2T413NN62bX6l2bHV6aHhmhHeDGXuGaoFwihiMkReTgC8UlC+aK5wnniOgmKOjEQAh+QQJBAAKACwAAAAAIQAnAAAEjlDJSau9OGsFuvdbyH2fuJGlmaGgirGd+8LyBQNSou97zvOSm++nGxKDNAWxp1wmkCzjTwocRZtLKlOIPXanVpS2+K1ync/yNokep89ON1SsJrfDJHn9zY7v53l/gnBZg32Fd4ReiYeLfopgjFd3knSUj42RmJN+lYE1FFygE6KjeCmmpy2ppaOtoK+pFhEAIfkECQQACgAsAAAAACEAJwAABI1QyUmrvTjrzTf6INh5YThqpXliqbhe7ffCsZTcOG7nuRQjO94tKPTVFEIdMpkwtog8aE/xkyqZTeoRax1qn8tkN1sNF83Rb2rMVpfaXLcqHi/Tmc41elrf4vdKdn99YHdici6GZ4KHhHqKaYxnjm+AXpRzg3+SaZguMxRloBOio4gypnmVqaWjramwLxEAIfkEBQQACgAsAAAAACEAJwAABIpQyUmrvTjrzbv/0iGOI4iRqHmhpGqxpUvBopTcOG7neUjvvBsw6IMNeceegnZI6hTBJ9MphEYTRRYVa41mU11iGLn8jZVX7vT8TH9b7Kq7bIxz5+s53qy/vmN9XnRadlt/NYWJeX6KfIx7dYFii4KQhJJklGKWYJhKazKHTaGipKWmoKGppqytrBEAIfkECQQACgAsFwADAAkAIQAABBLQyEmrvTjrzbv/YCiOZGmeZQQAIfkECQQACgAsAAAAACEAJwAABFBQyUmrvTjrzbv/YCgVZFmKlqmilWqylHvCo1zQtYwr9o33O+DPFiQOdUdXEUkTNo1PJsw5hValLGrWusWitF9u2CsCl8Vncsi8Ru/e8PguAgAh+QQJBAAKACwAAAAAIQAnAAAEhlDJSau9OOvNu/9gKIZEaZpjda4ptZ5SIs9zTNPSiyo3zveynI5gAxZ7Qt3xtvQNiT9jFKl4NmtTZnV4DWad3C8W6LWKveRE8tVVn93mdHvNes+3Srs+Tr7zpXJ4bHqBf1SFYYGIeYp9gnWNUoZai4ORVJM+lXUtjzCdnjudZqClpqeoqRsRACH5BAUEAAoALAAAAAAhACcAAASFUMlJq7046827/2AojuQ2nChaTmkrJXAcv7IstSldw/p+46deTWhTAIOK3SypTPyAxGXTaTxGeUzlE3elTreurE88rELJxa+Zi5Y2wbk2Vn0cdO/rsJpulXvfeXF7gHV4fGeDWoEqfniFjZCPiWOSgIdsk2WVipdhK4+ffSujpKWmp6grEQAh+QQJBAAKACwXAAYACQAbAAAEEFDISau9OOvNu/9gKI5kyUUAIfkECQQACgAsAAAAACEAJwAABElQyUmrvTjrzbv/YCiOZGkqQaqqJ7qu7QufMkvXQYzrNS/7L+DMhMvdesdfMrgclopCG3HXlD6pU2RWuWV2nSRoa0wum8/o9CYCACH5BAUEAAoALAAAAAAhACcAAARsUMlJq7046827/2AojmRpckmqqtLqti6rxDKdwjQe6+9s8ytg7efLFXfHni0hvCWDz6Fx2WRGndSrNcsldqfeMHiM/JbFZ7ISvVZDze20PE5/s+1u6Ry/19f9fH9Yd4CFTieIiYqLjI2OjyQRACH5BAUEAAoALAAAAAABAAEAAAQCUEUAIfkEBQQACgAsAAAAAAEAAQAABAJQRQA7) 50% no-repeat;width:100%;height:64px}.esri-attachments__actions{flex-flow:wrap;padding:6px 7px;display:flex}.esri-attachments__item-add-icon{font-size:var(--calcite-font-size-xl);margin:0;padding:0 7px}.esri-attachments__delete-button{color:var(--calcite-color-status-danger);width:auto;margin-right:auto}.esri-attachments .esri-attachments__items{width:100%;margin:0;padding:0;display:flex}.esri-attachments .esri-attachments__item{margin:0;line-height:var(--calcite-font-line-height-relative-tight);list-style-type:none}.esri-attachments__item-button{outline-offset:-4px;cursor:pointer;width:100%;text-align:unset;color:var(--calcite-color-text-2);background-color:var(--calcite-color-foreground-2);border:1px solid var(--calcite-color-foreground-1);border-radius:var(--calcite-border-width-md);align-items:center;margin:0 0 var(--calcite-spacing-xs);padding:var(--calcite-spacing-xs) 7px;text-decoration:none;transition:border-color .125s ease-in-out;display:flex;box-shadow:0 1px var(--calcite-color-foreground-1)}.esri-attachments__item-button:focus,.esri-attachments__item-button:hover{border-color:var(--calcite-color-border-white)}.esri-attachments__item-link{text-decoration:none;display:block;position:relative}.esri-attachments__item-link:hover .esri-attachments__item-link-overlay,.esri-attachments__item-link:focus .esri-attachments__item-link-overlay{opacity:1}.esri-attachments__item-add{background-color:var(--calcite-color-background);padding:6px 0}.esri-attachments__add-attachment-button{align-items:baseline!important;border-radius:var(--calcite-corner-radius-xs);border:none!important;justify-content:flex-start!important;padding:12px 3px!important;font-size:var(--calcite-font-size-sm)!important;transition:background-color .25s ease-in-out}.esri-attachments__add-attachment-button:hover{background-color:var(--calcite-color-foreground-1)!important;text-decoration:none;box-shadow:0 1px 2px #0000004d}.esri-attachments__item-link-overlay{opacity:0;pointer-events:none;-webkit-user-select:none;user-select:none;justify-content:center;align-items:center;transition:opacity .25s ease-in-out;display:flex;position:absolute;inset:0}.esri-attachments__item-link-overlay-icon{color:var(--calcite-color-foreground-2);background-color:var(--calcite-color-foreground-1);border-radius:100%;justify-content:center;align-items:center;padding:18px;display:flex}.esri-attachments__item-link-overlay-icon svg{fill:var(--calcite-color-foreground-1)}.esri-attachments__item-mask{justify-content:center;align-items:center;width:64px;height:64px;display:flex;position:relative;overflow:hidden;box-shadow:0 0 0 1px var(--calcite-color-foreground-1)}.esri-attachments__item-mask--icon{background-color:var(--calcite-color-foreground-2);padding:24px 0}.esri-attachments__item-mask--icon .esri-attachments__image{width:var(--calcite-spacing-xxxl);height:var(--calcite-spacing-xxxl)}.esri-attachments__metadata{justify-content:space-between;margin-top:3px;display:flex}.esri-attachments__metadata .esri-attachments__metadata-fieldset{text-align:center;background-color:var(--calcite-color-foreground-1);border:none;flex:0 calc(50% - 1px);margin:0;padding:6px 7px;font-size:var(--calcite-font-size-sm)}.esri-attachments__file-name{white-space:pre-wrap;word-break:break-word;word-wrap:break-word;margin-bottom:3px;font-size:var(--calcite-font-size-sm);display:inline-block}.esri-attachments__file-fieldset{border:none;margin:0;padding:var(--calcite-spacing-md) 7px}.esri-attachments__file-input{opacity:0;z-index:-1;width:.1px;height:.1px;position:absolute;overflow:hidden}.esri-attachments__container--list .esri-attachments__items{flex-flow:column}.esri-attachments__container--list .esri-attachments__item-mask{flex:none;margin-right:7px;position:relative}.esri-attachments__container--list .esri-attachments__image{max-width:unset;max-height:unset;left:50%}.esri-attachments__container--list .esri-attachments__label{flex:auto;justify-content:space-between;display:flex}.esri-attachments__container--list .esri-attachments__filename{white-space:pre-wrap;word-break:break-word;word-wrap:break-word;cursor:pointer;flex:1 0 0}.esri-attachments__container--list .esri-attachments__item-chevron-icon{cursor:pointer;flex:none;padding:0 15px}.esri-attachments__container--preview .esri-attachments__items{flex-flow:wrap;align-items:center}.esri-attachments__container--preview .esri-attachments__item{width:100%;margin-bottom:var(--calcite-spacing-md)}.esri-attachments__container--preview .esri-attachments__item-mask{width:100%;height:auto}.esri-attachments__container--preview .esri-attachments__item-button{box-shadow:none;flex-flow:column}.esri-attachments__container--preview .esri-attachments__item-button .esri-attachments__label{margin:var(--calcite-spacing-md) 0}.esri-attachments__container--preview .esri-attachments__image{max-width:100%}.esri-attachments__container--preview .esri-attachments__filename{white-space:pre-wrap;word-break:break-word;word-wrap:break-word;text-align:center;text-overflow:ellipsis;width:calc(100% - 15px);margin-top:var(--calcite-spacing-md);overflow:hidden}.esri-attachments__container--preview .esri-attachments__item-mask--icon{background-color:var(--calcite-color-foreground-1)}.esri-attachments__form-node{background-color:var(--calcite-color-foreground-1);padding:6px 7px;box-shadow:var(--calcite-shadow-sm)}.esri-attachments__form-node .esri-attachments__item-mask{box-shadow:none;width:unset;height:unset}.esri-attachments__form-node .esri-attachments__image{max-width:100%}.esri-attachments__error-message{background-color:var(--calcite-color-foreground-1);border-top:3px solid var(--calcite-color-status-danger);margin:6px 7px;padding:var(--calcite-spacing-md) 15px;animation:.25s ease-in-out esri-fade-in-down;box-shadow:0 1px 2px #0000004d}.esri-attachments__progress-bar{width:100%;position:absolute}.esri-attachments__item-mask:dir(rtl){margin-left:7px;margin-right:0}.esri-feature-form{letter-spacing:0em;background:var(--calcite-color-background);padding:var(--esri-widget-padding)}.esri-feature-form__disabled-notice{margin-bottom:var(--calcite-spacing-xl)}.esri-feature-form .esri-feature-utility-network-associations,.esri-feature-form .esri-feature-form-utility-network-association-list{margin-block-end:var(--calcite-spacing-md)}.esri-feature-form .esri-feature-utility-network-associations .esri-feature-element-info__description{color:var(--calcite-color-text-2)}.esri-feature-form .esri-feature-utility-network-associations .esri-feature-element-info h5{font-size:inherit}.esri-feature-form__form{flex-direction:column;display:flex}.esri-feature-form__centered-button{align-self:center}.esri-feature-form__description-text{color:var(--calcite-color-text-2);font-size:var(--calcite-font-size-sm)}.esri-feature-form__list-observer{z-index:2;text-align:center;position:relative;bottom:var(--calcite-spacing-xxl)}.esri-feature-form__related-records_header{margin-bottom:var(--calcite-spacing-xs);display:flex}.esri-feature-form__related-records_header span{flex-grow:1}.esri-feature-form__related-records_label calcite-notice,.esri-feature-form__related-records_label .esri-feature-form__description-text{margin-bottom:var(--calcite-spacing-xs)}.esri-feature-form__related-records_list{min-height:40px;margin-bottom:var(--calcite-spacing-xs)}label.esri-feature-form__label{gap:.5em;margin-bottom:var(--calcite-spacing-md)}.esri-feature-form__label{opacity:1;flex-direction:column;justify-content:space-between;margin-bottom:var(--calcite-spacing-xs);transition:opacity .25s,margin .25s;display:flex;position:relative}.esri-feature-form__label:last-child{margin-bottom:0}.esri-feature-form__label-text-content{white-space:pre-wrap;word-break:break-word;word-wrap:break-word;align-items:center;display:flex}.esri-feature-form__form-header{margin-bottom:var(--calcite-spacing-md)}.esri-feature-form__form-header .esri-feature-form__description-text~.esri-widget__heading{margin-bottom:0}.esri-feature-form__input{width:100%}.esri-feature-form__input:focus{outline:2px solid var(--calcite-color-brand);outline-offset:-2px}textarea.esri-feature-form__input{resize:vertical}.esri-feature-form__input--disabled{background-color:var(--calcite-color-background);font-weight:var(--calcite-font-weight-medium)}.esri-feature-form__field-error-message{padding:7px 0;font-size:var(--calcite-font-size-sm)}.esri-feature-form__date-input-container{flex-direction:column;display:flex}.esri-feature-form__date-input-container .esri-feature-form__input{margin-bottom:3px}.esri-feature-form__date-input-container :last-child{margin-bottom:0}.esri-feature-form__input--radio-group{flex-direction:column;display:flex}.esri-feature-form__input--radio-label{align-items:center;display:flex}.esri-feature-form__input--switch{margin:7px 0}.esri-feature-form__group{margin:0 0 var(--calcite-spacing-md);background-color:inherit;margin-inline:-10px}.esri-feature-form__group--sequential{border-bottom:none;border-inline-start:3px solid #adadad4d}.esri-feature-form__group--active{border-inline-start-color:var(--calcite-color-status-info)}.esri-feature-form__text-element{color:var(--calcite-color-text-3);line-height:var(--calcite-font-line-height-relative-snug);font-size:var(--calcite-font-size--1);font-weight:var(--calcite-font-weight-normal)}.esri-feature-form__text-element a{transition:background-color,block-size,border-color,box-shadow,color,inset-block-end,inset-block-start,inset-inline-end,inset-inline-start inset-size,opacity,outline-color,transform var(--calcite-animation-timing) ease-in-out 0s,outline 0s,outline-offset 0s;background-color:var(--calcite-color-background);background-image:linear-gradient(currentColor,currentColor),linear-gradient(var(--calcite-color-brand-underline),var(--calcite-color-brand-underline));color:var(--calcite-color-text-link);background-position-x:0%,100%;background-position-y:min(1.5em,100%);background-repeat:no-repeat,no-repeat;background-size:0% 1px,100% 1px;border-style:none;padding:0;text-decoration:none;display:inline;position:relative}.esri-feature-form__text-element a:hover,.esri-feature-form__text-element a:focus{background-size:100% 1px,100% 1px}.esri-feature-form__text-element a:active{background-size:100% 2px,100% 2px}.esri-feature-form__text-element a.calcite--rtl{background-position:100% 100%,100% 100%}.esri-feature-form__text-element code{border:1px solid var(--calcite-color-border-3);background-color:var(--calcite-color-foreground-3);white-space:normal;word-break:break-word;color:var(--calcite-color-text-2);font-family:var(--calcite-code-family);border-radius:var(--calcite-spacing-base);padding:.25em;font-size:85%}.esri-feature-form__text-element h1,.esri-feature-form__text-element h2,.esri-feature-form__text-element h3,.esri-feature-form__text-element h4,.esri-feature-form__text-element h5{color:var(--calcite-color-text-1);line-height:var(--calcite-font-line-height-relative-snug);font-size:var(--calcite-font-size-0);font-weight:var(--calcite-font-weight-bold);margin-bottom:var(--calcite-spacing-xxs)}.esri-feature-form__text-element h5{font-weight:var(--calcite-font-weight-medium)}.esri-feature-form__text-element h6{color:var(--calcite-color-text-2);line-height:var(--calcite-font-line-height-relative-snug);font-size:var(--calcite-font-size--1);font-weight:var(--calcite-font-weight-medium);margin-bottom:var(--calcite-spacing-xxs)}.esri-feature-form__text-element p{color:var(--calcite-color-text-3);line-height:var(--calcite-font-line-height-relative-snug);font-size:var(--calcite-font-size--1);font-weight:var(--calcite-font-weight-normal);margin-bottom:var(--calcite-spacing-xl)}.esri-feature-form__text-element strong{font-weight:var(--calcite-font-weight-bold)}:dir(rtl) .esri-feature-form__date-input-part:first-child .esri-feature-form__input{border-left:none;border-right:1px solid #adadad4d}.esri-feature-form-utility-network-association-layers{background-color:var(--calcite-color-background)}.esri-feature-form-utility-network-association-layers__header>*{margin-block-end:var(--calcite-spacing-md)}.esri-feature-form-utility-network-association-layers__header>:last-child{color:var(--calcite-color-text-3)}.esri-feature-form-utility-network-association-layers__heading-content{align-items:center;display:flex}.esri-feature-form-utility-network-association-layers__heading-content calcite-icon{margin-inline-end:var(--calcite-spacing-md)}.esri-feature-form-utility-network-association-layers__list-container{min-height:var(--calcite-spacing-xxxl);margin-bottom:var(--calcite-spacing-md)}.esri-feature-form-utility-network-association-layers__feature-observer{z-index:2;text-align:center;position:relative;bottom:20px}.esri-feature-form-utility-network-association-layers__filter-container{z-index:1;margin-bottom:var(--calcite-spacing-md);top:var(--calcite-spacing-md)}.esri-feature-form-utility-network-association-layers__filter-options-container{flex-direction:column;display:flex}.esri-feature-form-utility-network-association-layers__filter-options-header{flex-direction:row;align-items:baseline;display:flex}.esri-feature-form-utility-network-association-layers__filter-options-header span{flex-grow:1}.esri-feature-form-utility-network-association-layers__spatial-select-container{flex-direction:column;align-items:flex-end;gap:6px;display:flex}.esri-feature-form-utility-network-association-layers__spatial-select-toolbar{--calcite-action-group-border-color: transparent;border-width:var(--calcite-border-width-sm, 1px);border-radius:var(--calcite-corner-radius-round, 4px);border-style:solid;border-color:var(--calcite-color-border-3, var(--calcite-color-inverse));width:100%;min-height:min-content;overflow:hidden}.esri-feature-form-utility-network-association-layers__sticky-loading-container{z-index:2;pointer-events:none;justify-content:center;align-items:center;height:var(--calcite-spacing-xxxl);margin:0;padding:0;display:flex;position:sticky;bottom:10px}.esri-feature-form-utility-network-association-layers__loading-container{justify-content:center;width:100%;padding:var(--calcite-spacing-md) 0;display:flex}.esri-feature-form-utility-network-association-list{background-color:var(--calcite-color-foreground-1)}.esri-feature-form-utility-network-association-list__header>*{margin-block-end:var(--calcite-spacing-md)}.esri-feature-form-utility-network-association-list__header>:last-child{color:var(--calcite-color-text-3)}.esri-feature-form-utility-network-association-list__header calcite-block{margin-block-start:-18px;margin-inline:-15px}.esri-feature-form-utility-network-association-list__heading-content{align-items:center;display:flex}.esri-feature-form-utility-network-association-list__heading-content calcite-icon{margin-inline-end:var(--calcite-spacing-md)}.esri-feature-form-utility-network-association-list__list-container{flex-direction:column;min-height:var(--calcite-spacing-xxxl);display:flex}.esri-feature-form-utility-network-association-list__list-container calcite-fab{margin-block:var(--calcite-spacing-md);flex-direction:row;align-self:center;display:flex}.esri-feature-form-utility-network-association-settings{--calcite-block-padding: 0;background-color:var(--calcite-color-foreground-1);flex-direction:column;display:flex}.esri-feature-form-utility-network-association-settings calcite-block{border:1px solid var(--calcite-color-border-3);margin-block:0}.esri-feature-form-utility-network-association-settings calcite-block:first-of-type{border-radius:var(--calcite-spacing-sm) var(--calcite-spacing-sm) 0 0}.esri-feature-form-utility-network-association-settings calcite-block:last-of-type{border-top:none;border-radius:0 0 var(--calcite-spacing-sm) var(--calcite-spacing-sm);margin-block-end:var(--calcite-spacing-md)}.esri-feature-form-utility-network-association-settings calcite-block calcite-label{margin-inline:var(--calcite-spacing-md)}.esri-feature-form-utility-network-association-settings__info-container{flex-direction:column;display:flex}.esri-feature-form-utility-network-association-settings__info-container>*{margin-block-end:var(--calcite-spacing-md)}.esri-feature{letter-spacing:0em;isolation:isolate;position:relative;width:100%}.esri-feature__title{word-break:break-word;word-wrap:break-word;font-size:var(--calcite-font-size);display:block}.esri-feature calcite-icon{box-sizing:content-box}.esri-feature__attachments{display:flex}.esri-feature__loading-container{justify-content:center;width:100%;padding:var(--calcite-spacing-md) 0;display:flex}.esri-feature-relationship{position:relative}.esri-feature-relationship__list{min-height:var(--calcite-spacing-xxxl)}.esri-feature-relationship__list-item--hidden{display:none}.esri-feature-utility-network-associations{position:relative}.esri-feature__filter-container{z-index:1;margin-bottom:var(--calcite-spacing-md);position:sticky;top:var(--calcite-spacing-md)}.esri-feature__feature-observer{z-index:2;text-align:center;position:relative;bottom:var(--calcite-spacing-xxl)}.esri-feature__sticky-loading-container{z-index:2;pointer-events:none;justify-content:center;align-items:center;height:var(--calcite-spacing-xxxl);margin:0;padding:0;display:flex;position:sticky;bottom:10px}.esri-icon-loading-indicator{display:inline-block}.esri-feature__content-element{margin-bottom:24px;padding:0 7px}.esri-feature__content-element .esri-widget__heading{line-height:var(--calcite-font-line-height-relative-tight)}.esri-feature__content-element:only-child,.esri-feature__content-node--text{margin-bottom:3px}.esri-feature__content-node{flex-direction:column;display:flex}.esri-feature__text{line-height:var(--calcite-font-line-height-relative-tight)}.esri-feature-attachments{flex-flow:column wrap;align-items:flex-start}.esri-feature__last-edited-info{padding-top:var(--calcite-spacing-xs);font-size:var(--calcite-font-size-sm)}:dir(rtl) .esri-feature__attachments-title{margin:0 0 0 auto}:dir(rtl) .esri-feature__attachments--list .esri-feature__attachment-item-mask{margin-left:7px;margin-right:0}.esri-feature-content__loader-container{justify-content:center;align-items:center;height:150px;padding:0;display:flex}.esri-feature-content__loader{background:url(./assets/attachments/images/loading-throb.gif) 50% no-repeat;width:100%;height:64px}.esri-feature-content{font-size:var(--calcite-font-size)}.esri-feature-content h1,.esri-feature-content h2,.esri-feature-content h3,.esri-feature-content h4,.esri-feature-content h5,.esri-feature-content h6{letter-spacing:0;color:var(--calcite-color-text-2);margin:.5em 0;font-weight:var(--calcite-font-weight-semibold);line-height:normal}.esri-feature-content h1{font-size:1.75em}.esri-feature-content h2{font-size:1.5em}.esri-feature-content h3{font-size:1.25em}.esri-feature-content h4,.esri-feature-content h5,.esri-feature-content h6{font-size:1em}.esri-widget__heading.esri-feature-element-info__title{color:var(--calcite-color-text-2);margin-top:0;margin-bottom:.2em;font-size:var(--calcite-font-size-xl);font-weight:var(--calcite-font-weight-normal)}.esri-feature-element-info__description{margin-bottom:var(--calcite-font-size-xs);font-size:var(--calcite-font-size-sm);font-weight:var(--calcite-font-weight-normal)}.esri-feature-content p{margin:0 0 1.2em;font-size:var(--calcite-font-size)}.esri-feature-content p:last-child{margin-block-end:0}.esri-feature-content img{image-orientation:from-image;max-width:100%;max-height:100%}.esri-feature-content video{max-width:100%;max-height:100%}.esri-feature-content figure{margin:0;padding:0}.esri-feature-content figcaption{margin:.2em 0 0;padding:0;font-size:var(--calcite-font-size-sm);font-style:italic;display:block}.esri-feature-content ul,.esri-feature-content ol{margin-block:1rem}.esri-feature-content ul:first-child,.esri-feature-content ol:first-child{margin-block-start:0}.esri-feature-content a{color:var(--calcite-color-text-3)}.esri-feature-content a:hover,.esri-feature-content a:focus{color:var(--calcite-color-text-2)}.esri-features{--calcite-color-background: $background-color;flex-direction:column;display:flex}.esri-features img{image-orientation:from-image}.esri-features__flow-item--collapsed{--calcite-flow-item-header-border-block-end: none}.esri-features__container{background-color:var(--calcite-color-background)}.esri-features__container:not(:empty){padding:var(--calcite-spacing-md)}.esri-features .esri-feature,.esri-features .esri-feature-relationship,.esri-features .esri-feature-utility-network-associations{background-color:#0000}.esri-features__heading{word-break:break-word;word-wrap:break-word}.esri-features__header,.esri-features__footer{background-color:var(--calcite-color-foreground-1);flex:1;justify-content:flex-end;align-items:center;display:flex}.esri-features__pagination-text{padding-inline:var(--calcite-spacing-sm);color:var(--calcite-color-text-3);font-size:var(--calcite-font-size-sm)}.esri-features__loader{align-self:center;padding-inline:1rem}.esri-features__pagination-action-bar{flex:1}.esri-features__pagination-menu-button{border-inline-start:1px solid var(--calcite-color-border-3)}.esri-features__icon{flex:0 0 var(--calcite-spacing-lg);width:var(--calcite-spacing-lg);height:var(--calcite-spacing-lg);display:inline-block}.esri-features__action-image{background-position:50%;background-repeat:no-repeat;background-size:contain;flex:0 0 var(--calcite-spacing-lg);width:var(--calcite-spacing-lg);height:var(--calcite-spacing-lg)}.esri-features__header{border-block-end:1px solid var(--calcite-color-border-3)}.esri-features__content-feature{--calcite-flow-item-footer-padding: 0}.esri-features__feature-menu-observer{z-index:2;text-align:center;position:relative;bottom:20px}.esri-features__action--exit{transform:scaleX(-1)}.esri-feature-media__container{flex-flow:wrap;align-items:center;width:100%;min-height:150px;margin-top:var(--calcite-spacing-xs);display:flex}.esri-feature-media__container .esri-feature-media__pagination-button{cursor:pointer;color:var(--calcite-color-text-3);background:0 0;border:none;justify-content:center;align-items:center;padding-block:var(--calcite-spacing-xs);padding-inline:var(--calcite-spacing-sm);display:flex}.esri-feature-media__container .esri-feature-media__pagination-button:hover,.esri-feature-media__container .esri-feature-media__pagination-button:focus{color:var(--calcite-color-text-2);fill:var(--calcite-color-text-2);background-color:var(--calcite-color-foreground-2)}.esri-feature-media__item-title{margin:0;font-size:var(--calcite-font-size-md)}.esri-feature-media__item-caption{padding-block-start:3px;font-size:var(--calcite-font-size-sm)}.esri-feature-media__item{justify-content:center;align-items:flex-start;width:100%;height:auto;margin-block:var(--calcite-spacing-xs);display:flex}.esri-feature-media__item-navigation{flex:0 100%;justify-content:space-between;align-items:flex-start;margin-block-end:var(--calcite-spacing-xs);display:flex}.esri-feature-media__item-text{margin-inline-end:var(--calcite-spacing-md)}.esri-feature-media__pagination{flex:none;align-items:center;display:flex;overflow:hidden}.esri-feature-media__pagination:only-child{margin-inline-start:auto}.esri-feature-media__pagination-text{color:var(--calcite-color-text-3);padding-inline:var(--calcite-spacing-base);font-size:var(--calcite-font-size-sm)}.esri-feature-media__item-container{flex:0 auto;width:100%}.esri-feature-media__item-container img{max-width:100%}.esri-feature-media__item-container img[src$=".SVG"],.esri-feature-media__item-container img[src$=".svg"]{width:100%}.esri-feature-media__chart{background-color:var(--calcite-color-foreground-1);width:100%;height:155px}:dir(rtl) .esri-feature-media__image-summary{margin:0 .5em 0 0}:dir(rtl) .esri-feature-media__pagination-icon{transform:rotate(180deg)}.esri-identity-modal__info,.esri-identity-modal__notice{margin:0;margin-bottom:var(--calcite-spacing-md)}.esri-ui .esri-popup{z-index:1;pointer-events:none;flex-flow:column;display:flex;position:absolute}.esri-ui .esri-popup .esri-features{flex:1;width:100%}.esri-ui .esri-popup .esri-widget__heading{margin:0}.esri-ui .esri-popup--hidden{display:none}.esri-popup--shadow{box-shadow:0 1px 4px #000c}.esri-popup--aligned-top-center{transform-origin:50% 100%}.esri-popup--aligned-bottom-center{transform-origin:50% -5%}.esri-popup--aligned-top-left,.esri-popup--aligned-bottom-left{transform-origin:100%}.esri-popup--aligned-top-right,.esri-popup--aligned-bottom-right{transform-origin:-5%}.esri-popup--aligned-top-center,.esri-popup--aligned-top-left,.esri-popup--aligned-top-right{animation:.2s ease-in-out popup-intro-animation-down}.esri-popup--aligned-bottom-center,.esri-popup--aligned-bottom-left,.esri-popup--aligned-bottom-right{animation:.2s ease-in-out popup-intro-animation-up}.esri-popup__main-container{z-index:1;pointer-events:auto;background-color:var(--calcite-color-foreground-1);width:340px;min-height:48px;max-height:340px;display:flex;position:relative;overflow:hidden}.esri-popup__pointer{width:0;height:0;position:absolute}.esri-popup__pointer-direction{content:"";background-color:var(--calcite-color-foreground-1);width:var(--calcite-spacing-md);height:var(--calcite-spacing-md);position:absolute}.esri-popup--aligned-top-center .esri-popup__pointer{margin:0 0 0 -6px;top:100%;left:50%}.esri-popup--aligned-bottom-center .esri-popup__pointer{margin:0 0 0 -6px;bottom:100%;left:50%}.esri-popup--aligned-top-left .esri-popup__pointer{bottom:var(--calcite-spacing-xs);right:var(--calcite-spacing-xs);transform:rotate(-45deg)}.esri-popup--aligned-bottom-left .esri-popup__pointer{top:var(--calcite-spacing-xs);right:var(--calcite-spacing-xs);transform:rotate(45deg)}.esri-popup--aligned-top-right .esri-popup__pointer{bottom:var(--calcite-spacing-xs);left:var(--calcite-spacing-xs);transform:rotate(45deg)}.esri-popup--aligned-bottom-right .esri-popup__pointer{top:var(--calcite-spacing-xs);left:var(--calcite-spacing-xs);transform:rotate(-45deg)}.esri-popup--aligned-top-center .esri-popup__pointer-direction,.esri-popup--aligned-bottom-center .esri-popup__pointer-direction{transform:scale(.75,2) rotate(45deg)}.esri-popup--aligned-top-left .esri-popup__pointer-direction,.esri-popup--aligned-bottom-left .esri-popup__pointer-direction,.esri-popup--aligned-top-right .esri-popup__pointer-direction,.esri-popup--aligned-bottom-right .esri-popup__pointer-direction{top:-6px;left:-6px;transform:scaleY(3.5) rotate(45deg)}.esri-popup--aligned-top-center .esri-popup__pointer-direction{top:-6px;left:0}.esri-popup--aligned-bottom-center .esri-popup__pointer-direction{bottom:-6px;left:0}.esri-view-width-xlarge .esri-popup__main-container{width:460px}.esri-view-width-large .esri-popup__main-container{width:400px}.esri-view-width-medium .esri-popup__main-container{width:340px}.esri-view-width-less-than-medium .esri-popup__main-container{width:280px}.esri-view-width-xsmall .esri-popup--is-docked-bottom-center{margin-bottom:var(--calcite-spacing-xl)}.esri-view-width-xsmall .esri-popup--is-docked-top-center,.esri-view-width-xsmall .esri-popup--is-docked-bottom-center{width:auto;margin:0}.esri-view-width-xsmall .esri-popup--is-docked-top-center .esri-popup__main-container,.esri-view-width-xsmall .esri-popup--is-docked-bottom-center .esri-popup__main-container{width:100%;max-height:75%;position:absolute;left:0;right:0}.esri-view-width-xsmall .esri-popup--is-docked-bottom-center .esri-popup__main-container{bottom:0}.esri-view-width-xsmall .esri-popup--is-docked-top-center .esri-popup__main-container{top:0}.esri-view-height-xlarge .esri-popup__main-container{max-height:460px}.esri-view-height-xlarge.esri-popup--feature-menu-open .esri-popup__feature-menu-viewport{max-height:410px}.esri-view-height-large .esri-popup__main-container{max-height:400px}.esri-view-height-large.esri-popup--feature-menu-open .esri-popup__feature-menu-viewport{max-height:350px}.esri-view-height-less-than-medium .esri-popup__main-container{max-height:300px}.esri-view-height-less-than-medium.esri-popup--feature-menu-open .esri-popup__feature-menu-viewport{max-height:250px}.esri-popup--is-docked{margin:15px 15px 30px;animation:.25s ease-out esri-docking-animation;inset:0}.esri-ui .esri-popup--is-docked{flex-flow:row}.esri-popup--is-docked-top-left,.esri-popup--is-docked-top-center,.esri-popup--is-docked-top-right{align-items:flex-start}.esri-popup--is-docked-bottom-left,.esri-popup--is-docked-bottom-center,.esri-popup--is-docked-bottom-right{align-items:flex-end}.esri-popup--is-docked-top-left,.esri-popup--is-docked-bottom-left{justify-content:flex-start}.esri-popup--is-docked-top-center,.esri-popup--is-docked-bottom-center{justify-content:center}.esri-popup--is-docked-top-right,.esri-popup--is-docked-bottom-right{justify-content:flex-end}.esri-popup--is-docked-top-left .esri-popup__main-container,.esri-popup--is-docked-top-right .esri-popup__main-container,.esri-popup--is-docked-bottom-left .esri-popup__main-container,.esri-popup--is-docked-bottom-right .esri-popup__main-container{max-height:80%}.esri-popup--is-docked-top-center .esri-popup__main-container,.esri-popup--is-docked-bottom-center .esri-popup__main-container{max-height:40%}@media (prefers-reduced-motion){.esri-popup--aligned-top-center,.esri-popup--aligned-top-left,.esri-popup--aligned-top-right,.esri-popup--aligned-bottom-center,.esri-popup--aligned-bottom-left,.esri-popup--aligned-bottom-right,.esri-popup--is-docked{animation:none}}.esri-tooltip{--calcite-input-padding-inline: .5rem;--calcite-input-height: 1.5rem;--field-height: .875rem;--field-height--input: var(--calcite-input-height);--field-row-gap: 1px;--field-column-gap: var(--calcite-app-spacing-2);--field-input-width: 6.5rem;--field-title-extra-margin: var(--calcite-app-spacing-6);--field-title-color: var(--calcite-color-text-2);--field-value-color: var(--calcite-color-text-1);--font-size: var(--calcite-font-size--3);--font-size--input: var(--calcite-font-size--2);--content-padding-inline: var(--calcite-app-spacing-2);--content-padding-block: var(--calcite-app-spacing-2);--help-message-border-spacing: var(--calcite-app-spacing-2);--help-message-min-width: 7rem;--icon-size--feedback: .625rem;z-index:1;will-change:transform;width:fit-content;position:absolute;top:0;left:0;overflow:visible}.esri-tooltip-content{gap:var(--content-padding-block);border:solid 1px var(--calcite-color-border-3);padding-block:var(--content-padding-block);padding-inline:var(--content-padding-inline);color:var(--calcite-color-text-2);width:min-content;line-height:var(--calcite-font-line-height-relative-tight);font-size:var(--font-size);-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px);touch-action:none;view-transition-name:tooltip-content;background:var(--calcite-color-foreground-2);border-radius:.25rem;flex-direction:column;display:flex;position:relative;box-shadow:0 6px 20px -4px #0000001a,0 4px 12px -2px #00000014;outline:none!important}.esri-tooltip-content:empty{opacity:0}.esri-tooltip-content__header{margin-block-start:calc(var(--content-padding-block) * -1);margin-inline:calc(var(--content-padding-inline) * -1);border-block-end:solid 1px var(--calcite-color-border-3);justify-content:flex-start;block-size:24px;padding-block-end:0;display:flex}.esri-tooltip-content__header__spacer{flex-grow:1;flex-shrink:1}.esri-tooltip-content__header__actions{flex-grow:0;flex-shrink:0;padding-inline-end:var(--content-padding-inline)}.esri-tooltip-content__header calcite-button{--calcite-offset-invert-focus: 1}.esri-tooltip-content--input{--field-height: var(--field-height--input);background:var(--calcite-color-foreground-1);pointer-events:all;-webkit-backdrop-filter:none;backdrop-filter:none}.esri-tooltip-content--input:not(:focus-within){opacity:.8}.esri-tooltip.calcite-mode-dark .esri-tooltip-content,.esri-tooltip.calcite-mode-dark .esri-tooltip-content--input{background:var(--calcite-color-foreground-1)}.esri-tooltip-table{grid-gap:var(--field-row-gap) var(--field-column-gap);grid-template-columns:max-content 1fr max-content max-content;align-items:flex-start;width:max-content;display:grid}.esri-tooltip-field{display:contents}.esri-tooltip-field__title,.esri-tooltip-field__value{block-size:var(--field-height);white-space:nowrap;color:var(--calcite-color-text-3);justify-content:flex-start;align-items:center;display:flex}.esri-tooltip-field__title{color:var(--field-title-color);margin-inline-end:var(--field-title-extra-margin)}.esri-tooltip-field__value{color:var(--field-value-color);grid-column:span 3}.esri-tooltip-editable-field{display:contents}.esri-tooltip-editable-field__title,.esri-tooltip-editable-field__value{block-size:var(--field-height);white-space:nowrap;justify-content:flex-start;align-items:center}.esri-tooltip-editable-field__title{display:flex}.esri-tooltip-editable-field__value{font-variant-numeric:tabular-nums;display:contents}.esri-tooltip-editable-field__value__content{grid-column:span 3;align-items:center;min-width:max-content;display:flex}.esri-tooltip-editable-field__value__content--read-only{padding-inline:var(--calcite-input-padding-inline);block-size:var(--calcite-input-height);line-height:var(--calcite-input-height);font-size:var(--calcite-font-size--2)}.esri-tooltip-editable-field--feedback.esri-tooltip-editable-field--locked .esri-tooltip-editable-field__value__content{grid-column:span 2}.esri-tooltip-editable-field--feedback .esri-tooltip-editable-field__title{color:var(--field-title-color);margin-inline-end:var(--field-title-extra-margin)}.esri-tooltip-editable-field--feedback .esri-tooltip-editable-field__value__content{color:var(--field-value-color);align-self:center}.esri-tooltip-editable-field--feedback .esri-tooltip-editable-field__lock-icon{width:var(--icon-size--feedback);min-width:var(--icon-size--feedback);height:var(--icon-size--feedback);min-height:var(--icon-size--feedback);align-self:center;margin-top:-2px}.esri-tooltip-editable-field--input{padding:0}.esri-tooltip-editable-field--input .esri-tooltip-editable-field__title{font-size:var(--font-size--input)}.esri-tooltip-editable-field__input-wrapper{inline-size:var(--field-input-width)}.esri-tooltip-editable-field__input-message{text-wrap:auto;width:100%;margin-block-end:var(--calcite-input-message-spacing-value)}.esri-tooltip-editable-field__input-suffix{line-height:var(--field-height--input)}.esri-tooltip-editable-field__button{width:var(--field-height--input)}.esri-tooltip-value-by-value span:nth-child(2){margin-inline:7px}.esri-tooltip-help-message{gap:var(--calcite-app-spacing-2);margin-inline:calc(var(--content-padding-inline) * -1);border-block-start:solid 1px var(--calcite-color-border-3);padding-block-start:var(--content-padding-inline);padding-inline:var(--content-padding-inline);width:auto;min-width:var(--help-message-min-width);text-align:left;text-wrap:balance;white-space:break-spaces;font-size:var(--font-size);border-block-end:1px solid var(--calcite-color-foreground-1);justify-content:center;align-items:center;display:flex}.esri-tooltip-help-message:only-child{border-block:none;padding-block-start:var(--field-row-gap)}.esri-tooltip-help-message__icon{color:var(--calcite-color-status-info)}.esri-tooltip-help-message__text{padding-block-start:2px}.esri-tooltip ::view-transition-old(tooltip-content){animation-duration:.1s}.esri-tooltip ::view-transition-new(tooltip-content){animation-duration:.1s}.esri-tooltip{--offset-start: calc(-100% - var(--offset))}.esri-tooltip--debug:after{--size: 10px;margin-top:calc(var(--size) * -.5);margin-left:calc(var(--size) * -.5);width:var(--size);height:var(--size);content:"";background:var(--calcite-color-status-danger);position:absolute;top:0;left:0}.esri-tooltip--bottom .esri-tooltip-content{transform:translate(-50%,var(--offset))}.esri-tooltip--bottom-left.esri-tooltip--ltr .esri-tooltip-content,.esri-tooltip--bottom-right.esri-tooltip--rtl .esri-tooltip-content,.esri-tooltip--bottom-start.esri-tooltip--ltr .esri-tooltip-content,.esri-tooltip--bottom-end.esri-tooltip--rtl .esri-tooltip-content{transform:translate(var(--offset-start),var(--offset))}.esri-tooltip--bottom-right.esri-tooltip--ltr .esri-tooltip-content,.esri-tooltip--bottom-left.esri-tooltip--rtl .esri-tooltip-content,.esri-tooltip--bottom-start.esri-tooltip--rtl .esri-tooltip-content,.esri-tooltip--bottom-end.esri-tooltip--ltr .esri-tooltip-content{transform:translate(var(--offset),var(--offset))}.esri-tooltip--leading.esri-tooltip--ltr .esri-tooltip-content,.esri-tooltip--trailing.esri-tooltip--rtl .esri-tooltip-content{transform:translate(var(--offset-start),-50%)}.esri-tooltip--leading-start.esri-tooltip--ltr .esri-tooltip-content,.esri-tooltip--trailing-start.esri-tooltip--rtl .esri-tooltip-content{transform:translate(var(--offset-start),var(--offset-start))}.esri-tooltip--leading-end.esri-tooltip--ltr .esri-tooltip-content,.esri-tooltip--trailing-end.esri-tooltip--rtl .esri-tooltip-content{transform:translate(var(--offset-start),var(--offset))}.esri-tooltip--top .esri-tooltip-content{transform:translate(-50%,var(--offset-start))}.esri-tooltip--top-left.esri-tooltip--ltr .esri-tooltip-content,.esri-tooltip--top-right.esri-tooltip--rtl .esri-tooltip-content,.esri-tooltip--top-start.esri-tooltip--ltr .esri-tooltip-content,.esri-tooltip--top-end.esri-tooltip--rtl .esri-tooltip-content{transform:translate(var(--offset-start),var(--offset-start))}.esri-tooltip--top-right.esri-tooltip--ltr .esri-tooltip-content,.esri-tooltip--top-left.esri-tooltip--rtl .esri-tooltip-content,.esri-tooltip--top-start.esri-tooltip--rtl .esri-tooltip-content,.esri-tooltip--top-end.esri-tooltip--ltr .esri-tooltip-content{transform:translate(var(--offset),var(--offset-start))}.esri-tooltip--trailing.esri-tooltip--ltr .esri-tooltip-content,.esri-tooltip--leading.esri-tooltip--rtl .esri-tooltip-content{transform:translate(var(--offset),-50%)}.esri-tooltip--trailing-start.esri-tooltip--ltr .esri-tooltip-content,.esri-tooltip--leading-start.esri-tooltip--rtl .esri-tooltip-content{transform:translate(var(--offset),var(--offset-start))}.esri-tooltip--trailing-end.esri-tooltip--ltr .esri-tooltip-content,.esri-tooltip--leading-end.esri-tooltip--rtl .esri-tooltip-content{transform:translate(var(--offset),var(--offset))}`;const _s="arcgis-map",Tr={base:_s,containerUI:`${_s}-container-ui`,containerElement:`${_s}-container-ui__element`,containerElementDefaultSlot:`${_s}-container-ui__element-default`,containerElementPopupSlot:`${_s}-container-ui__element-popup`,containerTopLeftColumn:`${_s}-container-ui__top-left-column`,containerTopRightColumn:`${_s}-container-ui__top-right-column`,containerBottomLeftRow:`${_s}-container-ui__bottom-left-row`,containerBottomRightRow:`${_s}-container-ui__bottom-right-row`,containerElementTopLeft:`${_s}-container-ui__element-top-left`,containerElementTopRight:`${_s}-container-ui__element-top-right`,containerElementBottomLeft:`${_s}-container-ui__element-bottom-left`,containerElementBottomRight:`${_s}-container-ui__element-bottom-right`,containerElementTopStart:`${_s}-container-ui__element-top-start`,containerElementTopEnd:`${_s}-container-ui__element-top-end`,containerElementBottomStart:`${_s}-container-ui__element-bottom-start`,containerElementBottomEnd:`${_s}-container-ui__element-bottom-end`},Ra={topLeft:"top-left",topRight:"top-right",bottomLeft:"bottom-left",bottomRight:"bottom-right",topStart:"top-start",topEnd:"top-end",bottomStart:"bottom-start",bottomEnd:"bottom-end",popup:"popup"};function H7e(t,e,i){return de`<div class=${ce({[Tr.containerElementPopupSlot]:!0})}><slot name=${Ra.popup} @slotchange=${e}></slot></div><div class=${ce({[Tr.containerElementDefaultSlot]:!0})}>${i}<slot></slot></div><div class=${ce({[Tr.containerTopLeftColumn]:!0})}><div class=${ce({[Tr.containerElement]:!0,[Tr.containerElementTopLeft]:!0})}><slot name=${Ra.topLeft}></slot></div><div class=${ce({[Tr.containerElement]:!0,[Tr.containerElementTopStart]:!0})}><slot name=${t==="ltr"?Ra.topStart:Ra.topEnd}></slot></div></div><div class=${ce({[Tr.containerTopRightColumn]:!0})}><div class=${ce({[Tr.containerElement]:!0,[Tr.containerElementTopRight]:!0})}><slot name=${Ra.topRight}></slot></div><div class=${ce({[Tr.containerElement]:!0,[Tr.containerElementTopEnd]:!0})}><slot name=${t==="ltr"?Ra.topEnd:Ra.topStart}></slot></div></div><div class=${ce({[Tr.containerBottomLeftRow]:!0})}><div class=${ce({[Tr.containerElement]:!0,[Tr.containerElementBottomLeft]:!0})}><slot name=${Ra.bottomLeft}></slot></div><div class=${ce({[Tr.containerElement]:!0,[Tr.containerElementBottomStart]:!0})}><slot name=${t==="ltr"?Ra.bottomStart:Ra.bottomEnd}></slot></div></div><div class=${ce({[Tr.containerBottomRightRow]:!0})}><div class=${ce({[Tr.containerElement]:!0,[Tr.containerElementBottomRight]:!0})}><slot name=${Ra.bottomRight}></slot></div><div class=${ce({[Tr.containerElement]:!0,[Tr.containerElementBottomEnd]:!0})}><slot name=${t==="ltr"?Ra.bottomEnd:Ra.bottomStart}></slot></div></div>`}const q7e=vi`:host{--arcgis-internal-color-black-30: color-mix(in srgb, #000000 30.2%, transparent);--arcgis-internal-box-shadow: var(--calcite-spacing-none) var(--calcite-spacing-px) var(--calcite-spacing-base) var(--arcgis-internal-color-black-30);--arcgis-internal-top-max-width: calc(min(100cqw, 100vw) - var(--calcite-spacing-xxxl));--arcgis-internal-panel-width: 300px;--arcgis-internal-panel-height: 100%;--arcgis-internal-panel-height-sm: 240px;--arcgis-internal-panel-height-md: 420px;--arcgis-internal-panel-height-lg: 540px;--arcgis-internal-panel-height-xl: 680px;--arcgis-internal-basemap-gallery-width-lg: 450px;--arcgis-expand-max-height: var(--calcite-spacing-xxxl);--arcgis-collapse-icon-flip: scaleX(1);--arcgis-row-direction: row;--arcgis-legend-internal-width: 300px;--arcgis-layout-overlay-space-top: 0px;--arcgis-layout-overlay-space-bottom: 0px;--arcgis-layout-overlay-space-left: 0px;--arcgis-layout-overlay-space-right: 0px;--arcgis-internal-sketch-justify-content: flex-start}:host{display:block;position:relative;height:100%;width:100%;padding:var(--calcite-spacing-none);margin:var(--calcite-spacing-none);container:arcgis-map-container/size;contain:layout}::slotted(:is([closed],[closed="true"])){display:none}:dir(rtl) ::slotted(:not(arcgis-swipe)){direction:rtl}::slotted(:is(arcgis-area-measurement-2d,arcgis-area-measurement-3d,arcgis-attachments,arcgis-basemap-gallery,arcgis-basemap-layer-list,arcgis-bookmarks,arcgis-building-explorer,arcgis-catalog-layer-list,arcgis-coordinate-conversion,arcgis-daylight,arcgis-directions,arcgis-direct-line-measurement-3d,arcgis-distance-measurement-2d,arcgis-editor,arcgis-elevation-profile,arcgis-expand,arcgis-feature-form,arcgis-features,arcgis-feature-table,arcgis-fullscreen,arcgis-grid-controls,arcgis-home,arcgis-layer-list,arcgis-legend,arcgis-line-of-sight,arcgis-link-chart-layout-switcher,arcgis-locate,arcgis-measurement,arcgis-navigation-toggle,arcgis-oriented-imagery-viewer,arcgis-print,arcgis-search,arcgis-shadow-cast,arcgis-slice,arcgis-table-list,arcgis-time-slider,arcgis-time-zone-label,arcgis-track,arcgis-utility-network-associations,arcgis-utility-network-trace,arcgis-utility-network-validate-topology,arcgis-version-management,arcgis-video-player,arcgis-weather,arcgis-zoom)){box-shadow:var(--arcgis-internal-box-shadow)}::slotted(:is(arcgis-area-measurement-2d,arcgis-area-measurement-3d,arcgis-basemap-gallery,arcgis-basemap-layer-list,arcgis-bookmarks,arcgis-building-explorer,arcgis-catalog-layer-list,arcgis-directions,arcgis-direct-line-measurement-3d,arcgis-distance-measurement-2d,arcgis-editor,arcgis-feature-form,arcgis-features,arcgis-layer-list,arcgis-line-of-sight,arcgis-print,arcgis-shadow-cast,arcgis-slice,arcgis-table-list,arcgis-utility-network-trace,arcgis-grid-controls)){width:var(--arcgis-internal-panel-width);min-width:var(--calcite-spacing-xxxl);min-height:var(--calcite-spacing-xxxl);transition:max-height .25s ease-in-out;overflow-y:auto}.arcgis-map-container-ui{position:absolute;inset:var(--calcite-spacing-none);padding:var(--calcite-spacing-none);z-index:var(--calcite-z-index);pointer-events:none;background:none}.arcgis-map-container-ui__element{display:flex;flex-direction:column;pointer-events:none;width:max-content;max-width:100%}.arcgis-map-container-ui__element .esri-widget--panel{min-width:var(--arcgis-internal-panel-width)}.arcgis-map-container-ui__element-popup,.arcgis-map-container-ui__element-default{pointer-events:none;max-width:100%;position:absolute;display:block;inset:var(--calcite-spacing-none);width:100%;::slotted(:not(arcgis-swipe)){pointer-events:auto}}.arcgis-map-container-ui__top-left-column{position:absolute;top:var(--calcite-spacing-none);left:var(--calcite-spacing-none);display:flex;flex-direction:column;justify-content:flex-start;align-items:flex-start;margin-top:var(--calcite-spacing-lg);margin-left:var(--calcite-spacing-lg);padding-top:var(--arcgis-layout-overlay-space-top);padding-left:var(--arcgis-layout-overlay-space-left);::slotted(*){max-width:var(--arcgis-internal-top-max-width)}::slotted(arcgis-sketch[layout="vertical"]){--sketch-pad-flex-flow: column wrap}}.arcgis-map-container-ui__top-left-column:dir(rtl){align-items:flex-end;::slotted(arcgis-floor-filter){--arcgis-row-direction: row-reverse}}.arcgis-map-container-ui__top-right-column{position:absolute;top:var(--calcite-spacing-none);right:var(--calcite-spacing-none);display:flex;flex-direction:column;align-items:flex-end;margin-top:var(--calcite-spacing-lg);margin-right:var(--calcite-spacing-lg);padding-top:var(--arcgis-layout-overlay-space-top);padding-right:var(--arcgis-layout-overlay-space-right);::slotted(*){max-width:var(--arcgis-internal-top-max-width)}::slotted(arcgis-expand){--arcgis-internal-sketch-justify-content: flex-end}}.arcgis-map-container-ui__top-right-column:dir(rtl){align-items:flex-start;::slotted(arcgis-floor-filter){--arcgis-row-direction: row}}.arcgis-map-container-ui__element-top-left{top:var(--calcite-spacing-none);left:var(--calcite-spacing-none);display:flex;justify-content:flex-start;align-items:flex-start;::slotted(arcgis-expand){--arcgis-expand-icon-number-left: none;--arcgis-expand-icon-number-right: calc(-1 * var(--calcite-spacing-xs))}::slotted(:is(arcgis-floor-filter,arcgis-expand)){--arcgis-collapse-icon-flip: scaleX(-1)}::slotted(arcgis-sketch){--sketch-pad-flex-flow: wrap}::slotted(*){margin-bottom:var(--calcite-spacing-sm-plus)}}.arcgis-map-container-ui__element-top-left:dir(rtl){align-items:flex-end}.arcgis-map-container-ui__element-top-right{position:relative;justify-content:flex-start;align-items:flex-end;margin-left:auto;::slotted(arcgis-expand){--arcgis-expand-icon-number-left: calc(-1 * var(--calcite-spacing-xs));--arcgis-expand-icon-number-right: none}::slotted(arcgis-floor-filter){--arcgis-row-direction: row-reverse}::slotted(arcgis-sketch){--sketch-pad-flex-flow: row-reverse wrap}::slotted(arcgis-sketch[layout="vertical"]){--sketch-pad-flex-flow: column wrap-reverse}::slotted(*){margin-bottom:var(--calcite-spacing-sm-plus)}}.arcgis-map-container-ui__element-top-right:dir(rtl){align-items:flex-start}.arcgis-map-container-ui__element-top-start{position:relative;justify-content:flex-start;align-items:flex-start;::slotted(arcgis-expand){--arcgis-expand-icon-number-left: none;--arcgis-expand-icon-number-right: calc(-1 * var(--calcite-spacing-xs))}::slotted(arcgis-sketch[layout="vertical"]){--sketch-pad-flex-flow: column wrap}::slotted(:is(arcgis-floor-filter,arcgis-expand)){--arcgis-collapse-icon-flip: scaleX(-1)}::slotted(*){margin-bottom:var(--calcite-spacing-sm-plus)}}.arcgis-map-container-ui__element-top-start:dir(rtl){align-items:flex-end;--arcgis-internal-sketch-justify-content: flex-start;::slotted(arcgis-sketch){--sketch-pad-flex-flow: row-reverse wrap-reverse}}.arcgis-map-container-ui__element-top-end{position:relative;justify-content:flex-start;align-items:flex-end;::slotted(arcgis-expand){--arcgis-expand-icon-number-left: calc(-1 * var(--calcite-spacing-xs));--arcgis-expand-icon-number-right: none}::slotted(arcgis-floor-filter){--arcgis-row-direction: row-reverse}::slotted(arcgis-sketch){--sketch-pad-flex-flow: row-reverse wrap}::slotted(arcgis-sketch[layout="vertical"]){--sketch-pad-flex-flow: column wrap-reverse}::slotted(*){margin-bottom:var(--calcite-spacing-sm-plus)}}.arcgis-map-container-ui__element-top-end:dir(rtl){align-items:flex-start;--arcgis-internal-sketch-justify-content: flex-end}.arcgis-map-container-ui__bottom-left-row{position:absolute;bottom:var(--calcite-spacing-none);left:var(--calcite-spacing-none);display:flex;flex-direction:row;align-items:flex-end;max-width:100%;margin-left:var(--calcite-spacing-lg);margin-bottom:var(--calcite-spacing-xxxl);padding-left:var(--arcgis-layout-overlay-space-left);padding-bottom:var(--arcgis-layout-overlay-space-bottom);::slotted(:last-child){margin-right:var(--calcite-spacing-xxl)}::slotted(arcgis-floor-filter){--arcgis-internal-floor-filter-column-direction: column-reverse;--arcgis-internal-floor-filter-button-border-width: 0 0 1px}::slotted(*){max-width:var(--arcgis-internal-top-max-width)}}.arcgis-map-container-ui__bottom-left-row:dir(rtl){flex-direction:row-reverse;::slotted(arcgis-floor-filter){--arcgis-row-direction: row-reverse}}.arcgis-map-container-ui__bottom-right-row{position:absolute;bottom:var(--calcite-spacing-none);right:var(--calcite-spacing-none);display:flex;flex-direction:row-reverse;align-items:flex-end;max-width:100%;margin-right:var(--calcite-spacing-lg);margin-bottom:var(--calcite-spacing-xxxl);padding-right:var(--arcgis-layout-overlay-space-right);padding-bottom:var(--arcgis-layout-overlay-space-bottom);::slotted(:last-child){margin-left:var(--calcite-spacing-xxl)}::slotted(arcgis-floor-filter){--arcgis-internal-floor-filter-column-direction: column-reverse;--arcgis-internal-floor-filter-button-border-width: 0 0 1px}::slotted(*){max-width:var(--arcgis-internal-top-max-width)}::slotted(arcgis-expand){--arcgis-internal-sketch-justify-content: flex-end}::slotted(arcgis-sketch[layout="vertical"]){--sketch-pad-flex-flow: column-reverse wrap-reverse}}.arcgis-map-container-ui__bottom-right-row:dir(rtl){flex-direction:row;::slotted(arcgis-floor-filter){--arcgis-row-direction: row}}.arcgis-map-container-ui__element-bottom-left{bottom:var(--calcite-spacing-none);left:var(--calcite-spacing-none);display:flex;flex-direction:column;align-items:flex-end;justify-content:flex-end;flex-flow:row;::slotted(arcgis-coordinate-conversion){--arcgis-coordinate-conversion-flex-direction: column-reverse}::slotted(arcgis-expand){--arcgis-expand-icon-number-left: none;--arcgis-expand-icon-number-right: calc(-1 * var(--calcite-spacing-xs))}::slotted(:is(arcgis-floor-filter,arcgis-expand)){--arcgis-collapse-icon-flip: scaleX(-1)}::slotted(arcgis-sketch){--sketch-pad-flex-flow: wrap-reverse}::slotted(arcgis-sketch[layout="vertical"]){--sketch-pad-flex-flow: column-reverse wrap}::slotted(arcgis-floor-filter){--arcgis-floor-filter-align-items: flex-end}::slotted(*){margin-right:var(--calcite-spacing-sm-plus)}}.arcgis-map-container-ui__element-bottom-right{bottom:var(--calcite-spacing-none);right:var(--calcite-spacing-none);align-items:flex-end;justify-content:flex-end;margin-left:auto;flex-flow:row-reverse;::slotted(arcgis-coordinate-conversion){--arcgis-coordinate-conversion-flex-direction: column-reverse}::slotted(arcgis-expand){--arcgis-expand-icon-number-left: calc(-1 * var(--calcite-spacing-xs));--arcgis-expand-icon-number-right: none}::slotted(arcgis-sketch){--sketch-pad-flex-flow: row-reverse wrap-reverse}::slotted(arcgis-sketch[layout="vertical"]){--sketch-pad-flex-flow: column-reverse wrap-reverse}::slotted(arcgis-floor-filter){--arcgis-floor-filter-align-items: flex-end;--arcgis-row-direction: row-reverse}::slotted(*){margin-left:var(--calcite-spacing-sm-plus)}}.arcgis-map-container-ui__element-bottom-start{bottom:var(--calcite-spacing-none);left:var(--calcite-spacing-none);display:flex;flex-direction:column;align-items:flex-end;justify-content:flex-end;flex-flow:row;::slotted(arcgis-coordinate-conversion){--arcgis-coordinate-conversion-flex-direction: column-reverse}::slotted(arcgis-expand){--arcgis-expand-icon-number-left: none;--arcgis-expand-icon-number-right: calc(-1 * var(--calcite-spacing-xs))}::slotted(:is(arcgis-floor-filter,arcgis-expand)){--arcgis-collapse-icon-flip: scaleX(-1)}::slotted(arcgis-sketch){--sketch-pad-flex-flow: wrap-reverse}::slotted(arcgis-sketch[layout="vertical"]){--sketch-pad-flex-flow: column-reverse wrap}::slotted(arcgis-floor-filter){--arcgis-floor-filter-align-items: flex-end}::slotted(*){margin-right:var(--calcite-spacing-sm-plus)}::slotted(:dir(rtl)){margin-right:var(--calcite-spacing-none);--arcgis-internal-sketch-justify-content: flex-start}}.arcgis-map-container-ui__element-bottom-end{bottom:var(--calcite-spacing-none);right:var(--calcite-spacing-none);align-items:flex-end;justify-content:flex-end;margin-left:auto;flex-flow:row-reverse;::slotted(arcgis-coordinate-conversion){--arcgis-coordinate-conversion-flex-direction: column-reverse}::slotted(arcgis-expand){--arcgis-expand-icon-number-left: calc(-1 * var(--calcite-spacing-xs));--arcgis-expand-icon-number-right: none}::slotted(arcgis-sketch){--sketch-pad-flex-flow: row-reverse wrap-reverse}::slotted(arcgis-sketch[layout="vertical"]){--sketch-pad-flex-flow: column-reverse wrap-reverse}::slotted(arcgis-floor-filter){--arcgis-floor-filter-align-items: flex-end;--arcgis-row-direction: row-reverse}::slotted(*){margin-left:var(--calcite-spacing-sm-plus)}::slotted(:dir(rtl)){margin-left:var(--calcite-spacing-none);--arcgis-internal-sketch-justify-content: flex-end}}.arcgis-map-container-ui__element>*{pointer-events:auto}@container arcgis-map-container (height >= 0){::slotted(arcgis-sketch){--responsive-toolbar-vert-width: var(--calcite-spacing-none);--responsive-toolbar-vert-height: min(100vh - 120px, 100cqh - 120px);--responsive-toolbar-horiz-width: min(100vw - 60px, 100cqw - 60px);--responsive-toolbar-horiz-height: var(--calcite-spacing-none)}}@container arcgis-map-container (max-height: 544px) or (max-width: 544px){::slotted(:is(arcgis-floor-filter)){--arcgis-internal-floor-filter-button-display: none;--arcgis-internal-floor-filter-menu-width: 225px}}@container arcgis-map-container (max-height: 499.99px){.arcgis-map-container-ui__element>*{--arcgis-expand-max-height: var(--arcgis-internal-panel-height-sm);--arcgis-internal-panel-height: var(--arcgis-internal-panel-height-sm)}::slotted(:is(arcgis-area-measurement-2d,arcgis-area-measurement-3d,arcgis-basemap-gallery,arcgis-basemap-layer-list,arcgis-bookmarks,arcgis-building-explorer,arcgis-catalog-layer-list,arcgis-directions,arcgis-direct-line-measurement-3d,arcgis-distance-measurement-2d,arcgis-editor,arcgis-feature-form,arcgis-features,arcgis-layer-list,arcgis-legend,arcgis-line-of-sight,arcgis-print,arcgis-shadow-cast,arcgis-slice,arcgis-table-list,arcgis-utility-network-trace,arcgis-grid-controls)){max-height:var(--arcgis-internal-panel-height-sm)}}@container arcgis-map-container (min-height: 500px){.arcgis-map-container-ui__element>*{--arcgis-expand-max-height: var(--arcgis-internal-panel-height-md);--arcgis-internal-panel-height: var(--arcgis-internal-panel-height-md)}::slotted(:is(arcgis-area-measurement-2d,arcgis-area-measurement-3d,arcgis-basemap-gallery,arcgis-basemap-layer-list,arcgis-bookmarks,arcgis-building-explorer,arcgis-catalog-layer-list,arcgis-directions,arcgis-direct-line-measurement-3d,arcgis-distance-measurement-2d,arcgis-editor,arcgis-feature-form,arcgis-features,arcgis-layer-list,arcgis-legend,arcgis-line-of-sight,arcgis-print,arcgis-shadow-cast,arcgis-slice,arcgis-table-list,arcgis-utility-network-trace,arcgis-grid-controls)){max-height:var(--arcgis-internal-panel-height-md)}::slotted(:is(arcgis-floor-filter)){--arcgis-internal-floor-filter-menu-max-height: 320px;--arcgis-internal-floor-filter-levels-max-height: 320px}}@container arcgis-map-container (min-height: 768px){.arcgis-map-container-ui__element>*{--arcgis-expand-max-height: var(--arcgis-internal-panel-height-lg);--arcgis-internal-panel-height: var(--arcgis-internal-panel-height-lg)}::slotted(:is(arcgis-area-measurement-2d,arcgis-area-measurement-3d,arcgis-basemap-gallery,arcgis-basemap-layer-list,arcgis-bookmarks,arcgis-building-explorer,arcgis-catalog-layer-list,arcgis-directions,arcgis-direct-line-measurement-3d,arcgis-distance-measurement-2d,arcgis-editor,arcgis-feature-form,arcgis-features,arcgis-layer-list,arcgis-legend,arcgis-line-of-sight,arcgis-print,arcgis-shadow-cast,arcgis-slice,arcgis-table-list,arcgis-utility-network-trace,arcgis-grid-controls)){max-height:var(--arcgis-internal-panel-height-lg)}::slotted(:is(arcgis-floor-filter)){--arcgis-internal-floor-filter-menu-max-height: 420px;--arcgis-internal-floor-filter-levels-max-height: 420px}}@container arcgis-map-container (min-height: 992px){.arcgis-map-container-ui__element>*{--arcgis-expand-max-height: var(--arcgis-internal-panel-height-lg);--arcgis-internal-panel-height: var(--arcgis-internal-panel-height-lg)}::slotted(:is(arcgis-area-measurement-2d,arcgis-area-measurement-3d,arcgis-basemap-gallery,arcgis-basemap-layer-list,arcgis-bookmarks,arcgis-building-explorer,arcgis-catalog-layer-list,arcgis-directions,arcgis-direct-line-measurement-3d,arcgis-distance-measurement-2d,arcgis-editor,arcgis-feature-form,arcgis-features,arcgis-layer-list,arcgis-legend,arcgis-line-of-sight,arcgis-print,arcgis-shadow-cast,arcgis-slice,arcgis-table-list,arcgis-utility-network-trace,arcgis-grid-controls)){max-height:var(--arcgis-internal-panel-height-lg)}}@container arcgis-map-container (min-height: 1200px){.arcgis-map-container-ui__element>*{--arcgis-expand-max-height: var(--arcgis-internal-panel-height-xl);--arcgis-internal-panel-height: var(--arcgis-internal-panel-height-xl)}::slotted(:is(arcgis-area-measurement-2d,arcgis-area-measurement-3d,arcgis-basemap-gallery,arcgis-basemap-layer-list,arcgis-bookmarks,arcgis-building-explorer,arcgis-catalog-layer-list,arcgis-directions,arcgis-direct-line-measurement-3d,arcgis-distance-measurement-2d,arcgis-editor,arcgis-feature-form,arcgis-features,arcgis-layer-list,arcgis-legend,arcgis-line-of-sight,arcgis-print,arcgis-shadow-cast,arcgis-slice,arcgis-table-list,arcgis-utility-network-trace,arcgis-grid-controls)){max-height:var(--arcgis-internal-panel-height-xl)}}@container arcgis-map-container (min-width: 544px){::slotted(:is(arcgis-area-measurement-2d,arcgis-area-measurement-3d,arcgis-basemap-gallery,arcgis-basemap-layer-list,arcgis-bookmarks,arcgis-building-explorer,arcgis-catalog-layer-list,arcgis-directions,arcgis-direct-line-measurement-3d,arcgis-distance-measurement-2d,arcgis-editor,arcgis-feature-form,arcgis-features,arcgis-layer-list,arcgis-line-of-sight,arcgis-print,arcgis-shadow-cast,arcgis-slice,arcgis-table-list,arcgis-utility-network-trace,arcgis-grid-controls)){width:var(--arcgis-internal-panel-width)}}@container arcgis-map-container (min-width: 768px){::slotted(:is(arcgis-legend[card-style-layout="auto"])){--arcgis-legend-internal-width: auto}::slotted(:is(arcgis-area-measurement-2d,arcgis-area-measurement-3d,arcgis-basemap-gallery,arcgis-basemap-layer-list,arcgis-bookmarks,arcgis-building-explorer,arcgis-catalog-layer-list,arcgis-directions,arcgis-direct-line-measurement-3d,arcgis-distance-measurement-2d,arcgis-editor,arcgis-feature-form,arcgis-features,arcgis-layer-list,arcgis-line-of-sight,arcgis-print,arcgis-shadow-cast,arcgis-slice,arcgis-table-list,arcgis-utility-network-trace,arcgis-grid-controls)){width:var(--arcgis-internal-panel-width)}}@container arcgis-map-container (min-width: 992px){::slotted(:is(arcgis-area-measurement-2d,arcgis-area-measurement-3d,arcgis-basemap-gallery,arcgis-basemap-layer-list,arcgis-bookmarks,arcgis-building-explorer,arcgis-catalog-layer-list,arcgis-directions,arcgis-direct-line-measurement-3d,arcgis-distance-measurement-2d,arcgis-editor,arcgis-feature-form,arcgis-features,arcgis-layer-list,arcgis-line-of-sight,arcgis-print,arcgis-shadow-cast,arcgis-slice,arcgis-table-list,arcgis-utility-network-trace,arcgis-grid-controls)){width:var(--arcgis-internal-panel-width)}}@container arcgis-map-container (min-width: 1200px){::slotted(:is(arcgis-basemap-gallery)){width:var(--arcgis-internal-basemap-gallery-width-lg)}::slotted(:is(arcgis-area-measurement-2d,arcgis-area-measurement-3d,arcgis-basemap-layer-list,arcgis-bookmarks,arcgis-building-explorer,arcgis-catalog-layer-list,arcgis-directions,arcgis-direct-line-measurement-3d,arcgis-distance-measurement-2d,arcgis-editor,arcgis-feature-form,arcgis-features,arcgis-layer-list,arcgis-line-of-sight,arcgis-print,arcgis-shadow-cast,arcgis-slice,arcgis-table-list,arcgis-utility-network-trace,arcgis-grid-controls)){width:var(--arcgis-internal-panel-width)}}`;function G7e(t,e){return e===void 0||t?.targetGeometry!==e?.targetGeometry||t?.rotation!==e?.rotation||t?.scale!==e?.scale}function W7e(t,e){return Gfe(e?.center,t)}function Gfe(t,e){if(typeof e=="string")return Gfe(t,e.split(",").map(Number));if(!t)return e;if(Array.isArray(e)){const i=e[0],r=e[1],n=e.length>2?e[2]:void 0;if(i!==t.longitude||r!==t.latitude||n!==t.z)return e}else if(e&&!t?.equals(e))return e}let Y7e=class extends oU{constructor(e){super(e),this.direction=Zke(),this.component.listen("arcgisViewClick",i=>{this._handleOpenPopup(i.detail)}),this.component.listenOn(globalThis,"unhandledrejection",i=>{if(i.reason?.name==="webgl:required"){const{name:r}=i.reason;this.webGLError={name:r}}})}hostLifecycle(){return wa(()=>this.component.view.popup?.visible,()=>{this.popupRef?.visible&&(this.popupRef.visible=!1)})}openPopup(e){this.popupRef?this.popupRef.open(e):this.component.view.openPopup(e)}closePopup(){this.popupRef?this.popupRef.visible=!1:this.component.view.closePopup()}async _handleOpenPopup(e){if(this.popupRef&&!this.component.popupDisabled){e.stopPropagation();const{location:i,promises:r}=await this.popupRef?.handleViewClick(e);r?.length&&(this.component.view.closePopup(),this.popupRef?.open({location:i,promises:r}))}}_handlePopupSlotChange(e){const i=b2e(e.target,"arcgis-popup");!this.popupRef&&i.length?this.popupRef=i[0]:i.length||(this.popupRef=void 0)}_webGLErrorAlert(){return this.webGLError?de`<calcite-alert icon=x-octagon kind=danger open .label=${this.webGLError.name}><div slot=title>Unable to display map. WebGL2 support is required.</div><div slot=message>Ensure that your browser and hardware meet the minimum requirements.</div><calcite-link slot=link href=https://esriurl.com/webgl-faq>https://esriurl.com/webgl-faq</calcite-link></calcite-alert>`:null}render(){return H7e(this.direction,e=>this._handlePopupSlotChange(e),this._webGLErrorAlert())}};const Z7e=J$((t,e)=>{const i=Ge();return e.onLifecycle(()=>ft(()=>{const{map:r}=t;if(!r||r.destroyed)return[];const n=[];return r.loadError&&n.push(r),r.basemap?.loadError&&n.push(r.basemap),r.ground.loadError&&n.push(r.ground),[...r.allLayers,...r.allTables].forEach(s=>{s.loadError&&n.push(s)}),n},r=>{r.length&&(t.loadErrorSources=r,i.emit())})),i}),J7e=J$((t,e)=>{const i=Ge();return e.onLifecycle(()=>ft(()=>t.view?.readyState,r=>{(r==="map-content-error"||r==="rendering-error")&&i.emit()})),i});const X7e=qfe(L7e),K7e=qfe(CFe),PP=class PP extends wi{constructor(){super(),this._containerRef=kr(),this._mapRef=kr(),this._uiController=new Y7e(this),this.extraContent=new We,this.arcgisLoadError=Z7e(this),this.arcgisViewReadyError=J7e(this),this._map=X7e(this),this.view=K7e(this),this.animationsDisabled=this.view.animationsEnabled,this.allLayerViews=this.view.allLayerViews,this.analyses=this.view.analyses,this.autoDestroyDisabled=!1,this.background=this.view.background,this.basemap=this._map.basemap,this.basemapView=this.view.basemapView,this.constraints=this.view.constraints,this.displayFilterDisabled=this.view.displayFilterEnabled,this.fatalError=this.view.fatalError,this.floors=this.view.floors,this.graphics=this.view.graphics,this.ground=this._map.ground,this.highlights=this.view.highlights,this.highlightOptions=this.view.highlightOptions,this.ipsInfo=this._map.ipsInfo,this.layerViews=this.view.layerViews,this.magnifier=this.view.magnifier,this.map=this.view.map,this.navigation=this.view.navigation,this.padding=this.view.padding,this.popup=this.view.popup,this.popupDisabled=this.view.popupEnabled,this.ready=this.view.ready,this.resizeAlign=this.view.resizeAlign,this.resolution=this.view.resolution,this.rotation=this.view.rotation,this.spatialReference=this.view.spatialReference,this.spatialReferenceLocked=this.view.spatialReferenceLocked,this.suspended=this.view.suspended,this.theme=this.view.theme,this.timeExtent=this.view.timeExtent,this.timeZone=this.view.timeZone,this.updating=this.view.updating,this.visibleArea=this.view.visibleArea,this.arcgisViewAnalysisViewCreate=yn(()=>this.view,"analysis-view-create"),this.arcgisViewAnalysisViewCreateError=yn(()=>this.view,"analysis-view-create-error"),this.arcgisViewAnalysisViewDestroy=yn(()=>this.view,"analysis-view-destroy"),this.arcgisViewChange=Ge(),this.arcgisViewClick=yn(()=>this.view,"click"),this.arcgisViewDoubleClick=yn(()=>this.view,"double-click"),this.arcgisViewDrag=yn(()=>this.view,"drag"),this.arcgisViewHold=yn(()=>this.view,"hold"),this.arcgisViewImmediateClick=yn(()=>this.view,"immediate-click"),this.arcgisViewImmediateDoubleClick=yn(()=>this.view,"immediate-double-click"),this.arcgisViewKeyDown=yn(()=>this.view,"key-down"),this.arcgisViewKeyUp=yn(()=>this.view,"key-up"),this.arcgisViewLayerviewCreate=yn(()=>this.view,"layerview-create"),this.arcgisViewLayerviewCreateError=yn(()=>this.view,"layerview-create-error"),this.arcgisViewLayerviewDestroy=yn(()=>this.view,"layerview-destroy"),this.arcgisViewMouseWheel=yn(()=>this.view,"mouse-wheel"),this.arcgisViewPointerDown=yn(()=>this.view,"pointer-down"),this.arcgisViewPointerEnter=yn(()=>this.view,"pointer-enter"),this.arcgisViewPointerLeave=yn(()=>this.view,"pointer-leave"),this.arcgisViewPointerMove=yn(()=>this.view,"pointer-move"),this.arcgisViewPointerUp=yn(()=>this.view,"pointer-up"),this.arcgisViewReadyChange=Ge(),this.view.ui={components:["attribution"]}}get aria(){return this.view?.aria}set aria(e){this.view&&(this.view.aria=e)}get center(){return this.view.center}set center(e){const i=W7e(e,this.view);i&&(this.view.center=i)}get extent(){return this.view.extent}set extent(e){e&&!this.extent?.equals(e)&&(this.view.extent=e)}get focusAreas(){return this.map?this.map.focusAreas:{areas:[],style:"bright"}}set focusAreas(e){this.map&&(this.map.focusAreas=e)}get gamepad(){return this.view.input.gamepad}get interacting(){return this.view.interacting}get itemId(){return this._map.portalItem?.id}set itemId(e){U7e(this._map,this),this._map.portalItem={id:e},this.view.map=this._map}get navigating(){return this.view.navigating}get scale(){return this.view.scale}set scale(e){this.view.scale=e}get stationary(){return this.view.stationary}get viewpoint(){return this.view.viewpoint}set viewpoint(e){G7e(this.viewpoint,e)&&(this.view.viewpoint=e)}get zoom(){return this.view.zoom}set zoom(e){this.view.zoom=e}async addLayer(e,i){this.map?.add(e,i)}async addLayers(e,i){this.map?.addMany(e,i)}async addTable(e){this.map?.tables.add(e)}async addTables(e,i){this.map?.tables.addMany(e,i)}async closePopup(){this._uiController.closePopup()}async destroy(){await this.manager.destroy()}async goTo(e,i){return await this.view.goTo(e,i)}async hitTest(e,i){return await this.view.hitTest(e,i)}async openPopup(e){this._uiController.openPopup(e)}async takeScreenshot(e){return await this.view.takeScreenshot(e)}toMap(e){return this.view.toMap(e)}toScreen(e,i){return this.view.toScreen(e,i)}async tryFatalErrorRecovery(){this.view.tryFatalErrorRecovery()}async viewOnReady(e,i){return await this.componentOnReady(),await this.view.whenReady().then(()=>e?.()).catch(i)}async whenAnalysisView(e){return await this.view.whenAnalysisView(e)}async whenLayerView(e){return await this.view?.whenLayerView(e)}loaded(){const e=this;e.el.childElem=this._mapRef.value,this.view.container??=e.el.childElem,this.map||=this._map,this.manager.onLifecycle(()=>[ft(()=>this.map,i=>{i&&(this._map=i)},{initial:!0,sync:!0}),ft(()=>this.view.stationary,()=>this.arcgisViewChange.emit(),{initial:!0}),ft(()=>this.view.ready,()=>this.arcgisViewReadyChange.emit(),{initial:this.view.ready})])}renderMain(){return de`<div class=${ce(Tr.base)} ${Ut(this._mapRef)}></div>`}render(){return de`<section class=${ce(Tr.containerUI)} ${Ut(this._containerRef)}>${this._uiController.render()}${this.extraContent}</section>${this.renderMain()}`}};PP.properties={_map:16,view:32,animationsDisabled:5,aria:0,allLayerViews:0,analyses:0,autoDestroyDisabled:5,background:0,basemap:1,basemapView:0,center:1,constraints:0,displayFilterDisabled:5,extent:0,fatalError:0,floors:0,focusAreas:0,gamepad:32,graphics:0,ground:1,highlights:0,highlightOptions:0,interacting:32,ipsInfo:0,itemId:3,layerViews:0,magnifier:0,map:0,navigating:32,navigation:0,padding:0,popup:0,popupDisabled:5,ready:4,resizeAlign:1,resolution:8,rotation:9,scale:9,spatialReference:0,spatialReferenceLocked:5,stationary:32,suspended:7,theme:0,timeExtent:0,timeZone:1,updating:4,viewpoint:0,visibleArea:0,zoom:9,loadErrorSources:0},PP.styles=[B7e,q7e];let Z8=PP;MEe("arcgis-map",Z8);new Qe({portalItem:{id:"e09b9af286204939a32df019403ef438",portal:{url:"https://gis.railway-sector.com/portal"}},layerId:2,title:"Chainage",elevationInfo:{mode:"relative-to-ground"}});const Q7e=new iue({outFields:["*"],creator:t=>`
    <div style = 'color: #eaeaea'>
    ${t?.graphic.attributes.Municipality}
    <div>
    `}),eHe=new Xv({title:"<div style='color: #eaeaea'>Lot No.: <b>{LotID}</b></div>",lastEditInfoEnabled:!1,content:[Q7e]}),As=new Qe({portalItem:{id:"17cbb2b9a0b94ee582c14ac588881eeb",portal:{url:"https://gis.railway-sector.com/portal"}},layerId:1,title:"Land Acquisition",popupTemplate:eHe,elevationInfo:{mode:"on-the-ground"}});function tHe(){const[t,e]=Re.useState(),i=document.querySelector("arcgis-map");return Re.useEffect(()=>{t&&i.map.add(As)}),ii.jsx("arcgis-map",{basemap:"dark-gray-vector",zoom:"10",center:"120.99, 14.4",onarcgisViewReadyChange:r=>{e(r.target)}})}function Pv(t){"@babel/helpers - typeof";return Pv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pv(t)}function iHe(t,e){if(Pv(t)!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var r=i.call(t,e);if(Pv(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Wfe(t){var e=iHe(t,"string");return Pv(e)=="symbol"?e:e+""}function gT(t,e,i){return(e=Wfe(e))in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function zQ(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),i.push.apply(i,r)}return i}function Mt(t){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?zQ(Object(i),!0).forEach(function(r){gT(t,r,i[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):zQ(Object(i)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(i,r))})}return t}function rHe(t){if(Array.isArray(t))return t}function nHe(t,e){var i=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(i!=null){var r,n,s,o,a=[],l=!0,h=!1;try{if(s=(i=i.call(t)).next,e===0){if(Object(i)!==i)return;l=!1}else for(;!(l=(r=s.call(i)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(f){h=!0,n=f}finally{try{if(!l&&i.return!=null&&(o=i.return(),Object(o)!==o))return}finally{if(h)throw n}}return a}}function J8(t,e){(e==null||e>t.length)&&(e=t.length);for(var i=0,r=Array(e);i<e;i++)r[i]=t[i];return r}function Yfe(t,e){if(t){if(typeof t=="string")return J8(t,e);var i={}.toString.call(t).slice(8,-1);return i==="Object"&&t.constructor&&(i=t.constructor.name),i==="Map"||i==="Set"?Array.from(t):i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?J8(t,e):void 0}}function sHe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Cp(t,e){return rHe(t)||nHe(t,e)||Yfe(t,e)||sHe()}function oHe(t,e){if(t==null)return{};var i={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;i[r]=t[r]}return i}function Bp(t,e){if(t==null)return{};var i,r,n=oHe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)i=s[r],e.indexOf(i)===-1&&{}.propertyIsEnumerable.call(t,i)&&(n[i]=t[i])}return n}var aHe=["defaultInputValue","defaultMenuIsOpen","defaultValue","inputValue","menuIsOpen","onChange","onInputChange","onMenuClose","onMenuOpen","value"];function lHe(t){var e=t.defaultInputValue,i=e===void 0?"":e,r=t.defaultMenuIsOpen,n=r===void 0?!1:r,s=t.defaultValue,o=s===void 0?null:s,a=t.inputValue,l=t.menuIsOpen,h=t.onChange,f=t.onInputChange,g=t.onMenuClose,v=t.onMenuOpen,w=t.value,S=Bp(t,aHe),T=Re.useState(a!==void 0?a:i),C=Cp(T,2),I=C[0],A=C[1],P=Re.useState(l!==void 0?l:n),D=Cp(P,2),L=D[0],B=D[1],N=Re.useState(w!==void 0?w:o),Y=Cp(N,2),K=Y[0],te=Y[1],ue=Re.useCallback(function(ve,Me){typeof h=="function"&&h(ve,Me),te(ve)},[h]),ye=Re.useCallback(function(ve,Me){var Ne;typeof f=="function"&&(Ne=f(ve,Me)),A(Ne!==void 0?Ne:ve)},[f]),se=Re.useCallback(function(){typeof v=="function"&&v(),B(!0)},[v]),G=Re.useCallback(function(){typeof g=="function"&&g(),B(!1)},[g]),ie=a!==void 0?a:I,J=l!==void 0?l:L,le=w!==void 0?w:K;return Mt(Mt({},S),{},{inputValue:ie,menuIsOpen:J,onChange:ue,onInputChange:ye,onMenuClose:G,onMenuOpen:se,value:le})}function Dt(){return Dt=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var r in i)({}).hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t},Dt.apply(null,arguments)}function cHe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function NQ(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Wfe(r.key),r)}}function uHe(t,e,i){return e&&NQ(t.prototype,e),i&&NQ(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}function X8(t,e){return X8=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,r){return i.__proto__=r,i},X8(t,e)}function dHe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&X8(t,e)}function jO(t){return jO=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},jO(t)}function Zfe(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Zfe=function(){return!!t})()}function hHe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function pHe(t,e){if(e&&(Pv(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hHe(t)}function fHe(t){var e=Zfe();return function(){var i,r=jO(t);if(e){var n=jO(this).constructor;i=Reflect.construct(r,arguments,n)}else i=r.apply(this,arguments);return pHe(this,i)}}function mHe(t){if(Array.isArray(t))return J8(t)}function gHe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function yHe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function YB(t){return mHe(t)||gHe(t)||Yfe(t)||yHe()}function vHe(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function bHe(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var wHe=(function(){function t(i){var r=this;this._insertTag=function(n){var s;r.tags.length===0?r.insertionPoint?s=r.insertionPoint.nextSibling:r.prepend?s=r.container.firstChild:s=r.before:s=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(n,s),r.tags.push(n)},this.isSpeedy=i.speedy===void 0?!0:i.speedy,this.tags=[],this.ctr=0,this.nonce=i.nonce,this.key=i.key,this.container=i.container,this.prepend=i.prepend,this.insertionPoint=i.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(bHe(this));var n=this.tags[this.tags.length-1];if(this.isSpeedy){var s=vHe(n);try{s.insertRule(r,s.cssRules.length)}catch{}}else n.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){var n;return(n=r.parentNode)==null?void 0:n.removeChild(r)}),this.tags=[],this.ctr=0},t})(),Xs="-ms-",FO="-moz-",Mi="-webkit-",Jfe="comm",ZB="rule",JB="decl",_He="@import",Xfe="@keyframes",xHe="@layer",SHe=Math.abs,T3=String.fromCharCode,THe=Object.assign;function $He(t,e){return Os(t,0)^45?(((e<<2^Os(t,0))<<2^Os(t,1))<<2^Os(t,2))<<2^Os(t,3):0}function Kfe(t){return t.trim()}function kHe(t,e){return(t=e.exec(t))?t[0]:t}function Ai(t,e,i){return t.replace(e,i)}function K8(t,e){return t.indexOf(e)}function Os(t,e){return t.charCodeAt(e)|0}function r$(t,e,i){return t.slice(e,i)}function vd(t){return t.length}function XB(t){return t.length}function QI(t,e){return e.push(t),t}function EHe(t,e){return t.map(e).join("")}var $3=1,l1=1,Qfe=0,_a=0,$n=0,B1="";function k3(t,e,i,r,n,s,o){return{value:t,root:e,parent:i,type:r,props:n,children:s,line:$3,column:l1,length:o,return:""}}function fS(t,e){return THe(k3("",null,null,"",null,null,0),t,{length:-t.length},e)}function IHe(){return $n}function CHe(){return $n=_a>0?Os(B1,--_a):0,l1--,$n===10&&(l1=1,$3--),$n}function ml(){return $n=_a<Qfe?Os(B1,_a++):0,l1++,$n===10&&(l1=1,$3++),$n}function Id(){return Os(B1,_a)}function rA(){return _a}function mk(t,e){return r$(B1,t,e)}function n$(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function eme(t){return $3=l1=1,Qfe=vd(B1=t),_a=0,[]}function tme(t){return B1="",t}function nA(t){return Kfe(mk(_a-1,Q8(t===91?t+2:t===40?t+1:t)))}function MHe(t){for(;($n=Id())&&$n<33;)ml();return n$(t)>2||n$($n)>3?"":" "}function AHe(t,e){for(;--e&&ml()&&!($n<48||$n>102||$n>57&&$n<65||$n>70&&$n<97););return mk(t,rA()+(e<6&&Id()==32&&ml()==32))}function Q8(t){for(;ml();)switch($n){case t:return _a;case 34:case 39:t!==34&&t!==39&&Q8($n);break;case 40:t===41&&Q8(t);break;case 92:ml();break}return _a}function OHe(t,e){for(;ml()&&t+$n!==57;)if(t+$n===84&&Id()===47)break;return"/*"+mk(e,_a-1)+"*"+T3(t===47?t:ml())}function PHe(t){for(;!n$(Id());)ml();return mk(t,_a)}function DHe(t){return tme(sA("",null,null,null,[""],t=eme(t),0,[0],t))}function sA(t,e,i,r,n,s,o,a,l){for(var h=0,f=0,g=o,v=0,w=0,S=0,T=1,C=1,I=1,A=0,P="",D=n,L=s,B=r,N=P;C;)switch(S=A,A=ml()){case 40:if(S!=108&&Os(N,g-1)==58){K8(N+=Ai(nA(A),"&","&\f"),"&\f")!=-1&&(I=-1);break}case 34:case 39:case 91:N+=nA(A);break;case 9:case 10:case 13:case 32:N+=MHe(S);break;case 92:N+=AHe(rA()-1,7);continue;case 47:switch(Id()){case 42:case 47:QI(RHe(OHe(ml(),rA()),e,i),l);break;default:N+="/"}break;case 123*T:a[h++]=vd(N)*I;case 125*T:case 59:case 0:switch(A){case 0:case 125:C=0;case 59+f:I==-1&&(N=Ai(N,/\f/g,"")),w>0&&vd(N)-g&&QI(w>32?FQ(N+";",r,i,g-1):FQ(Ai(N," ","")+";",r,i,g-2),l);break;case 59:N+=";";default:if(QI(B=jQ(N,e,i,h,f,n,a,P,D=[],L=[],g),s),A===123)if(f===0)sA(N,e,B,B,D,s,g,a,L);else switch(v===99&&Os(N,3)===110?100:v){case 100:case 108:case 109:case 115:sA(t,B,B,r&&QI(jQ(t,B,B,0,0,n,a,P,n,D=[],g),L),n,L,g,a,r?D:L);break;default:sA(N,B,B,B,[""],L,0,a,L)}}h=f=w=0,T=I=1,P=N="",g=o;break;case 58:g=1+vd(N),w=S;default:if(T<1){if(A==123)--T;else if(A==125&&T++==0&&CHe()==125)continue}switch(N+=T3(A),A*T){case 38:I=f>0?1:(N+="\f",-1);break;case 44:a[h++]=(vd(N)-1)*I,I=1;break;case 64:Id()===45&&(N+=nA(ml())),v=Id(),f=g=vd(P=N+=PHe(rA())),A++;break;case 45:S===45&&vd(N)==2&&(T=0)}}return s}function jQ(t,e,i,r,n,s,o,a,l,h,f){for(var g=n-1,v=n===0?s:[""],w=XB(v),S=0,T=0,C=0;S<r;++S)for(var I=0,A=r$(t,g+1,g=SHe(T=o[S])),P=t;I<w;++I)(P=Kfe(T>0?v[I]+" "+A:Ai(A,/&\f/g,v[I])))&&(l[C++]=P);return k3(t,e,i,n===0?ZB:a,l,h,f)}function RHe(t,e,i){return k3(t,e,i,Jfe,T3(IHe()),r$(t,2,-2),0)}function FQ(t,e,i,r){return k3(t,e,i,JB,r$(t,0,r),r$(t,r+1,-1),r)}function r_(t,e){for(var i="",r=XB(t),n=0;n<r;n++)i+=e(t[n],n,t,e)||"";return i}function LHe(t,e,i,r){switch(t.type){case xHe:if(t.children.length)break;case _He:case JB:return t.return=t.return||t.value;case Jfe:return"";case Xfe:return t.return=t.value+"{"+r_(t.children,r)+"}";case ZB:t.value=t.props.join(",")}return vd(i=r_(t.children,r))?t.return=t.value+"{"+i+"}":""}function zHe(t){var e=XB(t);return function(i,r,n,s){for(var o="",a=0;a<e;a++)o+=t[a](i,r,n,s)||"";return o}}function NHe(t){return function(e){e.root||(e=e.return)&&t(e)}}function jHe(t){var e=Object.create(null);return function(i){return e[i]===void 0&&(e[i]=t(i)),e[i]}}var FHe=function(e,i,r){for(var n=0,s=0;n=s,s=Id(),n===38&&s===12&&(i[r]=1),!n$(s);)ml();return mk(e,_a)},VHe=function(e,i){var r=-1,n=44;do switch(n$(n)){case 0:n===38&&Id()===12&&(i[r]=1),e[r]+=FHe(_a-1,i,r);break;case 2:e[r]+=nA(n);break;case 4:if(n===44){e[++r]=Id()===58?"&\f":"",i[r]=e[r].length;break}default:e[r]+=T3(n)}while(n=ml());return e},UHe=function(e,i){return tme(VHe(eme(e),i))},VQ=new WeakMap,BHe=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var i=e.value,r=e.parent,n=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&i.charCodeAt(0)!==58&&!VQ.get(r))&&!n){VQ.set(e,!0);for(var s=[],o=UHe(i,s),a=r.props,l=0,h=0;l<o.length;l++)for(var f=0;f<a.length;f++,h++)e.props[h]=s[l]?o[l].replace(/&\f/g,a[f]):a[f]+" "+o[l]}}},HHe=function(e){if(e.type==="decl"){var i=e.value;i.charCodeAt(0)===108&&i.charCodeAt(2)===98&&(e.return="",e.value="")}};function ime(t,e){switch($He(t,e)){case 5103:return Mi+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Mi+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return Mi+t+FO+t+Xs+t+t;case 6828:case 4268:return Mi+t+Xs+t+t;case 6165:return Mi+t+Xs+"flex-"+t+t;case 5187:return Mi+t+Ai(t,/(\w+).+(:[^]+)/,Mi+"box-$1$2"+Xs+"flex-$1$2")+t;case 5443:return Mi+t+Xs+"flex-item-"+Ai(t,/flex-|-self/,"")+t;case 4675:return Mi+t+Xs+"flex-line-pack"+Ai(t,/align-content|flex-|-self/,"")+t;case 5548:return Mi+t+Xs+Ai(t,"shrink","negative")+t;case 5292:return Mi+t+Xs+Ai(t,"basis","preferred-size")+t;case 6060:return Mi+"box-"+Ai(t,"-grow","")+Mi+t+Xs+Ai(t,"grow","positive")+t;case 4554:return Mi+Ai(t,/([^-])(transform)/g,"$1"+Mi+"$2")+t;case 6187:return Ai(Ai(Ai(t,/(zoom-|grab)/,Mi+"$1"),/(image-set)/,Mi+"$1"),t,"")+t;case 5495:case 3959:return Ai(t,/(image-set\([^]*)/,Mi+"$1$`$1");case 4968:return Ai(Ai(t,/(.+:)(flex-)?(.*)/,Mi+"box-pack:$3"+Xs+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Mi+t+t;case 4095:case 3583:case 4068:case 2532:return Ai(t,/(.+)-inline(.+)/,Mi+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(vd(t)-1-e>6)switch(Os(t,e+1)){case 109:if(Os(t,e+4)!==45)break;case 102:return Ai(t,/(.+:)(.+)-([^]+)/,"$1"+Mi+"$2-$3$1"+FO+(Os(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~K8(t,"stretch")?ime(Ai(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(Os(t,e+1)!==115)break;case 6444:switch(Os(t,vd(t)-3-(~K8(t,"!important")&&10))){case 107:return Ai(t,":",":"+Mi)+t;case 101:return Ai(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Mi+(Os(t,14)===45?"inline-":"")+"box$3$1"+Mi+"$2$3$1"+Xs+"$2box$3")+t}break;case 5936:switch(Os(t,e+11)){case 114:return Mi+t+Xs+Ai(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return Mi+t+Xs+Ai(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return Mi+t+Xs+Ai(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return Mi+t+Xs+t+t}return t}var qHe=function(e,i,r,n){if(e.length>-1&&!e.return)switch(e.type){case JB:e.return=ime(e.value,e.length);break;case Xfe:return r_([fS(e,{value:Ai(e.value,"@","@"+Mi)})],n);case ZB:if(e.length)return EHe(e.props,function(s){switch(kHe(s,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return r_([fS(e,{props:[Ai(s,/:(read-\w+)/,":"+FO+"$1")]})],n);case"::placeholder":return r_([fS(e,{props:[Ai(s,/:(plac\w+)/,":"+Mi+"input-$1")]}),fS(e,{props:[Ai(s,/:(plac\w+)/,":"+FO+"$1")]}),fS(e,{props:[Ai(s,/:(plac\w+)/,Xs+"input-$1")]})],n)}return""})}},GHe=[qHe],WHe=function(e){var i=e.key;if(i==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(T){var C=T.getAttribute("data-emotion");C.indexOf(" ")!==-1&&(document.head.appendChild(T),T.setAttribute("data-s",""))})}var n=e.stylisPlugins||GHe,s={},o,a=[];o=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+i+' "]'),function(T){for(var C=T.getAttribute("data-emotion").split(" "),I=1;I<C.length;I++)s[C[I]]=!0;a.push(T)});var l,h=[BHe,HHe];{var f,g=[LHe,NHe(function(T){f.insert(T)})],v=zHe(h.concat(n,g)),w=function(C){return r_(DHe(C),v)};l=function(C,I,A,P){f=A,w(C?C+"{"+I.styles+"}":I.styles),P&&(S.inserted[I.name]=!0)}}var S={key:i,sheet:new wHe({key:i,container:o,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:l};return S.sheet.hydrate(a),S},Qz={exports:{}},Li={};var UQ;function YHe(){if(UQ)return Li;UQ=1;var t=typeof Symbol=="function"&&Symbol.for,e=t?Symbol.for("react.element"):60103,i=t?Symbol.for("react.portal"):60106,r=t?Symbol.for("react.fragment"):60107,n=t?Symbol.for("react.strict_mode"):60108,s=t?Symbol.for("react.profiler"):60114,o=t?Symbol.for("react.provider"):60109,a=t?Symbol.for("react.context"):60110,l=t?Symbol.for("react.async_mode"):60111,h=t?Symbol.for("react.concurrent_mode"):60111,f=t?Symbol.for("react.forward_ref"):60112,g=t?Symbol.for("react.suspense"):60113,v=t?Symbol.for("react.suspense_list"):60120,w=t?Symbol.for("react.memo"):60115,S=t?Symbol.for("react.lazy"):60116,T=t?Symbol.for("react.block"):60121,C=t?Symbol.for("react.fundamental"):60117,I=t?Symbol.for("react.responder"):60118,A=t?Symbol.for("react.scope"):60119;function P(L){if(typeof L=="object"&&L!==null){var B=L.$$typeof;switch(B){case e:switch(L=L.type,L){case l:case h:case r:case s:case n:case g:return L;default:switch(L=L&&L.$$typeof,L){case a:case f:case S:case w:case o:return L;default:return B}}case i:return B}}}function D(L){return P(L)===h}return Li.AsyncMode=l,Li.ConcurrentMode=h,Li.ContextConsumer=a,Li.ContextProvider=o,Li.Element=e,Li.ForwardRef=f,Li.Fragment=r,Li.Lazy=S,Li.Memo=w,Li.Portal=i,Li.Profiler=s,Li.StrictMode=n,Li.Suspense=g,Li.isAsyncMode=function(L){return D(L)||P(L)===l},Li.isConcurrentMode=D,Li.isContextConsumer=function(L){return P(L)===a},Li.isContextProvider=function(L){return P(L)===o},Li.isElement=function(L){return typeof L=="object"&&L!==null&&L.$$typeof===e},Li.isForwardRef=function(L){return P(L)===f},Li.isFragment=function(L){return P(L)===r},Li.isLazy=function(L){return P(L)===S},Li.isMemo=function(L){return P(L)===w},Li.isPortal=function(L){return P(L)===i},Li.isProfiler=function(L){return P(L)===s},Li.isStrictMode=function(L){return P(L)===n},Li.isSuspense=function(L){return P(L)===g},Li.isValidElementType=function(L){return typeof L=="string"||typeof L=="function"||L===r||L===h||L===s||L===n||L===g||L===v||typeof L=="object"&&L!==null&&(L.$$typeof===S||L.$$typeof===w||L.$$typeof===o||L.$$typeof===a||L.$$typeof===f||L.$$typeof===C||L.$$typeof===I||L.$$typeof===A||L.$$typeof===T)},Li.typeOf=P,Li}var BQ;function ZHe(){return BQ||(BQ=1,Qz.exports=YHe()),Qz.exports}var eN,HQ;function JHe(){if(HQ)return eN;HQ=1;var t=ZHe(),e={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},i={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},r={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},n={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};s[t.ForwardRef]=r,s[t.Memo]=n;function o(S){return t.isMemo(S)?n:s[S.$$typeof]||e}var a=Object.defineProperty,l=Object.getOwnPropertyNames,h=Object.getOwnPropertySymbols,f=Object.getOwnPropertyDescriptor,g=Object.getPrototypeOf,v=Object.prototype;function w(S,T,C){if(typeof T!="string"){if(v){var I=g(T);I&&I!==v&&w(S,I,C)}var A=l(T);h&&(A=A.concat(h(T)));for(var P=o(S),D=o(T),L=0;L<A.length;++L){var B=A[L];if(!i[B]&&!(C&&C[B])&&!(D&&D[B])&&!(P&&P[B])){var N=f(T,B);try{a(S,B,N)}catch{}}}}return S}return eN=w,eN}JHe();var XHe=!0;function KHe(t,e,i){var r="";return i.split(" ").forEach(function(n){t[n]!==void 0?e.push(t[n]+";"):n&&(r+=n+" ")}),r}var rme=function(e,i,r){var n=e.key+"-"+i.name;(r===!1||XHe===!1)&&e.registered[n]===void 0&&(e.registered[n]=i.styles)},QHe=function(e,i,r){rme(e,i,r);var n=e.key+"-"+i.name;if(e.inserted[i.name]===void 0){var s=i;do e.insert(i===s?"."+n:"",s,e.sheet,!0),s=s.next;while(s!==void 0)}};function eqe(t){for(var e=0,i,r=0,n=t.length;n>=4;++r,n-=4)i=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,i=(i&65535)*1540483477+((i>>>16)*59797<<16),i^=i>>>24,e=(i&65535)*1540483477+((i>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(n){case 3:e^=(t.charCodeAt(r+2)&255)<<16;case 2:e^=(t.charCodeAt(r+1)&255)<<8;case 1:e^=t.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var tqe={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},iqe=/[A-Z]|^ms/g,rqe=/_EMO_([^_]+?)_([^]*?)_EMO_/g,nme=function(e){return e.charCodeAt(1)===45},qQ=function(e){return e!=null&&typeof e!="boolean"},tN=jHe(function(t){return nme(t)?t:t.replace(iqe,"-$&").toLowerCase()}),GQ=function(e,i){switch(e){case"animation":case"animationName":if(typeof i=="string")return i.replace(rqe,function(r,n,s){return bd={name:n,styles:s,next:bd},n})}return tqe[e]!==1&&!nme(e)&&typeof i=="number"&&i!==0?i+"px":i};function s$(t,e,i){if(i==null)return"";var r=i;if(r.__emotion_styles!==void 0)return r;switch(typeof i){case"boolean":return"";case"object":{var n=i;if(n.anim===1)return bd={name:n.name,styles:n.styles,next:bd},n.name;var s=i;if(s.styles!==void 0){var o=s.next;if(o!==void 0)for(;o!==void 0;)bd={name:o.name,styles:o.styles,next:bd},o=o.next;var a=s.styles+";";return a}return nqe(t,e,i)}case"function":{if(t!==void 0){var l=bd,h=i(t);return bd=l,s$(t,e,h)}break}}var f=i;return f}function nqe(t,e,i){var r="";if(Array.isArray(i))for(var n=0;n<i.length;n++)r+=s$(t,e,i[n])+";";else for(var s in i){var o=i[s];if(typeof o!="object"){var a=o;qQ(a)&&(r+=tN(s)+":"+GQ(s,a)+";")}else if(Array.isArray(o)&&typeof o[0]=="string"&&e==null)for(var l=0;l<o.length;l++)qQ(o[l])&&(r+=tN(s)+":"+GQ(s,o[l])+";");else{var h=s$(t,e,o);switch(s){case"animation":case"animationName":{r+=tN(s)+":"+h+";";break}default:r+=s+"{"+h+"}"}}}return r}var WQ=/label:\s*([^\s;{]+)\s*(;|$)/g,bd;function sme(t,e,i){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var r=!0,n="";bd=void 0;var s=t[0];if(s==null||s.raw===void 0)r=!1,n+=s$(i,e,s);else{var o=s;n+=o[0]}for(var a=1;a<t.length;a++)if(n+=s$(i,e,t[a]),r){var l=s;n+=l[a]}WQ.lastIndex=0;for(var h="",f;(f=WQ.exec(n))!==null;)h+="-"+f[1];var g=eqe(n)+h;return{name:g,styles:n,next:bd}}var sqe=function(e){return e()},oqe=zG.useInsertionEffect?zG.useInsertionEffect:!1,aqe=oqe||sqe,ome=Re.createContext(typeof HTMLElement<"u"?WHe({key:"css"}):null);ome.Provider;var lqe=function(e){return Re.forwardRef(function(i,r){var n=Re.useContext(ome);return e(i,n,r)})},cqe=Re.createContext({}),KB={}.hasOwnProperty,eV="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",uqe=function(e,i){var r={};for(var n in i)KB.call(i,n)&&(r[n]=i[n]);return r[eV]=e,r},dqe=function(e){var i=e.cache,r=e.serialized,n=e.isStringTag;return rme(i,r,n),aqe(function(){return QHe(i,r,n)}),null},hqe=lqe(function(t,e,i){var r=t.css;typeof r=="string"&&e.registered[r]!==void 0&&(r=e.registered[r]);var n=t[eV],s=[r],o="";typeof t.className=="string"?o=KHe(e.registered,s,t.className):t.className!=null&&(o=t.className+" ");var a=sme(s,void 0,Re.useContext(cqe));o+=e.key+"-"+a.name;var l={};for(var h in t)KB.call(t,h)&&h!=="css"&&h!==eV&&(l[h]=t[h]);return l.className=o,i&&(l.ref=i),Re.createElement(Re.Fragment,null,Re.createElement(dqe,{cache:e,serialized:a,isStringTag:typeof n=="string"}),Re.createElement(n,l))}),pqe=hqe,It=function(e,i){var r=arguments;if(i==null||!KB.call(i,"css"))return Re.createElement.apply(void 0,r);var n=r.length,s=new Array(n);s[0]=pqe,s[1]=uqe(e,i);for(var o=2;o<n;o++)s[o]=r[o];return Re.createElement.apply(null,s)};(function(t){var e;e||(e=t.JSX||(t.JSX={}))})(It||(It={}));function QB(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return sme(e)}function fqe(){var t=QB.apply(void 0,arguments),e="animation-"+t.name;return{name:e,styles:"@keyframes "+e+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}function mqe(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var gqe=Jte();const ame=["top","right","bottom","left"],YQ=["start","end"],ZQ=ame.reduce((t,e)=>t.concat(e,e+"-"+YQ[0],e+"-"+YQ[1]),[]),c1=Math.min,rv=Math.max,VO=Math.round,eC=Math.floor,Cd=t=>({x:t,y:t}),yqe={left:"right",right:"left",bottom:"top",top:"bottom"},vqe={start:"end",end:"start"};function tV(t,e,i){return rv(t,c1(e,i))}function Kv(t,e){return typeof t=="function"?t(e):t}function Dp(t){return t.split("-")[0]}function Md(t){return t.split("-")[1]}function lme(t){return t==="x"?"y":"x"}function e7(t){return t==="y"?"height":"width"}const bqe=new Set(["top","bottom"]);function Om(t){return bqe.has(Dp(t))?"y":"x"}function t7(t){return lme(Om(t))}function cme(t,e,i){i===void 0&&(i=!1);const r=Md(t),n=t7(t),s=e7(n);let o=n==="x"?r===(i?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(o=BO(o)),[o,BO(o)]}function wqe(t){const e=BO(t);return[UO(t),e,UO(e)]}function UO(t){return t.replace(/start|end/g,e=>vqe[e])}const JQ=["left","right"],XQ=["right","left"],_qe=["top","bottom"],xqe=["bottom","top"];function Sqe(t,e,i){switch(t){case"top":case"bottom":return i?e?XQ:JQ:e?JQ:XQ;case"left":case"right":return e?_qe:xqe;default:return[]}}function Tqe(t,e,i,r){const n=Md(t);let s=Sqe(Dp(t),i==="start",r);return n&&(s=s.map(o=>o+"-"+n),e&&(s=s.concat(s.map(UO)))),s}function BO(t){return t.replace(/left|right|bottom|top/g,e=>yqe[e])}function $qe(t){return{top:0,right:0,bottom:0,left:0,...t}}function ume(t){return typeof t!="number"?$qe(t):{top:t,right:t,bottom:t,left:t}}function HO(t){const{x:e,y:i,width:r,height:n}=t;return{width:r,height:n,top:i,left:e,right:e+r,bottom:i+n,x:e,y:i}}function KQ(t,e,i){let{reference:r,floating:n}=t;const s=Om(e),o=t7(e),a=e7(o),l=Dp(e),h=s==="y",f=r.x+r.width/2-n.width/2,g=r.y+r.height/2-n.height/2,v=r[a]/2-n[a]/2;let w;switch(l){case"top":w={x:f,y:r.y-n.height};break;case"bottom":w={x:f,y:r.y+r.height};break;case"right":w={x:r.x+r.width,y:g};break;case"left":w={x:r.x-n.width,y:g};break;default:w={x:r.x,y:r.y}}switch(Md(e)){case"start":w[o]-=v*(i&&h?-1:1);break;case"end":w[o]+=v*(i&&h?-1:1);break}return w}const kqe=async(t,e,i)=>{const{placement:r="bottom",strategy:n="absolute",middleware:s=[],platform:o}=i,a=s.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let h=await o.getElementRects({reference:t,floating:e,strategy:n}),{x:f,y:g}=KQ(h,r,l),v=r,w={},S=0;for(let T=0;T<a.length;T++){const{name:C,fn:I}=a[T],{x:A,y:P,data:D,reset:L}=await I({x:f,y:g,initialPlacement:r,placement:v,strategy:n,middlewareData:w,rects:h,platform:o,elements:{reference:t,floating:e}});f=A??f,g=P??g,w={...w,[C]:{...w[C],...D}},L&&S<=50&&(S++,typeof L=="object"&&(L.placement&&(v=L.placement),L.rects&&(h=L.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:n}):L.rects),{x:f,y:g}=KQ(h,v,l)),T=-1)}return{x:f,y:g,placement:v,strategy:n,middlewareData:w}};async function o$(t,e){var i;e===void 0&&(e={});const{x:r,y:n,platform:s,rects:o,elements:a,strategy:l}=t,{boundary:h="clippingAncestors",rootBoundary:f="viewport",elementContext:g="floating",altBoundary:v=!1,padding:w=0}=Kv(e,t),S=ume(w),C=a[v?g==="floating"?"reference":"floating":g],I=HO(await s.getClippingRect({element:(i=await(s.isElement==null?void 0:s.isElement(C)))==null||i?C:C.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:h,rootBoundary:f,strategy:l})),A=g==="floating"?{x:r,y:n,width:o.floating.width,height:o.floating.height}:o.reference,P=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),D=await(s.isElement==null?void 0:s.isElement(P))?await(s.getScale==null?void 0:s.getScale(P))||{x:1,y:1}:{x:1,y:1},L=HO(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:A,offsetParent:P,strategy:l}):A);return{top:(I.top-L.top+S.top)/D.y,bottom:(L.bottom-I.bottom+S.bottom)/D.y,left:(I.left-L.left+S.left)/D.x,right:(L.right-I.right+S.right)/D.x}}const Eqe=t=>({name:"arrow",options:t,async fn(e){const{x:i,y:r,placement:n,rects:s,platform:o,elements:a,middlewareData:l}=e,{element:h,padding:f=0}=Kv(t,e)||{};if(h==null)return{};const g=ume(f),v={x:i,y:r},w=t7(n),S=e7(w),T=await o.getDimensions(h),C=w==="y",I=C?"top":"left",A=C?"bottom":"right",P=C?"clientHeight":"clientWidth",D=s.reference[S]+s.reference[w]-v[w]-s.floating[S],L=v[w]-s.reference[w],B=await(o.getOffsetParent==null?void 0:o.getOffsetParent(h));let N=B?B[P]:0;(!N||!await(o.isElement==null?void 0:o.isElement(B)))&&(N=a.floating[P]||s.floating[S]);const Y=D/2-L/2,K=N/2-T[S]/2-1,te=c1(g[I],K),ue=c1(g[A],K),ye=te,se=N-T[S]-ue,G=N/2-T[S]/2+Y,ie=tV(ye,G,se),J=!l.arrow&&Md(n)!=null&&G!==ie&&s.reference[S]/2-(G<ye?te:ue)-T[S]/2<0,le=J?G<ye?G-ye:G-se:0;return{[w]:v[w]+le,data:{[w]:ie,centerOffset:G-ie-le,...J&&{alignmentOffset:le}},reset:J}}});function Iqe(t,e,i){return(t?[...i.filter(n=>Md(n)===t),...i.filter(n=>Md(n)!==t)]:i.filter(n=>Dp(n)===n)).filter(n=>t?Md(n)===t||(e?UO(n)!==n:!1):!0)}const Cqe=function(t){return t===void 0&&(t={}),{name:"autoPlacement",options:t,async fn(e){var i,r,n;const{rects:s,middlewareData:o,placement:a,platform:l,elements:h}=e,{crossAxis:f=!1,alignment:g,allowedPlacements:v=ZQ,autoAlignment:w=!0,...S}=Kv(t,e),T=g!==void 0||v===ZQ?Iqe(g||null,w,v):v,C=await o$(e,S),I=((i=o.autoPlacement)==null?void 0:i.index)||0,A=T[I];if(A==null)return{};const P=cme(A,s,await(l.isRTL==null?void 0:l.isRTL(h.floating)));if(a!==A)return{reset:{placement:T[0]}};const D=[C[Dp(A)],C[P[0]],C[P[1]]],L=[...((r=o.autoPlacement)==null?void 0:r.overflows)||[],{placement:A,overflows:D}],B=T[I+1];if(B)return{data:{index:I+1,overflows:L},reset:{placement:B}};const N=L.map(te=>{const ue=Md(te.placement);return[te.placement,ue&&f?te.overflows.slice(0,2).reduce((ye,se)=>ye+se,0):te.overflows[0],te.overflows]}).sort((te,ue)=>te[1]-ue[1]),K=((n=N.filter(te=>te[2].slice(0,Md(te[0])?2:3).every(ue=>ue<=0))[0])==null?void 0:n[0])||N[0][0];return K!==a?{data:{index:I+1,overflows:L},reset:{placement:K}}:{}}}},Mqe=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var i,r;const{placement:n,middlewareData:s,rects:o,initialPlacement:a,platform:l,elements:h}=e,{mainAxis:f=!0,crossAxis:g=!0,fallbackPlacements:v,fallbackStrategy:w="bestFit",fallbackAxisSideDirection:S="none",flipAlignment:T=!0,...C}=Kv(t,e);if((i=s.arrow)!=null&&i.alignmentOffset)return{};const I=Dp(n),A=Om(a),P=Dp(a)===a,D=await(l.isRTL==null?void 0:l.isRTL(h.floating)),L=v||(P||!T?[BO(a)]:wqe(a)),B=S!=="none";!v&&B&&L.push(...Tqe(a,T,S,D));const N=[a,...L],Y=await o$(e,C),K=[];let te=((r=s.flip)==null?void 0:r.overflows)||[];if(f&&K.push(Y[I]),g){const G=cme(n,o,D);K.push(Y[G[0]],Y[G[1]])}if(te=[...te,{placement:n,overflows:K}],!K.every(G=>G<=0)){var ue,ye;const G=(((ue=s.flip)==null?void 0:ue.index)||0)+1,ie=N[G];if(ie&&(!(g==="alignment"?A!==Om(ie):!1)||te.every(ve=>Om(ve.placement)===A?ve.overflows[0]>0:!0)))return{data:{index:G,overflows:te},reset:{placement:ie}};let J=(ye=te.filter(le=>le.overflows[0]<=0).sort((le,ve)=>le.overflows[1]-ve.overflows[1])[0])==null?void 0:ye.placement;if(!J)switch(w){case"bestFit":{var se;const le=(se=te.filter(ve=>{if(B){const Me=Om(ve.placement);return Me===A||Me==="y"}return!0}).map(ve=>[ve.placement,ve.overflows.filter(Me=>Me>0).reduce((Me,Ne)=>Me+Ne,0)]).sort((ve,Me)=>ve[1]-Me[1])[0])==null?void 0:se[0];le&&(J=le);break}case"initialPlacement":J=a;break}if(n!==J)return{reset:{placement:J}}}return{}}}};function QQ(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function eee(t){return ame.some(e=>t[e]>=0)}const Aqe=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:i}=e,{strategy:r="referenceHidden",...n}=Kv(t,e);switch(r){case"referenceHidden":{const s=await o$(e,{...n,elementContext:"reference"}),o=QQ(s,i.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:eee(o)}}}case"escaped":{const s=await o$(e,{...n,altBoundary:!0}),o=QQ(s,i.floating);return{data:{escapedOffsets:o,escaped:eee(o)}}}default:return{}}}}},Oqe=new Set(["left","top"]);async function Pqe(t,e){const{placement:i,platform:r,elements:n}=t,s=await(r.isRTL==null?void 0:r.isRTL(n.floating)),o=Dp(i),a=Md(i),l=Om(i)==="y",h=Oqe.has(o)?-1:1,f=s&&l?-1:1,g=Kv(e,t);let{mainAxis:v,crossAxis:w,alignmentAxis:S}=typeof g=="number"?{mainAxis:g,crossAxis:0,alignmentAxis:null}:{mainAxis:g.mainAxis||0,crossAxis:g.crossAxis||0,alignmentAxis:g.alignmentAxis};return a&&typeof S=="number"&&(w=a==="end"?S*-1:S),l?{x:w*f,y:v*h}:{x:v*h,y:w*f}}const Dqe=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var i,r;const{x:n,y:s,placement:o,middlewareData:a}=e,l=await Pqe(e,t);return o===((i=a.offset)==null?void 0:i.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:n+l.x,y:s+l.y,data:{...l,placement:o}}}}},Rqe=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:i,y:r,placement:n}=e,{mainAxis:s=!0,crossAxis:o=!1,limiter:a={fn:C=>{let{x:I,y:A}=C;return{x:I,y:A}}},...l}=Kv(t,e),h={x:i,y:r},f=await o$(e,l),g=Om(Dp(n)),v=lme(g);let w=h[v],S=h[g];if(s){const C=v==="y"?"top":"left",I=v==="y"?"bottom":"right",A=w+f[C],P=w-f[I];w=tV(A,w,P)}if(o){const C=g==="y"?"top":"left",I=g==="y"?"bottom":"right",A=S+f[C],P=S-f[I];S=tV(A,S,P)}const T=a.fn({...e,[v]:w,[g]:S});return{...T,data:{x:T.x-i,y:T.y-r,enabled:{[v]:s,[g]:o}}}}}};function E3(){return typeof window<"u"}function H1(t){return dme(t)?(t.nodeName||"").toLowerCase():"#document"}function gl(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Bd(t){var e;return(e=(dme(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function dme(t){return E3()?t instanceof Node||t instanceof gl(t).Node:!1}function _u(t){return E3()?t instanceof Element||t instanceof gl(t).Element:!1}function Vd(t){return E3()?t instanceof HTMLElement||t instanceof gl(t).HTMLElement:!1}function tee(t){return!E3()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof gl(t).ShadowRoot}const Lqe=new Set(["inline","contents"]);function gk(t){const{overflow:e,overflowX:i,overflowY:r,display:n}=xu(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+i)&&!Lqe.has(n)}const zqe=new Set(["table","td","th"]);function Nqe(t){return zqe.has(H1(t))}const jqe=[":popover-open",":modal"];function I3(t){return jqe.some(e=>{try{return t.matches(e)}catch{return!1}})}const Fqe=["transform","translate","scale","rotate","perspective"],Vqe=["transform","translate","scale","rotate","perspective","filter"],Uqe=["paint","layout","strict","content"];function C3(t){const e=i7(),i=_u(t)?xu(t):t;return Fqe.some(r=>i[r]?i[r]!=="none":!1)||(i.containerType?i.containerType!=="normal":!1)||!e&&(i.backdropFilter?i.backdropFilter!=="none":!1)||!e&&(i.filter?i.filter!=="none":!1)||Vqe.some(r=>(i.willChange||"").includes(r))||Uqe.some(r=>(i.contain||"").includes(r))}function Bqe(t){let e=Xm(t);for(;Vd(e)&&!u1(e);){if(C3(e))return e;if(I3(e))return null;e=Xm(e)}return null}function i7(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const Hqe=new Set(["html","body","#document"]);function u1(t){return Hqe.has(H1(t))}function xu(t){return gl(t).getComputedStyle(t)}function M3(t){return _u(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Xm(t){if(H1(t)==="html")return t;const e=t.assignedSlot||t.parentNode||tee(t)&&t.host||Bd(t);return tee(e)?e.host:e}function hme(t){const e=Xm(t);return u1(e)?t.ownerDocument?t.ownerDocument.body:t.body:Vd(e)&&gk(e)?e:hme(e)}function a$(t,e,i){var r;e===void 0&&(e=[]),i===void 0&&(i=!0);const n=hme(t),s=n===((r=t.ownerDocument)==null?void 0:r.body),o=gl(n);if(s){const a=iV(o);return e.concat(o,o.visualViewport||[],gk(n)?n:[],a&&i?a$(a):[])}return e.concat(n,a$(n,[],i))}function iV(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function pme(t){const e=xu(t);let i=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const n=Vd(t),s=n?t.offsetWidth:i,o=n?t.offsetHeight:r,a=VO(i)!==s||VO(r)!==o;return a&&(i=s,r=o),{width:i,height:r,$:a}}function r7(t){return _u(t)?t:t.contextElement}function n_(t){const e=r7(t);if(!Vd(e))return Cd(1);const i=e.getBoundingClientRect(),{width:r,height:n,$:s}=pme(e);let o=(s?VO(i.width):i.width)/r,a=(s?VO(i.height):i.height)/n;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const qqe=Cd(0);function fme(t){const e=gl(t);return!i7()||!e.visualViewport?qqe:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function Gqe(t,e,i){return e===void 0&&(e=!1),!i||e&&i!==gl(t)?!1:e}function Dv(t,e,i,r){e===void 0&&(e=!1),i===void 0&&(i=!1);const n=t.getBoundingClientRect(),s=r7(t);let o=Cd(1);e&&(r?_u(r)&&(o=n_(r)):o=n_(t));const a=Gqe(s,i,r)?fme(s):Cd(0);let l=(n.left+a.x)/o.x,h=(n.top+a.y)/o.y,f=n.width/o.x,g=n.height/o.y;if(s){const v=gl(s),w=r&&_u(r)?gl(r):r;let S=v,T=iV(S);for(;T&&r&&w!==S;){const C=n_(T),I=T.getBoundingClientRect(),A=xu(T),P=I.left+(T.clientLeft+parseFloat(A.paddingLeft))*C.x,D=I.top+(T.clientTop+parseFloat(A.paddingTop))*C.y;l*=C.x,h*=C.y,f*=C.x,g*=C.y,l+=P,h+=D,S=gl(T),T=iV(S)}}return HO({width:f,height:g,x:l,y:h})}function A3(t,e){const i=M3(t).scrollLeft;return e?e.left+i:Dv(Bd(t)).left+i}function mme(t,e){const i=t.getBoundingClientRect(),r=i.left+e.scrollLeft-A3(t,i),n=i.top+e.scrollTop;return{x:r,y:n}}function Wqe(t){let{elements:e,rect:i,offsetParent:r,strategy:n}=t;const s=n==="fixed",o=Bd(r),a=e?I3(e.floating):!1;if(r===o||a&&s)return i;let l={scrollLeft:0,scrollTop:0},h=Cd(1);const f=Cd(0),g=Vd(r);if((g||!g&&!s)&&((H1(r)!=="body"||gk(o))&&(l=M3(r)),Vd(r))){const w=Dv(r);h=n_(r),f.x=w.x+r.clientLeft,f.y=w.y+r.clientTop}const v=o&&!g&&!s?mme(o,l):Cd(0);return{width:i.width*h.x,height:i.height*h.y,x:i.x*h.x-l.scrollLeft*h.x+f.x+v.x,y:i.y*h.y-l.scrollTop*h.y+f.y+v.y}}function Yqe(t){return Array.from(t.getClientRects())}function Zqe(t){const e=Bd(t),i=M3(t),r=t.ownerDocument.body,n=rv(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),s=rv(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-i.scrollLeft+A3(t);const a=-i.scrollTop;return xu(r).direction==="rtl"&&(o+=rv(e.clientWidth,r.clientWidth)-n),{width:n,height:s,x:o,y:a}}const iee=25;function Jqe(t,e){const i=gl(t),r=Bd(t),n=i.visualViewport;let s=r.clientWidth,o=r.clientHeight,a=0,l=0;if(n){s=n.width,o=n.height;const f=i7();(!f||f&&e==="fixed")&&(a=n.offsetLeft,l=n.offsetTop)}const h=A3(r);if(h<=0){const f=r.ownerDocument,g=f.body,v=getComputedStyle(g),w=f.compatMode==="CSS1Compat"&&parseFloat(v.marginLeft)+parseFloat(v.marginRight)||0,S=Math.abs(r.clientWidth-g.clientWidth-w);S<=iee&&(s-=S)}else h<=iee&&(s+=h);return{width:s,height:o,x:a,y:l}}const Xqe=new Set(["absolute","fixed"]);function Kqe(t,e){const i=Dv(t,!0,e==="fixed"),r=i.top+t.clientTop,n=i.left+t.clientLeft,s=Vd(t)?n_(t):Cd(1),o=t.clientWidth*s.x,a=t.clientHeight*s.y,l=n*s.x,h=r*s.y;return{width:o,height:a,x:l,y:h}}function ree(t,e,i){let r;if(e==="viewport")r=Jqe(t,i);else if(e==="document")r=Zqe(Bd(t));else if(_u(e))r=Kqe(e,i);else{const n=fme(t);r={x:e.x-n.x,y:e.y-n.y,width:e.width,height:e.height}}return HO(r)}function gme(t,e){const i=Xm(t);return i===e||!_u(i)||u1(i)?!1:xu(i).position==="fixed"||gme(i,e)}function Qqe(t,e){const i=e.get(t);if(i)return i;let r=a$(t,[],!1).filter(a=>_u(a)&&H1(a)!=="body"),n=null;const s=xu(t).position==="fixed";let o=s?Xm(t):t;for(;_u(o)&&!u1(o);){const a=xu(o),l=C3(o);!l&&a.position==="fixed"&&(n=null),(s?!l&&!n:!l&&a.position==="static"&&!!n&&Xqe.has(n.position)||gk(o)&&!l&&gme(t,o))?r=r.filter(f=>f!==o):n=a,o=Xm(o)}return e.set(t,r),r}function eGe(t){let{element:e,boundary:i,rootBoundary:r,strategy:n}=t;const o=[...i==="clippingAncestors"?I3(e)?[]:Qqe(e,this._c):[].concat(i),r],a=o[0],l=o.reduce((h,f)=>{const g=ree(e,f,n);return h.top=rv(g.top,h.top),h.right=c1(g.right,h.right),h.bottom=c1(g.bottom,h.bottom),h.left=rv(g.left,h.left),h},ree(e,a,n));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function tGe(t){const{width:e,height:i}=pme(t);return{width:e,height:i}}function iGe(t,e,i){const r=Vd(e),n=Bd(e),s=i==="fixed",o=Dv(t,!0,s,e);let a={scrollLeft:0,scrollTop:0};const l=Cd(0);function h(){l.x=A3(n)}if(r||!r&&!s)if((H1(e)!=="body"||gk(n))&&(a=M3(e)),r){const w=Dv(e,!0,s,e);l.x=w.x+e.clientLeft,l.y=w.y+e.clientTop}else n&&h();s&&!r&&n&&h();const f=n&&!r&&!s?mme(n,a):Cd(0),g=o.left+a.scrollLeft-l.x-f.x,v=o.top+a.scrollTop-l.y-f.y;return{x:g,y:v,width:o.width,height:o.height}}function iN(t){return xu(t).position==="static"}function nee(t,e){if(!Vd(t)||xu(t).position==="fixed")return null;if(e)return e(t);let i=t.offsetParent;return Bd(t)===i&&(i=i.ownerDocument.body),i}function yme(t,e){const i=gl(t);if(I3(t))return i;if(!Vd(t)){let n=Xm(t);for(;n&&!u1(n);){if(_u(n)&&!iN(n))return n;n=Xm(n)}return i}let r=nee(t,e);for(;r&&Nqe(r)&&iN(r);)r=nee(r,e);return r&&u1(r)&&iN(r)&&!C3(r)?i:r||Bqe(t)||i}const rGe=async function(t){const e=this.getOffsetParent||yme,i=this.getDimensions,r=await i(t.floating);return{reference:iGe(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function nGe(t){return xu(t).direction==="rtl"}const rV={convertOffsetParentRelativeRectToViewportRelativeRect:Wqe,getDocumentElement:Bd,getClippingRect:eGe,getOffsetParent:yme,getElementRects:rGe,getClientRects:Yqe,getDimensions:tGe,getScale:n_,isElement:_u,isRTL:nGe};function vme(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function sGe(t,e){let i=null,r;const n=Bd(t);function s(){var a;clearTimeout(r),(a=i)==null||a.disconnect(),i=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),s();const h=t.getBoundingClientRect(),{left:f,top:g,width:v,height:w}=h;if(a||e(),!v||!w)return;const S=eC(g),T=eC(n.clientWidth-(f+v)),C=eC(n.clientHeight-(g+w)),I=eC(f),P={rootMargin:-S+"px "+-T+"px "+-C+"px "+-I+"px",threshold:rv(0,c1(1,l))||1};let D=!0;function L(B){const N=B[0].intersectionRatio;if(N!==l){if(!D)return o();N?o(!1,N):r=setTimeout(()=>{o(!1,1e-7)},1e3)}N===1&&!vme(h,t.getBoundingClientRect())&&o(),D=!1}try{i=new IntersectionObserver(L,{...P,root:n.ownerDocument})}catch{i=new IntersectionObserver(L,P)}i.observe(t)}return o(!0),s}function bme(t,e,i,r){r===void 0&&(r={});const{ancestorScroll:n=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,h=r7(t),f=n||s?[...h?a$(h):[],...a$(e)]:[];f.forEach(I=>{n&&I.addEventListener("scroll",i,{passive:!0}),s&&I.addEventListener("resize",i)});const g=h&&a?sGe(h,i):null;let v=-1,w=null;o&&(w=new ResizeObserver(I=>{let[A]=I;A&&A.target===h&&w&&(w.unobserve(e),cancelAnimationFrame(v),v=requestAnimationFrame(()=>{var P;(P=w)==null||P.observe(e)})),i()}),h&&!l&&w.observe(h),w.observe(e));let S,T=l?Dv(t):null;l&&C();function C(){const I=Dv(t);T&&!vme(T,I)&&i(),T=I,S=requestAnimationFrame(C)}return i(),()=>{var I;f.forEach(A=>{n&&A.removeEventListener("scroll",i),s&&A.removeEventListener("resize",i)}),g?.(),(I=w)==null||I.disconnect(),w=null,l&&cancelAnimationFrame(S)}}const oGe=Dqe,aGe=Cqe,lGe=Rqe,see=Mqe,cGe=Aqe,uGe=Eqe,dGe=(t,e,i)=>{const r=new Map,n={platform:rV,...i},s={...n.platform,_c:r};return kqe(t,e,{...n,platform:s})};var nV=Re.useLayoutEffect,hGe=["className","clearValue","cx","getStyles","getClassNames","getValue","hasValue","isMulti","isRtl","options","selectOption","selectProps","setValue","theme"],qO=function(){};function pGe(t,e){return e?e[0]==="-"?t+e:t+"__"+e:t}function fGe(t,e){for(var i=arguments.length,r=new Array(i>2?i-2:0),n=2;n<i;n++)r[n-2]=arguments[n];var s=[].concat(r);if(e&&t)for(var o in e)e.hasOwnProperty(o)&&e[o]&&s.push("".concat(pGe(t,o)));return s.filter(function(a){return a}).map(function(a){return String(a).trim()}).join(" ")}var oee=function(e){return SGe(e)?e.filter(Boolean):Pv(e)==="object"&&e!==null?[e]:[]},wme=function(e){e.className,e.clearValue,e.cx,e.getStyles,e.getClassNames,e.getValue,e.hasValue,e.isMulti,e.isRtl,e.options,e.selectOption,e.selectProps,e.setValue,e.theme;var i=Bp(e,hGe);return Mt({},i)},en=function(e,i,r){var n=e.cx,s=e.getStyles,o=e.getClassNames,a=e.className;return{css:s(i,e),className:n(r??{},o(i,e),a)}};function O3(t){return[document.documentElement,document.body,window].indexOf(t)>-1}function mGe(t){return O3(t)?window.innerHeight:t.clientHeight}function _me(t){return O3(t)?window.pageYOffset:t.scrollTop}function GO(t,e){if(O3(t)){window.scrollTo(0,e);return}t.scrollTop=e}function gGe(t){var e=getComputedStyle(t),i=e.position==="absolute",r=/(auto|scroll)/;if(e.position==="fixed")return document.documentElement;for(var n=t;n=n.parentElement;)if(e=getComputedStyle(n),!(i&&e.position==="static")&&r.test(e.overflow+e.overflowY+e.overflowX))return n;return document.documentElement}function yGe(t,e,i,r){return i*((t=t/r-1)*t*t+1)+e}function tC(t,e){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:200,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:qO,n=_me(t),s=e-n,o=10,a=0;function l(){a+=o;var h=yGe(a,n,s,i);GO(t,h),a<i?window.requestAnimationFrame(l):r(t)}l()}function aee(t,e){var i=t.getBoundingClientRect(),r=e.getBoundingClientRect(),n=e.offsetHeight/3;r.bottom+n>i.bottom?GO(t,Math.min(e.offsetTop+e.clientHeight-t.offsetHeight+n,t.scrollHeight)):r.top-n<i.top&&GO(t,Math.max(e.offsetTop-n,0))}function vGe(t){var e=t.getBoundingClientRect();return{bottom:e.bottom,height:e.height,left:e.left,right:e.right,top:e.top,width:e.width}}function lee(){try{return document.createEvent("TouchEvent"),!0}catch{return!1}}function bGe(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch{return!1}}var xme=!1,wGe={get passive(){return xme=!0}},iC=typeof window<"u"?window:{};iC.addEventListener&&iC.removeEventListener&&(iC.addEventListener("p",qO,wGe),iC.removeEventListener("p",qO,!1));var _Ge=xme;function xGe(t){return t!=null}function SGe(t){return Array.isArray(t)}function rC(t,e,i){return t?e:i}var TGe=function(e){for(var i=arguments.length,r=new Array(i>1?i-1:0),n=1;n<i;n++)r[n-1]=arguments[n];var s=Object.entries(e).filter(function(o){var a=Cp(o,1),l=a[0];return!r.includes(l)});return s.reduce(function(o,a){var l=Cp(a,2),h=l[0],f=l[1];return o[h]=f,o},{})},$Ge=["children","innerProps"],kGe=["children","innerProps"];function EGe(t){var e=t.maxHeight,i=t.menuEl,r=t.minHeight,n=t.placement,s=t.shouldScroll,o=t.isFixedPosition,a=t.controlHeight,l=gGe(i),h={placement:"bottom",maxHeight:e};if(!i||!i.offsetParent)return h;var f=l.getBoundingClientRect(),g=f.height,v=i.getBoundingClientRect(),w=v.bottom,S=v.height,T=v.top,C=i.offsetParent.getBoundingClientRect(),I=C.top,A=o?window.innerHeight:mGe(l),P=_me(l),D=parseInt(getComputedStyle(i).marginBottom,10),L=parseInt(getComputedStyle(i).marginTop,10),B=I-L,N=A-T,Y=B+P,K=g-P-T,te=w-A+P+D,ue=P+T-L,ye=160;switch(n){case"auto":case"bottom":if(N>=S)return{placement:"bottom",maxHeight:e};if(K>=S&&!o)return s&&tC(l,te,ye),{placement:"bottom",maxHeight:e};if(!o&&K>=r||o&&N>=r){s&&tC(l,te,ye);var se=o?N-D:K-D;return{placement:"bottom",maxHeight:se}}if(n==="auto"||o){var G=e,ie=o?B:Y;return ie>=r&&(G=Math.min(ie-D-a,e)),{placement:"top",maxHeight:G}}if(n==="bottom")return s&&GO(l,te),{placement:"bottom",maxHeight:e};break;case"top":if(B>=S)return{placement:"top",maxHeight:e};if(Y>=S&&!o)return s&&tC(l,ue,ye),{placement:"top",maxHeight:e};if(!o&&Y>=r||o&&B>=r){var J=e;return(!o&&Y>=r||o&&B>=r)&&(J=o?B-L:Y-L),s&&tC(l,ue,ye),{placement:"top",maxHeight:J}}return{placement:"bottom",maxHeight:e};default:throw new Error('Invalid placement provided "'.concat(n,'".'))}return h}function IGe(t){var e={bottom:"top",top:"bottom"};return t?e[t]:"bottom"}var Sme=function(e){return e==="auto"?"bottom":e},CGe=function(e,i){var r,n=e.placement,s=e.theme,o=s.borderRadius,a=s.spacing,l=s.colors;return Mt((r={label:"menu"},gT(r,IGe(n),"100%"),gT(r,"position","absolute"),gT(r,"width","100%"),gT(r,"zIndex",1),r),i?{}:{backgroundColor:l.neutral0,borderRadius:o,boxShadow:"0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)",marginBottom:a.menuGutter,marginTop:a.menuGutter})},Tme=Re.createContext(null),MGe=function(e){var i=e.children,r=e.minMenuHeight,n=e.maxMenuHeight,s=e.menuPlacement,o=e.menuPosition,a=e.menuShouldScrollIntoView,l=e.theme,h=Re.useContext(Tme)||{},f=h.setPortalPlacement,g=Re.useRef(null),v=Re.useState(n),w=Cp(v,2),S=w[0],T=w[1],C=Re.useState(null),I=Cp(C,2),A=I[0],P=I[1],D=l.spacing.controlHeight;return nV(function(){var L=g.current;if(L){var B=o==="fixed",N=a&&!B,Y=EGe({maxHeight:n,menuEl:L,minHeight:r,placement:s,shouldScroll:N,isFixedPosition:B,controlHeight:D});T(Y.maxHeight),P(Y.placement),f?.(Y.placement)}},[n,s,o,a,r,f,D]),i({ref:g,placerProps:Mt(Mt({},e),{},{placement:A||Sme(s),maxHeight:S})})},AGe=function(e){var i=e.children,r=e.innerRef,n=e.innerProps;return It("div",Dt({},en(e,"menu",{menu:!0}),{ref:r},n),i)},OGe=AGe,PGe=function(e,i){var r=e.maxHeight,n=e.theme.spacing.baseUnit;return Mt({maxHeight:r,overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},i?{}:{paddingBottom:n,paddingTop:n})},DGe=function(e){var i=e.children,r=e.innerProps,n=e.innerRef,s=e.isMulti;return It("div",Dt({},en(e,"menuList",{"menu-list":!0,"menu-list--is-multi":s}),{ref:n},r),i)},$me=function(e,i){var r=e.theme,n=r.spacing.baseUnit,s=r.colors;return Mt({textAlign:"center"},i?{}:{color:s.neutral40,padding:"".concat(n*2,"px ").concat(n*3,"px")})},RGe=$me,LGe=$me,zGe=function(e){var i=e.children,r=i===void 0?"No options":i,n=e.innerProps,s=Bp(e,$Ge);return It("div",Dt({},en(Mt(Mt({},s),{},{children:r,innerProps:n}),"noOptionsMessage",{"menu-notice":!0,"menu-notice--no-options":!0}),n),r)},NGe=function(e){var i=e.children,r=i===void 0?"Loading...":i,n=e.innerProps,s=Bp(e,kGe);return It("div",Dt({},en(Mt(Mt({},s),{},{children:r,innerProps:n}),"loadingMessage",{"menu-notice":!0,"menu-notice--loading":!0}),n),r)},jGe=function(e){var i=e.rect,r=e.offset,n=e.position;return{left:i.left,position:n,top:r,width:i.width,zIndex:1}},FGe=function(e){var i=e.appendTo,r=e.children,n=e.controlElement,s=e.innerProps,o=e.menuPlacement,a=e.menuPosition,l=Re.useRef(null),h=Re.useRef(null),f=Re.useState(Sme(o)),g=Cp(f,2),v=g[0],w=g[1],S=Re.useMemo(function(){return{setPortalPlacement:w}},[]),T=Re.useState(null),C=Cp(T,2),I=C[0],A=C[1],P=Re.useCallback(function(){if(n){var N=vGe(n),Y=a==="fixed"?0:window.pageYOffset,K=N[v]+Y;(K!==I?.offset||N.left!==I?.rect.left||N.width!==I?.rect.width)&&A({offset:K,rect:N})}},[n,a,v,I?.offset,I?.rect.left,I?.rect.width]);nV(function(){P()},[P]);var D=Re.useCallback(function(){typeof h.current=="function"&&(h.current(),h.current=null),n&&l.current&&(h.current=bme(n,l.current,P,{elementResize:"ResizeObserver"in window}))},[n,P]);nV(function(){D()},[D]);var L=Re.useCallback(function(N){l.current=N,D()},[D]);if(!i&&a!=="fixed"||!I)return null;var B=It("div",Dt({ref:L},en(Mt(Mt({},e),{},{offset:I.offset,position:a,rect:I.rect}),"menuPortal",{"menu-portal":!0}),s),r);return It(Tme.Provider,{value:S},i?gqe.createPortal(B,i):B)},VGe=function(e){var i=e.isDisabled,r=e.isRtl;return{label:"container",direction:r?"rtl":void 0,pointerEvents:i?"none":void 0,position:"relative"}},UGe=function(e){var i=e.children,r=e.innerProps,n=e.isDisabled,s=e.isRtl;return It("div",Dt({},en(e,"container",{"--is-disabled":n,"--is-rtl":s}),r),i)},BGe=function(e,i){var r=e.theme.spacing,n=e.isMulti,s=e.hasValue,o=e.selectProps.controlShouldRenderValue;return Mt({alignItems:"center",display:n&&s&&o?"flex":"grid",flex:1,flexWrap:"wrap",WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"},i?{}:{padding:"".concat(r.baseUnit/2,"px ").concat(r.baseUnit*2,"px")})},HGe=function(e){var i=e.children,r=e.innerProps,n=e.isMulti,s=e.hasValue;return It("div",Dt({},en(e,"valueContainer",{"value-container":!0,"value-container--is-multi":n,"value-container--has-value":s}),r),i)},qGe=function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},GGe=function(e){var i=e.children,r=e.innerProps;return It("div",Dt({},en(e,"indicatorsContainer",{indicators:!0}),r),i)},cee,WGe=["size"],YGe=["innerProps","isRtl","size"],ZGe={name:"8mmkcg",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0"},kme=function(e){var i=e.size,r=Bp(e,WGe);return It("svg",Dt({height:i,width:i,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:ZGe},r))},n7=function(e){return It(kme,Dt({size:20},e),It("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},Eme=function(e){return It(kme,Dt({size:20},e),It("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},Ime=function(e,i){var r=e.isFocused,n=e.theme,s=n.spacing.baseUnit,o=n.colors;return Mt({label:"indicatorContainer",display:"flex",transition:"color 150ms"},i?{}:{color:r?o.neutral60:o.neutral20,padding:s*2,":hover":{color:r?o.neutral80:o.neutral40}})},JGe=Ime,XGe=function(e){var i=e.children,r=e.innerProps;return It("div",Dt({},en(e,"dropdownIndicator",{indicator:!0,"dropdown-indicator":!0}),r),i||It(Eme,null))},KGe=Ime,QGe=function(e){var i=e.children,r=e.innerProps;return It("div",Dt({},en(e,"clearIndicator",{indicator:!0,"clear-indicator":!0}),r),i||It(n7,null))},eWe=function(e,i){var r=e.isDisabled,n=e.theme,s=n.spacing.baseUnit,o=n.colors;return Mt({label:"indicatorSeparator",alignSelf:"stretch",width:1},i?{}:{backgroundColor:r?o.neutral10:o.neutral20,marginBottom:s*2,marginTop:s*2})},tWe=function(e){var i=e.innerProps;return It("span",Dt({},i,en(e,"indicatorSeparator",{"indicator-separator":!0})))},iWe=fqe(cee||(cee=mqe([`
  0%, 80%, 100% { opacity: 0; }
  40% { opacity: 1; }
`]))),rWe=function(e,i){var r=e.isFocused,n=e.size,s=e.theme,o=s.colors,a=s.spacing.baseUnit;return Mt({label:"loadingIndicator",display:"flex",transition:"color 150ms",alignSelf:"center",fontSize:n,lineHeight:1,marginRight:n,textAlign:"center",verticalAlign:"middle"},i?{}:{color:r?o.neutral60:o.neutral20,padding:a*2})},rN=function(e){var i=e.delay,r=e.offset;return It("span",{css:QB({animation:"".concat(iWe," 1s ease-in-out ").concat(i,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:r?"1em":void 0,height:"1em",verticalAlign:"top",width:"1em"},"","")})},nWe=function(e){var i=e.innerProps,r=e.isRtl,n=e.size,s=n===void 0?4:n,o=Bp(e,YGe);return It("div",Dt({},en(Mt(Mt({},o),{},{innerProps:i,isRtl:r,size:s}),"loadingIndicator",{indicator:!0,"loading-indicator":!0}),i),It(rN,{delay:0,offset:r}),It(rN,{delay:160,offset:!0}),It(rN,{delay:320,offset:!r}))},sWe=function(e,i){var r=e.isDisabled,n=e.isFocused,s=e.theme,o=s.colors,a=s.borderRadius,l=s.spacing;return Mt({label:"control",alignItems:"center",cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:l.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms"},i?{}:{backgroundColor:r?o.neutral5:o.neutral0,borderColor:r?o.neutral10:n?o.primary:o.neutral20,borderRadius:a,borderStyle:"solid",borderWidth:1,boxShadow:n?"0 0 0 1px ".concat(o.primary):void 0,"&:hover":{borderColor:n?o.primary:o.neutral30}})},oWe=function(e){var i=e.children,r=e.isDisabled,n=e.isFocused,s=e.innerRef,o=e.innerProps,a=e.menuIsOpen;return It("div",Dt({ref:s},en(e,"control",{control:!0,"control--is-disabled":r,"control--is-focused":n,"control--menu-is-open":a}),o,{"aria-disabled":r||void 0}),i)},aWe=oWe,lWe=["data"],cWe=function(e,i){var r=e.theme.spacing;return i?{}:{paddingBottom:r.baseUnit*2,paddingTop:r.baseUnit*2}},uWe=function(e){var i=e.children,r=e.cx,n=e.getStyles,s=e.getClassNames,o=e.Heading,a=e.headingProps,l=e.innerProps,h=e.label,f=e.theme,g=e.selectProps;return It("div",Dt({},en(e,"group",{group:!0}),l),It(o,Dt({},a,{selectProps:g,theme:f,getStyles:n,getClassNames:s,cx:r}),h),It("div",null,i))},dWe=function(e,i){var r=e.theme,n=r.colors,s=r.spacing;return Mt({label:"group",cursor:"default",display:"block"},i?{}:{color:n.neutral40,fontSize:"75%",fontWeight:500,marginBottom:"0.25em",paddingLeft:s.baseUnit*3,paddingRight:s.baseUnit*3,textTransform:"uppercase"})},hWe=function(e){var i=wme(e);i.data;var r=Bp(i,lWe);return It("div",Dt({},en(e,"groupHeading",{"group-heading":!0}),r))},pWe=uWe,fWe=["innerRef","isDisabled","isHidden","inputClassName"],mWe=function(e,i){var r=e.isDisabled,n=e.value,s=e.theme,o=s.spacing,a=s.colors;return Mt(Mt({visibility:r?"hidden":"visible",transform:n?"translateZ(0)":""},gWe),i?{}:{margin:o.baseUnit/2,paddingBottom:o.baseUnit/2,paddingTop:o.baseUnit/2,color:a.neutral80})},Cme={gridArea:"1 / 2",font:"inherit",minWidth:"2px",border:0,margin:0,outline:0,padding:0},gWe={flex:"1 1 auto",display:"inline-grid",gridArea:"1 / 1 / 2 / 3",gridTemplateColumns:"0 min-content","&:after":Mt({content:'attr(data-value) " "',visibility:"hidden",whiteSpace:"pre"},Cme)},yWe=function(e){return Mt({label:"input",color:"inherit",background:0,opacity:e?0:1,width:"100%"},Cme)},vWe=function(e){var i=e.cx,r=e.value,n=wme(e),s=n.innerRef,o=n.isDisabled,a=n.isHidden,l=n.inputClassName,h=Bp(n,fWe);return It("div",Dt({},en(e,"input",{"input-container":!0}),{"data-value":r||""}),It("input",Dt({className:i({input:!0},l),ref:s,style:yWe(a),disabled:o},h)))},bWe=vWe,wWe=function(e,i){var r=e.theme,n=r.spacing,s=r.borderRadius,o=r.colors;return Mt({label:"multiValue",display:"flex",minWidth:0},i?{}:{backgroundColor:o.neutral10,borderRadius:s/2,margin:n.baseUnit/2})},_We=function(e,i){var r=e.theme,n=r.borderRadius,s=r.colors,o=e.cropWithEllipsis;return Mt({overflow:"hidden",textOverflow:o||o===void 0?"ellipsis":void 0,whiteSpace:"nowrap"},i?{}:{borderRadius:n/2,color:s.neutral80,fontSize:"85%",padding:3,paddingLeft:6})},xWe=function(e,i){var r=e.theme,n=r.spacing,s=r.borderRadius,o=r.colors,a=e.isFocused;return Mt({alignItems:"center",display:"flex"},i?{}:{borderRadius:s/2,backgroundColor:a?o.dangerLight:void 0,paddingLeft:n.baseUnit,paddingRight:n.baseUnit,":hover":{backgroundColor:o.dangerLight,color:o.danger}})},Mme=function(e){var i=e.children,r=e.innerProps;return It("div",r,i)},SWe=Mme,TWe=Mme;function $We(t){var e=t.children,i=t.innerProps;return It("div",Dt({role:"button"},i),e||It(n7,{size:14}))}var kWe=function(e){var i=e.children,r=e.components,n=e.data,s=e.innerProps,o=e.isDisabled,a=e.removeProps,l=e.selectProps,h=r.Container,f=r.Label,g=r.Remove;return It(h,{data:n,innerProps:Mt(Mt({},en(e,"multiValue",{"multi-value":!0,"multi-value--is-disabled":o})),s),selectProps:l},It(f,{data:n,innerProps:Mt({},en(e,"multiValueLabel",{"multi-value__label":!0})),selectProps:l},i),It(g,{data:n,innerProps:Mt(Mt({},en(e,"multiValueRemove",{"multi-value__remove":!0})),{},{"aria-label":"Remove ".concat(i||"option")},a),selectProps:l}))},EWe=kWe,IWe=function(e,i){var r=e.isDisabled,n=e.isFocused,s=e.isSelected,o=e.theme,a=o.spacing,l=o.colors;return Mt({label:"option",cursor:"default",display:"block",fontSize:"inherit",width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)"},i?{}:{backgroundColor:s?l.primary:n?l.primary25:"transparent",color:r?l.neutral20:s?l.neutral0:"inherit",padding:"".concat(a.baseUnit*2,"px ").concat(a.baseUnit*3,"px"),":active":{backgroundColor:r?void 0:s?l.primary:l.primary50}})},CWe=function(e){var i=e.children,r=e.isDisabled,n=e.isFocused,s=e.isSelected,o=e.innerRef,a=e.innerProps;return It("div",Dt({},en(e,"option",{option:!0,"option--is-disabled":r,"option--is-focused":n,"option--is-selected":s}),{ref:o,"aria-disabled":r},a),i)},MWe=CWe,AWe=function(e,i){var r=e.theme,n=r.spacing,s=r.colors;return Mt({label:"placeholder",gridArea:"1 / 1 / 2 / 3"},i?{}:{color:s.neutral50,marginLeft:n.baseUnit/2,marginRight:n.baseUnit/2})},OWe=function(e){var i=e.children,r=e.innerProps;return It("div",Dt({},en(e,"placeholder",{placeholder:!0}),r),i)},PWe=OWe,DWe=function(e,i){var r=e.isDisabled,n=e.theme,s=n.spacing,o=n.colors;return Mt({label:"singleValue",gridArea:"1 / 1 / 2 / 3",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},i?{}:{color:r?o.neutral40:o.neutral80,marginLeft:s.baseUnit/2,marginRight:s.baseUnit/2})},RWe=function(e){var i=e.children,r=e.isDisabled,n=e.innerProps;return It("div",Dt({},en(e,"singleValue",{"single-value":!0,"single-value--is-disabled":r}),n),i)},LWe=RWe,zWe={ClearIndicator:QGe,Control:aWe,DropdownIndicator:XGe,DownChevron:Eme,CrossIcon:n7,Group:pWe,GroupHeading:hWe,IndicatorsContainer:GGe,IndicatorSeparator:tWe,Input:bWe,LoadingIndicator:nWe,Menu:OGe,MenuList:DGe,MenuPortal:FGe,LoadingMessage:NGe,NoOptionsMessage:zGe,MultiValue:EWe,MultiValueContainer:SWe,MultiValueLabel:TWe,MultiValueRemove:$We,Option:MWe,Placeholder:PWe,SelectContainer:UGe,SingleValue:LWe,ValueContainer:HGe},NWe=function(e){return Mt(Mt({},zWe),e.components)},uee=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function jWe(t,e){return!!(t===e||uee(t)&&uee(e))}function FWe(t,e){if(t.length!==e.length)return!1;for(var i=0;i<t.length;i++)if(!jWe(t[i],e[i]))return!1;return!0}function VWe(t,e){e===void 0&&(e=FWe);var i=null;function r(){for(var n=[],s=0;s<arguments.length;s++)n[s]=arguments[s];if(i&&i.lastThis===this&&e(n,i.lastArgs))return i.lastResult;var o=t.apply(this,n);return i={lastResult:o,lastArgs:n,lastThis:this},o}return r.clear=function(){i=null},r}var UWe={name:"7pg0cj-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap"},BWe=function(e){return It("span",Dt({css:UWe},e))},dee=BWe,HWe={guidance:function(e){var i=e.isSearchable,r=e.isMulti,n=e.tabSelectsValue,s=e.context,o=e.isInitialFocus;switch(s){case"menu":return"Use Up and Down to choose options, press Enter to select the currently focused option, press Escape to exit the menu".concat(n?", press Tab to select the option and exit the menu":"",".");case"input":return o?"".concat(e["aria-label"]||"Select"," is focused ").concat(i?",type to refine list":"",", press Down to open the menu, ").concat(r?" press left to focus selected values":""):"";case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value";default:return""}},onChange:function(e){var i=e.action,r=e.label,n=r===void 0?"":r,s=e.labels,o=e.isDisabled;switch(i){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(n,", deselected.");case"clear":return"All selected options have been cleared.";case"initial-input-focus":return"option".concat(s.length>1?"s":""," ").concat(s.join(","),", selected.");case"select-option":return o?"option ".concat(n," is disabled. Select another option."):"option ".concat(n,", selected.");default:return""}},onFocus:function(e){var i=e.context,r=e.focused,n=e.options,s=e.label,o=s===void 0?"":s,a=e.selectValue,l=e.isDisabled,h=e.isSelected,f=e.isAppleDevice,g=function(T,C){return T&&T.length?"".concat(T.indexOf(C)+1," of ").concat(T.length):""};if(i==="value"&&a)return"value ".concat(o," focused, ").concat(g(a,r),".");if(i==="menu"&&f){var v=l?" disabled":"",w="".concat(h?" selected":"").concat(v);return"".concat(o).concat(w,", ").concat(g(n,r),".")}return""},onFilter:function(e){var i=e.inputValue,r=e.resultsMessage;return"".concat(r).concat(i?" for search term "+i:"",".")}},qWe=function(e){var i=e.ariaSelection,r=e.focusedOption,n=e.focusedValue,s=e.focusableOptions,o=e.isFocused,a=e.selectValue,l=e.selectProps,h=e.id,f=e.isAppleDevice,g=l.ariaLiveMessages,v=l.getOptionLabel,w=l.inputValue,S=l.isMulti,T=l.isOptionDisabled,C=l.isSearchable,I=l.menuIsOpen,A=l.options,P=l.screenReaderStatus,D=l.tabSelectsValue,L=l.isLoading,B=l["aria-label"],N=l["aria-live"],Y=Re.useMemo(function(){return Mt(Mt({},HWe),g||{})},[g]),K=Re.useMemo(function(){var ie="";if(i&&Y.onChange){var J=i.option,le=i.options,ve=i.removedValue,Me=i.removedValues,Ne=i.value,X=function(si){return Array.isArray(si)?null:si},fe=ve||J||X(Ne),Pe=fe?v(fe):"",Be=le||Me||void 0,Je=Be?Be.map(v):[],lt=Mt({isDisabled:fe&&T(fe,a),label:Pe,labels:Je},i);ie=Y.onChange(lt)}return ie},[i,Y,T,a,v]),te=Re.useMemo(function(){var ie="",J=r||n,le=!!(r&&a&&a.includes(r));if(J&&Y.onFocus){var ve={focused:J,label:v(J),isDisabled:T(J,a),isSelected:le,options:s,context:J===r?"menu":"value",selectValue:a,isAppleDevice:f};ie=Y.onFocus(ve)}return ie},[r,n,v,T,Y,s,a,f]),ue=Re.useMemo(function(){var ie="";if(I&&A.length&&!L&&Y.onFilter){var J=P({count:s.length});ie=Y.onFilter({inputValue:w,resultsMessage:J})}return ie},[s,w,I,Y,A,P,L]),ye=i?.action==="initial-input-focus",se=Re.useMemo(function(){var ie="";if(Y.guidance){var J=n?"value":I?"menu":"input";ie=Y.guidance({"aria-label":B,context:J,isDisabled:r&&T(r,a),isMulti:S,isSearchable:C,tabSelectsValue:D,isInitialFocus:ye})}return ie},[B,r,n,S,T,C,I,Y,a,D,ye]),G=It(Re.Fragment,null,It("span",{id:"aria-selection"},K),It("span",{id:"aria-focused"},te),It("span",{id:"aria-results"},ue),It("span",{id:"aria-guidance"},se));return It(Re.Fragment,null,It(dee,{id:h},ye&&G),It(dee,{"aria-live":N,"aria-atomic":"false","aria-relevant":"additions text",role:"log"},o&&!ye&&G))},GWe=qWe,sV=[{base:"A",letters:"A"},{base:"AA",letters:""},{base:"AE",letters:""},{base:"AO",letters:""},{base:"AU",letters:""},{base:"AV",letters:""},{base:"AY",letters:""},{base:"B",letters:"B"},{base:"C",letters:"C"},{base:"D",letters:"D"},{base:"DZ",letters:""},{base:"Dz",letters:""},{base:"E",letters:"E"},{base:"F",letters:"F"},{base:"G",letters:"G"},{base:"H",letters:"H"},{base:"I",letters:"I"},{base:"J",letters:"J"},{base:"K",letters:"K"},{base:"L",letters:"L"},{base:"LJ",letters:""},{base:"Lj",letters:""},{base:"M",letters:"M"},{base:"N",letters:"N"},{base:"NJ",letters:""},{base:"Nj",letters:""},{base:"O",letters:"O"},{base:"OI",letters:""},{base:"OO",letters:""},{base:"OU",letters:""},{base:"P",letters:"P"},{base:"Q",letters:"Q"},{base:"R",letters:"R"},{base:"S",letters:"S"},{base:"T",letters:"T"},{base:"TZ",letters:""},{base:"U",letters:"U"},{base:"V",letters:"V"},{base:"VY",letters:""},{base:"W",letters:"W"},{base:"X",letters:"X"},{base:"Y",letters:"Y"},{base:"Z",letters:"Z"},{base:"a",letters:"a"},{base:"aa",letters:""},{base:"ae",letters:""},{base:"ao",letters:""},{base:"au",letters:""},{base:"av",letters:""},{base:"ay",letters:""},{base:"b",letters:"b"},{base:"c",letters:"c"},{base:"d",letters:"d"},{base:"dz",letters:""},{base:"e",letters:"e"},{base:"f",letters:"f"},{base:"g",letters:"g"},{base:"h",letters:"h"},{base:"hv",letters:""},{base:"i",letters:"i"},{base:"j",letters:"j"},{base:"k",letters:"k"},{base:"l",letters:"l"},{base:"lj",letters:""},{base:"m",letters:"m"},{base:"n",letters:"n"},{base:"nj",letters:""},{base:"o",letters:"o"},{base:"oi",letters:""},{base:"ou",letters:""},{base:"oo",letters:""},{base:"p",letters:"p"},{base:"q",letters:"q"},{base:"r",letters:"r"},{base:"s",letters:"s"},{base:"t",letters:"t"},{base:"tz",letters:""},{base:"u",letters:"u"},{base:"v",letters:"v"},{base:"vy",letters:""},{base:"w",letters:"w"},{base:"x",letters:"x"},{base:"y",letters:"y"},{base:"z",letters:"z"}],WWe=new RegExp("["+sV.map(function(t){return t.letters}).join("")+"]","g"),Ame={};for(var nN=0;nN<sV.length;nN++)for(var sN=sV[nN],oN=0;oN<sN.letters.length;oN++)Ame[sN.letters[oN]]=sN.base;var Ome=function(e){return e.replace(WWe,function(i){return Ame[i]})},YWe=VWe(Ome),hee=function(e){return e.replace(/^\s+|\s+$/g,"")},ZWe=function(e){return"".concat(e.label," ").concat(e.value)},JWe=function(e){return function(i,r){if(i.data.__isNew__)return!0;var n=Mt({ignoreCase:!0,ignoreAccents:!0,stringify:ZWe,trim:!0,matchFrom:"any"},e),s=n.ignoreCase,o=n.ignoreAccents,a=n.stringify,l=n.trim,h=n.matchFrom,f=l?hee(r):r,g=l?hee(a(i)):a(i);return s&&(f=f.toLowerCase(),g=g.toLowerCase()),o&&(f=YWe(f),g=Ome(g)),h==="start"?g.substr(0,f.length)===f:g.indexOf(f)>-1}},XWe=["innerRef"];function KWe(t){var e=t.innerRef,i=Bp(t,XWe),r=TGe(i,"onExited","in","enter","exit","appear");return It("input",Dt({ref:e},r,{css:QB({label:"dummyInput",background:0,border:0,caretColor:"transparent",fontSize:"inherit",gridArea:"1 / 1 / 2 / 3",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(.01)"},"","")}))}var QWe=function(e){e.cancelable&&e.preventDefault(),e.stopPropagation()};function eYe(t){var e=t.isEnabled,i=t.onBottomArrive,r=t.onBottomLeave,n=t.onTopArrive,s=t.onTopLeave,o=Re.useRef(!1),a=Re.useRef(!1),l=Re.useRef(0),h=Re.useRef(null),f=Re.useCallback(function(C,I){if(h.current!==null){var A=h.current,P=A.scrollTop,D=A.scrollHeight,L=A.clientHeight,B=h.current,N=I>0,Y=D-L-P,K=!1;Y>I&&o.current&&(r&&r(C),o.current=!1),N&&a.current&&(s&&s(C),a.current=!1),N&&I>Y?(i&&!o.current&&i(C),B.scrollTop=D,K=!0,o.current=!0):!N&&-I>P&&(n&&!a.current&&n(C),B.scrollTop=0,K=!0,a.current=!0),K&&QWe(C)}},[i,r,n,s]),g=Re.useCallback(function(C){f(C,C.deltaY)},[f]),v=Re.useCallback(function(C){l.current=C.changedTouches[0].clientY},[]),w=Re.useCallback(function(C){var I=l.current-C.changedTouches[0].clientY;f(C,I)},[f]),S=Re.useCallback(function(C){if(C){var I=_Ge?{passive:!1}:!1;C.addEventListener("wheel",g,I),C.addEventListener("touchstart",v,I),C.addEventListener("touchmove",w,I)}},[w,v,g]),T=Re.useCallback(function(C){C&&(C.removeEventListener("wheel",g,!1),C.removeEventListener("touchstart",v,!1),C.removeEventListener("touchmove",w,!1))},[w,v,g]);return Re.useEffect(function(){if(e){var C=h.current;return S(C),function(){T(C)}}},[e,S,T]),function(C){h.current=C}}var pee=["boxSizing","height","overflow","paddingRight","position"],fee={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function mee(t){t.cancelable&&t.preventDefault()}function gee(t){t.stopPropagation()}function yee(){var t=this.scrollTop,e=this.scrollHeight,i=t+this.offsetHeight;t===0?this.scrollTop=1:i===e&&(this.scrollTop=t-1)}function vee(){return"ontouchstart"in window||navigator.maxTouchPoints}var bee=!!(typeof window<"u"&&window.document&&window.document.createElement),mS=0,l0={capture:!1,passive:!1};function tYe(t){var e=t.isEnabled,i=t.accountForScrollbars,r=i===void 0?!0:i,n=Re.useRef({}),s=Re.useRef(null),o=Re.useCallback(function(l){if(bee){var h=document.body,f=h&&h.style;if(r&&pee.forEach(function(S){var T=f&&f[S];n.current[S]=T}),r&&mS<1){var g=parseInt(n.current.paddingRight,10)||0,v=document.body?document.body.clientWidth:0,w=window.innerWidth-v+g||0;Object.keys(fee).forEach(function(S){var T=fee[S];f&&(f[S]=T)}),f&&(f.paddingRight="".concat(w,"px"))}h&&vee()&&(h.addEventListener("touchmove",mee,l0),l&&(l.addEventListener("touchstart",yee,l0),l.addEventListener("touchmove",gee,l0))),mS+=1}},[r]),a=Re.useCallback(function(l){if(bee){var h=document.body,f=h&&h.style;mS=Math.max(mS-1,0),r&&mS<1&&pee.forEach(function(g){var v=n.current[g];f&&(f[g]=v)}),h&&vee()&&(h.removeEventListener("touchmove",mee,l0),l&&(l.removeEventListener("touchstart",yee,l0),l.removeEventListener("touchmove",gee,l0)))}},[r]);return Re.useEffect(function(){if(e){var l=s.current;return o(l),function(){a(l)}}},[e,o,a]),function(l){s.current=l}}var iYe=function(e){var i=e.target;return i.ownerDocument.activeElement&&i.ownerDocument.activeElement.blur()},rYe={name:"1kfdb0e",styles:"position:fixed;left:0;bottom:0;right:0;top:0"};function nYe(t){var e=t.children,i=t.lockEnabled,r=t.captureEnabled,n=r===void 0?!0:r,s=t.onBottomArrive,o=t.onBottomLeave,a=t.onTopArrive,l=t.onTopLeave,h=eYe({isEnabled:n,onBottomArrive:s,onBottomLeave:o,onTopArrive:a,onTopLeave:l}),f=tYe({isEnabled:i}),g=function(w){h(w),f(w)};return It(Re.Fragment,null,i&&It("div",{onClick:iYe,css:rYe}),e(g))}var sYe={name:"1a0ro4n-requiredInput",styles:"label:requiredInput;opacity:0;pointer-events:none;position:absolute;bottom:0;left:0;right:0;width:100%"},oYe=function(e){var i=e.name,r=e.onFocus;return It("input",{required:!0,name:i,tabIndex:-1,"aria-hidden":"true",onFocus:r,css:sYe,value:"",onChange:function(){}})},aYe=oYe;function s7(t){var e;return typeof window<"u"&&window.navigator!=null?t.test(((e=window.navigator.userAgentData)===null||e===void 0?void 0:e.platform)||window.navigator.platform):!1}function lYe(){return s7(/^iPhone/i)}function Pme(){return s7(/^Mac/i)}function cYe(){return s7(/^iPad/i)||Pme()&&navigator.maxTouchPoints>1}function uYe(){return lYe()||cYe()}function dYe(){return Pme()||uYe()}var hYe=function(e){return e.label},pYe=function(e){return e.label},fYe=function(e){return e.value},mYe=function(e){return!!e.isDisabled},gYe={clearIndicator:KGe,container:VGe,control:sWe,dropdownIndicator:JGe,group:cWe,groupHeading:dWe,indicatorsContainer:qGe,indicatorSeparator:eWe,input:mWe,loadingIndicator:rWe,loadingMessage:LGe,menu:CGe,menuList:PGe,menuPortal:jGe,multiValue:wWe,multiValueLabel:_We,multiValueRemove:xWe,noOptionsMessage:RGe,option:IWe,placeholder:AWe,singleValue:DWe,valueContainer:BGe},yYe={primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},vYe=4,Dme=4,bYe=38,wYe=Dme*2,_Ye={baseUnit:Dme,controlHeight:bYe,menuGutter:wYe},aN={borderRadius:vYe,colors:yYe,spacing:_Ye},xYe={"aria-live":"polite",backspaceRemovesValue:!0,blurInputOnSelect:lee(),captureMenuScroll:!lee(),classNames:{},closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:JWe(),formatGroupLabel:hYe,getOptionLabel:pYe,getOptionValue:fYe,isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:mYe,loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!bGe(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(e){var i=e.count;return"".concat(i," result").concat(i!==1?"s":""," available")},styles:{},tabIndex:0,tabSelectsValue:!0,unstyled:!1};function wee(t,e,i,r){var n=zme(t,e,i),s=Nme(t,e,i),o=Lme(t,e),a=WO(t,e);return{type:"option",data:e,isDisabled:n,isSelected:s,label:o,value:a,index:r}}function oA(t,e){return t.options.map(function(i,r){if("options"in i){var n=i.options.map(function(o,a){return wee(t,o,e,a)}).filter(function(o){return xee(t,o)});return n.length>0?{type:"group",data:i,options:n,index:r}:void 0}var s=wee(t,i,e,r);return xee(t,s)?s:void 0}).filter(xGe)}function Rme(t){return t.reduce(function(e,i){return i.type==="group"?e.push.apply(e,YB(i.options.map(function(r){return r.data}))):e.push(i.data),e},[])}function _ee(t,e){return t.reduce(function(i,r){return r.type==="group"?i.push.apply(i,YB(r.options.map(function(n){return{data:n.data,id:"".concat(e,"-").concat(r.index,"-").concat(n.index)}}))):i.push({data:r.data,id:"".concat(e,"-").concat(r.index)}),i},[])}function SYe(t,e){return Rme(oA(t,e))}function xee(t,e){var i=t.inputValue,r=i===void 0?"":i,n=e.data,s=e.isSelected,o=e.label,a=e.value;return(!Fme(t)||!s)&&jme(t,{label:o,value:a,data:n},r)}function TYe(t,e){var i=t.focusedValue,r=t.selectValue,n=r.indexOf(i);if(n>-1){var s=e.indexOf(i);if(s>-1)return i;if(n<e.length)return e[n]}return null}function $Ye(t,e){var i=t.focusedOption;return i&&e.indexOf(i)>-1?i:e[0]}var lN=function(e,i){var r,n=(r=e.find(function(s){return s.data===i}))===null||r===void 0?void 0:r.id;return n||null},Lme=function(e,i){return e.getOptionLabel(i)},WO=function(e,i){return e.getOptionValue(i)};function zme(t,e,i){return typeof t.isOptionDisabled=="function"?t.isOptionDisabled(e,i):!1}function Nme(t,e,i){if(i.indexOf(e)>-1)return!0;if(typeof t.isOptionSelected=="function")return t.isOptionSelected(e,i);var r=WO(t,e);return i.some(function(n){return WO(t,n)===r})}function jme(t,e,i){return t.filterOption?t.filterOption(e,i):!0}var Fme=function(e){var i=e.hideSelectedOptions,r=e.isMulti;return i===void 0?r:i},kYe=1,Vme=(function(t){dHe(i,t);var e=fHe(i);function i(r){var n;if(cHe(this,i),n=e.call(this,r),n.state={ariaSelection:null,focusedOption:null,focusedOptionId:null,focusableOptionsWithIds:[],focusedValue:null,inputIsHidden:!1,isFocused:!1,selectValue:[],clearFocusValueOnUpdate:!1,prevWasFocused:!1,inputIsHiddenAfterUpdate:void 0,prevProps:void 0,instancePrefix:"",isAppleDevice:!1},n.blockOptionHover=!1,n.isComposing=!1,n.commonProps=void 0,n.initialTouchX=0,n.initialTouchY=0,n.openAfterFocus=!1,n.scrollToFocusedOptionOnUpdate=!1,n.userIsDragging=void 0,n.controlRef=null,n.getControlRef=function(l){n.controlRef=l},n.focusedOptionRef=null,n.getFocusedOptionRef=function(l){n.focusedOptionRef=l},n.menuListRef=null,n.getMenuListRef=function(l){n.menuListRef=l},n.inputRef=null,n.getInputRef=function(l){n.inputRef=l},n.focus=n.focusInput,n.blur=n.blurInput,n.onChange=function(l,h){var f=n.props,g=f.onChange,v=f.name;h.name=v,n.ariaOnChange(l,h),g(l,h)},n.setValue=function(l,h,f){var g=n.props,v=g.closeMenuOnSelect,w=g.isMulti,S=g.inputValue;n.onInputChange("",{action:"set-value",prevInputValue:S}),v&&(n.setState({inputIsHiddenAfterUpdate:!w}),n.onMenuClose()),n.setState({clearFocusValueOnUpdate:!0}),n.onChange(l,{action:h,option:f})},n.selectOption=function(l){var h=n.props,f=h.blurInputOnSelect,g=h.isMulti,v=h.name,w=n.state.selectValue,S=g&&n.isOptionSelected(l,w),T=n.isOptionDisabled(l,w);if(S){var C=n.getOptionValue(l);n.setValue(w.filter(function(I){return n.getOptionValue(I)!==C}),"deselect-option",l)}else if(!T)g?n.setValue([].concat(YB(w),[l]),"select-option",l):n.setValue(l,"select-option");else{n.ariaOnChange(l,{action:"select-option",option:l,name:v});return}f&&n.blurInput()},n.removeValue=function(l){var h=n.props.isMulti,f=n.state.selectValue,g=n.getOptionValue(l),v=f.filter(function(S){return n.getOptionValue(S)!==g}),w=rC(h,v,v[0]||null);n.onChange(w,{action:"remove-value",removedValue:l}),n.focusInput()},n.clearValue=function(){var l=n.state.selectValue;n.onChange(rC(n.props.isMulti,[],null),{action:"clear",removedValues:l})},n.popValue=function(){var l=n.props.isMulti,h=n.state.selectValue,f=h[h.length-1],g=h.slice(0,h.length-1),v=rC(l,g,g[0]||null);f&&n.onChange(v,{action:"pop-value",removedValue:f})},n.getFocusedOptionId=function(l){return lN(n.state.focusableOptionsWithIds,l)},n.getFocusableOptionsWithIds=function(){return _ee(oA(n.props,n.state.selectValue),n.getElementId("option"))},n.getValue=function(){return n.state.selectValue},n.cx=function(){for(var l=arguments.length,h=new Array(l),f=0;f<l;f++)h[f]=arguments[f];return fGe.apply(void 0,[n.props.classNamePrefix].concat(h))},n.getOptionLabel=function(l){return Lme(n.props,l)},n.getOptionValue=function(l){return WO(n.props,l)},n.getStyles=function(l,h){var f=n.props.unstyled,g=gYe[l](h,f);g.boxSizing="border-box";var v=n.props.styles[l];return v?v(g,h):g},n.getClassNames=function(l,h){var f,g;return(f=(g=n.props.classNames)[l])===null||f===void 0?void 0:f.call(g,h)},n.getElementId=function(l){return"".concat(n.state.instancePrefix,"-").concat(l)},n.getComponents=function(){return NWe(n.props)},n.buildCategorizedOptions=function(){return oA(n.props,n.state.selectValue)},n.getCategorizedOptions=function(){return n.props.menuIsOpen?n.buildCategorizedOptions():[]},n.buildFocusableOptions=function(){return Rme(n.buildCategorizedOptions())},n.getFocusableOptions=function(){return n.props.menuIsOpen?n.buildFocusableOptions():[]},n.ariaOnChange=function(l,h){n.setState({ariaSelection:Mt({value:l},h)})},n.onMenuMouseDown=function(l){l.button===0&&(l.stopPropagation(),l.preventDefault(),n.focusInput())},n.onMenuMouseMove=function(l){n.blockOptionHover=!1},n.onControlMouseDown=function(l){if(!l.defaultPrevented){var h=n.props.openMenuOnClick;n.state.isFocused?n.props.menuIsOpen?l.target.tagName!=="INPUT"&&l.target.tagName!=="TEXTAREA"&&n.onMenuClose():h&&n.openMenu("first"):(h&&(n.openAfterFocus=!0),n.focusInput()),l.target.tagName!=="INPUT"&&l.target.tagName!=="TEXTAREA"&&l.preventDefault()}},n.onDropdownIndicatorMouseDown=function(l){if(!(l&&l.type==="mousedown"&&l.button!==0)&&!n.props.isDisabled){var h=n.props,f=h.isMulti,g=h.menuIsOpen;n.focusInput(),g?(n.setState({inputIsHiddenAfterUpdate:!f}),n.onMenuClose()):n.openMenu("first"),l.preventDefault()}},n.onClearIndicatorMouseDown=function(l){l&&l.type==="mousedown"&&l.button!==0||(n.clearValue(),l.preventDefault(),n.openAfterFocus=!1,l.type==="touchend"?n.focusInput():setTimeout(function(){return n.focusInput()}))},n.onScroll=function(l){typeof n.props.closeMenuOnScroll=="boolean"?l.target instanceof HTMLElement&&O3(l.target)&&n.props.onMenuClose():typeof n.props.closeMenuOnScroll=="function"&&n.props.closeMenuOnScroll(l)&&n.props.onMenuClose()},n.onCompositionStart=function(){n.isComposing=!0},n.onCompositionEnd=function(){n.isComposing=!1},n.onTouchStart=function(l){var h=l.touches,f=h&&h.item(0);f&&(n.initialTouchX=f.clientX,n.initialTouchY=f.clientY,n.userIsDragging=!1)},n.onTouchMove=function(l){var h=l.touches,f=h&&h.item(0);if(f){var g=Math.abs(f.clientX-n.initialTouchX),v=Math.abs(f.clientY-n.initialTouchY),w=5;n.userIsDragging=g>w||v>w}},n.onTouchEnd=function(l){n.userIsDragging||(n.controlRef&&!n.controlRef.contains(l.target)&&n.menuListRef&&!n.menuListRef.contains(l.target)&&n.blurInput(),n.initialTouchX=0,n.initialTouchY=0)},n.onControlTouchEnd=function(l){n.userIsDragging||n.onControlMouseDown(l)},n.onClearIndicatorTouchEnd=function(l){n.userIsDragging||n.onClearIndicatorMouseDown(l)},n.onDropdownIndicatorTouchEnd=function(l){n.userIsDragging||n.onDropdownIndicatorMouseDown(l)},n.handleInputChange=function(l){var h=n.props.inputValue,f=l.currentTarget.value;n.setState({inputIsHiddenAfterUpdate:!1}),n.onInputChange(f,{action:"input-change",prevInputValue:h}),n.props.menuIsOpen||n.onMenuOpen()},n.onInputFocus=function(l){n.props.onFocus&&n.props.onFocus(l),n.setState({inputIsHiddenAfterUpdate:!1,isFocused:!0}),(n.openAfterFocus||n.props.openMenuOnFocus)&&n.openMenu("first"),n.openAfterFocus=!1},n.onInputBlur=function(l){var h=n.props.inputValue;if(n.menuListRef&&n.menuListRef.contains(document.activeElement)){n.inputRef.focus();return}n.props.onBlur&&n.props.onBlur(l),n.onInputChange("",{action:"input-blur",prevInputValue:h}),n.onMenuClose(),n.setState({focusedValue:null,isFocused:!1})},n.onOptionHover=function(l){if(!(n.blockOptionHover||n.state.focusedOption===l)){var h=n.getFocusableOptions(),f=h.indexOf(l);n.setState({focusedOption:l,focusedOptionId:f>-1?n.getFocusedOptionId(l):null})}},n.shouldHideSelectedOptions=function(){return Fme(n.props)},n.onValueInputFocus=function(l){l.preventDefault(),l.stopPropagation(),n.focus()},n.onKeyDown=function(l){var h=n.props,f=h.isMulti,g=h.backspaceRemovesValue,v=h.escapeClearsValue,w=h.inputValue,S=h.isClearable,T=h.isDisabled,C=h.menuIsOpen,I=h.onKeyDown,A=h.tabSelectsValue,P=h.openMenuOnFocus,D=n.state,L=D.focusedOption,B=D.focusedValue,N=D.selectValue;if(!T&&!(typeof I=="function"&&(I(l),l.defaultPrevented))){switch(n.blockOptionHover=!0,l.key){case"ArrowLeft":if(!f||w)return;n.focusValue("previous");break;case"ArrowRight":if(!f||w)return;n.focusValue("next");break;case"Delete":case"Backspace":if(w)return;if(B)n.removeValue(B);else{if(!g)return;f?n.popValue():S&&n.clearValue()}break;case"Tab":if(n.isComposing||l.shiftKey||!C||!A||!L||P&&n.isOptionSelected(L,N))return;n.selectOption(L);break;case"Enter":if(l.keyCode===229)break;if(C){if(!L||n.isComposing)return;n.selectOption(L);break}return;case"Escape":C?(n.setState({inputIsHiddenAfterUpdate:!1}),n.onInputChange("",{action:"menu-close",prevInputValue:w}),n.onMenuClose()):S&&v&&n.clearValue();break;case" ":if(w)return;if(!C){n.openMenu("first");break}if(!L)return;n.selectOption(L);break;case"ArrowUp":C?n.focusOption("up"):n.openMenu("last");break;case"ArrowDown":C?n.focusOption("down"):n.openMenu("first");break;case"PageUp":if(!C)return;n.focusOption("pageup");break;case"PageDown":if(!C)return;n.focusOption("pagedown");break;case"Home":if(!C)return;n.focusOption("first");break;case"End":if(!C)return;n.focusOption("last");break;default:return}l.preventDefault()}},n.state.instancePrefix="react-select-"+(n.props.instanceId||++kYe),n.state.selectValue=oee(r.value),r.menuIsOpen&&n.state.selectValue.length){var s=n.getFocusableOptionsWithIds(),o=n.buildFocusableOptions(),a=o.indexOf(n.state.selectValue[0]);n.state.focusableOptionsWithIds=s,n.state.focusedOption=o[a],n.state.focusedOptionId=lN(s,o[a])}return n}return uHe(i,[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput(),this.props.menuIsOpen&&this.state.focusedOption&&this.menuListRef&&this.focusedOptionRef&&aee(this.menuListRef,this.focusedOptionRef),dYe()&&this.setState({isAppleDevice:!0})}},{key:"componentDidUpdate",value:function(n){var s=this.props,o=s.isDisabled,a=s.menuIsOpen,l=this.state.isFocused;(l&&!o&&n.isDisabled||l&&a&&!n.menuIsOpen)&&this.focusInput(),l&&o&&!n.isDisabled?this.setState({isFocused:!1},this.onMenuClose):!l&&!o&&n.isDisabled&&this.inputRef===document.activeElement&&this.setState({isFocused:!0}),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(aee(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1)}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){this.onInputChange("",{action:"menu-close",prevInputValue:this.props.inputValue}),this.props.onMenuClose()}},{key:"onInputChange",value:function(n,s){this.props.onInputChange(n,s)}},{key:"focusInput",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"blurInput",value:function(){this.inputRef&&this.inputRef.blur()}},{key:"openMenu",value:function(n){var s=this,o=this.state,a=o.selectValue,l=o.isFocused,h=this.buildFocusableOptions(),f=n==="first"?0:h.length-1;if(!this.props.isMulti){var g=h.indexOf(a[0]);g>-1&&(f=g)}this.scrollToFocusedOptionOnUpdate=!(l&&this.menuListRef),this.setState({inputIsHiddenAfterUpdate:!1,focusedValue:null,focusedOption:h[f],focusedOptionId:this.getFocusedOptionId(h[f])},function(){return s.onMenuOpen()})}},{key:"focusValue",value:function(n){var s=this.state,o=s.selectValue,a=s.focusedValue;if(this.props.isMulti){this.setState({focusedOption:null});var l=o.indexOf(a);a||(l=-1);var h=o.length-1,f=-1;if(o.length){switch(n){case"previous":l===0?f=0:l===-1?f=h:f=l-1;break;case"next":l>-1&&l<h&&(f=l+1);break}this.setState({inputIsHidden:f!==-1,focusedValue:o[f]})}}}},{key:"focusOption",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"first",s=this.props.pageSize,o=this.state.focusedOption,a=this.getFocusableOptions();if(a.length){var l=0,h=a.indexOf(o);o||(h=-1),n==="up"?l=h>0?h-1:a.length-1:n==="down"?l=(h+1)%a.length:n==="pageup"?(l=h-s,l<0&&(l=0)):n==="pagedown"?(l=h+s,l>a.length-1&&(l=a.length-1)):n==="last"&&(l=a.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:a[l],focusedValue:null,focusedOptionId:this.getFocusedOptionId(a[l])})}}},{key:"getTheme",value:(function(){return this.props.theme?typeof this.props.theme=="function"?this.props.theme(aN):Mt(Mt({},aN),this.props.theme):aN})},{key:"getCommonProps",value:function(){var n=this.clearValue,s=this.cx,o=this.getStyles,a=this.getClassNames,l=this.getValue,h=this.selectOption,f=this.setValue,g=this.props,v=g.isMulti,w=g.isRtl,S=g.options,T=this.hasValue();return{clearValue:n,cx:s,getStyles:o,getClassNames:a,getValue:l,hasValue:T,isMulti:v,isRtl:w,options:S,selectOption:h,selectProps:g,setValue:f,theme:this.getTheme()}}},{key:"hasValue",value:function(){var n=this.state.selectValue;return n.length>0}},{key:"hasOptions",value:function(){return!!this.getFocusableOptions().length}},{key:"isClearable",value:function(){var n=this.props,s=n.isClearable,o=n.isMulti;return s===void 0?o:s}},{key:"isOptionDisabled",value:function(n,s){return zme(this.props,n,s)}},{key:"isOptionSelected",value:function(n,s){return Nme(this.props,n,s)}},{key:"filterOption",value:function(n,s){return jme(this.props,n,s)}},{key:"formatOptionLabel",value:function(n,s){if(typeof this.props.formatOptionLabel=="function"){var o=this.props.inputValue,a=this.state.selectValue;return this.props.formatOptionLabel(n,{context:s,inputValue:o,selectValue:a})}else return this.getOptionLabel(n)}},{key:"formatGroupLabel",value:function(n){return this.props.formatGroupLabel(n)}},{key:"startListeningComposition",value:(function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))})},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:(function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))})},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"renderInput",value:(function(){var n=this.props,s=n.isDisabled,o=n.isSearchable,a=n.inputId,l=n.inputValue,h=n.tabIndex,f=n.form,g=n.menuIsOpen,v=n.required,w=this.getComponents(),S=w.Input,T=this.state,C=T.inputIsHidden,I=T.ariaSelection,A=this.commonProps,P=a||this.getElementId("input"),D=Mt(Mt(Mt({"aria-autocomplete":"list","aria-expanded":g,"aria-haspopup":!0,"aria-errormessage":this.props["aria-errormessage"],"aria-invalid":this.props["aria-invalid"],"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-required":v,role:"combobox","aria-activedescendant":this.state.isAppleDevice?void 0:this.state.focusedOptionId||""},g&&{"aria-controls":this.getElementId("listbox")}),!o&&{"aria-readonly":!0}),this.hasValue()?I?.action==="initial-input-focus"&&{"aria-describedby":this.getElementId("live-region")}:{"aria-describedby":this.getElementId("placeholder")});return o?Re.createElement(S,Dt({},A,{autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",id:P,innerRef:this.getInputRef,isDisabled:s,isHidden:C,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,spellCheck:"false",tabIndex:h,form:f,type:"text",value:l},D)):Re.createElement(KWe,Dt({id:P,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:qO,onFocus:this.onInputFocus,disabled:s,tabIndex:h,inputMode:"none",form:f,value:""},D))})},{key:"renderPlaceholderOrValue",value:function(){var n=this,s=this.getComponents(),o=s.MultiValue,a=s.MultiValueContainer,l=s.MultiValueLabel,h=s.MultiValueRemove,f=s.SingleValue,g=s.Placeholder,v=this.commonProps,w=this.props,S=w.controlShouldRenderValue,T=w.isDisabled,C=w.isMulti,I=w.inputValue,A=w.placeholder,P=this.state,D=P.selectValue,L=P.focusedValue,B=P.isFocused;if(!this.hasValue()||!S)return I?null:Re.createElement(g,Dt({},v,{key:"placeholder",isDisabled:T,isFocused:B,innerProps:{id:this.getElementId("placeholder")}}),A);if(C)return D.map(function(Y,K){var te=Y===L,ue="".concat(n.getOptionLabel(Y),"-").concat(n.getOptionValue(Y));return Re.createElement(o,Dt({},v,{components:{Container:a,Label:l,Remove:h},isFocused:te,isDisabled:T,key:ue,index:K,removeProps:{onClick:function(){return n.removeValue(Y)},onTouchEnd:function(){return n.removeValue(Y)},onMouseDown:function(se){se.preventDefault()}},data:Y}),n.formatOptionLabel(Y,"value"))});if(I)return null;var N=D[0];return Re.createElement(f,Dt({},v,{data:N,isDisabled:T}),this.formatOptionLabel(N,"value"))}},{key:"renderClearIndicator",value:function(){var n=this.getComponents(),s=n.ClearIndicator,o=this.commonProps,a=this.props,l=a.isDisabled,h=a.isLoading,f=this.state.isFocused;if(!this.isClearable()||!s||l||!this.hasValue()||h)return null;var g={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return Re.createElement(s,Dt({},o,{innerProps:g,isFocused:f}))}},{key:"renderLoadingIndicator",value:function(){var n=this.getComponents(),s=n.LoadingIndicator,o=this.commonProps,a=this.props,l=a.isDisabled,h=a.isLoading,f=this.state.isFocused;if(!s||!h)return null;var g={"aria-hidden":"true"};return Re.createElement(s,Dt({},o,{innerProps:g,isDisabled:l,isFocused:f}))}},{key:"renderIndicatorSeparator",value:function(){var n=this.getComponents(),s=n.DropdownIndicator,o=n.IndicatorSeparator;if(!s||!o)return null;var a=this.commonProps,l=this.props.isDisabled,h=this.state.isFocused;return Re.createElement(o,Dt({},a,{isDisabled:l,isFocused:h}))}},{key:"renderDropdownIndicator",value:function(){var n=this.getComponents(),s=n.DropdownIndicator;if(!s)return null;var o=this.commonProps,a=this.props.isDisabled,l=this.state.isFocused,h={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return Re.createElement(s,Dt({},o,{innerProps:h,isDisabled:a,isFocused:l}))}},{key:"renderMenu",value:function(){var n=this,s=this.getComponents(),o=s.Group,a=s.GroupHeading,l=s.Menu,h=s.MenuList,f=s.MenuPortal,g=s.LoadingMessage,v=s.NoOptionsMessage,w=s.Option,S=this.commonProps,T=this.state.focusedOption,C=this.props,I=C.captureMenuScroll,A=C.inputValue,P=C.isLoading,D=C.loadingMessage,L=C.minMenuHeight,B=C.maxMenuHeight,N=C.menuIsOpen,Y=C.menuPlacement,K=C.menuPosition,te=C.menuPortalTarget,ue=C.menuShouldBlockScroll,ye=C.menuShouldScrollIntoView,se=C.noOptionsMessage,G=C.onMenuScrollToTop,ie=C.onMenuScrollToBottom;if(!N)return null;var J=function(Pe,Be){var Je=Pe.type,lt=Pe.data,St=Pe.isDisabled,si=Pe.isSelected,qe=Pe.label,fo=Pe.value,qn=T===lt,xa=St?void 0:function(){return n.onOptionHover(lt)},$u=St?void 0:function(){return n.selectOption(lt)},hs="".concat(n.getElementId("option"),"-").concat(Be),Sa={id:hs,onClick:$u,onMouseMove:xa,onMouseOver:xa,tabIndex:-1,role:"option","aria-selected":n.state.isAppleDevice?void 0:si};return Re.createElement(w,Dt({},S,{innerProps:Sa,data:lt,isDisabled:St,isSelected:si,key:hs,label:qe,type:Je,value:fo,isFocused:qn,innerRef:qn?n.getFocusedOptionRef:void 0}),n.formatOptionLabel(Pe.data,"menu"))},le;if(this.hasOptions())le=this.getCategorizedOptions().map(function(fe){if(fe.type==="group"){var Pe=fe.data,Be=fe.options,Je=fe.index,lt="".concat(n.getElementId("group"),"-").concat(Je),St="".concat(lt,"-heading");return Re.createElement(o,Dt({},S,{key:lt,data:Pe,options:Be,Heading:a,headingProps:{id:St,data:fe.data},label:n.formatGroupLabel(fe.data)}),fe.options.map(function(si){return J(si,"".concat(Je,"-").concat(si.index))}))}else if(fe.type==="option")return J(fe,"".concat(fe.index))});else if(P){var ve=D({inputValue:A});if(ve===null)return null;le=Re.createElement(g,S,ve)}else{var Me=se({inputValue:A});if(Me===null)return null;le=Re.createElement(v,S,Me)}var Ne={minMenuHeight:L,maxMenuHeight:B,menuPlacement:Y,menuPosition:K,menuShouldScrollIntoView:ye},X=Re.createElement(MGe,Dt({},S,Ne),function(fe){var Pe=fe.ref,Be=fe.placerProps,Je=Be.placement,lt=Be.maxHeight;return Re.createElement(l,Dt({},S,Ne,{innerRef:Pe,innerProps:{onMouseDown:n.onMenuMouseDown,onMouseMove:n.onMenuMouseMove},isLoading:P,placement:Je}),Re.createElement(nYe,{captureEnabled:I,onTopArrive:G,onBottomArrive:ie,lockEnabled:ue},function(St){return Re.createElement(h,Dt({},S,{innerRef:function(qe){n.getMenuListRef(qe),St(qe)},innerProps:{role:"listbox","aria-multiselectable":S.isMulti,id:n.getElementId("listbox")},isLoading:P,maxHeight:lt,focusedOption:T}),le)}))});return te||K==="fixed"?Re.createElement(f,Dt({},S,{appendTo:te,controlElement:this.controlRef,menuPlacement:Y,menuPosition:K}),X):X}},{key:"renderFormField",value:function(){var n=this,s=this.props,o=s.delimiter,a=s.isDisabled,l=s.isMulti,h=s.name,f=s.required,g=this.state.selectValue;if(f&&!this.hasValue()&&!a)return Re.createElement(aYe,{name:h,onFocus:this.onValueInputFocus});if(!(!h||a))if(l)if(o){var v=g.map(function(T){return n.getOptionValue(T)}).join(o);return Re.createElement("input",{name:h,type:"hidden",value:v})}else{var w=g.length>0?g.map(function(T,C){return Re.createElement("input",{key:"i-".concat(C),name:h,type:"hidden",value:n.getOptionValue(T)})}):Re.createElement("input",{name:h,type:"hidden",value:""});return Re.createElement("div",null,w)}else{var S=g[0]?this.getOptionValue(g[0]):"";return Re.createElement("input",{name:h,type:"hidden",value:S})}}},{key:"renderLiveRegion",value:function(){var n=this.commonProps,s=this.state,o=s.ariaSelection,a=s.focusedOption,l=s.focusedValue,h=s.isFocused,f=s.selectValue,g=this.getFocusableOptions();return Re.createElement(GWe,Dt({},n,{id:this.getElementId("live-region"),ariaSelection:o,focusedOption:a,focusedValue:l,isFocused:h,selectValue:f,focusableOptions:g,isAppleDevice:this.state.isAppleDevice}))}},{key:"render",value:function(){var n=this.getComponents(),s=n.Control,o=n.IndicatorsContainer,a=n.SelectContainer,l=n.ValueContainer,h=this.props,f=h.className,g=h.id,v=h.isDisabled,w=h.menuIsOpen,S=this.state.isFocused,T=this.commonProps=this.getCommonProps();return Re.createElement(a,Dt({},T,{className:f,innerProps:{id:g,onKeyDown:this.onKeyDown},isDisabled:v,isFocused:S}),this.renderLiveRegion(),Re.createElement(s,Dt({},T,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:v,isFocused:S,menuIsOpen:w}),Re.createElement(l,Dt({},T,{isDisabled:v}),this.renderPlaceholderOrValue(),this.renderInput()),Re.createElement(o,Dt({},T,{isDisabled:v}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}],[{key:"getDerivedStateFromProps",value:function(n,s){var o=s.prevProps,a=s.clearFocusValueOnUpdate,l=s.inputIsHiddenAfterUpdate,h=s.ariaSelection,f=s.isFocused,g=s.prevWasFocused,v=s.instancePrefix,w=n.options,S=n.value,T=n.menuIsOpen,C=n.inputValue,I=n.isMulti,A=oee(S),P={};if(o&&(S!==o.value||w!==o.options||T!==o.menuIsOpen||C!==o.inputValue)){var D=T?SYe(n,A):[],L=T?_ee(oA(n,A),"".concat(v,"-option")):[],B=a?TYe(s,A):null,N=$Ye(s,D),Y=lN(L,N);P={selectValue:A,focusedOption:N,focusedOptionId:Y,focusableOptionsWithIds:L,focusedValue:B,clearFocusValueOnUpdate:!1}}var K=l!=null&&n!==o?{inputIsHidden:l,inputIsHiddenAfterUpdate:void 0}:{},te=h,ue=f&&g;return f&&!ue&&(te={value:rC(I,A,A[0]||null),options:A,action:"initial-input-focus"},ue=!g),h?.action==="initial-input-focus"&&(te=null),Mt(Mt(Mt({},P),K),{},{prevProps:n,ariaSelection:te,prevWasFocused:ue})}}]),i})(Re.Component);Vme.defaultProps=xYe;var EYe=Re.forwardRef(function(t,e){var i=lHe(t);return Re.createElement(Vme,Dt({ref:e},i))}),See=EYe;class IYe{constructor(e,i){this.dropDownQuery=async()=>{if(this.featureLayers.length===1)if(this.fieldNames[1]===void 0&&this.fieldNames[2]===void 0){var r=this.featureLayers[0].createQuery();return r.outFields=["*"],r.orderByFields=[this.fieldNames[0]],r.groupByFieldsForStatistics=[this.fieldNames[0]],(await this.featureLayers[0].queryFeatures(r).then(C=>{var I=C.features;const A=I.map((D,L)=>{const N=D.attributes[this.fieldNames[0]];return Object.assign({field1:N})});return A.filter((D,L)=>A.findIndex(B=>B.field1===D.field1)===L)})).map(C=>C.field1).filter((C,I,A)=>A.indexOf(C)===I).map((C,I)=>Object.assign({field1:C}))}else if(this.fieldNames[2]===void 0){var n=this.featureLayers[0].createQuery();n.outFields=[this.fieldNames[0],this.fieldNames[1]],n.orderByFields=[this.fieldNames[0],this.fieldNames[1]],n.groupByFieldsForStatistics=[this.fieldNames[0],this.fieldNames[1]];const w=await this.featureLayers[0].queryFeatures(n).then(C=>{var I=C.features;const A=I.map((D,L)=>{const B=D.attributes,N=B[this.fieldNames[0]],Y=B[this.fieldNames[1]];return Object.assign({field1:N,field2:Y})});return A.filter((D,L)=>A.findIndex(B=>B.field1===D.field1&&B.field2===D.field2)===L)});return w.map(C=>C.field1).filter((C,I,A)=>A.indexOf(C)===I).map((C,I)=>{const D=w.filter(L=>L.field1===C).map(L=>L.field2).filter((L,B,N)=>N.indexOf(L)===B).map((L,B)=>Object.assign({name:L}));return Object.assign({field1:C,field2:D})})}else{var s=this.featureLayers[0].createQuery();s.outFields=[this.fieldNames[0],this.fieldNames[1]],s.orderByFields=[this.fieldNames[0],this.fieldNames[1]],s.groupByFieldsForStatistics=[this.fieldNames[0],this.fieldNames[1]],s.where=`${this.fieldNames[0]} IS NOT NULL`;const w=await this.featureLayers[0].queryFeatures(s).then(C=>{var I=C.features;const A=I.map((D,L)=>{const B=D.attributes,N=B[this.fieldNames[0]],Y=B[this.fieldNames[1]],K=B[this.fieldNames[2]];return Object.assign({field1:N,field2:Y,field3:K})});return A.filter((D,L)=>A.findIndex(B=>B.field1===D.field1&&B.field2===D.field2&&B.field3===D.field3)===L)});return w.map(C=>C.field1).filter((C,I,A)=>A.indexOf(C)===I).map((C,I)=>{const D=w.filter(L=>L.field1===C).map(L=>L.field2).filter((L,B,N)=>N.indexOf(L)===B).map((L,B)=>{const K=w.filter(te=>te.field1===C&&te.field2===L).map(te=>te.field3).filter((te,ue,ye)=>ye.indexOf(te)===ue).map((te,ue)=>Object.assign({name:te}));return Object.assign({name:L,field3:K})});return Object.assign({field1:C,field2:D})})}else if(this.fieldNames[1]===void 0&&this.fieldNames[2]===void 0){var o=this.featureLayers[0].createQuery();o.outFields=["*"],o.orderByFields=[this.fieldNames[0]],o.groupByFieldsForStatistics=[this.fieldNames[0]];const v=this.featureLayers[0].queryFeatures(o).then(P=>{var D=P.features;const L=D.map((N,Y)=>{const te=N.attributes[this.fieldNames[0]];return Object.assign({field1:te})});return L.filter((N,Y)=>L.findIndex(K=>K.field1===N.field1)===Y)});var a=this.featureLayers[1].createQuery();a.outFields=["*"];const w=this.featureLayers[1].queryFeatures(a).then(P=>{var D=P.features;const L=D.map((N,Y)=>{const te=N.attributes[this.fieldNames[0]];return Object.assign({field1:te})});return L.filter((N,Y)=>L.findIndex(K=>K.field1===N.field1)===Y)}),S=await v,T=await w;return S.concat(T).map(P=>P.field1).filter((P,D,L)=>L.indexOf(P)===D).map((P,D)=>Object.assign({field1:P}))}else if(this.fieldNames[2]===void 0){var l=this.featureLayers[0].createQuery();l.outFields=["*"],l.orderByFields=[this.fieldNames[0],this.fieldNames[1]],l.groupByFieldsForStatistics=[this.fieldNames[0],this.fieldNames[1]];const v=this.featureLayers[0].queryFeatures(l).then(P=>{var D=P.features;const L=D.map((N,Y)=>{const K=N.attributes,te=K[this.fieldNames[0]],ue=K[this.fieldNames[1]];return Object.assign({field1:te,field2:ue})});return L.filter((N,Y)=>L.findIndex(K=>K.field1===N.field1&&K.field2===N.field2)===Y)});var h=this.featureLayers[1].createQuery();h.outFields=["*"];const w=this.featureLayers[1].queryFeatures(h).then(P=>{var D=P.features;const L=D.map((N,Y)=>{const K=N.attributes,te=K[this.fieldNames[0]],ue=K[this.fieldNames[1]];return Object.assign({field1:te,field2:ue})});return L.filter((N,Y)=>L.findIndex(K=>K.field1===N.field1&&K.field2===N.field2)===Y)}),S=await v,T=await w,C=S.concat(T);return C.map(P=>P.field1).filter((P,D,L)=>L.indexOf(P)===D).map((P,D)=>{const N=C.filter(Y=>Y.field1===P).map(Y=>Y.field2).filter((Y,K,te)=>te.indexOf(Y)===K).map((Y,K)=>Object.assign({name:Y}));return Object.assign({field1:P,field2:N})})}else{var f=this.featureLayers[0].createQuery();f.outFields=["*"],f.orderByFields=[this.fieldNames[0],this.fieldNames[1]],f.groupByFieldsForStatistics=[this.fieldNames[0],this.fieldNames[1]];const v=this.featureLayers[0].queryFeatures(f).then(P=>{var D=P.features;const L=D.map((N,Y)=>{const K=N.attributes,te=K[this.fieldNames[0]],ue=K[this.fieldNames[1]],ye=K[this.fieldNames[2]];return Object.assign({field1:te,field2:ue,field3:ye})});return L.filter((N,Y)=>L.findIndex(K=>K.field1===N.field1&&K.field2===N.field2&&K.field3===N.field3)===Y)});var g=this.featureLayers[1].createQuery();g.outFields=["*"];const w=this.featureLayers[1].queryFeatures(g).then(P=>{var D=P.features;const L=D.map((N,Y)=>{const K=N.attributes,te=K[this.fieldNames[0]],ue=K[this.fieldNames[1]],ye=K[this.fieldNames[2]];return Object.assign({field1:te,field2:ue,field3:ye})});return L.filter((N,Y)=>L.findIndex(K=>K.field1===N.field1&&K.field2===N.field2&&K.field3===N.field3)===Y)}),S=await v,T=await w,C=S.concat(T);return C.map(P=>P.field1).filter((P,D,L)=>L.indexOf(P)===D).map((P,D)=>{const N=C.filter(Y=>Y.field1===P).map(Y=>Y.field2).filter((Y,K,te)=>te.indexOf(Y)===K).map((Y,K)=>{const ye=C.filter(se=>se.field1===P&&se.field2===Y).map(se=>se.field3).filter((se,G,ie)=>ie.indexOf(se)===G).map((se,G)=>Object.assign({name:se}));return Object.assign({name:Y,field3:ye})});return Object.assign({field1:P,field2:N})})}},this.featureLayers=e,this.fieldNames=i}}const CYe={municipals:void 0,updateMunicipals:void 0,barangays:void 0,updateBarangays:void 0},P3=Re.createContext({...CYe});function MYe(){const{updateMunicipals:t,updateBarangays:e}=Re.use(P3),[i,r]=Re.useState(),[n,s]=Re.useState(null),[o,a]=Re.useState(null),[l,h]=Re.useState([]);Re.useEffect(()=>{new IYe([As],["Municipality","Barangay"]).dropDownQuery().then(S=>{r(S)})},[]);const f=w=>{console.log(w),s(w),t(w.field1),e(void 0),h(w.field2),a(null)},g=w=>{a(w),e(w.name)},v={option:(w,{isFocused:S,isSelected:T})=>({...w,backgroundColor:S?"#999999":"#2b2b2b",color:"#ffffff"}),control:w=>({...w,backgroundColor:"#2b2b2b",borderColor:"#949494",color:"#ffffff",touchUi:!1}),singleValue:w=>({...w,color:"#fff"})};return ii.jsxs("div",{style:{display:"flex",flexDirection:"row",margin:"auto"},children:[ii.jsx("span",{style:{color:"white",paddingRight:"5px",margin:"auto"},children:"Municipality"}),ii.jsx(See,{value:n,options:i,onChange:f,getOptionLabel:w=>w.field1,styles:v}),ii.jsx("span",{style:{color:"white",paddingLeft:"5px",paddingRight:"5px",margin:"auto"},children:"Barangay"}),ii.jsx(See,{value:o,options:l,onChange:g,getOptionLabel:w=>w.name,styles:v})]})}function AYe(){return ii.jsx(ii.Fragment,{children:ii.jsx("header",{slot:"header",id:"header-title",style:{display:"flex",height:"70px",padding:"0 1rem",borderStyle:"solid",borderRightWidth:5,borderLeftWidth:5,borderBottomWidth:4,borderTopWidth:5,borderColor:"#555555"},children:ii.jsx(MYe,{})})})}const OYe=new Set(["children","localName","ref","style","className"]),Tee=new WeakMap,$ee=(t,e,i,r,n)=>{const s=n?.[e];s===void 0?(t[e]=i,i==null&&e in HTMLElement.prototype&&t.removeAttribute(e)):i!==r&&((o,a,l)=>{let h=Tee.get(o);h===void 0&&Tee.set(o,h=new Map);let f=h.get(a);l!==void 0?f===void 0?(h.set(a,f={handleEvent:l}),o.addEventListener(a,f)):f.handleEvent=l:f!==void 0&&(h.delete(a),o.removeEventListener(a,f))})(t,s,i)},PYe=({react:t,tagName:e,elementClass:i,events:r,displayName:n})=>{const s=new Set(Object.keys(r??{})),o=t.forwardRef(((a,l)=>{const h=t.useRef(new Map),f=t.useRef(null),g={},v={};for(const[w,S]of Object.entries(a))OYe.has(w)?g[w==="className"?"class":w]=S:s.has(w)||w in i.prototype?v[w]=S:g[w]=S;return t.useLayoutEffect((()=>{if(f.current===null)return;const w=new Map;for(const S in v)$ee(f.current,S,a[S],h.current.get(S),r),h.current.delete(S),w.set(S,a[S]);for(const[S,T]of h.current)$ee(f.current,S,void 0,T,r);h.current=w})),t.useLayoutEffect((()=>{f.current?.removeAttribute("defer-hydration")}),[]),g.suppressHydrationWarning=!0,t.createElement(e,{...g,ref:t.useCallback((w=>{f.current=w,typeof l=="function"?l(w):l!==null&&(l.current=w)}),[l])})}));return o.displayName=n??i.name,o},Hp=ZTe(Zte,PYe),DYe=Hp(jp("calcite-avatar",{})),RYe=Hp(jp("calcite-chip",{onCalciteChipClose:"calciteChipClose",onCalciteChipSelect:"calciteChipSelect"})),LYe=Hp(jp("calcite-list",{onCalciteListChange:"calciteListChange",onCalciteListDragEnd:"calciteListDragEnd",onCalciteListDragStart:"calciteListDragStart",onCalciteListFilter:"calciteListFilter",onCalciteListMoveHalt:"calciteListMoveHalt",onCalciteListOrderChange:"calciteListOrderChange"})),zYe=Hp(jp("calcite-list-item",{onCalciteListItemClose:"calciteListItemClose",onCalciteListItemCollapse:"calciteListItemCollapse",onCalciteListItemExpand:"calciteListItemExpand",onCalciteListItemSelect:"calciteListItemSelect",onCalciteListItemSortHandleBeforeClose:"calciteListItemSortHandleBeforeClose",onCalciteListItemSortHandleBeforeOpen:"calciteListItemSortHandleBeforeOpen",onCalciteListItemSortHandleClose:"calciteListItemSortHandleClose",onCalciteListItemSortHandleOpen:"calciteListItemSortHandleOpen",onCalciteListItemToggle:"calciteListItemToggle"})),NYe=Hp(jp("calcite-shell",{})),kee=Hp(jp("calcite-tab",{})),jYe=Hp(jp("calcite-tab-nav",{onCalciteTabChange:"calciteTabChange"})),Eee=Hp(jp("calcite-tab-title",{onCalciteTabsActivate:"calciteTabsActivate",onCalciteTabsClose:"calciteTabsClose"})),FYe=Hp(jp("calcite-tabs",{}));const VYe=vi`:host{--calcite-internal-color-focus: var( --calcite-color-focus, var(--calcite-ui-focus-color, var(--calcite-color-brand)) )}:host{box-sizing:border-box;background-color:var(--calcite-color-foreground-1);color:var(--calcite-color-text-2);font-size:var(--calcite-font-size--1)}:host *{box-sizing:border-box}:host{position:absolute;inset:0;display:flex;block-size:100%;inline-size:100%;flex-direction:column;overflow:hidden}.main{position:relative;display:flex;block-size:100%;inline-size:100%;flex:1 1 auto;flex-direction:row;justify-content:space-between;overflow:hidden}.content{display:flex;block-size:100%;inline-size:100%;flex-direction:column;flex-wrap:nowrap;overflow:auto;justify-content:space-between}.content ::slotted(calcite-shell-center-row),.content ::slotted(calcite-panel),.content ::slotted(calcite-flow){flex:1 1 auto;align-self:stretch;max-block-size:unset}.content--behind{position:absolute;inset:0;border-width:0px;z-index:calc(var(--calcite-z-index) - 1);display:initial}.content--non-interactive{pointer-events:none;display:flex;block-size:100%;inline-size:100%;flex-direction:column;flex-wrap:nowrap}::slotted(calcite-shell-center-row){inline-size:unset}::slotted(.header .heading){font-size:var(--calcite-font-size--2);line-height:1.375;font-weight:var(--calcite-font-weight-normal)}slot[name=panel-start]::slotted(calcite-shell-panel),slot[name=panel-end]::slotted(calcite-shell-panel){position:relative;z-index:calc(var(--calcite-z-index) + 1)}slot[name=panel-end]::slotted(calcite-shell-panel){margin-inline-start:auto}::slotted(calcite-panel),::slotted(calcite-flow){border-width:var(--calcite-border-width-sm);border-color:var(--calcite-shell-border-color, var(--calcite-color-border-3));border-inline-start-width:var(--calcite-border-width-none);border-inline-end-width:var(--calcite-border-width-none);border-style:solid}slot[name=center-row]::slotted(calcite-shell-center-row:not([detached])),slot[name=panel-top]::slotted(calcite-shell-center-row:not([detached])),slot[name=panel-bottom]::slotted(calcite-shell-center-row:not([detached])){border-color:var(--calcite-shell-border-color, var(--calcite-color-border-3));border-inline-start-width:var(--calcite-border-width-sm);border-inline-end-width:var(--calcite-border-width-sm)}.center-content{display:flex;flex-direction:column;justify-content:space-between;block-size:100%;inline-size:100%;min-inline-size:0}.content-bottom{justify-content:flex-end}::slotted(calcite-shell-center-row){flex:none;align-self:stretch}::slotted(calcite-tip-manager){position:absolute;z-index:var(--calcite-z-index-toast);box-sizing:border-box}@keyframes in-up{0%{opacity:0;transform:translate3D(0,5px,0)}to{opacity:1;transform:translateZ(0)}}::slotted(calcite-tip-manager){animation:in-up var(--calcite-internal-animation-timing-slow) ease-in-out;border-radius:.25rem;--tw-shadow: 0 6px 20px -4px rgba(0, 0, 0, .1), 0 4px 12px -2px rgba(0, 0, 0, .08);--tw-shadow-colored: 0 6px 20px -4px var(--tw-shadow-color), 0 4px 12px -2px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow);inset-block-end:.5rem;inset-inline:var(--calcite-shell-tip-spacing, 26vw)}slot[name=center-row]::slotted(calcite-shell-center-row),slot[name=panel-bottom]::slotted(calcite-shell-center-row){margin-block-start:auto}slot[name=panel-top]::slotted(calcite-shell-center-row){margin-block-end:auto}.position-wrapper{position:absolute;pointer-events:none;inset:0}slot[name=modals]::slotted(calcite-modal){position:absolute}:host([hidden]){display:none}[hidden]{display:none}`,Hu={main:"main",content:"content",contentBehind:"content--behind",contentBottom:"content-bottom",contentNonInteractive:"content--non-interactive",footer:"footer",positionedSlotWrapper:"positioned-slot-wrapper",contentBehindCenterContent:"center-content"},zc={centerRow:"center-row",panelStart:"panel-start",panelEnd:"panel-end",panelTop:"panel-top",panelBottom:"panel-bottom",header:"header",footer:"footer",alerts:"alerts",sheets:"sheets",modals:"modals",dialogs:"dialogs"},DP=class DP extends wi{constructor(){super(),this.hasAlerts=!1,this.hasDialogs=!1,this.hasFooter=!1,this.hasHeader=!1,this.hasModals=!1,this.hasOnlyPanelBottom=!1,this.hasPanelBottom=!1,this.hasPanelTop=!1,this.hasSheets=!1,this.panelIsResizing=!1,this.contentBehind=!1,this.listen("calciteInternalShellPanelResizeStart",this.handleCalciteInternalShellPanelResizeStart),this.listen("calciteInternalShellPanelResizeEnd",this.handleCalciteInternalShellPanelResizeEnd)}willUpdate(e){(e.has("hasPanelTop")&&(this.hasUpdated||this.hasPanelTop!==!1)||e.has("hasPanelBottom")&&(this.hasUpdated||this.hasPanelBottom!==!1))&&(this.hasOnlyPanelBottom=!this.hasPanelTop&&this.hasPanelBottom)}handleCalciteInternalShellPanelResizeStart(e){this.panelIsResizing=!0,e.stopPropagation()}handleCalciteInternalShellPanelResizeEnd(e){this.panelIsResizing=!1,e.stopPropagation()}handleHeaderSlotChange(e){this.hasHeader=!!ri(e)}handleFooterSlotChange(e){this.hasFooter=!!ri(e)}handleAlertsSlotChange(e){this.hasAlerts=!!ri(e),xd(e)?.map(i=>{i.tagName==="CALCITE-ALERT"&&(i.embedded=!0)})}handleSheetsSlotChange(e){this.hasSheets=!!ri(e),xd(e)?.map(i=>{i.tagName==="CALCITE-SHEET"&&(i.embedded=!0)})}handleModalsSlotChange(e){this.hasModals=!!ri(e),xd(e)?.map(i=>{i.tagName==="CALCITE-MODAL"&&(i.embedded=!0)})}handlePanelTopChange(e){this.hasPanelTop=ri(e)}handlePanelBottomChange(e){this.hasPanelBottom=ri(e)}handleDialogsSlotChange(e){this.hasDialogs=!!ri(e),xd(e)?.map(i=>{i.tagName==="CALCITE-DIALOG"&&(i.embedded=!0)})}renderHeader(){return de`<div .hidden=${!this.hasHeader}>${vt("header",de`<slot name=${zc.header} @slotchange=${this.handleHeaderSlotChange}></slot>`)}</div>`}renderFooter(){return vt("footer",de`<div class=${ce(Hu.footer)} .hidden=${!this.hasFooter}><slot name=${zc.footer} @slotchange=${this.handleFooterSlotChange}></slot></div>`)}renderAlerts(){return de`<div .hidden=${!this.hasAlerts}>${vt("alerts",de`<slot name=${zc.alerts} @slotchange=${this.handleAlertsSlotChange}></slot>`)}</div>`}renderSheets(){return de`<div .hidden=${!this.hasSheets}>${vt("sheets",de`<slot name=${zc.sheets} @slotchange=${this.handleSheetsSlotChange}></slot>`)}</div>`}renderModals(){return de`<div .hidden=${!this.hasModals}>${vt("modals",de`<slot name=${zc.modals} @slotchange=${this.handleModalsSlotChange}></slot>`)}</div>`}renderDialogs(){return de`<div .hidden=${!this.hasDialogs}>${vt("dialogs",de`<slot name=${zc.dialogs} @slotchange=${this.handleDialogsSlotChange}></slot>`)}</div>`}renderContent(){const{panelIsResizing:e}=this,i=vt("default-slot",de`<slot></slot>`),r=e?de`<div class=${ce(Hu.contentNonInteractive)}>${i}</div>`:i,n=vt("center-row-slot",de`<slot name=${zc.centerRow}></slot>`),s=vt("panel-bottom-slot",de`<slot name=${zc.panelBottom} @slotchange=${this.handlePanelBottomChange}></slot>`),o=vt("panel-top-slot",de`<slot name=${zc.panelTop} @slotchange=${this.handlePanelTopChange}></slot>`),a="content-container";return this.contentBehind?[vt(a,de`<div class=${ce({[Hu.content]:!0,[Hu.contentBehind]:!0})}>${r}</div>`),de`<div class=${ce({[Hu.contentBehindCenterContent]:!0,[Hu.contentBottom]:this.hasOnlyPanelBottom})}>${o}${s}${n}</div>`]:[vt(a,de`<div class=${ce({[Hu.content]:!0,[Hu.contentBottom]:this.hasOnlyPanelBottom})}>${o}${r}${s}${n}</div>`)]}renderMain(){return de`<div class=${ce(Hu.main)}><slot name=${zc.panelStart}></slot>${this.renderContent()}<slot name=${zc.panelEnd}></slot></div>`}renderPositionedSlots(){return de`<div class=${ce(Hu.positionedSlotWrapper)}>${this.renderAlerts()}${this.renderModals()}${this.renderDialogs()}${this.renderSheets()}</div>`}render(){return de`${this.renderHeader()}${this.renderMain()}${this.renderFooter()}${this.renderPositionedSlots()}`}};DP.properties={hasAlerts:[16,{},{state:!0}],hasDialogs:[16,{},{state:!0}],hasFooter:[16,{},{state:!0}],hasHeader:[16,{},{state:!0}],hasModals:[16,{},{state:!0}],hasOnlyPanelBottom:[16,{},{state:!0}],hasPanelBottom:[16,{},{state:!0}],hasPanelTop:[16,{},{state:!0}],hasSheets:[16,{},{state:!0}],panelIsResizing:[16,{},{state:!0}],contentBehind:[7,{},{reflect:!0,type:Boolean}]},DP.styles=VYe;let oV=DP;Pi("calcite-shell",oV);const UYe={section:"section"},BYe={titleGroup:"title-group"},HYe=vi`:host{--calcite-internal-color-focus: var( --calcite-color-focus, var(--calcite-ui-focus-color, var(--calcite-color-brand)) )}:host{display:flex;flex-direction:column}:host([bordered]){box-shadow:inset 0 1px 0 var(--calcite-tab-border-color, var(--calcite-color-border-1));background-color:var(--calcite-tab-background-color, var(--calcite-color-foreground-1))}:host([bordered]) section{border-color:var(--calcite-tab-border-color, var(--calcite-color-border-1));border-style:solid}section{display:flex;flex-grow:1;overflow:hidden;border-width:1px;border-block-start-style:solid;border-block-start-color:var(--calcite-tab-border-color, var(--calcite-color-border-1))}:host([bordered][position=bottom]){box-shadow:inset 0 1px 0 var(--calcite-tab-border-color, var(--calcite-color-border-1)),inset 0 -1px 0 var(--calcite-tab-border-color, var(--calcite-color-border-1))}:host([bordered]:not([position=bottom])) ::slotted(calcite-tab-nav){margin-block-end:-1px}:host([position=bottom]){flex-direction:column-reverse}:host([position=bottom]) section{flex-direction:column-reverse;border-block-start-width:0px;border-block-end-width:1px}:host([bordered][scale=s]) section{padding:.75rem}:host([bordered][scale=m]) section{padding:.5rem}:host([bordered][scale=l]) section{padding:1rem}:host([position=bottom]:not([bordered])) section{border-block-end-style:solid;border-block-end-color:var(--calcite-tab-border-color, var(--calcite-color-border-1))}@media (forced-colors: active){:host([bordered]) section{border-block-start-width:0px;border-block-end-width:1px}:host([position=bottom][bordered]) section{border-block-start-width:1px;border-block-end-width:0px}}:host([hidden]){display:none}[hidden]{display:none}`,RP=class RP extends wi{constructor(){super(),this.slotRef=kr(),this.tabs=[],this.titles=[],this.bordered=!1,this.layout="inline",this.position="top",this.scale="m",this.listen("calciteInternalTabNavSlotChange",this.calciteInternalTabNavSlotChangeHandler)}connectedCallback(){super.connectedCallback(),this.updateItems()}load(){this.updateItems()}willUpdate(e){(e.has("position")&&(this.hasUpdated||this.position!=="top")||e.has("scale")&&(this.hasUpdated||this.scale!=="m"))&&this.updateItems(),(e.has("titles")||e.has("tabs"))&&this.hasUpdated&&this.titles?.length>0&&this.tabs?.length>0&&(this.updateAriaSettings(),this.updateItems())}calciteInternalTabNavSlotChangeHandler(e){e.stopPropagation(),e.detail.length!==this.titles.length&&(this.titles=e.detail)}defaultSlotChangeHandler(e){this.tabs=xd(e,"calcite-tab")}async updateAriaSettings(){if(await this.componentOnReady(),!this.slotRef.value)return;let e,i;const r=Qoe(this.slotRef.value,"calcite-tab");if(r.some(n=>n.tab)||this.titles.some(n=>n.tab))e=r.sort((n,s)=>n.tab.localeCompare(s.tab)).map(n=>n.id),i=this.titles.sort((n,s)=>n.tab.localeCompare(s.tab)).map(n=>n.id);else{const n=await Promise.all(r.map(o=>o.getTabIndex())),s=await Promise.all(this.titles.map(o=>o.getTabIndex()));e=n.reduce((o,a,l)=>(o[a]=r[l].id,o),[]),i=s.reduce((o,a,l)=>(o[a]=this.titles[l].id,o),[])}r.forEach(n=>n._updateAriaInfo(e,i)),this.titles.forEach(n=>n._updateAriaInfo(e,i))}updateItems(){const{position:e,scale:i}=this,r=this.el.querySelector("calcite-tab-nav");r&&(r.position=e,r.scale=i),Array.from(this.el.querySelectorAll("calcite-tab")).forEach(n=>{n.parentElement===this.el&&(n.scale=i)}),Array.from(this.el.querySelectorAll("calcite-tab-nav > calcite-tab-title")).forEach(n=>{n.position=e,n.scale=i})}render(){return de`<slot name=${BYe.titleGroup}></slot><section class=${ce(UYe.section)}><slot @slotchange=${this.defaultSlotChangeHandler} ${Ut(this.slotRef)}></slot></section>`}};RP.properties={tabs:[16,{},{state:!0}],titles:[16,{},{state:!0}],bordered:[5,{},{type:Boolean}],layout:[3,{},{reflect:!0}],position:[3,{},{reflect:!0}],scale:[3,{},{reflect:!0}]},RP.styles=HYe;let aV=RP;Pi("calcite-tabs",aV);const cN={container:"container",content:"content",scale:t=>`scale-${t}`},qYe={tabTitleId:t=>`calcite-tab-title-${t}`},GYe=vi`:host{--calcite-internal-color-focus: var( --calcite-color-focus, var(--calcite-ui-focus-color, var(--calcite-color-brand)) )}:host{display:none}:host,.container,.content{block-size:100%;inline-size:100%}:host([selected]),:host([selected]) .container{display:flex;flex-direction:column}.content{box-sizing:border-box;padding-block:var(--calcite-tab-content-space-y, var(--calcite-tab-content-block-padding, var(--calcite-internal-tab-content-space-y)))}.scale-s{--calcite-internal-tab-content-space-y: .25rem;font-size:var(--calcite-font-size-sm);line-height:1rem}.scale-m{--calcite-internal-tab-content-space-y: .5rem;font-size:var(--calcite-font-size);line-height:1rem}.scale-l{--calcite-internal-tab-content-space-y: .625rem;font-size:var(--calcite-font-size-md);line-height:1.25rem}.container{display:none;block-size:100%;inline-size:100%;overflow:auto;outline-color:transparent}.container:focus{outline:var(--calcite-border-width-md) solid var(--calcite-color-focus, var(--calcite-ui-focus-color, var(--calcite-color-brand)));outline:var(--calcite-border-width-md) solid var(--calcite-internal-color-focus);outline-offset:calc(calc(-1 * var(--calcite-spacing-base)) * calc(1 - (2*clamp(0,var(--calcite-offset-invert-focus),1))))}:host([hidden]){display:none}[hidden]{display:none}`,LP=class LP extends wi{constructor(){super(),this.guid=qYe.tabTitleId(tg()),this.scale="m",this.selected=!1,this.listenOn(document.body,"calciteInternalTabChange",this.internalTabChangeHandler)}async getTabIndex(){return Array.prototype.indexOf.call(Joe(this.el.parentElement.children).filter(e=>e.matches("calcite-tab")),this.el)}_updateAriaInfo(e=[],i=[]){this.labeledBy=i[e.indexOf(this.el.id)]||null}connectedCallback(){super.connectedCallback(),this.parentTabsEl=this.el.closest("calcite-tabs")}disconnectedCallback(){super.disconnectedCallback(),document.body?.dispatchEvent(new CustomEvent("calciteTabUnregister",{detail:this.el}))}internalTabChangeHandler(e){e.composedPath().find(r=>r.tagName==="CALCITE-TABS")===this.parentTabsEl&&(this.tab?this.selected=this.tab===e.detail.tab:this.getTabIndex().then(r=>{this.selected=r===e.detail.tab}),e.stopPropagation())}render(){const e=this.el.id||this.guid;return $p(this.el,"aria-labelledby",this.labeledBy),$p(this.el,"id",e),de`<div class=${ce({[cN.container]:!0,[cN.scale(this.scale)]:!0})} role=tabpanel .tabIndex=${this.selected?0:-1}><section class=${ce(cN.content)}><slot></slot></section></div>`}};LP.properties={labeledBy:[16,{},{state:!0}],scale:1,selected:[7,{},{reflect:!0,type:Boolean}],tab:[3,{},{reflect:!0}]},LP.styles=GYe;let lV=LP;Pi("calcite-tab",lV);const c0={percentage:"percentage",progressRing:"ring--progress",ring:"ring",rings:"rings",text:"text",trackRing:"ring--track"},WYe=vi`:host{--calcite-internal-color-focus: var( --calcite-color-focus, var(--calcite-ui-focus-color, var(--calcite-color-brand)) )}:host{position:relative;margin-inline:auto;display:flex;align-items:center;justify-content:center;opacity:1;flex-direction:column;min-block-size:var(--calcite-loader-size);font-size:var(--calcite-loader-font-size);stroke-width:var(--calcite-internal-stroke-width);fill:none;transform:scale(1);padding-block:var(--calcite-loader-spacing, 4rem)}:host([scale=s]){--calcite-internal-stroke-width: 3;--calcite-internal-text-offset: var(--calcite-spacing-xxs);--calcite-internal-loader-font-size: var(--calcite-font-size--3);--calcite-internal-loader-size: 2rem;--calcite-internal-loader-size-inline: .75rem;--calcite-internal-loader-value-line-height: .625rem}:host([scale=m]){--calcite-internal-stroke-width: 6;--calcite-internal-text-offset: var(--calcite-spacing-sm);--calcite-internal-loader-font-size: var(--calcite-font-size-0);--calcite-internal-loader-size: 4rem;--calcite-internal-loader-size-inline: 1rem;--calcite-internal-loader-value-line-height: 1.375rem}:host([scale=l]){--calcite-internal-stroke-width: 8;--calcite-internal-text-offset: var(--calcite-spacing-md);--calcite-internal-loader-font-size: var(--calcite-font-size-2);--calcite-internal-loader-size: 6rem;--calcite-internal-loader-size-inline: 1.5rem;--calcite-internal-loader-value-line-height: 1.71875rem}.text{display:block;text-align:center;font-size:var(--calcite-font-size--2);line-height:1rem;margin-block-start:var(--calcite-loader-text-spacing, var(--calcite-internal-text-offset));font-weight:var(--calcite-loader-text-weight, var(--calcite-font-weight-normal));color:var(--calcite-loader-text-color, var(--calcite-color-text-1))}.percentage{display:block;text-align:center;font-size:var(--calcite-loader-font-size);inline-size:var(--calcite-loader-size, var(--calcite-internal-loader-size));line-height:var(--calcite-internal-loader-value-line-height);align-self:center;color:var(--calcite-loader-text-color, var(--calcite-color-text-1))}.rings{position:relative;display:flex;overflow:visible;opacity:1;inline-size:var(--calcite-loader-size, var(--calcite-internal-loader-size));block-size:var(--calcite-loader-size, var(--calcite-internal-loader-size))}.ring{position:absolute;inset-block-start:0px;transform-origin:center;overflow:visible;inset-inline-start:0;inline-size:var(--calcite-loader-size, var(--calcite-internal-loader-size));block-size:var(--calcite-loader-size, var(--calcite-internal-loader-size))}.ring--track{stroke:var(--calcite-loader-track-color, var(--calcite-color-transparent-press))}.ring--progress{stroke:var(--calcite-loader-progress-color, var(--calcite-color-brand));transform:rotate(-90deg);transition:all var(--calcite-internal-animation-timing-fast) linear}:host([type=indeterminate]) .ring--progress{animation:loader-clockwise calc(var(--calcite-internal-animation-timing-slow) / var(--calcite-internal-duration-factor) * 2 / var(--calcite-internal-duration-factor)) linear infinite}:host([inline]){--calcite-internal-stroke-width: 2;position:relative;margin:0;stroke:currentColor;stroke-width:2;padding-block:0px;block-size:var(--calcite-loader-size, var(--calcite-loader-size-inline, var(--calcite-internal-loader-size-inline)));min-block-size:var(--calcite-loader-size, var(--calcite-loader-size-inline, var(--calcite-internal-loader-size-inline)));inline-size:var(--calcite-loader-size, var(--calcite-loader-size-inline, var(--calcite-internal-loader-size-inline)));vertical-align:calc(var(--calcite-loader-size, var(--calcite-loader-size-inline, var(--calcite-internal-loader-size-inline))) * -1 * .2)}:host([inline]) .rings{inset-block-start:0px;margin:0;inset-inline-start:0;inline-size:var(--calcite-loader-size, var(--calcite-loader-size-inline, var(--calcite-internal-loader-size-inline)));block-size:var(--calcite-loader-size, var(--calcite-loader-size-inline, var(--calcite-internal-loader-size-inline)))}:host([inline]) .ring{inline-size:var(--calcite-loader-size, var(--calcite-loader-size-inline, var(--calcite-internal-loader-size-inline)));block-size:var(--calcite-loader-size, var(--calcite-loader-size-inline, var(--calcite-internal-loader-size-inline)))}:host([inline]) .ring--progress{stroke:var(--calcite-loader-progress-color-inline, currentColor)}:host([complete]){opacity:0;transform:scale(.75);transform-origin:center;transition:opacity var(--calcite-internal-animation-timing-medium) linear 1s,transform var(--calcite-internal-animation-timing-medium) linear 1s}:host([complete]) .rings{opacity:0;transform:scale(.75);transform-origin:center;transition:opacity calc(.18s * var(--calcite-internal-duration-factor)) linear .8s,transform calc(.18s * var(--calcite-internal-duration-factor)) linear .8s}:host([complete]) .percentage{color:var(--calcite-color-brand);transform:scale(1.05);transform-origin:center;transition:color var(--calcite-internal-animation-timing-medium) linear,transform var(--calcite-internal-animation-timing-medium) linear}@keyframes loader-clockwise{0%{transform:rotate(0)}to{transform:rotate(360deg)}}:host([hidden]){display:none}[hidden]{display:none}`,zP=class zP extends wi{constructor(){super(...arguments),this.messages=ds({name:null}),this.complete=!1,this.inline=!1,this.scale="m",this.text="",this.type="indeterminate",this.value=0}connectedCallback(){super.connectedCallback(),this.updateFormatter()}load(){requestAnimationFrame(()=>this.valueChangeHandler())}willUpdate(e){e.has("value")&&(this.hasUpdated||this.value!==0)&&this.valueChangeHandler(),(e.has("type")&&(this.hasUpdated||this.type!=="indeterminate")||e.has("messages"))&&this.updateFormatter()}valueChangeHandler(){this.complete=this.type.startsWith("determinate")&&this.value===100}formatValue(){return this.type!=="determinate-value"?`${this.value}`:this.formatter.format(this.value/100)}getSize(e){return{s:32,m:64,l:96}[e]}getInlineSize(e){return{s:12,m:16,l:24}[e]}updateFormatter(){this.type!=="determinate-value"||this.formatter?.resolvedOptions().locale===this.messages._lang||(this.formatter=new Intl.NumberFormat(this.messages._lang,{style:"percent"}))}render(){const{el:e,inline:i,label:r,text:n,type:s,value:o}=this,a=e.id||tg(),l=s!=="indeterminate",h=Math.floor(o);return this.el.ariaLabel=r,this.el.ariaValueMax=l?"100":void 0,this.el.ariaValueMin=l?"0":void 0,this.el.ariaValueNow=l?h.toString():void 0,$p(this.el,"id",a),this.el.role="progressbar",de`<div class=${ce(c0.rings)}>${this.renderRing("track")}${this.renderRing("progress")}${!i&&l&&de`<div class=${ce(c0.percentage)}>${this.formatValue()}</div>`||""}</div>${!i&&n&&de`<div class=${ce(c0.text)}>${n}</div>`||""}`}renderRing(e){const{inline:i,scale:r,value:n}=this,s=i?this.getInlineSize(r):this.getSize(r),a=s*.45;let l;if(e==="progress"){const h=2*a*Math.PI,f=(this.type.startsWith("determinate")?n:24)/100*h,g=h-f;l={"stroke-dasharray":`${f} ${g}`}}return de`<svg aria-hidden=true class=${ce({[c0.ring]:!0,[c0.trackRing]:e==="track",[c0.progressRing]:e==="progress"})} style=${lU(l)} viewBox=${`0 0 ${s} ${s}`}>${A2`<circle cx=${s/2} cy=${s/2} r=${a??Ye} />`}</svg>`}};zP.properties={complete:[7,{},{reflect:!0,type:Boolean}],inline:[7,{},{reflect:!0,type:Boolean}],label:1,scale:[3,{},{reflect:!0}],text:1,type:[3,{},{reflect:!0}],value:[9,{},{type:Number}]},zP.styles=WYe;let YO=zP;Pi("calcite-loader",YO);const Ift=Object.freeze(Object.defineProperty({__proto__:null,Loader:YO},Symbol.toStringTag,{value:"Module"}));const YYe=["calcite-input","calcite-input-number","calcite-input-text","calcite-text-area"];function ZYe(t){return`${t.split("-").map((r,n)=>n===0?r:`${r[0].toUpperCase()}${r.slice(1)}`).join("")}${YYe.includes(t)?"Input":"Change"}`}const cV="hidden-form-input";function o7(t){return"checked"in t}const uV=new WeakMap,a7=new WeakSet;function JYe(t,e){if(Yv(e.parentElement,"[form]"))return!0;const r="calciteInternalFormComponentRegister";let n=!1;return t.addEventListener(r,s=>{n=s.composedPath().some(o=>a7.has(o)),s.stopPropagation()},{once:!0}),e.dispatchEvent(new CustomEvent(r,{bubbles:!0,composed:!0})),n}function XYe(t,{status:e,message:i,icon:r}){"status"in t&&(t.status=e),"validationIcon"in t&&typeof t.validationIcon!="string"&&(t.validationIcon=r),"validationMessage"in t&&!t.validationMessage&&(t.validationMessage=i)}function Ume(t){return t.nodeName==="CALCITE-RADIO-BUTTON"?Yv(t,"calcite-radio-button-group"):t}const KYe=new CustomEvent("calciteInvalid",{bubbles:!0,composed:!0});function Iee(t){const e=t?.target,i=e?.validationMessage,r=Ume(e?.parentElement);if(!r)return;const n=r?.nodeName?.toLowerCase(),s=n?.split("-");if(s.length<2||s[0]!=="calcite")return;t?.preventDefault(),"validity"in r&&(r.validity=e?.validity),r.dispatchEvent(KYe),XYe(r,{message:i,icon:!0,status:"invalid"});const o=ZYe(n);r.addEventListener(o,()=>{"status"in r&&(r.status="idle"),"validationIcon"in r&&(r.validationIcon===""||r.validationIcon===!0)&&(r.validationIcon=!1),"validationMessage"in r&&r.validationMessage===i&&(r.validationMessage=""),"validity"in r&&(r.validity=e?.validity)},{once:!0})}function l7(t){const{formEl:e}=t;return e?(e.addEventListener("invalid",Iee,!0),e.requestSubmit(),e.removeEventListener("invalid",Iee,!0),requestAnimationFrame(()=>{const i=e.querySelectorAll("[status=invalid]");for(const r of i)if(r?.validationMessage){r?.setFocus();break}}),!0):!1}function Bme(t){t.formEl?.reset()}function QYe(t){const{el:e,value:i}=t,r=c7(t);if(!r||JYe(r,e))return;t.formEl=r,t.defaultValue=i,o7(t)&&(t.defaultChecked=t.checked);const n=eZe.bind(t);r.addEventListener("reset",n),uV.set(t.el,n),a7.add(e)}function c7(t){const{el:e,form:i}=t;return i?RD(e,{id:i}):Yv(e,"form")}function eZe(){if("status"in this&&(this.status="idle"),"validationIcon"in this&&(this.validationIcon=!1),"validationMessage"in this&&(this.validationMessage=""),o7(this)){this.checked=this.defaultChecked;return}this.value=this.defaultValue,this.onFormReset?.()}function tZe(t){const{el:e,formEl:i}=t;if(!i)return;const r=uV.get(e);i.removeEventListener("reset",r),uV.delete(e),t.formEl=null,a7.delete(e)}const dV="calciteInternalHiddenInputInput",Hme=t=>{t.target.dispatchEvent(new CustomEvent(dV,{bubbles:!0}))},Cee=t=>t.removeEventListener("input",Hme);function iZe(t){const{el:e,formEl:i,name:r,value:n}=t,{ownerDocument:s}=e,o=e.querySelectorAll(`input[slot="${cV}"]`);if(!i||!r){o.forEach(g=>{Cee(g),g.remove()});return}const a=Array.isArray(n)?n:[n],l=[],h=new Set;o.forEach(g=>{const v=a.find(w=>w==g.value);v!=null?(h.add(v),Mee(t,g,v)):l.push(g)});let f;a.forEach(g=>{if(h.has(g))return;let v=l.pop();v||(v=s.createElement("input"),v.ariaHidden="true",v.slot=cV),f||(f=s.createDocumentFragment()),f.append(v),v.addEventListener("input",Hme),Mee(t,v,g)}),f&&e.append(f),l.forEach(g=>{Cee(g),g.remove()})}function Mee(t,e,i){const{defaultValue:r,disabled:n,form:s,name:o,required:a}=t;e.defaultValue=r,e.disabled=n,e.name=o,e.required=a,e.tabIndex=-1,s?e.setAttribute("form",s):e.removeAttribute("form"),o7(t)?(e.checked=t.checked,e.defaultChecked=t.defaultChecked,e.value=t.checked?i||"on":""):e.value=i||"",t.syncHiddenFormInput?.(e);const l=Ume(t.el);if(l&&"validity"in l)for(const h in{...e?.validity})l.validity[h]=e.validity[h]}const rZe=({component:t})=>(iZe(t),de`<slot name=${cV}></slot>`);const qme="calciteInternalLabelClick",u7="calciteInternalLabelConnected",hV="calciteInternalLabelDisconnected",Aee="calcite-label",d1=new WeakMap,o2=new WeakMap,l$=new WeakMap,ZO=new WeakMap,nv=new Set,nZe=t=>{const{id:e}=t,i=e&&RD(t,{selector:`${Aee}[for="${e}"]`});if(i)return i;const r=Yv(t,Aee);return!r||sZe(r,t)?null:r};function sZe(t,e){let i;const r="custom-element-ancestor-check",n=o=>{o.stopImmediatePropagation();const a=o.composedPath();i=a.slice(a.indexOf(e),a.indexOf(t))};return t.addEventListener(r,n,{once:!0}),e.dispatchEvent(new CustomEvent(r,{composed:!0,bubbles:!0})),t.removeEventListener(r,n),i.filter(o=>o!==e&&o!==t).filter(o=>o.tagName?.includes("-")).length>0}function D3(t){if(!t)return;const e=nZe(t.el);if(o2.has(e)&&e===t.labelEl||!e&&nv.has(t))return;const i=aZe.bind(t);if(e){t.labelEl=e;const r=d1.get(e)||[];r.push(t),d1.set(e,r.sort(Wme)),o2.has(t.labelEl)||(o2.set(t.labelEl,Oee),t.labelEl.addEventListener(qme,Oee)),nv.delete(t),document.removeEventListener(u7,l$.get(t)),ZO.set(t,i),document.addEventListener(hV,i)}else nv.has(t)||(i(),document.removeEventListener(hV,ZO.get(t)))}function Gme(t){if(!t||(nv.delete(t),document.removeEventListener(u7,l$.get(t)),document.removeEventListener(hV,ZO.get(t)),l$.delete(t),ZO.delete(t),!t.labelEl))return;const e=d1.get(t.labelEl);e.length===1&&(t.labelEl.removeEventListener(qme,o2.get(t.labelEl)),o2.delete(t.labelEl)),d1.set(t.labelEl,e.filter(i=>i!==t).sort(Wme)),t.labelEl=null}function Wme(t,e){return Ske(t.el,e.el)?-1:1}function pV(t){return t.label||t.labelEl?.textContent?.trim()||""}function Oee(t){const e=t.detail.sourceEvent.target,i=d1.get(this),r=i.find(o=>o.el===e);if(i.includes(r))return;const s=i[0];s.disabled||s.onLabelClick(t)}function oZe(){nv.has(this)&&D3(this)}function aZe(){nv.add(this);const t=l$.get(this)||oZe.bind(this);l$.set(this,t),document.addEventListener(u7,t)}async function Cft(t){if(await t.componentOnReady(),d1.has(t))return;const i=t.ownerDocument?.getElementById(t.for);i&&requestAnimationFrame(()=>{for(const r of nv)if(r.el===i){D3(r);break}})}const La={buttonLoader:"calcite-button--loader",content:"content",contentSlotted:"content--slotted",icon:"icon",iconStart:"icon--start",iconEnd:"icon--end",loadingIn:"loading-in",loadingOut:"loading-out",iconStartEmpty:"icon-start-empty",iconEndEmpty:"icon-end-empty",buttonPadding:"button-padding",buttonPaddingShrunk:"button-padding--shrunk"},lZe=vi`:host{--calcite-internal-color-focus: var( --calcite-color-focus, var(--calcite-ui-focus-color, var(--calcite-color-brand)) )}:host([disabled]){cursor:default;-webkit-user-select:none;user-select:none;opacity:var(--calcite-opacity-disabled)}:host([disabled]) *,:host([disabled]) ::slotted(*){pointer-events:none}:host{display:inline-block;inline-size:auto;vertical-align:middle;border-radius:var(--calcite-button-corner-radius, var(--calcite-internal-button-corner-radius, 0))}:host a,:host button{--calcite-internal-button-content-margin: .5rem;--calcite-internal-button-padding-x: 7px;--calcite-internal-button-padding-y: 3px;position:relative;box-sizing:border-box;display:flex;block-size:100%;inline-size:100%;cursor:pointer;-webkit-user-select:none;user-select:none;appearance:none;align-items:center;justify-content:center;border-style:none;text-align:center;font-family:inherit;font-weight:var(--calcite-font-weight-normal);text-decoration-line:none;outline-color:transparent;box-shadow:var(--calcite-button-shadow, var(--calcite-shadow-none));background-color:var(--calcite-button-background-color, var(--calcite-internal-button-background-color, var(--calcite-color-transparent)));border-block-start-color:var(--calcite-button-border-color, var(--calcite-internal-button-border-block-start-color, var(--calcite-internal-button-border-color, var(--calcite-color-transparent))));border-block-end-color:var(--calcite-button-border-color, var(--calcite-internal-button-border-block-end-color, var(--calcite-internal-button-border-color, var(--calcite-color-transparent))));border-inline-start-color:var(--calcite-button-border-color, var(--calcite-internal-button-border-inline-start-color, var(--calcite-internal-button-border-color, var(--calcite-color-transparent))));border-inline-end-color:var(--calcite-button-border-color, var(--calcite-internal-button-border-inline-end-color, var(--calcite-internal-button-border-color, var(--calcite-color-transparent))));border-style:solid;border-width:var(--calcite-border-width-sm);border-radius:var(--calcite-button-corner-radius, var(--calcite-internal-button-corner-radius, 0));color:var(--calcite-button-text-color, var(--calcite-internal-button-text-color, currentColor));padding-block:var(--calcite-internal-button-padding-y);padding-inline:var(--calcite-internal-button-padding-x);transition:color var(--calcite-animation-timing) ease-in-out,background-color var(--calcite-animation-timing) ease-in-out,box-shadow var(--calcite-animation-timing) ease-in-out,outline-color var(--calcite-internal-animation-timing-fast) ease-in-out}:host a:hover,:host button:hover{text-decoration-line:none}:host a:focus,:host button:focus{outline:var(--calcite-border-width-md) solid var(--calcite-color-focus, var(--calcite-ui-focus-color, var(--calcite-color-brand)));outline:var(--calcite-border-width-md) solid var(--calcite-internal-color-focus);outline-offset:calc(var(--calcite-spacing-base) * calc(1 - (2*clamp(0,var(--calcite-offset-invert-focus),1))))}:host a span,:host button span{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}:host a calcite-loader,:host button calcite-loader{color:var(--calcite-button-loader-color, var(--calcite-internal-button-loader-color, var(--calcite-button-text-color, var(--calcite-internal-button-text-color))))}:host([round]){--calcite-internal-button-corner-radius: 50px}.content{margin-inline:var(--calcite-internal-button-content-margin)}.icon-start-empty .content{margin-inline-start:unset}.icon-end-empty .content{margin-inline-end:unset}:host([scale=m]) button,:host([scale=m]) a{--calcite-internal-button-content-margin: .75rem}:host([scale=l]) button,:host([scale=l]) a{--calcite-internal-button-content-margin: 1rem}:host([width=auto]){inline-size:auto}:host([width=half]){inline-size:50%}:host([width=full]){inline-size:100%}:host([alignment=center]:not([width=auto])) a,:host([alignment=center]:not([width=auto])) button{justify-content:center}:host([alignment=start]:not([width=auto])) a,:host([alignment=start]:not([width=auto])) button{justify-content:flex-start}:host([alignment=end]:not([width=auto])) a,:host([alignment=end]:not([width=auto])) button{justify-content:flex-end}:host([alignment*=space-between]:not([width=auto])) a,:host([alignment*=space-between]:not([width=auto])) button{justify-content:space-between}:host([alignment=icon-start-space-between]:not([width=auto])) .icon--start{margin-inline-end:auto}:host([alignment=icon-start-space-between]:not([width=auto])) a,:host([alignment=icon-start-space-between]:not([width=auto])) button{text-align:unset}:host([alignment=icon-end-space-between]:not([width=auto])) .icon--end{margin-inline-start:auto}:host([alignment=icon-end-space-between]:not([width=auto])) a,:host([alignment=icon-end-space-between]:not([width=auto])) button{text-align:unset}:host([alignment=center]) a:not(.content--slotted) .icon--start+.icon--end,:host([alignment=center]) button:not(.content--slotted) .icon--start+.icon--end{margin-inline-start:var(--calcite-internal-button-content-margin)}.icon--start,.icon--end{color:var(--calcite-button-icon-color, var(--calcite-icon-color, var(--calcite-ui-icon-color)))}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}.interaction-container{display:contents}@keyframes loader-in{0%{inline-size:0;opacity:0;transform:scale(.5)}to{inline-size:1em;opacity:1;transform:scale(1)}}@keyframes loader-out{0%{inline-size:1em;opacity:1;transform:scale(1)}to{inline-size:0;opacity:0;transform:scale(.5)}}.calcite-button--loader{display:flex}.calcite-button--loader calcite-loader{margin:0}:host([loading]) button.content--slotted .calcite-button--loader calcite-loader,:host([loading]) a.content--slotted .calcite-button--loader calcite-loader{margin-inline-end:var(--calcite-internal-button-content-margin)}:host([loading]) button:not(.content--slotted) .icon--start,:host([loading]) button:not(.content--slotted) .icon--end,:host([loading]) a:not(.content--slotted) .icon--start,:host([loading]) a:not(.content--slotted) .icon--end{display:none}:host([appearance]) button,:host([appearance]) a{--calcite-internal-button-border-color: var(--calcite-color-transparent);border-style:solid;border-width:var(--calcite-button-border-size, 1px)}:host([kind=brand]) button,:host([kind=brand]) a{--calcite-internal-button-text-color: var(--calcite-color-text-inverse);--calcite-internal-button-background-color: var(--calcite-color-brand);--calcite-internal-button-loader-color: var(--calcite-color-text-inverse)}:host([kind=brand]) button:hover,:host([kind=brand]) a:hover{--calcite-internal-button-background-color: var(--calcite-color-brand-hover)}:host([kind=brand]) button:active,:host([kind=brand]) a:active{--calcite-internal-button-background-color: var(--calcite-color-brand-press)}:host([kind=danger]) button,:host([kind=danger]) a{--calcite-internal-button-text-color: var(--calcite-color-text-inverse);--calcite-internal-button-background-color: var(--calcite-color-status-danger);--calcite-internal-button-loader-color: var(--calcite-color-text-inverse)}:host([kind=danger]) button:hover,:host([kind=danger]) a:hover{--calcite-internal-button-background-color: var(--calcite-color-status-danger-hover)}:host([kind=danger]) button:active,:host([kind=danger]) a:active{--calcite-internal-button-background-color: var(--calcite-color-status-danger-press)}:host([kind=neutral]) button,:host([kind=neutral]) a{--calcite-internal-button-text-color: var(--calcite-color-text-1);--calcite-internal-button-background-color: var(--calcite-color-foreground-3);--calcite-internal-button-loader-color: var(--calcite-color-text-1)}:host([kind=neutral]) button:hover,:host([kind=neutral]) a:hover{--calcite-internal-button-background-color: var(--calcite-color-foreground-2)}:host([kind=neutral]) button:active,:host([kind=neutral]) a:active{--calcite-internal-button-background-color: var(--calcite-color-foreground-1)}:host([kind=inverse]) button,:host([kind=inverse]) a{--calcite-internal-button-text-color: var(--calcite-color-text-inverse);--calcite-internal-button-background-color: var(--calcite-color-inverse);--calcite-internal-button-loader-color: var(--calcite-color-text-inverse)}:host([kind=inverse]) button:hover,:host([kind=inverse]) a:hover{--calcite-internal-button-background-color: var(--calcite-color-inverse-hover)}:host([kind=inverse]) button:active,:host([kind=inverse]) a:active{--calcite-internal-button-background-color: var(--calcite-color-inverse-press)}:host([appearance=outline-fill]) button,:host([appearance=outline-fill]) a{--calcite-internal-button-background-color: var(--calcite-color-foreground-1);border-style:solid;border-width:var(--calcite-button-border-size, 1px)}:host([appearance=outline-fill]) button:hover,:host([appearance=outline-fill]) a:hover{--calcite-internal-button-background-color: var(--calcite-color-foreground-2)}:host([appearance=outline-fill]) button:active,:host([appearance=outline-fill]) a:active{--calcite-internal-button-background-color: var(--calcite-color-foreground-3)}:host([appearance=outline-fill][kind=brand]) button,:host([appearance=outline-fill][kind=brand]) a{--calcite-internal-button-border-color: var(--calcite-color-brand);--calcite-internal-button-text-color: var(--calcite-color-brand);--calcite-internal-button-loader-color: var(--calcite-color-brand)}:host([appearance=outline-fill][kind=brand]) button:hover,:host([appearance=outline-fill][kind=brand]) a:hover{--calcite-internal-button-border-color: var(--calcite-color-brand-hover);--calcite-internal-button-text-color: var(--calcite-color-brand-hover)}:host([appearance=outline-fill][kind=brand]) button:focus,:host([appearance=outline-fill][kind=brand]) a:focus{--calcite-internal-button-border-color: var(--calcite-color-brand);--calcite-internal-button-text-color: var(--calcite-color-brand)}:host([appearance=outline-fill][kind=brand]) button:active,:host([appearance=outline-fill][kind=brand]) a:active{--calcite-internal-button-border-color: var(--calcite-color-brand-press);--calcite-internal-button-text-color: var(--calcite-color-brand-press)}:host([appearance=outline-fill][kind=brand]) button calcite-loader,:host([appearance=outline-fill][kind=brand]) a calcite-loader{--calcite-internal-button-loader-color: var(--calcite-color-brand)}:host([appearance=outline-fill][kind=danger]) button,:host([appearance=outline-fill][kind=danger]) a{--calcite-internal-button-border-color: var(--calcite-color-status-danger);--calcite-internal-button-text-color: var(--calcite-color-status-danger);--calcite-internal-button-loader-color: var(--calcite-color-status-danger)}:host([appearance=outline-fill][kind=danger]) button:hover,:host([appearance=outline-fill][kind=danger]) a:hover{--calcite-internal-button-border-color: var(--calcite-color-status-danger-hover);--calcite-internal-button-text-color: var(--calcite-color-status-danger-hover)}:host([appearance=outline-fill][kind=danger]) button:focus,:host([appearance=outline-fill][kind=danger]) a:focus{--calcite-internal-button-border-color: var(--calcite-color-status-danger);--calcite-internal-button-text-color: var(--calcite-color-status-danger)}:host([appearance=outline-fill][kind=danger]) button:active,:host([appearance=outline-fill][kind=danger]) a:active{--calcite-internal-button-border-color: var(--calcite-color-status-danger-press);--calcite-internal-button-text-color: var(--calcite-color-status-danger-press)}:host([appearance=outline-fill][kind=danger]) button calcite-loader,:host([appearance=outline-fill][kind=danger]) a calcite-loader{--calcite-internal-button-loader-color: var(--calcite-color-status-danger)}:host([appearance=outline-fill][kind=neutral]) button,:host([appearance=outline-fill][kind=neutral]) a{--calcite-internal-button-border-color: var(--calcite-color-border-1);--calcite-internal-button-text-color: var(--calcite-color-text-1);--calcite-internal-button-loader-color: var(--calcite-color-text-1)}:host([appearance=outline-fill][kind=neutral]) button:hover,:host([appearance=outline-fill][kind=neutral]) a:hover{--calcite-internal-button-border-color: var(--calcite-color-border-input)}:host([appearance=outline-fill][kind=neutral]) button:focus,:host([appearance=outline-fill][kind=neutral]) a:focus{--calcite-internal-button-border-color: var(--calcite-color-foreground-3)}:host([appearance=outline-fill][kind=neutral]) button:active,:host([appearance=outline-fill][kind=neutral]) a:active{--calcite-internal-button-border-color: var(--calcite-color-text-3)}:host([appearance=solid][kind=neutral]) button:hover,:host([appearance=solid][kind=neutral]) a:hover{--calcite-internal-button-background-color: var(--calcite-color-border-3)}:host([appearance=solid][kind=neutral]) button:active,:host([appearance=solid][kind=neutral]) a:active{--calcite-internal-button-background-color: var(--calcite-color-border-2)}:host([appearance=outline-fill][kind=inverse]) button,:host([appearance=outline-fill][kind=inverse]) a{--calcite-internal-button-text-color: var(--calcite-color-text-1);--calcite-internal-button-border-color: var(--calcite-color-inverse);--calcite-internal-button-loader-color: var(--calcite-color-text-1)}:host([appearance=outline-fill][kind=inverse]) button:hover,:host([appearance=outline-fill][kind=inverse]) a:hover{--calcite-internal-button-border-color: var(--calcite-color-inverse-hover)}:host([appearance=outline-fill][kind=inverse]) button:focus,:host([appearance=outline-fill][kind=inverse]) a:focus{--calcite-internal-button-border-color: var(--calcite-color-inverse)}:host([appearance=outline-fill][kind=inverse]) button:active,:host([appearance=outline-fill][kind=inverse]) a:active{--calcite-internal-button-border-color: var(--calcite-color-inverse-press)}:host([appearance=outline]) button,:host([appearance=outline]) a{--calcite-internal-button-background-color: var(--calcite-color-transparent);border-style:solid;border-width:var(--calcite-button-border-size, 1px)}:host([appearance=outline]) button:hover,:host([appearance=outline]) a:hover{--calcite-internal-button-background-color: var(--calcite-color-transparent-hover)}:host([appearance=outline]) button:active,:host([appearance=outline]) a:active{--calcite-internal-button-background-color: var(--calcite-color-transparent-press)}:host([appearance=outline][kind=brand]) button,:host([appearance=outline][kind=brand]) a{--calcite-internal-button-border-color: var(--calcite-color-brand);--calcite-internal-button-text-color: var(--calcite-color-brand);--calcite-internal-button-loader-color: var(--calcite-color-brand)}:host([appearance=outline][kind=brand]) button:hover,:host([appearance=outline][kind=brand]) a:hover{--calcite-internal-button-border-color: var(--calcite-color-brand-hover);--calcite-internal-button-text-color: var(--calcite-color-brand-hover)}:host([appearance=outline][kind=brand]) button:focus,:host([appearance=outline][kind=brand]) a:focus{--calcite-internal-button-border-color: var(--calcite-color-brand);--calcite-internal-button-text-color: var(--calcite-color-brand)}:host([appearance=outline][kind=brand]) button:active,:host([appearance=outline][kind=brand]) a:active{--calcite-internal-button-border-color: var(--calcite-color-brand-press);--calcite-internal-button-text-color: var(--calcite-color-brand-press)}:host([appearance=outline][kind=brand]) button calcite-loader,:host([appearance=outline][kind=brand]) a calcite-loader{--calcite-internal-button-loader-color: var(--calcite-color-brand)}:host([appearance=outline][kind=danger]) button,:host([appearance=outline][kind=danger]) a{--calcite-internal-button-border-color: var(--calcite-color-status-danger);--calcite-internal-button-text-color: var(--calcite-color-status-danger);--calcite-internal-button-loader-color: var(--calcite-color-status-danger)}:host([appearance=outline][kind=danger]) button:hover,:host([appearance=outline][kind=danger]) a:hover{--calcite-internal-button-border-color: var(--calcite-color-status-danger-hover);--calcite-internal-button-text-color: var(--calcite-color-status-danger-hover)}:host([appearance=outline][kind=danger]) button:focus,:host([appearance=outline][kind=danger]) a:focus{--calcite-internal-button-border-color: var(--calcite-color-status-danger);--calcite-internal-button-text-color: var(--calcite-color-status-danger)}:host([appearance=outline][kind=danger]) button:active,:host([appearance=outline][kind=danger]) a:active{--calcite-internal-button-border-color: var(--calcite-color-status-danger-press);--calcite-internal-button-text-color: var(--calcite-color-status-danger-press)}:host([appearance=outline][kind=danger]) button calcite-loader,:host([appearance=outline][kind=danger]) a calcite-loader{--calcite-internal-button-loader-color: var(--calcite-color-status-danger)}:host([appearance=outline][kind=neutral]) button,:host([appearance=outline][kind=neutral]) a{--calcite-internal-button-text-color: var(--calcite-color-text-1);--calcite-internal-button-border-color: var(--calcite-color-border-1);--calcite-internal-button-loader-color: var(--calcite-color-text-1)}:host([appearance=outline][kind=neutral]) button:hover,:host([appearance=outline][kind=neutral]) a:hover{--calcite-internal-button-border-color: var(--calcite-color-border-input)}:host([appearance=outline][kind=neutral]) button:focus,:host([appearance=outline][kind=neutral]) a:focus{--calcite-internal-button-border-color: var(--calcite-color-foreground-3)}:host([appearance=outline][kind=neutral]) button:active,:host([appearance=outline][kind=neutral]) a:active{--calcite-internal-button-border-color: var(--calcite-color-text-3)}:host([appearance=outline][kind=inverse]) button,:host([appearance=outline][kind=inverse]) a{--calcite-internal-button-text-color: var(--calcite-color-text-1);--calcite-internal-button-border-color: var(--calcite-color-inverse);--calcite-internal-button-loader-color: var(--calcite-color-text-1)}:host([appearance=outline][kind=inverse]) button:hover,:host([appearance=outline][kind=inverse]) a:hover{--calcite-internal-button-border-color: var(--calcite-color-inverse-hover)}:host([appearance=outline][kind=inverse]) button:focus,:host([appearance=outline][kind=inverse]) a:focus{--calcite-internal-button-border-color: var(--calcite-color-inverse)}:host([appearance=outline][kind=inverse]) button:active,:host([appearance=outline][kind=inverse]) a:active{--calcite-internal-button-border-color: var(--calcite-color-inverse-press)}:host([appearance=outline-fill][split-child=primary]) button,:host([appearance=outline][split-child=primary]) button,:host([appearance=outline-fill][split-child=primary]) a,:host([appearance=outline][split-child=primary]) a{border-inline-end-width:0;border-inline-start-width:1px}:host([appearance=outline-fill][split-child=secondary]) button,:host([appearance=outline][split-child=secondary]) button,:host([appearance=outline-fill][split-child=secondary]) a,:host([appearance=outline][split-child=secondary]) a{border-inline-start-width:0;border-inline-end-width:1px}:host([appearance=transparent]) button,:host([appearance=transparent]) a{--calcite-internal-button-background-color: var(--calcite-color-transparent)}:host([appearance=transparent]) button:hover,:host([appearance=transparent]) button:focus,:host([appearance=transparent]) a:hover,:host([appearance=transparent]) a:focus{--calcite-internal-button-background-color: var(--calcite-color-transparent-hover)}:host([appearance=transparent]) button:active,:host([appearance=transparent]) a:active{--calcite-internal-button-background-color: var(--calcite-color-transparent-press)}:host([appearance=transparent]:not(.enable-editing-button)) button,:host([appearance=transparent]:not(.enable-editing-button)) a{background-color:var(--calcite-color-transparent)}:host([appearance=transparent]:not(.enable-editing-button)) button:hover,:host([appearance=transparent]:not(.enable-editing-button)) a:hover{background-color:var(--calcite-color-transparent-hover)}:host([appearance=transparent]:not(.enable-editing-button)) button:active,:host([appearance=transparent]:not(.enable-editing-button)) a:active{background-color:var(--calcite-color-transparent-press)}:host([appearance=transparent][kind=brand]) button,:host([appearance=transparent][kind=brand]) a{--calcite-internal-button-text-color: var(--calcite-color-brand);--calcite-internal-button-loader-color: var(--calcite-color-brand)}:host([appearance=transparent][kind=brand]) button:hover,:host([appearance=transparent][kind=brand]) a:hover{--calcite-internal-button-text-color: var(--calcite-color-brand-hover)}:host([appearance=transparent][kind=brand]) button:focus,:host([appearance=transparent][kind=brand]) a:focus{--calcite-internal-button-text-color: var(--calcite-color-brand)}:host([appearance=transparent][kind=brand]) button:active,:host([appearance=transparent][kind=brand]) a:active{--calcite-internal-button-text-color: var(--calcite-color-brand-press)}:host([appearance=transparent][kind=brand]) button calcite-loader,:host([appearance=transparent][kind=brand]) a calcite-loader{--calcite-internal-button-loader-color: var(--calcite-color-brand)}:host([appearance=transparent][kind=danger]) button,:host([appearance=transparent][kind=danger]) a{--calcite-internal-button-text-color: var(--calcite-color-status-danger);--calcite-internal-button-loader-color: var(--calcite-color-status-danger)}:host([appearance=transparent][kind=danger]) button:hover,:host([appearance=transparent][kind=danger]) a:hover{--calcite-internal-button-text-color: var(--calcite-color-status-danger-hover)}:host([appearance=transparent][kind=danger]) button:focus,:host([appearance=transparent][kind=danger]) a:focus{--calcite-internal-button-text-color: var(--calcite-color-status-danger)}:host([appearance=transparent][kind=danger]) button:active,:host([appearance=transparent][kind=danger]) a:active{--calcite-internal-button-text-color: var(--calcite-color-status-danger-press)}:host([appearance=transparent][kind=danger]) button calcite-loader,:host([appearance=transparent][kind=danger]) a calcite-loader{--calcite-internal-button-loader-color: var(--calcite-color-status-danger)}:host([appearance=transparent][kind=neutral]:not(.cancel-editing-button)) button,:host([appearance=transparent][kind=neutral]:not(.cancel-editing-button)) a,:host([appearance=transparent][kind=neutral]:not(.cancel-editing-button)) calcite-loader{--calcite-internal-button-text-color: var(--calcite-color-text-1)}:host([appearance=transparent][kind=neutral].cancel-editing-button) button{--calcite-internal-button-text-color: var(--calcite-color-text-3)}:host([appearance=transparent][kind=neutral].cancel-editing-button) button:hover{--calcite-internal-button-text-color: var(--calcite-color-text-1);--calcite-internal-button-padding-y: 0}:host(.confirm-changes-button) button:focus,:host(.cancel-editing-button) button:focus,:host(.enable-editing-button) button:focus{outline-offset:-2px}:host([appearance=transparent][kind=inverse]) button:hover,:host([appearance=transparent][kind=inverse]) a:hover{background-color:var(--calcite-color-transparent-inverse-hover)}:host([appearance=transparent][kind=inverse]) button:active,:host([appearance=transparent][kind=inverse]) a:active{background-color:var(--calcite-color-transparent-inverse-press)}:host([appearance=transparent][kind=inverse]) button calcite-loader,:host([appearance=transparent][kind=inverse]) a calcite-loader{--calcite-internal-button-text-color: var(--calcite-color-text-inverse)}:host([scale=s]) button.content--slotted,:host([scale=s]) a.content--slotted{font-size:var(--calcite-font-size--2);line-height:1rem}:host([scale=s][appearance=transparent]) button.content--slotted,:host([scale=s][appearance=transparent]) a.content--slotted{--calcite-internal-button-padding-x: .5rem}:host([scale=s]) button,:host([scale=s]) a{--calcite-internal-button-padding-y: 3px}:host([scale=m]) button.content--slotted,:host([scale=m]) a.content--slotted{--calcite-internal-button-padding-x: 11px;font-size:var(--calcite-font-size--1);line-height:1rem}:host([scale=m]) button,:host([scale=m]) a{--calcite-internal-button-padding-y: 7px}:host([scale=m][appearance=transparent]) button.content--slotted,:host([scale=m][appearance=transparent]) a.content--slotted{--calcite-internal-button-padding-x: .75rem}:host([scale=l]) button.content--slotted,:host([scale=l]) a.content--slotted{--calcite-internal-button-padding-x: 15px;font-size:var(--calcite-font-size-0);line-height:1.25rem}:host([scale=l]) .button-padding{--calcite-internal-button-padding-x: 1rem;--calcite-internal-button-padding-y: 11px}:host([scale=l]) .button-padding--shrunk{--calcite-internal-button-padding-y: 9px}:host([scale=s]) button:not(.content--slotted),:host([scale=s]) a:not(.content--slotted){--calcite-internal-button-padding-x: .125rem;--calcite-internal-button-padding-y: 3px;inline-size:1.5rem;font-size:var(--calcite-font-size-0);line-height:1.25rem;min-block-size:1.5rem}:host([scale=m]) button:not(.content--slotted),:host([scale=m]) a:not(.content--slotted){--calcite-internal-button-padding-x: .125rem;--calcite-internal-button-padding-y: 7px;inline-size:2rem;font-size:var(--calcite-font-size-0);line-height:1.25rem;min-block-size:2rem}:host([scale=l]) button:not(.content--slotted),:host([scale=l]) a:not(.content--slotted){--calcite-internal-button-padding-x: .125rem;--calcite-internal-button-padding-y: 9px;inline-size:2.75rem;font-size:var(--calcite-font-size-0);line-height:1.25rem;min-block-size:2.75rem}:host(:is([scale=s],[scale=m],[scale=l])[width=full]) a:not(.content--slotted),:host(:is([scale=s],[scale=m],[scale=l])[width=full]) button:not(.content--slotted){inline-size:var(--calcite-container-size-content-fluid)}:host([scale=l][appearance=transparent]) button:not(.content--slotted),:host([scale=l][appearance=transparent]) a:not(.content--slotted){--calcite-internal-button-padding-y: .625rem}:host([scale=s][icon-start][icon-end]) button:not(.content--slotted),:host([scale=s][icon-start][icon-end]) a:not(.content--slotted){--calcite-internal-button-padding-x: 23px;block-size:1.5rem;font-size:var(--calcite-font-size-0);line-height:1.25rem}:host([scale=s][icon-start][icon-end][appearance=transparent]) button:not(.content--slotted),:host([scale=s][icon-start][icon-end][appearance=transparent]) a:not(.content--slotted){--calcite-internal-button-padding-x: 1.5rem}:host([scale=m][icon-start][icon-end]) button:not(.content--slotted),:host([scale=m][icon-start][icon-end]) a:not(.content--slotted){--calcite-internal-button-padding-x: 2rem;block-size:2rem;font-size:var(--calcite-font-size-0);line-height:1.25rem}:host([scale=m][icon-start][icon-end][appearance=transparent]) button:not(.content--slotted),:host([scale=m][icon-start][icon-end][appearance=transparent]) a:not(.content--slotted){--calcite-internal-button-padding-x: 33px}:host([scale=l][icon-start][icon-end]) button:not(.content--slotted),:host([scale=l][icon-start][icon-end]) a:not(.content--slotted){--calcite-internal-button-padding-x: 43px;block-size:2.75rem;font-size:var(--calcite-font-size-0);line-height:1.25rem}:host([scale=l][icon-start][icon-end]) button:not(.content--slotted) .icon--start+.icon--end,:host([scale=l][icon-start][icon-end]) a:not(.content--slotted) .icon--start+.icon--end{margin-inline-start:1rem}:host([scale=l][icon-start][icon-end][appearance=transparent]) button:not(.content--slotted),:host([scale=l][icon-start][icon-end][appearance=transparent]) a:not(.content--slotted){--calcite-internal-button-padding-x: 2.75rem}:host([hidden]){display:none}[hidden]{display:none}`,NP=class NP extends wi{constructor(){super(...arguments),this.attributeWatch=gae(["aria-expanded"],this.handleGlobalAttributesChanged),this.contentRef=kr(),this.mutationObserver=zs("mutation",()=>this.updateHasContent()),this.resizeObserver=zs("resize",()=>this.setTooltipText()),this.focusSetter=Ns()(this),this.messages=ds(),this.hasContent=!1,this.alignment="center",this.appearance="solid",this.disabled=!1,this.download=!1,this.kind="brand",this.loading=!1,this.round=!1,this.scale="m",this.splitChild=!1,this.type="button",this.width="auto"}async setFocus(e){return this.focusSetter(()=>this.childEl,e)}connectedCallback(){super.connectedCallback(),this.setupTextContentObserver(),D3(this),this.formEl=c7(this)}async load(){this.updateHasContent()}updated(){wl(this)}loaded(){this.setTooltipText()}disconnectedCallback(){super.disconnectedCallback(),this.mutationObserver?.disconnect(),Gme(this),this.resizeObserver?.disconnect(),this.formEl=null}handleGlobalAttributesChanged(){this.requestUpdate()}updateHasContent(){this.hasContent=bke(this.el)}setupTextContentObserver(){this.mutationObserver?.observe(this.el,{childList:!0,subtree:!0})}onLabelClick(){this.handleClick(),this.setFocus()}handleClick(){const{type:e}=this;this.href||(e==="submit"?l7(this):e==="reset"&&Bme(this))}setTooltipText(){const{contentRef:{value:e}}=this;e&&(this.tooltipText=e.offsetWidth<e.scrollWidth&&this.el.innerText||null)}setChildEl(e){z2(this.resizeObserver,this.childEl,e),this.childEl=e}render(){const e=this.href?"a":"button",i=this.href?Cv`a`:Cv`button`,r=this.loading?de`<div class=${ce(La.buttonLoader)}><calcite-loader class=${ce(this.loading?La.loadingIn:La.loadingOut)} inline .label=${this.messages.loading} .scale=${this.scale==="l"?"m":"s"}></calcite-loader></div>`:null,n=!this.iconStart&&!this.iconEnd,s=de`<calcite-icon class=${ce({[La.icon]:!0,[La.iconStart]:!0})} .flipRtl=${this.iconFlipRtl==="start"||this.iconFlipRtl==="both"} .icon=${this.iconStart} .scale=${Er(this.scale)}></calcite-icon>`,o=de`<calcite-icon class=${ce({[La.icon]:!0,[La.iconEnd]:!0})} .flipRtl=${this.iconFlipRtl==="end"||this.iconFlipRtl==="both"} .icon=${this.iconEnd} .scale=${Er(this.scale)}></calcite-icon>`,a=de`<span class=${ce(La.content)} ${Ut(this.contentRef)}><slot></slot></span>`;return _l({disabled:this.disabled,children:ND`<${i} .ariaBusy=${this.loading} .ariaExpanded=${this.el.ariaExpanded?this.el.ariaExpanded:null} .ariaLabel=${this.loading?this.messages.loading:pV(this)} aria-live=polite class=${ce({[La.buttonPadding]:n,[La.buttonPaddingShrunk]:!n,[La.contentSlotted]:this.hasContent,[La.iconStartEmpty]:!this.iconStart,[La.iconEndEmpty]:!this.iconEnd})} .disabled=${e==="button"?this.disabled:null} download=${(e==="a"?this.download===!0||this.download===""?"":this.download||null:null)??Ye} href=${(e==="a"&&this.href)??Ye} name=${(e==="button"&&this.name)??Ye} @click=${this.handleClick} rel=${(e==="a"&&this.rel)??Ye} tabindex=${(this.disabled?-1:null)??Ye} target=${(e==="a"&&this.target)??Ye} title=${this.tooltipText??Ye} type=${(e==="button"?this.type:null)??Ye} ${Ut(this.setChildEl)}>${r}${this.iconStart?s:null}${this.hasContent?a:null}${this.iconEnd?o:null}</${i}>`})}};NP.properties={hasContent:[16,{},{state:!0}],tooltipText:[16,{},{state:!0}],alignment:[3,{},{reflect:!0}],appearance:[3,{},{reflect:!0}],disabled:[7,{},{reflect:!0,type:Boolean}],download:[3,{converter:B_},{reflect:!0}],form:[3,{},{reflect:!0}],href:[3,{},{reflect:!0}],iconEnd:[3,{},{reflect:!0}],iconFlipRtl:[3,{},{reflect:!0}],iconStart:[3,{},{reflect:!0}],kind:[3,{},{reflect:!0}],label:1,loading:[7,{},{reflect:!0,type:Boolean}],messageOverrides:[0,{},{attribute:!1}],name:[3,{},{reflect:!0}],rel:[3,{},{reflect:!0}],round:[7,{},{reflect:!0,type:Boolean}],scale:[3,{},{reflect:!0}],splitChild:[3,{},{reflect:!0}],target:[3,{},{reflect:!0}],type:[3,{},{reflect:!0}],width:[3,{},{reflect:!0}]},NP.styles=lZe;let JO=NP;Pi("calcite-button",JO);const R3=Object.freeze(Object.defineProperty({__proto__:null,Button:JO},Symbol.toStringTag,{value:"Module"}));const cZe="24px",uZe="32px",dZe="44px";const Pee={chevronRight:"chevron-right",chevronLeft:"chevron-left"},qu={container:"container",containerHasEndTabTitleOverflow:"container--end-overflow",containerHasStartTabTitleOverflow:"container--start-overflow",scrollButton:"scroll-button",scrollButtonContainer:"scroll-button-container",scrollBackwardContainerButton:"scroll-button-container--backward",scrollForwardContainerButton:"scroll-button-container--forward",tabTitleSlotWrapper:"tab-titles-slot-wrapper",scale:t=>`scale-${t}`,position:t=>`position-${t}`},hZe=vi`:host{--calcite-internal-color-focus: var( --calcite-color-focus, var(--calcite-ui-focus-color, var(--calcite-color-brand)) )}:host{--calcite-internal-tab-nav-gradient-start-side: left;--calcite-internal-tab-nav-gradient-end-side: right;position:relative;display:flex}:host([bordered]):not([selected]) .container{background-color:var(--calcite-tab-background-color, var(--calcite-color-foreground-1))}:host([bordered]) calcite-button{--calcite-button-border-color: var(--calcite-tab-border-color, var(--calcite-color-border-1))}.scale-s{--calcite-internal-tab-nav-button-width: 24px;min-block-size:1.5rem}.scale-m{--calcite-internal-tab-nav-button-width: 32px;min-block-size:2rem}.scale-l{--calcite-internal-tab-nav-button-width: 44px;min-block-size:2.75rem}.calcite--rtl{--calcite-internal-tab-nav-gradient-start-side: right;--calcite-internal-tab-nav-gradient-end-side: left}.container--start-overflow .tab-titles-slot-wrapper{mask-image:linear-gradient(to var(--calcite-internal-tab-nav-gradient-end-side),transparent,transparent var(--calcite-internal-tab-nav-button-width),white var(--calcite-internal-tab-nav-button-width),white 51%)}.container--end-overflow .tab-titles-slot-wrapper{mask-image:linear-gradient(to var(--calcite-internal-tab-nav-gradient-start-side),transparent,transparent var(--calcite-internal-tab-nav-button-width),white var(--calcite-internal-tab-nav-button-width),white 51%)}.container--start-overflow.container--end-overflow .tab-titles-slot-wrapper{mask-image:linear-gradient(to var(--calcite-internal-tab-nav-gradient-end-side),transparent,transparent var(--calcite-internal-tab-nav-button-width),white var(--calcite-internal-tab-nav-button-width),white 51%,transparent 51%),linear-gradient(to var(--calcite-internal-tab-nav-gradient-start-side),transparent,transparent var(--calcite-internal-tab-nav-button-width),white var(--calcite-internal-tab-nav-button-width),white 51%,transparent 51%)}.container::-webkit-scrollbar{display:none;-ms-overflow-style:none;scrollbar-width:none}:host([layout=center]) ::slotted(calcite-tab-title){display:flex;flex-grow:1;flex-shrink:0;min-inline-size:auto;white-space:nowrap}:host([layout=center]) ::slotted(calcite-tab-title[selected]){overflow:unset}:host(:not([bordered])) .scale-l{--calcite-internal-tab-nav-gap: var(--calcite-spacing-xxl)}:host(:not([bordered])) .scale-m{--calcite-internal-tab-nav-gap: var(--calcite-spacing-xl)}:host(:not([bordered])) .scale-s{--calcite-internal-tab-nav-gap: var(--calcite-spacing-lg)}:host(:not([bordered])) .tab-titles-slot-wrapper{gap:var(--calcite-internal-tab-nav-gap)}:host([layout=center]:not([bordered])) .tab-titles-slot-wrapper{padding-inline:var(--calcite-spacing-xl)}.container,.tab-titles-slot-wrapper{display:flex;inline-size:100%;justify-content:flex-start;overflow:hidden;white-space:nowrap}.scroll-button-container{position:absolute;inset-block:0px}.scroll-button-container calcite-button{--calcite-button-text-color: var(--calcite-tab-text-color, var(--calcite-color-text-3));--calcite-button-background-color: var(--calcite-color-transparent);--calcite-offset-invert-focus: 1;block-size:var(--calcite-container-size-content-fluid)}.scroll-button-container calcite-button:hover .scroll-button-container calcite-button:focus{--calcite-button-background-color: var(--calcite-color-transparent-hover)}.scroll-button-container calcite-button:active{--calcite-button-background-color: var(--calcite-color-transparent-press)}.scroll-button-container--forward{inset-inline-end:0;z-index:var(--calcite-z-index)}.scroll-button-container--backward{inset-inline-start:0;z-index:var(--calcite-z-index)}:host(:not([bordered])) .scroll-button-container--backward:before,:host(:not([bordered])) .scroll-button-container--forward:before{background-color:var(--calcite-tab-border-color, var(--calcite-color-border-1));opacity:.5;content:"";inline-size:var(--calcite-border-width-sm);inset-block-start:var(--calcite-border-width-md);inset-block-end:var(--calcite-border-width-md);position:absolute}:host(:not([bordered])) .scroll-button-container--backward:before{inset-inline-end:0}:host(:not([bordered])) .scroll-button-container--forward:before{inset-inline-start:0}:host([hidden]){display:none}[hidden]{display:none}`,jP=class jP extends wi{constructor(){super(),this.effectiveDir="ltr",this.lastScrollWheelAxis="x",this.resizeObserver=zs("resize",()=>{this.updateScrollingState()}),this.makeFirstVisibleTabClosable=!1,this.messages=ds(),this.hasOverflowingEndTabTitle=!1,this.hasOverflowingStartTabTitle=!1,this.bordered=!1,this.layout="inline",this.position="bottom",this.scale="m",this.selectedTitle=null,this.calciteInternalTabChange=Ge({cancelable:!1}),this.calciteInternalTabNavSlotChange=Ge(),this.calciteTabChange=Ge({cancelable:!1}),this.listen("calciteInternalTabsFocusPrevious",this.focusPreviousTabHandler),this.listen("calciteInternalTabsFocusNext",this.focusNextTabHandler),this.listen("calciteInternalTabsFocusFirst",this.focusFirstTabHandler),this.listen("calciteInternalTabsFocusLast",this.focusLastTabHandler),this.listen("calciteInternalTabsActivate",this.internalActivateTabHandler),this.listen("calciteInternalTabsClose",this.internalCloseTabHandler),this.listen("calciteInternalTabTitleRegister",this.updateTabTitles),this.listenOn(document.body,"calciteInternalTabChange",this.globalInternalTabChangeHandler)}connectedCallback(){super.connectedCallback(),this.parentTabsEl=this.el.closest("calcite-tabs"),this.resizeObserver?.observe(this.el)}async load(){const e=`calcite-tab-nav-${this.storageId}`;if(localStorage&&this.storageId&&localStorage.getItem(e)){const i=JSON.parse(localStorage.getItem(e));this.selectedTabId=i}}willUpdate(e){e.has("selectedTitle")&&(this.hasUpdated||this.selectedTitle!==null)&&this.calciteInternalTabChange.emit({tab:this.selectedTabId}),e.has("selectedTabId")&&this.selectedTabIdChanged();const{parentTabsEl:i}=this;this.layout=i?.layout,this.bordered=i?.bordered,this.effectiveDir=pl(this.el)}loaded(){this.scrollTabTitleIntoView(this.selectedTitle,"instant"),this.tabTitles.length&&this.tabTitles.every(e=>!e.selected)&&!this.selectedTabId&&this.tabTitles[0].getTabIdentifier().then(e=>{this.calciteInternalTabChange.emit({tab:e})})}disconnectedCallback(){super.disconnectedCallback(),this.resizeObserver?.disconnect()}get enabledTabTitles(){return cZ(this.el,"calcite-tab-title:not([disabled])").filter(e=>!e.closed)}get scrollerButtonWidth(){const{scale:e}=this;return parseInt(e==="s"?cZe:e==="m"?uZe:dZe)}get tabTitles(){return cZ(this.el,"calcite-tab-title")}focusPreviousTabHandler(e){this.handleTabFocus(e,e.target,"previous")}focusNextTabHandler(e){this.handleTabFocus(e,e.target,"next")}focusFirstTabHandler(e){this.handleTabFocus(e,e.target,"first")}focusLastTabHandler(e){this.handleTabFocus(e,e.target,"last")}internalActivateTabHandler(e){const i=e.target,r=this.selectedTitle;this.selectedTabId=e.detail.tab?e.detail.tab:this.getIndexOfTabTitle(i),e.stopPropagation(),this.selectedTitle=i,r?.id!==i.id&&e.detail.userTriggered&&this.calciteTabChange.emit(),this.scrollTabTitleIntoView(i)}scrollTabTitleIntoView(e,i="smooth"){e&&requestAnimationFrame(()=>{const r=this.effectiveDir==="ltr",n=this.tabTitleContainerEl,s=n.getBoundingClientRect(),o=e.getBoundingClientRect(),a=n.scrollLeft,l=r?this.hasOverflowingStartTabTitle:this.hasOverflowingEndTabTitle,h=r?this.hasOverflowingEndTabTitle:this.hasOverflowingStartTabTitle;if(o.left<s.left+(l?this.scrollerButtonWidth:0)){const f=a+(o.left-s.left)-this.scrollerButtonWidth;n.scrollTo({left:f,behavior:i})}else if(o.right>s.right-(h?this.scrollerButtonWidth:0)){const f=a+(o.right-s.right)+this.scrollerButtonWidth;n.scrollTo({left:f,behavior:i})}})}internalCloseTabHandler(e){const i=e.target;this.handleTabTitleClose(i),e.stopPropagation()}async updateTabTitles(e){e.target.selected&&(this.selectedTabId=e.detail,this.selectedTitle=await this.getTabTitleById(this.selectedTabId))}globalInternalTabChangeHandler(e){this.syncId&&e.target!==this.el&&e.target.syncId===this.syncId&&this.selectedTabId!==e.detail.tab&&(this.selectedTabId=e.detail.tab),e.stopPropagation()}async selectedTabIdChanged(){await this.componentOnReady(),localStorage&&this.storageId&&this.selectedTabId!==void 0&&this.selectedTabId!==null&&localStorage.setItem(`calcite-tab-nav-${this.storageId}`,JSON.stringify(this.selectedTabId)),this.calciteInternalTabChange.emit({tab:this.selectedTabId})}onTabTitleWheel(e){e.preventDefault();const{deltaX:i,deltaY:r}=e,n=Math.abs(i),s=Math.abs(r);let o;n===s?o=this.lastScrollWheelAxis==="x"?i:r:n>s?(o=i,this.lastScrollWheelAxis="x"):(o=r,this.lastScrollWheelAxis="y");const a=(this.effectiveDir==="rtl"?-1:1)*o;e.currentTarget.scrollBy(a,0)}onSlotChange(){this.intersectionObserver?.disconnect();const e=this.tabTitles;e.forEach(n=>{this.intersectionObserver?.observe(n)});const i=this.getVisibleTabTitlesIndices(e);i.length>1&&this.makeFirstVisibleTabClosable&&(e[i[0]].closable=!0,this.makeFirstVisibleTabClosable=!1),this.calciteInternalTabNavSlotChange.emit(e)}storeTabTitleWrapperRef(e){e&&(this.tabTitleContainerEl=e,this.intersectionObserver=zs("intersection",()=>this.updateScrollingState(),{root:e,threshold:[0,.5,1]}))}updateScrollingState(){const e=this.tabTitleContainerEl;if(!e)return;let i,r;const n=e.scrollLeft,s=e.clientWidth,o=e.scrollWidth;this.effectiveDir==="ltr"?(i=n>0,r=n+s<o):(i=n<0,r=n!==-(o-s)),this.hasOverflowingStartTabTitle=i,this.hasOverflowingEndTabTitle=r}scrollToTabTitles(e){requestAnimationFrame(()=>{const i=this.tabTitleContainerEl,r=i.getBoundingClientRect(),n=Array.from(this.el.querySelectorAll("calcite-tab-title")),{effectiveDir:s}=this;e==="forward"&&n.reverse();let o=null;if(n.forEach(a=>{const l=a.getBoundingClientRect(),h=r.x+r.width,f=l.x+l.width;e==="forward"&&s==="ltr"||e==="backward"&&s==="rtl"?(l.x>h||f>h&&l.x>r.x)&&(o=a):(f<r.x||f<h&&l.x<r.x)&&(o=a)}),o){const{scrollerButtonWidth:a}=this,l=e==="forward"&&s==="ltr"||e==="backward"&&s==="rtl"?-a:o.offsetWidth-i.clientWidth+a,h=o.offsetLeft+l;i.scrollTo({left:h,behavior:"smooth"})}})}scrollToNextTabTitles(){this.scrollToTabTitles("forward")}scrollToPreviousTabTitles(){this.scrollToTabTitles("backward")}handleTabFocus(e,i,r){const n=$S(this.enabledTabTitles,i,r);this.scrollTabTitleIntoView(n,"instant"),e.stopPropagation()}getIndexOfTabTitle(e,i=this.tabTitles){return i.indexOf(e)}onTabTitleScroll(){this.updateScrollingState()}async getTabTitleById(e){return Promise.all(this.tabTitles.map(i=>i.getTabIdentifier())).then(i=>this.tabTitles[i.indexOf(e)])}getVisibleTabTitlesIndices(e){return e.reduce((i,r,n)=>r.closed?i:[...i,n],[])}handleTabTitleClose(e){const{tabTitles:i}=this,r=e.selected,n=this.getVisibleTabTitlesIndices(i),s=n.length;if(s===1&&i[n[0]].closable)this.makeFirstVisibleTabClosable=!0,i[n[0]].closable=!1,this.selectedTabId=n[0],r&&i[n[0]].activateTab();else if(s>1){const o=i.findIndex(l=>l===e),a=n.find(l=>l>o);this.selectedTabId===o&&(this.selectedTabId=a||s-1,i[this.selectedTabId].activateTab())}requestAnimationFrame(()=>{i[this.selectedTabId].focus()})}render(){return this.el.role="tablist",de`<div class=${ce({[qu.container]:!0,[qu.containerHasStartTabTitleOverflow]:!!this.hasOverflowingStartTabTitle,[qu.containerHasEndTabTitleOverflow]:!!this.hasOverflowingEndTabTitle,[qu.scale(this.scale)]:!0,[qu.position(this.position)]:!0,[sl.rtl]:this.effectiveDir==="rtl"})}>${this.renderScrollButton("start")}<div class=${ce({[qu.tabTitleSlotWrapper]:!0})} @scroll=${this.onTabTitleScroll} @wheel=${this.onTabTitleWheel} ${Ut(this.storeTabTitleWrapperRef)}><slot @slotchange=${this.onSlotChange}></slot></div>${this.renderScrollButton("end")}</div>`}renderScrollButton(e){const{bordered:i,messages:r,hasOverflowingStartTabTitle:n,hasOverflowingEndTabTitle:s,scale:o}=this,a=e==="end";return vt(e,de`<div class=${ce({[qu.scrollButtonContainer]:!0,[qu.scrollBackwardContainerButton]:!a,[qu.scrollForwardContainerButton]:a})} .hidden=${a&&!s||!a&&!n}><calcite-button .appearance=${i?"outline-fill":"transparent"} .ariaLabel=${a?r.nextTabTitles:r.previousTabTitles} class=${ce({[qu.scrollButton]:!0})} icon-flip-rtl=both .iconStart=${a?Pee.chevronRight:Pee.chevronLeft} kind=neutral @click=${a?this.scrollToNextTabTitles:this.scrollToPreviousTabTitles} .scale=${o} tabindex=-1></calcite-button></div>`)}};jP.properties={hasOverflowingEndTabTitle:[16,{},{state:!0}],hasOverflowingStartTabTitle:[16,{},{state:!0}],selectedTabId:[16,{},{state:!0}],bordered:[7,{},{reflect:!0,type:Boolean}],layout:[3,{},{reflect:!0}],messageOverrides:[0,{},{attribute:!1}],position:1,scale:1,selectedTitle:[0,{},{attribute:!1}],storageId:[3,{},{reflect:!0}],syncId:[3,{},{reflect:!0}]},jP.styles=hZe;let fV=jP;Pi("calcite-tab-nav",fV);const Dee={button:"x-button",buttonRound:"x-button--round"},pZe=({disabled:t,focusable:e,key:i,label:r,onClick:n,ref:s,round:o=!0,scale:a,title:l})=>vt(i,de`<button .ariaLabel=${r} class=${ce({[(h=>`x-button--${h}`)(a)]:!0,[Dee.button]:!0,[Dee.buttonRound]:o})} .disabled=${t} @click=${n} .tabIndex=${0} title=${l??Ye} type=button ${Ut(s)}><calcite-icon icon=x .scale=${Er(a)}></calcite-icon></button>`);const Nc={container:"container",containerBottom:"container--bottom",content:"content",contentHasText:"content--has-text",iconEnd:"icon-end",iconPresent:"icon-present",iconStart:"icon-start",titleIcon:"calcite-tab-title--icon",scale:t=>`scale-${t}`,selectedIndicator:"selected-indicator"},fZe="calcite-tab-title",mZe={host:t=>`${fZe}-${t}`},gZe=vi`:host{--calcite-internal-color-focus: var( --calcite-color-focus, var(--calcite-ui-focus-color, var(--calcite-color-brand)) )}:host([disabled]){cursor:default;-webkit-user-select:none;user-select:none;opacity:var(--calcite-opacity-disabled)}:host([disabled]) *,:host([disabled]) ::slotted(*){pointer-events:none}:host{display:block;outline:2px solid transparent;outline-offset:2px;margin-inline-start:0px}:host([layout=inline]){flex:0 1 auto}:host([layout=center]){flex:1 1 auto}.content{position:relative;margin-block-end:.125rem;box-sizing:border-box;display:flex;block-size:100%;align-items:center;justify-content:center}.scale-s .content{padding-block:.25rem;font-size:var(--calcite-font-size--2);line-height:1rem}.scale-s .x-button{inline-size:1.25rem}.scale-m .content{padding-block:.5rem;font-size:var(--calcite-font-size--1);line-height:1rem}.scale-m .x-button{inline-size:1.75rem}.scale-l .content{padding-block:.625rem;font-size:var(--calcite-font-size-0);line-height:1.25rem}.scale-l .x-button{inline-size:2rem}:host([closable]) .content{border-block-end-color:transparent}:host([layout=inline]) .content,:host([layout=center]) .content{padding-inline:.25rem}:host([layout=center]) .scale-s,:host([layout=center]) .scale-m,:host([layout=center]) .scale-l{margin-block:0px;justify-content:center;text-align:center}:host([layout=center]) .scale-s .content,:host([layout=center]) .scale-m .content,:host([layout=center]) .scale-l .content{flex:1 1 auto;flex-grow:1}.container{position:relative;box-sizing:border-box;display:flex;block-size:100%;inline-size:100%;cursor:pointer;align-content:center;justify-content:space-between;padding-inline:0px;font-size:var(--calcite-font-size--1);line-height:1rem;transition-property:background-color,block-size,border-color,box-shadow,color,inset-block-end,inset-block-start,inset-inline-end,inset-inline-start,inset-size,opacity,outline-color,transform;transition-duration:var(--calcite-animation-timing);transition-timing-function:ease-in-out;outline-color:transparent;color:var(--calcite-tab-text-color, var(--calcite-color-text-3));background-color:var(--calcite-tab-background-color, transparent)}.selected-indicator{position:absolute;display:block;block-size:.125rem;transition-property:background-color,block-size,border-color,box-shadow,color,inset-block-end,inset-block-start,inset-inline-end,inset-inline-start,inset-size,opacity,outline-color,transform;transition-duration:var(--calcite-animation-timing);transition-timing-function:ease-in-out;inset-block-end:0;inset-inline-start:0;inset-inline-end:0;inline-size:100%}:host([bordered][selected]) .container:after{position:absolute;display:block;block-size:.125rem;transition-property:background-color,block-size,border-color,box-shadow,color,inset-block-end,inset-block-start,inset-inline-end,inset-inline-start,inset-size,opacity,outline-color,transform;transition-duration:var(--calcite-animation-timing);transition-timing-function:ease-in-out;inset-block-end:-1px;inset-inline-start:0;inset-inline-end:0;inline-size:100%;content:""}:host([bordered][selected]) .container.container--bottom:after{inset-block-start:-1px}:host([bordered][selected]:focus) .container:after{background:transparent}.container--bottom .selected-indicator{inset-block-end:unset;inset-block-start:0}:host(:not([bordered])) .container:hover,:host(:not([bordered])) .container:active{color:var(--calcite-color-text-1)}:host([bordered]:not([selected]):hover:not(:focus)) .selected-indicator{background-color:var(--calcite-color-foreground-2)}:host([bordered]:not([selected]):hover:not(:focus)) .container:not(.container--bottom) .selected-indicator{box-shadow:inset 0 1px var(--calcite-color-border-1)}:host([bordered]:not([selected]):hover:not(:focus)) .container.container--bottom .selected-indicator{box-shadow:inset 0 -1px var(--calcite-color-border-1)}:host([selected]:focus) .selected-indicator{block-size:4px}.calcite-tab-title--icon{position:relative;margin:0;display:inline-flex;align-self:center}.calcite-tab-title--icon svg{transition-property:background-color,block-size,border-color,box-shadow,color,inset-block-end,inset-block-start,inset-inline-end,inset-inline-start,inset-size,opacity,outline-color,transform;transition-duration:var(--calcite-animation-timing);transition-timing-function:ease-in-out}.content--has-text .icon-start,.content--has-text .calcite-tab-title--icon.icon-start{color:var(--calcite-tab-icon-color-start, var(--calcite-icon-color))}.content--has-text .calcite-tab-title--icon.icon-start .icon-end,.content--has-text .calcite-tab-title--icon.icon-end{color:var(--calcite-tab-icon-color-end, var(--calcite-icon-color))}.content--has-text{padding:.25rem}.content--has-text .calcite-tab-title--icon.icon-start{margin-inline-end:var(--calcite-spacing-sm)}.content--has-text .calcite-tab-title--icon.icon-end{margin-inline-start:var(--calcite-spacing-sm)}.x-button{display:flex;block-size:100%;cursor:pointer;appearance:none;align-content:center;align-items:center;justify-content:center;align-self:center;border-style:none;background-color:transparent;transition-property:background-color,block-size,border-color,box-shadow,color,inset-block-end,inset-block-start,inset-inline-end,inset-inline-start,inset-size,opacity,outline-color,transform;transition-duration:var(--calcite-animation-timing);transition-timing-function:ease-in-out;outline-color:transparent;margin-inline-start:var(--calcite-spacing-sm);margin-inline-end:var(--calcite-spacing-px);block-size:calc(100% - var(--calcite-spacing-xxs));color:var(--calcite-tab-close-icon-color, var(--calcite-color-text-3));background-color:var(--calcite-tab-close-icon-background-color, var(--calcite-color-transparent))}.x-button:focus{outline:var(--calcite-border-width-md) solid var(--calcite-color-focus, var(--calcite-ui-focus-color, var(--calcite-color-brand)));outline:var(--calcite-border-width-md) solid var(--calcite-internal-color-focus)}.x-button:focus,.x-button:hover,.x-button:active{color:var(--calcite-tab-close-icon-color-press, var(--calcite-color-text-1));background-color:var(--calcite-tab-close-icon-background-color-press, var(--calcite-color-foreground-3))}:host([bordered]) .container{border-color:transparent;border-inline-width:var(--calcite-spacing-px);border-inline-style:solid}:host([bordered]) .container:hover,:host([bordered]) .container:active{color:var(--calcite-color-text-1)}:host([bordered]) .container .x-button calcite-icon{margin-block-start:var(--calcite-spacing-px)}:host([bordered]) .container .x-button:focus,:host([bordered]) .container .x-button:hover,:host([bordered]) .container .x-button:active{box-shadow:0 2px 0 0 var(--calcite-tab-close-icon-background-color-press, var(--calcite-color-foreground-3))}:host([bordered]) .container.container--bottom{border-block-start-style:solid;border-block-start-width:1px}:host([bordered]) .container.container--bottom .selected-indicator{inset-block-start:unset;inset-block-end:0}:host([bordered]) .container.container--bottom .x-button{box-shadow:0 -2px 0 0 var(--calcite-tab-close-icon-background-color, var(--calcite-color-transparent))}:host([bordered]) .container.container--bottom .x-button:focus,:host([bordered]) .container.container--bottom .x-button:hover,:host([bordered]) .container.container--bottom .x-button:active{box-shadow:0 -2px 0 0 var(--calcite-tab-close-icon-background-color-press, var(--calcite-color-foreground-3))}:host([bordered]) .container.container--bottom .x-button calcite-icon{margin-block-end:var(--calcite-spacing-px)}:host([bordered]) .container:not(.container--bottom){border-block-end-style:solid;border-block-end-width:1px}:host([bordered]) .container:not(.container--bottom) .x-button{block-size:calc(100% - var(--calcite-spacing-px));margin-block-start:-1px}:host([bordered]) .container .selected-indicator{inset-block-start:0;inset-block-end:unset;inset-inline-start:-1px;inset-inline-end:0;inline-size:calc(100% + var(--calcite-spacing-base))}:host([bordered]) .container:host(:not([selected])) .container .x-button{box-shadow:0 2px 0 0 transparent}:host([bordered]) .container:host(:not([selected])):host(:hover) .container:not(.container--bottom){border-block-end-color:var(--calcite-tab-border-color, var(--calcite-color-border-1))}:host([bordered]) .container:host(:not([selected])):host(:hover):host(:not(:focus)) .selected-indicator{box-shadow:inset 0 var(--calcite-internal-tab-shadow-length) var(--calcite-tab-border-color, var(--calcite-color-border-1))}:host([bordered]) .container:host(:not([selected])):host(:hover):host(:not(:focus)) :not(.container--bottom){--calcite-internal-tab-shadow-length: 1px}:host([bordered]) .container:host(:not([selected])):host(:hover):host(:not(:focus)) .container--bottom{--calcite-internal-tab-shadow-length: -1px}:host([bordered]) .container:hover{background-color:var(--calcite-tab-background-color-hover, var(--calcite-color-foreground-2));border-block-end-color:var(--calcite-color-border-1)}:host(:hover) .selected-indicator{background-color:var(--calcite-color-border-3)}:host([selected]) .selected-indicator,:host([selected]:hover) .selected-indicator,:host(:focus) .selected-indicator,:host(:active) .selected-indicator{background-color:var(--calcite-tab-accent-color-press, var(--calcite-color-brand))}:host([closed]){display:none}:host([selected]) .container{border-color:transparent;color:var(--calcite-tab-text-color, var(--calcite-color-text-1))}:host([selected][bordered]) .container{border-inline-color:var(--calcite-tab-border-color, var(--calcite-color-border-1))}:host([selected][bordered]) .container:after{background-color:var(--calcite-tab-background-color, var(--calcite-color-foreground-1))}:host([selected][bordered]) .container:hover,:host([selected][bordered]) .container:active{background:transparent}:host(:focus) .container{outline:var(--calcite-border-width-md) solid var(--calcite-color-focus, var(--calcite-ui-focus-color, var(--calcite-color-brand)));outline:var(--calcite-border-width-md) solid var(--calcite-internal-color-focus);outline-offset:calc(calc(-1 * var(--calcite-spacing-base)) * calc(1 - (2*clamp(0,var(--calcite-offset-invert-focus),1))))}:host(:focus) .container:focus-within{outline-color:transparent}:host([icon-start][icon-end]) .calcite-tab-title--icon:first-child{margin-inline-end:var(--calcite-spacing-sm)}:host([layout=inline][bordered]) .scale-m .content,:host([layout=center][bordered]) .scale-m .content{padding-inline:.75rem}:host([layout=inline][bordered]) .scale-s .content,:host([layout=center][bordered]) .scale-s .content{padding-inline:.5rem}:host([layout=inline][bordered]) .scale-l .content,:host([layout=center][bordered]) .scale-l .content{padding-inline:1rem}:host([layout=inline][closable]) .scale-s .content,:host([layout=inline][closable]) .scale-m .content,:host([layout=inline][closable]) .scale-l .content{padding-inline-end:0}@media (forced-colors: active){:host{outline-width:0;outline-offset:0}:host(:focus) .container{outline-color:highlight}:host([bordered][selected]) .container{border-block-end-style:none}:host([bordered][selected]) .container--bottom{border-block-start-style:none}.x-button{z-index:var(--calcite-z-index)}.selected-indicator{background-color:highlight}}:host([hidden]){display:none}[hidden]{display:none}:host([disabled]) .container{pointer-events:none;opacity:.5}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}.interaction-container{display:contents}`,FP=class FP extends wi{constructor(){super(),this.closeButtonRef=kr(),this.guid=mZe.host(tg()),this.mutationObserver=zs("mutation",()=>this.updateHasText()),this.resizeObserver=zs("resize",()=>{this.calciteInternalTabIconChanged.emit()}),this.messages=ds(),this.hasText=!1,this.bordered=!1,this.closable=!1,this.closed=!1,this.disabled=!1,this.position="top",this.scale="m",this.selected=!1,this.calciteInternalTabIconChanged=Ge({cancelable:!1}),this.calciteInternalTabTitleRegister=Ge({cancelable:!1}),this.calciteInternalTabsActivate=Ge({cancelable:!1}),this.calciteInternalTabsClose=Ge({cancelable:!1}),this.calciteInternalTabsFocusFirst=Ge({cancelable:!1}),this.calciteInternalTabsFocusLast=Ge({cancelable:!1}),this.calciteInternalTabsFocusNext=Ge({cancelable:!1}),this.calciteInternalTabsFocusPrevious=Ge({cancelable:!1}),this.calciteTabsActivate=Ge({cancelable:!1}),this.calciteTabsClose=Ge({cancelable:!1}),this.listenOn(document.body,"calciteInternalTabChange",this.internalTabChangeHandler),this.listen("click",this.onClick),this.listen("keydown",this.keyDownHandler)}async activateTab(e=!0){if(this.disabled||this.closed)return;const i={tab:this.tab,userTriggered:e};this.calciteInternalTabsActivate.emit(i),e&&requestAnimationFrame(()=>this.calciteTabsActivate.emit())}async getTabIdentifier(){return this.tab?this.tab:this.getTabIndex()}async getTabIndex(){return Array.prototype.indexOf.call(Joe(this.el.parentElement.children).filter(e=>e.matches("calcite-tab-title")),this.el)}_updateAriaInfo(e=[],i=[]){this.controls=e[i.indexOf(this.el.id)]||null}connectedCallback(){super.connectedCallback(),this.setupTextContentObserver(),this.parentTabsEl=this.el.closest("calcite-tabs")}async load(){this.updateHasText(),this.tab&&this.selected&&this.activateTab(!1)}willUpdate(e){e.has("selected")&&(this.hasUpdated||this.selected!==!1)&&this.selectedHandler(),this.parentTabsEl&&(this.layout=this.parentTabsEl.layout,this.bordered=this.parentTabsEl.bordered)}updated(){wl(this)}async loaded(){this.calciteInternalTabTitleRegister.emit(await this.getTabIdentifier())}disconnectedCallback(){super.disconnectedCallback(),this.mutationObserver?.disconnect(),document.body?.dispatchEvent(new CustomEvent("calciteTabTitleUnregister",{detail:this.el})),this.resizeObserver?.disconnect()}selectedHandler(){this.selected&&this.activateTab(!1)}internalTabChangeHandler(e){e.composedPath().find(r=>r.tagName==="CALCITE-TABS")===this.parentTabsEl&&(this.tab?this.selected=this.tab===e.detail.tab:this.getTabIndex().then(r=>{this.selected=r===e.detail.tab}),e.stopPropagation())}onClick(){this.activateTab()}keyDownHandler(e){switch(e.key){case" ":case"Enter":e.composedPath().includes(this.closeButtonRef.value)||(this.activateTab(),e.preventDefault());break;case"ArrowRight":e.preventDefault(),pl(this.el)==="ltr"?this.calciteInternalTabsFocusNext.emit():this.calciteInternalTabsFocusPrevious.emit();break;case"ArrowLeft":e.preventDefault(),pl(this.el)==="ltr"?this.calciteInternalTabsFocusPrevious.emit():this.calciteInternalTabsFocusNext.emit();break;case"Home":e.preventDefault(),this.calciteInternalTabsFocusFirst.emit();break;case"End":e.preventDefault(),this.calciteInternalTabsFocusLast.emit();break}}closeClickHandler(){this.closeTabTitleAndNotify()}updateHasText(){this.hasText=this.el.textContent.trim().length>0}setContainerRef(e){z2(this.resizeObserver,this.containerEl,e),this.containerEl=e}setupTextContentObserver(){this.mutationObserver?.observe(this.el,{childList:!0,subtree:!0})}closeTabTitleAndNotify(){this.closed=!0,this.calciteInternalTabsClose.emit({tab:this.tab}),this.calciteTabsClose.emit()}render(){const{el:e,closed:i}=this,r=e.id||this.guid,n=de`<calcite-icon class=${ce({[Nc.titleIcon]:!0,[Nc.iconStart]:!0})} .flipRtl=${this.iconFlipRtl==="start"||this.iconFlipRtl==="both"} .icon=${this.iconStart} .scale=${Er(this.scale)}></calcite-icon>`,s=de`<calcite-icon class=${ce({[Nc.titleIcon]:!0,[Nc.iconEnd]:!0})} .flipRtl=${this.iconFlipRtl==="end"||this.iconFlipRtl==="both"} .icon=${this.iconEnd} .scale=${Er(this.scale)}></calcite-icon>`;return $p(this.el,"aria-controls",this.controls),this.el.ariaSelected=Z$(this.selected),$p(this.el,"id",r),this.el.role="tab",$p(this.el,"tabIndex",this.selected&&!this.disabled?0:-1),_l({disabled:this.disabled,children:de`<div class=${ce({[Nc.container]:!0,[Nc.containerBottom]:this.position==="bottom",[Nc.iconPresent]:!!this.iconStart||!!this.iconEnd,[Nc.scale(this.scale)]:!0})} .hidden=${i} ${Ut(this.setContainerRef)}><div class=${ce({[Nc.content]:!0,[Nc.contentHasText]:this.hasText})}>${this.iconStart?n:null}<slot></slot>${this.iconEnd?s:null}</div>${this.renderCloseButton()}<div class=${ce(Nc.selectedIndicator)}></div></div>`})}renderCloseButton(){const{closable:e,messages:i}=this;return e?vt("close-button",pZe({disabled:!1,focusable:!0,label:i.close,onClick:this.closeClickHandler,ref:this.closeButtonRef,round:!1,scale:this.scale,title:i.close})):null}};FP.properties={controls:[16,{},{state:!0}],hasText:[16,{},{state:!0}],bordered:[7,{},{reflect:!0,type:Boolean}],closable:[7,{},{reflect:!0,type:Boolean}],closed:[7,{},{reflect:!0,type:Boolean}],disabled:[7,{},{reflect:!0,type:Boolean}],iconEnd:[3,{},{reflect:!0}],iconFlipRtl:[3,{},{reflect:!0}],iconStart:[3,{},{reflect:!0}],layout:[3,{},{reflect:!0}],messageOverrides:[0,{},{attribute:!1}],position:1,scale:1,selected:[7,{},{reflect:!0,type:Boolean}],tab:[3,{},{reflect:!0}]},FP.styles=gZe;let mV=FP;Pi("calcite-tab-title",mV);const Yme=["Paid","For Payment Processing","For Legal Pass","For Offer to Buy","For Notice of Taking","With PTE","For Expropriation","Harmonized"],yZe=["#00734d","#0070ff","#ffff00","#ffaa00","#FF5733","#70AD47","#FF0000","#B2B2B2"],vZe=Yme.map((t,e)=>Object.assign({category:t,value:e+1,color:yZe[e]}));async function Ree(t,e){const i=new sa({onStatisticField:"Case when LotID is not null then 1 else 0 end",outStatisticFieldName:"total_lot_number",statisticType:"sum"}),r=new ot;r.outFields=["Municipality","Barangay","StatusLA"];const n=`Municipality = '${t}'`,s=`Barangay = '${e}'`;return t?t&&!e?r.where=n:t&&e&&(r.where=n+" AND "+s):r.where="1=1",r.outStatistics=[i],As.queryFeatures(r).then(a=>a.features[0].attributes.total_lot_number)}async function Lee(t,e){const i=`Municipality = '${t}'`,r=`Barangay = '${e}'`,n="StatusLA IS NOT NULL",s=new sa({onStatisticField:"CASE WHEN LotID IS NOT NULL THEN 1 ELSE 0 END",outStatisticFieldName:"total_lot_number",statisticType:"sum"}),o=new ot;t?t&&!e?o.where=n+" AND "+i:t&&e&&(o.where=n+" AND "+i+" AND "+r):o.where=n,o.outStatistics=[s];const a=As.queryFeatures(o).then(w=>w.features[0].attributes.total_lot_number),l=new sa({onStatisticField:"StatusLA",outStatisticFieldName:"total_lot_status",statisticType:"count"}),h=new ot;h.outFields=["StatusLA"],h.outStatistics=[l],h.orderByFields=["StatusLA"],h.groupByFieldsForStatistics=["StatusLA"],h.where=n;const f=As.queryFeatures(h).then(w=>w.features.map(T=>{const C=T.attributes,I=C.StatusLA,A=C.total_lot_status;return Object.assign({category:Yme[I-1],value:A})})),g=await a,v=await f;return[g,v]}function bZe(t,e){return t.queryExtent().then(i=>{e?.goTo(i.extent,{speedFactor:2}).catch(function(r){r.name!=="AbortError"&&console.error(r)})})}const jc={button:"button",buttonTextVisible:"button--text-visible",buttonCompact:"button--compact",indicatorText:"indicator-text",iconContainer:"icon-container",slotContainer:"slot-container",slotContainerHidden:"slot-container--hidden",textContainer:"text-container",textContainerVisible:"text-container--visible",indicatorWithIcon:"indicator-with-icon",indicatorWithoutIcon:"indicator-without-icon"},zee="calcite-action",wZe={button:t=>`${zee}-${t}-button`,indicator:t=>`${zee}-${t}-indicator`},_Ze={tooltip:"tooltip"},xZe=vi`:host{--calcite-internal-color-focus: var( --calcite-color-focus, var(--calcite-ui-focus-color, var(--calcite-color-brand)) )}:host{box-sizing:border-box;background-color:var(--calcite-color-foreground-1);color:var(--calcite-color-text-2);font-size:var(--calcite-font-size--1)}:host *{box-sizing:border-box}:host([disabled]){cursor:default;-webkit-user-select:none;user-select:none;opacity:var(--calcite-opacity-disabled)}:host([disabled]) *,:host([disabled]) ::slotted(*){pointer-events:none}:host{display:flex;cursor:pointer;background-color:transparent;--calcite-internal-action-text-color: var(--calcite-color-text-3);border-radius:var(--calcite-action-corner-radius, var(--calcite-action-corner-radius-start-start, var(--calcite-corner-radius)) var(--calcite-action-corner-radius-start-end, var(--calcite-corner-radius)) var(--calcite-action-corner-radius-end-end, var(--calcite-corner-radius)) var(--calcite-action-corner-radius-end-start, var(--calcite-corner-radius)))}.interaction-container{border-radius:inherit}:host([width=full]){flex:1 0 auto}:host([width=full]) .button{justify-content:center}:host([width=full]) .button .text-container--visible{flex:none}:host([drag-handle]){cursor:move;--calcite-internal-action-text-color: var(--calcite-color-border-input);--calcite-internal-action-padding-inline: var(--calcite-spacing-xxs)}.button{border-radius:inherit;position:relative;margin:0;display:flex;inline-size:auto;align-items:center;justify-content:flex-start;border-style:none;font-family:var(--calcite-font-family);font-size:var(--calcite-font-size--2);line-height:1rem;font-weight:var(--calcite-font-weight-medium);outline-color:transparent;background-color:var(--calcite-action-background-color, var(--calcite-color-foreground-1));color:var(--calcite-action-text-color, var(--calcite-internal-action-text-color));text-align:unset;flex:1 0 auto;cursor:inherit}.button:hover{background-color:var(--calcite-action-background-color-hover, var(--calcite-color-foreground-2));color:var(--calcite-action-text-color-press, var(--calcite-action-text-color-pressed, var(--calcite-color-text-1)))}.button:focus{outline:var(--calcite-border-width-md) solid var(--calcite-color-focus, var(--calcite-ui-focus-color, var(--calcite-color-brand)));outline:var(--calcite-border-width-md) solid var(--calcite-internal-color-focus);outline-offset:calc(calc(-1 * var(--calcite-spacing-base)) * calc(1 - (2*clamp(0,var(--calcite-offset-invert-focus),1))))}.button:active{background-color:var(--calcite-action-background-color-press, var(--calcite-action-background-color-pressed, var(--calcite-color-foreground-3)))}.icon-container{pointer-events:none;margin:0;display:flex;align-items:center;justify-content:center;min-inline-size:1rem;min-block-size:1.5rem}.text-container{margin:0;inline-size:0px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;line-height:1.5rem;opacity:0;transition-property:opacity;transition-duration:var(--calcite-animation-timing);transition-timing-function:cubic-bezier(.4,0,.2,1);transition-property:inline-size}.text-container--visible{inline-size:auto;flex:1 1 auto;opacity:1}:host([active]) .button{background-color:var(--calcite-action-background-color, var(--calcite-color-foreground-3));color:var(--calcite-action-text-color-press, var(--calcite-action-text-color-pressed, var(--calcite-color-text-1)))}:host([active]) .button:hover{background-color:var(--calcite-action-background-color-hover, var(--calcite-color-foreground-3))}:host([active]) .button:active{background-color:var(--calcite-action-background-color-press, var(--calcite-action-background-color-pressed, var(--calcite-color-foreground-3)))}:host([loading]) .button:hover,:host([loading]) .button:focus{background-color:var(--calcite-action-background-color, var(--calcite-color-foreground-1))}:host([loading]) .text-container{opacity:var(--calcite-opacity-disabled)}:host([loading]) calcite-loader[inline]{margin-inline-end:0px}:host([appearance=transparent]):host([active]) .button{background-color:var(--calcite-color-transparent-press)}:host([appearance=transparent]) .button{background-color:transparent;transition-property:box-shadow;transition-duration:var(--calcite-animation-timing);transition-timing-function:cubic-bezier(.4,0,.2,1)}:host([appearance=transparent]) .button:hover{background-color:var(--calcite-color-transparent-hover)}:host([appearance=transparent]) .button:active{background-color:var(--calcite-color-transparent-press)}:host([active-descendant]) .button{outline:var(--calcite-border-width-md) solid var(--calcite-color-focus, var(--calcite-ui-focus-color, var(--calcite-color-brand)));outline:var(--calcite-border-width-md) solid var(--calcite-internal-color-focus);outline-offset:calc(calc(-1 * var(--calcite-spacing-base)) * calc(1 - (2*clamp(0,var(--calcite-offset-invert-focus),1))))}:host([scale=s]) .button{font-size:var(--calcite-font-size--2);line-height:1rem;font-weight:var(--calcite-font-weight-normal);padding-inline:var(--calcite-internal-action-padding-inline, .5rem);padding-block:var(--calcite-internal-action-padding-block, var(--calcite-spacing-xxs))}:host([scale=s]) .button--text-visible .icon-container{margin-inline-end:.5rem}:host([scale=m]) .button{font-size:var(--calcite-font-size--1);line-height:1rem;font-weight:var(--calcite-font-weight-normal);padding-inline:var(--calcite-internal-action-padding-inline, 1rem);padding-block:var(--calcite-internal-action-padding-block, var(--calcite-spacing-md))}:host([scale=m]) .button--text-visible .icon-container{margin-inline-end:.75rem}:host([scale=l]) .button{font-size:var(--calcite-font-size-0);line-height:1.25rem;font-weight:var(--calcite-font-weight-normal);padding-inline:var(--calcite-internal-action-padding-inline, 1.25rem);padding-block:var(--calcite-internal-action-padding-block, var(--calcite-spacing-xl))}:host([scale=l]) .button--text-visible .icon-container{margin-inline-end:1rem}:host([alignment=center]) .button{justify-content:center}:host([alignment=end]) .button{justify-content:flex-end}:host([alignment=center]) .button .text-container--visible,:host([alignment=end]) .button .text-container--visible{flex:0 1 auto}:host([scale=s][compact]) .button,:host([scale=m][compact]) .button,:host([scale=l][compact]) .button{padding-inline:0px}.slot-container{display:flex}.slot-container--hidden{display:none}.button--text-visible{inline-size:100%}.indicator-with-icon{position:relative}.indicator-with-icon:after{content:"";position:absolute;block-size:.5rem;inline-size:.5rem;border-radius:9999px;inset-block-end:-.275rem;inset-inline-end:-.275rem;background-color:var(--calcite-action-indicator-color, var(--calcite-color-brand))}.indicator-without-icon{margin-inline:.25rem;inline-size:1rem;position:relative}.indicator-without-icon:after{content:"";position:absolute;block-size:.5rem;inline-size:.5rem;border-radius:9999px;inset-block-end:-.275rem;inset-inline-end:-.275rem;background-color:var(--calcite-action-indicator-color, var(--calcite-color-brand))}.indicator-text{position:absolute;inline-size:1px;block-size:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border-width:0}:host([hidden]){display:none}[hidden]{display:none}:host([disabled]) .button,:host([disabled]) .button:hover,:host([disabled]) .button:focus{cursor:default;opacity:var(--calcite-opacity-disabled);background-color:var(--calcite-action-background-color, var(--calcite-action-background-color, var(--calcite-color-foreground-1)))}:host([disabled]):host([active]) .button,:host([disabled]):host([active]) .button:hover,:host([disabled]):host([active]) .button:focus{opacity:var(--calcite-opacity-disabled);background-color:var(--calcite-action-background-color-press, var(--calcite-action-background-color-press, var(--calcite-action-background-color-pressed, var(--calcite-color-foreground-3))))}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}.interaction-container{display:contents}`,VP=class VP extends wi{constructor(){super(...arguments),this.guid=tg(),this.buttonEl=kr(),this.buttonId=wZe.button(this.guid),this.mutationObserver=zs("mutation",()=>this.requestUpdate()),this.messages=ds({blocking:!0}),this.focusSetter=Ns()(this),this.active=!1,this.activeDescendant=!1,this.appearance="solid",this.compact=!1,this.disabled=!1,this.dragHandle=!1,this.iconFlipRtl=!1,this.indicator=!1,this.loading=!1,this.scale="m",this.width="auto",this.textEnabled=!1,this.type="button"}async setFocus(e){return this.focusSetter(()=>this.buttonEl.value,e)}connectedCallback(){super.connectedCallback(),this.formEl=c7(this),this.mutationObserver?.observe(this.el,{childList:!0,subtree:!0})}updated(){wl(this)}disconnectedCallback(){super.disconnectedCallback(),this.formEl=null,this.mutationObserver?.disconnect()}handleClick(){const{type:e}=this;e==="submit"?l7(this):e==="reset"&&Bme(this)}handleTooltipSlotChange(e){const r=e.target.assignedElements({flatten:!0}).filter(n=>n?.matches("calcite-tooltip"))[0];r&&(r.referenceElement=this.buttonEl.value)}storeIndicatorEl(e){this.indicatorEl=e}renderTextContainer(){const{text:e,textEnabled:i}=this,r={[jc.textContainer]:!0,[jc.textContainerVisible]:i};return e?vt("text-container",de`<div class=${ce(r)}>${e}</div>`):null}renderIndicatorText(){const{indicator:e,messages:i,buttonId:r}=this;return de`<div aria-labelledby=${r??oc} aria-live=polite class=${ce(jc.indicatorText)} role=region ${Ut(this.storeIndicatorEl)}>${e?i.indicator:null}</div>`}renderIconContainer(){const{loading:e,icon:i,scale:r,el:n,iconFlipRtl:s,indicator:o}=this,a=r==="l"?"l":"m",l=e?de`<calcite-loader inline .label=${this.messages.loading} .scale=${a}></calcite-loader>`:null,h=i?de`<calcite-icon class=${ce({[jc.indicatorWithIcon]:o})} .flipRtl=${s} .icon=${i} .scale=${Er(this.scale)}></calcite-icon>`:null,f=l||h,g=f||n.children?.length,v=de`<div class=${ce({[jc.slotContainer]:!0,[jc.slotContainerHidden]:e})}><slot></slot></div>`;return g?vt("icon-container",de`<div aria-hidden=true class=${ce(jc.iconContainer)}>${f}${v}</div>`):null}renderButton(){const{compact:e,disabled:i,icon:r,loading:n,textEnabled:s,label:o,text:a,indicator:l,indicatorEl:h,buttonId:f,messages:g}=this,v=o||a||"",w=l?g.indicatorLabel.replace("{label}",v):v,S={[jc.button]:!0,[jc.buttonTextVisible]:s,[jc.buttonCompact]:e},T=de`${this.renderIconContainer()}${this.renderTextContainer()}${!r&&l&&vt("indicator-no-icon",de`<div class=${ce(jc.indicatorWithoutIcon)}></div>`)||""}`,C=l&&h?[h]:[],I=[...this.aria?.controlsElements??[],...C];return this.dragHandle?de`<span .ariaBusy=${n} .ariaControlsElements=${I} .ariaDescribedByElements=${this.aria?.describedByElements} .ariaExpanded=${this.aria?.expanded} .ariaHasPopup=${this.aria?.hasPopup} .ariaLabel=${w} .ariaLabelledByElements=${this.aria?.labelledByElements} .ariaOwnsElements=${this.aria?.ownsElements} .ariaPressed=${this.aria?.pressed} class=${ce(S)} id=${f??oc} role=button tabindex=${this.disabled?null:0} ${Ut(this.buttonEl)}>${T}</span>`:de`<button .ariaBusy=${n} .ariaControlsElements=${I} .ariaDescribedByElements=${this.aria?.describedByElements} .ariaExpanded=${this.aria?.expanded} .ariaHasPopup=${this.aria?.hasPopup} .ariaLabel=${w} .ariaLabelledByElements=${this.aria?.labelledByElements} .ariaOwnsElements=${this.aria?.ownsElements} .ariaPressed=${this.aria?.pressed} class=${ce(S)} .disabled=${i} id=${f??oc} @click=${this.handleClick} ${Ut(this.buttonEl)}>${T}</button>`}render(){return _l({disabled:this.disabled,children:de`${this.renderButton()}<slot name=${_Ze.tooltip} @slotchange=${this.handleTooltipSlotChange}></slot>${this.renderIndicatorText()}`})}};VP.properties={aria:[0,{},{attribute:!1}],active:[7,{},{reflect:!0,type:Boolean}],activeDescendant:[7,{},{reflect:!0,type:Boolean}],alignment:[3,{},{reflect:!0}],appearance:[3,{},{reflect:!0}],compact:[7,{},{reflect:!0,type:Boolean}],disabled:[7,{},{reflect:!0,type:Boolean}],dragHandle:[7,{},{reflect:!0,type:Boolean}],form:[3,{},{reflect:!0}],icon:[3,{},{reflect:!0}],iconFlipRtl:[7,{},{reflect:!0,type:Boolean}],indicator:[7,{},{reflect:!0,type:Boolean}],label:1,loading:[7,{},{reflect:!0,type:Boolean}],messageOverrides:[0,{},{attribute:!1}],scale:[3,{},{reflect:!0}],width:[3,{},{reflect:!0}],text:1,textEnabled:[7,{},{reflect:!0,type:Boolean}],type:[3,{},{reflect:!0}]},VP.styles=xZe;let XO=VP;Pi("calcite-action",XO);const Mft=Object.freeze(Object.defineProperty({__proto__:null,Action:XO},Symbol.toStringTag,{value:"Module"}));function L3(t,e,{signal:i,edges:r}={}){let n,s=null;const o=r!=null&&r.includes("leading"),a=r==null||r.includes("trailing"),l=()=>{s!==null&&(t.apply(n,s),n=void 0,s=null)},h=()=>{a&&l(),w()};let f=null;const g=()=>{f!=null&&clearTimeout(f),f=setTimeout(()=>{f=null,h()},e)},v=()=>{f!==null&&(clearTimeout(f),f=null)},w=()=>{v(),n=void 0,s=null},S=()=>{l()},T=function(...C){if(i?.aborted)return;n=this,s=C;const I=f==null;g(),o&&I&&l()};return T.schedule=g,T.cancel=w,T.flush=S,i?.addEventListener("abort",w,{once:!0}),T}function SZe(t){return t}function TZe(t){return t.replace(/[\\^$.*+?()[\]{}|]/g,"\\$&")}function $Ze(t){return kZe(t)}function uN(t){return t.assignedSlot?t.assignedSlot:t.parentNode instanceof ShadowRoot?t.parentNode.host:t.parentNode}function kZe(t){for(let e=t;e;e=uN(e))if(e instanceof Element&&getComputedStyle(e).display==="none")return null;for(let e=uN(t);e;e=uN(e)){if(!(e instanceof Element))continue;const i=getComputedStyle(e);if(i.display!=="contents"&&(i.position!=="static"||C3(i)||e.tagName==="BODY"))return e}return null}(function(){{const e=rV.getOffsetParent;rV.getOffsetParent=i=>e(i,$Ze)}})();function Nee(t){const e=window.devicePixelRatio||1;return Math.round(t*e)/e}const Zme=(async(t,{referenceEl:e,floatingEl:i,overlayPositioning:r="absolute",placement:n,flipDisabled:s,flipPlacements:o,offsetDistance:a,offsetSkidding:l,arrowEl:h,type:f})=>{if(!e||!i)return;const g=pl(i)==="rtl",{x:v,y:w,placement:S,strategy:T,middlewareData:C}=await dGe(e,i,{strategy:r,placement:n==="auto"||n==="auto-start"||n==="auto-end"?void 0:jee(n,g),middleware:CZe({placement:n,flipDisabled:s,flipPlacements:o?.map(D=>jee(D,g)),offsetDistance:a,offsetSkidding:l,arrowEl:h,type:f})});if(h&&C.arrow){const{x:D,y:L}=C.arrow,B=S.split("-")[0],N=D!=null?"left":"top",Y=OZe[B],K={left:"",top:"",bottom:"",right:""};"floatingLayout"in t&&(t.floatingLayout=B==="left"||B==="right"?"horizontal":"vertical"),Object.assign(h.style,{...K,[N]:`${N=="left"?D:L}px`,[B]:"100%",transform:Y})}const A=C.hide?.referenceHidden?"hidden":null,P=A?"none":null;i.setAttribute(EZe,S),Object.assign(i.style,{pointerEvents:P,position:T,transform:`translate(${Nee(v)}px,${Nee(w)}px)`,visibility:A})}),EZe="data-placement",Jme=["top","bottom","right","left","top-start","top-end","bottom-start","bottom-end","right-start","right-end","left-start","left-end","leading","trailing","leading-start","leading-end","trailing-start","trailing-end"],gV="bottom-start",IZe="bottom-end",KO={animation:"calcite-floating-ui-anim",animationActive:"calcite-floating-ui-anim--active"};function CZe({placement:t,flipDisabled:e,flipPlacements:i,offsetDistance:r,offsetSkidding:n,arrowEl:s,type:o}){const a=[lGe(),cGe()];return o==="menu"&&a.push(see({fallbackPlacements:i||["top-start","top","top-end","bottom-start","bottom","bottom-end"]})),a.push(oGe({mainAxis:typeof r=="number"?r:0,crossAxis:typeof n=="number"?n:0})),t==="auto"||t==="auto-start"||t==="auto-end"?a.push(aGe({alignment:t==="auto-start"?"start":t==="auto-end"?"end":null})):e||a.push(see(i?{fallbackPlacements:i}:{})),s&&a.push(uGe({element:s})),a}function MZe(t){return Jme.includes(t)}function Xme(t,e){const i=t.filter(MZe);return i.length!==t.length&&console.warn(`${e.tagName}: Invalid value found in: flipPlacements. Try any of these: ${Jme.map(r=>`"${r}"`).join(", ").trim()}`,{el:e}),i}function jee(t,e=!1){const i=["left","right"];return e&&i.reverse(),t.replace(/leading/gi,i[0]).replace(/trailing/gi,i[1])}async function Kme(t,e,i=!1){if(!t.open||!e.floatingEl||!e.referenceEl)return;if(Object.assign(e.floatingEl.style,{display:"block",position:e.overlayPositioning??"absolute"}),!c$.get(t))return Qme(t);await(i?AZe(t):Zme)(t,e)}function AZe(t){let e=QO.get(t);return e||(e=L3(Zme,ED.reposition,{edges:["leading","trailing"]}),QO.set(t,e),e)}const OZe={top:"",left:"rotate(-90deg)",bottom:"rotate(180deg)",right:"rotate(90deg)"},c$=new WeakMap,QO=new WeakMap;async function Qme(t){const{referenceEl:e,floatingEl:i}=t;if(!i.isConnected)return;const r=bme;c$.set(t,{state:"pending"});let n;const s=r(e,i,()=>{const o=t.reposition();n||(n=o)});return c$.set(t,{state:"active",cleanUp:s}),n}function d7(t){const{floatingEl:e}=t;e&&Object.assign(e.style,{display:"",pointerEvents:"",position:"",transform:"",visibility:""})}async function yT(t){const{floatingEl:e,referenceEl:i}=t;if(d7(t),!(!e||!i)&&(h7(t),!!t.open))return Qme(t)}function h7(t){const e=c$.get(t);e?.state==="active"&&e.cleanUp(),c$.delete(t),QO.get(t)?.cancel(),QO.delete(t)}const Fee=4,Vee=Math.ceil(Math.hypot(Fee,Fee));const ege=({children:t,...e})=>{const i=e.level?SEe(`h${e.level}`):Cv`div`;return vt(e.key,ND`<${i} class=${ce(e.class)}>${t}</${i}>`)};const Uee={arrow:"calcite-floating-ui-arrow",arrowStroke:"calcite-floating-ui-arrow__stroke"},PZe={width:12,height:6,strokeWidth:1},DZe=({floatingLayout:t,key:e,ref:i})=>{const{width:r,height:n,strokeWidth:s}=PZe,o=r/2,a=t==="vertical",l=`M0,0 H${r} L${r-o},${n} Q${o},${n} ${o},${n} Z`;return vt(e,de`<svg aria-hidden=true class=${ce(Uee.arrow)} height=${r} viewBox=${`0 0 ${r} ${r+(a?0:s)}`} width=${r+(a?s:0)} ${Ut(i)}>${A2`${A2`<path class=${ce(Uee.arrowStroke)} d=${l??Ye} fill=none stroke-width=${s+1} />`||""}<path d=${l??Ye} stroke=none />`}</svg>`)};var tge=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],eP=tge.join(","),ige=typeof Element>"u",Rv=ige?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,tP=!ige&&Element.prototype.getRootNode?function(t){var e;return t==null||(e=t.getRootNode)===null||e===void 0?void 0:e.call(t)}:function(t){return t?.ownerDocument},u$=function(e,i){var r;i===void 0&&(i=!0);var n=e==null||(r=e.getAttribute)===null||r===void 0?void 0:r.call(e,"inert"),s=n===""||n==="true",o=s||i&&e&&u$(e.parentNode);return o},RZe=function(e){var i,r=e==null||(i=e.getAttribute)===null||i===void 0?void 0:i.call(e,"contenteditable");return r===""||r==="true"},rge=function(e,i,r){if(u$(e))return[];var n=Array.prototype.slice.apply(e.querySelectorAll(eP));return i&&Rv.call(e,eP)&&n.unshift(e),n=n.filter(r),n},iP=function(e,i,r){for(var n=[],s=Array.from(e);s.length;){var o=s.shift();if(!u$(o,!1))if(o.tagName==="SLOT"){var a=o.assignedElements(),l=a.length?a:o.children,h=iP(l,!0,r);r.flatten?n.push.apply(n,h):n.push({scopeParent:o,candidates:h})}else{var f=Rv.call(o,eP);f&&r.filter(o)&&(i||!e.includes(o))&&n.push(o);var g=o.shadowRoot||typeof r.getShadowRoot=="function"&&r.getShadowRoot(o),v=!u$(g,!1)&&(!r.shadowRootFilter||r.shadowRootFilter(o));if(g&&v){var w=iP(g===!0?o.children:g.children,!0,r);r.flatten?n.push.apply(n,w):n.push({scopeParent:o,candidates:w})}else s.unshift.apply(s,o.children)}}return n},nge=function(e){return!isNaN(parseInt(e.getAttribute("tabindex"),10))},Ny=function(e){if(!e)throw new Error("No node provided");return e.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(e.tagName)||RZe(e))&&!nge(e)?0:e.tabIndex},LZe=function(e,i){var r=Ny(e);return r<0&&i&&!nge(e)?0:r},zZe=function(e,i){return e.tabIndex===i.tabIndex?e.documentOrder-i.documentOrder:e.tabIndex-i.tabIndex},sge=function(e){return e.tagName==="INPUT"},NZe=function(e){return sge(e)&&e.type==="hidden"},jZe=function(e){var i=e.tagName==="DETAILS"&&Array.prototype.slice.apply(e.children).some(function(r){return r.tagName==="SUMMARY"});return i},FZe=function(e,i){for(var r=0;r<e.length;r++)if(e[r].checked&&e[r].form===i)return e[r]},VZe=function(e){if(!e.name)return!0;var i=e.form||tP(e),r=function(a){return i.querySelectorAll('input[type="radio"][name="'+a+'"]')},n;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")n=r(window.CSS.escape(e.name));else try{n=r(e.name)}catch(o){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",o.message),!1}var s=FZe(n,e.form);return!s||s===e},UZe=function(e){return sge(e)&&e.type==="radio"},BZe=function(e){return UZe(e)&&!VZe(e)},HZe=function(e){var i,r=e&&tP(e),n=(i=r)===null||i===void 0?void 0:i.host,s=!1;if(r&&r!==e){var o,a,l;for(s=!!((o=n)!==null&&o!==void 0&&(a=o.ownerDocument)!==null&&a!==void 0&&a.contains(n)||e!=null&&(l=e.ownerDocument)!==null&&l!==void 0&&l.contains(e));!s&&n;){var h,f,g;r=tP(n),n=(h=r)===null||h===void 0?void 0:h.host,s=!!((f=n)!==null&&f!==void 0&&(g=f.ownerDocument)!==null&&g!==void 0&&g.contains(n))}}return s},Bee=function(e){var i=e.getBoundingClientRect(),r=i.width,n=i.height;return r===0&&n===0},qZe=function(e,i){var r=i.displayCheck,n=i.getShadowRoot;if(r==="full-native"&&"checkVisibility"in e){var s=e.checkVisibility({checkOpacity:!1,opacityProperty:!1,contentVisibilityAuto:!0,visibilityProperty:!0,checkVisibilityCSS:!0});return!s}if(getComputedStyle(e).visibility==="hidden")return!0;var o=Rv.call(e,"details>summary:first-of-type"),a=o?e.parentElement:e;if(Rv.call(a,"details:not([open]) *"))return!0;if(!r||r==="full"||r==="full-native"||r==="legacy-full"){if(typeof n=="function"){for(var l=e;e;){var h=e.parentElement,f=tP(e);if(h&&!h.shadowRoot&&n(h)===!0)return Bee(e);e.assignedSlot?e=e.assignedSlot:!h&&f!==e.ownerDocument?e=f.host:e=h}e=l}if(HZe(e))return!e.getClientRects().length;if(r!=="legacy-full")return!0}else if(r==="non-zero-area")return Bee(e);return!1},GZe=function(e){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(e.tagName))for(var i=e.parentElement;i;){if(i.tagName==="FIELDSET"&&i.disabled){for(var r=0;r<i.children.length;r++){var n=i.children.item(r);if(n.tagName==="LEGEND")return Rv.call(i,"fieldset[disabled] *")?!0:!n.contains(e)}return!0}i=i.parentElement}return!1},rP=function(e,i){return!(i.disabled||u$(i)||NZe(i)||qZe(i,e)||jZe(i)||GZe(i))},yV=function(e,i){return!(BZe(i)||Ny(i)<0||!rP(e,i))},WZe=function(e){var i=parseInt(e.getAttribute("tabindex"),10);return!!(isNaN(i)||i>=0)},oge=function(e){var i=[],r=[];return e.forEach(function(n,s){var o=!!n.scopeParent,a=o?n.scopeParent:n,l=LZe(a,o),h=o?oge(n.candidates):a;l===0?o?i.push.apply(i,h):i.push(a):r.push({documentOrder:s,tabIndex:l,item:n,isScope:o,content:h})}),r.sort(zZe).reduce(function(n,s){return s.isScope?n.push.apply(n,s.content):n.push(s.content),n},[]).concat(i)},YZe=function(e,i){i=i||{};var r;return i.getShadowRoot?r=iP([e],i.includeContainer,{filter:yV.bind(null,i),flatten:!1,getShadowRoot:i.getShadowRoot,shadowRootFilter:WZe}):r=rge(e,i.includeContainer,yV.bind(null,i)),oge(r)},ZZe=function(e,i){i=i||{};var r;return i.getShadowRoot?r=iP([e],i.includeContainer,{filter:rP.bind(null,i),flatten:!0,getShadowRoot:i.getShadowRoot}):r=rge(e,i.includeContainer,rP.bind(null,i)),r},u0=function(e,i){if(i=i||{},!e)throw new Error("No node provided");return Rv.call(e,eP)===!1?!1:yV(i,e)},JZe=tge.concat("iframe").join(","),dN=function(e,i){if(i=i||{},!e)throw new Error("No node provided");return Rv.call(e,JZe)===!1?!1:rP(i,e)};function vV(t,e){(e==null||e>t.length)&&(e=t.length);for(var i=0,r=Array(e);i<e;i++)r[i]=t[i];return r}function XZe(t){if(Array.isArray(t))return vV(t)}function Hee(t,e){var i=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!i){if(Array.isArray(t)||(i=age(t))||e){i&&(t=i);var r=0,n=function(){};return{s:n,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(l){throw l},f:n}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s,o=!0,a=!1;return{s:function(){i=i.call(t)},n:function(){var l=i.next();return o=l.done,l},e:function(l){a=!0,s=l},f:function(){try{o||i.return==null||i.return()}finally{if(a)throw s}}}}function KZe(t,e,i){return(e=rJe(e))in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function QZe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function eJe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qee(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),i.push.apply(i,r)}return i}function Gee(t){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?qee(Object(i),!0).forEach(function(r){KZe(t,r,i[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):qee(Object(i)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(i,r))})}return t}function tJe(t){return XZe(t)||QZe(t)||age(t)||eJe()}function iJe(t,e){if(typeof t!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var r=i.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function rJe(t){var e=iJe(t,"string");return typeof e=="symbol"?e:e+""}function age(t,e){if(t){if(typeof t=="string")return vV(t,e);var i={}.toString.call(t).slice(8,-1);return i==="Object"&&t.constructor&&(i=t.constructor.name),i==="Map"||i==="Set"?Array.from(t):i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?vV(t,e):void 0}}var mp={getActiveTrap:function(e){return e?.length>0?e[e.length-1]:null},activateTrap:function(e,i){var r=mp.getActiveTrap(e);i!==r&&mp.pauseTrap(e);var n=e.indexOf(i);n===-1||e.splice(n,1),e.push(i)},deactivateTrap:function(e,i){var r=e.indexOf(i);r!==-1&&e.splice(r,1),mp.unpauseTrap(e)},pauseTrap:function(e){var i=mp.getActiveTrap(e);i?._setPausedState(!0)},unpauseTrap:function(e){var i=mp.getActiveTrap(e);i&&!i._isManuallyPaused()&&i._setPausedState(!1)}},nJe=function(e){return e.tagName&&e.tagName.toLowerCase()==="input"&&typeof e.select=="function"},sJe=function(e){return e?.key==="Escape"||e?.key==="Esc"||e?.keyCode===27},a2=function(e){return e?.key==="Tab"||e?.keyCode===9},oJe=function(e){return a2(e)&&!e.shiftKey},aJe=function(e){return a2(e)&&e.shiftKey},Wee=function(e){return setTimeout(e,0)},gS=function(e){for(var i=arguments.length,r=new Array(i>1?i-1:0),n=1;n<i;n++)r[n-1]=arguments[n];return typeof e=="function"?e.apply(void 0,r):e},nC=function(e){return e.target.shadowRoot&&typeof e.composedPath=="function"?e.composedPath()[0]:e.target},lJe=[],cJe=function(e,i){var r=i?.document||document,n=i?.trapStack||lJe,s=Gee({returnFocusOnDeactivate:!0,escapeDeactivates:!0,delayInitialFocus:!0,isolateSubtrees:!1,isKeyForward:oJe,isKeyBackward:aJe},i),o={containers:[],containerGroups:[],tabbableGroups:[],adjacentElements:new Set,alreadyInert:new Set,nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1,manuallyPaused:!1,delayInitialFocusTimer:void 0,recentNavEvent:void 0},a,l=function(G,ie,J){return G&&G[ie]!==void 0?G[ie]:s[J||ie]},h=function(G,ie){var J=typeof ie?.composedPath=="function"?ie.composedPath():void 0;return o.containerGroups.findIndex(function(le){var ve=le.container,Me=le.tabbableNodes;return ve.contains(G)||J?.includes(ve)||Me.find(function(Ne){return Ne===G})})},f=function(G){var ie=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},J=ie.hasFallback,le=J===void 0?!1:J,ve=ie.params,Me=ve===void 0?[]:ve,Ne=s[G];if(typeof Ne=="function"&&(Ne=Ne.apply(void 0,tJe(Me))),Ne===!0&&(Ne=void 0),!Ne){if(Ne===void 0||Ne===!1)return Ne;throw new Error("`".concat(G,"` was specified but was not a node, or did not return a node"))}var X=Ne;if(typeof Ne=="string"){try{X=r.querySelector(Ne)}catch(fe){throw new Error("`".concat(G,'` appears to be an invalid selector; error="').concat(fe.message,'"'))}if(!X&&!le)throw new Error("`".concat(G,"` as selector refers to no known node"))}return X},g=function(){var G=f("initialFocus",{hasFallback:!0});if(G===!1)return!1;if(G===void 0||G&&!dN(G,s.tabbableOptions))if(h(r.activeElement)>=0)G=r.activeElement;else{var ie=o.tabbableGroups[0],J=ie&&ie.firstTabbableNode;G=J||f("fallbackFocus")}else G===null&&(G=f("fallbackFocus"));if(!G)throw new Error("Your focus-trap needs to have at least one focusable element");return G},v=function(){if(o.containerGroups=o.containers.map(function(G){var ie=YZe(G,s.tabbableOptions),J=ZZe(G,s.tabbableOptions),le=ie.length>0?ie[0]:void 0,ve=ie.length>0?ie[ie.length-1]:void 0,Me=J.find(function(fe){return u0(fe)}),Ne=J.slice().reverse().find(function(fe){return u0(fe)}),X=!!ie.find(function(fe){return Ny(fe)>0});return{container:G,tabbableNodes:ie,focusableNodes:J,posTabIndexesFound:X,firstTabbableNode:le,lastTabbableNode:ve,firstDomTabbableNode:Me,lastDomTabbableNode:Ne,nextTabbableNode:function(Pe){var Be=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,Je=ie.indexOf(Pe);return Je<0?Be?J.slice(J.indexOf(Pe)+1).find(function(lt){return u0(lt)}):J.slice(0,J.indexOf(Pe)).reverse().find(function(lt){return u0(lt)}):ie[Je+(Be?1:-1)]}}}),o.tabbableGroups=o.containerGroups.filter(function(G){return G.tabbableNodes.length>0}),o.tabbableGroups.length<=0&&!f("fallbackFocus"))throw new Error("Your focus-trap must have at least one container with at least one tabbable node in it at all times");if(o.containerGroups.find(function(G){return G.posTabIndexesFound})&&o.containerGroups.length>1)throw new Error("At least one node with a positive tabindex was found in one of your focus-trap's multiple containers. Positive tabindexes are only supported in single-container focus-traps.")},w=function(G){var ie=G.activeElement;if(ie)return ie.shadowRoot&&ie.shadowRoot.activeElement!==null?w(ie.shadowRoot):ie},S=function(G){if(G!==!1&&G!==w(document)){if(!G||!G.focus){S(g());return}G.focus({preventScroll:!!s.preventScroll}),o.mostRecentlyFocusedNode=G,nJe(G)&&G.select()}},T=function(G){var ie=f("setReturnFocus",{params:[G]});return ie||(ie===!1?!1:G)},C=function(G){var ie=G.target,J=G.event,le=G.isBackward,ve=le===void 0?!1:le;ie=ie||nC(J),v();var Me=null;if(o.tabbableGroups.length>0){var Ne=h(ie,J),X=Ne>=0?o.containerGroups[Ne]:void 0;if(Ne<0)ve?Me=o.tabbableGroups[o.tabbableGroups.length-1].lastTabbableNode:Me=o.tabbableGroups[0].firstTabbableNode;else if(ve){var fe=o.tabbableGroups.findIndex(function(si){var qe=si.firstTabbableNode;return ie===qe});if(fe<0&&(X.container===ie||dN(ie,s.tabbableOptions)&&!u0(ie,s.tabbableOptions)&&!X.nextTabbableNode(ie,!1))&&(fe=Ne),fe>=0){var Pe=fe===0?o.tabbableGroups.length-1:fe-1,Be=o.tabbableGroups[Pe];Me=Ny(ie)>=0?Be.lastTabbableNode:Be.lastDomTabbableNode}else a2(J)||(Me=X.nextTabbableNode(ie,!1))}else{var Je=o.tabbableGroups.findIndex(function(si){var qe=si.lastTabbableNode;return ie===qe});if(Je<0&&(X.container===ie||dN(ie,s.tabbableOptions)&&!u0(ie,s.tabbableOptions)&&!X.nextTabbableNode(ie))&&(Je=Ne),Je>=0){var lt=Je===o.tabbableGroups.length-1?0:Je+1,St=o.tabbableGroups[lt];Me=Ny(ie)>=0?St.firstTabbableNode:St.firstDomTabbableNode}else a2(J)||(Me=X.nextTabbableNode(ie))}}else Me=f("fallbackFocus");return Me},I=function(G){var ie=nC(G);if(!(h(ie,G)>=0)){if(gS(s.clickOutsideDeactivates,G)){a.deactivate({returnFocus:s.returnFocusOnDeactivate});return}gS(s.allowOutsideClick,G)||G.preventDefault()}},A=function(G){var ie=nC(G),J=h(ie,G)>=0;if(J||ie instanceof Document)J&&(o.mostRecentlyFocusedNode=ie);else{G.stopImmediatePropagation();var le,ve=!0;if(o.mostRecentlyFocusedNode)if(Ny(o.mostRecentlyFocusedNode)>0){var Me=h(o.mostRecentlyFocusedNode),Ne=o.containerGroups[Me].tabbableNodes;if(Ne.length>0){var X=Ne.findIndex(function(fe){return fe===o.mostRecentlyFocusedNode});X>=0&&(s.isKeyForward(o.recentNavEvent)?X+1<Ne.length&&(le=Ne[X+1],ve=!1):X-1>=0&&(le=Ne[X-1],ve=!1))}}else o.containerGroups.some(function(fe){return fe.tabbableNodes.some(function(Pe){return Ny(Pe)>0})})||(ve=!1);else ve=!1;ve&&(le=C({target:o.mostRecentlyFocusedNode,isBackward:s.isKeyBackward(o.recentNavEvent)})),S(le||o.mostRecentlyFocusedNode||g())}o.recentNavEvent=void 0},P=function(G){var ie=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;o.recentNavEvent=G;var J=C({event:G,isBackward:ie});J&&(a2(G)&&G.preventDefault(),S(J))},D=function(G){(s.isKeyForward(G)||s.isKeyBackward(G))&&P(G,s.isKeyBackward(G))},L=function(G){sJe(G)&&gS(s.escapeDeactivates,G)!==!1&&(G.preventDefault(),a.deactivate())},B=function(G){var ie=nC(G);h(ie,G)>=0||gS(s.clickOutsideDeactivates,G)||gS(s.allowOutsideClick,G)||(G.preventDefault(),G.stopImmediatePropagation())},N=function(){if(o.active)return mp.activateTrap(n,a),o.delayInitialFocusTimer=s.delayInitialFocus?Wee(function(){S(g())}):S(g()),r.addEventListener("focusin",A,!0),r.addEventListener("mousedown",I,{capture:!0,passive:!1}),r.addEventListener("touchstart",I,{capture:!0,passive:!1}),r.addEventListener("click",B,{capture:!0,passive:!1}),r.addEventListener("keydown",D,{capture:!0,passive:!1}),r.addEventListener("keydown",L),a},Y=function(G){o.active&&!o.paused&&a._setSubtreeIsolation(!1),o.adjacentElements.clear(),o.alreadyInert.clear();var ie=new Set,J=new Set,le=Hee(G),ve;try{for(le.s();!(ve=le.n()).done;){var Me=ve.value;ie.add(Me);for(var Ne=typeof ShadowRoot<"u"&&Me.getRootNode()instanceof ShadowRoot,X=Me;X;){ie.add(X);var fe=X.parentElement,Pe=[];fe?Pe=fe.children:!fe&&Ne&&(Pe=X.getRootNode().children,fe=X.getRootNode().host,Ne=typeof ShadowRoot<"u"&&fe.getRootNode()instanceof ShadowRoot);var Be=Hee(Pe),Je;try{for(Be.s();!(Je=Be.n()).done;){var lt=Je.value;J.add(lt)}}catch(St){Be.e(St)}finally{Be.f()}X=fe}}}catch(St){le.e(St)}finally{le.f()}ie.forEach(function(St){J.delete(St)}),o.adjacentElements=J},K=function(){if(o.active)return r.removeEventListener("focusin",A,!0),r.removeEventListener("mousedown",I,!0),r.removeEventListener("touchstart",I,!0),r.removeEventListener("click",B,!0),r.removeEventListener("keydown",D,!0),r.removeEventListener("keydown",L),a},te=function(G){var ie=G.some(function(J){var le=Array.from(J.removedNodes);return le.some(function(ve){return ve===o.mostRecentlyFocusedNode})});ie&&S(g())},ue=typeof window<"u"&&"MutationObserver"in window?new MutationObserver(te):void 0,ye=function(){ue&&(ue.disconnect(),o.active&&!o.paused&&o.containers.map(function(G){ue.observe(G,{subtree:!0,childList:!0})}))};return a={get active(){return o.active},get paused(){return o.paused},activate:function(G){if(o.active)return this;var ie=l(G,"onActivate"),J=l(G,"onPostActivate"),le=l(G,"checkCanFocusTrap"),ve=mp.getActiveTrap(n),Me=!1;ve&&!ve.paused&&(ve._setSubtreeIsolation(!1),Me=!0);try{le||v(),o.active=!0,o.paused=!1,o.nodeFocusedBeforeActivation=w(r),ie?.();var Ne=function(){le&&v(),N(),ye(),s.isolateSubtrees&&a._setSubtreeIsolation(!0),J?.()};if(le)return le(o.containers.concat()).then(Ne,Ne),this;Ne()}catch(X){throw ve===mp.getActiveTrap(n)&&Me&&ve._setSubtreeIsolation(!0),X}return this},deactivate:function(G){if(!o.active)return this;var ie=Gee({onDeactivate:s.onDeactivate,onPostDeactivate:s.onPostDeactivate,checkCanReturnFocus:s.checkCanReturnFocus},G);clearTimeout(o.delayInitialFocusTimer),o.delayInitialFocusTimer=void 0,o.paused||a._setSubtreeIsolation(!1),o.alreadyInert.clear(),K(),o.active=!1,o.paused=!1,ye(),mp.deactivateTrap(n,a);var J=l(ie,"onDeactivate"),le=l(ie,"onPostDeactivate"),ve=l(ie,"checkCanReturnFocus"),Me=l(ie,"returnFocus","returnFocusOnDeactivate");J?.();var Ne=function(){Wee(function(){Me&&S(T(o.nodeFocusedBeforeActivation)),le?.()})};return Me&&ve?(ve(T(o.nodeFocusedBeforeActivation)).then(Ne,Ne),this):(Ne(),this)},pause:function(G){return o.active?(o.manuallyPaused=!0,this._setPausedState(!0,G)):this},unpause:function(G){return o.active?(o.manuallyPaused=!1,n[n.length-1]!==this?this:this._setPausedState(!1,G)):this},updateContainerElements:function(G){var ie=[].concat(G).filter(Boolean);return o.containers=ie.map(function(J){return typeof J=="string"?r.querySelector(J):J}),s.isolateSubtrees&&Y(o.containers),o.active&&(v(),s.isolateSubtrees&&!o.paused&&a._setSubtreeIsolation(!0)),ye(),this}},Object.defineProperties(a,{_isManuallyPaused:{value:function(){return o.manuallyPaused}},_setPausedState:{value:function(G,ie){if(o.paused===G)return this;if(o.paused=G,G){var J=l(ie,"onPause"),le=l(ie,"onPostPause");J?.(),K(),ye(),a._setSubtreeIsolation(!1),le?.()}else{var ve=l(ie,"onUnpause"),Me=l(ie,"onPostUnpause");ve?.(),a._setSubtreeIsolation(!0),v(),N(),ye(),Me?.()}return this}},_setSubtreeIsolation:{value:function(G){s.isolateSubtrees&&o.adjacentElements.forEach(function(ie){if(G){var J=ie.inert||ie.hasAttribute("inert");J&&o.alreadyInert.add(ie),ie.inert=!0}else o.alreadyInert.has(ie)||(ie.inert=!1)})}}}),a.updateContainerElements(e),a};const aA=new WeakSet;function uJe(t,e){return aA.has(t)||Y_(e),!1}function dJe(t,e){const i=e?.fallbackFocus||t,r=e?.clickOutsideDeactivates??!0;return{fallbackFocus:i,...e,document:t.ownerDocument,tabbableOptions:vU,trapStack:QTe,clickOutsideDeactivates:n=>(aA.has(t)||aA.add(t),typeof r=="function"?r(n):r),onPostDeactivate:()=>{aA.delete(t)},setReturnFocus:n=>{const s=typeof e?.setReturnFocus=="function"?e.setReturnFocus(n):e?.setReturnFocus;return s===void 0?uJe(t,n):s}}}function Yee(t,{focusTrapOptions:e},i){return!e?.extraContainers&&!i?t:[t,...Zee(e?.extraContainers),...Zee(i)]}function Zee(t=[]){return Array.isArray(t)?t:[t]}const hJe=t=>J$((e,i)=>{let r,n,s;const o=t.focusTrapOptions;i.onConnected(()=>{e[t.triggerProp]&&r&&a.activate()}),i.onUpdate(l=>{e.hasUpdated&&l.has("focusTrapDisabled")&&(e.focusTrapDisabled?a.deactivate():a.activate())}),i.onDisconnected(()=>a.deactivate());const a={activate:()=>{const l=n||e.el;if(l.isConnected){if(!r){const h={...o,...e.focusTrapOptions};s||=Yee(l,e),r=cJe(s,dJe(l,h))}(typeof e.focusTrapDisabledOverride=="function"?!e.focusTrapDisabledOverride():!e.focusTrapDisabled)&&r.activate()}},deactivate:()=>r?.deactivate(),overrideFocusTrapEl:l=>{if(r)throw new Error("Focus trap already created");n=l},setExtraContainers:l=>{const h=n||e.el;s=Yee(h,e,l)},updateContainerElements:()=>r?.updateContainerElements(s)};return a});const pJe=5;function fJe({startX:t,startY:e,endX:i,endY:r}){return Math.hypot(i-t,r-e)>pJe}class mJe{constructor(){this.registeredElements=new Map,this.registeredElementCount=0,this.queryPopover=e=>{const{registeredElements:i}=this,r=e.find(n=>i.has(n));return i.get(r)},this.togglePopovers=e=>{const i=e.composedPath(),r=this.queryPopover(i);r&&!r.triggerDisabled&&(r.open=!r.open),Array.from(this.registeredElements.values()).filter(n=>n!==r&&n.autoClose&&n.open&&!i.includes(n)).forEach(n=>n.open=!1)},this.keyDownHandler=e=>{e.defaultPrevented||(e.key==="Escape"?this.closeAllPopovers():LD(e.key)&&this.togglePopovers(e))},this.pointerDownHandler=e=>{if(e.defaultPrevented||!eae(e))return;const{clientX:i,clientY:r}=e;this.pointerDownPosition={x:i,y:r}},this.clickHandler=e=>{xke(e)||e.defaultPrevented||this.pointerDownPosition&&fJe({endY:e.clientY,endX:e.clientX,startY:this.pointerDownPosition.y,startX:this.pointerDownPosition.x})||(this.pointerDownPosition=void 0,this.togglePopovers(e))}}registerElement(e,i){this.registeredElementCount++,this.registeredElements.set(e,i),this.registeredElementCount===1&&this.addListeners()}unregisterElement(e){this.registeredElements.delete(e)&&this.registeredElementCount--,this.registeredElementCount===0&&this.removeListeners()}closeAllPopovers(){Array.from(this.registeredElements.values()).forEach(e=>e.open=!1)}addListeners(){window.addEventListener("pointerdown",this.pointerDownHandler),window.addEventListener("click",this.clickHandler),window.addEventListener("keydown",this.keyDownHandler)}removeListeners(){window.removeEventListener("pointerdown",this.pointerDownHandler),window.removeEventListener("click",this.clickHandler),window.removeEventListener("keydown",this.keyDownHandler)}}const Fc={positionContainer:"position-container",container:"container",closeButtonContainer:"close-button-container",closeButton:"close-button",content:"content",hasHeader:"has-header",header:"header",headerContainer:"header-container",heading:"heading"},Jee="auto",Xee="aria-controls",Kee="aria-expanded",gJe=vi`:host{--calcite-internal-color-focus: var( --calcite-color-focus, var(--calcite-ui-focus-color, var(--calcite-color-brand)) )}:host{display:contents;--calcite-floating-ui-z-index: var(--calcite-popover-z-index, var(--calcite-z-index-popup))}.position-container{inline-size:max-content;display:none;max-inline-size:100vw;max-block-size:100vh;inset-block-start:0;left:0;z-index:var(--calcite-floating-ui-z-index)}@starting-style{.position-container{opacity:0;inset-block-start:0;left:0}}.position-container{max-inline-size:var(--calcite-popover-max-size-x, 100vw)}.position-container .calcite-floating-ui-anim{position:relative;transition-duration:var(--calcite-floating-ui-transition);transition-property:inset-block-start,left,opacity,display;transition-behavior:allow-discrete;opacity:0;box-shadow:0 0 16px #00000029;z-index:var(--calcite-z-index);border-radius:.25rem}.position-container[data-placement^=bottom] .calcite-floating-ui-anim{inset-block-start:-5px}.position-container[data-placement^=top] .calcite-floating-ui-anim{inset-block-start:5px}.position-container[data-placement^=left] .calcite-floating-ui-anim{left:5px}.position-container[data-placement^=right] .calcite-floating-ui-anim{left:-5px}.position-container[data-placement] .calcite-floating-ui-anim--active{opacity:1;inset-block-start:0;left:0}@starting-style{.position-container[data-placement] .calcite-floating-ui-anim--active{opacity:0}}.calcite-floating-ui-arrow{pointer-events:none;position:absolute;z-index:calc(var(--calcite-z-index) * -1);fill:var(--calcite-color-foreground-1)}.calcite-floating-ui-arrow__stroke{stroke:var(--calcite-color-border-3)}:host([scale=s]) .heading{padding:.5rem .75rem;font-size:var(--calcite-font-size--1);line-height:1.375}:host([scale=m]) .heading{padding:.75rem 1rem;font-size:var(--calcite-font-size-0);line-height:1.375}:host([scale=l]) .heading{padding:1rem 1.25rem;font-size:var(--calcite-font-size-1);line-height:1.375}.position-container .calcite-floating-ui-anim{border-width:1px;border-style:solid;background-color:var(--calcite-popover-background-color, var(--calcite-color-foreground-1));border-color:var(--calcite-popover-border-color, var(--calcite-color-border-3));border-radius:var(--calcite-popover-corner-radius, var(--calcite-corner-radius-round))}.calcite-floating-ui-arrow{fill:var(--calcite-popover-background-color, var(--calcite-color-foreground-1))}.calcite-floating-ui-arrow__stroke{stroke:var(--calcite-popover-border-color, var(--calcite-color-border-3))}.header{display:flex;flex:1 1 auto;align-items:stretch;justify-content:flex-start;border-width:0px;border-bottom-width:1px;border-style:solid;border-block-end-color:var(--calcite-popover-border-color, var(--calcite-color-border-3))}.heading{margin:0;display:block;flex:1 1 auto;align-self:center;white-space:normal;font-weight:var(--calcite-font-weight-medium);word-wrap:break-word;word-break:break-word;color:var(--calcite-popover-text-color, var(--calcite-color-text-1))}.header-container{position:relative;display:flex;height:100%;flex-direction:row;flex-wrap:nowrap;border-radius:.25rem;color:var(--calcite-popover-text-color, var(--calcite-color-text-1))}.header-container.has-header{flex-direction:column}.content{display:flex;height:100%;width:100%;flex-direction:column;flex-wrap:nowrap;align-self:center;word-wrap:break-word;word-break:break-word}.close-button-container{display:flex;overflow:hidden;flex:0 0 auto;border-start-end-radius:var(--calcite-popover-corner-radius, var(--calcite-corner-radius-round));border-end-end-radius:var(--calcite-popover-corner-radius, var(--calcite-corner-radius-round));--calcite-action-corner-radius-start-end: var(--calcite-popover-corner-radius, var(--calcite-corner-radius-sharp));--calcite-action-corner-radius-end-end: var(--calcite-popover-corner-radius, var(--calcite-corner-radius-sharp))}::slotted(calcite-panel),::slotted(calcite-flow){height:100%}:host([hidden]){display:none}[hidden]{display:none}`,Qee=new mJe,UP=class UP extends wi{constructor(){super(...arguments),this.focusTrap=hJe({triggerProp:"open",focusTrapOptions:{allowOutsideClick:!0,escapeDeactivates:e=>(e.defaultPrevented||(this.open=!1,e.preventDefault()),!1)}})(this),this.guid=`calcite-popover-${tg()}`,this.hasLoaded=!1,this.mutationObserver=zs("mutation",()=>this.focusTrap.updateContainerElements()),this.transitionProp="opacity",this.messages=ds(),this.focusSetter=Ns()(this),this.floatingLayout="vertical",this.autoClose=!1,this.closable=!1,this.flipDisabled=!1,this.focusTrapDisabled=!1,this.offsetDistance=Vee,this.offsetSkidding=0,this.open=!1,this.overlayPositioning="absolute",this.placement=Jee,this.pointerDisabled=!1,this.scale="m",this.triggerDisabled=!1,this.calcitePopoverBeforeClose=Ge({cancelable:!1}),this.calcitePopoverBeforeOpen=Ge({cancelable:!1}),this.calcitePopoverClose=Ge({cancelable:!1}),this.calcitePopoverOpen=Ge({cancelable:!1})}async reposition(e=!1){const{referenceEl:i,placement:r,overlayPositioning:n,flipDisabled:s,filteredFlipPlacements:o,offsetDistance:a,offsetSkidding:l,arrowEl:h,floatingEl:f}=this;return Kme(this,{floatingEl:f,referenceEl:i,overlayPositioning:n,placement:r,flipDisabled:s,flipPlacements:o,offsetDistance:a,offsetSkidding:l,arrowEl:h,type:"popover"},e)}async setFocus(e){return this.focusSetter(()=>this.el,e)}async updateFocusTrapElements(){this.focusTrap.updateContainerElements()}connectedCallback(){super.connectedCallback(),this.mutationObserver?.observe(this.el,{childList:!0,subtree:!0}),this.setFilteredPlacements(),requestAnimationFrame(()=>this.setUpReferenceElement(this.hasLoaded))}willUpdate(e){e.has("flipPlacements")&&this.flipPlacementsHandler(),e.has("open")&&(this.hasUpdated||this.open!==!1)&&this.openHandler(),(e.has("offsetDistance")&&(this.hasUpdated||this.offsetDistance!==Vee)||e.has("offsetSkidding")&&(this.hasUpdated||this.offsetSkidding!==0)||e.has("overlayPositioning")&&(this.hasUpdated||this.overlayPositioning!=="absolute")||e.has("placement")&&(this.hasUpdated||this.placement!==Jee))&&this.reposition(!0),e.has("referenceElement")&&this.referenceElementHandler()}loaded(){this.referenceElement&&!this.referenceEl&&this.setUpReferenceElement(),this.hasLoaded=!0}disconnectedCallback(){super.disconnectedCallback(),this.mutationObserver?.disconnect(),this.removeReferences(),h7(this)}flipPlacementsHandler(){this.setFilteredPlacements(),this.reposition(!0)}openHandler(){bU(this),this.reposition(!0),this.setExpandedAttr()}referenceElementHandler(){this.setUpReferenceElement(),this.reposition(!0)}setFloatingEl(e){this.floatingEl=e,e&&requestAnimationFrame(()=>this.setUpReferenceElement())}setTransitionEl(e){e&&(this.transitionEl=e)}setFilteredPlacements(){const{el:e,flipPlacements:i}=this;this.filteredFlipPlacements=i?Xme(i,e):null}setUpReferenceElement(e=!0){this.removeReferences(),this.referenceEl=this.getReferenceElement(),yT(this);const{el:i,referenceElement:r,referenceEl:n}=this;e&&r&&!n&&console.warn(`${i.tagName}: reference-element id "${r}" was not found.`,{el:i}),this.addReferences()}getId(){return this.el.id||this.guid}setExpandedAttr(){const{referenceEl:e,open:i}=this;e&&"setAttribute"in e&&e.setAttribute(Kee,Z$(i))}addReferences(){const{referenceEl:e}=this;if(!e)return;const i=this.getId();"setAttribute"in e&&e.setAttribute(Xee,i),Qee.registerElement(e,this.el),this.setExpandedAttr()}removeReferences(){const{referenceEl:e}=this;e&&("removeAttribute"in e&&(e.removeAttribute(Xee),e.removeAttribute(Kee)),Qee.unregisterElement(e))}getReferenceElement(){const{referenceElement:e,el:i}=this;return(typeof e=="string"?RD(i,{id:e}):e)||null}hide(){this.open=!1}onBeforeOpen(){this.calcitePopoverBeforeOpen.emit()}onOpen(){this.calcitePopoverOpen.emit(),this.focusTrap.activate()}onBeforeClose(){this.calcitePopoverBeforeClose.emit()}onClose(){this.calcitePopoverClose.emit(),d7(this),this.focusTrap.deactivate()}storeArrowEl(e){this.arrowEl=e,this.reposition(!0)}renderCloseButton(){const{messages:e,closable:i}=this;return i?vt(Fc.closeButtonContainer,de`<div class=${ce(Fc.closeButtonContainer)}><calcite-action appearance=transparent class=${ce(Fc.closeButton)} @click=${this.hide} .scale=${this.scale} .text=${e.close}><calcite-icon icon=x .scale=${Er(this.scale)}></calcite-icon></calcite-action></div>`):null}renderHeader(){const{heading:e,headingLevel:i}=this,r=e?ege({class:Fc.heading,level:i,children:e}):null;return r?vt(Fc.header,de`<div class=${ce(Fc.header)}>${r}${this.renderCloseButton()}</div>`):null}render(){const{referenceEl:e,heading:i,label:r,open:n,pointerDisabled:s,floatingLayout:o}=this,a=e&&n,l=!a,h=s?null:vt("floating-arrow",DZe({floatingLayout:o,ref:this.storeArrowEl}));return this.el.inert=l,this.el.ariaLabel=r,this.el.ariaLive="polite",$p(this.el,"id",this.getId()),this.el.role="dialog",de`<div class=${ce(Fc.positionContainer)} ${Ut(this.setFloatingEl)}><div class=${ce({[Fc.container]:!0,[KO.animation]:!0,[KO.animationActive]:a})} ${Ut(this.setTransitionEl)}>${h}<div class=${ce({[Fc.hasHeader]:!!i,[Fc.headerContainer]:!0})}>${this.renderHeader()}<div class=${ce(Fc.content)}><slot></slot></div>${i?null:this.renderCloseButton()}</div></div></div>`}};UP.properties={floatingLayout:[16,{},{state:!0}],referenceEl:[16,{},{state:!0}],autoClose:[7,{},{reflect:!0,type:Boolean}],closable:[7,{},{reflect:!0,type:Boolean}],flipDisabled:[7,{},{reflect:!0,type:Boolean}],flipPlacements:[0,{},{attribute:!1}],focusTrapDisabled:[7,{},{reflect:!0,type:Boolean}],focusTrapOptions:[0,{},{attribute:!1}],heading:1,headingLevel:[11,{},{type:Number,reflect:!0}],label:1,messageOverrides:[0,{},{attribute:!1}],offsetDistance:[11,{},{type:Number,reflect:!0}],offsetSkidding:[11,{},{reflect:!0,type:Number}],open:[7,{},{reflect:!0,type:Boolean}],overlayPositioning:[3,{},{reflect:!0}],placement:[3,{},{reflect:!0}],pointerDisabled:[7,{},{reflect:!0,type:Boolean}],referenceElement:1,scale:[3,{},{reflect:!0}],triggerDisabled:[7,{},{reflect:!0,type:Boolean}]},UP.styles=gJe;let bV=UP;Pi("calcite-popover",bV);function ete(t,e){return(t+e)%e}const tte={menu:"menu",defaultTrigger:"default-trigger"},hN="calcite-action-menu",pN={button:t=>`${hN}-${t}-menu-button`,menu:t=>`${hN}-${t}-menu`,action:(t,e)=>`${hN}-${t}-action-${e}`},h1={tooltip:"tooltip",trigger:"trigger"},yJe={menu:"ellipsis"};const vJe=vi`:host{--calcite-internal-color-focus: var( --calcite-color-focus, var(--calcite-ui-focus-color, var(--calcite-color-brand)) )}:host{box-sizing:border-box;display:flex;flex-direction:column;font-size:var(--calcite-font-size-1)}::slotted(calcite-action-group:not(:last-of-type)){border-block-end-width:var(--calcite-border-width-sm)}.default-trigger{position:relative;block-size:100%;flex:0 1 auto;align-self:stretch}slot[name=trigger]::slotted(calcite-action),calcite-action::slotted([slot=trigger]){position:relative;block-size:100%;flex:0 1 auto;align-self:stretch}.menu{display:flex;max-block-size:45vh;flex-direction:column;flex-wrap:nowrap;overflow-y:auto;overflow-x:hidden;outline:2px solid transparent;outline-offset:2px;gap:var(--calcite-action-menu-items-space, 0)}:host([hidden]){display:none}[hidden]{display:none}`,bJe=["ArrowUp","ArrowDown","End","Home"],BP=class BP extends wi{constructor(){super(...arguments),this.guid=tg(),this.actionElements=[],this.menuButtonClick=()=>{this.toggleOpen()},this.menuButtonId=pN.button(this.guid),this.menuButtonKeyDown=e=>{const{key:i}=e,{actionElements:r,activeMenuItemIndex:n,open:s}=this;if(r.length){if(LD(i)){if(e.preventDefault(),!s){this.toggleOpen();return}const o=r[n];o?o.click():this.toggleOpen(!1)}if(i==="Tab"){this.open=!1;return}if(i==="Escape"){this.toggleOpen(!1),e.preventDefault();return}this.handleActionNavigation(e,i,r)}},this.menuId=pN.menu(this.guid),this._open=!1,this.updateAction=(e,i)=>{const{guid:r,activeMenuItemIndex:n}=this,s=pN.action(r,i);e.tabIndex=-1,e.setAttribute("role","menuitem"),e.id||(e.id=s),e.activeDescendant=i===n},this.focusSetter=Ns()(this),this.activeMenuItemIndex=-1,this.appearance="solid",this.expanded=!1,this.overlayPositioning="absolute",this.placement="auto",this.scale="m",this.calciteActionMenuCollapse=Ge({cancelable:!1}),this.calciteActionMenuExpand=Ge({cancelable:!1}),this.calciteActionMenuOpen=Ge({cancelable:!1})}get open(){return this._open}set open(e){const i=this._open;e!==i&&(this._open=e,this.openHandler(e))}async setFocus(e){return this.focusSetter(()=>this.menuButtonEl,e)}connectedCallback(){super.connectedCallback(),this.connectMenuButtonEl()}willUpdate(e){e.has("expanded")&&(this.hasUpdated||this.expanded!==!1)&&this.expandedHandler(),e.has("activeMenuItemIndex")&&(this.hasUpdated||this.activeMenuItemIndex!==-1)&&this.updateActions(this.actionElements),e.has("expanded")&&this.hasUpdated&&(this.expanded?this.calciteActionMenuExpand.emit():this.calciteActionMenuCollapse.emit())}disconnectedCallback(){super.disconnectedCallback(),this.disconnectMenuButtonEl()}expandedHandler(){this.open=!1,this.setTooltipReferenceElement()}openHandler(e){this.menuButtonEl&&(this.menuButtonEl.active=e,this.menuButtonEl.aria={expanded:e}),this.popoverEl&&(this.popoverEl.open=e),this.activeMenuItemIndex=this.open?0:-1,this.calciteActionMenuOpen.emit(),this.setTooltipReferenceElement()}connectMenuButtonEl(){const{menuButtonId:e,menuId:i,open:r,label:n}=this,s=this.slottedMenuButtonEl||this.defaultMenuButtonEl;this.menuButtonEl!==s&&(this.disconnectMenuButtonEl(),this.menuButtonEl=s,this.setTooltipReferenceElement(),s&&(s.active=r,s.setAttribute("aria-controls",i),s.setAttribute("aria-expanded",Z$(r)),s.setAttribute("aria-haspopup","true"),s.id||(s.id=e),s.label||(s.label=n),s.text||(s.text=n),s.addEventListener("click",this.menuButtonClick),s.addEventListener("keydown",this.menuButtonKeyDown)))}disconnectMenuButtonEl(){const{menuButtonEl:e}=this;e&&(e.removeEventListener("click",this.menuButtonClick),e.removeEventListener("keydown",this.menuButtonKeyDown),this.menuButtonEl=null)}setMenuButtonEl(e){const i=e.target.assignedElements({flatten:!0}).filter(r=>r?.matches("calcite-action"));this.slottedMenuButtonEl=i[0],this.connectMenuButtonEl()}setDefaultMenuButtonEl(e){this.defaultMenuButtonEl=e,this.connectMenuButtonEl()}setPopoverEl(e){e&&(this.popoverEl=e,e.open=this.open)}handleCalciteActionClick(){this.open=!1,this.setFocus()}updateTooltip(e){const i=e.target.assignedElements({flatten:!0}).filter(r=>r?.matches("calcite-tooltip"));this.tooltipEl=i[0],this.setTooltipReferenceElement()}setTooltipReferenceElement(){const{tooltipEl:e,expanded:i,menuButtonEl:r,open:n}=this;e&&(e.referenceElement=!i&&!n?r:null)}updateActions(e){e?.forEach(this.updateAction)}async handleDefaultSlotChange(e){const i=e.target.assignedElements({flatten:!0}).reduce((r,n)=>n?.matches("calcite-action")?(r.push(n),r):n?.matches("calcite-action-group")?r.concat(Array.from(n.querySelectorAll("calcite-action"))):r,[]);await this.componentOnReady(),this.actionElements=i.filter(r=>!r.disabled&&!r.hidden)}isValidKey(e,i){return!!i.find(r=>r===e)}handleActionNavigation(e,i,r){if(!this.isValidKey(i,bJe))return;if(e.preventDefault(),!this.open){this.toggleOpen(),(i==="Home"||i==="ArrowDown")&&(this.activeMenuItemIndex=0),(i==="End"||i==="ArrowUp")&&(this.activeMenuItemIndex=r.length-1);return}i==="Home"&&(this.activeMenuItemIndex=0),i==="End"&&(this.activeMenuItemIndex=r.length-1);const n=this.activeMenuItemIndex;i==="ArrowUp"&&(this.activeMenuItemIndex=ete(Math.max(n-1,-1),r.length)),i==="ArrowDown"&&(this.activeMenuItemIndex=ete(n+1,r.length))}toggleOpen(e=!this.open){this.open=e}handlePopoverOpen(e){e.stopPropagation(),this.open=!0,this.setFocus()}handlePopoverClose(e){e.stopPropagation(),this.open=!1}renderMenuButton(){const{appearance:e,label:i,scale:r,expanded:n}=this;return de`<slot name=${h1.trigger} @slotchange=${this.setMenuButtonEl}><calcite-action .appearance=${e} .aria=${{expanded:n}} class=${ce(tte.defaultTrigger)} .icon=${yJe.menu} .scale=${r} .text=${i} .textEnabled=${n} ${Ut(this.setDefaultMenuButtonEl)}></calcite-action></slot>`}renderMenuItems(){const{actionElements:e,activeMenuItemIndex:i,menuId:r,menuButtonEl:n,label:s,placement:o,overlayPositioning:a,flipPlacements:l}=this,f=e[i]?.id||null;return de`<calcite-popover auto-close .flipPlacements=${l} focus-trap-disabled .label=${s} offset-distance=0 @calcitePopoverClose=${this.handlePopoverClose} @calcitePopoverOpen=${this.handlePopoverOpen} .overlayPositioning=${a} .placement=${o} pointer-disabled .referenceElement=${n} trigger-disabled ${Ut(this.setPopoverEl)}><div aria-activedescendant=${f??Ye} aria-labelledby=${n?.id??Ye} class=${ce(tte.menu)} id=${r??Ye} @click=${this.handleCalciteActionClick} role=menu tabindex=-1><slot @slotchange=${this.handleDefaultSlotChange}></slot></div></calcite-popover>`}render(){return de`${this.renderMenuButton()}${this.renderMenuItems()}<slot name=${h1.tooltip} @slotchange=${this.updateTooltip}></slot>`}};BP.properties={activeMenuItemIndex:[16,{},{state:!0}],menuButtonEl:[16,{},{state:!0}],appearance:[3,{},{reflect:!0}],expanded:[7,{},{reflect:!0,type:Boolean}],flipPlacements:[0,{},{attribute:!1}],label:1,open:[7,{},{reflect:!0,type:Boolean}],overlayPositioning:[3,{},{reflect:!0}],placement:[3,{},{reflect:!0}],scale:[3,{},{reflect:!0}]},BP.styles=vJe;let wV=BP;Pi("calcite-action-menu",wV);const ite={scrim:"scrim",content:"content"},rte={s:72,l:480},wJe=vi`:host{--calcite-internal-color-focus: var( --calcite-color-focus, var(--calcite-ui-focus-color, var(--calcite-color-brand)) )}:host{position:absolute;inset:0;z-index:var(--calcite-z-index-overlay);display:flex;block-size:100%;inline-size:100%;flex-direction:column;align-items:stretch}@keyframes calcite-scrim-fade-in{0%{--tw-bg-opacity: 0}to{--tw-text-opacity: 1}}.scrim{position:absolute;inset:0;display:flex;flex-direction:column;align-content:center;align-items:center;justify-content:center;overflow:hidden;animation:calcite-scrim-fade-in var(--calcite-internal-animation-timing-medium) ease-in-out;background-color:var(--calcite-scrim-background, var(--calcite-color-transparent-scrim))}.content{padding:1rem}:host([hidden]){display:none}[hidden]{display:none}`,HP=class HP extends wi{constructor(){super(...arguments),this.loaderRef=kr(),this.resizeObserver=zs("resize",()=>this.handleResize()),this.messages=ds(),this.hasContent=!1,this.loading=!1}connectedCallback(){super.connectedCallback(),this.resizeObserver?.observe(this.el)}disconnectedCallback(){super.disconnectedCallback(),this.resizeObserver?.disconnect()}handleDefaultSlotChange(e){this.hasContent=yke(e)}getScale(e){return e<rte.s?"s":e>=rte.l?"l":"m"}handleResize(){const{el:e}=this;this.loaderScale=this.getScale(Math.min(e.clientHeight,e.clientWidth)??0)}render(){const{hasContent:e,loading:i,loaderScale:r,messages:n}=this;return de`<div class=${ce(ite.scrim)}>${i&&r?de`<calcite-loader .label=${n.loading} .scale=${r} ${Ut(this.loaderRef)}></calcite-loader>`:null}<div class=${ce(ite.content)} .hidden=${!e}><slot @slotchange=${this.handleDefaultSlotChange}></slot></div></div>`}};HP.properties={hasContent:[16,{},{state:!0}],loaderScale:[16,{},{state:!0}],loading:[7,{},{reflect:!0,type:Boolean}],messageOverrides:[0,{},{attribute:!1}]},HP.styles=wJe;let _V=HP;Pi("calcite-scrim",_V);const er={actionBarContainer:"action-bar-container",container:"container",contentBottom:"content-bottom",contentTop:"content-top",header:"header",headerContainer:"header-container",headerContainerBorderEnd:"header-container--border-end",headingTextContent:"heading-text-content",heading:"heading",description:"description",headerContent:"header-content",headerActions:"header-actions",headerActionsEnd:"header-actions--end",headerActionsStart:"header-actions--start",icon:"icon",contentWrapper:"content-wrapper",fabContainer:"fab-container",footer:"footer",footerContent:"footer-content",footerActions:"footer-actions",footerStart:"footer-start",footerEnd:"footer-end",headerSlottedContent:"header--slotted-content",headerNonSlottedContent:"header--non-slotted-content",menuAction:"menu-action"},nte={close:"close",collapse:"collapse"},sC={close:"x",menu:"ellipsis",expand:"chevron-down",collapse:"chevron-up"},za={actionBar:"action-bar",alerts:"alerts",contentBottom:"content-bottom",contentTop:"content-top",headerActionsStart:"header-actions-start",headerActionsEnd:"header-actions-end",headerMenuActions:"header-menu-actions",headerContent:"header-content",fab:"fab",footer:"footer",footerEnd:"footer-end",footerStart:"footer-start",footerActions:"footer-actions"};const _Je=vi`:host{--calcite-internal-color-focus: var( --calcite-color-focus, var(--calcite-ui-focus-color, var(--calcite-color-brand)) )}:host([disabled]){cursor:default;-webkit-user-select:none;user-select:none;opacity:var(--calcite-opacity-disabled)}:host([disabled]) *,:host([disabled]) ::slotted(*){pointer-events:none}:host{position:relative;box-sizing:border-box;display:flex;block-size:100%;inline-size:100%;flex:1 1 auto;overflow:hidden;--calcite-min-header-height: calc(var(--calcite-icon-size) * 3);border-radius:var(--calcite-panel-corner-radius, var(--calcite-corner-radius-sharp))}slot[name=alerts]::slotted(calcite-alert){block-size:0}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}.interaction-container{display:contents}.header{margin:0;display:flex;align-content:space-between;align-items:center;fill:var(--calcite-color-text-2);color:var(--calcite-color-text-2)}.heading{margin:0;padding:0;font-weight:var(--calcite-font-weight-medium)}.header .heading{flex:1 1 auto;padding:.5rem}:host([scale=s]){--calcite-internal-panel-default-space: var(--calcite-spacing-sm);--calcite-internal-panel-header-vertical-padding: var(--calcite-spacing-sm-plus)}:host([scale=s]) .header-content .heading{font-size:var(--calcite-font-size--1)}:host([scale=s]) .header-content .description{font-size:var(--calcite-font-size--2)}:host([scale=s]) .header-content .icon{margin-inline-end:var(--calcite-spacing-sm)}:host([scale=m]){--calcite-internal-panel-default-space: var(--calcite-spacing-md);--calcite-internal-panel-header-vertical-padding: var(--calcite-spacing-md-plus)}:host([scale=m]) .header-content .heading{font-size:var(--calcite-font-size-0)}:host([scale=m]) .header-content .description{font-size:var(--calcite-font-size--1)}:host([scale=m]) .header-content .icon{margin-inline-end:var(--calcite-spacing-md)}:host([scale=l]){--calcite-internal-panel-default-space: var(--calcite-spacing-lg);--calcite-internal-panel-header-vertical-padding: var(--calcite-spacing-xl)}:host([scale=l]) .header-content .heading{font-size:var(--calcite-font-size-1)}:host([scale=l]) .header-content .description{font-size:var(--calcite-font-size-0)}:host([scale=l]) .header-content .icon{margin-inline-end:var(--calcite-spacing-lg)}.content-top,.content-bottom{display:flex;align-items:flex-start;align-self:stretch;padding:var(--calcite-internal-panel-default-space);border-block-start:1px solid var(--calcite-panel-border-color, var(--calcite-color-border-3));background-color:var(--calcite-panel-background-color, var(--calcite-color-foreground-1))}.container{position:relative;margin:0;display:flex;inline-size:100%;flex:1 1 auto;flex-direction:column;align-items:stretch;overflow:hidden;background-color:var(--calcite-color-background);padding:0;color:var(--calcite-color-text-2);transition:max-block-size var(--calcite-animation-timing),inline-size var(--calcite-animation-timing);box-sizing:border-box;font-size:var(--calcite-font-size--1)}.container *{box-sizing:border-box}.header{z-index:var(--calcite-z-index-header);display:flex;flex-direction:column;background-color:var(--calcite-panel-header-background-color, var(--calcite-color-foreground-1));border-block-end:1px solid var(--calcite-panel-border-color, var(--calcite-panel-header-border-block-end, var(--calcite-color-border-3)))}.header-container{display:flex;inline-size:100%;flex-direction:row;align-items:stretch;justify-content:flex-start;flex:0 0 auto}.header-container--border-end{border-block-end:1px solid var(--calcite-panel-border-color, var(--calcite-color-border-3))}.action-bar-container{inline-size:100%}.action-bar-container ::slotted(calcite-action-bar){inline-size:100%}.header-content{display:flex;flex-direction:column;overflow:hidden;padding-inline:.75rem;padding-block:.875rem;margin-inline-end:auto;justify-content:center}.header-content .heading-text-content{flex:1 1 auto;overflow:hidden}.header-content .heading,.header-content .description{display:block;flex:none;overflow-wrap:break-word;padding:0;line-height:var(--calcite-font-line-height-relative-snug)}.header-content .heading{font-weight:var(--calcite-font-weight-medium);color:var(--calcite-panel-heading-text-color, var(--calcite-color-text-1))}.header-content .heading:only-child{margin-block-end:0px}.header-content .description{color:var(--calcite-panel-description-text-color, var(--calcite-color-text-2))}#close,#collapse,.back-button,calcite-action-menu{--calcite-action-background-color: var(--calcite-panel-header-action-background-color);--calcite-action-background-color-hover: var(--calcite-panel-header-action-background-color-hover);--calcite-action-background-color-press: var(--calcite-panel-header-action-background-color-press);--calcite-action-text-color: var(--calcite-panel-header-action-text-color);--calcite-action-text-color-press: var(--calcite-panel-header-action-text-color-press)}.back-button{border-width:0px;border-style:solid;border-inline-end-width:1px;border-color:var(--calcite-panel-border-color, var(--calcite-color-border-3))}.header-actions{display:flex;flex-direction:row;flex-wrap:nowrap;align-items:stretch}.header-actions--end{margin-inline-start:auto}.content-wrapper{position:relative;display:flex;block-size:100%;flex:1 1 auto;flex-direction:column;flex-wrap:nowrap;align-items:stretch;overflow:auto;color:var(--calcite-color-text-2);outline-color:transparent;padding:var(--calcite-panel-space, var(--calcite-panel-content-space, 0));background:var(--calcite-panel-background-color, var(--calcite-color-background))}.content-wrapper:focus-visible{outline:var(--calcite-border-width-md) solid var(--calcite-color-focus, var(--calcite-ui-focus-color, var(--calcite-color-brand)));outline:var(--calcite-border-width-md) solid var(--calcite-internal-color-focus);outline-offset:calc(calc(-1 * var(--calcite-spacing-base)) * calc(1 - (2*clamp(0,var(--calcite-offset-invert-focus),1))))}.header-content{flex:1 1 auto;justify-content:center;padding-block:var(--calcite-internal-panel-header-vertical-padding);padding-inline:var(--calcite-internal-panel-default-space)}.header-content.header--slotted-content{padding:var(--calcite-panel-header-content-space, var(--calcite-internal-panel-header-vertical-padding) var(--calcite-internal-panel-default-space))}.header-content.header--non-slotted-content{align-items:center;flex-direction:row}.footer{margin-block-start:auto;display:flex;flex-direction:row;align-content:space-between;align-items:center;justify-content:center;font-size:var(--calcite-font-size--2);line-height:1.375;border-block-start:1px solid var(--calcite-panel-border-color, var(--calcite-color-border-3));padding:var(--calcite-panel-footer-space, var(--calcite-panel-footer-padding, var(--calcite-internal-panel-default-space)));background-color:var(--calcite-panel-footer-background-color, var(--calcite-color-foreground-1))}.footer-content{display:flex;flex:1 1 0%;flex-direction:row;align-items:center;justify-content:center}.footer-actions{display:flex;flex:1 1 0%;flex-direction:row;align-items:center;justify-content:space-evenly;gap:var(--calcite-internal-panel-default-space)}.footer-start{display:flex;flex:1 1 0%;flex-direction:row;align-items:center;justify-content:flex-start;margin-inline-end:auto;gap:var(--calcite-internal-panel-default-space)}.footer-end{display:flex;flex:1 1 0%;flex-direction:row;align-items:center;justify-content:flex-end;margin-inline-start:auto;gap:var(--calcite-internal-panel-default-space)}.fab-container{position:sticky;inset-block-end:0px;z-index:var(--calcite-z-index-sticky);margin-block:0px;margin-inline:auto;display:block;padding:.5rem;inset-inline:0;inline-size:fit-content}calcite-icon{--calcite-icon-color: var(--calcite-panel-icon-color, var(--calcite-color-text-1))}:host([hidden]){display:none}[hidden]{display:none}`,qP=class qP extends wi{constructor(){super(),this.containerRef=kr(),this.resizeObserver=zs("resize",()=>this.resizeHandler()),this.messages=ds(),this._closed=!1,this.focusSetter=Ns()(this),this.hasActionBar=!1,this.hasContentBottom=!1,this.hasContentTop=!1,this.hasEndActions=!1,this.hasFab=!1,this.hasFooterActions=!1,this.hasFooterContent=!1,this.hasFooterEndContent=!1,this.hasFooterStartContent=!1,this.hasHeaderContent=!1,this.hasMenuItems=!1,this.hasStartActions=!1,this.showHeaderContent=!1,this.closable=!1,this.collapseDirection="down",this.collapsed=!1,this.collapsible=!1,this.disabled=!1,this.iconFlipRtl=!1,this.loading=!1,this.menuOpen=!1,this.menuPlacement=IZe,this.overlayPositioning="absolute",this.scale="m",this.calcitePanelClose=Ge({cancelable:!0}),this.calcitePanelCollapse=Ge({cancelable:!1}),this.calcitePanelExpand=Ge({cancelable:!1}),this.calcitePanelScroll=Ge({cancelable:!1}),this.calcitePanelToggle=Ge({cancelable:!1}),this.listen("keydown",this.panelKeyDownHandler),this.listen("calcitePanelClose",this.panelCloseHandler)}get closed(){return this._closed}set closed(e){const i=this._closed;e!==i&&this.setClosedState(e)}async scrollContentTo(e){this.panelScrollEl?.scrollTo(e)}async setFocus(e){return this.focusSetter(()=>this.containerRef.value,e)}willUpdate(e){e.has("collapsed")&&this.hasUpdated&&(this.collapsed?this.calcitePanelCollapse.emit():this.calcitePanelExpand.emit())}updated(){wl(this)}disconnectedCallback(){super.disconnectedCallback(),this.resizeObserver?.disconnect()}async setClosedState(e){if(this.beforeClose&&e)try{await this.beforeClose?.()}catch{return}this._closed=e}resizeHandler(){const{panelScrollEl:e}=this;if(!e||typeof e.scrollHeight!="number"||typeof e.offsetHeight!="number")return;e.scrollHeight>e.offsetHeight?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}closeClickHandler(){this.emitCloseEvent()}emitCloseEvent(){this.calcitePanelClose.emit()}panelKeyDownHandler(e){this.closable&&e.key==="Escape"&&!e.defaultPrevented&&(this.emitCloseEvent(),e.preventDefault())}panelCloseHandler(e){e.defaultPrevented||e.target!==this.el||(this.closed=!0)}collapse(){this.collapsed=!this.collapsed,this.calcitePanelToggle.emit()}panelScrollHandler(){this.calcitePanelScroll.emit()}handleHeaderActionsStartSlotChange(e){this.hasStartActions=ri(e)}handleHeaderActionsEndSlotChange(e){this.hasEndActions=ri(e)}handleHeaderMenuActionsSlotChange(e){this.hasMenuItems=ri(e)}handleActionBarSlotChange(e){const i=xd(e).filter(r=>r?.matches("calcite-action-bar"));i.forEach(r=>r.layout="horizontal"),this.hasActionBar=!!i.length}handleHeaderContentSlotChange(e){this.hasHeaderContent=ri(e)}handleFabSlotChange(e){this.hasFab=ri(e)}handleFooterActionsSlotChange(e){this.hasFooterActions=ri(e)}handleFooterEndSlotChange(e){this.hasFooterEndContent=ri(e)}handleFooterStartSlotChange(e){this.hasFooterStartContent=ri(e)}handleFooterSlotChange(e){this.hasFooterContent=ri(e)}contentBottomSlotChangeHandler(e){this.hasContentBottom=ri(e)}contentTopSlotChangeHandler(e){this.hasContentTop=ri(e)}setPanelScrollEl(e){z2(this.resizeObserver,this.panelScrollEl,e),this.panelScrollEl=e}handleAlertsSlotChange(e){xd(e)?.map(i=>{i.nodeName==="CALCITE-ALERT"&&(i.embedded=!0)})}renderHeaderContent(){const{heading:e,headingLevel:i,description:r,hasHeaderContent:n,icon:s,scale:o}=this,a=s?de`<calcite-icon class=${ce(er.icon)} .flipRtl=${this.iconFlipRtl} .icon=${s} .scale=${Er(o)}></calcite-icon>`:null,l=e?ege({class:er.heading,level:i,children:e}):null,h=r?de`<span class=${ce(er.description)}>${r}</span>`:null;return!n&&(l||h)?vt("header-content",de`<div class=${ce({[er.headerContent]:!0,[er.headerNonSlottedContent]:!0})}>${a}<div class=${ce(er.headingTextContent)}>${l}${h}</div></div>`):null}renderActionBar(){return de`<div class=${ce(er.actionBarContainer)} .hidden=${!this.hasActionBar}><slot name=${za.actionBar} @slotchange=${this.handleActionBarSlotChange}></slot></div>`}renderHeaderSlottedContent(){return vt("slotted-header-content",de`<div class=${ce({[er.headerContent]:!0,[er.headerSlottedContent]:!0})} .hidden=${!this.hasHeaderContent}><slot name=${za.headerContent} @slotchange=${this.handleHeaderContentSlotChange}></slot></div>`)}renderHeaderStartActions(){const{hasStartActions:e}=this;return vt("header-actions-start",de`<div class=${ce({[er.headerActionsStart]:!0,[er.headerActions]:!0})} .hidden=${!e}><slot name=${za.headerActionsStart} @slotchange=${this.handleHeaderActionsStartSlotChange}></slot></div>`)}renderHeaderActionsEnd(){const{hasEndActions:e,messages:i,closable:r,collapsed:n,collapseDirection:s,collapsible:o,hasMenuItems:a}=this,{collapse:l,expand:h,close:f}=i,g=[sC.expand,sC.collapse];s==="up"&&g.reverse();const v=o?de`<calcite-action .aria=${{expanded:!n}} .icon=${n?g[0]:g[1]} id=${nte.collapse} .label=${l} @click=${this.collapse} .scale=${this.scale} .text=${l} title=${(n?h:l)??Ye}></calcite-action>`:null,w=r?de`<calcite-action .ariaLabel=${f} .icon=${sC.close} id=${nte.close} @click=${this.closeClickHandler} .scale=${this.scale} .text=${f} title=${f??Ye}></calcite-action>`:null,S=de`<slot name=${za.headerActionsEnd} @slotchange=${this.handleHeaderActionsEndSlotChange}></slot>`,T=e||v||w||a;return vt("header-actions-end",de`<div class=${ce({[er.headerActionsEnd]:!0,[er.headerActions]:!0})} .hidden=${!T}>${S}${this.renderMenu()}${v}${w}</div>`)}renderMenu(){const{hasMenuItems:e,messages:i,menuOpen:r,menuFlipPlacements:n,menuPlacement:s}=this;return vt("menu",de`<calcite-action-menu .flipPlacements=${n??["top","bottom"]} .hidden=${!e} .label=${i.options} .open=${r} .overlayPositioning=${this.overlayPositioning} .placement=${s}><calcite-action class=${ce(er.menuAction)} .icon=${sC.menu} .scale=${this.scale} slot=${h1.trigger} .text=${i.options}></calcite-action><slot name=${za.headerMenuActions} @slotchange=${this.handleHeaderMenuActionsSlotChange}></slot></calcite-action-menu>`)}renderHeaderNode(){const{hasHeaderContent:e,hasStartActions:i,hasEndActions:r,closable:n,collapsible:s,hasMenuItems:o,hasActionBar:a,hasContentTop:l}=this,h=this.renderHeaderContent(),f=e||!!h||i||r||s||n||o||a||l;return this.showHeaderContent=f,de`<header class=${ce(er.header)} .hidden=${!(f||a||l)}><div class=${ce({[er.headerContainer]:!0,[er.headerContainerBorderEnd]:a})} .hidden=${!f}>${this.renderHeaderStartActions()}${this.renderHeaderSlottedContent()}${h}${this.renderHeaderActionsEnd()}</div>${this.renderActionBar()}${this.renderContentTop()}</header>`}renderFooterNode(){const{hasFooterEndContent:e,hasFooterStartContent:i,hasFooterContent:r,hasFooterActions:n}=this,s=i||e||r||n;return de`<footer class=${ce(er.footer)} .hidden=${!s}><div class=${ce(er.footerContent)} .hidden=${!r}><slot name=${za.footer} @slotchange=${this.handleFooterSlotChange}></slot></div><div class=${ce(er.footerStart)} .hidden=${r||!i}><slot name=${za.footerStart} @slotchange=${this.handleFooterStartSlotChange}></slot></div><div class=${ce(er.footerEnd)} .hidden=${r||!e}><slot name=${za.footerEnd} @slotchange=${this.handleFooterEndSlotChange}></slot></div><div class=${ce(er.footerActions)} .hidden=${r||!n}>${vt("footer-actions-slot",de`<slot name=${za.footerActions} @slotchange=${this.handleFooterActionsSlotChange}></slot>`)}</div></footer>`}renderContent(){return de`<div class=${ce(er.contentWrapper)} .hidden=${this.collapsible&&this.collapsed} @scroll=${this.panelScrollHandler} ${Ut(this.setPanelScrollEl)}><slot></slot>${this.renderFab()}</div>`}renderContentBottom(){return de`<div class=${ce(er.contentBottom)} .hidden=${!this.hasContentBottom}><slot name=${za.contentBottom} @slotchange=${this.contentBottomSlotChangeHandler}></slot></div>`}renderContentTop(){return de`<div class=${ce(er.contentTop)} .hidden=${!this.hasContentTop}><slot name=${za.contentTop} @slotchange=${this.contentTopSlotChangeHandler}></slot></div>`}renderFab(){return de`<div class=${ce(er.fabContainer)} .hidden=${!this.hasFab}><slot name=${za.fab} @slotchange=${this.handleFabSlotChange}></slot></div>`}render(){const{disabled:e,loading:i,closed:r}=this,n=de`<article .ariaBusy=${i} class=${ce(er.container)} .hidden=${r} ${Ut(this.containerRef)}>${this.renderHeaderNode()}${this.renderContent()}${this.renderContentBottom()}${this.renderFooterNode()}${vt("alerts",de`<slot name=${za.alerts} @slotchange=${this.handleAlertsSlotChange}></slot>`)}</article>`;return _l({disabled:e,children:de`${i?de`<calcite-scrim .loading=${i}></calcite-scrim>`:null}${n}`})}};qP.properties={hasActionBar:[16,{},{state:!0}],hasContentBottom:[16,{},{state:!0}],hasContentTop:[16,{},{state:!0}],hasEndActions:[16,{},{state:!0}],hasFab:[16,{},{state:!0}],hasFooterActions:[16,{},{state:!0}],hasFooterContent:[16,{},{state:!0}],hasFooterEndContent:[16,{},{state:!0}],hasFooterStartContent:[16,{},{state:!0}],hasHeaderContent:[16,{},{state:!0}],hasMenuItems:[16,{},{state:!0}],hasStartActions:[16,{},{state:!0}],showHeaderContent:[16,{},{state:!0}],beforeClose:[0,{},{attribute:!1}],closable:[7,{},{reflect:!0,type:Boolean}],closed:[7,{},{reflect:!0,type:Boolean}],collapseDirection:1,collapsed:[7,{},{reflect:!0,type:Boolean}],collapsible:[7,{},{reflect:!0,type:Boolean}],description:1,disabled:[7,{},{reflect:!0,type:Boolean}],heading:1,headingLevel:[11,{},{type:Number,reflect:!0}],icon:[3,{},{reflect:!0}],iconFlipRtl:[7,{},{reflect:!0,type:Boolean}],loading:[7,{},{reflect:!0,type:Boolean}],menuFlipPlacements:[0,{},{attribute:!1}],menuOpen:[7,{},{reflect:!0,type:Boolean}],menuPlacement:[3,{},{reflect:!0}],messageOverrides:[0,{},{attribute:!1}],overlayPositioning:[3,{},{reflect:!0}],scale:[3,{},{reflect:!0}]},qP.styles=_Je;let xV=qP;Pi("calcite-panel",xV);class ti{constructor(e){Object.defineProperty(this,"_value",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._value=e}get value(){return this._value/100}get percent(){return this._value}toString(){return""+this._value+"%"}interpolate(e,i){return e+this.value*(i-e)}static normalize(e,i,r){return e instanceof ti?e:i===r?new ti(0):new ti(Math.min(Math.max((e-i)*(1/(r-i)),0),1)*100)}}function lo(t){return new ti(t)}lo(0);const Qt=lo(100),Bt=lo(50);function ste(t){return t instanceof ti}function p7(t){return Number(t)!==t}function xJe(t){return{}.toString.call(t)}function rl(t){if(t!=null&&!pt(t)){let e=Number(t);if(p7(e)&&Lv(t)&&t!=""&&t.match(/[0-9]+/)){const i=t.replace(/[^0-9.\-]+/g,"");return t===i?e:rl(i)}return e}return t}function SJe(t){if(SV(t))return new Date(t);if(pt(t))return new Date(t);{let e=Number(t);return pt(e)?new Date(e):new Date(t)}}function TJe(t){if(p7(t))return"NaN";if(t===1/0)return"Infinity";if(t===-1/0)return"-Infinity";if(t===0&&1/t===-1/0)return"-0";let e=t<0;t=Math.abs(t);let i=/^([0-9]+)(?:\.([0-9]+))?(?:e[\+\-]([0-9]+))?$/.exec(""+t),r=i[1],n=i[2]||"",s;if(i[3]===void 0)s=n===""?r:r+"."+n;else{let o=+i[3];if(t<1){let a=o-1;s="0."+ote("0",a)+r+n}else{let a=o-n.length;a===0?s=r+n:a<0?s=r+n.slice(0,a)+"."+n.slice(a):s=r+n+ote("0",a)}}return e?"-"+s:s}function ote(t,e){return new Array(e+1).join(t)}function SV(t){return xJe(t)==="[object Date]"}function Lv(t){return typeof t=="string"}function pt(t){return typeof t=="number"&&Number(t)==t}function yk(t){return typeof t=="object"&&t!==null}const Km="____",Dw="____";function d$(t,e){const i=t.length;for(let r=0;r<i;++r)if(t[r]===e)return r;return-1}function $Je(t,e){const i=t.length;for(let r=0;r<i;++r)if(e(t[r]))return!0;return!1}function TV(t,e){const i=t.length,r=new Array(i);for(let n=0;n<i;++n)r[n]=e(t[n],n);return r}function Ce(t,e){const i=t.length;for(let r=0;r<i;++r)e(t[r],r)}function l2(t,e){let i=t.length;for(;i>0;)--i,e(t[i],i)}function f7(t,e){const i=t.length;for(let r=0;r<i&&e(t[r],r);++r);}function gp(t,e){let i=!1,r=0;for(;;){if(r=t.indexOf(e,r),r===-1)return i;i=!0,t.splice(r,1)}}function Do(t,e){let i=t.indexOf(e);return i!==-1?(t.splice(i,1),!0):!1}function kJe(t,e,i){let r=d$(t,e);r!==-1&&$V(t,r),t.push(e)}function h$(t,e){t.indexOf(e)===-1&&t.push(e)}function EJe(t){const e=t.length,i=new Array(e);for(let r=0;r<e;++r)i[r]=t[r];return i}function fN(t,e,i){t.splice(e,0,i)}function $V(t,e){t.splice(e,1)}function lge(t,e){const i=t.length;for(let r=0;r<i;++r)if(e(t[r],r))return r;return-1}function IJe(t,e){let i=t.length;for(;i>0;)if(--i,e(t[i],i))return i;return-1}function cge(t,e){const i=lge(t,e);if(i!==-1)return t[i]}function CJe(t,e){const i=IJe(t,e);if(i!==-1)return t[i]}function MJe(t,e){let i=0,r=t.length,n=!1;for(;i<r;){const s=i+r>>1,o=e(t[s]);o<0?i=s+1:o===0?(n=!0,i=s+1):r=s}return{found:n,index:n?i-1:i}}function AJe(t,e){let i=0,r=t.length,n=!1;for(;i<r;){const s=i+r>>1,o=e(t[s]);o<0?i=s+1:(o===0&&(n=!0),r=s)}return{found:n,index:i}}function z3(t,e){let i=t.length;for(;i>0;)--i,e(t[i])||t.splice(i,1)}function Ps(t){return Object.keys(t)}function OJe(t,e){return Ps(t).sort(e)}function PJe(t){return Object.assign({},t)}function ir(t,e){Ps(t).forEach(i=>{e(i,t[i])})}function DJe(t,e){for(let i in t)if(RJe(t,i)&&!e(i,t[i]))break}function RJe(t,e){return{}.hasOwnProperty.call(t,e)}class m7{constructor(){Object.defineProperty(this,"_disposed",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._disposed=!1}isDisposed(){return this._disposed}dispose(){this._disposed||(this._disposed=!0,this._dispose())}}class Nn{constructor(e){Object.defineProperty(this,"_disposed",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_dispose",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._disposed=!1,this._dispose=e}isDisposed(){return this._disposed}dispose(){this._disposed||(this._disposed=!0,this._dispose())}}class LJe extends m7{constructor(){super(...arguments),Object.defineProperty(this,"_disposers",{enumerable:!0,configurable:!0,writable:!0,value:[]})}_dispose(){Ce(this._disposers,e=>{e.dispose()})}}class da extends m7{constructor(e){super(),Object.defineProperty(this,"_disposers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._disposers=e}_dispose(){Ce(this._disposers,e=>{e.dispose()})}get disposers(){return this._disposers}}class uge extends Nn{constructor(){super(...arguments),Object.defineProperty(this,"_counter",{enumerable:!0,configurable:!0,writable:!0,value:0})}increment(){return++this._counter,new Nn(()=>{--this._counter,this._counter===0&&this.dispose()})}}function zJe(t){t.parentNode&&t.parentNode.removeChild(t)}function Jr(t,e,i,r){return t.addEventListener(e,i,r||!1),new Nn(()=>{t.removeEventListener(e,i,r||!1)})}function dge(t){return Jr(window,"resize",e=>{t()})}function sv(t){switch(t){case"touchevents":return window.hasOwnProperty("TouchEvent");case"pointerevents":return window.hasOwnProperty("PointerEvent");case"mouseevents":return window.hasOwnProperty("MouseEvent");case"wheelevents":return window.hasOwnProperty("WheelEvent");case"keyboardevents":return window.hasOwnProperty("KeyboardEvent")}return!1}function mN(t){return t.pointerId||0}function NJe(){if(document.activeElement&&document.activeElement!=document.body)if(document.activeElement.blur)document.activeElement.blur();else{let t=document.createElement("button");t.style.position="fixed",t.style.top="0px",t.style.left="-10000px",document.body.appendChild(t),t.focus(),t.blur(),document.body.removeChild(t)}}function jJe(t){t&&t.focus()}function kV(t){if(sv("pointerevents"))return t;if(sv("touchevents"))switch(t){case"pointerover":return"touchstart";case"pointerout":return"touchend";case"pointerleave":return"touchend";case"pointerdown":return"touchstart";case"pointermove":return"touchmove";case"pointerup":return"touchend";case"click":return"click";case"dblclick":return"dblclick"}else if(sv("mouseevents"))switch(t){case"pointerover":return"mouseover";case"pointerout":return"mouseout";case"pointerleave":return"mouseleave";case"pointerdown":return"mousedown";case"pointermove":return"mousemove";case"pointerup":return"mouseup";case"click":return"click";case"dblclick":return"dblclick"}return t}function ate(t){if(typeof Touch<"u"&&t instanceof Touch)return!0;if(typeof PointerEvent<"u"&&t instanceof PointerEvent&&t.pointerType!=null)switch(t.pointerType){case"touch":case"pen":case 2:return!0;case"mouse":case 4:return!1;default:return!(t instanceof MouseEvent)}else if(t.type!=null&&t.type.match(/^mouse/))return!1;return!0}function oC(t,e,i){t.style[e]=i}function FJe(t,e){return t.style[e]}function hge(t){if(t.composedPath){const e=t.composedPath();return e.length===0?null:e[0]}else return t.target}function VJe(t,e){let i=e;for(;;){if(t===i)return!0;if(i.parentNode===null){if(i.host==null)return!1;i=i.host}else i=i.parentNode}}function UJe(t,e){return t.target&&VJe(e.root.dom,t.target)}function bw(t,e){e?t.style.pointerEvents="auto":t.style.pointerEvents="none"}function aC(t){if(t.key!==void 0)return t.key;switch(t.keyCode){case 9:return"Tab";case 13:return"Enter";case 16:return"Shift";case 17:return"Control";case 27:return"Escape";case 32:return" ";case 37:return"ArrowLeft";case 38:return"ArrowUp";case 39:return"ArrowRight";case 40:return"ArrowDown";case 46:return"Delete"}return""+t.keyCode}function BJe(){return/apple/i.test(navigator.vendor)&&"ontouchend"in document}function HJe(){return BJe()?1:void 0}function zn(t,e){return pt(t)?t:t!=null&&pt(t.value)&&pt(e)?e*t.value:0}function qJe(t){let e=(""+t).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);return e?Math.max(0,(e[1]?e[1].length:0)-(e[2]?+e[2]:0)):0}function ln(t,e=0,i="0"){return typeof t!="string"&&(t=t.toString()),e>t.length?Array(e-t.length+1).join(i)+t:t}function GJe(t){return t.replace(/^[\s]*/,"")}function WJe(t){return t.replace(/[\s]*$/,"")}function s_(t){return GJe(WJe(t))}function YJe(t,e,i=!1,r="..."){if(t.length>e){let n=e-1;for(;n>=0&&t.charAt(n).match(/\w/);)n--;return n>=0&&i==!1?t.substring(0,n+1)+"...":t.substring(0,e)+r}else return t}function g7(t){return t.replace(/\/(date|number|duration)$/i,"")}function lte(t){return t&&t.replace(/<[^>]*>/g,"")}function cte(t){return t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}function ZJe(t){const e=/[\u0590-\u05FF\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]/,i=/([^]*[])/gi;let r=t.split(/(\s+)/),n=[];return r.forEach(s=>{if(s.match(/^\s+$/))(s=" ")&&(s="  "),n.push(s);else if(e.test(s)){let o=s.split(i).filter(a=>a!=="");n=n.concat(o)}else n=n.concat([...s])}),n}function ute(t,e=!1){const i=new Date(t.getFullYear(),0,0),r=t.getTime()-i.getTime()+(i.getTimezoneOffset()-t.getTimezoneOffset())*60*1e3,n=1e3*60*60*24;return Math.floor(r/n)}function nP(t,e=!1){const i=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate())),r=i.getUTCDay()||7;i.setUTCDate(i.getUTCDate()+4-r);const n=new Date(Date.UTC(i.getUTCFullYear(),0,1));return Math.ceil(((i.getTime()-n.getTime())/864e5+1)/7)}function JJe(t,e=!1){const i=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate())),r=i.getUTCDay()||7;return i.setUTCDate(i.getUTCDate()+4-r),new Date(Date.UTC(i.getUTCFullYear(),0,1)).getFullYear()}function XJe(t,e=!1){const i=nP(new Date(t.getFullYear(),t.getMonth(),1),e);let r=nP(t,e);return r==1&&(r=53),r-i+1}function KJe(t,e,i=1,r=!1){let n=new Date(e,0,4,0,0,0,0);return r&&n.setUTCFullYear(e),t*7+i-((n.getDay()||7)+3)}function lC(t,e){return t>12?t-=12:t===0&&(t=12),e!=null?t+(e-1):t}function cC(t,e=!1,i=!1,r=!1,n){if(r)return e?"Coordinated Universal Time":"UTC";if(n){const a=t.toLocaleString("en-US",{timeZone:n}),l=t.toLocaleString("en-US",{timeZone:n,timeZoneName:e?"long":"short"});return s_(l.substr(a.length))}let s=t.toLocaleString("UTC"),o=t.toLocaleString("UTC",{timeZoneName:e?"long":"short"}).substr(s.length);return i===!1&&(o=o.replace(/ (standard|daylight|summer|winter) /i," ")),s_(o)}function QJe(t,e){const i=e||new Date(Date.UTC(2012,0,1,0,0,0,0)),r=new Date(i.toLocaleString("en-US",{timeZone:"UTC"}));return(new Date(i.toLocaleString("en-US",{timeZone:t})).getTime()-r.getTime())/6e4*-1}function Aft(t){return t.charAt(0).toUpperCase()+t.slice(1)}function pge(t){let e,i,r,n=t.h,s=t.s,o=t.l;if(s==0)e=i=r=o;else{let a=function(g,v,w){return w<0&&(w+=1),w>1&&(w-=1),w<.16666666666666666?g+(v-g)*6*w:w<.5?v:w<.6666666666666666?g+(v-g)*(.6666666666666666-w)*6:g},l=o<.5?o*(1+s):o+s-o*s,h=2*o-l;e=a(h,l,n+1/3),i=a(h,l,n),r=a(h,l,n-1/3)}return{r:Math.round(e*255),g:Math.round(i*255),b:Math.round(r*255)}}function fge(t){let e=t.r/255,i=t.g/255,r=t.b/255,n=Math.max(e,i,r),s=Math.min(e,i,r),o=0,a=0,l=(n+s)/2;if(n===s)o=a=0;else{let h=n-s;switch(a=l>.5?h/(2-n-s):h/(n+s),n){case e:o=(i-r)/h+(i<r?6:0);break;case i:o=(r-e)/h+2;break;case r:o=(e-i)/h+4;break}o/=6}return{h:o,s:a,l}}function eXe(t,e){return t&&{r:Math.max(0,Math.min(255,t.r+lA(t.r,e))),g:Math.max(0,Math.min(255,t.g+lA(t.g,e))),b:Math.max(0,Math.min(255,t.b+lA(t.b,e))),a:t.a}}function lA(t,e){let i=e>0?255-t:t;return Math.round(i*e)}function tXe(t,e){if(t){let i=Math.min(Math.max(t.r,t.g,t.b),230),r=lA(i,e);return{r:Math.max(0,Math.min(255,Math.round(t.r+r))),g:Math.max(0,Math.min(255,Math.round(t.g+r))),b:Math.max(0,Math.min(255,Math.round(t.b+r))),a:t.a}}else return t}function dte(t){return(t.r*299+t.g*587+t.b*114)/1e3>=128}function iXe(t,e){if(t===void 0||e==1)return t;let i=fge(t);return i.s=e,pge(i)}function rXe(t,e={r:255,g:255,b:255},i={r:255,g:255,b:255}){let r=e,n=i;return dte(i)&&(r=i,n=e),dte(t)?n:r}function tl(t,e){return t||(t=[]),[...t,...e].filter((i,r,n)=>n.indexOf(i)===r)}function Oft(t,e){return!(!e||t.left!=e.left||t.right!=e.right||t.top!=e.top||t.bottom!=e.bottom)}function mge(t){return t[0]==="#"&&(t=t.substr(1)),t.length==3&&(t=t[0].repeat(2)+t[1].repeat(2)+t[2].repeat(2)),parseInt(t,16)}function nXe(t){t=t.replace(/[ ]/g,"");let e=t.match(/^rgb\(([0-9]*),([0-9]*),([0-9]*)\)/i);if(e)e.push("1");else if(e=t.match(/^rgba\(([0-9]*),([0-9]*),([0-9]*),([.0-9]*)\)/i),!e)return 0;let i="";for(let r=1;r<=3;r++){let n=parseInt(e[r]).toString(16);n.length==1&&(n="0"+n),i+=n}return mge(i)}function yp(t){return Rt.fromAny(t)}let Rt=class wo{constructor(e){Object.defineProperty(this,"_hex",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._hex=e|0}get hex(){return this._hex}get r(){return this._hex>>>16}get g(){return this._hex>>8&255}get b(){return this._hex&255}toCSS(e=1){return"rgba("+this.r+", "+this.g+", "+this.b+", "+e+")"}toCSSHex(){return"#"+ln(this.r.toString(16),2)+ln(this.g.toString(16),2)+ln(this.b.toString(16),2)}toHSL(e=1){return fge({r:this.r,g:this.g,b:this.b})}static fromHSL(e,i,r){const n=pge({h:e,s:i,l:r});return this.fromRGB(n.r,n.g,n.b)}toString(){return this.toCSSHex()}static fromHex(e){return new wo(e)}static fromRGB(e,i,r){return new wo((r|0)+(i<<8)+(e<<16))}static fromString(e){return new wo(mge(e))}static fromCSS(e){return new wo(nXe(e))}static fromAny(e){if(Lv(e)){if(e[0]=="#")return wo.fromString(e);if(e.substr(0,3)=="rgb")return wo.fromCSS(e)}else{if(pt(e))return wo.fromHex(e);if(e instanceof wo)return wo.fromHex(e.hex)}throw new Error("Unknown color syntax: "+e)}static alternative(e,i,r){const n=rXe({r:e.r,g:e.g,b:e.b},i?{r:i.r,g:i.g,b:i.b}:void 0,r?{r:r.r,g:r.g,b:r.b}:void 0);return this.fromRGB(n.r,n.g,n.b)}static interpolate(e,i,r,n="rgb"){if(n=="hsl"){const s=i.toHSL(),o=r.toHSL();return wo.fromHSL(dm(e,s.h,o.h),dm(e,s.s,o.s),dm(e,s.l,o.l))}else return wo.fromRGB(dm(e,i.r,r.r),dm(e,i.g,r.g),dm(e,i.b,r.b))}static lighten(e,i){const r=eXe({r:e.r,g:e.g,b:e.b},i);return wo.fromRGB(r.r,r.g,r.b)}static brighten(e,i){const r=tXe({r:e.r,g:e.g,b:e.b},i);return wo.fromRGB(r.r,r.g,r.b)}static saturate(e,i){const r=iXe({r:e.r,g:e.g,b:e.b},i);return wo.fromRGB(r.r,r.g,r.b)}};class q1{constructor(){Object.defineProperty(this,"_listeners",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_killed",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_disabled",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_iterating",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_enabled",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_disposed",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._listeners=[],this._killed=[],this._disabled={},this._iterating=0,this._enabled=!0,this._disposed=!1}isDisposed(){return this._disposed}dispose(){if(!this._disposed){this._disposed=!0;const e=this._listeners;this._iterating=1,this._listeners=null,this._disabled=null;try{Ce(e,i=>{i.disposer.dispose()})}finally{this._killed=null,this._iterating=null}}}hasListeners(){return this._listeners.length!==0}hasListenersByType(e){return $Je(this._listeners,i=>(i.type===null||i.type===e)&&!i.killed)}enable(){this._enabled=!0}disable(){this._enabled=!1}enableType(e){delete this._disabled[e]}disableType(e,i=1/0){this._disabled[e]=i}_removeListener(e){if(this._iterating===0){const i=this._listeners.indexOf(e);if(i===-1)throw new Error("Invalid state: could not remove listener");this._listeners.splice(i,1)}else this._killed.push(e)}_removeExistingListener(e,i,r,n){if(this._disposed)throw new Error("EventDispatcher is disposed");this._eachListener(s=>{s.once===e&&s.type===i&&(r===void 0||s.callback===r)&&s.context===n&&s.disposer.dispose()})}isEnabled(e){if(this._disposed)throw new Error("EventDispatcher is disposed");return this._enabled&&this._listeners.length>0&&this.hasListenersByType(e)&&this._disabled[e]===void 0}removeType(e){if(this._disposed)throw new Error("EventDispatcher is disposed");this._eachListener(i=>{i.type===e&&i.disposer.dispose()})}has(e,i,r){return lge(this._listeners,s=>s.once!==!0&&s.type===e&&(i===void 0||s.callback===i)&&s.context===r)!==-1}_shouldDispatch(e){if(this._disposed)throw new Error("EventDispatcher is disposed");const i=this._disabled[e];return pt(i)?(i<=1?delete this._disabled[e]:--this._disabled[e],!1):this._enabled}_eachListener(e){++this._iterating;try{Ce(this._listeners,e)}finally{--this._iterating,this._iterating===0&&this._killed.length!==0&&(Ce(this._killed,i=>{this._removeListener(i)}),this._killed.length=0)}}dispatch(e,i){this._shouldDispatch(e)&&this._eachListener(r=>{!r.killed&&(r.type===null||r.type===e)&&(r._debounceDelay?(r._debounceTimeout&&window.clearTimeout(r._debounceTimeout),r._debounceTimeout=window.setTimeout(()=>{r._debounceTimeout=void 0,r.killed||r.dispatch(e,i)},r._debounceDelay)):r.dispatch(e,i))})}_on(e,i,r,n,s,o,a){if(this._disposed)throw new Error("EventDispatcher is disposed");this._removeExistingListener(e,i,r,n);const l={type:i,callback:r,context:n,shouldClone:s,dispatch:o,killed:!1,once:e,disposer:new Nn(()=>{l.killed=!0,l._debounceTimeout&&window.clearTimeout(l._debounceTimeout),this._removeListener(l)}),_debounceDelay:a};return this._listeners.push(l),l}onAll(e,i,r=!0){return this._on(!1,null,e,i,r,(n,s)=>e.call(i,s)).disposer}on(e,i,r,n=!0){return this._on(!1,e,i,r,n,(s,o)=>i.call(r,o)).disposer}onDebounced(e,i,r,n,s=!0){return this._on(!1,e,i,n,s,(o,a)=>i.call(n,a),r).disposer}once(e,i,r,n=!0){const s=this._on(!0,e,i,r,n,(o,a)=>{s.disposer.dispose(),i.call(r,a)});return s.disposer}off(e,i,r){this._removeExistingListener(!1,e,i,r)}copyFrom(e){if(this._disposed)throw new Error("EventDispatcher is disposed");if(e===this)throw new Error("Cannot copyFrom the same TargetedEventDispatcher");const i=[];return Ce(e._listeners,r=>{!r.killed&&r.shouldClone&&(r.type===null?i.push(this.onAll(r.callback,r.context)):r.once?i.push(this.once(r.type,r.callback,r.context)):i.push(this.on(r.type,r.callback,r.context)))}),new da(i)}}function hte(t){return fa(this,void 0,void 0,function*(){if(t!==void 0){const e=[];ir(t,(i,r)=>{e.push(r.waitForStop())}),yield Promise.all(e)}})}function dm(t,e,i){return e+t*(i-e)}function sXe(t,e,i){return t>=1?i:e}function gge(t,e,i){return new ti(dm(t,e.percent,i.percent))}function oXe(t,e,i){return Rt.interpolate(t,e,i)}function aXe(t,e){return typeof t=="number"&&typeof e=="number"?dm:t instanceof ti&&e instanceof ti?gge:t instanceof Rt&&e instanceof Rt?oXe:sXe}var ov;(function(t){t[t.Stopped=0]="Stopped",t[t.Playing=1]="Playing",t[t.Paused=2]="Paused"})(ov||(ov={}));function yS(t,e){if(!(t>=0&&t<e))throw new Error("Index out of bounds: "+t)}let N3=class{constructor(e=[]){Object.defineProperty(this,"_values",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"events",{enumerable:!0,configurable:!0,writable:!0,value:new q1}),this._values=e}get values(){return this._values}contains(e){return this._values.indexOf(e)!==-1}removeValue(e){let i=0,r=this._values.length;for(;i<r;)this._values[i]===e?(this.removeIndex(i),--r):++i}indexOf(e){return d$(this._values,e)}get length(){return this._values.length}hasIndex(e){return e>=0&&e<this._values.length}getIndex(e){return this._values[e]}_onPush(e){this.events.isEnabled("push")&&this.events.dispatch("push",{type:"push",target:this,newValue:e})}_onInsertIndex(e,i){this.events.isEnabled("insertIndex")&&this.events.dispatch("insertIndex",{type:"insertIndex",target:this,index:e,newValue:i})}_onSetIndex(e,i,r){this.events.isEnabled("setIndex")&&this.events.dispatch("setIndex",{type:"setIndex",target:this,index:e,oldValue:i,newValue:r})}_onSwap(e,i){this.events.isEnabled("swap")&&this.events.dispatch("swap",{type:"swap",target:this,a:e,b:i})}_onRemoveIndex(e,i){this.events.isEnabled("removeIndex")&&this.events.dispatch("removeIndex",{type:"removeIndex",target:this,index:e,oldValue:i})}_onMoveIndex(e,i,r){this.events.isEnabled("moveIndex")&&this.events.dispatch("moveIndex",{type:"moveIndex",target:this,oldIndex:e,newIndex:i,value:r})}_onClear(e){this.events.isEnabled("clear")&&this.events.dispatch("clear",{type:"clear",target:this,oldValues:e})}setIndex(e,i){yS(e,this._values.length);const r=this._values[e];return r!==i&&(this._values[e]=i,this._onSetIndex(e,r,i)),r}insertIndex(e,i){return yS(e,this._values.length+1),fN(this._values,e,i),this._onInsertIndex(e,i),i}swap(e,i){const r=this._values.length;if(yS(e,r),yS(i,r),e!==i){const n=this._values[e],s=this._values[i];this._values[e]=s,this._values[i]=n,this._onSwap(n,s)}}removeIndex(e){yS(e,this._values.length);const i=this._values[e];return $V(this._values,e),this._onRemoveIndex(e,i),i}moveValue(e,i){let r=this.indexOf(e);if(r!==-1)if($V(this._values,r),i==null){const n=this._values.length;this._values.push(e),this._onMoveIndex(r,n,e)}else fN(this._values,i,e),this._onMoveIndex(r,i,e);else i==null?(this._values.push(e),this._onPush(e)):(fN(this._values,i,e),this._onInsertIndex(i,e));return e}push(e){return this._values.push(e),this._onPush(e),e}unshift(e){return this.insertIndex(0,e),e}pushAll(e){Ce(e,i=>{this.push(i)})}copyFrom(e){this.pushAll(e._values)}pop(){return this._values.length-1<0?void 0:this.removeIndex(this._values.length-1)}shift(){return this._values.length?this.removeIndex(0):void 0}setAll(e){const i=this._values;this._values=[],this._onClear(i),Ce(e,r=>{this._values.push(r),this._onPush(r)})}clear(){this.setAll([])}*[Symbol.iterator](){const e=this._values.length;for(let i=0;i<e;++i)yield this._values[i]}each(e){Ce(this._values,e)}eachReverse(e){l2(this._values,e)}};class yge extends N3{constructor(){super(...arguments),Object.defineProperty(this,"autoDispose",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"_disposed",{enumerable:!0,configurable:!0,writable:!0,value:!1})}swap(e,i){const r=this.autoDispose;this.autoDispose=!1,super.swap(e,i),this.autoDispose=r}_onSetIndex(e,i,r){this.autoDispose&&i.dispose(),super._onSetIndex(e,i,r)}_onRemoveIndex(e,i){this.autoDispose&&i.dispose(),super._onRemoveIndex(e,i)}_onClear(e){this.autoDispose&&Ce(e,i=>{i.dispose()}),super._onClear(e)}_dispose(){this.autoDispose&&Ce(this._values,e=>{e.dispose()})}isDisposed(){return this._disposed}dispose(){this._disposed||(this._disposed=!0,this._dispose())}}class bm extends yge{constructor(e,i){super(),Object.defineProperty(this,"template",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"make",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.template=e,this.make=i}_dispose(){super._dispose(),this.autoDispose&&this.template.dispose()}}class lXe extends N3{constructor(e){super(),Object.defineProperty(this,"_disposed",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_container",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_events",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._container=e,this._events=this.events.onAll(i=>{if(i.type==="clear")Ce(i.oldValues,r=>{this._onRemoved(r)});else if(i.type==="push")this._onInserted(i.newValue);else if(i.type==="setIndex")this._onRemoved(i.oldValue),this._onInserted(i.newValue,i.index);else if(i.type==="insertIndex")this._onInserted(i.newValue,i.index);else if(i.type==="removeIndex")this._onRemoved(i.oldValue);else if(i.type==="moveIndex")this._onRemoved(i.value),this._onInserted(i.value,i.newIndex);else throw new Error("Unknown IListEvent type")})}_onInserted(e,i){e._setParent(this._container,!0);const r=this._container._childrenDisplay;i===void 0?r.addChild(e._display):r.addChildAt(e._display,i)}_onRemoved(e){this._container._childrenDisplay.removeChild(e._display),this._container.markDirtyBounds(),this._container.markDirty()}isDisposed(){return this._disposed}dispose(){this._disposed||(this._disposed=!0,this._events.dispose(),Ce(this.values,e=>{e.dispose()}))}}const vge=Math.PI,p$=vge/180,c2=180/vge;function Dft(t,e,i){if(!pt(e)||e<=0)return Math.round(t);{let r=Math.pow(10,e);return Math.round(t*r)/r}}function Rft(t,e){if(!pt(e)||e<=0)return Math.ceil(t);{let i=Math.pow(10,e);return Math.ceil(t*i)/i}}function Ms(t,e,i){return Math.min(Math.max(t,e),i)}function ic(t){return Math.sin(p$*t)}function Ad(t){return Math.cos(p$*t)}function y7(t){return t=t%360,t<0&&(t+=360),t}function EV(t,e,i,r,n){let s=Number.MAX_VALUE,o=Number.MAX_VALUE,a=-Number.MAX_VALUE,l=-Number.MAX_VALUE,h=[];h.push(gN(n,i)),h.push(gN(n,r));let f=Math.min(Math.floor(i/90)*90,Math.floor(r/90)*90),g=Math.max(Math.ceil(i/90)*90,Math.ceil(r/90)*90);for(let v=f;v<=g;v+=90)v>=i&&v<=r&&h.push(gN(n,v));for(let v=0;v<h.length;v++){let w=h[v];w.x<s&&(s=w.x),w.y<o&&(o=w.y),w.x>a&&(a=w.x),w.y>l&&(l=w.y)}return{left:t+s,top:e+o,right:t+a,bottom:e+l}}function gN(t,e){return{x:t*Ad(e),y:t*ic(e)}}function cXe(t){const e=t.length;if(e>0){let i=t[0],r=i.left,n=i.top,s=i.right,o=i.bottom;if(e>1)for(let a=1;a<e;a++)i=t[a],r=Math.min(i.left,r),s=Math.max(i.right,s),n=Math.min(i.top,n),o=Math.max(i.bottom,o);return{left:r,right:s,top:n,bottom:o}}return{left:0,right:0,top:0,bottom:0}}function uXe(t,e){return t.x>=e.left&&t.y>=e.top&&t.x<=e.right&&t.y<=e.bottom}function pte(t){return t}function Iy(t){return t*t*t}function d0(t){return function(e){return 1-t(1-e)}}class dXe{constructor(e,i){Object.defineProperty(this,"_entity",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_settings",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_userSettings",{enumerable:!0,configurable:!0,writable:!0,value:{}}),this._entity=e,this._settings=i,ir(i,r=>{this._userSettings[r]=!0})}get(e,i){const r=this._settings[e];return r!==void 0?r:i}setRaw(e,i){this._settings[e]=i}set(e,i){this._userSettings[e]=!0,this.setRaw(e,i)}remove(e){delete this._userSettings[e],delete this._settings[e]}setAll(e){Ps(e).forEach(i=>{this.set(i,e[i])})}_eachSetting(e){ir(this._settings,e)}apply(){const e={};e.stateAnimationEasing=!0,e.stateAnimationDuration=!0;const i=this._entity.states.lookup("default");this._eachSetting((r,n)=>{e[r]||(e[r]=!0,this!==i&&(r in i._settings||(i._settings[r]=this._entity.get(r))),this._entity.set(r,n))})}applyAnimate(e){e==null&&(e=this._settings.stateAnimationDuration),e==null&&(e=this.get("stateAnimationDuration",this._entity.get("stateAnimationDuration",0)));let i=this._settings.stateAnimationEasing;i==null&&(i=this.get("stateAnimationEasing",this._entity.get("stateAnimationEasing",Iy)));const r=this._entity.states.lookup("default"),n={};n.stateAnimationEasing=!0,n.stateAnimationDuration=!0;const s={};return this._eachSetting((o,a)=>{if(!n[o]){n[o]=!0,this!=r&&(o in r._settings||(r._settings[o]=this._entity.get(o)));const l=this._entity.animate({key:o,to:a,duration:e,easing:i});l&&(s[o]=l)}}),s}}class hXe{constructor(e){Object.defineProperty(this,"_states",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_entity",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._entity=e}lookup(e){return this._states[e]}create(e,i){const r=this._states[e];if(r)return r.setAll(i),r;{const n=new dXe(this._entity,i);return this._states[e]=n,n}}remove(e){delete this._states[e]}apply(e){const i=this._states[e];i&&i.apply(),this._entity._applyState(e)}applyAnimate(e,i){let r;const n=this._states[e];return n&&(r=n.applyAnimate(i)),this._entity._applyStateAnimated(e,i),r}}class pXe{constructor(){Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:"5.14.4"}),Object.defineProperty(this,"licenses",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"entitiesById",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"rootElements",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"autoDispose",{enumerable:!0,configurable:!0,writable:!0,value:!1})}}const lu=new pXe;function Lft(t){lu.licenses.push(t)}function av(t,e){return t===e?0:t<e?-1:1}function bge(t,e,i){const r=t.length,n=e.length,s=Math.min(r,n);for(let o=0;o<s;++o){const a=i(t[o],e[o]);if(a!==0)return a}return av(r,n)}function zft(t,e){return t===e?0:t<e?-1:1}class fXe{constructor(e){Object.defineProperty(this,"_entity",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_callbacks",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_disabled",{enumerable:!0,configurable:!0,writable:!0,value:{}}),this._entity=e}add(e,i){let r=this._callbacks[e];return r===void 0&&(r=this._callbacks[e]=[]),r.push(i),this._entity._markDirtyKey(e),new Nn(()=>{Do(r,i)&&this._entity._markDirtyKey(e)})}remove(e){const i=this._callbacks[e];i!==void 0&&(delete this._callbacks[e],i.length!==0&&this._entity._markDirtyKey(e))}enable(e){this._disabled[e]&&(delete this._disabled[e],this._entity._markDirtyKey(e))}disable(e){this._disabled[e]||(this._disabled[e]=!0,this._entity._markDirtyKey(e))}fold(e,i){if(!this._disabled[e]){const r=this._callbacks[e];if(r!==void 0)for(let n=0,s=r.length;n<s;++n)i=r[n](i,this._entity,e)}return i}}class uC{constructor(e,i,r,n,s,o,a){Object.defineProperty(this,"_animation",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_from",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_to",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_duration",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_easing",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_loops",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_interpolate",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_oldTime",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_time",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_stopped",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_playing",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"events",{enumerable:!0,configurable:!0,writable:!0,value:new q1}),this._animation=e,this._from=i,this._to=r,this._duration=n,this._easing=s,this._loops=o,this._interpolate=aXe(i,r),this._oldTime=a}get to(){return this._to}get from(){return this._from}get playing(){return this._playing}get stopped(){return this._stopped}stop(){this._stopped||(this._stopped=!0,this._playing=!1,this.events.isEnabled("stopped")&&this.events.dispatch("stopped",{type:"stopped",target:this}))}pause(){this._playing=!1,this._oldTime=null}play(){!this._stopped&&!this._playing&&(this._playing=!0,this._animation._startAnimation())}get percentage(){return this._time/this._duration}waitForStop(){return new Promise((e,i)=>{if(this._stopped)e();else{const r=()=>{n.dispose(),e()},n=this.events.on("stopped",r)}})}_checkEnded(){return this._loops>1?(--this._loops,!1):!0}_run(e){this._oldTime!==null&&(this._time+=e-this._oldTime,this._time>this._duration&&(this._time=this._duration)),this._oldTime=e}_reset(e){this._oldTime=e,this._time=0}_value(e){return this._interpolate(this._easing(e),this._from,this._to)}}let mXe=0;class wge{constructor(e){Object.defineProperty(this,"uid",{enumerable:!0,configurable:!0,writable:!0,value:++mXe}),Object.defineProperty(this,"_settings",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_privateSettings",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_settingEvents",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_privateSettingEvents",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_prevSettings",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_prevPrivateSettings",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_animatingSettings",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_animatingPrivateSettings",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_disposed",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_userProperties",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"enableDispose",{enumerable:!0,configurable:!0,writable:!0,value:!0}),this._settings=e}_checkDirty(){Ps(this._settings).forEach(e=>{this._userProperties[e]=!0,this._markDirtyKey(e)})}resetUserSettings(){this._userProperties={}}_runAnimation(e){let i=ov.Stopped;if(!this.isDisposed()){let r=!1,n=!1;ir(this._animatingSettings,(s,o)=>{if(o.stopped)this._stopAnimation(s);else if(o.playing){o._run(e);const a=o.percentage;a>=1?o._checkEnded()?this.set(s,o._value(1)):(r=!0,o._reset(e),this._set(s,o._value(1))):(r=!0,this._set(s,o._value(a)))}else n=!0}),ir(this._animatingPrivateSettings,(s,o)=>{if(o.stopped)this._stopAnimationPrivate(s);else if(o.playing){o._run(e);const a=o.percentage;a>=1?o._checkEnded()?this.setPrivate(s,o._value(1)):(r=!0,o._reset(e),this._setPrivate(s,o._value(1))):(r=!0,this._setPrivate(s,o._value(a)))}else n=!0}),r?i=ov.Playing:n&&(i=ov.Paused)}return i}_markDirtyKey(e){this.markDirty()}_markDirtyPrivateKey(e){this.markDirty()}on(e,i){let r=this._settingEvents[e];return r===void 0&&(r=this._settingEvents[e]=[]),r.push(i),new Nn(()=>{Do(r,i),r.length===0&&delete this._settingEvents[e]})}off(e,i){let r=this._settingEvents[e];r!==void 0&&i!==void 0?Do(r,i):delete this._settingEvents[e]}onPrivate(e,i){let r=this._privateSettingEvents[e];return r===void 0&&(r=this._privateSettingEvents[e]=[]),r.push(i),new Nn(()=>{Do(r,i),r.length===0&&delete this._privateSettingEvents[e]})}offPrivate(e,i){let r=this._privateSettingEvents[e];r!==void 0&&i!==void 0?Do(r,i):delete this._privateSettingEvents[e]}getRaw(e,i){const r=this._settings[e];return r!==void 0?r:i}has(e){return e in this._settings}get(e,i){return this.getRaw(e,i)}_sendKeyEvent(e,i){const r=this._settingEvents[e];r!==void 0&&Ce(r,n=>{n(i,this,e)})}_sendPrivateKeyEvent(e,i){const r=this._privateSettingEvents[e];r!==void 0&&Ce(r,n=>{n(i,this,e)})}_setRaw(e,i,r){this._prevSettings[e]=i,this._sendKeyEvent(e,r)}setRaw(e,i){const r=this._settings[e];this._settings[e]=i,r!==i&&this._setRaw(e,r,i)}_set(e,i){const r=this._settings[e];this._settings[e]=i,r!==i&&(this._setRaw(e,r,i),this._markDirtyKey(e))}_stopAnimation(e){const i=this._animatingSettings[e];i&&(delete this._animatingSettings[e],i.stop())}set(e,i){return this._set(e,i),this._stopAnimation(e),i}remove(e){e in this._settings&&(this._prevSettings[e]=this._settings[e],delete this._settings[e],this._sendKeyEvent(e,void 0),this._markDirtyKey(e)),this._stopAnimation(e)}removeAll(){Ce(Ps(this._settings),e=>{this.remove(e)})}getPrivate(e,i){const r=this._privateSettings[e];return r!==void 0?r:i}_setPrivateRaw(e,i,r){this._prevPrivateSettings[e]=i,this._sendPrivateKeyEvent(e,r)}setPrivateRaw(e,i){const r=this._privateSettings[e];this._privateSettings[e]=i,r!==i&&this._setPrivateRaw(e,r,i)}_setPrivate(e,i){const r=this._privateSettings[e];this._privateSettings[e]=i,r!==i&&(this._setPrivateRaw(e,r,i),this._markDirtyPrivateKey(e))}_stopAnimationPrivate(e){const i=this._animatingPrivateSettings[e];i&&(i.stop(),delete this._animatingPrivateSettings[e])}setPrivate(e,i){return this._setPrivate(e,i),this._stopAnimationPrivate(e),i}removePrivate(e){e in this._privateSettings&&(this._prevPrivateSettings[e]=this._privateSettings[e],delete this._privateSettings[e],this._markDirtyPrivateKey(e)),this._stopAnimationPrivate(e)}setAll(e){ir(e,(i,r)=>{this.set(i,r)})}animate(e){const i=e.key,r=e.to,n=e.duration||0,s=e.loops||1,o=e.from===void 0?this.get(i):e.from,a=e.easing===void 0?pte:e.easing;if(n===0)this.set(i,r);else if(o===void 0||o===r)this.set(i,r);else{this.set(i,o);const h=this._animatingSettings[i]=new uC(this,o,r,n,a,s,this._animationTime());return this._startAnimation(),h}const l=new uC(this,o,r,n,a,s,null);return l.stop(),l}animatePrivate(e){const i=e.key,r=e.to,n=e.duration||0,s=e.loops||1,o=e.from===void 0?this.getPrivate(i):e.from,a=e.easing===void 0?pte:e.easing;if(n===0)this.setPrivate(i,r);else if(o===void 0||o===r)this.setPrivate(i,r);else{this.setPrivate(i,o);const h=this._animatingPrivateSettings[i]=new uC(this,o,r,n,a,s,this._animationTime());return this._startAnimation(),h}const l=new uC(this,o,r,n,a,s,null);return l.stop(),l}_dispose(){}isDisposed(){return this._disposed}dispose(){this.enableDispose&&!this._disposed&&(this._disposed=!0,this._dispose())}}class po extends wge{constructor(e,i,r,n=[]){if(super(i),Object.defineProperty(this,"_root",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_user_id",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"states",{enumerable:!0,configurable:!0,writable:!0,value:new hXe(this)}),Object.defineProperty(this,"adapters",{enumerable:!0,configurable:!0,writable:!0,value:new fXe(this)}),Object.defineProperty(this,"events",{enumerable:!0,configurable:!0,writable:!0,value:this._createEvents()}),Object.defineProperty(this,"_userPrivateProperties",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_dirty",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_dirtyPrivate",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_template",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_templates",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_internalTemplates",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_defaultThemes",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_templateDisposers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_disposers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_runSetup",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"_disposerProperties",{enumerable:!0,configurable:!0,writable:!0,value:{}}),!r)throw new Error("You cannot use `new Class()`, instead use `Class.new()`");this._root=e,this._internalTemplates=n,i.id&&this._registerId(i.id)}static new(e,i,r){const n=new this(e,i,!0);return n._template=r,n._afterNew(),n}static _new(e,i,r=[]){const n=new this(e,i,!0,r);return n._afterNew(),n}_afterNew(){this._checkDirty();let e=!1;const i=this._template;i&&(e=!0,i._setObjectTemplate(this)),Ce(this._internalTemplates,r=>{e=!0,r._setObjectTemplate(this)}),e&&this._applyTemplates(!1),this.states.create("default",{}),this._setDefaults()}_afterNewApplyThemes(){this._checkDirty();const e=this._template;e&&e._setObjectTemplate(this),Ce(this._internalTemplates,i=>{i._setObjectTemplate(this)}),this.states.create("default",{}),this._setDefaults(),this._applyThemes()}_createEvents(){return new q1}get classNames(){return this.constructor.classNames}get className(){return this.constructor.className}_setDefaults(){}_setDefaultFn(e,i){const r=this.get(e);if(r)return r;{const n=i();return this.set(e,n),n}}_setDefault(e,i){this.has(e)||super.set(e,i)}_setRawDefault(e,i){this.has(e)||super.setRaw(e,i)}_clearDirty(){Ps(this._dirty).forEach(e=>{this._dirty[e]=!1}),Ps(this._dirtyPrivate).forEach(e=>{this._dirtyPrivate[e]=!1})}isDirty(e){return!!this._dirty[e]}isPrivateDirty(e){return!!this._dirtyPrivate[e]}_markDirtyKey(e){this._dirty[e]=!0,super._markDirtyKey(e)}_markDirtyPrivateKey(e){this._dirtyPrivate[e]=!0,super._markDirtyKey(e)}isType(e){return this.classNames.indexOf(e)!==-1}_pushPropertyDisposer(e,i){let r=this._disposerProperties[e];return r===void 0&&(r=this._disposerProperties[e]=[]),r.push(i),i}_disposeProperty(e){const i=this._disposerProperties[e];i!==void 0&&(Ce(i,r=>{r.dispose()}),delete this._disposerProperties[e])}set template(e){const i=this._template;i!==e&&(this._template=e,i&&i._removeObjectTemplate(this),e&&e._setObjectTemplate(this),this._applyTemplates())}get template(){return this._template}markDirty(){this._root._addDirtyEntity(this)}_startAnimation(){this._root._addAnimation(this)}_animationTime(){return this._root.animationTime}_applyState(e){}_applyStateAnimated(e,i){}get(e,i){const r=this.adapters.fold(e,this._settings[e]);return r!==void 0?r:i}isUserSetting(e){return this._userProperties[e]||!1}set(e,i){return this._userProperties[e]=!0,super.set(e,i)}setRaw(e,i){this._userProperties[e]=!0,super.setRaw(e,i)}_setSoft(e,i){return this._userProperties[e]?i:super.set(e,i)}remove(e){delete this._userProperties[e],this._removeTemplateProperty(e)}setPrivate(e,i){return this._userPrivateProperties[e]=!0,super.setPrivate(e,i)}setPrivateRaw(e,i){this._userPrivateProperties[e]=!0,super.setPrivateRaw(e,i)}removePrivate(e){delete this._userPrivateProperties[e],this._removeTemplatePrivateProperty(e)}_setTemplateProperty(e,i,r){if(!this._userProperties[i]){const n=this._findTemplateByKey(i);e===n&&super.set(i,r)}}_setTemplatePrivateProperty(e,i,r){if(!this._userPrivateProperties[i]){const n=this._findTemplateByPrivateKey(i);e===n&&super.setPrivate(i,r)}}_removeTemplateProperty(e){if(!this._userProperties[e]){const i=this._findTemplateByKey(e);i?super.set(e,i._settings[e]):super.remove(e)}}_removeTemplatePrivateProperty(e){if(!this._userPrivateProperties[e]){const i=this._findTemplateByPrivateKey(e);i?super.setPrivate(e,i._privateSettings[e]):super.removePrivate(e)}}_walkParents(e){e(this._root._rootContainer),e(this)}_applyStateByKey(e){const i=this.states.create(e,{}),r={};this._eachTemplate(n=>{const s=n.states.lookup(e);s&&s._apply(i,r)}),ir(i._settings,n=>{!r[n]&&!i._userSettings[n]&&i.remove(n)})}_applyTemplate(e,i){this._templateDisposers.push(e._apply(this,i)),ir(e._settings,(r,n)=>{!i.settings[r]&&!this._userProperties[r]&&(i.settings[r]=!0,super.set(r,n))}),ir(e._privateSettings,(r,n)=>{!i.privateSettings[r]&&!this._userPrivateProperties[r]&&(i.privateSettings[r]=!0,super.setPrivate(r,n))}),this._runSetup&&e.setup&&(this._runSetup=!1,e.setup(this))}_findStaticTemplate(e){if(this._template&&e(this._template))return this._template}_eachTemplate(e){this._findStaticTemplate(i=>(e(i),!1)),l2(this._internalTemplates,e),Ce(this._templates,e)}_applyTemplates(e=!0){e&&this._disposeTemplates();const i={settings:{},privateSettings:{},states:{}};this._eachTemplate(r=>{this._applyTemplate(r,i)}),e&&(ir(this._settings,r=>{!this._userProperties[r]&&!i.settings[r]&&super.remove(r)}),ir(this._privateSettings,r=>{!this._userPrivateProperties[r]&&!i.privateSettings[r]&&super.removePrivate(r)}))}_findTemplate(e){const i=this._findStaticTemplate(e);if(i===void 0){const r=CJe(this._internalTemplates,e);return r===void 0?cge(this._templates,e):r}else return i}_findTemplateByKey(e){return this._findTemplate(i=>e in i._settings)}_findTemplateByPrivateKey(e){return this._findTemplate(i=>e in i._privateSettings)}_disposeTemplates(){Ce(this._templateDisposers,e=>{e.dispose()}),this._templateDisposers.length=0}_removeTemplates(){Ce(this._templates,e=>{e._removeObjectTemplate(this)}),this._templates.length=0}_applyThemes(e=!1){let i=!1;const r=[];let n=[];const s=new Set,o=this.get("themeTagsSelf");return o&&Ce(o,a=>{s.add(a)}),this._walkParents(a=>{a===this._root._rootContainer&&(i=!0),a._defaultThemes.length>0&&r.push(a._defaultThemes);const l=a.get("themes");l&&n.push(l);const h=a.get("themeTags");h&&Ce(h,f=>{s.add(f)})}),n=r.concat(n),this._removeTemplates(),(i||e)&&l2(this.classNames,a=>{const l=[];Ce(n,h=>{Ce(h,f=>{const g=f._lookupRules(a);g&&l2(g,v=>{if(v.tags.every(S=>s.has(S))){const S=AJe(l,T=>{const C=av(v.tags.length,T.tags.length);return C===0?bge(v.tags,T.tags,av):C});l.splice(S.index,0,v)}})})}),Ce(l,h=>{this._templates.push(h.template),h.template._setObjectTemplate(this)})}),this._applyTemplates(),(i||e)&&(this._runSetup=!1),i||e}_changed(){}_beforeChanged(){if(this.isDirty("id")){const e=this.get("id");e&&this._registerId(e);const i=this._prevSettings.id;i&&(delete this._root.entitiesById[i],delete lu.entitiesById[i])}}_registerId(e){if(this._root.entitiesById[e]&&this._root.entitiesById[e]!==this)throw new Error('An entity with id "'+e+'" already exists.');this._root.entitiesById[e]=this,lu.entitiesById[e]=this}_afterChanged(){}addDisposer(e){return this._disposers.push(e),e}_dispose(){super._dispose();const e=this._template;e&&e._removeObjectTemplate(this),Ce(this._internalTemplates,r=>{r._removeObjectTemplate(this)}),this._removeTemplates(),this._disposeTemplates(),this.events.dispose(),this._disposers.forEach(r=>{r.dispose()}),ir(this._disposerProperties,(r,n)=>{Ce(n,s=>{s.dispose()})});const i=this.get("id");i&&(delete this._root.entitiesById[i],delete lu.entitiesById[i])}setTimeout(e,i){const r=setTimeout(()=>{this.removeDispose(n),e()},i),n=new Nn(()=>{clearTimeout(r)});return this._disposers.push(n),n}removeDispose(e){if(!this.isDisposed()){let i=d$(this._disposers,e);i>-1&&this._disposers.splice(i,1)}e.dispose()}hasTag(e){return d$(this.get("themeTags",[]),e)!==-1}addTag(e){if(!this.hasTag(e)){const i=this.get("themeTags",[]);i.push(e),this.set("themeTags",i)}}removeTag(e){if(this.hasTag(e)){const i=this.get("themeTags",[]);gp(i,e),this.set("themeTags",i)}}_t(e,i,...r){return this._root.language.translate(e,i,...r)}get root(){return this._root}}Object.defineProperty(po,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Entity"});Object.defineProperty(po,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:["Entity"]});function IV(t){ir(t,(e,i)=>{yk(i)&&typeof i.dispose=="function"&&(i.enableDispose=!0,i.dispose())})}class gXe{constructor(e,i,r){Object.defineProperty(this,"_settings",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_name",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_template",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._name=e,this._template=i,this._settings=r}_dispose(){IV(this._settings)}get(e,i){const r=this._settings[e];return r!==void 0?r:i}set(e,i){this._settings[e]=i,this._template._stateChanged(this._name)}remove(e){delete this._settings[e],this._template._stateChanged(this._name)}setAll(e){Ps(e).forEach(i=>{this._settings[i]=e[i]}),this._template._stateChanged(this._name)}_apply(e,i){ir(this._settings,(r,n)=>{!i[r]&&!e._userSettings[r]&&(i[r]=!0,e.setRaw(r,n))})}}class yXe{constructor(e){Object.defineProperty(this,"_template",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_states",{enumerable:!0,configurable:!0,writable:!0,value:{}}),this._template=e}_dispose(){ir(this._states,(e,i)=>{i._dispose()})}lookup(e){return this._states[e]}create(e,i){const r=this._states[e];if(r)return r.setAll(i),r;{const n=new gXe(e,this._template,i);return this._states[e]=n,this._template._stateChanged(e),n}}remove(e){delete this._states[e],this._template._stateChanged(e)}_apply(e,i){ir(this._states,(r,n)=>{let s=i.states[r];s==null&&(s=i.states[r]={});const o=e.states.create(r,{});n._apply(o,s)})}}class vXe{constructor(){Object.defineProperty(this,"_callbacks",{enumerable:!0,configurable:!0,writable:!0,value:{}})}add(e,i){let r=this._callbacks[e];return r===void 0&&(r=this._callbacks[e]=[]),r.push(i),new Nn(()=>{Do(r,i),r.length===0&&delete this._callbacks[e]})}remove(e){this._callbacks[e]!==void 0&&delete this._callbacks[e]}_apply(e){const i=[];return ir(this._callbacks,(r,n)=>{Ce(n,s=>{i.push(e.adapters.add(r,s))})}),new da(i)}}class al{constructor(e,i){if(Object.defineProperty(this,"_disposed",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_settings",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_privateSettings",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_settingEvents",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_privateSettingEvents",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_entities",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"states",{enumerable:!0,configurable:!0,writable:!0,value:new yXe(this)}),Object.defineProperty(this,"adapters",{enumerable:!0,configurable:!0,writable:!0,value:new vXe}),Object.defineProperty(this,"events",{enumerable:!0,configurable:!0,writable:!0,value:new q1}),Object.defineProperty(this,"setup",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),!i)throw new Error("You cannot use `new Class()`, instead use `Class.new()`");this._settings=e}static new(e){return new al(e,!0)}_dispose(){IV(this._settings),IV(this._privateSettings)}isDisposed(){return this._disposed}dispose(){this._disposed||(this._disposed=!0,this._dispose())}_checkDisposed(){if(this._disposed)throw new Error("Template is disposed")}get entities(){return this._entities}get(e,i){this._checkDisposed();const r=this._settings[e];return r!==void 0?r:i}setRaw(e,i){this._checkDisposed(),this._settings[e]=i}set(e,i){this._checkDisposed(),this._settings[e]!==i&&(this.setRaw(e,i),this._entities.forEach(r=>{r._setTemplateProperty(this,e,i)}))}remove(e){this._checkDisposed(),e in this._settings&&(delete this._settings[e],this._entities.forEach(i=>{i._removeTemplateProperty(e)}))}removeAll(){this._checkDisposed(),ir(this._settings,(e,i)=>{this.remove(e)})}getPrivate(e,i){this._checkDisposed();const r=this._privateSettings[e];return r!==void 0?r:i}setPrivateRaw(e,i){return this._checkDisposed(),this._privateSettings[e]=i,i}setPrivate(e,i){return this._checkDisposed(),this._privateSettings[e]!==i&&(this.setPrivateRaw(e,i),this._entities.forEach(r=>{r._setTemplatePrivateProperty(this,e,i)})),i}removePrivate(e){this._checkDisposed(),e in this._privateSettings&&(delete this._privateSettings[e],this._entities.forEach(i=>{i._removeTemplatePrivateProperty(e)}))}setAll(e){this._checkDisposed(),ir(e,(i,r)=>{this.set(i,r)})}on(e,i){this._checkDisposed();let r=this._settingEvents[e];return r===void 0&&(r=this._settingEvents[e]=[]),r.push(i),new Nn(()=>{Do(r,i),r.length===0&&delete this._settingEvents[e]})}onPrivate(e,i){this._checkDisposed();let r=this._privateSettingEvents[e];return r===void 0&&(r=this._privateSettingEvents[e]=[]),r.push(i),new Nn(()=>{Do(r,i),r.length===0&&delete this._privateSettingEvents[e]})}_apply(e,i){this._checkDisposed();const r=[];return ir(this._settingEvents,(n,s)=>{Ce(s,o=>{r.push(e.on(n,o))})}),ir(this._privateSettingEvents,(n,s)=>{Ce(s,o=>{r.push(e.onPrivate(n,o))})}),this.states._apply(e,i),r.push(this.adapters._apply(e)),r.push(e.events.copyFrom(this.events)),new da(r)}_setObjectTemplate(e){this._checkDisposed(),this._entities.push(e)}_removeObjectTemplate(e){gp(this._entities,e)}_stateChanged(e){this._checkDisposed(),this._entities.forEach(i=>{i._applyStateByKey(e)})}}class j3 extends q1{constructor(e){super(),Object.defineProperty(this,"_sprite",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_rendererDisposers",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_dispatchParents",{enumerable:!0,configurable:!0,writable:!0,value:!0}),this._sprite=e}_makePointerEvent(e,i){return{type:e,originalEvent:i.event,point:i.point,simulated:i.simulated,native:i.native,target:this._sprite}}_onRenderer(e,i){this._sprite.set("interactive",!0),this._sprite._display.interactive=!0;let r=this._rendererDisposers[e];if(r===void 0){const n=this._sprite._display.on(e,s=>{i.call(this,s)});r=this._rendererDisposers[e]=new uge(()=>{delete this._rendererDisposers[e],n.dispose()})}return r.increment()}_on(e,i,r,n,s,o,a){const l=super._on(e,i,r,n,s,o,a),h=j3.RENDERER_EVENTS[i];return h!==void 0&&(l.disposer=new da([l.disposer,this._onRenderer(i,h)])),l}stopParentDispatch(){this._dispatchParents=!1}dispatchParents(e,i){const r=this._dispatchParents;this._dispatchParents=!0;try{this.dispatch(e,i),this._dispatchParents&&this._sprite.parent&&this._sprite.parent.events.dispatchParents(e,i)}finally{this._dispatchParents=r}}}Object.defineProperty(j3,"RENDERER_EVENTS",{enumerable:!0,configurable:!0,writable:!0,value:{click:function(t){this.isEnabled("click")&&!this._sprite.isDragging()&&this._sprite._hasDown()&&!this._sprite._hasMoved(this._makePointerEvent("click",t))&&this.dispatch("click",this._makePointerEvent("click",t))},rightclick:function(t){this.isEnabled("rightclick")&&this.dispatch("rightclick",this._makePointerEvent("rightclick",t))},middleclick:function(t){this.isEnabled("middleclick")&&this.dispatch("middleclick",this._makePointerEvent("middleclick",t))},dblclick:function(t){this.dispatchParents("dblclick",this._makePointerEvent("dblclick",t))},pointerover:function(t){const e=this._sprite;let i=!0;if(e.getPrivate("trustBounds")){e._getBounds();const r=e.globalBounds();if(e.isType("Graphics")){const n=e.get("strokeWidth",1)/2;n>=1&&(r.left-=n,r.right+=n,r.top-=n,r.bottom+=n)}uXe(t.point,r)||(i=!1,e._root._renderer.removeHovering(e._display))}i&&this.isEnabled("pointerover")&&this.dispatch("pointerover",this._makePointerEvent("pointerover",t))},pointerout:function(t){this.isEnabled("pointerout")&&this.dispatch("pointerout",this._makePointerEvent("pointerout",t))},pointerdown:function(t){this.dispatchParents("pointerdown",this._makePointerEvent("pointerdown",t))},pointerup:function(t){this.isEnabled("pointerup")&&this.dispatch("pointerup",this._makePointerEvent("pointerup",t))},globalpointerup:function(t){this.isEnabled("globalpointerup")&&this.dispatch("globalpointerup",this._makePointerEvent("globalpointerup",t))},globalpointermove:function(t){this.isEnabled("globalpointermove")&&this.dispatch("globalpointermove",this._makePointerEvent("globalpointermove",t))},wheel:function(t){this.dispatchParents("wheel",{type:"wheel",target:this._sprite,originalEvent:t.event,point:t.point})}}});class Su extends po{constructor(){super(...arguments),Object.defineProperty(this,"_adjustedLocalBounds",{enumerable:!0,configurable:!0,writable:!0,value:{left:0,right:0,top:0,bottom:0}}),Object.defineProperty(this,"_localBounds",{enumerable:!0,configurable:!0,writable:!0,value:{left:0,right:0,top:0,bottom:0}}),Object.defineProperty(this,"_parent",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_dataItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_templateField",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_sizeDirty",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_isDragging",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_dragEvent",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_dragPoint",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_isHidden",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_isShowing",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_isHiding",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_isDown",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_downPoint",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_downPoints",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_toggleDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_dragDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_tooltipDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_hoverDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_focusDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_tooltipMoveDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_tooltipPointerDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_virtualParent",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}_afterNew(){this.setPrivateRaw("visible",!0),super._afterNew()}markDirtyKey(e){this._markDirtyKey(e)}_markDirtyKey(e){super._markDirtyKey(e),(e=="x"||e=="y"||e=="dx"||e=="dy")&&(this.markDirtyBounds(),this._addPercentagePositionChildren(),this.markDirtyPosition())}_markDirtyPrivateKey(e){super._markDirtyPrivateKey(e),(e=="x"||e=="y")&&this.markDirtyPosition()}_removeTemplateField(){this._templateField&&this._templateField._removeObjectTemplate(this)}_createEvents(){return new j3(this)}_processTemplateField(){let e;const i=this.get("templateField");if(i){const r=this.dataItem;if(r){const n=r.dataContext;n&&(e=n[i],!(e instanceof al)&&e&&(e=al.new(e)))}}this._templateField!==e&&(this._removeTemplateField(),this._templateField=e,e&&e._setObjectTemplate(this),this._applyTemplates())}_setDataItem(e){const i=this._dataItem;this._dataItem=e,this._processTemplateField();const r="dataitemchanged";e!=i&&this.events.isEnabled(r)&&this.events.dispatch(r,{type:r,target:this,oldDataItem:i,newDataItem:e})}set dataItem(e){this._setDataItem(e)}get dataItem(){if(this._dataItem)return this._dataItem;{let e=this._parent;for(;e;){if(e._dataItem)return e._dataItem;e=e._parent}}}_addPercentageSizeChildren(){let e=this.parent;e&&(this.get("width")instanceof ti||this.get("height")instanceof ti?h$(e._percentageSizeChildren,this):Do(e._percentageSizeChildren,this))}_addPercentagePositionChildren(){let e=this.parent;e&&(this.get("x")instanceof ti||this.get("y")instanceof ti?h$(e._percentagePositionChildren,this):Do(e._percentagePositionChildren,this))}markDirtyPosition(){this._root._addDirtyPosition(this)}updatePivotPoint(){const e=this._localBounds;if(e){const i=this.get("centerX");i!=null&&(this._display.pivot.x=e.left+zn(i,e.right-e.left));const r=this.get("centerY");r!=null&&(this._display.pivot.y=e.top+zn(r,e.bottom-e.top))}}_beforeChanged(){if(super._beforeChanged(),this._handleStates(),this.isDirty("tooltip")){const e=this._prevSettings.tooltip;e&&e.dispose()}if((this.isDirty("layer")||this.isDirty("layerMargin"))&&(this._display.setLayer(this.get("layer"),this.get("layerMargin")),this.markDirtyLayer()),this.isDirty("tooltipPosition")){const e=this._tooltipMoveDp;e&&(e.dispose(),this._tooltipMoveDp=void 0);const i=this._tooltipPointerDp;i&&(i.dispose(),this._tooltipPointerDp=void 0),this.get("tooltipPosition")=="pointer"&&(this.isHover()&&(this._tooltipMoveDp=this.events.on("globalpointermove",r=>{this.showTooltip(r.point)})),this._tooltipPointerDp=new da([this.events.on("pointerover",()=>{this._tooltipMoveDp=this.events.on("globalpointermove",r=>{this.showTooltip(r.point)})}),this.events.on("pointerout",()=>{const r=this._tooltipMoveDp;r&&(r.dispose(),this._tooltipMoveDp=void 0)})]))}}_handleStates(){this.isDirty("active")&&(this.get("active")?(this.states.applyAnimate("active"),this.set("ariaChecked",!0)):(this.isHidden()||this.states.applyAnimate("default"),this.set("ariaChecked",!1)),this.markDirtyAccessibility()),this.isDirty("disabled")&&(this.get("disabled")?(this.states.applyAnimate("disabled"),this.set("ariaChecked",!1)):(this.isHidden()||this.states.applyAnimate("default"),this.set("ariaChecked",!0)),this.markDirtyAccessibility())}_changed(){super._changed();const e=this._display,i=this.events;if(this.isDirty("draggable")){const n=this.get("draggable");n?(this.set("interactive",!0),this._dragDp=new da([i.on("pointerdown",s=>{this.dragStart(s)}),i.on("globalpointermove",s=>{this.dragMove(s)}),i.on("globalpointerup",s=>{this.dragStop(s)})])):this._dragDp&&(this._dragDp.dispose(),this._dragDp=void 0),e.cancelTouch=!!n}if(this.isDirty("tooltipText")||this.isDirty("tooltipHTML")||this.isDirty("showTooltipOn")){const n=this.get("tooltipText"),s=this.get("tooltipHTML"),o=this.get("showTooltipOn","hover");this._tooltipDp&&(this._tooltipDp.dispose(),this._tooltipDp=void 0),(n||s)&&(o=="click"?(this._tooltipDp=new da([i.on("click",()=>{this.setTimeout(()=>{const a=this.getTooltip();a&&!a.isHidden()&&a.get("tooltipTarget")===this?this.hideTooltip():this.showTooltip()},10)}),Jr(document,"click",a=>{this.hideTooltip()})]),this._disposers.push(this._tooltipDp)):o=="always"||(this._tooltipDp=new da([i.on("pointerover",()=>{this.showTooltip()}),i.on("pointerout",()=>{this.hideTooltip()})]),this._disposers.push(this._tooltipDp)))}if(this.isDirty("toggleKey")){let n=this.get("toggleKey");n&&n!="none"?this._toggleDp=i.on("click",()=>{this._isDragging||this.set(n,!this.get(n))}):this._toggleDp&&(this._toggleDp.dispose(),this._toggleDp=void 0)}if(this.isDirty("opacity")&&(e.alpha=Math.max(0,this.get("opacity",1)),this.get("focusable")&&this.markDirtyAccessibility()),this.isDirty("rotation")&&(this.markDirtyBounds(),e.angle=this.get("rotation",0)),this.isDirty("scale")&&(this.markDirtyBounds(),e.scale=this.get("scale",0)),(this.isDirty("centerX")||this.isDirty("centerY"))&&(this.markDirtyBounds(),this.updatePivotPoint()),(this.isDirty("visible")||this.isPrivateDirty("visible")||this.isDirty("forceHidden"))&&(!this.get("visible")||!this.getPrivate("visible")||this.get("forceHidden")?(e.visible=!1,this.hideTooltip()):e.visible=!0,this.markDirtyBounds(),this.get("focusable")&&this.markDirtyAccessibility()),this.isDirty("width")||this.isDirty("height")){this.markDirtyBounds(),this._addPercentageSizeChildren();const n=this.parent;n&&(this.isDirty("width")&&this.get("width")instanceof ti||this.isDirty("height")&&this.get("height")instanceof ti)&&(n.markDirty(),n._prevWidth=0),this._sizeDirty=!0}if((this.isDirty("maxWidth")||this.isDirty("maxHeight")||this.isPrivateDirty("width")||this.isPrivateDirty("height")||this.isDirty("minWidth")||this.isDirty("minHeight")||this.isPrivateDirty("maxWidth")||this.isPrivateDirty("maxHeight")||this.isPrivateDirty("minWidth")||this.isPrivateDirty("minHeight")||this.isDirty("marginLeft")||this.isDirty("marginTop")||this.isDirty("marginRight")||this.isDirty("marginBottom"))&&(this.markDirtyBounds(),this._sizeDirty=!0),this._sizeDirty&&this._updateSize(),this.isDirty("wheelable")){const n=this.get("wheelable");n&&this.set("interactive",!0),e.wheelable=!!n}(this.isDirty("tabindexOrder")||this.isDirty("focusableGroup"))&&(this.get("focusable")?this._root._registerTabindexOrder(this):this._root._unregisterTabindexOrder(this)),this.isDirty("filter")&&(e.filter=this.get("filter"));let r=this.get("filter","");if(this.isDirty("blur")){const n=this.get("blur",0);n!=0&&(r+=" blur("+n+"px)")}if(this.isDirty("saturate")){const n=this.get("saturate",1);n!=1&&(r+=" saturate("+n+")")}if(this.isDirty("brightness")){const n=this.get("brightness",1);n!=1&&(r+=" brightness("+n+")")}if(this.isDirty("contrast")){const n=this.get("contrast",1);n!=1&&(r+=" contrast("+n+")")}if(this.isDirty("sepia")){const n=this.get("sepia",0);n!=0&&(r+=" sepia("+n+")")}if(this.isDirty("hue")){const n=this.get("hue",0);n!=0&&(r+=" hue-rotate("+n+"deg)")}if(this.isDirty("invert")){const n=this.get("invert",0);n!=0&&(r+=" invert("+n+")")}if(r&&(e.filter=r),this.isDirty("cursorOverStyle")&&(e.cursorOverStyle=this.get("cursorOverStyle")),this.isDirty("hoverOnFocus")&&(this.get("hoverOnFocus")?this._focusDp=new da([i.on("focus",()=>{this.showTooltip()}),i.on("blur",()=>{this.hideTooltip()})]):this._focusDp&&(this._focusDp.dispose(),this._focusDp=void 0)),this.isDirty("focusable")&&(this.get("focusable")?this._root._registerTabindexOrder(this):this._root._unregisterTabindexOrder(this),this.markDirtyAccessibility(),this._disposers.push(i.on("blur",()=>{this.setPrivateRaw("touchHovering",!1)})),this._disposers.push(i.once("boundschanged",()=>{this.markDirtyAccessibility()}))),this.isPrivateDirty("focusable")&&this.markDirtyAccessibility(),(this.isDirty("role")||this.isDirty("ariaLive")||this.isDirty("ariaChecked")||this.isDirty("ariaHidden")||this.isDirty("ariaOrientation")||this.isDirty("ariaValueNow")||this.isDirty("ariaValueMin")||this.isDirty("ariaValueMax")||this.isDirty("ariaValueText")||this.isDirty("ariaLabel")||this.isDirty("ariaControls"))&&this.markDirtyAccessibility(),this.isDirty("exportable")&&(e.exportable=this.get("exportable")),this.isDirty("interactive")){const n=this.events;this.get("interactive")&&!n.isDisposed()?this._hoverDp=new da([n.on("click",s=>{ate(s.originalEvent)&&(this.getPrivate("touchHovering")||this.setTimeout(()=>{this._handleOver(),(this.get("tooltipText")||this.get("tooltipHTML"))&&this.showTooltip(),this.setPrivateRaw("touchHovering",!0),this.events.dispatch("pointerover",{type:"pointerover",target:s.target,originalEvent:s.originalEvent,point:s.point,simulated:s.simulated})},10))}),n.on("globalpointerup",s=>{ate(s.originalEvent)&&this.getPrivate("touchHovering")&&(this._handleOut(),(this.get("tooltipText")||this.get("tooltipHTML"))&&this.hideTooltip(),this.setPrivateRaw("touchHovering",!1),this.events.dispatch("pointerout",{type:"pointerout",target:s.target,originalEvent:s.originalEvent,point:s.point,simulated:s.simulated})),this._isDown&&this._handleUp(s)}),n.on("pointerover",()=>{this._handleOver()}),n.on("pointerout",()=>{this._handleOut()}),n.on("pointerdown",s=>{this._handleDown(s)})]):(this._display.interactive=!1,this._hoverDp&&(this._hoverDp.dispose(),this._hoverDp=void 0))}this.isDirty("forceInactive")&&(this._display.inactive=this.get("forceInactive",null)),this.get("showTooltipOn")=="always"&&this._display.visible&&this.showTooltip()}dragStart(e){this._dragEvent=e,this.events.stopParentDispatch()}dragStop(e){if(this._dragEvent=void 0,this._dragPoint=void 0,this.events.stopParentDispatch(),this._isDragging){this._isDragging=!1;const i="dragstop";this.events.isEnabled(i)&&this.events.dispatch(i,{type:i,target:this,originalEvent:e.originalEvent,point:e.point,simulated:e.simulated})}}_handleOver(){this.isHidden()||(this.get("active")&&this.states.lookup("hoverActive")?this.states.applyAnimate("hoverActive"):this.get("disabled")&&this.states.lookup("hoverDisabled")?this.states.applyAnimate("hoverDisabled"):this.states.applyAnimate("hover"),this.get("draggable")&&this._isDown&&this.states.lookup("down")&&this.states.applyAnimate("down"))}_handleOut(){this.isHidden()||(this.get("active")&&this.states.lookup("active")?this.states.applyAnimate("active"):this.get("disabled")&&this.states.lookup("disabled")?this.states.applyAnimate("disabled"):(this.states.lookup("hover")||this.states.lookup("hoverActive"))&&this.states.applyAnimate("default"),this.get("draggable")&&this._isDown&&this.states.lookup("down")&&this.states.applyAnimate("down"))}_handleUp(e){if(!this.isHidden()){this.get("active")&&this.states.lookup("active")?this.states.applyAnimate("active"):this.get("disabled")&&this.states.lookup("disabled")?this.states.applyAnimate("disabled"):this.states.lookup("down")&&(this.isHover()?this.states.applyAnimate("hover"):this.states.applyAnimate("default")),this._downPoint=void 0;const i=mN(e.originalEvent);delete this._downPoints[i],Ps(this._downPoints).length==0&&(this._isDown=!1)}}_hasMoved(e){const i=mN(e.originalEvent),r=this._downPoints[i];if(r){const n=Math.abs(r.x-e.point.x),s=Math.abs(r.y-e.point.y);return n>5||s>5}return!1}_hasDown(){return Ps(this._downPoints).length>0}_handleDown(e){const i=this.parent;if(i&&!this.get("draggable")&&i._handleDown(e),this.get("interactive")&&!this.isHidden()){this.states.lookup("down")&&this.states.applyAnimate("down"),this._downPoint={x:e.point.x,y:e.point.y},this._isDown=!0;const r=mN(e.originalEvent);this._downPoints[r]={x:e.point.x,y:e.point.y}}}dragMove(e){let i=this._dragEvent;if(i){if(i.simulated&&!e.simulated)return!0;let r=0,n=this.parent,s=1;for(;n!=null;)r+=n.get("rotation",0),n=n.parent,n&&(s*=n.get("scale",1));let o=(e.point.x-i.point.x)/s,a=(e.point.y-i.point.y)/s;const l=this.events;if(i.simulated&&!this._isDragging){this._isDragging=!0,this._dragEvent=e,this._dragPoint={x:this.x(),y:this.y()};const h="dragstart";l.isEnabled(h)&&l.dispatch(h,{type:h,target:this,originalEvent:e.originalEvent,point:e.point,simulated:e.simulated})}if(this._isDragging){let h=this._dragPoint;this.set("x",h.x+o*Ad(r)+a*ic(r)),this.set("y",h.y+a*Ad(r)-o*ic(r));const f="dragged";l.isEnabled(f)&&l.dispatch(f,{type:f,target:this,originalEvent:e.originalEvent,point:e.point,simulated:e.simulated})}else if(Math.hypot(o,a)>5){this._isDragging=!0,this._dragEvent=e,this._dragPoint={x:this.x(),y:this.y()};const h="dragstart";l.isEnabled(h)&&l.dispatch(h,{type:h,target:this,originalEvent:e.originalEvent,point:e.point,simulated:e.simulated})}}}_updateSize(){}_getBounds(){this._localBounds=this._display.getLocalBounds()}depth(){let e=this.parent,i=0;for(;;)if(e)++i,e=e.parent;else return i}markDirtySize(){this._sizeDirty=!0,this.markDirty()}markDirtyBounds(){const e=this._display;if(this.get("isMeasured")){this._root._addDirtyBounds(this),e.isMeasured=!0,e.invalidateBounds();const i=this.parent;i&&this.get("position")!="absolute"&&(i.get("width")==null||i.get("height")==null||i.get("layout"))&&i.markDirtyBounds(),this.get("focusable")&&this.markDirtyAccessibility()}}markDirtyAccessibility(){this._root._invalidateAccessibility(this)}markDirtyLayer(){this._display.markDirtyLayer(!0)}markDirty(){super.markDirty(),this.markDirtyLayer()}_updateBounds(){const e=this._adjustedLocalBounds;let i;if(!this.get("visible")||!this.getPrivate("visible")||this.get("forceHidden")?(i={left:0,right:0,top:0,bottom:0},this._localBounds=i,this._adjustedLocalBounds=i):(this._getBounds(),this._fixMinBounds(this._localBounds),this.updatePivotPoint(),this._adjustedLocalBounds=this._display.getAdjustedBounds(this._localBounds),i=this._adjustedLocalBounds),!e||e.left!==i.left||e.top!==i.top||e.right!==i.right||e.bottom!==i.bottom){const r="boundschanged";this.events.isEnabled(r)&&this.events.dispatch(r,{type:r,target:this}),this.parent&&(this.parent.markDirty(),this.parent.markDirtyBounds()),this.getPrivate("showingTooltip")&&this.showTooltip()}}_fixMinBounds(e){let i=this.get("minWidth",this.getPrivate("minWidth")),r=this.get("minHeight",this.getPrivate("minHeight"));pt(i)&&e.right-e.left<i&&(e.right=e.left+i),pt(r)&&e.bottom-e.top<r&&(e.bottom=e.top+r);let n=this.getPrivate("width"),s=this.getPrivate("height");pt(n)&&(n>0?e.right=e.left+n:e.left=e.right+n),pt(s)&&(s>0?e.bottom=e.top+s:e.top=e.bottom+s)}_removeParent(e){e&&(e.children.removeValue(this),Do(e._percentageSizeChildren,this),Do(e._percentagePositionChildren,this))}_clearDirty(){super._clearDirty(),this._sizeDirty=!1}hover(){this.isDisposed()||(this.showTooltip(),this._handleOver())}unhover(){this.isDisposed()||(this.hideTooltip(),this._handleOut())}showTooltip(e){if(!this.isDisposed()){const i=this.getTooltip(),r=this.get("tooltipText"),n=this.get("tooltipHTML");if((r||n)&&i){const s=this.get("tooltipPosition"),o=this.getPrivate("tooltipTarget",this);if((s=="fixed"||!e)&&(this._display._setMatrix(),e=this.toGlobal(o._getTooltipPoint())),s=="pointer"){const h=this.getPrivate("lastTooltipCoords");if(h&&h.x==e.x&&h.y==e.y)return;this.setPrivate("lastTooltipCoords",e)}i.set("pointTo",e),i.set("tooltipTarget",o),i.get("x")||i.set("x",e.x),i.get("y")||i.set("y",e.y),r&&i.label.set("text",r),n&&i.label.set("html",n);const a=this.dataItem;if(a&&i.label._setDataItem(a),this.get("showTooltipOn")=="always"&&(e.x<0||e.x>this._root.width()||e.y<0||e.y>this._root.height())){this.hideTooltip();return}i.label.text.markDirtyText();const l=i.show();return this.setPrivateRaw("showingTooltip",!0),l}}}hideTooltip(){const e=this.getTooltip();if(e&&(this.removePrivate("lastTooltipCoords"),e.get("tooltipTarget")==this.getPrivate("tooltipTarget",this)||this.get("tooltip")==e)){let i=e.get("keepTargetHover")&&e.get("stateAnimationDuration",0)==0?400:void 0;const r=e.hide(i);return this.setPrivateRaw("showingTooltip",!1),r}}_getTooltipPoint(){const e=this._localBounds;if(e){let i=0,r=0;return this.get("isMeasured")?(i=e.left+zn(this.get("tooltipX",0),e.right-e.left),r=e.top+zn(this.get("tooltipY",0),e.bottom-e.top)):(i=zn(this.get("tooltipX",0),this.width()),r=zn(this.get("tooltipY",0),this.height())),{x:i,y:r}}return{x:0,y:0}}getTooltip(){let e=this.get("tooltip");if(e)return e;{let i=this.parent;if(i)return i.getTooltip()}}_updatePosition(){const e=this.parent;let i=this.get("dx",0),r=this.get("dy",0),n=this.get("x"),s=this.getPrivate("x"),o=0,a=0;const l=this.get("position");n instanceof ti&&(e?n=e.innerWidth()*n.value+e.get("paddingLeft",0):n=0),pt(n)?o=n+i:s!=null?o=s:e&&l=="relative"&&(o=e.get("paddingLeft",0)+i);let h=this.get("y"),f=this.getPrivate("y");h instanceof ti&&(e?h=e.innerHeight()*h.value+e.get("paddingTop",0):h=0),pt(h)?a=h+r:f!=null?a=f:e&&l=="relative"&&(a=e.get("paddingTop",0)+r);const g=this._display;if(g.x!=o||g.y!=a){g.invalidateBounds(),g.x=o,g.y=a;const v="positionchanged";this.events.isEnabled(v)&&this.events.dispatch(v,{type:v,target:this})}this.getPrivate("showingTooltip")&&this.showTooltip()}x(){let e=this.get("x"),i=this.getPrivate("x");const r=this.parent;return r?e instanceof ti?zn(e,r.innerWidth())+r.get("paddingLeft",0):pt(e)?e:i??r.get("paddingLeft",this._display.x):this._display.x}y(){let e=this.getPrivate("y");if(e!=null)return e;let i=this.get("y");const r=this.parent;return r?i instanceof ti?zn(i,r.innerHeight())+r.get("paddingTop",0):pt(i)?i:e??r.get("paddingTop",this._display.y):this._display.y}_dispose(){super._dispose(),this._display.dispose(),this._removeTemplateField(),this._removeParent(this.parent),this._root._removeFocusElement(this);const e=this.get("tooltip");e&&e.dispose(),this.markDirty()}adjustedLocalBounds(){return this._fixMinBounds(this._adjustedLocalBounds),this._adjustedLocalBounds}localBounds(){return this._localBounds}bounds(){const e=this._adjustedLocalBounds,i=this.x(),r=this.y();return{left:e.left+i,right:e.right+i,top:e.top+r,bottom:e.bottom+r}}globalBounds(){const e=this.localBounds(),i=this.toGlobal({x:e.left,y:e.top}),r=this.toGlobal({x:e.right,y:e.top}),n=this.toGlobal({x:e.right,y:e.bottom}),s=this.toGlobal({x:e.left,y:e.bottom});return{left:Math.min(i.x,r.x,n.x,s.x),top:Math.min(i.y,r.y,n.y,s.y),right:Math.max(i.x,r.x,n.x,s.x),bottom:Math.max(i.y,r.y,n.y,s.y)}}_onShow(e){}_onHide(e){}appear(e,i){return fa(this,void 0,void 0,function*(){return yield this.hide(0),i?new Promise((r,n)=>{this.setTimeout(()=>{r(this.show(e))},i)}):this.show(e)})}show(e){return fa(this,void 0,void 0,function*(){if(!this._isShowing){this._isHidden=!1,this._isShowing=!0,this._isHiding=!1,this.states.lookup("default").get("visible")&&this.set("visible",!0),this._onShow(e);const i=this.states.applyAnimate("default",e);yield hte(i),this._isShowing=!1}})}hide(e){return fa(this,void 0,void 0,function*(){if(!this._isHiding&&!this._isHidden){this._isHiding=!0,this._isShowing=!1;let i=this.states.lookup("hidden");i||(i=this.states.create("hidden",{opacity:0,visible:!1})),this._isHidden=!0,this._onHide(e);const r=this.states.applyAnimate("hidden",e);yield hte(r),this._isHiding=!1}})}isHidden(){return this._isHidden}isShowing(){return this._isShowing}isHiding(){return this._isHiding}isHover(){return this._display.hovering()}isFocus(){return this._root.focused(this)}isDragging(){return this._isDragging}isVisible(){return!!(this.get("visible")&&this.getPrivate("visible")&&!this.get("forceHidden"))}isVisibleDeep(){return this._parent?this._parent.isVisibleDeep()&&this.isVisible():this.isVisible()}compositeOpacity(){const e=this.get("opacity",1);return this._parent?this._parent.compositeOpacity()*e:e}compositeScale(){const e=this.get("scale",1);return this._parent?this._parent.compositeScale()*e:e}compositeRotation(){const e=this.get("rotation",0);return this._parent?this._parent.compositeRotation()+e:e}width(){let e=this.get("width"),i=this.get("maxWidth",this.getPrivate("maxWidth")),r=this.get("minWidth",this.getPrivate("minWidth")),n=this.getPrivate("width"),s=0;if(pt(n))s=n;else if(e==null)this._adjustedLocalBounds&&(s=this._adjustedLocalBounds.right-this._adjustedLocalBounds.left);else if(e instanceof ti){const o=this.parent;o?s=o.innerWidth()*e.value:s=this._root.width()*e.value}else pt(e)&&(s=e);return pt(r)&&(s=Math.max(r,s)),pt(i)&&(s=Math.min(i,s)),s}maxWidth(){let e=this.get("maxWidth",this.getPrivate("maxWidth"));if(pt(e))return e;{let r=this.get("width");if(pt(r))return r}const i=this.parent;return i?i.innerWidth():this._root.width()}maxHeight(){let e=this.get("maxHeight",this.getPrivate("maxHeight"));if(pt(e))return e;{let r=this.get("height");if(pt(r))return r}const i=this.parent;return i?i.innerHeight():this._root.height()}height(){let e=this.get("height"),i=this.get("maxHeight",this.getPrivate("maxHeight")),r=this.get("minHeight",this.getPrivate("minHeight")),n=this.getPrivate("height"),s=0;if(pt(n))s=n;else if(e==null)this._adjustedLocalBounds&&(s=this._adjustedLocalBounds.bottom-this._adjustedLocalBounds.top);else if(e instanceof ti){const o=this.parent;o?s=o.innerHeight()*e.value:s=this._root.height()*e.value}else pt(e)&&(s=e);return pt(r)&&(s=Math.max(r,s)),pt(i)&&(s=Math.min(i,s)),s}_findStaticTemplate(e){return this._templateField&&e(this._templateField)?this._templateField:super._findStaticTemplate(e)}_walkParents(e){(this._parent||this._virtualParent)&&this._walkParent(e)}_walkParent(e){this._parent?this._parent._walkParent(e):this._virtualParent&&this._virtualParent._walkParent(e),e(this)}set virtualParent(e){this._virtualParent=e,this._applyThemes()}get parent(){return this._parent}_setParent(e,i=!1){const r=this._parent;e!==r&&(this.markDirtyBounds(),e.markDirty(),this._parent=e,i&&(this._removeParent(r),e&&(this._addPercentageSizeChildren(),this._addPercentagePositionChildren())),this.markDirtyPosition(),this._applyThemes())}getNumberFormatter(){return this.get("numberFormatter",this._root.numberFormatter)}getDateFormatter(){return this.get("dateFormatter",this._root.dateFormatter)}getDurationFormatter(){return this.get("durationFormatter",this._root.durationFormatter)}toGlobal(e){return this._display.toGlobal(e)}toLocal(e){return this._display.toLocal(e)}_getDownPoint(){const e=this._getDownPointId();if(e)return this._downPoints[e]}_getDownPointId(){if(this._downPoints)return OJe(this._downPoints,(e,i)=>e>i?1:e<i?-1:0)[0]}toFront(){const e=this.parent;e&&e.children.moveValue(this,e.children.length-1)}toBack(){const e=this.parent;e&&e.children.moveValue(this,0)}}Object.defineProperty(Su,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Sprite"});Object.defineProperty(Su,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:po.classNames.concat([Su.className])});class f$ extends po{constructor(){super(...arguments),Object.defineProperty(this,"_display",{enumerable:!0,configurable:!0,writable:!0,value:this._root._renderer.makeGraphics()}),Object.defineProperty(this,"_backgroundDisplay",{enumerable:!0,configurable:!0,writable:!0,value:this._root._renderer.makeGraphics()}),Object.defineProperty(this,"_clear",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_pattern",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}_afterNew(){super._afterNewApplyThemes()}get pattern(){return this._pattern}_draw(){}_beforeChanged(){super._beforeChanged(),(this.isDirty("repetition")||this.isDirty("width")||this.isDirty("height")||this.isDirty("rotation")||this.isDirty("strokeWidth")||this.isDirty("strokeDasharray")||this.isDirty("strokeDashoffset")||this.isDirty("colorOpacity")||this.isDirty("fillOpacity"))&&(this._clear=!0),this._checkDirtyFill()}_checkDirtyFill(){(this.isDirty("color")||this.isDirty("fill"))&&(this._clear=!0)}_changed(){if(super._changed(),this._clear){const e=this.get("repetition",""),i=this.get("width",100),r=this.get("height",100),n=this.get("fill"),s=this.get("fillOpacity",1),o=this._backgroundDisplay,a=this._display;a.clear(),o.clear(),n&&s>0&&(o.beginFill(n,s),o.drawRect(0,0,i,r),o.endFill()),a.angle=this.get("rotation",0),this._draw(),this._pattern=this._root._renderer.createPattern(a,o,e,i,r)}this._clear=!1}}Object.defineProperty(f$,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Pattern"});Object.defineProperty(f$,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:po.classNames.concat([f$.className])});class m$ extends f${constructor(){super(...arguments),Object.defineProperty(this,"_image",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}_beforeChanged(){super._beforeChanged(),this._clear=!0,this.isDirty("src")&&this._load();const e=this.get("canvas");e&&(this.set("width",e.width),this.set("height",e.height))}_draw(){super._draw();const e=this.get("colorOpacity");e!==void 0&&(this._display.alpha=Math.max(0,e));const i=this._image;if(i){const n=this.get("width",100),s=this.get("height",100),o=this.get("fit","image");let a=0,l=0;o=="pattern"?(a=n,l=s,this.markDirty()):(a=i.width,l=i.height,o=="image"&&(this.set("width",a),this.set("height",l)));const h=this.get("centered",!0);let f=0,g=0;h&&(f=n/2-a/2,g=s/2-l/2),this._display.image(i,a,l,f,g)}const r=this.get("canvas");r&&this._display.image(r,r.width,r.height,0,0)}_load(){const e=this.get("src");if(e){const i=new Image;i.src=e,i.decode().then(()=>{this._image=i,this._draw(),this.events.isEnabled("loaded")&&this.events.dispatch("loaded",{type:"loaded",target:this})}).catch(r=>{})}}}Object.defineProperty(m$,"className",{enumerable:!0,configurable:!0,writable:!0,value:"PicturePattern"});Object.defineProperty(m$,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:f$.classNames.concat([m$.className])});var sP;(function(t){t.ADD="lighter",t.COLOR="color",t.COLOR_BURN="color-burn",t.COLOR_DODGE="color-dodge",t.DARKEN="darken",t.DIFFERENCE="difference",t.DST_OVER="destination-over",t.EXCLUSION="exclusion",t.HARD_LIGHT="hard-light",t.HUE="hue",t.LIGHTEN="lighten",t.LUMINOSITY="luminosity",t.MULTIPLY="multiply",t.NORMAL="source-over",t.OVERLAY="overlay",t.SATURATION="saturation",t.SCREEN="screen",t.SOFT_LIGHT="soft-light",t.SRC_ATOP="source-atop",t.XOR="xor"})(sP||(sP={}));const bXe=["fill","fillOpacity","stroke","strokeWidth","strokeOpacity","fillPattern","strokePattern","fillGradient","strokeGradient","strokeDasharray","strokeDashoffset","shadowBlur","shadowColor","shadowOpacity","shadowOffsetX","shadowOffsetY","blur","sepia","invert","brightness","hue","contrast","saturate"];class bl extends Su{constructor(){super(...arguments),Object.defineProperty(this,"_display",{enumerable:!0,configurable:!0,writable:!0,value:this._root._renderer.makeGraphics()}),Object.defineProperty(this,"_clear",{enumerable:!0,configurable:!0,writable:!0,value:!1})}_beforeChanged(){if(super._beforeChanged(),(this.isDirty("draw")||this.isDirty("svgPath"))&&this.markDirtyBounds(),(this.isDirty("fill")||this.isDirty("stroke")||this.isDirty("visible")||this.isDirty("forceHidden")||this.isDirty("scale")||this.isDirty("fillGradient")||this.isDirty("strokeGradient")||this.isDirty("fillPattern")||this.isDirty("strokePattern")||this.isDirty("fillOpacity")||this.isDirty("strokeOpacity")||this.isDirty("strokeWidth")||this.isDirty("draw")||this.isDirty("blendMode")||this.isDirty("strokeDasharray")||this.isDirty("strokeDashoffset")||this.isDirty("svgPath")||this.isDirty("lineJoin")||this.isDirty("lineCap")||this.isDirty("shadowColor")||this.isDirty("shadowBlur")||this.isDirty("shadowOffsetX")||this.isDirty("shadowOffsetY"))&&(this._clear=!0),this._display.crisp=this.get("crisp",!1),this.isDirty("fillGradient")){const e=this.get("fillGradient");if(e){this._display.isMeasured=!0;const i=e.get("target");i&&(this._disposers.push(i.events.on("boundschanged",()=>{this._markDirtyKey("fill")})),this._disposers.push(i.events.on("positionchanged",()=>{this._markDirtyKey("fill")})))}}if(this.isDirty("strokeGradient")){const e=this.get("strokeGradient");if(e){this._display.isMeasured=!0;const i=e.get("target");i&&(this._disposers.push(i.events.on("boundschanged",()=>{this._markDirtyKey("stroke")})),this._disposers.push(i.events.on("positionchanged",()=>{this._markDirtyKey("stroke")})))}}}_changed(){if(super._changed(),this._clear){this.markDirtyBounds(),this.markDirtyLayer(),this._display.clear();let e=this.get("strokeDasharray");pt(e)&&(e<.5?e=[0]:e=[e]),this._display.setLineDash(e);const i=this.get("strokeDashoffset");i&&this._display.setLineDashOffset(i);const r=this.get("blendMode",sP.NORMAL);this._display.blendMode=r;const n=this.get("draw");n&&typeof n=="function"&&n(this._display,this);const s=this.get("svgPath");s!=null&&this._display.svgPath(s)}}_afterChanged(){if(super._afterChanged(),this._clear){const e=this.get("fill"),i=this.get("fillGradient"),r=this.get("fillPattern"),n=this.get("fillOpacity"),s=this.get("stroke"),o=this.get("strokeGradient"),a=this.get("strokePattern"),l=this.get("shadowColor"),h=this.get("shadowBlur"),f=this.get("shadowOffsetX"),g=this.get("shadowOffsetY"),v=this.get("shadowOpacity");if(l&&(h||f||g)&&this._display.shadow(l,h,f,g,v),e&&!i&&(this._display.beginFill(e,n),this._display.endFill()),i){if(e){const S=i.get("stops",[]);S.length&&Ce(S,T=>{(!T.color||T.colorInherited)&&e&&(T.color=e,T.colorInherited=!0),(T.opacity==null||T.opacityInherited)&&(T.opacity=n,T.opacityInherited=!0)})}const w=i.getFill(this);w&&(this._display.beginFill(w,n),this._display.endFill())}if(r){const w=r.pattern;w&&(this._display.beginFill(w,n),this._display.endFill(),r instanceof m$&&r.events.once("loaded",()=>{this._clear=!0,this.markDirty()}))}if(s||o||a){const w=this.get("strokeOpacity");let S=this.get("strokeWidth",1);this.get("nonScalingStroke")&&(S=S/this.get("scale",1)),this.get("crisp")&&(S/=this._root._renderer.resolution);const T=this.get("lineJoin"),C=this.get("lineCap");if(s&&!o&&(this._display.lineStyle(S,s,w,T,C),this._display.endStroke()),o){const I=o.get("stops",[]);I.length&&Ce(I,P=>{(!P.color||P.colorInherited)&&s&&(P.color=s,P.colorInherited=!0),(P.opacity==null||P.opacityInherited)&&(P.opacity=w,P.opacityInherited=!0)});const A=o.getFill(this);A&&(this._display.lineStyle(S,A,w,T,C),this._display.endStroke())}if(a){let I=a.pattern;I&&(this._display.lineStyle(S,I,w,T,C),this._display.endStroke(),a instanceof m$&&a.events.once("loaded",()=>{this._clear=!0,this.markDirty()}))}}this.getPrivate("showingTooltip")&&this.showTooltip()}this._clear=!1}}Object.defineProperty(bl,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Graphics"});Object.defineProperty(bl,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Su.classNames.concat([bl.className])});class Qm extends bl{_afterNew(){super._afterNew(),this._display.isMeasured=!0,this.setPrivateRaw("trustBounds",!0)}_beforeChanged(){super._beforeChanged(),(this.isDirty("width")||this.isDirty("height")||this.isPrivateDirty("width")||this.isPrivateDirty("height"))&&(this._clear=!0)}_changed(){super._changed(),this._clear&&!this.get("draw")&&this._draw()}_draw(){let e=this.width(),i=this.height(),r=0,n=0,s=e/Math.abs(e),o=i/Math.abs(i);if(this.get("containStroke",!1)){const a=this.get("strokeWidth",0);e-=a*s,i-=a*o,r+=a/2*s,n+=a/2*o}this._display.drawRect(r,n,e,i)}_updateSize(){this.markDirty(),this._clear=!0}}Object.defineProperty(Qm,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Rectangle"});Object.defineProperty(Qm,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:bl.classNames.concat([Qm.className])});function Mp(t,e){t.get("reverseChildren",!1)?t.children.eachReverse(e):t.children.each(e)}class Rp extends po{}Object.defineProperty(Rp,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Layout"});Object.defineProperty(Rp,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:po.classNames.concat([Rp.className])});class p1 extends Rp{updateContainer(e){let i=e.get("paddingLeft",0),r=e.innerWidth(),n=0;Mp(e,o=>{if(o.isVisible()&&o.get("position")=="relative"){let a=o.get("width");if(a instanceof ti){n+=a.value;let l=r*a.value,h=o.get("minWidth",o.getPrivate("minWidth",-1/0));h>l&&(r-=h,n-=a.value);let f=o.get("maxWidth",o.getPrivate("maxWidth",1/0));l>f&&(r-=f,n-=a.value)}else pt(a)||(a=o.width()),r-=a+o.get("marginLeft",0)+o.get("marginRight",0)}}),(r<=0||r==1/0)&&(r=.1),Mp(e,o=>{if(o.isVisible()&&o.get("position")=="relative"){let a=o.get("width");if(a instanceof ti){let l=r*a.value/n-o.get("marginLeft",0)-o.get("marginRight",0),h=o.get("minWidth",o.getPrivate("minWidth",-1/0)),f=o.get("maxWidth",o.getPrivate("maxWidth",1/0));l=Math.min(Math.max(h,l),f),o.setPrivate("width",l)}else o._prevSettings.width instanceof ti&&o.setPrivate("width",void 0)}});let s=i;Mp(e,o=>{if(o.get("position")=="relative")if(o.isVisible()){let a=o.adjustedLocalBounds(),l=o.get("marginLeft",0),h=o.get("marginRight",0),f=o.get("maxWidth"),g=a.left,v=a.right;f&&v-g>f&&(v=g+f);let w=s+l-g;o.setPrivate("x",w),s=w+v+h}else o.setPrivate("x",void 0)})}}Object.defineProperty(p1,"className",{enumerable:!0,configurable:!0,writable:!0,value:"HorizontalLayout"});Object.defineProperty(p1,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Rp.classNames.concat([p1.className])});class f1 extends Rp{updateContainer(e){let i=e.get("paddingTop",0),r=e.innerHeight(),n=0;Mp(e,o=>{if(o.isVisible()&&o.get("position")=="relative"){let a=o.get("height");if(a instanceof ti){n+=a.value;let l=r*a.value,h=o.get("minHeight",o.getPrivate("minHeight",-1/0));h>l&&(r-=h,n-=a.value);let f=o.get("maxHeight",o.getPrivate("maxHeight",1/0));l>f&&(r-=f,n-=a.value)}else pt(a)||(a=o.height()),r-=a+o.get("marginTop",0)+o.get("marginBottom",0)}}),(r<=0||r==1/0)&&(r=.1),Mp(e,o=>{if(o.isVisible()&&o.get("position")=="relative"){let a=o.get("height");if(a instanceof ti){let l=r*a.value/n-o.get("marginTop",0)-o.get("marginBottom",0),h=o.get("minHeight",o.getPrivate("minHeight",-1/0)),f=o.get("maxHeight",o.getPrivate("maxHeight",1/0));l=Math.min(Math.max(h,l),f),o.setPrivate("height",l)}else o._prevSettings.height instanceof ti&&o.setPrivate("height",void 0)}});let s=i;Mp(e,o=>{if(o.get("position")=="relative")if(o.isVisible()){let a=o.adjustedLocalBounds(),l=o.get("marginTop",0),h=a.top,f=a.bottom,g=o.get("maxHeight");g&&f-h>g&&(f=h+g);let v=o.get("marginBottom",0),w=s+l-h;o.setPrivate("y",w),s=w+f+v}else o.setPrivate("y",void 0)})}}Object.defineProperty(f1,"className",{enumerable:!0,configurable:!0,writable:!0,value:"VerticalLayout"});Object.defineProperty(f1,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Rp.classNames.concat([f1.className])});class zv extends Rp{_afterNew(){this._setRawDefault("maxColumns",Number.MAX_VALUE),super._afterNew()}updateContainer(e){let i=e.get("paddingLeft",0),r=e.get("paddingRight",0),n=e.get("paddingTop",0),s=e.maxWidth()-i-r,o=s,a=1;Mp(e,S=>{if(S.get("visible")&&S.getPrivate("visible")&&!S.get("forceHidden")&&S.get("position")!="absolute"){let T=S.width();T<o&&(o=T),T>a&&(a=T)}}),o=Ms(o,1,s),a=Ms(a,1,s);let l=1;this.get("fixedWidthGrid")?l=s/a:l=s/o,l=Math.max(1,Math.floor(l)),l=Math.min(this.get("maxColumns",Number.MAX_VALUE),l);let h=this.getColumnWidths(e,l,a,s),f=n,g=0,v=0;l=h.length;let w=i;Mp(e,S=>{if(S.get("position")=="relative"&&S.isVisible()){const T=S.get("marginTop",0),C=S.get("marginBottom",0);let I=S.adjustedLocalBounds(),A=S.get("marginLeft",0),P=S.get("marginRight",0),D=w+A-I.left,L=f+T-I.top;S.setPrivate("x",D),S.setPrivate("y",L),w+=h[g]+P,v=Math.max(v,S.height()+T+C),g++,g>=l&&(g=0,w=i,f+=v,v=0)}})}getColumnWidths(e,i,r,n){let s=0,o=[],a=0;return Mp(e,l=>{let h=l.adjustedLocalBounds();l.get("position")!="absolute"&&l.isVisible()&&(this.get("fixedWidthGrid")?o[a]=r:o[a]=Math.max(o[a]|0,h.right-h.left+l.get("marginLeft",0)+l.get("marginRight",0)),a<e.children.length-1&&(a++,a==i&&(a=0)))}),Ce(o,l=>{s+=l}),s>n?i>2?(i-=1,this.getColumnWidths(e,i,r,n)):[n]:o}}Object.defineProperty(zv,"className",{enumerable:!0,configurable:!0,writable:!0,value:"GridLayout"});Object.defineProperty(zv,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Rp.classNames.concat([zv.className])});class yu{static escape(e){return e.replace(/\[\[/g,this.prefix+"1").replace(/([^\/\]]{1})\]\]/g,"$1"+this.prefix+"2").replace(/\]\]/g,this.prefix+"2").replace(/\{\{/g,this.prefix+"3").replace(/\}\}/g,this.prefix+"4").replace(/\'\'/g,this.prefix+"5")}static unescape(e){return e.replace(new RegExp(this.prefix+"1","g"),"[[").replace(new RegExp(this.prefix+"2","g"),"]]").replace(new RegExp(this.prefix+"3","g"),"{{").replace(new RegExp(this.prefix+"4","g"),"}}").replace(new RegExp(this.prefix+"5","g"),"''")}static cleanUp(e){return e.replace(/\[\[/g,"[").replace(/\]\]/g,"]").replace(/\{\{/g,"{").replace(/\}\}/g,"}").replace(/\'\'/g,"'")}static chunk(e,i=!1,r=!1){let n=[];e=this.escape(e);let s=i?e.split("'"):[e];for(let o=0;o<s.length;o++){let a=s[o];if(a!=="")if(o%2===0){a=a.replace(/\]\[/g,"]"+Km+"["),a=a.replace(/\[\]/g,"[ ]");let l=a.split(/[\[\]]+/);for(let h=0;h<l.length;h++){let f=this.cleanUp(this.unescape(l[h]));f!==Km&&f!==""&&(h%2===0?n.push({type:"value",text:f}):n.push({type:r?"value":"format",text:"["+f+"]"}))}}else{let l=a.split(/[\[\]]+/);for(let h=0;h<l.length;h++){let f=this.cleanUp(this.unescape(l[h]));f!==""&&(h%2===0?n.push({type:"text",text:f}):this.isImage(f)?n.push({type:"image",text:"["+f+"]"}):n.push({type:"format",text:"["+f+"]"}))}}}return n}static isImage(e){return!!e.match(/img[ ]?:/)}static getTextStyle(e){let i={};if(e==""||e=="[ ]")return{};const r=e.match(/('[^']*')|("[^"]*")/gi);if(r)for(let s=0;s<r.length;s++)e=e.replace(r[s],r[s].replace(/['"]*/g,"").replace(/[ ]+/g,"+"));let n=e.match(/([\w\-]*:[\s]?[^;\s\]]*)|(\#[\w]{1,6})|([\w\-]+)|(\/)/gi);if(!n)return{};for(let s=0;s<n.length;s++)if(n[s].match(/^(normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900)$/i))i.fontWeight=n[s];else if(n[s].match(/^(underline|line-through)$/i))i.textDecoration=n[s];else if(n[s]!="/")if(!n[s].match(/:/))i.fill=Rt.fromString(n[s]);else{const o=n[s].replace("+"," ").split(/:[ ]*/);i[o[0]]=o[1]}return i}}Object.defineProperty(yu,"prefix",{enumerable:!0,configurable:!0,writable:!0,value:"__amcharts__"});function g$(t,e){if(e!=null){e=""+e,e=yu.escape(e);let i=e.match(/\{([^}]+)\}/g),r;if(i)for(r=0;r<i.length;r++){let n=i[r].replace(/\{([^}]+)\}/,"$1"),s=CV(t,n);s==null&&(s=""),e=e.split(i[r]).join(s)}e=yu.unescape(e)}else e="";return e}function CV(t,e,i){let r;const n=t.dataItem;let s=[],o=/(format[a-zA-Z]*)\((.*)\)|([^.]+)/g,a;for(;a=o.exec(e),a!==null;)if(a[3]){s.push({prop:a[3]});const l=t.getDateFormatter().get("dateFields",[]),h=t.getNumberFormatter().get("numericFields",[]),f=t.getDurationFormatter().get("durationFields",[]);l.indexOf(a[3])!==-1?s.push({method:"formatDate",params:[]}):h.indexOf(a[3])!==-1?s.push({method:"formatNumber",params:[]}):f.indexOf(a[3])!==-1&&s.push({method:"formatDuration",params:[]})}else{let l=[];if(s_(a[2])!=""){let h=/'([^']*)'|"([^"]*)"|([0-9\-]+)/g,f;for(;f=h.exec(a[2]),f!==null;)l.push(f[1]||f[2]||f[3])}s.push({method:a[1],params:l})}if(n){r=Cy(t,s,n._settings),(r==null||yk(r))&&(r=Cy(t,s,n));let l=n.dataContext;r==null&&l&&(r=Cy(t,s,l),r==null&&(r=Cy(t,[{prop:e}],l)),r==null&&l.dataContext&&(r=Cy(t,s,l.dataContext))),r==null&&n.component&&n.component.dataItem!==n&&(r=CV(n.component,e))}return r==null&&(r=Cy(t,s,t)),r==null&&t.parent&&(r=CV(t.parent,e)),r}function wXe(t,e){const i=t.getPrivate("customData");if(yk(i))return i[e]}function Cy(t,e,i,r){let n=i,s=!1;for(let o=0,a=e.length;o<a;o++){let l=e[o];if(l.prop){if(n instanceof Su){let h=n.get(l.prop);h==null&&(h=n.getPrivate(l.prop)),h==null&&(h=wXe(n,l.prop)),h==null&&(h=n[l.prop]),n=h}else if(n.get){let h=n.get(l.prop);h==null&&(h=n[l.prop]),n=h}else n=n[l.prop];if(n==null)return}else switch(l.method){case"formatNumber":let h=rl(n);h!=null&&(n=t.getNumberFormatter().format(h,l.params[0]||void 0),s=!0);break;case"formatDate":let f=SJe(n);if(!SV(f)||p7(f.getTime()))return;f!=null&&(n=t.getDateFormatter().format(f,l.params[0]||void 0),s=!0);break;case"formatDuration":let g=rl(n);g!=null&&(n=t.getDurationFormatter().format(g,l.params[0]||void 0,l.params[1]||void 0),s=!0);break;case"urlEncode":case"encodeURIComponent":n=encodeURIComponent(n);break;default:n[l.method]&&n[l.method].apply(i,l.params);break}}if(!s){let o=[{method:"",params:r}];pt(n)?(o[0].method="formatNumber",o[0].params=""):SV(n)&&(o[0].method="formatDate",o[0].params=""),o[0].method&&(n=Cy(t,o,n))}return n}class qi extends Su{constructor(){super(...arguments),Object.defineProperty(this,"_display",{enumerable:!0,configurable:!0,writable:!0,value:this._root._renderer.makeContainer()}),Object.defineProperty(this,"_childrenDisplay",{enumerable:!0,configurable:!0,writable:!0,value:this._root._renderer.makeContainer()}),Object.defineProperty(this,"children",{enumerable:!0,configurable:!0,writable:!0,value:new lXe(this)}),Object.defineProperty(this,"_percentageSizeChildren",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_percentagePositionChildren",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_prevWidth",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_prevHeight",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_contentWidth",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_contentHeight",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_contentMask",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_vsbd0",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_vsbd1",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_hsbd0",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_hsbd1",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_childrenPrep",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_childrenUpdt",{enumerable:!0,configurable:!0,writable:!0,value:!1})}_afterNew(){super._afterNew(),this._display.addChild(this._childrenDisplay)}_afterChanged(){super._afterChanged(),this._childrenPrep=!1,this._childrenUpdt=!1}_dispose(){l2(this.allChildren(),e=>{e.dispose()}),this.getPrivate("htmlElement")&&this._root._removeHTMLContent(this),super._dispose()}_beforeChanged(){this._childrenPrep||this._prepareChildren(),this._childrenUpdt||this._updateChildren(),super._beforeChanged()}_changed(){if(super._changed(),this.isDirty("interactiveChildren")&&(this._display.interactiveChildren=this.get("interactiveChildren",!1)),this.isDirty("layout")&&(this._prevWidth=0,this._prevHeight=0,this.markDirtyBounds(),this._prevSettings.layout&&this.children.each(e=>{e.removePrivate("x"),e.removePrivate("y")})),(this.isDirty("paddingTop")||this.isDirty("paddingBottom")||this.isDirty("paddingLeft")||this.isDirty("paddingRight"))&&this.children.each(e=>{e.markDirtyPosition()}),this.isDirty("maskContent")){const e=this._childrenDisplay;let i=this._contentMask;this.get("maskContent")?i||(i=Qm.new(this._root,{x:-.5,y:-.5,width:this.width()+1,height:this.height()+1}),this._contentMask=i,e.addChildAt(i._display,0),e.mask=i._display):i&&(e.removeChild(i._display),e.mask=null,i.dispose(),this._contentMask=void 0)}}_updateSize(){super._updateSize(),Ce(this._percentageSizeChildren,e=>{e._updateSize()}),Ce(this._percentagePositionChildren,e=>{e.markDirtyPosition(),e._updateSize()}),this.updateBackground()}updateBackground(){const e=this.get("background");let i=this._localBounds;if(i&&!this.isHidden()){let r=i.left,n=i.top,s=i.right-r,o=i.bottom-n,a=this.get("maxWidth"),l=this.get("maxHeight");l&&o>l&&(o=l),a&&s>a&&(s=a);let h=this.width(),f=this.height();e&&(e.setAll({width:s,height:o,x:r,y:n}),this._display.interactive&&(e._display.interactive=!0));const g=this._contentMask;g&&g.setAll({width:h+1,height:f+1});const v=this.get("verticalScrollbar");if(v){v.set("height",f),v.set("x",h-v.width()-v.get("marginRight",0)),v.set("end",v.get("start",0)+f/this._contentHeight);const w=v.get("background");w&&w.setAll({width:v.width(),height:f});let S=!0;this._contentHeight<=f&&(S=!1),v.setPrivate("visible",S)}}}_applyThemes(e=!1){return super._applyThemes(e)?(this.eachChildren(i=>{i._applyThemes(e)}),!0):!1}_applyState(e){super._applyState(e),this.get("setStateOnChildren")&&this.eachChildren(i=>{i.states.apply(e)})}_applyStateAnimated(e,i){super._applyStateAnimated(e,i),this.get("setStateOnChildren")&&this.eachChildren(r=>{r.states.applyAnimate(e,i)})}innerWidth(){return this.width()-this.get("paddingRight",0)-this.get("paddingLeft",0)}innerHeight(){return this.height()-this.get("paddingTop",0)-this.get("paddingBottom",0)}_getBounds(){if(this.get("html")){let e=this._localBounds;e&&(this._contentWidth=e.right-e.left,this._contentHeight=e.bottom-e.top)}else{let e=this.get("width"),i=this.get("height"),r=this.getPrivate("width"),n=this.getPrivate("height"),s={left:0,top:0,right:this.width(),bottom:this.height()},o=this.get("layout"),a=!1,l=!1;if((o instanceof p1||o instanceof zv)&&(a=!0),o instanceof f1&&(l=!0),!((e!=null||r!=null)&&(i!=null||n!=null)&&!this.get("verticalScrollbar"))){let h=Number.MAX_VALUE,f=h,g=-h,v=h,w=-h;const S=this.get("paddingLeft",0),T=this.get("paddingTop",0),C=this.get("paddingRight",0),I=this.get("paddingBottom",0);this.children.each(D=>{if(D.get("position")!="absolute"&&D.get("isMeasured")){let L=D.adjustedLocalBounds(),B=D.x(),N=D.y(),Y=B+L.left,K=B+L.right,te=N+L.top,ue=N+L.bottom;a&&(Y-=D.get("marginLeft",0),K+=D.get("marginRight",0)),l&&(te-=D.get("marginTop",0),ue+=D.get("marginBottom",0)),Y<f&&(f=Y),K>g&&(g=K),te<v&&(v=te),ue>w&&(w=ue)}}),f==h&&(f=0),g==-h&&(g=0),v==h&&(v=0),w==-h&&(w=0),s.left=f-S,s.top=v-T,s.right=g+C,s.bottom=w+I;const A=this.get("minWidth");pt(A)&&A>0&&s.right-s.left<A&&(s.right>=A?s.left=s.right-A:s.right=s.left+A);const P=this.get("minHeight");pt(P)&&P>0&&s.bottom-s.top<P&&(s.bottom>=P?s.top=s.bottom-P:s.bottom=s.top+P)}this._contentWidth=s.right-s.left,this._contentHeight=s.bottom-s.top,pt(e)&&(s.left=0,s.right=e),pt(r)&&(s.left=0,s.right=r),pt(i)&&(s.top=0,s.bottom=i),pt(n)&&(s.top=0,s.bottom=n),this._localBounds=s}}_updateBounds(){const e=this.get("layout");e&&e.updateContainer(this),super._updateBounds(),this.updateBackground()}markDirty(){super.markDirty(),this._root._addDirtyParent(this)}_prepareChildren(){this._childrenPrep=!0;const e=this.innerWidth(),i=this.innerHeight();if(e!=this._prevWidth||i!=this._prevHeight){let r=this.get("layout"),n=!1,s=!1;r&&((r instanceof p1||r instanceof zv)&&(n=!0),r instanceof f1&&(s=!0)),Ce(this._percentageSizeChildren,o=>{if(!n){let a=o.get("width");a instanceof ti&&o.setPrivate("width",a.value*e)}if(!s){let a=o.get("height");a instanceof ti&&o.setPrivate("height",a.value*i)}}),Ce(this._percentagePositionChildren,o=>{o.markDirtyPosition(),o.markDirtyBounds()}),this._prevWidth=e,this._prevHeight=i,this._sizeDirty=!0,this.updateBackground()}}_updateHTMLContent(){const e=this.get("html","");e&&e!==""?this._root._setHTMLContent(this,g$(this,e)):this._root._removeHTMLContent(this),this._root._positionHTMLElement(this)}scrollToChild(e){const i=this.get("verticalScrollbar");if(i){let r=e.y(),n=this.innerHeight(),s=e.height(),o=this._contentHeight,a=1-(n-s/2)/o;if(r+s*.7+this._childrenDisplay.y>n||r-s*.3+this._childrenDisplay.y<0){let l=Math.max(0,Math.min(a,(r-s/2)/o));i.animate({key:"start",to:l,duration:i.get("animationDuration",0),easing:i.get("animationEasing")})}}}_updateChildren(){if(this._childrenUpdt=!0,this.isDirty("html")&&this._updateHTMLContent(),this.isDirty("verticalScrollbar")){const e=this.get("verticalScrollbar");if(e){e._setParent(this),e.startGrip.setPrivate("visible",!1),e.endGrip.setPrivate("visible",!1),this.set("maskContent",!0),this.set("paddingRight",e.width()+e.get("marginRight",0)+e.get("marginLeft",0));let i=this.get("background");i||(i=this.set("background",Qm.new(this._root,{themeTags:["background"],fillOpacity:0,fill:this._root.interfaceColors.get("alternativeBackground")}))),this._vsbd0=this.events.on("wheel",r=>{const n=r.originalEvent;if(UJe(n,this))n.preventDefault();else return;let s=n.deltaY/5e3;const o=e.get("start",0),a=e.get("end",1);o+s<=0&&(s=-o),a+s>=1&&(s=1-a),o+s>=0&&a+s<=1&&(e.set("start",o+s),e.set("end",a+s))}),this._disposers.push(this._vsbd0),this._vsbd1=e.events.on("rangechanged",()=>{let r=this._contentHeight;const n=this._childrenDisplay,s=this._contentMask;n.y=-e.get("start",0)*r,n.markDirtyLayer(),s&&(s._display.y=-n.y,n.mask=s._display)}),this._disposers.push(this._vsbd1),this._display.addChild(e._display)}else{const i=this._prevSettings.verticalScrollbar;if(i){this._display.removeChild(i._display),this._vsbd0&&this._vsbd0.dispose(),this._vsbd1&&this._vsbd1.dispose();const r=this._childrenDisplay;r.y=0,this.setPrivate("height",void 0),this.set("maskContent",!1),this.set("paddingRight",void 0)}}}if(this.isDirty("background")){const e=this._prevSettings.background;e&&this._display.removeChild(e._display);const i=this.get("background");i instanceof Su&&(i.set("isMeasured",!1),i._setParent(this),this._display.addChildAt(i._display,0))}if(this.isDirty("mask")){const e=this.get("mask"),i=this._prevSettings.mask;if(i&&(this._display.removeChild(i._display),i!=e&&i.dispose()),e){const r=e.parent;r&&r.children.removeValue(e),e._setParent(this),this._display.addChildAt(e._display,0),this._childrenDisplay.mask=e._display}}}_processTemplateField(){super._processTemplateField(),this.children.each(e=>{e._processTemplateField()})}walkChildren(e){this.children.each(i=>{i instanceof qi&&i.walkChildren(e),e(i)})}eachChildren(e){const i=this.get("background");i&&e(i);const r=this.get("verticalScrollbar");r&&e(r);const n=this.get("mask");n&&e(n),this.children.values.forEach(s=>{e(s)})}allChildren(){const e=[];return this.eachChildren(i=>{e.push(i)}),e}_setDataItem(e){const i=e!==this._dataItem;super._setDataItem(e);const r=this.get("html","");r&&r!==""&&i&&this._root._setHTMLContent(this,g$(this,r))}contentWidth(){return this._contentWidth}contentHeight(){return this._contentHeight}}Object.defineProperty(qi,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Container"});Object.defineProperty(qi,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Su.classNames.concat([qi.className])});class Nv extends Su{constructor(){super(...arguments),Object.defineProperty(this,"textStyle",{enumerable:!0,configurable:!0,writable:!0,value:this._root._renderer.makeTextStyle()}),Object.defineProperty(this,"_display",{enumerable:!0,configurable:!0,writable:!0,value:this._root._renderer.makeText("",this.textStyle)}),Object.defineProperty(this,"_textStyles",{enumerable:!0,configurable:!0,writable:!0,value:["textAlign","fontFamily","fontSize","fontStyle","fontWeight","fontStyle","fontVariant","textDecoration","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","shadowOpacity","lineHeight","baselineRatio","direction","textBaseline","oversizedBehavior","breakWords","ellipsis","minScale","maxChars"]}),Object.defineProperty(this,"_originalScale",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}_updateBounds(){if(this.get("text")){super._updateBounds();let e=this.get("fillGradient");e&&(this._display.style.fill=e.getFill(this))}else{let e={left:0,right:0,top:0,bottom:0};this._adjustedLocalBounds=e}}_changed(){super._changed(),this._display.clear();let e=this.textStyle;if(this.isDirty("opacity")){let i=this.get("opacity",1);this._display.alpha=i}if((this.isDirty("text")||this.isDirty("populateText"))&&(this._display.text=this._getText(),this.markDirtyBounds(),this.get("role")=="tooltip"&&this._root.updateTooltip(this)),this.isPrivateDirty("tooltipElement")&&this.getPrivate("tooltipElement")&&this._disposers.push(new Nn(()=>{this._root._removeTooltipElement(this)})),this.isDirty("width")&&(e.wordWrapWidth=this.width(),this.markDirtyBounds()),this.isDirty("oversizedBehavior")&&(e.oversizedBehavior=this.get("oversizedBehavior","none"),this._display.invalidateVisibility(),this.markDirtyBounds()),this.isDirty("breakWords")&&(e.breakWords=this.get("breakWords",!1),this.markDirtyBounds()),this.isDirty("ellipsis")&&(e.ellipsis=this.get("ellipsis"),this.markDirtyBounds()),this.isDirty("ignoreFormatting")&&(e.ignoreFormatting=this.get("ignoreFormatting",!1),this.markDirtyBounds()),this.isDirty("minScale")&&(e.minScale=this.get("minScale",0),this.markDirtyBounds()),this.isDirty("fill")||this.isDirty("fillGradient")){const i=this.get("fill"),r=this.get("fillGradient"),n=this.get("fillOpacity");if(r){if(i){const s=r.get("stops",[]);s.length&&Ce(s,o=>{(!o.color||o.colorInherited)&&i&&(o.color=i,o.colorInherited=!0),(o.opacity==null||o.opacityInherited)&&(o.opacity=n,o.opacityInherited=!0)})}e.fill=r.getFill(this)}else i&&(e.fill=i)}if(this.isDirty("fillOpacity")){let i=this.get("fillOpacity",1);i&&(e.fillOpacity=i)}(this.isDirty("maxWidth")||this.isPrivateDirty("maxWidth"))&&(e.maxWidth=this.get("maxWidth",this.getPrivate("maxWidth")),this.markDirtyBounds()),(this.isDirty("maxHeight")||this.isPrivateDirty("maxHeight"))&&(e.maxHeight=this.get("maxHeight",this.getPrivate("maxHeight")),this.markDirtyBounds()),Ce(this._textStyles,i=>{this._dirty[i]&&(e[i]=this.get(i),this.markDirtyBounds())}),e.fontSize=this.get("fontSize"),e.fontFamily=this.get("fontFamily"),this._display.style=e,this.isDirty("role")&&this.get("role")=="tooltip"&&this._root.updateTooltip(this)}_getText(){let e=this.get("text","");return this.get("maxChars")&&(e=YJe(e,this.get("maxChars",1e8),this.get("breakWords"),this.get("ellipsis"))),this.get("populateText")?g$(this,e):e}_getAccessibleText(){const e=this.get("ariaLabel");return e!==void 0?this.get("populateText")?g$(this,e):e:this._getText()}markDirtyText(){this._display.text=this._getText(),this.get("role")=="tooltip"&&this._root.updateTooltip(this),this.markDirtyBounds(),this.markDirty()}_setDataItem(e){super._setDataItem(e),this.get("populateText")&&this.markDirtyText()}getNumberFormatter(){return this.parent?this.parent.getNumberFormatter():super.getNumberFormatter()}getDateFormatter(){return this.parent?this.parent.getDateFormatter():super.getDateFormatter()}getDurationFormatter(){return this.parent?this.parent.getDurationFormatter():super.getDurationFormatter()}}Object.defineProperty(Nv,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Text"});Object.defineProperty(Nv,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Su.classNames.concat([Nv.className])});class _Xe{constructor(){Object.defineProperty(this,"_observer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_targets",{enumerable:!0,configurable:!0,writable:!0,value:[]}),this._observer=new ResizeObserver(e=>{Ce(e,i=>{Ce(this._targets,r=>{r.target===i.target&&r.callback()})})})}addTarget(e,i){this._observer.observe(e,{box:"border-box"}),this._targets.push({target:e,callback:i})}removeTarget(e){this._observer.unobserve(e),z3(this._targets,i=>i.target!==e)}}class F3{constructor(){Object.defineProperty(this,"_timer",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"_targets",{enumerable:!0,configurable:!0,writable:!0,value:[]})}addTarget(e,i){if(this._timer===null){let n=null;const s=()=>{const o=Date.now();(n===null||o>n+F3.delay)&&(n=o,Ce(this._targets,a=>{let l=a.target.getBoundingClientRect();(l.width!==a.size.width||l.height!==a.size.height)&&(a.size=l,a.callback())})),this._targets.length===0?this._timer=null:this._timer=requestAnimationFrame(s)};this._timer=requestAnimationFrame(s)}let r={width:0,height:0,left:0,right:0,top:0,bottom:0,x:0,y:0};this._targets.push({target:e,callback:i,size:r})}removeTarget(e){z3(this._targets,i=>i.target!==e),this._targets.length===0&&this._timer!==null&&(cancelAnimationFrame(this._timer),this._timer=null)}}Object.defineProperty(F3,"delay",{enumerable:!0,configurable:!0,writable:!0,value:200});let dC=null;function xXe(){return dC===null&&(typeof ResizeObserver<"u"?dC=new _Xe:dC=new F3),dC}class SXe{constructor(e,i){Object.defineProperty(this,"_sensor",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_element",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_listener",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_disposed",{enumerable:!0,configurable:!0,writable:!0,value:!1}),this._sensor=xXe(),this._element=e,this._listener=dge(i),this._sensor.addTarget(e,i)}isDisposed(){return this._disposed}dispose(){this._disposed||(this._disposed=!0,this._sensor.removeTarget(this._element),this._listener.dispose())}get sensor(){return this._sensor}}class oP extends po{}Object.defineProperty(oP,"className",{enumerable:!0,configurable:!0,writable:!0,value:"InterfaceColors"});Object.defineProperty(oP,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:po.classNames.concat([oP.className])});class Tu extends qi{constructor(){super(...arguments),Object.defineProperty(this,"_text",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_textKeys",{enumerable:!0,configurable:!0,writable:!0,value:["text","fill","fillGradient","fillOpacity","textAlign","fontFamily","fontSize","fontStyle","fontWeight","fontStyle","fontVariant","textDecoration","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","shadowOpacity","lineHeight","baselineRatio","direction","textBaseline","oversizedBehavior","breakWords","ellipsis","minScale","populateText","role","ignoreFormatting","maxChars","ariaLabel"]})}get text(){return this._text}_afterNew(){super._afterNew(),this._makeText(),Ce(this._textKeys,e=>{const i=this.get(e);i!=null&&this._text.set(e,i)}),this.get("html","")!==""&&this._text.set("text",""),this.onPrivate("maxWidth",()=>{this._setMaxDimentions()}),this.onPrivate("maxHeight",()=>{this._setMaxDimentions()})}_makeText(){this._text=this.children.push(Nv.new(this._root,{}))}_updateChildren(){super._updateChildren();const e=this._text;if(Ce(this._textKeys,r=>{this._text.set(r,this.get(r))}),(this.isDirty("maxWidth")||this.isDirty("maxHeight")||this.isDirty("rotation"))&&this._setMaxDimentions(),this.get("html","")!==""?e.set("text",""):(e.set("text",this.get("text")),this._maybeUpdateHTMLColor()),(this.isDirty("fill")||this.isDirty("fillGradient"))&&this._maybeUpdateHTMLColor(),this.isDirty("textAlign")||this.isDirty("width")){const r=this.get("textAlign");let n;this.get("width")!=null?r=="right"?n=Qt:r=="center"?n=Bt:n=0:r=="left"||r=="start"?n=this.get("paddingLeft",0):(r=="right"||r=="end")&&(n=-this.get("paddingRight",0)),e.set("x",n)}const i=this.get("background");i&&i.setPrivate("visible",e._display.textVisible)}_maybeUpdateHTMLColor(){const e=this.getPrivate("htmlElement");e&&this.get("fill")&&(e.style.color=this.get("fill").toCSSHex())}_setMaxDimentions(){const e=this.get("rotation"),i=e==90||e==270||e==-90,r=this._text,n=this.get("maxWidth",this.getPrivate("maxWidth",1/0));pt(n)?r.set(i?"maxHeight":"maxWidth",n-this.get("paddingTop",0)-this.get("paddingBottom",0)):r.set(i?"maxHeight":"maxWidth",void 0);const s=this.get("maxHeight",this.getPrivate("maxHeight",1/0));pt(s)?r.set(i?"maxWidth":"maxHeight",s-this.get("paddingLeft",0)-this.get("paddingRight",0)):r.set(i?"maxWidth":"maxHeight",void 0),this.root.events.once("frameended",()=>{r.markDirtyBounds()})}_setDataItem(e){super._setDataItem(e),this._markDirtyKey("text"),this._markDirtyKey("html");const i=this._text;i.get("populateText")&&i.markDirtyText();const r=this.get("html");r&&r!==""&&this._updateHTMLContent()}getText(){return this._text._getText()}getAccessibleText(){return this._text._getAccessibleText()}}Object.defineProperty(Tu,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Label"});Object.defineProperty(Tu,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:qi.classNames.concat([Tu.className])});class o_ extends bl{_beforeChanged(){super._beforeChanged(),(this.isDirty("pointerBaseWidth")||this.isDirty("cornerRadius")||this.isDirty("pointerLength")||this.isDirty("pointerX")||this.isDirty("pointerY")||this.isDirty("width")||this.isDirty("height"))&&(this._clear=!0)}_changed(){if(super._changed(),this._clear){this.markDirtyBounds();let e=this.width(),i=this.height();if(e>0&&i>0){let r=this.get("cornerRadius",8);r=Ms(r,0,Math.min(e/2,i/2));let n=this.get("pointerX",0),s=this.get("pointerY",0),o=this.get("pointerBaseWidth",15)/2,a=0,l=0,h=e,f=0,g=e,v=i,w=0,S=i,T=(n-a)*(v-l)-(s-l)*(g-a),C=(n-w)*(f-S)-(s-S)*(h-w);const I=this._display;if(I.moveTo(r,0),T>0&&C>0){let A=Math.round(Ms(n,r+o,e-o-r));s=Ms(s,-1/0,0),I.lineTo(A-o,0),I.lineTo(n,s),I.lineTo(A+o,0)}if(I.lineTo(e-r,0),I.arcTo(e,0,e,r,r),T>0&&C<0){let A=Math.round(Ms(s,r+o,i-o-r));n=Ms(n,e,1/0),I.lineTo(e,r),I.lineTo(e,Math.max(A-o,r)),I.lineTo(n,s),I.lineTo(e,A+o)}if(I.lineTo(e,i-r),I.arcTo(e,i,e-r,i,r),T<0&&C<0){let A=Math.round(Ms(n,r+o,e-o-r));s=Ms(s,i,1/0),I.lineTo(e-r,i),I.lineTo(A+o,i),I.lineTo(n,s),I.lineTo(A-o,i)}if(I.lineTo(r,i),I.arcTo(0,i,0,i-r,r),T<0&&C>0){let A=Math.round(Ms(s,r+o,i-r-o));n=Ms(n,-1/0,0),I.lineTo(0,i-r),I.lineTo(0,A+o),I.lineTo(n,s),I.lineTo(0,Math.max(A-o,r))}I.lineTo(0,r),I.arcTo(0,0,r,0,r),I.closePath()}}}}Object.defineProperty(o_,"className",{enumerable:!0,configurable:!0,writable:!0,value:"PointedRectangle"});Object.defineProperty(o_,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:bl.classNames.concat([o_.className])});class y$ extends qi{constructor(e,i,r,n=[]){super(e,i,r,n),Object.defineProperty(this,"_fx",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_fy",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_label",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_fillDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_fillGrDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_strokeDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_labelDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_w",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_h",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_keepHoverDp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_htmlContentHovered",{enumerable:!0,configurable:!0,writable:!0,value:!1})}_afterNew(){this._settings.themeTags=tl(this._settings.themeTags,["tooltip"]),super._afterNew(),this._setDefaultFn("background",()=>o_.new(this._root,{})).set("themeTags",["tooltip","background"]),this._label=this.children.push(Tu.new(this._root,{})),this._disposers.push(this._label.events.on("boundschanged",()=>{this._updateBackground()})),this._disposers.push(this.on("bounds",()=>{this._updateBackground()})),this._updateTextColor(),this._root.tooltipContainer.children.push(this),this.hide(0),this._disposers.push(this.label.onPrivate("htmlElement",i=>{i&&(this._disposers.push(Jr(i,"pointerover",r=>{this._htmlContentHovered=!0})),this._disposers.push(Jr(i,"pointerout",r=>{this._htmlContentHovered=!1})))})),this.on("visible",i=>{this._handleReaderAnnouncement()}),this.label.events.on("dataitemchanged",i=>{this._handleReaderAnnouncement()}),this._root._tooltips.push(this)}_handleReaderAnnouncement(){this.get("readerAnnounce")&&this.isVisibleDeep()&&this._root.readerAlert(this.label.getAccessibleText())}get label(){return this._label}_dispose(){super._dispose(),gp(this._root._tooltips,this)}_updateChildren(){super._updateChildren(),(this.isDirty("pointerOrientation")||this.isPrivateDirty("minWidth")||this.isPrivateDirty("minHeight"))&&this.get("background")._markDirtyKey("width"),this.get("labelText")!=null&&this.label.set("text",this.get("labelText")),this.get("labelHTML")!=null&&this.label.set("html",this.get("labelHTML")),this.get("labelAriaLabel")!=null&&this.label.set("ariaLabel",this.get("labelAriaLabel"))}_changed(){if(super._changed(),(this.isDirty("pointTo")||this.isDirty("pointerOrientation"))&&this._updateBackground(),this.isDirty("tooltipTarget")&&this.updateBackgroundColor(),this.isDirty("keepTargetHover"))if(this.get("keepTargetHover")){const i=this.get("background");this._keepHoverDp=new da([i.events.on("pointerover",r=>{let n=this.get("tooltipTarget");n&&(n.parent&&n.parent.getPrivate("tooltipTarget")==n&&(n=n.parent),n.hover())}),i.events.on("pointerout",r=>{let n=this.get("tooltipTarget");n&&(n.parent&&n.parent.getPrivate("tooltipTarget")==n&&(n=n.parent),this._htmlContentHovered||n.unhover())})]),this.label.onPrivate("htmlElement",r=>{this._keepHoverDp&&r&&this._keepHoverDp.disposers.push(Jr(r,"pointerleave",n=>{const s=this.root._renderer.getEvent(n);i.events.dispatch("pointerout",{type:"pointerout",originalEvent:s.event,point:s.point,simulated:!1,target:i})}))})}else this._keepHoverDp&&(this._keepHoverDp.dispose(),this._keepHoverDp=void 0)}_onShow(){super._onShow(),this.updateBackgroundColor()}updateBackgroundColor(){let e=this.get("tooltipTarget");const i=this.get("background");let r,n;if(e&&i){if(r=e.get("fill"),n=e.get("stroke"),r==null&&(r=n),this.get("getFillFromSprite")&&(this._fillDp&&this._fillDp.dispose(),r!=null&&i.set("fill",r),this._fillDp=e.on("fill",s=>{s!=null&&(i.set("fill",s),this._updateTextColor(s))}),this._disposers.push(this._fillDp)),this.get("getFillGradientFromSprite")){this._fillGrDp&&this._fillGrDp.dispose();let s=e.get("fillGradient");s!=null&&i.set("fillGradient",s),this._fillGrDp=e.on("fillGradient",o=>{o!=null&&i.set("fillGradient",o)}),this._disposers.push(this._fillGrDp)}this.get("getStrokeFromSprite")&&(this._strokeDp&&this._strokeDp.dispose(),r!=null&&i.set("stroke",r),this._strokeDp=e.on("fill",s=>{s!=null&&i.set("stroke",s)}),this._disposers.push(this._strokeDp)),this.get("getLabelFillFromSprite")&&(this._labelDp&&this._labelDp.dispose(),r!=null&&this.label.set("fill",r),this._labelDp=e.on("fill",s=>{s!=null&&this.label.set("fill",s)}),this._disposers.push(this._labelDp))}this._updateTextColor(r)}_updateTextColor(e){this.get("autoTextColor")&&(e==null&&(e=this.get("background").get("fill")),e==null&&(e=this._root.interfaceColors.get("background")),e instanceof Rt&&this.label.set("fill",Rt.alternative(e,this._root.interfaceColors.get("alternativeText"),this._root.interfaceColors.get("text"))))}_setDataItem(e){super._setDataItem(e),this.label._setDataItem(e)}_updateBackground(){super.updateBackground();const e=this._root.container;if(e){let i=.5,r=.5,n=this.get("centerX");n instanceof ti&&(i=n.value);let s=this.get("centerY");s instanceof ti&&(r=s.value);let o=e.width(),a=e.height(),l=this.parent,h=0,f=0;if(l){h=l.x(),f=l.y();const ue=l.get("layerMargin");ue&&(h+=ue.left||0,f+=ue.top||0,o+=(ue.left||0)+(ue.right||0),a+=(ue.top||0)+(ue.bottom||0))}const g=this.get("bounds",{left:-h,top:-f,right:o-h,bottom:a-f});this._updateBounds();let v=this.width(),w=this.height();v===0&&(v=this._w),w===0&&(w=this._h);let S=this.get("pointTo",{x:o/2,y:a/2}),T=S.x,C=S.y,I=this.get("pointerOrientation"),A=this.get("background"),P=0,D=0,L=0;A instanceof o_&&(P=A.get("pointerLength",0),D=A.get("strokeWidth",0)/2,L=D,A.set("width",v),A.set("height",w));let B=0,N=0,Y=g.right-g.left,K=g.bottom-g.top;I=="horizontal"||I=="left"||I=="right"?(D=0,I=="horizontal"?T>g.left+Y/2?(T-=v*(1-i)+P,L*=-1):T+=v*i+P:I=="left"?T+=v*(1-i)+P:(T-=v*i+P,L*=-1)):(L=0,I=="vertical"?C>g.top+w/2+P?C-=w*(1-r)+P:(C+=w*r+P,D*=-1):I=="down"?C-=w*(1-r)+P:(C+=w*r+P,D*=-1)),T=Ms(T,g.left+v*i,g.left+Y-v*(1-i))+L,C=Ms(C,g.top+w*r,g.top+K-w*(1-r))-D,B=S.x-T+v*i+L,N=S.y-C+w*r-D,this._fx=T,this._fy=C;const te=this.get("animationDuration",0);if(te>0&&this.get("visible")&&this.get("opacity")>.1){const ue=this.get("animationEasing");this.animate({key:"x",to:T,duration:te,easing:ue}),this.animate({key:"y",to:C,duration:te,easing:ue})}else this.set("x",T),this.set("y",C);A instanceof o_&&(A.set("pointerX",B),A.set("pointerY",N)),v>0&&(this._w=v),w>0&&(this._h=w)}}}Object.defineProperty(y$,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Tooltip"});Object.defineProperty(y$,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:qi.classNames.concat([y$.className])});class TXe extends po{_setDefaults(){this._setDefault("negativeBase",0),this._setDefault("numberFormat","#,###.#####"),this._setDefault("smallNumberThreshold",1);const e="_big_number_suffix_",i="_small_number_suffix_",r="_byte_suffix_";this._setDefault("bigNumberPrefixes",[{number:1e3,suffix:this._t(e+"3")},{number:1e6,suffix:this._t(e+"6")},{number:1e9,suffix:this._t(e+"9")},{number:1e12,suffix:this._t(e+"12")},{number:1e15,suffix:this._t(e+"15")},{number:1e18,suffix:this._t(e+"18")},{number:1e21,suffix:this._t(e+"21")},{number:1e24,suffix:this._t(e+"24")}]),this._setDefault("smallNumberPrefixes",[{number:1e-24,suffix:this._t(i+"24")},{number:1e-21,suffix:this._t(i+"21")},{number:1e-18,suffix:this._t(i+"18")},{number:1e-15,suffix:this._t(i+"15")},{number:1e-12,suffix:this._t(i+"12")},{number:1e-9,suffix:this._t(i+"9")},{number:1e-6,suffix:this._t(i+"6")},{number:.001,suffix:this._t(i+"3")}]),this._setDefault("bytePrefixes",[{number:1,suffix:this._t(r+"B")},{number:1024,suffix:this._t(r+"KB")},{number:1048576,suffix:this._t(r+"MB")},{number:1073741824,suffix:this._t(r+"GB")},{number:1099511627776,suffix:this._t(r+"TB")},{number:0x4000000000000,suffix:this._t(r+"PB")}]),super._setDefaults()}_beforeChanged(){super._beforeChanged()}format(e,i,r){(i==null||Lv(i)&&i.toLowerCase()==="number")&&(i=this.get("numberFormat",""));let n,s=Number(e);if(yk(i))try{return this.get("intlLocales")?new Intl.NumberFormat(this.get("intlLocales"),i).format(s):new Intl.NumberFormat(void 0,i).format(s)}catch{return"Invalid"}else{i=g7(i);let o=this.parseFormat(i,this._root.language),a;s>this.get("negativeBase")?a=o.positive:s<this.get("negativeBase")?a=o.negative:a=o.zero,r!=null&&!a.mod&&(a=PJe(a),a.decimals.active=s==0?0:r),n=a.template.split(Km).join(this.applyFormat(s,a))}return this.get("forceLTR")===!0&&(n=""+n),n}parseFormat(e,i){const r=i.translateEmpty("_thousandSeparator"),n=i.translateEmpty("_decimalSeparator");let s={positive:{thousands:{active:-1,passive:-1,interval:-1,separator:r},decimals:{active:-1,passive:-1,separator:n},template:"",source:"",parsed:!1},negative:{thousands:{active:-1,passive:-1,interval:-1,separator:r},decimals:{active:-1,passive:-1,separator:n},template:"",source:"",parsed:!1},zero:{thousands:{active:-1,passive:-1,interval:-1,separator:r},decimals:{active:-1,passive:-1,separator:n},template:"",source:"",parsed:!1}};e=e.replace("||",Dw);let o=e.split("|");return s.positive.source=o[0],typeof o[2]>"u"?s.zero=s.positive:s.zero.source=o[2],typeof o[1]>"u"?s.negative=s.positive:s.negative.source=o[1],ir(s,(a,l)=>{if(l.parsed)return;let h=l.source;h.toLowerCase()==="number"&&(h=this.get("numberFormat","#,###.#####"));let f=yu.chunk(h,!0);for(let g=0;g<f.length;g++){let v=f[g];if(v.text=v.text.replace(Dw,"|"),v.type==="value"){let w=v.text.match(/[#0.,]+[ ]?[abespABESP%!]?[abespABESP!]?/);if(w)if(w===null||w[0]==="")l.template+=v.text;else{let S=w[0].match(/[abespABESP%!]{2}|[abespABESP%]{1}$/);S&&(l.mod=S[0].toLowerCase(),l.modSpacing=!!w[0].match(/[ ]{1}[abespABESP%!]{1}$/));let T=w[0].split(".");if(T[0]!==""){l.thousands.active=(T[0].match(/0/g)||[]).length,l.thousands.passive=(T[0].match(/\#/g)||[]).length+l.thousands.active;let C=T[0].split(",");C.length===1||(l.thousands.interval=(C.pop()||"").length,l.thousands.interval===0&&(l.thousands.interval=-1))}typeof T[1]>"u"||(l.decimals.active=(T[1].match(/0/g)||[]).length,l.decimals.passive=(T[1].match(/\#/g)||[]).length+l.decimals.active),l.template+=v.text.split(w[0]).join(Km)}}else l.template+=v.text}l.parsed=!0}),s}applyFormat(e,i){let r=e<0;e=Math.abs(e);let n="",s="",o=i.mod?i.mod.split(""):[];if(o.indexOf("b")!==-1){let g=this.applyPrefix(e,this.get("bytePrefixes"),o.indexOf("!")!==-1);e=g[0],n=g[1],s=g[2],i.modSpacing&&(s=" "+s)}else if(o.indexOf("a")!==-1){let g=this.applyPrefix(e,e<this.get("smallNumberThreshold")?this.get("smallNumberPrefixes"):this.get("bigNumberPrefixes"),o.indexOf("!")!==-1);e=g[0],n=g[1],s=g[2],i.modSpacing&&(s=" "+s)}else if(o.indexOf("p")!==-1){let g=Math.min(e.toString().length+2,21);e=parseFloat(e.toPrecision(g)),n=this._root.language.translate("_percentPrefix"),s=this._root.language.translate("_percentSuffix"),n==""&&s==""&&(s="%")}else if(o.indexOf("%")!==-1){let g=Math.min(e.toString().length+2,21);e*=100,e=parseFloat(e.toPrecision(g)),s="%"}else if(o.indexOf("")!==-1){let g=Math.min(e.toString().length+3,21);e*=1e3,e=parseFloat(e.toPrecision(g)),s=""}if(o.indexOf("e")!==-1){let g;i.decimals.passive>=0?g=e.toExponential(i.decimals.passive).split("e"):g=e.toExponential().split("e"),e=Number(g[0]),s="e"+g[1],i.modSpacing&&(s=" "+s)}else if(i.decimals.passive===0)e=Math.round(e);else if(i.decimals.passive>0){const g=qJe(e);if(g>0){const v=Math.pow(10,i.decimals.passive);e=Math.round(parseFloat((e*v).toFixed(g)))/v}}let a="",l=TJe(e).split("."),h=l[0];if(h.length<i.thousands.active&&(h=Array(i.thousands.active-h.length+1).join("0")+h),i.thousands.interval>0){let g=[],v=h.split("").reverse().join("");for(let w=0,S=h.length;w<=S;w+=i.thousands.interval){let T=v.substr(w,i.thousands.interval).split("").reverse().join("");T!==""&&g.unshift(T)}h=g.join(i.thousands.separator)}a+=h,l.length===1&&l.push("");let f=l[1];return f.length<i.decimals.active&&(f+=Array(i.decimals.active-f.length+1).join("0")),f!==""&&(a+=i.decimals.separator+f),a===""&&(a="0"),e!==0&&r&&o.indexOf("s")===-1&&(a="-"+a),n&&(a=n+a),s&&(a+=s),a}applyPrefix(e,i,r=!1){let n=e,s="",o="",a=!1,l=1;for(let h=0,f=i.length;h<f;h++)i[h].number<=e&&(i[h].number===0?n=0:(n=e/i[h].number,l=i[h].number),s=i[h].prefix,o=i[h].suffix,a=!0);return!a&&r&&i.length&&e!=0&&(n=e/i[0].number,s=i[0].prefix,o=i[0].suffix,a=!0),a&&(n=parseFloat(n.toPrecision(Math.min(l.toString().length+Math.floor(n).toString().replace(/[^0-9]*/g,"").length,21)))),[n,s,o]}escape(e){return e.replace("||",Dw)}unescape(e){return e.replace(Dw,"|")}}function _ge(t,e){let i=0,r=0,n=1,s=0,o=0,a=0,l=0,h=0;return t.formatToParts(e).forEach(f=>{switch(f.type){case"year":i=+f.value;break;case"month":r=+f.value-1;break;case"day":n=+f.value;break;case"hour":s=+f.value;break;case"minute":o=+f.value;break;case"second":a=+f.value;break;case"fractionalSecond":l=+f.value;break;case"weekday":switch(f.value){case"Sun":h=0;break;case"Mon":h=1;break;case"Tue":h=2;break;case"Wed":h=3;break;case"Thu":h=4;break;case"Fri":h=5;break;case"Sat":h=6;break}}}),s===24&&(s=0),{year:i,month:r,day:n,hour:s,minute:o,second:a,millisecond:l,weekday:h}}function fte(t,e){const{year:i,month:r,day:n,hour:s,minute:o,second:a,millisecond:l}=_ge(t,e);return Date.UTC(i,r,n,s,o,a,l)}class $Xe{constructor(e,i){if(Object.defineProperty(this,"_utc",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_dtf",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),!i)throw new Error("You cannot use `new Class()`, instead use `Class.new()`");this.name=e,this._utc=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:"UTC",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",weekday:"short",fractionalSecondDigits:3}),this._dtf=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:e,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",weekday:"short",fractionalSecondDigits:3})}static new(e){return new this(e,!0)}convertLocal(e){const i=this.offsetUTC(e),r=e.getTimezoneOffset(),n=new Date(e);n.setUTCMinutes(n.getUTCMinutes()-(i-r));const s=n.getTimezoneOffset();return r!=s&&n.setUTCMinutes(n.getUTCMinutes()+s-r),n}offsetUTC(e){const i=fte(this._utc,e),r=fte(this._dtf,e);return(i-r)/6e4}parseDate(e){return _ge(this._dtf,e)}}class kXe extends po{_setDefaults(){this._setDefault("capitalize",!0),this._setDefault("dateFormat","yyyy-MM-dd"),super._setDefaults()}_beforeChanged(){super._beforeChanged()}format(e,i,r=!1){(typeof i>"u"||i==="")&&(i=this.get("dateFormat","yyyy-MM-dd"));let n,s=e;if(yk(i))try{const h=this.get("intlLocales");return h?new Intl.DateTimeFormat(h,i).format(s):new Intl.DateTimeFormat(void 0,i).format(s)}catch{return"Invalid"}let o=this.parseFormat(i);const a=this._root.timezone;let l=s;return a&&!this._root.utc&&!r&&(s=a.convertLocal(s)),pt(s.getTime())?(n=this.applyFormat(s,o,r,l),this.get("capitalize")&&(n=n.replace(/^.{1}/,n.substr(0,1).toUpperCase())),n):"Invalid date"}applyFormat(e,i,r=!1,n){let s=i.template,o,a,l,h,f,g,v,w,S=e.getTime();this._root.utc&&!r?(o=e.getUTCFullYear(),a=e.getUTCMonth(),l=e.getUTCDay(),h=e.getUTCDate(),f=e.getUTCHours(),g=e.getUTCMinutes(),v=e.getUTCSeconds(),w=e.getUTCMilliseconds()):(o=e.getFullYear(),a=e.getMonth(),l=e.getDay(),h=e.getDate(),f=e.getHours(),g=e.getMinutes(),v=e.getSeconds(),w=e.getMilliseconds());for(let T=0,C=i.parts.length;T<C;T++){let I="";switch(i.parts[T]){case"G":I=this._t(o<0?"_era_bc":"_era_ad");break;case"yyyy":I=Math.abs(o).toString(),o<0&&(I+=this._t("_era_bc"));break;case"yyy":case"yy":case"y":I=Math.abs(o).toString().substr(-i.parts[T].length),o<0&&(I+=this._t("_era_bc"));break;case"YYYY":case"YYY":case"YY":case"Y":let A=JJe(e,this._root.utc);i.parts[T]=="YYYY"?I=Math.abs(A).toString():I=Math.abs(A).toString().substr(-i.parts[T].length),A<0&&(I+=this._t("_era_bc"));break;case"u":break;case"q":I=""+Math.ceil((e.getMonth()+1)/3);break;case"MMMMM":I=this._t(this._getMonth(a)).substr(0,1);break;case"MMMM":I=this._t(this._getMonth(a));break;case"MMM":I=this._t(this._getShortMonth(a));break;case"MM":I=ln(a+1,2,"0");break;case"M":I=(a+1).toString();break;case"ww":I=ln(nP(e,this._root.utc),2,"0");break;case"w":I=nP(e,this._root.utc).toString();break;case"W":I=XJe(e,this._root.utc).toString();break;case"dd":I=ln(h,2,"0");break;case"d":I=h.toString();break;case"DD":case"DDD":I=ln(ute(e,this._root.utc).toString(),i.parts[T].length,"0");break;case"D":I=ute(e,this._root.utc).toString();break;case"F":break;case"g":break;case"t":I=this._root.language.translateFunc("_dateOrd").call(this,h);break;case"E":I=(l||7).toString();break;case"EE":I=ln((l||7).toString(),2,"0");break;case"EEE":case"eee":I=this._t(this._getShortWeekday(l));break;case"EEEE":case"eeee":I=this._t(this._getWeekday(l));break;case"EEEEE":case"eeeee":I=this._t(this._getShortWeekday(l)).substr(0,1);break;case"e":case"ee":I=(l-(this._root.locale.firstDayOfWeek||1)+1).toString(),i.parts[T]=="ee"&&(I=ln(I,2,"0"));break;case"a":f>=12?I=this._t("PM"):I=this._t("AM");break;case"aa":f>=12?I=this._t("P.M."):I=this._t("A.M.");break;case"aaa":f>=12?I=this._t("P"):I=this._t("A");break;case"h":I=lC(f).toString();break;case"hh":I=ln(lC(f),2,"0");break;case"H":I=f.toString();break;case"HH":I=ln(f,2,"0");break;case"K":I=lC(f,0).toString();break;case"KK":I=ln(lC(f,0),2,"0");break;case"k":I=(f+1).toString();break;case"kk":I=ln(f+1,2,"0");break;case"m":I=g.toString();break;case"mm":I=ln(g,2,"0");break;case"s":I=v.toString();break;case"ss":I=ln(v,2,"0");break;case"S":case"SS":case"SSS":I=Math.round(w/1e3*Math.pow(10,i.parts[T].length)).toString();break;case"x":I=S.toString();break;case"n":case"nn":case"nnn":I=ln(w,i.parts[T].length,"0");break;case"z":I=cC(n||e,!1,!1,this._root.utc,this._root.timezone?this._root.timezone.name:void 0).replace(/[+-]+[0-9]+$/,"");break;case"zz":I=cC(n||e,!0,!1,this._root.utc,this._root.timezone?this._root.timezone.name:void 0);break;case"zzz":I=cC(n||e,!1,!0,this._root.utc,this._root.timezone?this._root.timezone.name:void 0).replace(/[+-]+[0-9]+$/,"");break;case"zzzz":I=cC(n||e,!0,!0,this._root.utc,this._root.timezone?this._root.timezone.name:void 0);break;case"Z":case"ZZ":let P=this._root.utc?"UTC":this._root.timezone;P instanceof $Xe&&(P=P.name);const D=P?QJe(P,n||e):e.getTimezoneOffset();let L=Math.abs(D)/60,B=Math.floor(L),N=L*60-B*60;this._root.utc&&(B=0,N=0),i.parts[T]=="Z"?(I="GMT",I+=D>0?"-":"+",I+=ln(B,2)+":"+ln(N,2)):(I=D>0?"-":"+",I+=ln(B,2)+ln(N,2));break;case"i":I=e.toISOString();break;case"I":I=e.toUTCString();break}s=s.replace(Km,I)}return s}parseFormat(e){let i={template:"",parts:[]},r=yu.chunk(e,!0);for(let n=0;n<r.length;n++){let s=r[n];if(s.type==="value"){if(s.text.match(/^date$/i)){let a=this.get("dateFormat","yyyy-MM-dd");Lv(a)||(a="yyyy-MM-dd"),s.text=a}let o=s.text.match(/G|yyyy|yyy|yy|y|YYYY|YYY|YY|Y|u|q|MMMMM|MMMM|MMM|MM|M|ww|w|W|dd|d|DDD|DD|D|F|g|EEEEE|EEEE|EEE|EE|E|eeeee|eeee|eee|ee|e|aaa|aa|a|hh|h|HH|H|KK|K|kk|k|mm|m|ss|s|SSS|SS|S|A|zzzz|zzz|zz|z|ZZ|Z|t|x|nnn|nn|n|i|I/g);if(o)for(let a=0;a<o.length;a++)i.parts.push(o[a]),s.text=s.text.replace(o[a],Km)}i.template+=s.text}return i}_months(){return["January","February","March","April","May","June","July","August","September","October","November","December"]}_getMonth(e){return this._months()[e]}_shortMonths(){return["Jan","Feb","Mar","Apr","May(short)","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}_getShortMonth(e){return this._shortMonths()[e]}_weekdays(){return["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]}_getWeekday(e){return this._weekdays()[e]}_shortWeekdays(){return["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]}_getShortWeekday(e){return this._shortWeekdays()[e]}parse(e,i,r){if(typeof r>"u"&&(r=this._root.utc),e instanceof Date)return e;if(pt(e))return new Date(e);if(i=="x")return new Date(parseInt(e));Lv(e)||(e=e.toString());let n,s="";i=g7(i),i=i.substr(0,e.length);let o=this.parseFormat(i),a={year:-1,year3:-1,year2:-1,year1:-1,month:-1,monthShort:-1,monthLong:-1,weekdayShort:-1,weekdayLong:-1,day:-1,yearDay:-1,week:-1,hourBase0:-1,hour12Base0:-1,hourBase1:-1,hour12Base1:-1,minute:-1,second:-1,millisecond:-1,millisecondDigits:-1,am:-1,zone:-1,timestamp:-1,iso:-1},l={year:1970,month:0,day:1,hour:0,minute:0,second:0,millisecond:0,timestamp:null,offset:0,utc:r},h=0,f=0;for(let w=0;w<o.parts.length;w++){switch(f=w+h+1,o.parts[w]){case"yyyy":case"YYYY":s+="([0-9]{4})",a.year=f;break;case"yyy":case"YYY":s+="([0-9]{3})",a.year3=f;break;case"yy":case"YY":s+="([0-9]{2})",a.year2=f;break;case"y":case"Y":s+="([0-9]{1})",a.year1=f;break;case"MMMM":s+="("+this.getStringList(this._months()).join("|")+")",a.monthLong=f;break;case"MMM":s+="("+this.getStringList(this._shortMonths()).join("|")+")",a.monthShort=f;break;case"MM":case"M":s+="([0-9]{2}|[0-9]{1})",a.month=f;break;case"ww":case"w":s+="([0-9]{2}|[0-9]{1})",a.week=f;break;case"dd":case"d":s+="([0-9]{2}|[0-9]{1})",a.day=f;break;case"DDD":case"DD":case"D":s+="([0-9]{3}|[0-9]{2}|[0-9]{1})",a.yearDay=f;break;case"dddd":s+="("+this.getStringList(this._weekdays()).join("|")+")",a.weekdayLong=f;break;case"ddd":s+="("+this.getStringList(this._shortWeekdays()).join("|")+")",a.weekdayShort=f;break;case"aaa":case"aa":case"a":s+="("+this.getStringList(["AM","PM","A.M.","P.M.","A","P"]).join("|")+")",a.am=f;break;case"hh":case"h":s+="([0-9]{2}|[0-9]{1})",a.hour12Base1=f;break;case"HH":case"H":s+="([0-9]{2}|[0-9]{1})",a.hourBase0=f;break;case"KK":case"K":s+="([0-9]{2}|[0-9]{1})",a.hour12Base0=f;break;case"kk":case"k":s+="([0-9]{2}|[0-9]{1})",a.hourBase1=f;break;case"mm":case"m":s+="([0-9]{2}|[0-9]{1})",a.minute=f;break;case"ss":case"s":s+="([0-9]{2}|[0-9]{1})",a.second=f;break;case"SSS":case"SS":case"S":s+="([0-9]{3}|[0-9]{2}|[0-9]{1})",a.millisecond=f,a.millisecondDigits=o.parts[w].length;break;case"nnn":case"nn":case"n":s+="([0-9]{3}|[0-9]{2}|[0-9]{1})",a.millisecond=f;break;case"x":s+="([0-9]{1,})",a.timestamp=f;break;case"Z":s+="GMT([-+]+[0-9]{2}:[0-9]{2})",a.zone=f;break;case"ZZ":s+="([\\-+]+[0-9]{2}[0-9]{2})",a.zone=f;break;case"i":s+="([0-9]{4})-?([0-9]{2})-?([0-9]{2})T?([0-9]{2}):?([0-9]{2}):?([0-9]{2})\\.?([0-9]{0,3})([zZ]|[+\\-][0-9]{2}:?[0-9]{2}|$)",a.iso=f,h+=7;break;case"G":case"YYYY":case"YYY":case"YY":case"Y":case"MMMMM":case"W":case"EEEEE":case"EEEE":case"EEE":case"EE":case"E":case"eeeee":case"eeee":case"eee":case"ee":case"e":case"zzzz":case"zzz":case"zz":case"z":case"t":h--;break}s+="[^0-9]*"}let g=new RegExp(s),v=e.match(g);if(v){if(a.year>-1&&(l.year=parseInt(v[a.year])),a.year3>-1){let w=parseInt(v[a.year3]);w+=1e3,l.year=w}if(a.year2>-1){let w=parseInt(v[a.year2]);w>50?w+=1e3:w+=2e3,l.year=w}if(a.year1>-1){let w=parseInt(v[a.year1]);w=Math.floor(new Date().getFullYear()/10)*10+w,l.year=w}if(a.monthLong>-1&&(l.month=this.resolveMonth(v[a.monthLong])),a.monthShort>-1&&(l.month=this.resolveShortMonth(v[a.monthShort])),a.month>-1&&(l.month=parseInt(v[a.month])-1),a.week>-1&&a.day===-1&&(l.month=0,l.day=KJe(parseInt(v[a.week]),l.year,1,r)),a.day>-1&&(l.day=parseInt(v[a.day])),a.yearDay>-1&&(l.month=0,l.day=parseInt(v[a.yearDay])),a.hourBase0>-1&&(l.hour=parseInt(v[a.hourBase0])),a.hourBase1>-1&&(l.hour=parseInt(v[a.hourBase1])-1),a.hour12Base0>-1){let w=parseInt(v[a.hour12Base0]);w==11&&(w=0),a.am>-1&&!this.isAm(v[a.am])&&(w+=12),l.hour=w}if(a.hour12Base1>-1){let w=parseInt(v[a.hour12Base1]);w==12&&(w=0),a.am>-1&&!this.isAm(v[a.am])&&(w+=12),l.hour=w}if(a.minute>-1&&(l.minute=parseInt(v[a.minute])),a.second>-1&&(l.second=parseInt(v[a.second])),a.millisecond>-1){let w=parseInt(v[a.millisecond]);a.millisecondDigits==2?w*=10:a.millisecondDigits==1&&(w*=100),l.millisecond=w}if(a.timestamp>-1){l.timestamp=parseInt(v[a.timestamp]);const w=new Date(l.timestamp);l.year=w.getUTCFullYear(),l.month=w.getUTCMonth(),l.day=w.getUTCDate(),l.hour=w.getUTCHours(),l.minute=w.getUTCMinutes(),l.second=w.getUTCSeconds(),l.millisecond=w.getUTCMilliseconds()}a.zone>-1&&(l.offset=this.resolveTimezoneOffset(new Date(l.year,l.month,l.day),v[a.zone])),a.iso>-1&&(l.year=rl(v[a.iso+0]),l.month=rl(v[a.iso+1])-1,l.day=rl(v[a.iso+2]),l.hour=rl(v[a.iso+3]),l.minute=rl(v[a.iso+4]),l.second=rl(v[a.iso+5]),l.millisecond=rl(v[a.iso+6]),v[a.iso+7]=="Z"||v[a.iso+7]=="z"?l.utc=!0:v[a.iso+7]!=""&&(l.offset=this.resolveTimezoneOffset(new Date(l.year,l.month,l.day),v[a.iso+7]))),l.utc?n=new Date(Date.UTC(l.year,l.month,l.day,l.hour,l.minute,l.second,l.millisecond)):n=new Date(l.year,l.month,l.day,l.hour,l.minute+l.offset,l.second,l.millisecond)}else n=new Date(e);return n}resolveTimezoneOffset(e,i){if(i.match(/([+\-]?)([0-9]{2}):?([0-9]{2})/)){let n=i.match(/([+\-]?)([0-9]{2}):?([0-9]{2})/),s=n[1],o=n[2],a=n[3],l=parseInt(o)*60+parseInt(a);s=="+"&&(l*=-1);let h=(e||new Date).getTimezoneOffset();return l-h}return 0}resolveMonth(e){let i=this._months().indexOf(e);return i>-1||!this._root.language.isDefault()&&(i=this._root.language.translateAll(this._months()).indexOf(e),i>-1)?i:0}resolveShortMonth(e){let i=this._shortMonths().indexOf(e);return i>-1||(i=this._months().indexOf(e),i>-1)||this._root.language&&!this._root.language.isDefault()&&(i=this._root.language.translateAll(this._shortMonths()).indexOf(e),i>-1)?i:0}isAm(e){return this.getStringList(["AM","A.M.","A"]).indexOf(e.toUpperCase())>-1}getStringList(e){let i=[];for(let r=0;r<e.length;r++)this._root.language?i.push(cte(this._t(e[r]))):i.push(cte(e[r]));return i}}class EXe extends po{constructor(){super(...arguments),Object.defineProperty(this,"_unitAliases",{enumerable:!0,configurable:!0,writable:!0,value:{Y:"y",D:"d",H:"h",K:"h",k:"h",n:"S"}})}_setDefaults(){const e="_duration_millisecond",i="_duration_second",r="_duration_minute",n="_duration_hour",s="_duration_day",o="_duration_week",a="_duration_month",l="_duration_year",h="_second",f="_minute",g="_hour",v="_day",w="_week",S="_week",T="_year";this._setDefault("negativeBase",0),this._setDefault("baseUnit","second"),this._setDefault("durationFormats",{millisecond:{millisecond:this._t(e),second:this._t(e+h),minute:this._t(e+f),hour:this._t(e+g),day:this._t(e+v),week:this._t(e+w),month:this._t(e+S),year:this._t(e+T)},second:{second:this._t(i),minute:this._t(i+f),hour:this._t(i+g),day:this._t(i+v),week:this._t(i+w),month:this._t(i+S),year:this._t(i+T)},minute:{minute:this._t(r),hour:this._t(r+g),day:this._t(r+v),week:this._t(r+w),month:this._t(r+S),year:this._t(r+T)},hour:{hour:this._t(n),day:this._t(n+v),week:this._t(n+w),month:this._t(n+S),year:this._t(n+T)},day:{day:this._t(s),week:this._t(s+w),month:this._t(s+S),year:this._t(s+T)},week:{week:this._t(o),month:this._t(o+S),year:this._t(o+T)},month:{month:this._t(a),year:this._t(a+T)},year:{year:this._t(l)}}),super._setDefaults()}_beforeChanged(){super._beforeChanged()}format(e,i,r){let n=r||this.get("baseUnit");(typeof i>"u"||i==="")&&(this.get("durationFormat")!=null?i=this.get("durationFormat"):i=this.getFormat(rl(e),void 0,n)),i=g7(i);let s=this.parseFormat(i,n),o=Number(e),a;o>this.get("negativeBase")?a=s.positive:o<this.get("negativeBase")?a=s.negative:a=s.zero;let l=this.applyFormat(o,a);return a.color!==""&&(l="["+a.color+"]"+l+"[/]"),l}parseFormat(e,i){let r=i||this.get("baseUnit"),n={positive:{color:"",template:"",parts:[],source:"",baseUnit:r,parsed:!1,absolute:!1},negative:{color:"",template:"",parts:[],source:"",baseUnit:r,parsed:!1,absolute:!1},zero:{color:"",template:"",parts:[],source:"",baseUnit:r,parsed:!1,absolute:!1}};e=e.replace("||",Dw);let s=e.split("|");return n.positive.source=s[0],typeof s[2]>"u"?n.zero=n.positive:n.zero.source=s[2],typeof s[1]>"u"?n.negative=n.positive:n.negative.source=s[1],ir(n,(o,a)=>{if(a.parsed)return;let l=a.source,h=[];h=a.source.match(/^\[([^\]]*)\]/),h&&h.length&&h[0]!==""&&(l=a.source.substr(h[0].length),a.color=h[1]);let f=yu.chunk(l,!0);for(let g=0;g<f.length;g++){let v=f[g];if(v.text=v.text.replace(Dw,"|"),v.type==="value"){v.text.match(/[yYMdDwhHKkmsSn]+a/)&&(a.absolute=!0,v.text=v.text.replace(/([yYMdDwhHKkmsSn]+)a/,"$1"));let w=v.text.match(/y+|Y+|M+|d+|D+|w+|h+|H+|K+|k+|m+|s+|S+|n+/g);if(w)for(let S=0;S<w.length;S++)w[S]==null&&(w[S]=this._unitAliases[w[S]]),a.parts.push(w[S]),v.text=v.text.replace(w[S],Km)}a.template+=v.text}a.parsed=!0}),n}applyFormat(e,i){let r=!i.absolute&&e<this.get("negativeBase");e=Math.abs(e);let n=this.toTimeStamp(e,i.baseUnit),s=i.template;const o={millisecond:0,second:0,minute:0,hour:0,day:0,week:0,month:0,year:0};for(let a=0,l=i.parts.length;a<l;a++){let h=i.parts[a],f=this._toTimeUnit(h.substr(0,1)),g;const v=this._getUnitValue(f);a<l-1?g=Math.floor(n/v):g=Math.round(n/v),o[f]+=g,n-=g*v}ir(o,(a,l)=>{a=="millisecond"&&l==1e3?(o.second++,o.millisecond=0):a=="second"&&l==60?(o.minute++,o.second=0):a=="minute"&&l==60?(o.hour++,o.minute=0):a=="hour"&&l==24?(o.day++,o.hour=0):a=="day"&&l==7&&i.parts.indexOf("w")!==-1?(o.week++,o.day=0):a=="day"&&l==30?(o.month++,o.day=0):a=="month"&&l==12&&(o.year++,o.month=0)});for(let a=0,l=i.parts.length;a<l;a++){let h=i.parts[a],f=this._toTimeUnit(h.substr(0,1)),g=h.length;s=s.replace(Km,ln(o[f],g,"0"))}return r&&(s="-"+s),s}toTimeStamp(e,i){return e*this._getUnitValue(i)}_toTimeUnit(e){switch(e){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"w":return"week";case"M":return"month";case"y":return"year"}}getFormat(e,i,r){if(this.get("durationFormat")!=null)return this.get("durationFormat");if(r||(r=this.get("baseUnit")),i!=null&&e!=i){e=Math.abs(e),i=Math.abs(i);let n=this.getValueUnit(Math.max(e,i),r);return this.get("durationFormats")[r][n]}else{let n=this.getValueUnit(e,r);return this.get("durationFormats")[r][n]}}getValueUnit(e,i){i||(i=this.get("baseUnit"));let r,n=this.getMilliseconds(e,i);return DJe(this._getUnitValues(),(s,o)=>{if(s==i||r){if(n/o<=1)return r||(r=s),!1;r=s}return!0}),r}getMilliseconds(e,i){return i||(i=this.get("baseUnit")),e*this._getUnitValue(i)}_getUnitValue(e){return this._getUnitValues()[e]}_getUnitValues(){return{millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:2592e6,year:31536e6}}}const xge={firstDayOfWeek:1,_decimalSeparator:".",_thousandSeparator:",",_percentPrefix:null,_percentSuffix:"%",_big_number_suffix_3:"k",_big_number_suffix_6:"M",_big_number_suffix_9:"G",_big_number_suffix_12:"T",_big_number_suffix_15:"P",_big_number_suffix_18:"E",_big_number_suffix_21:"Z",_big_number_suffix_24:"Y",_small_number_suffix_3:"m",_small_number_suffix_6:"",_small_number_suffix_9:"n",_small_number_suffix_12:"p",_small_number_suffix_15:"f",_small_number_suffix_18:"a",_small_number_suffix_21:"z",_small_number_suffix_24:"y",_byte_suffix_B:"B",_byte_suffix_KB:"KB",_byte_suffix_MB:"MB",_byte_suffix_GB:"GB",_byte_suffix_TB:"TB",_byte_suffix_PB:"PB",_date:"yyyy-MM-dd",_date_millisecond:"mm:ss SSS",_date_millisecond_full:"HH:mm:ss SSS",_date_second:"HH:mm:ss",_date_second_full:"HH:mm:ss",_date_minute:"HH:mm",_date_minute_full:"HH:mm - MMM dd, yyyy",_date_hour:"HH:mm",_date_hour_short:"HH",_date_hour_full:"HH:mm - MMM dd, yyyy",_date_day:"MMM dd",_date_day_full:"MMM dd, yyyy",_date_week:"ww",_date_week_full:"MMM dd, yyyy",_date_month:"MMM",_date_month_full:"MMM, yyyy",_date_year:"yyyy",_duration_millisecond:"SSS",_duration_millisecond_second:"ss.SSS",_duration_millisecond_minute:"mm:ss SSS",_duration_millisecond_hour:"hh:mm:ss SSS",_duration_millisecond_day:"d'd' mm:ss SSS",_duration_millisecond_week:"d'd' mm:ss SSS",_duration_millisecond_month:"M'm' dd'd' mm:ss SSS",_duration_millisecond_year:"y'y' MM'm' dd'd' mm:ss SSS",_duration_second:"ss",_duration_second_minute:"mm:ss",_duration_second_hour:"hh:mm:ss",_duration_second_day:"d'd' hh:mm:ss",_duration_second_week:"d'd' hh:mm:ss",_duration_second_month:"M'm' dd'd' hh:mm:ss",_duration_second_year:"y'y' MM'm' dd'd' hh:mm:ss",_duration_minute:"mm",_duration_minute_hour:"hh:mm",_duration_minute_day:"d'd' hh:mm",_duration_minute_week:"d'd' hh:mm",_duration_minute_month:"M'm' dd'd' hh:mm",_duration_minute_year:"y'y' MM'm' dd'd' hh:mm",_duration_hour:"hh'h'",_duration_hour_day:"d'd' hh'h'",_duration_hour_week:"d'd' hh'h'",_duration_hour_month:"M'm' dd'd' hh'h'",_duration_hour_year:"y'y' MM'm' dd'd' hh'h'",_duration_day:"d'd'",_duration_day_week:"d'd'",_duration_day_month:"M'm' dd'd'",_duration_day_year:"y'y' MM'm' dd'd'",_duration_week:"w'w'",_duration_week_month:"w'w'",_duration_week_year:"w'w'",_duration_month:"M'm'",_duration_month_year:"y'y' MM'm'",_duration_year:"y'y'",_era_ad:"AD",_era_bc:"BC",A:"",P:"",AM:"",PM:"","A.M.":"","P.M.":"",January:"",February:"",March:"",April:"",May:"",June:"",July:"",August:"",September:"",October:"",November:"",December:"",Jan:"",Feb:"",Mar:"",Apr:"","May(short)":"May",Jun:"",Jul:"",Aug:"",Sep:"",Oct:"",Nov:"",Dec:"",Sunday:"",Monday:"",Tuesday:"",Wednesday:"",Thursday:"",Friday:"",Saturday:"",Sun:"",Mon:"",Tue:"",Wed:"",Thu:"",Fri:"",Sat:"",_dateOrd:function(t){let e="th";if(t<11||t>13)switch(t%10){case 1:e="st";break;case 2:e="nd";break;case 3:e="rd";break}return e},"Zoom Out":"",Play:"",Stop:"",Legend:"","Press ENTER to toggle":"",Loading:"",Home:"",Chart:"","Serial chart":"","X/Y chart":"","Pie chart":"","Gauge chart":"","Radar chart":"","Sankey diagram":"","Flow diagram":"","Chord diagram":"","TreeMap chart":"","Force directed tree":"","Sliced chart":"",Series:"","Candlestick Series":"","OHLC Series":"","Column Series":"","Line Series":"","Pie Slice Series":"","Funnel Series":"","Pyramid Series":"","X/Y Series":"",Map:"","Press ENTER to zoom in":"","Press ENTER to zoom out":"","Use arrow keys to zoom in and out":"","Use plus and minus keys on your keyboard to zoom in and out":"",Export:"",Image:"",Data:"",Print:"","Press ENTER or use arrow keys to navigate":"","Press ENTER to open":"","Press ENTER to print.":"","Press ENTER to export as %1.":"","(Press ESC to close this message)":"","Image Export Complete":"","Export operation took longer than expected. Something might have gone wrong.":"","Saved from":"",PNG:"",JPG:"",GIF:"",SVG:"",PDF:"",JSON:"",CSV:"",XLSX:"",HTML:"","Use TAB to select grip buttons or left and right arrows to change selection":"","Use left and right arrows to move selection":"","Use left and right arrows to move left selection":"","Use left and right arrows to move right selection":"","Use TAB select grip buttons or up and down arrows to change selection":"","Use up and down arrows to move selection":"","Use up and down arrows to move lower selection":"","Use up and down arrows to move upper selection":"","From %1 to %2":"","From %1":"","To %1":"","No parser available for file: %1":"","Error parsing file: %1":"","Unable to load file: %1":"","Invalid date":"",Close:"",Minimize:"",Confirm:""};class IXe extends po{_setDefaults(){this.setPrivate("defaultLocale",xge),super._setDefaults()}translate(e,i,...r){i||(i=this._root.locale||this.getPrivate("defaultLocale"));let n=e,s=i[e];if(s===null)n="";else if(s!=null)s&&(n=s);else if(i!==this.getPrivate("defaultLocale"))return this.translate(e,this.getPrivate("defaultLocale"),...r);if(r.length)for(let o=r.length,a=0;a<o;++a)n=n.split("%"+(a+1)).join(r[a]);return n}translateAny(e,i,...r){return this.translate(e,i,...r)}setTranslationAny(e,i,r){const n=r||this._root.locale;n[e]=i}setTranslationsAny(e,i){ir(e,(r,n)=>{this.setTranslationAny(r,n,i)})}translateEmpty(e,i,...r){let n=this.translate(e,i,...r);return n==e?"":n}translateFunc(e,i){return this._root.locale[e]?this._root.locale[e]:i!==this.getPrivate("defaultLocale")?this.translateFunc(e,this.getPrivate("defaultLocale")):()=>""}translateAll(e,i){return this.isDefault()?e:TV(e,r=>this.translate(r,i))}isDefault(){return this.getPrivate("defaultLocale")===this._root.locale}}class V3{constructor(e,i){if(Object.defineProperty(this,"_root",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_rules",{enumerable:!0,configurable:!0,writable:!0,value:{}}),this._root=e,!i)throw new Error("You cannot use `new Class()`, instead use `Class.new()`")}static new(e){const i=new this(e,!0);return i.setupDefaultRules(),i}setupDefaultRules(){}_lookupRules(e){return this._rules[e]}ruleRaw(e,i=[]){let r=this._rules[e];r||(r=this._rules[e]=[]),i.sort(av);const{index:n,found:s}=MJe(r,o=>{const a=av(o.tags.length,i.length);return a===0?bge(o.tags,i,av):a});if(s)return r[n].template;{const o=al.new({});return r.splice(n,0,{tags:i,template:o}),o}}rule(e,i=[]){return this.ruleRaw(e,i)}}function bt(t,e,i,r){t.set(e,i.get(r)),i.on(r,n=>{t.set(e,n)})}class CXe extends V3{setupDefaultRules(){super.setupDefaultRules();const e=this._root.language,i=this._root.interfaceColors,r=this._root.horizontalLayout,n=this._root.verticalLayout,s=this.rule.bind(this);s("InterfaceColors").setAll({stroke:Rt.fromHex(15066597),fill:Rt.fromHex(15987699),primaryButton:Rt.fromHex(6788316),primaryButtonHover:Rt.fromHex(6779356),primaryButtonDown:Rt.fromHex(6872182),primaryButtonActive:Rt.fromHex(6872182),primaryButtonDisabled:Rt.fromHex(14342874),primaryButtonTextDisabled:Rt.fromHex(16777215),primaryButtonText:Rt.fromHex(16777215),primaryButtonStroke:Rt.fromHex(16777215),secondaryButton:Rt.fromHex(14277081),secondaryButtonHover:Rt.fromHex(10724259),secondaryButtonDown:Rt.fromHex(9276813),secondaryButtonActive:Rt.fromHex(15132390),secondaryButtonText:Rt.fromHex(0),secondaryButtonStroke:Rt.fromHex(16777215),grid:Rt.fromHex(0),background:Rt.fromHex(16777215),alternativeBackground:Rt.fromHex(0),text:Rt.fromHex(0),alternativeText:Rt.fromHex(16777215),disabled:Rt.fromHex(11382189),positive:Rt.fromHex(5288704),negative:Rt.fromHex(11730944)});{const o=s("ColorSet");o.setAll({passOptions:{hue:.05,saturation:0,lightness:0},colors:[Rt.fromHex(6797276)],step:1,reuse:!1,startIndex:0}),o.setPrivate("currentStep",0),o.setPrivate("currentPass",0)}s("Entity").setAll({stateAnimationDuration:0,stateAnimationEasing:d0(Iy)}),s("Component").setAll({interpolationDuration:0,interpolationEasing:d0(Iy)}),s("Sprite").setAll({visible:!0,scale:1,opacity:1,rotation:0,position:"relative",tooltipX:Bt,tooltipY:Bt,tooltipPosition:"fixed",isMeasured:!0}),s("Sprite").states.create("default",{visible:!0,opacity:1}),s("Container").setAll({interactiveChildren:!0,setStateOnChildren:!1}),s("Graphics").setAll({strokeWidth:1}),s("Chart").setAll({width:Qt,height:Qt,interactiveChildren:!1}),s("ZoomableContainer").setAll({width:Qt,height:Qt,wheelable:!0,pinchZoom:!0,maxZoomLevel:32,minZoomLevel:1,zoomStep:2,animationEasing:d0(Iy),animationDuration:600,maxPanOut:.4}),s("Sprite",["horizontal","center"]).setAll({centerX:Bt,x:Bt}),s("Sprite",["vertical","center"]).setAll({centerY:Bt,y:Bt}),s("Container",["horizontal","layout"]).setAll({layout:r}),s("Container",["vertical","layout"]).setAll({layout:n}),s("Pattern").setAll({repetition:"repeat",width:50,height:50,rotation:0,fillOpacity:1}),s("LinePattern").setAll({gap:6,colorOpacity:1,width:49,height:49}),s("RectanglePattern").setAll({gap:6,checkered:!1,centered:!0,maxWidth:5,maxHeight:5,width:48,height:48,strokeWidth:0}),s("CirclePattern").setAll({gap:5,checkered:!1,centered:!1,radius:3,strokeWidth:0,width:45,height:45}),s("GrainPattern").setAll({width:200,height:200,colors:[Rt.fromHex(0)],size:1,horizontalGap:0,verticalGap:0,density:1,minOpacity:0,maxOpacity:.2});{const o=s("PatternSet");o.setAll({step:1}),bt(o,"color",i,"stroke")}s("LinearGradient").setAll({rotation:90}),s("Legend").setAll({fillField:"fill",strokeField:"stroke",nameField:"name",layout:zv.new(this._root,{}),layer:30,clickTarget:"itemContainer"}),s("Container",["legend","item","itemcontainer"]).setAll({paddingLeft:5,paddingRight:5,paddingBottom:5,paddingTop:5,layout:r,setStateOnChildren:!0,interactiveChildren:!1,ariaChecked:!0,focusable:!0,ariaLabel:e.translate("Press ENTER to toggle"),role:"checkbox"});{const o=s("Rectangle",["legend","item","background"]);o.setAll({fillOpacity:0}),bt(o,"fill",i,"background")}s("Container",["legend","marker"]).setAll({setStateOnChildren:!0,centerY:Bt,paddingLeft:0,paddingRight:0,paddingBottom:0,paddingTop:0,width:18,height:18}),s("RoundedRectangle",["legend","marker","rectangle"]).setAll({width:Qt,height:Qt,cornerRadiusBL:3,cornerRadiusTL:3,cornerRadiusBR:3,cornerRadiusTR:3});{const o=s("RoundedRectangle",["legend","marker","rectangle"]).states.create("disabled",{});bt(o,"fill",i,"disabled"),bt(o,"stroke",i,"disabled")}s("Label",["legend","label"]).setAll({centerY:Bt,marginLeft:5,paddingRight:0,paddingLeft:0,paddingTop:0,paddingBottom:0,populateText:!0});{const o=s("Label",["legend","label"]).states.create("disabled",{});bt(o,"fill",i,"disabled")}s("Label",["legend","value","label"]).setAll({centerY:Bt,marginLeft:5,paddingRight:0,paddingLeft:0,paddingTop:0,paddingBottom:0,width:50,centerX:Qt,populateText:!0});{const o=s("Label",["legend","value","label"]).states.create("disabled",{});bt(o,"fill",i,"disabled")}s("HeatLegend").setAll({stepCount:1}),s("RoundedRectangle",["heatlegend","marker"]).setAll({cornerRadiusTR:0,cornerRadiusBR:0,cornerRadiusTL:0,cornerRadiusBL:0}),s("RoundedRectangle",["vertical","heatlegend","marker"]).setAll({height:Qt,width:15}),s("RoundedRectangle",["horizontal","heatlegend","marker"]).setAll({width:Qt,height:15}),s("HeatLegend",["vertical"]).setAll({height:Qt}),s("HeatLegend",["horizontal"]).setAll({width:Qt}),s("Label",["heatlegend","start"]).setAll({paddingLeft:5,paddingRight:5,paddingTop:5,paddingBottom:5}),s("Label",["heatlegend","end"]).setAll({paddingLeft:5,paddingRight:5,paddingTop:5,paddingBottom:5});{const o=s("Label");o.setAll({paddingTop:8,paddingBottom:8,paddingLeft:10,paddingRight:10,fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"',fontSize:"1em",populateText:!1}),bt(o,"fill",i,"text")}s("RadialLabel").setAll({textType:"regular",centerY:Bt,centerX:Bt,inside:!1,radius:0,baseRadius:Qt,orientation:"auto",textAlign:"center"}),s("EditableLabel").setAll({editOn:"click",themeTags:["editablelabel"],multiLine:!0}),s("RoundedRectangle",["editablelabel","background"]).setAll({fillOpacity:0,fill:Rt.fromHex(0),cornerRadiusBL:3,cornerRadiusBR:3,cornerRadiusTL:3,cornerRadiusTR:3,strokeOpacity:0,stroke:Rt.fromHex(0)}),s("RoundedRectangle",["editablelabel","background"]).states.create("active",{strokeOpacity:.2}),s("RoundedRectangle").setAll({cornerRadiusTL:8,cornerRadiusBL:8,cornerRadiusTR:8,cornerRadiusBR:8}),s("PointedRectangle").setAll({pointerBaseWidth:15,pointerLength:10,cornerRadius:8}),s("Slice").setAll({shiftRadius:0,dRadius:0,dInnerRadius:0});{const o=s("Tick");o.setAll({strokeOpacity:.15,isMeasured:!1,length:4.5,position:"absolute",crisp:!0}),bt(o,"stroke",i,"grid")}s("Bullet").setAll({locationX:.5,locationY:.5}),s("Tooltip").setAll({position:"absolute",getFillFromSprite:!0,getStrokeFromSprite:!1,autoTextColor:!0,paddingTop:9,paddingBottom:8,paddingLeft:10,paddingRight:10,marginBottom:5,pointerOrientation:"vertical",centerX:Bt,centerY:Bt,animationEasing:d0(Iy),exportable:!1}),s("Tooltip",["system"]).setAll({pointerOrientation:"horizontal",paddingTop:4,paddingRight:7,paddingBottom:4,paddingLeft:7});{const o=s("PointedRectangle",["tooltip","system","background"]);o.setAll({strokeOpacity:.3}),bt(o,"fill",i,"background"),bt(o,"stroke",i,"grid")}s("Label",["tooltip","system"]).setAll({fontSize:12,fill:i.get("background")}),s("Polygon").setAll({animationEasing:d0(Iy)}),s("Link").setAll({cornerRadius:8,setStateOnChildren:!0});{const o=s("OrthogonalLine",["link","line"]);o.setAll({isMeasured:!1,crisp:!0});const a=o.states.create("active",{strokeWidth:2});bt(a,"stroke",i,"negative")}s("OrthogonalLine",["link","hit"]).setAll({strokeWidth:10,opacity:0,strokeOpacity:0});{const o=s("OrthogonalLine");o.setAll({strokeWidth:1,strokeOpacity:1,cornerRadius:10}),bt(o,"stroke",i,"grid")}{const o=s("Triangle",["link"]);o.setAll({width:14,height:10,centerY:0}),bt(o,"fill",i,"grid"),bt(o,"stroke",i,"grid"),o.states.create("default",{stateAnimationDuration:0});const a=o.states.create("active",{stateAnimationDuration:0,stroke:yp(16777215),strokeWidth:2});a.set("draw",l=>{l.arc(0,0,11,0,Math.PI*2),l.moveTo(-4,-4),l.lineTo(4,4),l.moveTo(4,-4),l.lineTo(-4,4)}),bt(a,"fill",i,"negative")}s("PointedRectangle",["tooltip","background"]).setAll({strokeOpacity:.9,cornerRadius:4,pointerLength:4,pointerBaseWidth:8,fillOpacity:.9,stroke:Rt.fromHex(16777215)});{const o=s("Label",["tooltip"]);o.setAll({role:"tooltip",populateText:!0,paddingRight:0,paddingTop:0,paddingLeft:0,paddingBottom:0}),bt(o,"fill",i,"alternativeText")}s("Button").setAll({paddingTop:8,paddingBottom:8,paddingLeft:10,paddingRight:10,interactive:!0,layout:r,interactiveChildren:!1,setStateOnChildren:!0,focusable:!0}),s("Button").states.create("hover",{}),s("Button").states.create("down",{stateAnimationDuration:0}),s("Button").states.create("active",{}),s("Button").states.create("disabled",{forceInactive:!0});{const o=s("RoundedRectangle",["button","background"]);bt(o,"fill",i,"primaryButton"),bt(o,"stroke",i,"primaryButtonStroke")}{const o=s("RoundedRectangle",["button","background"]).states.create("hover",{});bt(o,"fill",i,"primaryButtonHover")}{const o=s("RoundedRectangle",["button","background"]).states.create("down",{stateAnimationDuration:0});bt(o,"fill",i,"primaryButtonDown")}{const o=s("RoundedRectangle",["button","background"]).states.create("active",{});bt(o,"fill",i,"primaryButtonActive")}{const o=s("RoundedRectangle",["button","background"]).states.create("disabled",{});bt(o,"fill",i,"primaryButtonDisabled")}{const o=s("Graphics",["button","icon"]).states.create("disabled",{});bt(o,"fill",i,"primaryButtonTextDisabled")}{const o=s("Label",["button"]).states.create("disabled",{});bt(o,"fill",i,"primaryButtonTextDisabled")}{const o=s("Graphics",["button","icon"]);o.setAll({forceInactive:!0}),bt(o,"stroke",i,"primaryButtonText")}{const o=s("Label",["button"]);bt(o,"fill",i,"primaryButtonText")}s("ConfirmButton").setAll({toggleKey:"active",setStateOnChildren:!0,label:Tu.new(this._root,{text:e.translate("Confirm"),forceHidden:!0})});{const o=s("RoundedRectangle",["button","background","confirm"]).states.create("active",{});bt(o,"fill",i,"negative")}s("Label",["button","confirm"]).setAll({paddingTop:0,paddingBottom:0,paddingRight:3,paddingLeft:5}),s("Label",["button","confirm"]).states.create("default",{stateAnimationDuration:0}),s("Label",["button","confirm"]).states.create("active",{forceHidden:!1,stateAnimationDuration:0});{const o=s("Graphics",["icon","confirm","button"]);o.setAll({stateAnimationDuration:0}),o.states.create("default",{stateAnimationDuration:0}),bt(o,"stroke",i,"primaryButtonText")}{const o=s("Graphics",["icon","confirm","button"]).states.create("active",{svgPath:"M -5 1 L 0 6 L 8 -5",strokeWidth:2});bt(o,"stroke",i,"primaryButtonText")}{const o=s("Graphics",["icon","confirm","button","secondary"]).states.create("active",{});bt(o,"stroke",i,"primaryButtonText")}{const o=s("RoundedRectangle",["button","background","confirm","secondary"]).states.create("active",{fillOpacity:1});bt(o,"fill",i,"negative")}{const o=s("RoundedRectangle",["button","background","confirm","secondary"]).states.create("hoverActive",{fillOpacity:1});bt(o,"fill",i,"negative")}s("Button",["button","confirm"]).states.create("hoverActive",{}),s("Button",["zoom"]).setAll({paddingTop:18,paddingBottom:18,paddingLeft:12,paddingRight:12,centerX:46,centerY:-10,y:0,x:Qt,role:"button",ariaLabel:e.translate("Zoom Out"),layer:30});{const o=s("RoundedRectangle",["background","button","zoom"]);o.setAll({cornerRadiusBL:40,cornerRadiusBR:40,cornerRadiusTL:40,cornerRadiusTR:40}),bt(o,"fill",i,"primaryButton")}{const o=s("RoundedRectangle",["background","button","zoom"]).states.create("hover",{});bt(o,"fill",i,"primaryButtonHover")}{const o=s("RoundedRectangle",["background","button","zoom"]).states.create("down",{stateAnimationDuration:0});bt(o,"fill",i,"primaryButtonDown")}{const o=s("Graphics",["icon","button","zoom"]);o.setAll({crisp:!0,strokeOpacity:.7,draw:a=>{a.moveTo(0,0),a.lineTo(12,0)}}),bt(o,"stroke",i,"primaryButtonText")}s("Button",["resize"]).setAll({paddingTop:9,paddingBottom:9,paddingLeft:13,paddingRight:13,draggable:!0,centerX:Bt,centerY:Bt,position:"absolute",role:"slider",ariaValueMin:"0",ariaValueMax:"100",ariaLabel:e.translate("Use up and down arrows to move selection")});{const o=s("RoundedRectangle",["background","resize","button"]);o.setAll({cornerRadiusBL:40,cornerRadiusBR:40,cornerRadiusTL:40,cornerRadiusTR:40}),bt(o,"fill",i,"secondaryButton"),bt(o,"stroke",i,"secondaryButtonStroke")}{const o=s("RoundedRectangle",["background","resize","button"]).states.create("hover",{});bt(o,"fill",i,"secondaryButtonHover")}{const o=s("RoundedRectangle",["background","resize","button"]).states.create("down",{stateAnimationDuration:0});bt(o,"fill",i,"secondaryButtonDown")}{const o=s("Graphics",["resize","button","icon"]);o.setAll({interactive:!1,crisp:!0,strokeOpacity:.5,draw:a=>{a.moveTo(0,.5),a.lineTo(0,12.5),a.moveTo(4,.5),a.lineTo(4,12.5)}}),bt(o,"stroke",i,"secondaryButtonText")}s("Button",["resize","vertical"]).setAll({rotation:90,cursorOverStyle:"ns-resize"}),s("Button",["resize","horizontal"]).setAll({cursorOverStyle:"ew-resize"}),s("Button",["play"]).setAll({paddingTop:13,paddingBottom:13,paddingLeft:14,paddingRight:14,ariaLabel:e.translate("Play"),toggleKey:"active"});{const o=s("RoundedRectangle",["play","background"]);o.setAll({strokeOpacity:.5,cornerRadiusBL:100,cornerRadiusBR:100,cornerRadiusTL:100,cornerRadiusTR:100}),bt(o,"fill",i,"primaryButton")}{const o=s("Graphics",["play","icon"]);o.setAll({stateAnimationDuration:0,dx:1,draw:a=>{a.moveTo(0,-5),a.lineTo(8,0),a.lineTo(0,5),a.lineTo(0,-5)}}),bt(o,"fill",i,"primaryButtonText")}s("Graphics",["play","icon"]).states.create("default",{stateAnimationDuration:0}),s("Graphics",["play","icon"]).states.create("active",{stateAnimationDuration:0,draw:o=>{o.moveTo(-4,-5),o.lineTo(-1,-5),o.lineTo(-1,5),o.lineTo(-4,5),o.lineTo(-4,-5),o.moveTo(4,-5),o.lineTo(1,-5),o.lineTo(1,5),o.lineTo(4,5),o.lineTo(4,-5)}}),s("Button",["switch"]).setAll({paddingTop:4,paddingBottom:4,paddingLeft:4,paddingRight:4,ariaLabel:e.translate("Press ENTER to toggle"),toggleKey:"active",width:40,height:24,layout:null});{const o=s("RoundedRectangle",["switch","background"]);o.setAll({strokeOpacity:.5,cornerRadiusBL:100,cornerRadiusBR:100,cornerRadiusTL:100,cornerRadiusTR:100}),bt(o,"fill",i,"primaryButton")}{const o=s("Circle",["switch","icon"]);o.setAll({radius:8,centerY:0,centerX:0,dx:0}),bt(o,"fill",i,"primaryButtonText")}s("Graphics",["switch","icon"]).states.create("active",{dx:16}),s("Scrollbar").setAll({start:0,end:1,layer:30,animationEasing:d0(Iy)}),s("Scrollbar",["vertical"]).setAll({marginRight:13,marginLeft:13,minWidth:12,height:Qt}),s("Scrollbar",["horizontal"]).setAll({marginTop:13,marginBottom:13,minHeight:12,width:Qt}),this.rule("Button",["scrollbar"]).setAll({exportable:!1});{const o=s("RoundedRectangle",["scrollbar","main","background"]);o.setAll({cornerRadiusTL:8,cornerRadiusBL:8,cornerRadiusTR:8,cornerRadiusBR:8,fillOpacity:.8}),bt(o,"fill",i,"fill")}{const o=s("RoundedRectangle",["scrollbar","thumb"]);o.setAll({role:"slider",ariaLive:"polite",position:"absolute",draggable:!0}),bt(o,"fill",i,"secondaryButton")}{const o=s("RoundedRectangle",["scrollbar","thumb"]).states.create("hover",{});bt(o,"fill",i,"secondaryButtonHover")}{const o=s("RoundedRectangle",["scrollbar","thumb"]).states.create("down",{stateAnimationDuration:0});bt(o,"fill",i,"secondaryButtonDown")}s("RoundedRectangle",["scrollbar","thumb","vertical"]).setAll({x:Bt,width:Qt,centerX:Bt,ariaLabel:e.translate("Use up and down arrows to move selection")}),s("RoundedRectangle",["scrollbar","thumb","horizontal"]).setAll({y:Bt,centerY:Bt,height:Qt,ariaLabel:e.translate("Use left and right arrows to move selection")});{const o=s("PointedRectangle",["axis","tooltip","background"]);o.setAll({cornerRadius:0}),bt(o,"fill",i,"alternativeBackground")}s("Label",["axis","tooltip"]).setAll({role:void 0}),s("Label",["axis","tooltip","y"]).setAll({textAlign:"right"}),s("Label",["axis","tooltip","y","opposite"]).setAll({textAlign:"left"}),s("Label",["axis","tooltip","x"]).setAll({textAlign:"center"}),s("Tooltip",["categoryaxis"]).setAll({labelText:"{category}"}),s("Star").setAll({spikes:5,innerRadius:5,radius:10}),s("Tooltip",["stock"]).setAll({paddingTop:6,paddingBottom:5,paddingLeft:7,paddingRight:7}),s("Tooltip",["indicator"]).setAll({forceHidden:!0}),s("PointedRectangle",["tooltip","stock","axis"]).setAll({pointerLength:0,pointerBaseWidth:0,cornerRadius:3}),s("Label",["tooltip","stock"]).setAll({fontSize:"0.8em"}),s("SpriteResizer").setAll({rotationStep:10,isMeasured:!1}),s("Container",["resizer","grip"]).states.create("hover",{});{const o=s("RoundedRectangle",["resizer","grip"]);o.setAll({strokeOpacity:.7,strokeWidth:1,fillOpacity:1,width:12,height:12}),bt(o,"fill",i,"background"),bt(o,"stroke",i,"alternativeBackground")}{const o=s("RoundedRectangle",["resizer","grip","outline"]);o.setAll({strokeOpacity:0,fillOpacity:0,width:20,height:20}),o.states.create("hover",{fillOpacity:.3}),bt(o,"fill",i,"alternativeBackground")}s("RoundedRectangle",["resizer","grip","left"]).setAll({cornerRadiusBL:0,cornerRadiusBR:0,cornerRadiusTL:0,cornerRadiusTR:0}),s("RoundedRectangle",["resizer","grip","right"]).setAll({cornerRadiusBL:0,cornerRadiusBR:0,cornerRadiusTL:0,cornerRadiusTR:0});{const o=s("Rectangle",["resizer","rectangle"]);o.setAll({strokeDasharray:[2,2],strokeOpacity:.5,strokeWidth:1}),bt(o,"stroke",i,"alternativeBackground")}s("Graphics",["button","plus","icon"]).setAll({x:Bt,y:Bt,draw:o=>{o.moveTo(-4,0),o.lineTo(4,0),o.moveTo(0,-4),o.lineTo(0,4)}}),s("Graphics",["button","minus","icon"]).setAll({x:Bt,y:Bt,draw:o=>{o.moveTo(-4,0),o.lineTo(4,0)}}),s("Graphics",["button","home","icon"]).setAll({x:Bt,y:Bt,svgPath:"M 8 -1 L 6 -1 L 6 7 L 2 7 L 2 1 L -2 1 L -2 7 L -6 7 L -6 -1 L -8 -1 L 0 -9 L 8 -1 Z M 8 -1"}),s("Button",["zoomtools"]).setAll({marginTop:1,marginBottom:2}),s("ZoomTools").setAll({x:Qt,centerX:Qt,y:Qt,centerY:Qt,paddingRight:10,paddingBottom:10}),s("ProgressPie").setAll({radius:Qt,width:50,height:50,centerX:lo(-50),centerY:lo(-50),innerRadius:lo(85),numberFormat:"#."});{const o=s("Label",["progresspie"]);o.setAll({centerX:Bt,centerY:Bt,fontSize:"0.75em"}),bt(o,"fill",i,"primaryButton")}{const o=s("Circle",["progresspie"]);o.setAll({fillOpacity:.5}),bt(o,"fill",i,"background")}{const o=s("Slice",["progresspie"]);o.setAll({startAngle:-90}),bt(o,"fill",i,"primaryButton")}{const o=s("Slice",["progresspie","background"]);o.setAll({fillOpacity:.2,arc:360}),bt(o,"fill",i,"primaryButton")}s("EditableLabel",["numericstepper"]).setAll({y:Bt,centerY:Bt,multiLine:!1,marginRight:2});{const o=s("Container",["numericstepper","buttons"]);o.setAll({layout:this._root.verticalLayout,centerY:Bt,y:Bt,marginRight:10,opacity:0}),o.states.create("active",{opacity:1}),o.states.create("default",{opacity:0})}{const o=s("Triangle",["numericstepper"]);o.setAll({width:17,height:11,marginTop:3,marginBottom:3,strokeWidth:5,strokeOpacity:0,cursorOverStyle:"pointer"}),bt(o,"fill",i,"secondaryButton")}s("Triangle",["downbutton"]).setAll({rotation:180})}}class yN{constructor(e=1,i=0,r=0,n=1,s=0,o=0){Object.defineProperty(this,"a",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"b",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"c",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"d",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tx",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"ty",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.a=e,this.b=i,this.c=r,this.d=n,this.tx=s,this.ty=o}setTransform(e,i,r,n,s,o=1){this.a=Math.cos(s)*o,this.b=Math.sin(s)*o,this.c=-Math.sin(s)*o,this.d=Math.cos(s)*o,this.tx=e-(r*this.a+n*this.c),this.ty=i-(r*this.b+n*this.d)}apply(e){return{x:this.a*e.x+this.c*e.y+this.tx,y:this.b*e.x+this.d*e.y+this.ty}}applyInverse(e){const i=1/(this.a*this.d+this.c*-this.b);return{x:this.d*i*e.x+-this.c*i*e.y+(this.ty*this.c-this.tx*this.d)*i,y:this.a*i*e.y+-this.b*i*e.x+(-this.ty*this.a+this.tx*this.b)*i}}append(e){const i=this.a,r=this.b,n=this.c,s=this.d;this.a=e.a*i+e.b*n,this.b=e.a*r+e.b*s,this.c=e.c*i+e.d*n,this.d=e.c*r+e.d*s,this.tx=e.tx*i+e.ty*n+this.tx,this.ty=e.tx*r+e.ty*s+this.ty}prepend(e){const i=this.tx;if(e.a!==1||e.b!==0||e.c!==0||e.d!==1){const r=this.a,n=this.c;this.a=r*e.a+this.b*e.c,this.b=r*e.b+this.b*e.d,this.c=n*e.a+this.d*e.c,this.d=n*e.b+this.d*e.d}this.tx=i*e.a+this.ty*e.c+e.tx,this.ty=i*e.b+this.ty*e.d+e.ty}copyFrom(e){this.a=e.a,this.b=e.b,this.c=e.c,this.d=e.d,this.tx=e.tx,this.ty=e.ty}}var MXe=(function(){function t(e,i){var r=[],n=!0,s=!1,o=void 0;try{for(var a=e[Symbol.iterator](),l;!(n=(l=a.next()).done)&&(r.push(l.value),!(i&&r.length===i));n=!0);}catch(h){s=!0,o=h}finally{try{!n&&a.return&&a.return()}finally{if(s)throw o}}return r}return function(e,i){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),u2=Math.PI*2,vN=function(e,i,r,n,s,o,a){var l=e.x,h=e.y;l*=i,h*=r;var f=n*l-s*h,g=s*l+n*h;return{x:f+o,y:g+a}},AXe=function(e,i){var r=i===1.5707963267948966?.551915024494:i===-1.5707963267948966?-.551915024494:1.3333333333333333*Math.tan(i/4),n=Math.cos(e),s=Math.sin(e),o=Math.cos(e+i),a=Math.sin(e+i);return[{x:n-s*r,y:s+n*r},{x:o+a*r,y:a-o*r},{x:o,y:a}]},mte=function(e,i,r,n){var s=e*n-i*r<0?-1:1,o=e*r+i*n;return o>1&&(o=1),o<-1&&(o=-1),s*Math.acos(o)},OXe=function(e,i,r,n,s,o,a,l,h,f,g,v){var w=Math.pow(s,2),S=Math.pow(o,2),T=Math.pow(g,2),C=Math.pow(v,2),I=w*S-w*C-S*T;I<0&&(I=0),I/=w*C+S*T,I=Math.sqrt(I)*(a===l?-1:1);var A=I*s/o*v,P=I*-o/s*g,D=f*A-h*P+(e+r)/2,L=h*A+f*P+(i+n)/2,B=(g-A)/s,N=(v-P)/o,Y=(-g-A)/s,K=(-v-P)/o,te=mte(1,0,B,N),ue=mte(B,N,Y,K);return l===0&&ue>0&&(ue-=u2),l===1&&ue<0&&(ue+=u2),[D,L,te,ue]},PXe=function(e){var i=e.px,r=e.py,n=e.cx,s=e.cy,o=e.rx,a=e.ry,l=e.xAxisRotation,h=l===void 0?0:l,f=e.largeArcFlag,g=f===void 0?0:f,v=e.sweepFlag,w=v===void 0?0:v,S=[];if(o===0||a===0)return[];var T=Math.sin(h*u2/360),C=Math.cos(h*u2/360),I=C*(i-n)/2+T*(r-s)/2,A=-T*(i-n)/2+C*(r-s)/2;if(I===0&&A===0)return[];o=Math.abs(o),a=Math.abs(a);var P=Math.pow(I,2)/Math.pow(o,2)+Math.pow(A,2)/Math.pow(a,2);P>1&&(o*=Math.sqrt(P),a*=Math.sqrt(P));var D=OXe(i,r,n,s,o,a,g,w,T,C,I,A),L=MXe(D,4),B=L[0],N=L[1],Y=L[2],K=L[3],te=Math.abs(K)/(u2/4);Math.abs(1-te)<1e-7&&(te=1);var ue=Math.max(Math.ceil(te),1);K/=ue;for(var ye=0;ye<ue;ye++)S.push(AXe(Y,K)),Y+=K;return S.map(function(se){var G=vN(se[0],o,a,C,T,B,N),ie=G.x,J=G.y,le=vN(se[1],o,a,C,T,B,N),ve=le.x,Me=le.y,Ne=vN(se[2],o,a,C,T,B,N),X=Ne.x,fe=Ne.y;return{x1:ie,y1:J,x2:ve,y2:Me,x:X,y:fe}})};function DXe(t,e,i){if(e!==i)throw new Error("Required "+i+" arguments for "+t+" but got "+e)}function vT(t,e,i){if(e<i)throw new Error("Required at least "+i+" arguments for "+t+" but got "+e)}function Na(t,e,i){if(vT(t,e,i),e%i!==0)throw new Error("Arguments for "+t+" must be in pairs of "+i)}function RXe(t){for(let e=0;e<t.length;e+=7){let i=e+3,r=t[i];if(r.length>1){const n=/^([01])([01])(.*)$/.exec(r);n!==null&&(t.splice(i,0,n[1]),++i,t.splice(i,0,n[2]),++i,n[3].length>0?t[i]=n[3]:t.splice(i,1))}if(++i,r=t[i],r.length>1){const n=/^([01])(.+)$/.exec(r);n!==null&&(t.splice(i,0,n[1]),++i,t[i]=n[2])}}}function gte(t){if(t===0||t===1)return t;throw new Error("Flag must be 0 or 1")}function LXe(t){const e=[0,0,0];for(let i=0;i<24;i++)e[i%3]<<=1,e[i%3]|=t&1,t>>=1;return(e[0]|0)+(e[1]<<8)+(e[2]<<16)}function hC(t,e){for(;!(t.interactive&&!e(t));)if(t._parent)t=t._parent;else break}function zXe(t,e,i){return Jr(t,kV(e),r=>{const n=hge(r);let s=r.touches;s?(s.length==0&&(s=r.changedTouches),i(EJe(s),n)):i([r],n)})}function yte(t){const e=document.createElement("canvas");e.width=1,e.height=1;const i=e.getContext("2d",{willReadFrequently:!0});i.drawImage(t,0,0,1,1);try{return i.getImageData(0,0,1,1),!1}catch{return console.warn('Image "'+t.src+'" is loaded from different host and is not covered by CORS policy. For more information about the implications read here: https://www.amcharts.com/docs/v5/concepts/cors'),!0}}function bT(t){t.width=0,t.height=0,t.style.width="0px",t.style.height="0px"}function vte(t){return Math.floor(t)+.5}class NXe{constructor(){Object.defineProperty(this,"_x",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_y",{enumerable:!0,configurable:!0,writable:!0,value:0})}get x(){return this._x}get y(){return this._y}set x(e){this._x=e}set y(e){this._y=e}}class U3 extends m7{constructor(e){super(),Object.defineProperty(this,"_layer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"mask",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"visible",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"exportable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"interactive",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"inactive",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"wheelable",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"cancelTouch",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"isMeasured",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"buttonMode",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"alpha",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"compoundAlpha",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"angle",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"scale",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"crisp",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"pivot",{enumerable:!0,configurable:!0,writable:!0,value:new NXe}),Object.defineProperty(this,"filter",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cursorOverStyle",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_replacedCursorStyle",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_localMatrix",{enumerable:!0,configurable:!0,writable:!0,value:new yN}),Object.defineProperty(this,"_matrix",{enumerable:!0,configurable:!0,writable:!0,value:new yN}),Object.defineProperty(this,"_uMatrix",{enumerable:!0,configurable:!0,writable:!0,value:new yN}),Object.defineProperty(this,"_renderer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_parent",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_localBounds",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_bounds",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_colorId",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this._renderer=e}subStatus(e){return{inactive:this.inactive==null?e.inactive:this.inactive,layer:this._layer||e.layer}}_dispose(){this._renderer._removeObject(this),this.getLayer().dirty=!0}getCanvas(){return this.getLayer().view}getLayer(){let e=this;for(;;){if(e._layer)return e._layer;if(e._parent)e=e._parent;else return this._renderer.defaultLayer}}setLayer(e,i){e==null?this._layer=void 0:(this._layer=this._renderer.getLayer(e,!0),this._layer.visible=!0,this._layer.margin=i,i&&bw(this._layer.view,!1),this._renderer._ghostLayer.setMargin(this._renderer.layers),this._parent&&this._parent.registerChildLayer(this._layer),this._layer.dirty=!0,this._renderer.resizeLayer(this._layer),this._renderer.resizeGhost())}markDirtyLayer(){this.getLayer().dirty=!0}clear(){this.invalidateBounds()}invalidateBounds(){this._localBounds=void 0}_addBounds(e){}_getColorId(){return this._colorId===void 0&&(this._colorId=this._renderer.paintId(this)),this._colorId}_isInteractive(e){return!e.inactive&&(this.interactive||this._renderer._forceInteractive>0)}_isInteractiveMask(e){return this._isInteractive(e)}contains(e){for(;;){if(e===this)return!0;if(e._parent)e=e._parent;else return!1}}toGlobal(e){return this._matrix.apply(e)}toLocal(e){return this._matrix.applyInverse(e)}getLocalMatrix(){return this._uMatrix.setTransform(0,0,this.pivot.x,this.pivot.y,this.angle*Math.PI/180,this.scale),this._uMatrix}getLocalBounds(){return this._localBounds||(this._localBounds={left:1e7,top:1e7,right:-1e7,bottom:-1e7},this._addBounds(this._localBounds)),this._localBounds}getAdjustedBounds(e){this._setMatrix();const i=this.getLocalMatrix(),r=i.apply({x:e.left,y:e.top}),n=i.apply({x:e.right,y:e.top}),s=i.apply({x:e.right,y:e.bottom}),o=i.apply({x:e.left,y:e.bottom});return{left:Math.min(r.x,n.x,s.x,o.x),top:Math.min(r.y,n.y,s.y,o.y),right:Math.max(r.x,n.x,s.x,o.x),bottom:Math.max(r.y,n.y,s.y,o.y)}}on(e,i,r){return this.interactive?this._renderer._addEvent(this,e,i,r):new Nn(()=>{})}_setMatrix(){this._localMatrix.setTransform(this.x,this.y,this.pivot.x,this.pivot.y,this.angle*Math.PI/180,this.scale),this._matrix.copyFrom(this._localMatrix),this._parent&&this._matrix.prepend(this._parent._matrix)}_transform(e,i){const r=this._matrix;let n=r.tx*i,s=r.ty*i;this.crisp&&(n=vte(n),s=vte(s)),e.setTransform(r.a*i,r.b*i,r.c*i,r.d*i,n,s)}_transformMargin(e,i,r){const n=this._matrix;e.setTransform(n.a*i,n.b*i,n.c*i,n.d*i,(n.tx+r.left)*i,(n.ty+r.top)*i)}_transformLayer(e,i,r){r.margin?this._transformMargin(e,r.scale||i,r.margin):this._transform(e,r.scale||i)}render(e,i=0){if(this.visible&&(this.exportable!==!1||!this._renderer._omitTainted)){this._setMatrix();const r=this.subStatus(e),n=this._renderer.resolution,s=this._renderer.layers,o=this._renderer._ghostLayer,a=o.context,l=this.mask;l&&l._setMatrix(),Ce(s,h=>{if(h){const f=h.context;f.save(),l&&(l._transformLayer(f,n,h),l._runPath(f),f.clip()),f.globalAlpha=this.compoundAlpha*this.alpha,this._transformLayer(f,n,h),this.filter&&(f.filter=this.filter)}}),a.save(),l&&this._isInteractiveMask(r)&&(l._transformMargin(a,n,o.margin),l._runPath(a),a.clip()),this._transformMargin(a,n,o.margin),r.layer.order>0&&!i&&kJe(this._renderer._deferredGhostLayers,r.layer.order),this._render(r,i),a.restore(),Ce(s,h=>{h&&h.context.restore()})}}_render(e,i=0){this.exportable===!1&&(e.layer.tainted=!0)}_ghostOnly(e=0){return e>0}_drawGhost(e,i=0){const r=this._isInteractive(e),n=e.layer.order||0;return!!(r&&(n==0&&!this._ghostOnly(i)||n==i))}hovering(){return this._renderer._hovering.has(this)}dragging(){return this._renderer._dragging.some(e=>e.value===this)}shouldCancelTouch(){const e=this._renderer;return e.tapToActivate&&!e._touchActive?!1:this.cancelTouch?!0:this._parent?this._parent.shouldCancelTouch():!1}}class jXe extends U3{constructor(){super(...arguments),Object.defineProperty(this,"interactiveChildren",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"_childLayers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_children",{enumerable:!0,configurable:!0,writable:!0,value:[]})}_isInteractiveMask(e){return this.interactiveChildren||super._isInteractiveMask(e)}addChild(e){e._parent=this,this._children.push(e),e._layer&&this.registerChildLayer(e._layer)}addChildAt(e,i){e._parent=this,this._children.splice(i,0,e),e._layer&&this.registerChildLayer(e._layer)}removeChild(e){e._parent=void 0,Do(this._children,e)}_render(e,i){super._render(e);const r=this._renderer;this.interactive&&this.interactiveChildren&&++r._forceInteractive,Ce(this._children,n=>{n.compoundAlpha=this.compoundAlpha*this.alpha,n.render(e,i)}),this.interactive&&this.interactiveChildren&&--r._forceInteractive}registerChildLayer(e){this._childLayers||(this._childLayers=[]),h$(this._childLayers,e),this._parent&&this._parent.registerChildLayer(e)}markDirtyLayer(e=!1){super.markDirtyLayer(),e&&this._childLayers&&Ce(this._childLayers,i=>i.dirty=!0)}_dispose(){super._dispose(),this._childLayers&&Ce(this._childLayers,e=>{e.dirty=!0})}}function dn(t,e){t.left=Math.min(t.left,e.x),t.top=Math.min(t.top,e.y),t.right=Math.max(t.right,e.x),t.bottom=Math.max(t.bottom,e.y)}class Hn{colorize(e,i){}colorizeGhost(e,i){this.colorize(e,i)}path(e){}pathGhost(e){this.path(e)}addBounds(e){}}class FXe extends Hn{colorize(e,i){e.beginPath()}}class bN extends Hn{constructor(e){super(),Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,writable:!0,value:e})}colorize(e,i){i!==void 0?e.fillStyle=i:e.fillStyle=this.color}}class VXe extends Hn{constructor(e){super(),Object.defineProperty(this,"clearShadow",{enumerable:!0,configurable:!0,writable:!0,value:e})}colorize(e,i){e.fill(),this.clearShadow&&(e.shadowColor="",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0)}}class UXe extends Hn{colorize(e,i){e.stroke()}}class wN extends Hn{constructor(e,i,r,n){super(),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,writable:!0,value:i}),Object.defineProperty(this,"lineJoin",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(this,"lineCap",{enumerable:!0,configurable:!0,writable:!0,value:n})}colorize(e,i){i!==void 0?e.strokeStyle=i:e.strokeStyle=this.color,e.lineWidth=this.width,this.lineJoin&&(e.lineJoin=this.lineJoin),this.lineCap&&(e.lineCap=this.lineCap)}}class BXe extends Hn{constructor(e){super(),Object.defineProperty(this,"dash",{enumerable:!0,configurable:!0,writable:!0,value:e})}colorize(e,i){e.setLineDash(this.dash)}}class HXe extends Hn{constructor(e){super(),Object.defineProperty(this,"dashOffset",{enumerable:!0,configurable:!0,writable:!0,value:e})}colorize(e,i){e.lineDashOffset=this.dashOffset}}class qXe extends Hn{constructor(e,i,r,n){super(),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,writable:!0,value:i}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,writable:!0,value:n})}path(e){e.rect(this.x,this.y,this.width,this.height)}addBounds(e){const i=this.x,r=this.y,n=i+this.width,s=r+this.height;dn(e,{x:i,y:r}),dn(e,{x:n,y:r}),dn(e,{x:i,y:s}),dn(e,{x:n,y:s})}}class GXe extends Hn{constructor(e,i,r){super(),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,writable:!0,value:i}),Object.defineProperty(this,"radius",{enumerable:!0,configurable:!0,writable:!0,value:r})}path(e){e.moveTo(this.x+this.radius,this.y),e.arc(this.x,this.y,this.radius,0,2*Math.PI)}addBounds(e){dn(e,{x:this.x-this.radius,y:this.y-this.radius}),dn(e,{x:this.x+this.radius,y:this.y+this.radius})}}class WXe extends Hn{constructor(e,i,r,n){super(),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,writable:!0,value:i}),Object.defineProperty(this,"radiusX",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(this,"radiusY",{enumerable:!0,configurable:!0,writable:!0,value:n})}path(e){e.ellipse(0,0,this.radiusX,this.radiusY,0,0,Math.PI*2)}addBounds(e){dn(e,{x:this.x-this.radiusX,y:this.y-this.radiusY}),dn(e,{x:this.x+this.radiusX,y:this.y+this.radiusY})}}class YXe extends Hn{constructor(e,i,r,n,s,o){super(),Object.defineProperty(this,"cx",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"cy",{enumerable:!0,configurable:!0,writable:!0,value:i}),Object.defineProperty(this,"radius",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(this,"startAngle",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(this,"endAngle",{enumerable:!0,configurable:!0,writable:!0,value:s}),Object.defineProperty(this,"anticlockwise",{enumerable:!0,configurable:!0,writable:!0,value:o})}path(e){this.radius>0&&e.arc(this.cx,this.cy,this.radius,this.startAngle,this.endAngle,this.anticlockwise)}addBounds(e){let i=EV(this.cx,this.cy,this.startAngle*c2,this.endAngle*c2,this.radius);dn(e,{x:i.left,y:i.top}),dn(e,{x:i.right,y:i.bottom})}}class ZXe extends Hn{constructor(e,i,r,n,s){super(),Object.defineProperty(this,"x1",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"y1",{enumerable:!0,configurable:!0,writable:!0,value:i}),Object.defineProperty(this,"x2",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(this,"y2",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(this,"radius",{enumerable:!0,configurable:!0,writable:!0,value:s})}path(e){this.radius>0&&e.arcTo(this.x1,this.y1,this.x2,this.y2,this.radius)}addBounds(e){}}class JXe extends Hn{constructor(e,i){super(),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,writable:!0,value:i})}path(e){e.lineTo(this.x,this.y)}addBounds(e){dn(e,{x:this.x,y:this.y})}}class XXe extends Hn{constructor(e,i){super(),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,writable:!0,value:i})}path(e){e.moveTo(this.x,this.y)}addBounds(e){dn(e,{x:this.x,y:this.y})}}class KXe extends Hn{path(e){e.closePath()}}class QXe extends Hn{constructor(e,i,r,n,s,o){super(),Object.defineProperty(this,"cpX",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"cpY",{enumerable:!0,configurable:!0,writable:!0,value:i}),Object.defineProperty(this,"cpX2",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(this,"cpY2",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(this,"toX",{enumerable:!0,configurable:!0,writable:!0,value:s}),Object.defineProperty(this,"toY",{enumerable:!0,configurable:!0,writable:!0,value:o})}path(e){e.bezierCurveTo(this.cpX,this.cpY,this.cpX2,this.cpY2,this.toX,this.toY)}addBounds(e){dn(e,{x:this.cpX,y:this.cpY}),dn(e,{x:this.cpX2,y:this.cpY2}),dn(e,{x:this.toX,y:this.toY})}}class eKe extends Hn{constructor(e,i,r,n){super(),Object.defineProperty(this,"cpX",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"cpY",{enumerable:!0,configurable:!0,writable:!0,value:i}),Object.defineProperty(this,"toX",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(this,"toY",{enumerable:!0,configurable:!0,writable:!0,value:n})}path(e){e.quadraticCurveTo(this.cpX,this.cpY,this.toX,this.toY)}addBounds(e){dn(e,{x:this.cpX,y:this.cpY}),dn(e,{x:this.toX,y:this.toY})}}class tKe extends Hn{constructor(e,i,r,n,s){super(),Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"blur",{enumerable:!0,configurable:!0,writable:!0,value:i}),Object.defineProperty(this,"offsetX",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(this,"offsetY",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(this,"opacity",{enumerable:!0,configurable:!0,writable:!0,value:s})}colorize(e,i){this.opacity&&(e.fillStyle=this.color),e.shadowColor=this.color,e.shadowBlur=this.blur,e.shadowOffsetX=this.offsetX,e.shadowOffsetY=this.offsetY}colorizeGhost(e,i){}}class iKe extends Hn{constructor(e,i,r,n,s){super(),Object.defineProperty(this,"image",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,writable:!0,value:i}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,writable:!0,value:s})}path(e){e.drawImage(this.image,this.x,this.y,this.width,this.height)}addBounds(e){dn(e,{x:this.x,y:this.y}),dn(e,{x:this.width,y:this.height})}}class rKe extends U3{constructor(){super(...arguments),Object.defineProperty(this,"_operations",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"blendMode",{enumerable:!0,configurable:!0,writable:!0,value:sP.NORMAL}),Object.defineProperty(this,"_hasShadows",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_fillAlpha",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_strokeAlpha",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}clear(){super.clear(),this._operations.length=0}_pushOp(e){this._operations.push(e)}beginFill(e,i=1){this._fillAlpha=i,e?e instanceof Rt?this._pushOp(new bN(e.toCSS(i))):(this.isMeasured=!0,this._pushOp(new bN(e))):this._pushOp(new bN("rgba(0, 0, 0, "+i+")"))}endFill(){this._pushOp(new VXe(this._hasShadows))}endStroke(){this._pushOp(new UXe)}beginPath(){this._pushOp(new FXe)}lineStyle(e=0,i,r=1,n,s){this._strokeAlpha=r,i?i instanceof Rt?this._pushOp(new wN(e,i.toCSS(r),n,s)):this._pushOp(new wN(e,i,n,s)):this._pushOp(new wN(e,"rgba(0, 0, 0, "+r+")",n,s))}setLineDash(e){this._pushOp(new BXe(e||[]))}setLineDashOffset(e=0){this._pushOp(new HXe(e))}drawRect(e,i,r,n){this._pushOp(new qXe(e,i,r,n))}drawCircle(e,i,r){this._pushOp(new GXe(e,i,r))}drawEllipse(e,i,r,n){this._pushOp(new WXe(e,i,r,n))}arc(e,i,r,n,s,o=!1){this._pushOp(new YXe(e,i,r,n,s,o))}arcTo(e,i,r,n,s){this._pushOp(new ZXe(e,i,r,n,s))}lineTo(e,i){this._pushOp(new JXe(e,i))}moveTo(e,i){this._pushOp(new XXe(e,i))}bezierCurveTo(e,i,r,n,s,o){this._pushOp(new QXe(e,i,r,n,s,o))}quadraticCurveTo(e,i,r,n){this._pushOp(new eKe(e,i,r,n))}closePath(){this._pushOp(new KXe)}shadow(e,i=0,r=0,n=0,s){this._hasShadows=!0,this._pushOp(new tKe(s?e.toCSS(s):e.toCSS(this._fillAlpha||this._strokeAlpha),i,r,n))}image(e,i,r,n,s){this._pushOp(new iKe(e,i,r,n,s))}svgPath(e){let i=0,r=0,n=null,s=null,o=null,a=null;const l=/([MmZzLlHhVvCcSsQqTtAa])([^MmZzLlHhVvCcSsQqTtAa]*)/g,h=/[\u0009\u0020\u000A\u000C\u000D]*([\+\-]?[0-9]*\.?[0-9]+(?:[eE][\+\-]?[0-9]+)?)[\u0009\u0020\u000A\u000C\u000D]*,?/g;let f;for(;(f=l.exec(e))!==null;){const g=f[1],v=f[2],w=[];for(;(f=h.exec(v))!==null;)w.push(f[1]);switch(g!=="S"&&g!=="s"&&g!=="C"&&g!=="c"&&(n=null,s=null),g!=="Q"&&g!=="q"&&g!=="T"&&g!=="t"&&(o=null,a=null),g){case"M":Na(g,w.length,2),i=+w[0],r=+w[1],this.moveTo(i,r);for(let T=2;T<w.length;T+=2)i=+w[T],r=+w[T+1],this.lineTo(i,r);break;case"m":Na(g,w.length,2),i+=+w[0],r+=+w[1],this.moveTo(i,r);for(let T=2;T<w.length;T+=2)i+=+w[T],r+=+w[T+1],this.lineTo(i,r);break;case"L":Na(g,w.length,2);for(let T=0;T<w.length;T+=2)i=+w[T],r=+w[T+1],this.lineTo(i,r);break;case"l":Na(g,w.length,2);for(let T=0;T<w.length;T+=2)i+=+w[T],r+=+w[T+1],this.lineTo(i,r);break;case"H":vT(g,w.length,1);for(let T=0;T<w.length;++T)i=+w[T],this.lineTo(i,r);break;case"h":vT(g,w.length,1);for(let T=0;T<w.length;++T)i+=+w[T],this.lineTo(i,r);break;case"V":vT(g,w.length,1);for(let T=0;T<w.length;++T)r=+w[T],this.lineTo(i,r);break;case"v":vT(g,w.length,1);for(let T=0;T<w.length;++T)r+=+w[T],this.lineTo(i,r);break;case"C":Na(g,w.length,6);for(let T=0;T<w.length;T+=6){const C=+w[T],I=+w[T+1];n=+w[T+2],s=+w[T+3],i=+w[T+4],r=+w[T+5],this.bezierCurveTo(C,I,n,s,i,r)}break;case"c":Na(g,w.length,6);for(let T=0;T<w.length;T+=6){const C=+w[T]+i,I=+w[T+1]+r;n=+w[T+2]+i,s=+w[T+3]+r,i+=+w[T+4],r+=+w[T+5],this.bezierCurveTo(C,I,n,s,i,r)}break;case"S":Na(g,w.length,4),(n===null||s===null)&&(n=i,s=r);for(let T=0;T<w.length;T+=4){const C=2*i-n,I=2*r-s;n=+w[T],s=+w[T+1],i=+w[T+2],r=+w[T+3],this.bezierCurveTo(C,I,n,s,i,r)}break;case"s":Na(g,w.length,4),(n===null||s===null)&&(n=i,s=r);for(let T=0;T<w.length;T+=4){const C=2*i-n,I=2*r-s;n=+w[T]+i,s=+w[T+1]+r,i+=+w[T+2],r+=+w[T+3],this.bezierCurveTo(C,I,n,s,i,r)}break;case"Q":Na(g,w.length,4);for(let T=0;T<w.length;T+=4)o=+w[T],a=+w[T+1],i=+w[T+2],r=+w[T+3],this.quadraticCurveTo(o,a,i,r);break;case"q":Na(g,w.length,4);for(let T=0;T<w.length;T+=4)o=+w[T]+i,a=+w[T+1]+r,i+=+w[T+2],r+=+w[T+3],this.quadraticCurveTo(o,a,i,r);break;case"T":Na(g,w.length,2),(o===null||a===null)&&(o=i,a=r);for(let T=0;T<w.length;T+=2)o=2*i-o,a=2*r-a,i=+w[T],r=+w[T+1],this.quadraticCurveTo(o,a,i,r);break;case"t":Na(g,w.length,2),(o===null||a===null)&&(o=i,a=r);for(let T=0;T<w.length;T+=2)o=2*i-o,a=2*r-a,i+=+w[T],r+=+w[T+1],this.quadraticCurveTo(o,a,i,r);break;case"A":case"a":const S=g==="a";RXe(w),Na(g,w.length,7);for(let T=0;T<w.length;T+=7){let C=+w[T+5],I=+w[T+6];S&&(C+=i,I+=r);const A=PXe({px:i,py:r,rx:+w[T],ry:+w[T+1],xAxisRotation:+w[T+2],largeArcFlag:gte(+w[T+3]),sweepFlag:gte(+w[T+4]),cx:C,cy:I});Ce(A,P=>{this.bezierCurveTo(P.x1,P.y1,P.x2,P.y2,P.x,P.y),i=P.x,r=P.y})}break;case"Z":case"z":DXe(g,w.length,0),this.closePath();break}}}_runPath(e){e.beginPath(),Ce(this._operations,i=>{i.path(e)})}_render(e,i=0){super._render(e);const r=e.layer.dirty,n=this._isInteractive(e),s=this._ghostOnly(i),o=this._drawGhost(e,i);if(r||n||s){const a=e.layer.context,l=this._renderer._ghostLayer.context;r&&!s&&(a.globalCompositeOperation=this.blendMode,a.beginPath());let h;o&&(l.beginPath(),h=this._getColorId()),Ce(this._operations,f=>{r&&!s&&(f.path(a),f.colorize(a,void 0)),o&&(f.pathGhost(l),f.colorizeGhost(l,h))})}}renderDetached(e){if(this.visible){this._setMatrix(),e.save();const i=this.mask;i&&(i._setMatrix(),i._transform(e,1),i._runPath(e),e.clip()),e.globalAlpha=this.compoundAlpha*this.alpha,this._transform(e,1),this.filter&&(e.filter=this.filter),e.globalCompositeOperation=this.blendMode,e.beginPath(),Ce(this._operations,r=>{r.path(e),r.colorize(e,void 0)}),e.restore()}}_addBounds(e){this.visible&&this.isMeasured&&Ce(this._operations,i=>{i.addBounds(e)})}}class Sge extends U3{constructor(e,i,r){super(e),Object.defineProperty(this,"text",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"style",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"resolution",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"textVisible",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"truncated",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_textInfo",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_originalScale",{enumerable:!0,configurable:!0,writable:!0,value:1}),this.text=i,this.style=r}invalidateBounds(){super.invalidateBounds(),this._textInfo=void 0}invalidateVisibility(){this.textVisible=!0,this.scale=this._originalScale||1}_shared(e){this.style.textAlign&&(e.textAlign=this.style.textAlign),this.style.direction&&(e.direction=this.style.direction),this.style.textBaseline&&(e.textBaseline=this.style.textBaseline)}_prerender(e,i=!1,r=!1){super._render(e);const n=e.layer.context,s=this._renderer._ghostLayer.context,o=this.style;let a=this._getFontStyle(void 0,r);n.font=a,this._isInteractive(e)&&!i&&(s.font=a),o.fill&&(o.fill instanceof Rt?n.fillStyle=o.fill.toCSS(o.fillOpacity!=null?o.fillOpacity:1):n.fillStyle=o.fill),o.shadowColor&&(e.layer.context.shadowColor=o.shadowColor.toCSS(o.shadowOpacity||1)),o.shadowBlur&&(e.layer.context.shadowBlur=o.shadowBlur),o.shadowOffsetX&&(e.layer.context.shadowOffsetX=o.shadowOffsetX),o.shadowOffsetY&&(e.layer.context.shadowOffsetY=o.shadowOffsetY),this._shared(n),this._isInteractive(e)&&!i&&(s.fillStyle=this._getColorId(),this._shared(s))}_getFontStyle(e,i=!1){const r=this.style;let n=[];return e&&e.fontVariant?n.push(e.fontVariant):r.fontVariant&&n.push(r.fontVariant),i||(e&&e.fontWeight?n.push(e.fontWeight):r.fontWeight&&n.push(r.fontWeight)),e&&e.fontStyle?n.push(e.fontStyle):r.fontStyle&&n.push(r.fontStyle),e&&e.fontSize?(pt(e.fontSize)&&(e.fontSize=e.fontSize+"px"),n.push(e.fontSize)):r.fontSize&&(pt(r.fontSize)&&(r.fontSize=r.fontSize+"px"),n.push(r.fontSize)),e&&e.fontFamily?n.push(e.fontFamily):r.fontFamily?n.push(r.fontFamily):n.length&&n.push("Arial"),n.join(" ")}_render(e,i=0){if(this._textInfo||this._measure(e),this.textVisible){const r=this._isInteractive(e),n=e.layer.context,s=e.layer.dirty,o=this._renderer._ghostLayer.context,a=this._ghostOnly(i),l=this._drawGhost(e,i);n.save(),o.save(),this._prerender(e),Ce(this._textInfo,(h,f)=>{Ce(h.textChunks,(g,v)=>{if(g.style&&(n.save(),o.save(),a||(n.font=g.style),this._isInteractive(e)&&(o.font=g.style)),g.fill&&(n.save(),a||(n.fillStyle=g.fill.toCSS())),s&&!a&&n.fillText(g.text,g.offsetX,h.offsetY+g.offsetY),g.textDecoration=="underline"||g.textDecoration=="line-through"){let w=1,S=1,T=g.height;const C=this.style.oversizedBehavior||"";if(["truncate","wrap","wrap-no-break"].indexOf(C)>-1){const P=this._measureText(g.text,n);g.width=P.actualBoundingBoxLeft+P.actualBoundingBoxRight}let I=g.offsetX;switch(this.style.textAlign){case"right":case"end":I-=g.width;break;case"center":I-=g.width/2;break}if(g.style)switch(yu.getTextStyle(g.style).fontWeight){case"bolder":case"bold":case"700":case"800":case"900":w=2;break}T&&(S=T/20);let A;g.textDecoration=="line-through"?A=w+h.offsetY+g.offsetY-g.height/2:A=w+S*1.5+h.offsetY+g.offsetY,a||(n.save(),n.beginPath(),g.fill?n.strokeStyle=g.fill.toCSS():this.style.fill&&this.style.fill instanceof Rt&&(n.strokeStyle=this.style.fill.toCSS()),n.lineWidth=w*S,n.moveTo(I,A),n.lineTo(I+g.width,A),n.stroke(),n.restore())}r&&this.interactive&&l&&o.fillText(g.text,g.offsetX,h.offsetY+g.offsetY),g.fill&&n.restore(),g.style&&(n.restore(),o.restore())})}),n.restore(),o.restore()}}_addBounds(e){if(this.visible&&this.isMeasured){const i=this._measure({inactive:this.inactive,layer:this.getLayer()});dn(e,{x:i.left,y:i.top}),dn(e,{x:i.right,y:i.bottom})}}_ignoreFontWeight(){return/apple/i.test(navigator.vendor)}_measure(e){const i=e.layer.context,r=this._renderer._ghostLayer.context,n=this.style.direction=="rtl";this._textInfo=[];const s=this.style.oversizedBehavior,o=this.style.maxWidth,a=pt(o)&&s=="truncate",l=pt(o)&&(s=="wrap"||s=="wrap-no-break");i.save(),r.save(),this._prerender(e,!0,this._ignoreFontWeight());const h="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789 ",f=this.text.toString().replace(/\r/g,"").split(/\n/);let g=!0,v=0,w=0,S=0,T;Ce(f,(I,A)=>{let P;for(I==""?P=[{type:"value",text:""}]:P=yu.chunk(I,!1,this.style.ignoreFormatting);P.length>0;){let D={offsetY:S,ascent:0,width:0,height:0,left:0,right:0,textChunks:[]};const L=this._measureText(h,i),B=L.actualBoundingBoxAscent+L.actualBoundingBoxDescent;D.height=B,D.ascent=L.actualBoundingBoxAscent;let N,Y=this.style.textDecoration,K,te,ue=!1,ye=!0,se=[],G;f7(P,(ie,J)=>{if(ie.type=="format")if(ie.text=="[/]")g||(i.restore(),r.restore(),g=!0),K=void 0,T=void 0,te=void 0,Y=this.style.textDecoration,G=void 0,N=ie.text;else{g||(i.restore(),r.restore());let le=yu.getTextStyle(ie.text);const ve=this._getFontStyle(le);i.save(),r.save(),i.font=ve,T=ve,N=ie.text,le.textDecoration&&(Y=le.textDecoration),le.fill&&(K=le.fill),le.width&&(te=rl(le.width)),le.verticalAlign&&(G=le.verticalAlign),g=!1;const Me=this._measureText(h,i),Ne=Me.actualBoundingBoxAscent+Me.actualBoundingBoxDescent;Ne>D.height&&(D.height=Ne),Me.actualBoundingBoxAscent>D.ascent&&(D.ascent=Me.actualBoundingBoxAscent)}else if(ie.type=="value"&&!ue){const le=this._measureText(ie.text,i);let ve=le.actualBoundingBoxLeft+le.actualBoundingBoxRight;if(a){this.truncated=void 0;let fe=ye||this.style.breakWords||!1;const Pe=this.style.ellipsis||"",Be=this._measureText(Pe,i),Je=Be.actualBoundingBoxLeft+Be.actualBoundingBoxRight;if(D.width+ve>o){const lt=o-D.width-Je;ie.text=this._truncateText(i,ie.text,lt,fe),ie.text+=Pe,ue=!0,this.truncated=!0}}else if(l&&D.width+ve>o){const fe=o-D.width,Pe=this._truncateText(i,ie.text,fe,!1,ye&&this.style.oversizedBehavior!="wrap-no-break");if(Pe=="")return this.textVisible=!0,!1;se=P.slice(J+1),s_(Pe)!=s_(ie.text)&&(se.unshift({type:"value",text:ie.text.substr(Pe.length)}),N&&se.unshift({type:"format",text:N})),ie.text=s_(Pe),P=[],ue=!0}let Me=1,Ne=1;if(T&&te&&te>ve){const fe=ve/te;switch(this.style.textAlign){case"right":case"end":Me=fe;break;case"center":Me=fe,Ne=fe;break;default:Ne=fe}ve=te}const X=le.actualBoundingBoxAscent+le.actualBoundingBoxDescent;X>D.height&&(D.height=X),le.actualBoundingBoxAscent>D.ascent&&(D.ascent=le.actualBoundingBoxAscent),D.width+=ve,D.left+=le.actualBoundingBoxLeft/Me,D.right+=le.actualBoundingBoxRight/Ne,D.textChunks.push({style:T,fill:K,text:ie.text,width:ve,height:X,left:le.actualBoundingBoxLeft,right:le.actualBoundingBoxRight,ascent:le.actualBoundingBoxAscent,offsetX:0,offsetY:0,textDecoration:Y,verticalAlign:G}),ye=!1}return!0}),this.style.lineHeight instanceof ti?(D.height*=this.style.lineHeight.value,D.ascent*=this.style.lineHeight.value):(D.height*=this.style.lineHeight||1.2,D.ascent*=this.style.lineHeight||1.2),v<D.left&&(v=D.left),w<D.right&&(w=D.right),this._textInfo.push(D),S+=D.height,P=se||[]}}),g||(i.restore(),r.restore()),Ce(this._textInfo,(I,A)=>{let P=0;Ce(I.textChunks,D=>{if(D.offsetX=P+D.left-I.left,D.offsetY+=I.height-I.height*(this.style.baselineRatio||.19),P+=D.width*(n?-1:1),D.verticalAlign)switch(D.verticalAlign){case"super":D.offsetY-=I.height/2-D.height/2;break;case"sub":D.offsetY+=D.height/2;break}})});const C={left:n?-w:-v,top:0,right:n?v:w,bottom:S};if(s!=="none"){const I=this._fitRatio(C);if(I<1)if(s=="fit")pt(this.style.minScale)&&I<this.style.minScale?(this.textVisible=!1,C.left=0,C.top=0,C.right=0,C.bottom=0):(this._originalScale||(this._originalScale=this.scale),this.scale=I,this.textVisible=!0);else if(s=="hide")this.textVisible=!1,C.left=0,C.top=0,C.right=0,C.bottom=0;else{switch(this.style.textAlign){case"right":case"end":C.left=n?o:-o,C.right=0;break;case"center":C.left=-o/2,C.right=o/2;break;default:C.left=0,C.right=n?-o:o}this.scale=this._originalScale||1,this._originalScale=void 0,this.textVisible=!0}else this.scale=this._originalScale||1,this._originalScale=void 0,this.textVisible=!0}return i.restore(),r.restore(),C}_fitRatio(e){const i=this.style.maxWidth,r=this.style.maxHeight;if(!pt(i)&&!pt(r))return 1;const n=e.right-e.left,s=e.bottom-e.top;return Math.min(i/n||1,r/s||1)}_truncateText(e,i,r,n=!1,s=!0){let o;do{if(n)i=i.slice(0,-1);else{let l=i.replace(/[^,;:!?\\\/\s]+[,;:!?\\\/\s]*$/g,"");if((l==""||l===i)&&s)n=!0;else{if(l=="")return i;i=l}}const a=this._measureText(i,e);o=a.actualBoundingBoxLeft+a.actualBoundingBoxRight}while(o>r&&i!="");return i}_measureText(e,i){let r=i.measureText(e),n={};if(r.actualBoundingBoxAscent==null){const o=document.createElement("div");o.innerText=e,o.style.visibility="hidden",o.style.position="absolute",o.style.top="-1000000px;",o.style.fontFamily=this.style.fontFamily||"",o.style.fontSize=this.style.fontSize+"",document.body.appendChild(o);const a=o.getBoundingClientRect();document.body.removeChild(o);const l=a.height,h=r.width;n={actualBoundingBoxAscent:l,actualBoundingBoxDescent:0,actualBoundingBoxLeft:0,actualBoundingBoxRight:h,fontBoundingBoxAscent:l,fontBoundingBoxDescent:0,width:h}}else n={actualBoundingBoxAscent:r.actualBoundingBoxAscent,actualBoundingBoxDescent:r.actualBoundingBoxDescent,actualBoundingBoxLeft:r.actualBoundingBoxLeft,actualBoundingBoxRight:r.actualBoundingBoxRight,fontBoundingBoxAscent:r.actualBoundingBoxAscent,fontBoundingBoxDescent:r.actualBoundingBoxDescent,width:r.width};const s=r.width;switch(this.style.textAlign){case"right":case"end":n.actualBoundingBoxLeft=s,n.actualBoundingBoxRight=0;break;case"center":n.actualBoundingBoxLeft=s/2,n.actualBoundingBoxRight=s/2;break;default:n.actualBoundingBoxLeft=0,n.actualBoundingBoxRight=s}return n}}class nKe{constructor(){Object.defineProperty(this,"fill",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"fillOpacity",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"textAlign",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"fontFamily",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"fontWeight",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"fontVariant",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"textDecoration",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shadowColor",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shadowBlur",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shadowOffsetX",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shadowOffsetY",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shadowOpacity",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"lineHeight",{enumerable:!0,configurable:!0,writable:!0,value:lo(120)}),Object.defineProperty(this,"baselineRatio",{enumerable:!0,configurable:!0,writable:!0,value:.19}),Object.defineProperty(this,"direction",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"textBaseline",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"oversizedBehavior",{enumerable:!0,configurable:!0,writable:!0,value:"none"}),Object.defineProperty(this,"breakWords",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"ellipsis",{enumerable:!0,configurable:!0,writable:!0,value:""}),Object.defineProperty(this,"maxWidth",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"maxHeight",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"minScale",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"ignoreFormatting",{enumerable:!0,configurable:!0,writable:!0,value:!1})}}class sKe extends Sge{constructor(){super(...arguments),Object.defineProperty(this,"textType",{enumerable:!0,configurable:!0,writable:!0,value:"circular"}),Object.defineProperty(this,"radius",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"startAngle",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"inside",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"orientation",{enumerable:!0,configurable:!0,writable:!0,value:"auto"}),Object.defineProperty(this,"kerning",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_textReversed",{enumerable:!0,configurable:!0,writable:!0,value:!1})}_render(e,i=0){this.textType==="circular"?this._renderCircular(e,i):super._render(e,i)}_renderCircular(e,i=0){if(this.textVisible){this._prerender(e);const r=this._isInteractive(e),n=e.layer.context,s=e.layer.dirty,o=this._renderer._ghostLayer.context;n.save(),r&&o.save(),this._textInfo||this._measure(e);let a=this.radius||0,l=this.startAngle||0,h=0,f=this.orientation,g=f=="auto"?"auto":f=="inward";const v=this.inside,w=this.style.textAlign||"left",S=this.kerning||0;let T=w=="left"?1:-1;const C=!this._textReversed,I=this._ghostOnly(i),A=this._drawGhost(e,i);if(g=="auto"){let P=0,D=0;Ce(this._textInfo,(L,B)=>{const N=l+L.width/(a-L.height)/2*-T;N>P&&(P=N)}),w=="left"?D=(P+h/2)*c2:w=="right"?D=(P-h/2)*c2:D=l*c2,D=y7(D),g=D>=270||D<=90}g==!0&&C&&(this._textInfo.reverse(),this._textReversed=!0),Ce(this._textInfo,(P,D)=>{const L=P.height;v||(a+=L),(T==-1&&g||T==1&&!g)&&C&&P.textChunks.reverse();let B=l;h=0,w=="center"&&(B+=P.width/(a-L)/2*-T,h=B-l),B+=Math.PI*(g?0:1),n.save(),r&&o.save(),I||n.rotate(B),r&&o.rotate(B);let N=0;Ce(P.textChunks,(Y,K)=>{const te=Y.text,ue=Y.width;N=ue/2/(a-L)*T,I||n.rotate(N),r&&o.rotate(N),Y.style&&(n.save(),o.save(),I||(n.font=Y.style),r&&(o.font=Y.style)),Y.fill&&(n.save(),I||(n.fillStyle=Y.fill.toCSS())),I||(n.textBaseline="middle",n.textAlign="center"),r&&(o.textBaseline="middle",o.textAlign="center"),s&&!I&&n.fillText(te,0,(g?1:-1)*(0-a+L/2)),r&&A&&o.fillText(te,0,(g?1:-1)*(0-a+L/2)),Y.fill&&n.restore(),Y.style&&(n.restore(),o.restore()),N=(ue/2+S)/(a-L)*T,I||n.rotate(N),r&&o.rotate(N)}),n.restore(),r&&o.restore(),v&&(a-=L)}),n.restore(),r&&o.restore()}}_measure(e){return this.textType==="circular"?this._measureCircular(e):super._measure(e)}_measureCircular(e){const i=e.layer.context,r=this._renderer._ghostLayer.context,n=this.style.direction=="rtl",s=this.style.oversizedBehavior,o=this.style.maxWidth,a=pt(o)&&s=="truncate",l=this.style.ellipsis||"";let h;this.textVisible=!0,this._textInfo=[],this._textReversed=!1,i.save(),r.save(),this._prerender(e,!0);const f=this.text.toString().replace(/\r/g,"").split(/\n/);let g=!0,v=0,w=0;return Ce(f,(S,T)=>{let C=yu.chunk(S,!1,this.style.ignoreFormatting),I={offsetY:w,ascent:0,width:0,height:0,left:0,right:0,textChunks:[]},A,P,D;Ce(C,(L,B)=>{if(L.type=="format"){if(L.text=="[/]")g||(i.restore(),r.restore(),g=!0),P=void 0,A=void 0,D=void 0;else{let N=yu.getTextStyle(L.text);const Y=this._getFontStyle(N);i.save(),r.save(),i.font=Y,A=Y,N.fill&&(P=N.fill),N.width&&(D=rl(N.width)),g=!1}a&&(h=this._measureText(l,i))}else if(L.type=="value"){let N=L.text.match(/./ug)||[];n&&(N=ZJe(L.text),N.reverse());for(let Y=0;Y<N.length;Y++){const K=N[Y],te=this._measureText(K,i);let ue=te.width;A&&D&&D>ue&&(ue=D);const ye=te.actualBoundingBoxAscent+te.actualBoundingBoxDescent;if(ye>I.height&&(I.height=ye),te.actualBoundingBoxAscent>I.ascent&&(I.ascent=te.actualBoundingBoxAscent),v+=ue,a){h||(h=this._measureText(l,i));const se=h.actualBoundingBoxLeft+h.actualBoundingBoxRight;if(v+se>o){I.textChunks.length==1?this.textVisible=!1:(I.width+=se,I.left+=h.actualBoundingBoxLeft,I.right+=h.actualBoundingBoxRight,I.textChunks.push({style:A,fill:P,text:l,width:se,height:ye+h.actualBoundingBoxDescent,left:h.actualBoundingBoxLeft,right:h.actualBoundingBoxRight,ascent:h.actualBoundingBoxAscent,offsetX:0,offsetY:ye,textDecoration:void 0}));break}}I.width+=ue,I.left+=te.actualBoundingBoxLeft,I.right+=te.actualBoundingBoxRight,I.textChunks.push({style:A,fill:P,text:K,width:ue,height:ye+te.actualBoundingBoxDescent,left:te.actualBoundingBoxLeft,right:te.actualBoundingBoxRight,ascent:te.actualBoundingBoxAscent,offsetX:0,offsetY:ye,textDecoration:void 0})}}}),this.style.lineHeight instanceof ti?I.height*=this.style.lineHeight.value:I.height*=this.style.lineHeight||1.2,this._textInfo.push(I),w+=I.height}),g||(i.restore(),r.restore()),s=="hide"&&v>o&&(this.textVisible=!1),Ce(this._textInfo,S=>{Ce(S.textChunks,T=>{T.offsetY+=Math.round((S.height-T.height+(S.ascent-T.ascent))/2)})}),i.restore(),r.restore(),{left:0,top:0,right:0,bottom:0}}}class oKe extends U3{constructor(e,i){super(e),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"image",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tainted",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shadowColor",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shadowBlur",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shadowOffsetX",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shadowOffsetY",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shadowOpacity",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_imageMask",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.image=i}_dispose(){super._dispose(),this._imageMask&&bT(this._imageMask)}getLocalBounds(){if(!this._localBounds){let e=0,i=0;this.width&&(e=this.width),this.height&&(i=this.height),this._localBounds={left:0,top:0,right:e,bottom:i},this._addBounds(this._localBounds)}return this._localBounds}_render(e,i=0){if(super._render(e),this.image){if(this.tainted===void 0&&(this.tainted=yte(this.image),e.layer.tainted=!0),this.tainted&&this._renderer._omitTainted)return;const r=this._ghostOnly(i),n=this._drawGhost(e,i);if(e.layer.dirty&&!r){this.shadowColor&&(e.layer.context.shadowColor=this.shadowColor.toCSS(this.shadowOpacity||1)),this.shadowBlur&&(e.layer.context.shadowBlur=this.shadowBlur),this.shadowOffsetX&&(e.layer.context.shadowOffsetX=this.shadowOffsetX),this.shadowOffsetY&&(e.layer.context.shadowOffsetY=this.shadowOffsetY);const s=this.width||this.image.naturalWidth,o=this.height||this.image.naturalHeight;e.layer.context.drawImage(this.image,0,0,s,o)}if(this.interactive&&this._isInteractive(e)&&n){const s=this._getMask(this.image);this._renderer._ghostLayer.context.drawImage(s,0,0)}}}clear(){super.clear(),this.image=void 0,this._imageMask=void 0}_getMask(e){if(this._imageMask===void 0){const i=this.width||e.naturalWidth,r=this.height||e.naturalHeight,n=document.createElement("canvas");n.width=i,n.height=r;const s=n.getContext("2d");s.imageSmoothingEnabled=!1,s.fillStyle=this._getColorId(),s.fillRect(0,0,i,r),yte(e)||(s.globalCompositeOperation="destination-in",s.drawImage(e,0,0,i,r)),this._imageMask=n}return this._imageMask}}class aKe{constructor(e,i,r,n){Object.defineProperty(this,"event",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"originalPoint",{enumerable:!0,configurable:!0,writable:!0,value:i}),Object.defineProperty(this,"point",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(this,"bbox",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(this,"id",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"simulated",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"native",{enumerable:!0,configurable:!0,writable:!0,value:!0}),sv("touchevents")&&e instanceof Touch?this.id=e.identifier:this.id=null}}class lKe extends LJe{constructor(e){if(super(),Object.defineProperty(this,"view",{enumerable:!0,configurable:!0,writable:!0,value:document.createElement("div")}),Object.defineProperty(this,"_layerDom",{enumerable:!0,configurable:!0,writable:!0,value:document.createElement("div")}),Object.defineProperty(this,"layers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_dirtyLayers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"defaultLayer",{enumerable:!0,configurable:!0,writable:!0,value:this.getLayer(0)}),Object.defineProperty(this,"_ghostLayer",{enumerable:!0,configurable:!0,writable:!0,value:new cKe}),Object.defineProperty(this,"_deferredGhostLayers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_patternCanvas",{enumerable:!0,configurable:!0,writable:!0,value:document.createElement("canvas")}),Object.defineProperty(this,"_patternContext",{enumerable:!0,configurable:!0,writable:!0,value:this._patternCanvas.getContext("2d")}),Object.defineProperty(this,"_realWidth",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_realHeight",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_calculatedWidth",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_calculatedHeight",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"resolution",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"interactionsEnabled",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"_listeners",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_events",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_colorId",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_colorMap",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_forceInteractive",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_omitTainted",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_hovering",{enumerable:!0,configurable:!0,writable:!0,value:new Set}),Object.defineProperty(this,"_dragging",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_mousedown",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_lastPointerMoveEvent",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tapToActivate",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"tapToActivateTimeout",{enumerable:!0,configurable:!0,writable:!0,value:3e3}),Object.defineProperty(this,"_touchActive",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_touchActiveTimeout",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),e==null?this.resolution=window.devicePixelRatio:this.resolution=e,this.view.style.position="absolute",this.view.setAttribute("aria-hidden","true"),this.view.appendChild(this._layerDom),this._disposers.push(new Nn(()=>{ir(this._events,(i,r)=>{r.disposer.dispose()}),Ce(this.layers,i=>{bT(i.view),i.exportableView&&bT(i.exportableView)}),bT(this._ghostLayer.view),bT(this._patternCanvas)})),this._disposers.push(dge(()=>{e==null&&(this.resolution=window.devicePixelRatio)})),sv("touchevents")){const i=r=>{this._dragging.length!==0&&f7(this._dragging,n=>n.value.shouldCancelTouch()?(r.preventDefault(),!1):!0),this._touchActiveTimeout&&this._delayTouchDeactivate()};this._disposers.push(Jr(window,"touchstart",i,{passive:!1})),this._disposers.push(Jr(this.view,"touchstart",i,{passive:!1})),this._disposers.push(Jr(this.view,"touchmove",()=>{this._touchActiveTimeout&&this._delayTouchDeactivate()},{passive:!0})),this._disposers.push(Jr(window,"click",r=>{this._touchActive=!1},{passive:!0})),this._disposers.push(Jr(this.view,"click",r=>{window.setTimeout(()=>{this._touchActive=!0,this._delayTouchDeactivate()},100)},{passive:!0}))}sv("wheelevents")&&this._disposers.push(Jr(this.view,"wheel",i=>{let r=!1;this._hovering.forEach(n=>{if(n.wheelable)return r=!0,!1}),r&&i.preventDefault()},{passive:!1}))}resetImageArray(){this._ghostLayer.imageArray=void 0}_delayTouchDeactivate(){this._touchActiveTimeout&&clearTimeout(this._touchActiveTimeout),this.tapToActivateTimeout>0&&(this._touchActiveTimeout=window.setTimeout(()=>{this._touchActive=!1},this.tapToActivateTimeout))}get debugGhostView(){return!!this._ghostLayer.view.parentNode}set debugGhostView(e){e?this._ghostLayer.view.parentNode||this.view.appendChild(this._ghostLayer.view):this._ghostLayer.view.parentNode&&this._ghostLayer.view.parentNode.removeChild(this._ghostLayer.view)}createLinearGradient(e,i,r,n){return this.defaultLayer.context.createLinearGradient(e,i,r,n)}createRadialGradient(e,i,r,n,s,o){return this.defaultLayer.context.createRadialGradient(e,i,r,n,s,o)}createPattern(e,i,r,n,s){return this._patternCanvas.width=n,this._patternCanvas.height=s,this._patternContext.clearRect(0,0,n,s),i.renderDetached(this._patternContext),e.renderDetached(this._patternContext),this._patternContext.createPattern(this._patternCanvas,r)}makeContainer(){return new jXe(this)}makeGraphics(){return new rKe(this)}makeText(e,i){return new Sge(this,e,i)}makeTextStyle(){return new nKe}makeRadialText(e,i){return new sKe(this,e,i)}makePicture(e){return new oKe(this,e)}resizeLayer(e){e.resize(this._calculatedWidth,this._calculatedHeight,this._calculatedWidth,this._calculatedHeight,this.resolution)}resizeGhost(){this._ghostLayer.resize(this._calculatedWidth,this._calculatedHeight,this._calculatedWidth,this._calculatedHeight,this.resolution)}resize(e,i,r,n){this._realWidth=e,this._realHeight=i,this._calculatedWidth=r,this._calculatedHeight=n,Ce(this.layers,s=>{s&&(s.dirty=!0,this.resizeLayer(s))}),this.resizeGhost(),this.view.style.width=r+"px",this.view.style.height=n+"px"}createDetachedLayer(e=!1){const i=document.createElement("canvas"),r=i.getContext("2d",{willReadFrequently:e}),n=new uKe(i,r);return i.style.position="absolute",i.style.top="0px",i.style.left="0px",n}getLayerByOrder(e){const i=this.layers,r=i.length;for(let n=0;n<r;n++){const s=i[n];if(s.order==e)return s}}getLayer(e,i=!0){let r=this.getLayerByOrder(e);if(r)return r;const n=this.createDetachedLayer(e==99);n.order=e,n.visible=i,n.view.className="am5-layer-"+e,n.visible&&this.resizeLayer(n);const s=this.layers;s.push(n),s.sort((h,f)=>h.order>f.order?1:h.order<f.order?-1:0);const o=s.length,a=d$(s,n);let l;for(let h=a+1;h<o;h++)if(s[h].visible){l=s[h];break}return n.visible&&(l===void 0?this._layerDom.appendChild(n.view):this._layerDom.insertBefore(n.view,l.view)),n}render(e){this._dirtyLayers.length=0,this._deferredGhostLayers=[],Ce(this.layers,r=>{r&&r.dirty&&r.visible&&(this._dirtyLayers.push(r),r.clear())}),this._ghostLayer.clear(),e.render({inactive:null,layer:this.defaultLayer});const i=this._deferredGhostLayers;if(i.length&&(i.sort((r,n)=>r-n),Ce(i,r=>{e.render({inactive:null,layer:this.defaultLayer},r)})),this._ghostLayer.context.restore(),Ce(this.layers,r=>{if(r){const n=r.context;n.beginPath(),n.moveTo(0,0),n.stroke()}}),Ce(this._dirtyLayers,r=>{r.context.restore(),r.dirty=!1}),this._hovering.size&&this._lastPointerMoveEvent){const{events:r,target:n,native:s}=this._lastPointerMoveEvent;Ce(r,o=>{this._dispatchGlobalMousemove(o,n,s)})}}paintId(e){const i=LXe(++this._colorId),r=Rt.fromHex(i).toCSS();return this._colorMap[r]=e,r}_removeObject(e){e._colorId!==void 0&&delete this._colorMap[e._colorId]}_adjustBoundingBox(e){const i=this._ghostLayer.margin;return new DOMRect(-i.left,-i.top,e.width+i.left+i.right,e.height+i.top+i.bottom)}getEvent(e,i=!0){const r=this.view.getBoundingClientRect(),n=e.clientX||0,s=e.clientY||0,o=this._calculatedWidth/this._realWidth,a=this._calculatedHeight/this._realHeight,l={x:n-r.left,y:s-r.top},h={x:(n-(i?r.left:0))*o,y:(s-(i?r.top:0))*a};return new aKe(e,l,h,this._adjustBoundingBox(r))}_getHitTarget(e,i,r){if(i.width===0||i.height===0||e.x<i.left||e.x>i.right||e.y<i.top||e.y>i.bottom||!r||!this._layerDom.contains(r))return;const n=this._ghostLayer.getImageData(e,i);if(n.data[0]===0&&n.data[1]===0&&n.data[2]===0)return!1;const s=Rt.fromRGB(n.data[0],n.data[1],n.data[2]).toCSS();return this._colorMap[s]}getObjectAtPoint(e){const i=this._ghostLayer.getImageArray(e);if(i[0]===0&&i[1]===0&&i[2]===0)return;const r=Rt.fromRGB(i[0],i[1],i[2]).toCSS();return this._colorMap[r]}_withEvents(e,i){const r=this._events[e];if(r!==void 0){r.dispatching=!0;try{i(r)}finally{r.dispatching=!1,r.cleanup&&(r.cleanup=!1,z3(r.callbacks,n=>!n.disposed),r.callbacks.length===0&&(r.disposer.dispose(),delete this._events[e]))}}}_dispatchEventAll(e,i){this.interactionsEnabled&&this._withEvents(e,r=>{Ce(r.callbacks,n=>{n.disposed||n.callback.call(n.context,i)})})}_dispatchEvent(e,i,r){if(!this.interactionsEnabled)return!1;let n=!1;return this._withEvents(e,s=>{Ce(s.callbacks,o=>{!o.disposed&&o.object===i&&(o.callback.call(o.context,r),n=!0)})}),n}_dispatchMousedown(e,i){const r=e.button;if(r!=0&&r!=2&&r!=1&&r!==void 0)return;const n=this.getEvent(e),s=this._getHitTarget(n.originalPoint,n.bbox,i);if(s){const o=n.id;let a=!1;hC(s,l=>{const h={id:o,value:l};return this._mousedown.push(h),!a&&this._dispatchEvent("pointerdown",l,n)&&(a=!0,this._dragging.some(g=>g.value===l&&g.id===o)||this._dragging.push(h)),!0})}}_dispatchGlobalMousemove(e,i,r){const n=this.getEvent(e),s=this._getHitTarget(n.originalPoint,n.bbox,i);n.native=r,s?(this._hovering.forEach(o=>{o.contains(s)||(this._hovering.delete(o),o.cursorOverStyle&&oC(document.body,"cursor",o._replacedCursorStyle),this._dispatchEvent("pointerout",o,n))}),n.native&&hC(s,o=>(this._hovering.has(o)||(this._hovering.add(o),o.cursorOverStyle&&(o._replacedCursorStyle=FJe(document.body,"cursor"),oC(document.body,"cursor",o.cursorOverStyle)),this._dispatchEvent("pointerover",o,n)),!0))):(this._hovering.forEach(o=>{o.cursorOverStyle&&oC(document.body,"cursor",o._replacedCursorStyle),this._dispatchEvent("pointerout",o,n)}),this._hovering.clear()),this._dispatchEventAll("globalpointermove",n)}removeHovering(e){this._hovering.delete(e),e.cursorOverStyle&&oC(document.body,"cursor",e._replacedCursorStyle)}_dispatchGlobalMouseup(e,i){const r=this.getEvent(e);r.native=i,this._dispatchEventAll("globalpointerup",r)}_dispatchDragMove(e){if(this._dragging.length!==0){const i=this.getEvent(e),r=i.id;this._dragging.forEach(n=>{n.id===r&&this._dispatchEvent("pointermove",n.value,i)})}}_dispatchDragEnd(e,i){const r=e.button;let n;if(r==0||r===void 0)n="click";else if(r==2)n="rightclick";else if(r==1)n="middleclick";else return;const s=this.getEvent(e),o=s.id;if(this._mousedown.length!==0){const a=this._getHitTarget(s.originalPoint,s.bbox,i);a&&this._mousedown.forEach(l=>{l.id===o&&l.value.contains(a)&&this._dispatchEvent(n,l.value,s)}),this._mousedown.length=0}this._dragging.length!==0&&(this._dragging.forEach(a=>{a.id===o&&this._dispatchEvent("pointerup",a.value,s)}),this._dragging.length=0)}_dispatchDoubleClick(e,i){const r=this.getEvent(e),n=this._getHitTarget(r.originalPoint,r.bbox,i);n&&hC(n,s=>!this._dispatchEvent("dblclick",s,r))}_dispatchWheel(e,i){const r=this.getEvent(e),n=this._getHitTarget(r.originalPoint,r.bbox,i);n&&hC(n,s=>!this._dispatchEvent("wheel",s,r))}_makeSharedEvent(e,i){if(this._listeners[e]===void 0){const r=i();this._listeners[e]=new uge(()=>{delete this._listeners[e],r.dispose()})}return this._listeners[e].increment()}_onPointerEvent(e,i){let r=!1,n=null;function s(){n=null,r=!1}return new da([new Nn(()=>{n!==null&&clearTimeout(n),s()}),Jr(this.view,kV(e),o=>{r=!0,n!==null&&clearTimeout(n),n=window.setTimeout(s,0)}),zXe(window,e,(o,a)=>{n!==null&&(clearTimeout(n),n=null),i(o,a,r),r=!1})])}_initEvent(e){switch(e){case"globalpointermove":case"pointerover":case"pointerout":return this._makeSharedEvent("pointermove",()=>{const i=(r,n,s)=>{this._lastPointerMoveEvent={events:r,target:n,native:s},Ce(r,o=>{this._dispatchGlobalMousemove(o,n,s)})};return new da([this._onPointerEvent("pointerdown",i),this._onPointerEvent("pointermove",i)])});case"globalpointerup":return this._makeSharedEvent("pointerup",()=>{const i=this._onPointerEvent("pointerup",(n,s,o)=>{Ce(n,a=>{this._dispatchGlobalMouseup(a,o)}),this._lastPointerMoveEvent={events:n,target:s,native:o}}),r=this._onPointerEvent("pointercancel",(n,s,o)=>{Ce(n,a=>{this._dispatchGlobalMouseup(a,o)}),this._lastPointerMoveEvent={events:n,target:s,native:o}});return new Nn(()=>{i.dispose(),r.dispose()})});case"click":case"rightclick":case"middleclick":case"pointerdown":case"pointermove":case"pointerup":return this._makeSharedEvent("pointerdown",()=>{const i=this._onPointerEvent("pointerdown",(o,a)=>{Ce(o,l=>{this._dispatchMousedown(l,a)})}),r=this._onPointerEvent("pointermove",o=>{Ce(o,a=>{this._dispatchDragMove(a)})}),n=this._onPointerEvent("pointerup",(o,a)=>{Ce(o,l=>{this._dispatchDragEnd(l,a)})}),s=this._onPointerEvent("pointercancel",(o,a)=>{Ce(o,l=>{this._dispatchDragEnd(l,a)})});return new Nn(()=>{i.dispose(),r.dispose(),n.dispose(),s.dispose()})});case"dblclick":return this._makeSharedEvent("dblclick",()=>this._onPointerEvent("dblclick",(i,r)=>{Ce(i,n=>{this._dispatchDoubleClick(n,r)})}));case"wheel":return this._makeSharedEvent("wheel",()=>Jr(this.view,kV("wheel"),i=>{this._dispatchWheel(i,hge(i))},{passive:!1}))}}_addEvent(e,i,r,n){let s=this._events[i];s===void 0&&(s=this._events[i]={disposer:this._initEvent(i),callbacks:[],dispatching:!1,cleanup:!1});const o={object:e,context:n,callback:r,disposed:!1};return s.callbacks.push(o),new Nn(()=>{o.disposed=!0,s.dispatching?s.cleanup=!0:(Do(s.callbacks,o),s.callbacks.length===0&&(s.disposer.dispose(),delete this._events[i]))})}getCanvas(e,i){this.render(e),i||(i={});let r=this.resolution,n=Math.floor(this._calculatedWidth*this.resolution),s=Math.floor(this._calculatedHeight*this.resolution);if(i.minWidth&&i.minWidth>n){let w=i.minWidth/n;w>r&&(r=w*this.resolution)}if(i.minHeight&&i.minHeight>s){let w=i.minHeight/s;w>r&&(r=w*this.resolution)}if(i.maxWidth&&i.maxWidth<n){let w=i.maxWidth/n;w<r&&(r=w*this.resolution)}if(i.maxHeight&&i.maxHeight>s){let w=i.maxHeight/s;w<r&&(r=w*this.resolution)}i.maintainPixelRatio&&(r/=this.resolution);const o=[];let a=!1;const l=document.createElement("canvas");r!=this.resolution&&(a=!0,n=n*r/this.resolution,s=s*r/this.resolution),l.width=n,l.height=s,l.style.position="fixed",l.style.top="-10000px",this.view.appendChild(l),o.push(l);const h=l.getContext("2d");let f=0,g=0,v=!1;return Ce(this.layers,w=>{if(w&&w.visible&&(w.tainted||a)){v=!0,w.exportableView=w.view,w.exportableContext=w.context,w.view=document.createElement("canvas"),w.view.style.position="fixed",w.view.style.top="-10000px",this.view.appendChild(w.view),o.push(w.view);let S=0,T=0;w.margin&&(S+=w.margin.left||0+w.margin.right||0,T+=w.margin.top||0+w.margin.bottom||0),w.view.width=n+S,w.view.height=s+T,w.context=w.view.getContext("2d"),w.dirty=!0,w.scale=r}}),v&&(this._omitTainted=!0,this.render(e),this._omitTainted=!1),Ce(this.layers,w=>{if(w&&w.visible){let S=0,T=0;w.margin&&(S=-(w.margin.left||0)*this.resolution,T=-(w.margin.top||0)*this.resolution),h.drawImage(w.view,S,T),w.exportableView&&(w.view=w.exportableView,w.exportableView=void 0),w.exportableContext&&(w.context=w.exportableContext,w.exportableContext=void 0),f<w.view.clientWidth&&(f=w.view.clientWidth),g<w.view.clientHeight&&(g=w.view.clientHeight),w.scale=void 0}}),l.style.width=f+"px",l.style.height=g+"px",Ce(o,w=>{w.style.position="",w.style.top="",this.view.removeChild(w)}),l}}class cKe{constructor(){Object.defineProperty(this,"view",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"context",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"margin",{enumerable:!0,configurable:!0,writable:!0,value:{left:0,right:0,top:0,bottom:0}}),Object.defineProperty(this,"_resolution",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"_width",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_height",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"imageArray",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.view=document.createElement("canvas"),this.context=this.view.getContext("2d",{alpha:!1,willReadFrequently:!0}),this.context.imageSmoothingEnabled=!1,this.view.style.position="absolute",this.view.style.top="0px",this.view.style.left="0px"}resize(e,i,r,n,s){this._resolution=s,e+=this.margin.left+this.margin.right,i+=this.margin.top+this.margin.bottom,r+=this.margin.left+this.margin.right,n+=this.margin.top+this.margin.bottom,this.view.style.left=-this.margin.left+"px",this.view.style.top=-this.margin.top+"px",this._width=Math.floor(e*s),this._height=Math.floor(i*s),this.view.width=this._width,this.view.style.width=r+"px",this.view.height=this._height,this.view.style.height=n+"px"}getImageData(e,i){return this.context.getImageData(Math.round((e.x-i.left)/i.width*this._width),Math.round((e.y-i.top)/i.height*this._height),1,1)}getImageArray(e){this.imageArray||(this.imageArray=this.context.getImageData(0,0,this._width,this._height).data);const i=this.imageArray,r=Math.round(e.x*this._resolution),s=(Math.round(e.y*this._resolution)*this._width+r)*4;return[i[s],i[s+1],i[s+2],i[s+3]]}setMargin(e){this.margin.left=0,this.margin.right=0,this.margin.top=0,this.margin.bottom=0,Ce(e,i=>{i.margin&&(this.margin.left=Math.max(this.margin.left,i.margin.left),this.margin.right=Math.max(this.margin.right,i.margin.right),this.margin.top=Math.max(this.margin.top,i.margin.top),this.margin.bottom=Math.max(this.margin.bottom,i.margin.bottom))})}clear(){this.context.save(),this.context.fillStyle="#000",this.context.fillRect(0,0,this._width,this._height)}}class uKe{constructor(e,i){Object.defineProperty(this,"view",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"context",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tainted",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"margin",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"order",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"visible",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"scale",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"dirty",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"exportableView",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"exportableContext",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_width",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_height",{enumerable:!0,configurable:!0,writable:!0,value:0}),this.view=e,this.context=i}resize(e,i,r,n,s){this.width!=null&&(e=this.width,r=this.width),this.height!=null&&(i=this.height,n=this.height),this.margin?(e+=this.margin.left+this.margin.right,i+=this.margin.top+this.margin.bottom,r+=this.margin.left+this.margin.right,n+=this.margin.top+this.margin.bottom,this.view.style.left=-this.margin.left+"px",this.view.style.top=-this.margin.top+"px"):(this.view.style.left="0px",this.view.style.top="0px"),this._width=Math.floor(e*s),this._height=Math.floor(i*s),this.view.width=this._width,this.view.style.width=r+"px",this.view.height=this._height,this.view.style.height=n+"px"}clear(){this.context.save(),this.context.clearRect(0,0,this._width,this._height)}}function bte(t,e){t==null?requestAnimationFrame(e):setTimeout(()=>{requestAnimationFrame(e)},1e3/t)}class v7{constructor(e,i={},r){if(Object.defineProperty(this,"dom",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_inner",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_settings",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_isDirty",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_isDirtyParents",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_isDirtyAnimation",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_dirty",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_dirtyParents",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_dirtyBounds",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_dirtyPositions",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_ticker",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"_tickers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_updateTick",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"events",{enumerable:!0,configurable:!0,writable:!0,value:new q1}),Object.defineProperty(this,"animationTime",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"_animations",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_renderer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_rootContainer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"container",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tooltipContainer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_tooltipContainerSettings",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_tooltip",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"language",{enumerable:!0,configurable:!0,writable:!0,value:IXe.new(this,{})}),Object.defineProperty(this,"locale",{enumerable:!0,configurable:!0,writable:!0,value:xge}),Object.defineProperty(this,"utc",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"timezone",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"fps",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"numberFormatter",{enumerable:!0,configurable:!0,writable:!0,value:TXe.new(this,{})}),Object.defineProperty(this,"dateFormatter",{enumerable:!0,configurable:!0,writable:!0,value:kXe.new(this,{})}),Object.defineProperty(this,"durationFormatter",{enumerable:!0,configurable:!0,writable:!0,value:EXe.new(this,{})}),Object.defineProperty(this,"tabindex",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_tabindexes",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_a11yD",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_focusElementDirty",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_focusElementContainer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_focusedSprite",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_isShift",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_keyboardDragPoint",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_tooltipElementContainer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_readerAlertElement",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_skipNextGroupJump",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"_logo",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_tooltipDiv",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"nonce",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"interfaceColors",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"verticalLayout",{enumerable:!0,configurable:!0,writable:!0,value:f1.new(this,{})}),Object.defineProperty(this,"horizontalLayout",{enumerable:!0,configurable:!0,writable:!0,value:p1.new(this,{})}),Object.defineProperty(this,"gridLayout",{enumerable:!0,configurable:!0,writable:!0,value:zv.new(this,{})}),Object.defineProperty(this,"_paused",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"autoResize",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"_fontHash",{enumerable:!0,configurable:!0,writable:!0,value:""}),Object.defineProperty(this,"_isDisposed",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_disposers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_resizeSensorDisposer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_tooltips",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_htmlElementContainer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_htmlEnabledContainers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"entitiesById",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"_systemTooltip",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),!r)throw new Error("You cannot use `new Class()`, instead use `Class.new()`");this._settings=i,i.accessible==!1&&(this._a11yD=!0),i.useSafeResolution==null&&(i.useSafeResolution=!0);let n;i.useSafeResolution&&(n=HJe()),this._renderer=new lKe(n);let s;if(e instanceof HTMLElement?s=e:s=document.getElementById(e),Ce(lu.rootElements,l=>{if(l.dom===s)if(lu.autoDispose)l.dispose();else throw new Error("You cannot have multiple Roots on the same DOM node")}),this.interfaceColors=oP.new(this,{}),s===null)throw new Error("Could not find HTML element with id `"+e+"`");this.dom=s;let o=document.createElement("div");o.style.position="relative",o.style.width="100%",o.style.height="100%",s.appendChild(o);const a=i.tooltipContainerBounds;a&&(this._tooltipContainerSettings=a),this._inner=o,this._updateComputedStyles(),lu.rootElements.push(this)}static new(e,i){const r=new v7(e,i,!0);return r._init(),r}moveDOM(e){let i;if(e instanceof HTMLElement?i=e:i=document.getElementById(e),i){for(;this.dom.childNodes.length>0;)i.appendChild(this.dom.childNodes[0]);this.dom=i,this._initResizeSensor(),this.resize()}}_handleLogo(){if(this._logo){const e=this.dom.offsetWidth,i=this.dom.offsetHeight;e<=150||i<=60?this._logo.hide():this._logo.show()}}_showBranding(){if(!this._logo){const e=this.tooltipContainer.children.push(qi.new(this,{interactive:!0,interactiveChildren:!1,position:"absolute",setStateOnChildren:!0,paddingTop:9,paddingRight:9,paddingBottom:9,paddingLeft:9,scale:.6,y:lo(100),centerY:Qt,tooltipY:10,tooltipText:"Created using amCharts 5",tooltipX:Qt,cursorOverStyle:"pointer",background:Qm.new(this,{fill:yp(4671320),fillOpacity:0,tooltipY:5})}));e.set("tooltip",this.systemTooltip),e.events.on("click",()=>{window.open("https://www.amcharts.com/","_blank")}),e.states.create("hover",{}),e.children.push(bl.new(this,{stroke:yp(13421772),strokeWidth:3,svgPath:"M5 25 L13 25h13.6c3.4 0 6 0 10.3-4.3s5.2-12 8.6-12c3.4 0 4.3 8.6 7.7 8.6M83.4 25H79.8c-3.4 0-6 0-10.3-4.3s-5.2-12-8.6-12-4.3 8.6-7.7 8.6"})).states.create("hover",{stroke:yp(3976191)}),e.children.push(bl.new(this,{stroke:yp(8947848),strokeWidth:3,svgPath:"M83.4 25h-31C37 25 39.5 4.4 28.4 4.4S18.9 24.2 4.3 25H0"})).states.create("hover",{stroke:yp(4671320)}),this._logo=e,this._handleLogo()}}_getRealSize(){return this.dom.getBoundingClientRect()}_getCalculatedSize(e){return this._settings.calculateSize?this._settings.calculateSize(e):{width:e.width,height:e.height}}_init(){const e=this._settings;e.accessible!==!1&&(e.focusable&&(this._inner.setAttribute("focusable","true"),this._inner.setAttribute("tabindex",this.tabindex+"")),e.ariaLabel&&this._inner.setAttribute("aria-label",e.ariaLabel),e.role&&this._inner.setAttribute("role",e.role));const i=this._renderer,r=this._getRealSize(),n=this._getCalculatedSize(r),s=Math.floor(n.width),o=Math.floor(n.height),a=Math.floor(r.width),l=Math.floor(r.height),h=qi.new(this,{visible:!0,width:s,height:o});this._rootContainer=h,this._rootContainer._defaultThemes.push(CXe.new(this));const f=h.children.push(qi.new(this,{visible:!0,width:Qt,height:Qt}));this.container=f,i.resize(a,l,s,o),this._inner.appendChild(i.view),this._initResizeSensor();const g=document.createElement("div");if(this._htmlElementContainer=g,g.className="am5-html-container",g.style.position="absolute",g.style.pointerEvents="none",this._tooltipContainerSettings||(g.style.overflow="hidden"),this._inner.appendChild(g),this._a11yD!==!0){const v=document.createElement("div");v.className="am5-reader-container",v.setAttribute("role","alert"),v.style.position="absolute",v.style.width="1px",v.style.height="1px",v.style.overflow="hidden",v.style.clip="rect(1px, 1px, 1px, 1px)",this._readerAlertElement=v,this._inner.appendChild(this._readerAlertElement);const w=document.createElement("div");w.className="am5-focus-container",w.style.position="absolute",w.style.pointerEvents="none",w.style.top="0px",w.style.left="0px",w.style.overflow="hidden",w.style.width=s+"px",w.style.height=o+"px",w.setAttribute("role","graphics-document"),bw(w,!1),this._focusElementContainer=w,this._inner.appendChild(this._focusElementContainer);const S=document.createElement("div");this._tooltipElementContainer=S,S.className="am5-tooltip-container",this._inner.appendChild(S),sv("keyboardevents")&&(this._disposers.push(Jr(window,"keydown",T=>{const C=aC(T);C=="Shift"?this._isShift=!0:C=="Tab"&&(this._isShift=T.shiftKey)})),this._disposers.push(Jr(window,"keyup",T=>{aC(T)=="Shift"&&(this._isShift=!1)})),this._disposers.push(Jr(w,"click",()=>{const T=this._focusedSprite;if(T){const C=T.get("clickAnnounceText","");C!==""&&this.readerAlert(C);const I=i.getEvent(new MouseEvent("click"));T.events.dispatch("click",{type:"click",originalEvent:I.event,point:I.point,simulated:!0,target:T})}})),this._disposers.push(Jr(w,"keydown",T=>{const C=this._focusedSprite;if(C){T.key=="Escape"&&(NJe(),this._focusedSprite=void 0);let I=0,A=0;const P=aC(T);switch(P){case"Enter":case" ":const D=C.get("clickAnnounceText","");if(D!==""&&this.readerAlert(D),P==" "&&C.get("role")!="checkbox")return;T.preventDefault();const L=i.getEvent(new MouseEvent("mouse"));C.events.dispatch("click",{type:"click",originalEvent:L.event,point:L.point,simulated:!0,target:C});return;case"ArrowLeft":I=-6;break;case"ArrowRight":I=6;break;case"ArrowUp":A=-6;break;case"ArrowDown":A=6;break;default:return}if(I!=0||A!=0){if(T.preventDefault(),!C.isDragging()){this._keyboardDragPoint={x:0,y:0};const B=i.getEvent(new MouseEvent("mousedown",{clientX:0,clientY:0}));B.point={x:0,y:0},C.events.isEnabled("pointerdown")&&C.events.dispatch("pointerdown",{type:"pointerdown",originalEvent:B.event,point:B.point,simulated:!0,target:C})}const D=this._keyboardDragPoint;D.x+=I,D.y+=A;const L=i.getEvent(new MouseEvent("mousemove",{clientX:D.x,clientY:D.y}),!1);C.events.isEnabled("globalpointermove")&&C.events.dispatch("globalpointermove",{type:"globalpointermove",originalEvent:L.event,point:L.point,simulated:!0,target:C})}}})),this._disposers.push(Jr(w,"keyup",T=>{if(this._focusedSprite){const C=this._focusedSprite,I=aC(T);switch(I){case"ArrowLeft":case"ArrowRight":case"ArrowUp":case"ArrowDown":if(C.isDragging()){const P=this._keyboardDragPoint,D=i.getEvent(new MouseEvent("mouseup",{clientX:P.x,clientY:P.y}));C.events.isEnabled("globalpointerup")&&C.events.dispatch("globalpointerup",{type:"globalpointerup",originalEvent:D.event,point:D.point,simulated:!0,target:C}),this._keyboardDragPoint=void 0;return}else if(C.get("focusableGroup")){const P=C.get("focusableGroup"),D=this._tabindexes.filter(N=>!!(N.get("focusableGroup")==P&&N.getPrivate("focusable")!==!1&&N.isVisibleDeep()));let L=D.indexOf(C);const B=D.length-1;L+=I=="ArrowRight"||I=="ArrowDown"?1:-1,L<0?L=B:L>B&&(L=0),jJe(D[L].getPrivate("focusElement").dom)}break;case"Tab":const A=C.get("focusableGroup");if(A&&this._isShift){this._skipNextGroupJump||(this._focusNext(C.getPrivate("focusElement").dom,-1,A),this._skipNextGroupJump=!0);return}break}}})))}this._startTicker(),this.setThemes([]),this._addTooltip(),this._hasLicense()||this._showBranding()}get systemTooltip(){if(!this._systemTooltip){const e=y$.new(this,{themeTags:["system"]});this._systemTooltip=e}return this._systemTooltip}_initResizeSensor(){this._resizeSensorDisposer&&this._resizeSensorDisposer.dispose(),this._resizeSensorDisposer=new SXe(this.dom,()=>{this.autoResize&&this.resize()}),this._disposers.push(this._resizeSensorDisposer)}resize(){const e=this._getRealSize(),i=this._getCalculatedSize(e),r=Math.floor(i.width),n=Math.floor(i.height);if(r>0&&n>0){const s=Math.floor(e.width),o=Math.floor(e.height),a=this._htmlElementContainer;if(a.style.width=r+"px",a.style.height=n+"px",this._a11yD!==!0){const h=this._focusElementContainer;h.style.width=r+"px",h.style.height=n+"px"}this._renderer.resize(s,o,r,n);const l=this._rootContainer;l.setPrivate("width",r),l.setPrivate("height",n),this._render(),this._handleLogo()}}_render(){this._renderer.render(this._rootContainer._display),this._focusElementDirty&&(this._updateCurrentFocus(),this._focusElementDirty=!1)}_runTickers(e){Ce(this._tickers,i=>{i(e)})}_runAnimations(e){let i=0;return z3(this._animations,r=>{const n=r._runAnimation(e);return n===ov.Stopped?!1:(n===ov.Playing&&++i,!0)}),this._isDirtyAnimation=!1,i===0}_runDirties(){let e={};for(;this._isDirtyParents;)this._isDirtyParents=!1,Ps(this._dirtyParents).forEach(o=>{const a=this._dirtyParents[o];delete this._dirtyParents[o],a.isDisposed()||(e[a.uid]=a,a._prepareChildren())});Ps(e).forEach(o=>{e[o]._updateChildren()});const i=[];Ps(this._dirty).forEach(o=>{const a=this._dirty[o];a.isDisposed()?delete this._dirty[a.uid]:(i.push(a),a._beforeChanged())}),i.forEach(o=>{o._changed(),delete this._dirty[o.uid],o._clearDirty()}),this._isDirty=!1;const r={},n=[];Ps(this._dirtyBounds).forEach(o=>{const a=this._dirtyBounds[o];delete this._dirtyBounds[o],a.isDisposed()||(r[a.uid]=a.depth(),n.push(a))}),this._positionHTMLElements(),n.sort((o,a)=>av(r[a.uid],r[o.uid])),n.forEach(o=>{o._updateBounds()});const s=this._dirtyPositions;Ps(s).forEach(o=>{const a=s[o];delete s[o],a.isDisposed()||a._updatePosition()}),i.forEach(o=>{o._afterChanged()}),Ps(e).forEach(o=>{e[o]._childrenPrep=!1,e[o]._childrenUpdt=!1})}_renderFrame(e){if(this._updateTick){this.events.isEnabled("framestarted")&&this.events.dispatch("framestarted",{type:"framestarted",target:this,timestamp:e}),this._checkComputedStyles(),this._runTickers(e);const i=this._runAnimations(e);return this._runDirties(),this._render(),this._renderer.resetImageArray(),this._positionHTMLElements(),this.events.isEnabled("frameended")&&this.events.dispatch("frameended",{type:"frameended",target:this,timestamp:e}),this._tickers.length===0&&i&&!this._isDirtyAnimation&&!this._isDirty}else return!0}_runTicker(e,i){this.isDisposed()||(this.animationTime=e,this._renderFrame(e)?(this._ticker=null,this.animationTime=null):this._paused||(i?this._ticker:bte(this.fps,this._ticker)))}_runTickerNow(e=1e4){if(!this.isDisposed()){const i=performance.now()+e;for(;;){const r=performance.now();if(r>=i){this.animationTime=null;break}if(this.animationTime=r,this._renderFrame(r)){this.animationTime=null;break}}}}_startTicker(){this._ticker===null&&(this.animationTime=null,this._ticker=e=>{this._runTicker(e)},bte(this.fps,this._ticker))}get updateTick(){return this._updateTick}set updateTick(e){this._updateTick=e,e&&this._startTicker()}_addDirtyEntity(e){this._isDirty=!0,this._dirty[e.uid]===void 0&&(this._dirty[e.uid]=e),this._startTicker()}_addDirtyParent(e){this._isDirty=!0,this._isDirtyParents=!0,this._dirtyParents[e.uid]===void 0&&(this._dirtyParents[e.uid]=e),this._startTicker()}_addDirtyBounds(e){this._isDirty=!0,this._dirtyBounds[e.uid]===void 0&&(this._dirtyBounds[e.uid]=e),this._startTicker()}_addDirtyPosition(e){this._isDirty=!0,this._dirtyPositions[e.uid]===void 0&&(this._dirtyPositions[e.uid]=e),this._startTicker()}_addAnimation(e){this._isDirtyAnimation=!0,this._animations.indexOf(e)===-1&&this._animations.push(e),this._startTicker()}_markDirty(){this._isDirty=!0}_markDirtyRedraw(){this.events.once("frameended",()=>{this._isDirty=!0,this._startTicker()})}eachFrame(e){return this._tickers.push(e),this._startTicker(),new Nn(()=>{Do(this._tickers,e)})}markDirtyGlobal(e){e||(e=this.container),e.walkChildren(i=>{i instanceof qi&&this.markDirtyGlobal(i),i.markDirty(),i.markDirtyBounds()})}width(){return Math.floor(this._getCalculatedSize(this._getRealSize()).width)}height(){return Math.floor(this._getCalculatedSize(this._getRealSize()).height)}dispose(){this._isDisposed||(this._isDisposed=!0,this._rootContainer.dispose(),this._renderer.dispose(),this.horizontalLayout.dispose(),this.verticalLayout.dispose(),this.interfaceColors.dispose(),Ce(this._disposers,e=>{e.dispose()}),this._inner&&zJe(this._inner),gp(lu.rootElements,this))}isDisposed(){return this._isDisposed}readerAlert(e){if(this._a11yD!==!0){const i=this._readerAlertElement;e=lte(e),i.innerHTML==e&&(i.innerHTML=""),i.innerHTML=e}}setThemes(e){this._rootContainer.set("themes",e);const i=this.tooltipContainer;i&&i._applyThemes();const r=this.interfaceColors;r&&r._applyThemes()}_addTooltip(){if(!this.tooltipContainer){const e=this._tooltipContainerSettings,i=this._rootContainer.children.push(qi.new(this,{position:"absolute",isMeasured:!1,width:Qt,height:Qt,layer:e?35:30,layerMargin:e||void 0}));this.tooltipContainer=i;const r=y$.new(this,{});this.container.set("tooltip",r),r.hide(0),this._tooltip=r}}_registerTabindexOrder(e){this._a11yD!=!0&&(e.get("focusable")?h$(this._tabindexes,e):gp(this._tabindexes,e),this._invalidateTabindexes())}_unregisterTabindexOrder(e){this._a11yD!=!0&&(gp(this._tabindexes,e),this._invalidateTabindexes())}_invalidateTabindexes(){if(this._a11yD==!0)return;this._tabindexes.sort((i,r)=>{const n=i.get("tabindexOrder",0),s=r.get("tabindexOrder",0);return n==s?0:n>s?1:-1});const e=[];Ce(this._tabindexes,(i,r)=>{i.getPrivate("focusElement")?this._moveFocusElement(r,i):this._makeFocusElement(r,i);const n=i.get("focusableGroup");n&&i.getPrivate("focusable")!==!1&&(e.indexOf(n)!==-1?i.getPrivate("focusElement").dom.setAttribute("tabindex","-1"):e.push(n))})}_updateCurrentFocus(){this._a11yD!=!0&&this._focusedSprite&&(this._decorateFocusElement(this._focusedSprite),this._positionFocusElement(this._focusedSprite))}_decorateFocusElement(e,i){if(this._a11yD==!0||(i||(i=e.getPrivate("focusElement").dom),!i))return;const r=e.get("role");r?i.setAttribute("role",r):i.removeAttribute("role");const n=e.get("ariaLabel");if(n){const T=g$(e,n);i.setAttribute("aria-label",T)}else i.removeAttribute("aria-label");const s=e.get("ariaLive");s?i.setAttribute("aria-live",s):i.removeAttribute("aria-live");const o=e.get("ariaChecked");o!=null&&r&&["checkbox","option","radio","menuitemcheckbox","menuitemradio","treeitem"].indexOf(r)!==-1?i.setAttribute("aria-checked",o?"true":"false"):i.removeAttribute("aria-checked");const a=e.get("ariaCurrent");a!=null?i.setAttribute("aria-current",a):i.removeAttribute("aria-current");const l=e.get("ariaSelected");l!=null&&r&&["gridcell","option","row","tab","columnheader","rowheader","treeitem"].indexOf(r)!==-1?i.setAttribute("aria-selected",l?"true":"false"):i.removeAttribute("aria-selected"),e.get("ariaHidden")?i.setAttribute("aria-hidden","true"):i.removeAttribute("aria-hidden");const h=e.get("ariaOrientation");h?i.setAttribute("aria-orientation",h):i.removeAttribute("aria-orientation");const f=e.get("ariaValueNow");f?i.setAttribute("aria-valuenow",f):i.removeAttribute("aria-valuenow");const g=e.get("ariaValueMin");g?i.setAttribute("aria-valuemin",g):i.removeAttribute("aria-valuemin");const v=e.get("ariaValueMax");v?i.setAttribute("aria-valuemax",v):i.removeAttribute("aria-valuemax");const w=e.get("ariaValueText");w?i.setAttribute("aria-valuetext",w):i.removeAttribute("aria-valuetext");const S=e.get("ariaControls");S?i.setAttribute("aria-controls",S):i.removeAttribute("aria-controls"),e.get("visible")&&e.get("opacity")!==0&&e.get("role")!="tooltip"&&!e.isHidden()&&e.getPrivate("focusable")!==!1&&(e.height()||e.width())?(i.getAttribute("tabindex")!="-1"&&i.setAttribute("tabindex",""+this.tabindex),i.removeAttribute("aria-hidden")):(i.removeAttribute("tabindex"),i.setAttribute("aria-hidden","true"))}_makeFocusElement(e,i){if(i.getPrivate("focusElement")||this._a11yD==!0)return;const r=document.createElement("div");i.get("role")!="tooltip"&&(r.tabIndex=this.tabindex),r.style.position="absolute",bw(r,!1);const n=[];i.setPrivate("focusElement",{dom:r,disposers:n}),this._decorateFocusElement(i),n.push(Jr(r,"focus",s=>{this._handleFocus(s)})),n.push(Jr(r,"blur",s=>{this._handleBlur(s)})),this._moveFocusElement(e,i)}_removeFocusElement(e){if(this._a11yD==!0)return;gp(this._tabindexes,e);const i=e.getPrivate("focusElement");i&&(this._focusElementContainer.removeChild(i.dom),Ce(i.disposers,n=>{n.dispose()}))}_hideFocusElement(e){if(this._a11yD==!0)return;const i=e.getPrivate("focusElement");i.dom.style.display="none"}_moveFocusElement(e,i){if(this._a11yD==!0)return;const r=this._focusElementContainer,n=i.getPrivate("focusElement").dom;if(n===this._focusElementContainer.children[e])return;const s=this._focusElementContainer.children[e+1];s?r.insertBefore(n,s):r.append(n)}_positionFocusElement(e){if(this._a11yD==!0||e==null)return;this._focusElementContainer.scrollTop=0;const i=e.globalBounds();let r=i.right==i.left?e.width():i.right-i.left,n=i.top==i.bottom?e.height():i.bottom-i.top;const s=this._settings.focusPadding!==void 0?this._settings.focusPadding:2;let o=i.left-s,a=i.top-s;r<0&&(o+=r,r=Math.abs(r)),n<0&&(a+=n,n=Math.abs(n));const l=e.getPrivate("focusElement").dom;l.style.top=a+"px",l.style.left=o+"px",l.style.width=r+s*2+"px",l.style.height=n+s*2+"px"}_getSpriteByFocusElement(e){let i;return f7(this._tabindexes,(r,n)=>r.getPrivate("focusElement").dom===e?(i=r,!1):!0),i}_handleFocus(e){if(this._a11yD==!0)return;const i=this._getSpriteByFocusElement(e.target);if(i){if(!i.isVisibleDeep()){this._focusNext(e.target,this._isShift?-1:1);return}this._positionFocusElement(i),this._focusedSprite=i,i.events.isEnabled("focus")&&i.events.dispatch("focus",{type:"focus",originalEvent:e,target:i}),i.getPrivate("focusElement").dom.tabIndex==-1&&(this._skipNextGroupJump=!1)}}_focusNext(e,i,r){if(this._a11yD==!0)return;const n=Array.from(document.querySelectorAll(["a[href]","area[href]","button:not([disabled])","details","input:not([disabled])","iframe:not([disabled])","select:not([disabled])","textarea:not([disabled])",'[contentEditable=""]','[contentEditable="true"]','[contentEditable="TRUE"]','[tabindex]:not([tabindex^="-"])'].join(",")));let s=n.indexOf(e)+i;s<0?s=n.length-1:s>=n.length&&(s=0);const o=n[s];if(r&&i==-1){const a=this._getSpriteByFocusElement(o);if(a&&a.get("focusableGroup")==r){this._focusNext(o,i);return}}o.focus()}_handleBlur(e){if(this._a11yD==!0)return;const i=this._focusedSprite;i&&!i.isDisposed()&&i.events.isEnabled("blur")&&i.events.dispatch("blur",{type:"blur",originalEvent:e,target:i}),this._focusedSprite=void 0}updateTooltip(e){if(this._a11yD==!0)return;const i=lte(e._getText());let r=e.getPrivate("tooltipElement");e.get("role")=="tooltip"&&i!=""?(r||(r=this._makeTooltipElement(e)),r.innerHTML!=i&&(r.innerHTML=i),r.setAttribute("aria-hidden",e.isVisibleDeep()?"false":"true")):r&&(r.remove(),e.removePrivate("tooltipElement"))}_makeTooltipElement(e){const i=this._tooltipElementContainer,r=document.createElement("div");return r.style.position="absolute",r.style.width="1px",r.style.height="1px",r.style.overflow="hidden",r.style.clip="rect(1px, 1px, 1px, 1px)",bw(r,!1),this._decorateFocusElement(e,r),i.append(r),e.setPrivate("tooltipElement",r),r}_removeTooltipElement(e){if(this._a11yD==!0)return;const i=e.getPrivate("tooltipElement");if(i){const r=i.parentElement;r&&r.removeChild(i)}}_invalidateAccessibility(e){if(this._a11yD==!0)return;this._focusElementDirty=!0;const i=e.getPrivate("focusElement");e.get("focusable")?i&&(this._decorateFocusElement(e),this._positionFocusElement(e)):i&&this._removeFocusElement(e)}focused(e){return this._focusedSprite===e}documentPointToRoot(e){const i=this._getRealSize(),r=this._getCalculatedSize(i),n=r.width/i.width,s=r.height/i.height;return{x:(e.x-i.left)*n,y:(e.y-i.top)*s}}rootPointToDocument(e){const i=this._getRealSize(),r=this._getCalculatedSize(i),n=r.width/i.width,s=r.height/i.height;return{x:e.x/n+i.left,y:e.y/s+i.top}}addDisposer(e){return this._disposers.push(e),e}_updateComputedStyles(){const e=window.getComputedStyle(this.dom);let i="";ir(e,(n,s)=>{Lv(n)&&n.match(/^font/)&&(i+=s)});const r=i!=this._fontHash;return r&&(this._fontHash=i),r}_checkComputedStyles(){this._updateComputedStyles()&&this._invalidateLabelBounds(this.container)}_invalidateLabelBounds(e){e instanceof qi?e.children.each(i=>{this._invalidateLabelBounds(i)}):e instanceof Nv&&e.markDirtyBounds()}_hasLicense(){for(let e=0;e<lu.licenses.length;e++)if(lu.licenses[e].match(/^AM5C.{5,}/i))return!0;return!1}_licenseApplied(){this._logo&&this._logo.set("forceHidden",!0)}get debugGhostView(){return this._renderer.debugGhostView}set debugGhostView(e){this._renderer.debugGhostView=e}set tapToActivate(e){this._renderer.tapToActivate=e}get tapToActivate(){return this._renderer.tapToActivate}set tapToActivateTimeout(e){this._renderer.tapToActivateTimeout=e}get tapToActivateTimeout(){return this._renderer.tapToActivateTimeout}_makeHTMLElement(e){const i=this._htmlElementContainer,r=document.createElement("div");e.setPrivate("htmlElement",r);let n=!1,s;e._walkParents(a=>{if(a.get("verticalScrollbar"))return n=!0,s=a,!1});let o;return n&&(o=document.createElement("div"),e.setPrivate("htmlElementWrapper",o),e.setPrivate("wrapperContainer",s),o.style.position="absolute",o.style.overflow="hidden",o.style.boxSizing="border-box",o.style.top="0px",o.style.left="0px",o.style.width="100%",o.style.height="100%",s.events.on("boundschanged",()=>{this._positionHTMLElement(e)})),r.style.position="absolute",r.style.overflow="auto",r.style.boxSizing="border-box",bw(r,e.get("interactive",!1)),e.events.isEnabled("click")&&(bw(r,!0),this._disposers.push(Jr(r,"click",a=>{const l=this._renderer.getEvent(a);e.events.dispatch("click",{type:"click",originalEvent:l.event,point:l.point,simulated:!1,target:e})}))),this._positionHTMLElement(e),n?(o.append(r),i.append(o)):i.append(r),h$(this._htmlEnabledContainers,e),r}_positionHTMLElements(){Ce(this._htmlEnabledContainers,e=>{this._positionHTMLElement(e)})}_positionHTMLElement(e){const i=e.getPrivate("htmlElementWrapper");if(i){const n=e.getPrivate("wrapperContainer");if(n){const s=n.globalBounds();i.style.clipPath="rect("+s.top+"px "+s.right+"px "+s.bottom+"px "+s.left+"px)"}}const r=e.getPrivate("htmlElement");if(r){Ce(["paddingTop","paddingRight","paddingBottom","paddingLeft","minWidth","minHeight","maxWidth","maxHeight"],P=>{const D=e.get(P);D?r.style[P]=D+"px":r.style[P]=""}),Ce(["fontFamily","fontSize","fontStyle","fontWeight","fontStyle","fontVariant","textDecoration"],P=>{const D=e.get(P);D?P=="fontSize"&&!Lv(D)?r.style[P]=D+"px":r.style[P]=D+"":r.style[P]=""});const o=e.compositeScale()||1,a=e.compositeRotation()||0;r.style.transform="",r.style.transformOrigin="";const l=e.compositeOpacity();setTimeout(()=>{r.style.opacity=l+""},10);const h=e.isVisibleDeep();h&&(r.style.display="block");let f={x:e.x()+e.get("dx",0),y:e.y()+e.get("dy",0)};e.parent&&(f=e.parent.toGlobal(f)),r.style.top=f.y+"px",r.style.left=f.x+"px";const g=e.get("width"),v=e.get("height");let w=0,S=0;if(g&&(w=e.width()),v&&(S=e.height()),!g||!v){r.style.position="fixed",r.style.width="",r.style.height="";const P=r.getBoundingClientRect();r.style.position="absolute",g||(w=P.width),v||(S=P.height);let D=w/o,L=S/o,B=e.get("centerX",0),N=e.get("centerY",0),Y=0,K=0,te=0,ue=0;B instanceof ti?(Y=-B.value*D,K=(1-B.value)*D):(Y=-B,K=D-B),N instanceof ti?(te=-N.value*L,ue=(1-N.value)*L):(te=-N,ue=L-N),e._localBounds={left:Y,right:K,top:te,bottom:ue};let ye=e._adjustedLocalBounds,se=e._display.getAdjustedBounds(e._localBounds);e._adjustedLocalBounds=se,(ye.left!==se.left||ye.right!==se.right||ye.top!==se.top||ye.bottom!==se.bottom)&&e.markDirtyBounds()}w>0&&(r.style.minWidth=w+"px"),S>0&&(r.style.minHeight=S+"px"),(!h||l==0)&&(r.style.display="none");const T=e.get("centerX",0),C=ste(T)?T.percent+"%":T+"px",I=e.get("centerY",0),A=ste(I)?I.percent+"%":I+"px";(T||I)&&(r.style.transform="translate(-"+C+", -"+A+")"+r.style.transform),o!=1&&(r.style.transform+="scale("+o+")"),a!=0&&(r.style.transform+=" rotate("+a+"deg)"),r.style.transform!=""&&(r.style.transformOrigin=C+" "+A)}}_setHTMLContent(e,i){let r=e.getPrivate("htmlElement");r||(r=this._makeHTMLElement(e),this.autoResize||this.resize()),r.innerHTML!=i&&(r.innerHTML=i)}_removeHTMLContent(e){const i=e.getPrivate("htmlElementWrapper"),r=e.getPrivate("htmlElement");i?(this._htmlElementContainer.removeChild(i),e.removePrivate("htmlElement"),e.removePrivate("htmlElementWrapper"),e.removePrivate("wrapperContainer")):r&&(this._htmlElementContainer.removeChild(r),e.removePrivate("htmlElement"),e.removePrivate("wrapperContainer")),gp(this._htmlEnabledContainers,e)}}class v$ extends Qm{_beforeChanged(){super._beforeChanged(),(this.isDirty("cornerRadiusTL")||this.isDirty("cornerRadiusTR")||this.isDirty("cornerRadiusBR")||this.isDirty("cornerRadiusBL"))&&(this._clear=!0)}_draw(){let e=this.width(),i=this.height(),r=e/Math.abs(e),n=i/Math.abs(i),s=0,o=0;const a=this.get("strokeWidth",0);this.get("containStroke",!1)&&(e-=r*a,i-=n*a,s+=r*a/2,o+=n*a/2);let l=e,h=i;if(pt(l)&&pt(h)){let f=Math.min(l,h)/2,g=zn(this.get("cornerRadiusTL",8),f),v=zn(this.get("cornerRadiusTR",8),f),w=zn(this.get("cornerRadiusBR",8),f),S=zn(this.get("cornerRadiusBL",8),f),T=Math.min(Math.abs(l/2),Math.abs(h/2));g=Ms(g,0,T),v=Ms(v,0,T),w=Ms(w,0,T),S=Ms(S,0,T);const C=this._display;C.moveTo(s+g*r,o),C.lineTo(s+l-v*r,o),v>0&&C.arcTo(s+l,o,s+l,o+v*n,v),C.lineTo(s+l,o+h-w*n),w>0&&C.arcTo(s+l,o+h,s+l-w*r,o+h,w),C.lineTo(s+S*r,o+h),S>0&&C.arcTo(s,o+h,s,o+h-S*n,S),C.lineTo(s,o+g*n),g>0&&C.arcTo(s,o,s+g*r,o,g),C.closePath()}}}Object.defineProperty(v$,"className",{enumerable:!0,configurable:!0,writable:!0,value:"RoundedRectangle"});Object.defineProperty(v$,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Qm.classNames.concat([v$.className])});class dKe extends N3{constructor(){super(...arguments),Object.defineProperty(this,"processor",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}incrementRef(){}decrementRef(){}_onPush(e){this.processor&&this.processor.processRow(e),super._onPush(e)}_onInsertIndex(e,i){this.processor&&this.processor.processRow(i),super._onInsertIndex(e,i)}_onSetIndex(e,i,r){this.processor&&this.processor.processRow(r),super._onSetIndex(e,i,r)}}class _N extends wge{constructor(e,i,r){super(r),Object.defineProperty(this,"component",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"dataContext",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"bullets",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"open",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"close",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.dataContext=i,this.component=e,this._settings.visible=!0,this._checkDirty()}markDirty(){this.component.markDirtyValues(this)}_startAnimation(){this.component._root._addAnimation(this)}_animationTime(){return this.component._root.animationTime}_dispose(){this.component&&this.component.disposeDataItem(this),super._dispose()}show(e){this.setRaw("visible",!0),this.component&&this.component.showDataItem(this,e)}hide(e){this.setRaw("visible",!1),this.component&&this.component.hideDataItem(this,e)}isHidden(){return!this.get("visible")}}class b$ extends qi{constructor(){super(...arguments),Object.defineProperty(this,"_data",{enumerable:!0,configurable:!0,writable:!0,value:new dKe}),Object.defineProperty(this,"_dataItems",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_mainDataItems",{enumerable:!0,configurable:!0,writable:!0,value:this._dataItems}),Object.defineProperty(this,"valueFields",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"fields",{enumerable:!0,configurable:!0,writable:!0,value:["id"]}),Object.defineProperty(this,"_valueFields",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_valueFieldsF",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_fields",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_fieldsF",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_valuesDirty",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_dataChanged",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_dataGrouped",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"inited",{enumerable:!0,configurable:!0,writable:!0,value:!1})}set data(e){e.incrementRef(),this._data.decrementRef(),this._data=e}get data(){return this._data}_dispose(){super._dispose(),this._data.decrementRef()}_onDataClear(){}_afterNew(){super._afterNew(),this._data.incrementRef(),this._updateFields(),this._disposers.push(this.data.events.onAll(e=>{const i=this._mainDataItems;if(this.markDirtyValues(),this._markDirtyGroup(),this._dataChanged=!0,e.type==="clear")Ce(i,r=>{r.dispose()}),i.length=0,this._onDataClear();else if(e.type==="push"){const r=new _N(this,e.newValue,this._makeDataItem(e.newValue));i.push(r),this.processDataItem(r)}else if(e.type==="setIndex"){const r=i[e.index],n=this._makeDataItem(e.newValue);r.bullets&&r.bullets.length==0&&(r.bullets=void 0),Ps(n).forEach(s=>{r.get(s)!=n[s]&&r.animate({key:s,to:n[s],duration:this.get("interpolationDuration",0),easing:this.get("interpolationEasing")})}),r.dataContext=e.newValue}else if(e.type==="insertIndex"){const r=new _N(this,e.newValue,this._makeDataItem(e.newValue));i.splice(e.index,0,r),this.processDataItem(r)}else if(e.type==="removeIndex")i[e.index].dispose(),i.splice(e.index,1);else if(e.type==="moveIndex"){const r=i[e.oldIndex];i.splice(e.oldIndex,1),i.splice(e.newIndex,0,r)}else throw new Error("Unknown IStreamEvent type");this._afterDataChange()}))}_updateFields(){this.valueFields&&(this._valueFields=[],this._valueFieldsF={},Ce(this.valueFields,e=>{this.get(e+"Field")&&(this._valueFields.push(e),this._valueFieldsF[e]={fieldKey:e+"Field",workingKey:e+"Working"})})),this.fields&&(this._fields=[],this._fieldsF={},Ce(this.fields,e=>{this.get(e+"Field")&&(this._fields.push(e),this._fieldsF[e]=e+"Field")}))}get dataItems(){return this._dataItems}processDataItem(e){}_makeDataItem(e){const i={};return this._valueFields&&Ce(this._valueFields,r=>{const n=this.get(this._valueFieldsF[r].fieldKey);i[r]=e[n],i[this._valueFieldsF[r].workingKey]=i[r]}),this._fields&&Ce(this._fields,r=>{const n=this.get(this._fieldsF[r]);i[r]=e[n]}),i}makeDataItem(e,i){let r=new _N(this,i,e);return this.processDataItem(r),r}pushDataItem(e,i){const r=this.makeDataItem(e,i);return this._mainDataItems.push(r),r}disposeDataItem(e){}showDataItem(e,i){return fa(this,void 0,void 0,function*(){e.set("visible",!0)})}hideDataItem(e,i){return fa(this,void 0,void 0,function*(){e.set("visible",!1)})}_clearDirty(){super._clearDirty(),this._valuesDirty=!1}_afterDataChange(){}_afterChanged(){if(super._afterChanged(),this._dataChanged){const e="datavalidated";this.events.isEnabled(e)&&this.events.dispatch(e,{type:e,target:this}),this._dataChanged=!1}if(this._valuesDirty){const e="valueschanged";this.events.isEnabled(e)&&this.events.dispatch(e,{type:e,target:this})}this.inited=!0}markDirtyValues(e){this.markDirty(),this._valuesDirty=!0}_markDirtyGroup(){this._dataGrouped=!1}markDirtySize(){this._sizeDirty=!0,this.markDirty()}getDataItemById(e){return cge(this.dataItems,i=>i.get("id")==e)}}Object.defineProperty(b$,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Component"});Object.defineProperty(b$,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:qi.classNames.concat([b$.className])});function hKe(t){return new Promise((e,i)=>{setTimeout(e,t)})}function Nft(t,e,i,r,n,s,o){if(!o||n){let a=0;switch(!n&&e!="millisecond"&&(a=t.getTimezoneOffset(),t.setUTCMinutes(t.getUTCMinutes()-a)),e){case"day":let l=t.getUTCDate();i>1||t.setUTCDate(l),t.setUTCHours(0,0,0,0);break;case"second":let h=t.getUTCSeconds();i>1&&(h=Math.floor(h/i)*i),t.setUTCSeconds(h,0);break;case"millisecond":if(i==1)return t;let f=t.getUTCMilliseconds();f=Math.floor(f/i)*i,t.setUTCMilliseconds(f);break;case"hour":let g=t.getUTCHours();i>1&&(g=Math.floor(g/i)*i),t.setUTCHours(g,0,0,0);break;case"minute":let v=t.getUTCMinutes();i>1&&(v=Math.floor(v/i)*i),t.setUTCMinutes(v,0,0);break;case"month":let w=t.getUTCMonth();i>1&&(i==2||i==3||i==4||i==6)&&(w=Math.floor(w/i)*i),t.setUTCMonth(w,1),t.setUTCHours(0,0,0,0);break;case"year":let S=t.getUTCFullYear();i>1&&(S=Math.floor(S/i)*i),t.setUTCFullYear(S,0,1),t.setUTCHours(0,0,0,0);break;case"week":let T=t.getUTCDate(),C=t.getUTCDay();pt(r)||(r=1),C>=r?T=T-C+r:T=T-(7+C)+r,t.setUTCDate(T),t.setUTCHours(0,0,0,0);break}if(!n&&e!="millisecond"&&(t.setUTCMinutes(t.getUTCMinutes()+a),e=="day"||e=="week"||e=="month"||e=="year")){let l=t.getTimezoneOffset();if(l!=a){let h=l-a;t.setUTCMinutes(t.getUTCMinutes()+h)}}return t}else{if(isNaN(t.getTime()))return t;let a=t.getTime(),l=o.offsetUTC(t),h=t.getTimezoneOffset(),f=o.parseDate(t),g=f.year,v=f.month,w=f.day,S=f.hour,T=f.minute,C=f.second,I=f.millisecond,A=f.weekday,P=l-h;switch(e){case"day":S=0,T=P,C=0,I=0;break;case"second":T+=P,i>1&&(C=Math.floor(C/i)*i),I=0;break;case"millisecond":T+=P,i>1&&(I=Math.floor(I/i)*i);break;case"hour":i>1&&(S=Math.floor(S/i)*i),T=P,C=0,I=0;break;case"minute":i>1&&(T=Math.floor(T/i)*i),T+=P,C=0,I=0;break;case"month":i>1&&(v=Math.floor(v/i)*i),w=1,S=0,T=P,C=0,I=0;break;case"year":i>1&&(g=Math.floor(g/i)*i),v=0,w=1,S=0,T=P,C=0,I=0;break;case"week":pt(r)||(r=1),A>=r?w=w-A+r:w=w-(7+A)+r,S=0,T=P,C=0,I=0;break}t=new Date(g,v,w,S,T,C,I);const D=t.getTime();let L=36e5;e=="hour"&&(L=36e5*i),D+L<=a&&(e=="hour"||e=="minute"||e=="second"||e=="millisecond")&&(t=new Date(D+L));let B=t.getTimezoneOffset(),Y=o.offsetUTC(t)-B;return Y!=P&&t.setTime(t.getTime()+(Y-P)*6e4),t}}class jv extends b${constructor(){super(...arguments),Object.defineProperty(this,"_aggregatesCalculated",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_selectionAggregatesCalculated",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_dataProcessed",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"_psi",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_pei",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_baseSeriesDirty",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"chart",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"bullets",{enumerable:!0,configurable:!0,writable:!0,value:new N3}),Object.defineProperty(this,"bulletsContainer",{enumerable:!0,configurable:!0,writable:!0,value:qi.new(this._root,{width:Qt,height:Qt,position:"absolute"})})}_afterNew(){this.valueFields.push("value","customValue"),super._afterNew(),this.setPrivate("customData",{}),this._disposers.push(this.bullets.events.onAll(()=>{this._handleBullets(this.dataItems)}))}_dispose(){this.bulletsContainer.dispose(),super._dispose()}startIndex(){let e=this.dataItems.length;return Math.min(this.getPrivate("startIndex",0),e)}endIndex(){let e=this.dataItems.length;return Math.max(0,Math.min(this.getPrivate("endIndex",e),e))}_handleBullets(e){Ce(e,i=>{const r=i.bullets;r&&(Ce(r,n=>{n.dispose()}),i.bullets=void 0)}),this.markDirtyValues()}_makeBullets(e){this._shouldMakeBullet(e)&&(e.bullets=[],this.bullets.each(i=>{this._makeBullet(e,i)}))}_shouldMakeBullet(e){return!0}_makeBullet(e,i,r){const n=i(this._root,this,e);return n&&(n._index=r,this._makeBulletReal(e,n)),n}_makeBulletReal(e,i){let r=i.get("sprite");r&&(r._setDataItem(e),r.setRaw("position","absolute"),this.bulletsContainer.children.push(r)),i.series=this,e.bullets.push(i)}addBullet(e,i){e.bullets||(e.bullets=[]),i&&this._makeBulletReal(e,i)}_clearDirty(){super._clearDirty(),this._aggregatesCalculated=!1,this._baseSeriesDirty=!1,this._selectionAggregatesCalculated=!1}_prepareChildren(){super._prepareChildren();let e=this.startIndex(),i=this.endIndex();if(this.isDirty("name")&&this.updateLegendValue(),this.isDirty("heatRules")&&(this._valuesDirty=!0),this.isPrivateDirty("baseValueSeries")){const n=this.getPrivate("baseValueSeries");n&&this._disposers.push(n.onPrivate("startIndex",()=>{this._baseSeriesDirty=!0,this.markDirtyValues()}))}if(this.get("calculateAggregates")&&(this._valuesDirty&&!this._dataProcessed&&(this._aggregatesCalculated||(this._calculateAggregates(0,this.dataItems.length),this._aggregatesCalculated=!0,e!=0&&(this._psi=void 0))),(this._psi!=e||this._pei!=i||this.isPrivateDirty("adjustedStartIndex"))&&!this._selectionAggregatesCalculated&&(e===0&&i===this.dataItems.length&&this._aggregatesCalculated||this._calculateAggregates(e,i),this._selectionAggregatesCalculated=!0)),this.isDirty("tooltip")){let n=this.get("tooltip");n&&(n.hide(0),n.set("tooltipTarget",this))}if(this.isDirty("fill")||this.isDirty("stroke")){let n;const s=this.get("legendDataItem");if(s&&(n=s.get("markerRectangle"),n&&this.isVisible())){if(this.isDirty("stroke")){let o=this.get("stroke");n.set("stroke",o)}if(this.isDirty("fill")){let o=this.get("fill");n.set("fill",o)}}this.updateLegendMarker(void 0)}if(this.bullets.length>0){let n=this.startIndex(),s=this.endIndex();s<this.dataItems.length&&s++;for(let o=n;o<s;o++){let a=this.dataItems[o];a.bullets||this._makeBullets(a)}}}_handleRemoved(){}_adjustStartIndex(e){return e}_calculateAggregates(e,i){let r=this._valueFields;if(!r)throw new Error("No value fields are set for the series.");const n=this.get("excludeFromAggregate");n&&(r=r.filter(C=>n.indexOf(C)==-1));const s={},o={},a={},l={},h={},f={},g={},v={},w={};for(let C=0,I=r.length;C<I;C++){let A=r[C];s[A]=0,o[A]=0,a[A]=0}const S=this.dataItems,T=S.length;for(let C=0,I=r.length;C<I;C++){let A=r[C],P=A+"Change",D=A+"ChangePercent",L=A+"ChangePrevious",B=A+"ChangePreviousPercent",N=A+"ChangeSelection",Y=A+"ChangeSelectionPercent",K="valueY";(A==="valueX"||A.endsWith("ValueX"))&&(K="valueX");const te=this.getPrivate("baseValueSeries"),ue=this.getPrivate("adjustedStartIndex",e),ye=(se,G,ie)=>{if(e===0){const ve=f[K],Me=G-ve;se.setRaw(P,Me),se.setRaw(D,Me/ve*100)}const J=G-w[K],le=G-f[K];se.setRaw(L,J),se.setRaw(B,J/w[K]*100),se.setRaw(N,le),se.setRaw(Y,le/f[K]*100),w[ie]=G};for(let se=ue;se<i;se++){const G=S[se];if(G){let ie=G.get(A);if(ie!=null){l[A]==null&&(l[A]=ie),h[A]==null&&(h[A]=ie),f[A]==null&&(f[A]=ie,w[A]=ie,te&&(f[K]=te._getBase(K)));break}}}for(let se=ue;se<i;se++){const G=S[se];if(G){let ie=G._settings[A];ie!=null&&(a[A]++,s[A]+=ie,o[A]+=Math.abs(ie),l[A]>ie&&(l[A]=ie),h[A]<ie&&(h[A]=ie),g[A]=ie,ye(G,ie,A))}}if(v[A]=s[A]/a[A],i<T){const se=S[i];if(se){let G=se.get(A);G!=null&&ye(se,G,A)}}if(i+1<T){const se=S[i+1];if(se){let G=se.get(A);G!=null&&ye(se,G,A)}}e>0&&e--,delete w[A];for(let se=e;se<ue;se++){const G=S[se];if(G){let ie=G.get(A);w[A]==null&&(w[A]=ie),ie!=null&&ye(G,ie,A)}}}for(let C=0,I=r.length;C<I;C++){let A=r[C];this.setPrivate(A+"AverageSelection",v[A]),this.setPrivate(A+"CountSelection",a[A]),this.setPrivate(A+"SumSelection",s[A]),this.setPrivate(A+"AbsoluteSumSelection",o[A]),this.setPrivate(A+"LowSelection",l[A]),this.setPrivate(A+"HighSelection",h[A]),this.setPrivate(A+"OpenSelection",f[A]),this.setPrivate(A+"CloseSelection",g[A])}if(e===0&&i===T)for(let C=0,I=r.length;C<I;C++){let A=r[C];this.setPrivate(A+"Average",v[A]),this.setPrivate(A+"Count",a[A]),this.setPrivate(A+"Sum",s[A]),this.setPrivate(A+"AbsoluteSum",o[A]),this.setPrivate(A+"Low",l[A]),this.setPrivate(A+"High",h[A]),this.setPrivate(A+"Open",f[A]),this.setPrivate(A+"Close",g[A])}}_updateChildren(){super._updateChildren(),this._psi=this.startIndex(),this._pei=this.endIndex(),this.isDirty("visible")&&this.bulletsContainer.set("visible",this.get("visible"));const e=this.get("heatRules");if(this._valuesDirty&&e&&e.length>0&&Ce(e,i=>{const r=i.minValue||this.getPrivate(i.dataField+"Low")||0,n=i.maxValue||this.getPrivate(i.dataField+"High")||0;Ce(i.target._entities,s=>{const o=s.dataItem.get(i.dataField);if(!pt(o)){i.neutral&&s.set(i.key,i.neutral);const a=s.states;if(a){const l=a.lookup("default");l&&i.neutral&&l.set(i.key,i.neutral)}if(!i.customFunction)return}if(i.customFunction)i.customFunction.call(this,s,r,n,o);else{let a;i.logarithmic?a=(Math.log(o)*Math.LOG10E-Math.log(r)*Math.LOG10E)/(Math.log(n)*Math.LOG10E-Math.log(r)*Math.LOG10E):a=(o-r)/(n-r),pt(o)&&(!pt(a)||Math.abs(a)==1/0)&&(a=.5);let l;pt(i.min)?l=i.min+(i.max-i.min)*a:i.min instanceof Rt?l=Rt.interpolate(a,i.min,i.max):i.min instanceof ti&&(l=gge(a,i.min,i.max)),s.set(i.key,l);const h=s.states;if(h){const f=h.lookup("default");f&&f.set(i.key,l)}}})}),this.get("visible")){let i=this.dataItems.length,r=this.startIndex(),n=this.endIndex();n<i&&n++,r>0&&r--;for(let s=0;s<r;s++)this._hideBullets(this.dataItems[s]);for(let s=r;s<n;s++)this._positionBullets(this.dataItems[s]);for(let s=n;s<i;s++)this._hideBullets(this.dataItems[s])}}_positionBullets(e){e.bullets&&Ce(e.bullets,i=>{this._positionBullet(i);const r=i.get("sprite");i.get("dynamic")&&(r&&(r._markDirtyKey("fill"),r.markDirtySize()),r instanceof qi&&r.walkChildren(n=>{n._markDirtyKey("fill"),n.markDirtySize(),n instanceof Tu&&n.text.markDirtyText()})),r instanceof Tu&&r.get("populateText")&&r.text.markDirtyText()})}_hideBullets(e){e.bullets&&Ce(e.bullets,i=>{let r=i.get("sprite");r&&r.setPrivate("visible",!1)})}_positionBullet(e){}_placeBulletsContainer(e){e.bulletsContainer.children.moveValue(this.bulletsContainer)}_removeBulletsContainer(){const e=this.bulletsContainer;e.parent&&e.parent.children.removeValue(e)}disposeDataItem(e){const i=e.bullets;i&&(Ce(i,r=>{r.dispose()}),e.bullets=void 0)}_getItemReaderLabel(){return""}showDataItem(e,i){const r=Object.create(null,{showDataItem:{get:()=>super.showDataItem}});return fa(this,void 0,void 0,function*(){const n=[r.showDataItem.call(this,e,i)],s=e.bullets;s&&Ce(s,o=>{const a=o.get("sprite");a&&n.push(a.show(i))}),yield Promise.all(n)})}hideDataItem(e,i){const r=Object.create(null,{hideDataItem:{get:()=>super.hideDataItem}});return fa(this,void 0,void 0,function*(){const n=[r.hideDataItem.call(this,e,i)],s=e.bullets;s&&Ce(s,o=>{const a=o.get("sprite");a&&n.push(a.hide(i))}),yield Promise.all(n)})}_sequencedShowHide(e,i){return fa(this,void 0,void 0,function*(){if(this.get("sequencedInterpolation"))if(pt(i)||(i=this.get("interpolationDuration",0)),i>0){const r=this.startIndex(),n=this.endIndex();yield Promise.all(TV(this.dataItems,(s,o)=>fa(this,void 0,void 0,function*(){let a=i||0;(o<r-10||o>n+10)&&(a=0);let l=this.get("sequencedDelay",0)+a/(n-r);yield hKe(l*(o-r)),e?yield this.showDataItem(s,a):yield this.hideDataItem(s,a)})))}else yield Promise.all(TV(this.dataItems,r=>e?this.showDataItem(r,0):this.hideDataItem(r,0)))})}updateLegendValue(e){if(e){const i=e.get("legendDataItem");if(i){const r=i.get("valueLabel");if(r){const s=r.text;let o="";r._setDataItem(e),o=this.get("legendValueText",s.get("text","")),r.set("text",o),s.markDirtyText()}const n=i.get("label");if(n){const s=n.text;let o="";n._setDataItem(e),o=this.get("legendLabelText",s.get("text","")),n.set("text",o),s.markDirtyText()}}}}updateLegendMarker(e){}_onHide(){super._onHide();const e=this.getTooltip();e&&e.hide()}hoverDataItem(e){}unhoverDataItem(e){}_getBase(e){const i=this.dataItems[this.startIndex()];return i?i.get(e):0}}Object.defineProperty(jv,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Series"});Object.defineProperty(jv,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:b$.classNames.concat([jv.className])});class aP extends jv{constructor(){super(...arguments),Object.defineProperty(this,"itemContainers",{enumerable:!0,configurable:!0,writable:!0,value:this.addDisposer(new bm(al.new({}),()=>qi._new(this._root,{themeTags:tl(this.itemContainers.template.get("themeTags",[]),["legend","item"]),themeTagsSelf:tl(this.itemContainers.template.get("themeTagsSelf",[]),["itemcontainer"]),background:v$.new(this._root,{themeTags:tl(this.itemContainers.template.get("themeTags",[]),["legend","item","background"]),themeTagsSelf:tl(this.itemContainers.template.get("themeTagsSelf",[]),["itemcontainer"])})},[this.itemContainers.template])))}),Object.defineProperty(this,"markers",{enumerable:!0,configurable:!0,writable:!0,value:this.addDisposer(new bm(al.new({}),()=>qi._new(this._root,{themeTags:tl(this.markers.template.get("themeTags",[]),["legend","marker"])},[this.markers.template])))}),Object.defineProperty(this,"labels",{enumerable:!0,configurable:!0,writable:!0,value:this.addDisposer(new bm(al.new({}),()=>Tu._new(this._root,{themeTags:tl(this.labels.template.get("themeTags",[]),["legend","label"])},[this.labels.template])))}),Object.defineProperty(this,"valueLabels",{enumerable:!0,configurable:!0,writable:!0,value:this.addDisposer(new bm(al.new({}),()=>Tu._new(this._root,{themeTags:tl(this.valueLabels.template.get("themeTags",[]),["legend","label","value"])},[this.valueLabels.template])))}),Object.defineProperty(this,"markerRectangles",{enumerable:!0,configurable:!0,writable:!0,value:this.addDisposer(new bm(al.new({}),()=>v$._new(this._root,{themeTags:tl(this.markerRectangles.template.get("themeTags",[]),["legend","marker","rectangle"])},[this.markerRectangles.template])))})}_afterNew(){this._settings.themeTags=tl(this._settings.themeTags,["legend"]),this.fields.push("name","stroke","fill"),super._afterNew()}makeItemContainer(e){const i=this.children.push(this.itemContainers.make());return i._setDataItem(e),this.itemContainers.push(i),i.states.create("disabled",{}),i}makeMarker(){const e=this.markers.make();return this.markers.push(e),e.states.create("disabled",{}),e}makeLabel(){const e=this.labels.make();return e.states.create("disabled",{}),e}makeValueLabel(){const e=this.valueLabels.make();return e.states.create("disabled",{}),e}makeMarkerRectangle(){const e=this.markerRectangles.make();return e.states.create("disabled",{}),e}processDataItem(e){super.processDataItem(e);const i=this.makeItemContainer(e),r=this.get("nameField"),n=this.get("fillField"),s=this.get("strokeField");if(i){const o=this.get("clickTarget","itemContainer"),a=e.dataContext;a&&a.set&&a.set("legendDataItem",e),i._setDataItem(e),e.set("itemContainer",i);const l=this.makeMarker();if(l){i.children.push(l),l._setDataItem(e),e.set("marker",l);const g=this.get("useDefaultMarker"),v=l.children.push(this.makeMarkerRectangle());let w=e.get("fill"),S=e.get("stroke");e.set("markerRectangle",v),a&&a.get&&(w=a.get(n,w),S=a.get(s,S)),S||(S=w),g?a.on&&(a.on(n,()=>{v.set("fill",a.get(n))}),a.on(s,()=>{v.set("stroke",a.get(s))})):a&&a.createLegendMarker&&a.createLegendMarker(),v.setAll({fill:w,stroke:S});const T=a.component;T&&T.updateLegendMarker&&T.updateLegendMarker(a)}const h=this.makeLabel();if(h){i.children.push(h),h._setDataItem(e),e.set("label",h),h.text.on("text",()=>{i.setRaw("ariaLabel",h.text._getText()+(this.get("clickTarget")!=="none"?"; "+this._t("Press ENTER to toggle"):"")),i.markDirtyAccessibility()}),a&&a.get&&e.set("name",a.get(r));let g=e.get("name");g&&h.set("text",g)}const f=this.makeValueLabel();if(f&&(i.children.push(f),f._setDataItem(e),e.set("valueLabel",f)),a&&a.show&&(a.on("visible",g=>{i.set("disabled",!g)}),a.get("visible")||i.set("disabled",!0),o!="none")){let g=i;o=="marker"&&(g=l),this._addClickEvents(g,a,e)}this.children.values.sort((g,v)=>{const w=g.dataItem.dataContext,S=v.dataItem.dataContext;if(w&&S){const T=this.data.indexOf(w),C=this.data.indexOf(S);if(T>C)return 1;if(T<C)return-1}return 0}),a&&a.updateLegendValue&&a.updateLegendValue()}}_addClickEvents(e,i,r){e.set("cursorOverStyle","pointer"),e.events.on("pointerover",()=>{const n=i.component;n&&n.hoverDataItem&&n.hoverDataItem(i)}),e.events.on("pointerout",()=>{const n=i.component;n&&n.hoverDataItem&&n.unhoverDataItem(i)}),e.events.on("click",()=>{const n=r.get("label").text._getText();i.show&&i.isHidden&&(i.isHidden()||i.get("visible")===!1)?(i.show(),e.set("disabled",!1),this._root.readerAlert(this._t("%1 shown",this._root.locale,n))):i.hide&&(i.hide(),e.set("disabled",!0),this._root.readerAlert(this._t("%1 hidden",this._root.locale,n)))})}disposeDataItem(e){super.disposeDataItem(e);const i=e.dataContext;i&&i.get&&i.get("legendDataItem")==e&&i.set("legendDataItem",void 0);let r=e.get("itemContainer");r&&(this.itemContainers.removeValue(r),r.dispose());let n=e.get("marker");n&&(this.markers.removeValue(n),n.dispose());let s=e.get("markerRectangle");s&&(this.markerRectangles.removeValue(s),s.dispose());let o=e.get("label");o&&(this.labels.removeValue(o),o.dispose());let a=e.get("valueLabel");a&&(this.valueLabels.removeValue(a),a.dispose())}}Object.defineProperty(aP,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Legend"});Object.defineProperty(aP,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:jv.classNames.concat([aP.className])});function wte(t,e){for(let i=0,r=e.length;i<r;i++){const n=e[i];if(n.length>0){let s=n[0];if(s.length>0){let o=s[0];t.moveTo(o.x,o.y);for(let a=0,l=n.length;a<l;a++)pKe(t,n[a])}}}}function pKe(t,e){for(let i=0,r=e.length;i<r;i++){const n=e[i];t.lineTo(n.x,n.y)}}class w$ extends bl{_beforeChanged(){super._beforeChanged(),(this.isDirty("points")||this.isDirty("segments")||this._sizeDirty||this.isPrivateDirty("width")||this.isPrivateDirty("height"))&&(this._clear=!0)}_changed(){if(super._changed(),this._clear){const e=this.get("points"),i=this.get("segments");if(e&&e.length>0){let r=e[0];this._display.moveTo(r.x,r.y),wte(this._display,[[e]])}else if(i)wte(this._display,i);else if(!this.get("draw")){let r=this.width(),n=this.height();this._display.moveTo(0,0),this._display.lineTo(r,n)}}}}Object.defineProperty(w$,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Line"});Object.defineProperty(w$,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:bl.classNames.concat([w$.className])});class lP extends Nv{constructor(){super(...arguments),Object.defineProperty(this,"_display",{enumerable:!0,configurable:!0,writable:!0,value:this._root._renderer.makeRadialText("",this.textStyle)})}_afterNew(){super._afterNew()}_beforeChanged(){super._beforeChanged(),this._display.clear(),this.isDirty("textType")&&(this._display.textType=this.get("textType"),this.markDirtyBounds()),this.isDirty("radius")&&(this._display.radius=this.get("radius"),this.markDirtyBounds()),this.isDirty("startAngle")&&(this._display.startAngle=(this.get("startAngle",0)+90)*p$,this.markDirtyBounds()),this.isDirty("inside")&&(this._display.inside=this.get("inside"),this.markDirtyBounds()),this.isDirty("orientation")&&(this._display.orientation=this.get("orientation"),this.markDirtyBounds()),this.isDirty("kerning")&&(this._display.kerning=this.get("kerning"),this.markDirtyBounds())}}Object.defineProperty(lP,"className",{enumerable:!0,configurable:!0,writable:!0,value:"RadialText"});Object.defineProperty(lP,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Nv.classNames.concat([lP.className])});class cP extends Tu{constructor(){super(...arguments),Object.defineProperty(this,"_flipped",{enumerable:!0,configurable:!0,writable:!0,value:!1})}_afterNew(){this._textKeys.push("textType","kerning"),super._afterNew()}_makeText(){this._text=this.children.push(lP.new(this._root,{}))}baseRadius(){const e=this.getPrivate("radius",0),i=this.getPrivate("innerRadius",0),r=this.get("baseRadius",0);return i+zn(r,e-i)}radius(){const e=this.get("inside",!1);return this.baseRadius()+this.get("radius",0)*(e?-1:1)}_updateChildren(){if(super._updateChildren(),this.isDirty("baseRadius")||this.isPrivateDirty("radius")||this.isPrivateDirty("innerRadius")||this.isDirty("labelAngle")||this.isDirty("radius")||this.isDirty("inside")||this.isDirty("orientation")||this.isDirty("textType")){const e=this.get("textType","adjusted"),i=this.get("inside",!1),r=this.get("orientation");let n=y7(this.get("labelAngle",0));this._text.set("startAngle",this.get("labelAngle",0)),this._text.set("inside",i);const s=ic(n),o=Ad(n);let a=this.baseRadius(),l=this.radius();if(this._display.angle=0,e=="circular")this.setAll({paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0}),this.setRaw("x",void 0),this.setRaw("y",void 0),this._text.set("orientation",r),this._text.set("radius",l);else{a==0&&(n=0,l=0);let h=l*o,f=l*s;e=="radial"?(this.setRaw("x",h),this.setRaw("y",f),n<90||n>270||r!="auto"?(this._display.angle=n,this._flipped=!1):(this._display.angle=n+180,this._flipped=!0),this._dirty.rotation=!1):e=="adjusted"?(this.setRaw("centerX",Bt),this.setRaw("centerY",Bt),this.setRaw("x",h),this.setRaw("y",f)):e=="regular"&&(this.setRaw("x",h),this.setRaw("y",f))}this.markDirtyPosition(),this.markDirtyBounds()}}_updatePosition(){const e=this.get("textType","regular"),i=this.get("inside",!1);let r=0,n=0,s=this.get("labelAngle",0),o=this.localBounds(),a=o.right-o.left,l=o.bottom-o.top;if(e=="radial"){if(this._flipped){let h=this.get("centerX");h instanceof ti&&(a=a*(1-h.value*2)),r=a*Ad(s),n=a*ic(s)}}else!i&&e=="adjusted"&&(r=a/2*Ad(s),n=l/2*ic(s));this.setRaw("dx",r),this.setRaw("dy",n),super._updatePosition()}get text(){return this._text}}Object.defineProperty(cP,"className",{enumerable:!0,configurable:!0,writable:!0,value:"RadialLabel"});Object.defineProperty(cP,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:Tu.classNames.concat([cP.className])});function zf(t){return function(){return t}}const _te=Math.abs,Ys=Math.atan2,Zg=Math.cos,fKe=Math.max,xN=Math.min,Gu=Math.sin,Rw=Math.sqrt,ta=1e-12,_$=Math.PI,uP=_$/2,mKe=2*_$;function gKe(t){return t>1?0:t<-1?_$:Math.acos(t)}function xte(t){return t>=1?uP:t<=-1?-uP:Math.asin(t)}const MV=Math.PI,AV=2*MV,My=1e-6,yKe=AV-My;function Tge(t){this._+=t[0];for(let e=1,i=t.length;e<i;++e)this._+=arguments[e]+t[e]}function vKe(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return Tge;const i=10**e;return function(r){this._+=r[0];for(let n=1,s=r.length;n<s;++n)this._+=Math.round(arguments[n]*i)/i+r[n]}}class bKe{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?Tge:vKe(e)}moveTo(e,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+i}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,i){this._append`L${this._x1=+e},${this._y1=+i}`}quadraticCurveTo(e,i,r,n){this._append`Q${+e},${+i},${this._x1=+r},${this._y1=+n}`}bezierCurveTo(e,i,r,n,s,o){this._append`C${+e},${+i},${+r},${+n},${this._x1=+s},${this._y1=+o}`}arcTo(e,i,r,n,s){if(e=+e,i=+i,r=+r,n=+n,s=+s,s<0)throw new Error(`negative radius: ${s}`);let o=this._x1,a=this._y1,l=r-e,h=n-i,f=o-e,g=a-i,v=f*f+g*g;if(this._x1===null)this._append`M${this._x1=e},${this._y1=i}`;else if(v>My)if(!(Math.abs(g*l-h*f)>My)||!s)this._append`L${this._x1=e},${this._y1=i}`;else{let w=r-o,S=n-a,T=l*l+h*h,C=w*w+S*S,I=Math.sqrt(T),A=Math.sqrt(v),P=s*Math.tan((MV-Math.acos((T+v-C)/(2*I*A)))/2),D=P/A,L=P/I;Math.abs(D-1)>My&&this._append`L${e+D*f},${i+D*g}`,this._append`A${s},${s},0,0,${+(g*w>f*S)},${this._x1=e+L*l},${this._y1=i+L*h}`}}arc(e,i,r,n,s,o){if(e=+e,i=+i,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let a=r*Math.cos(n),l=r*Math.sin(n),h=e+a,f=i+l,g=1^o,v=o?n-s:s-n;this._x1===null?this._append`M${h},${f}`:(Math.abs(this._x1-h)>My||Math.abs(this._y1-f)>My)&&this._append`L${h},${f}`,r&&(v<0&&(v=v%AV+AV),v>yKe?this._append`A${r},${r},0,1,${g},${e-a},${i-l}A${r},${r},0,1,${g},${this._x1=h},${this._y1=f}`:v>My&&this._append`A${r},${r},0,${+(v>=MV)},${g},${this._x1=e+r*Math.cos(s)},${this._y1=i+r*Math.sin(s)}`)}rect(e,i,r,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+i}h${r=+r}v${+n}h${-r}Z`}toString(){return this._}}function wKe(t){let e=3;return t.digits=function(i){if(!arguments.length)return e;if(i==null)e=null;else{const r=Math.floor(i);if(!(r>=0))throw new RangeError(`invalid digits: ${i}`);e=r}return t},()=>new bKe(e)}function _Ke(t){return t.innerRadius}function xKe(t){return t.outerRadius}function SKe(t){return t.startAngle}function TKe(t){return t.endAngle}function $Ke(t){return t&&t.padAngle}function kKe(t,e,i,r,n,s,o,a){var l=i-t,h=r-e,f=o-n,g=a-s,v=g*l-f*h;if(!(v*v<ta))return v=(f*(e-s)-g*(t-n))/v,[t+v*l,e+v*h]}function pC(t,e,i,r,n,s,o){var a=t-i,l=e-r,h=(o?s:-s)/Rw(a*a+l*l),f=h*l,g=-h*a,v=t+f,w=e+g,S=i+f,T=r+g,C=(v+S)/2,I=(w+T)/2,A=S-v,P=T-w,D=A*A+P*P,L=n-s,B=v*T-S*w,N=(P<0?-1:1)*Rw(fKe(0,L*L*D-B*B)),Y=(B*P-A*N)/D,K=(-B*A-P*N)/D,te=(B*P+A*N)/D,ue=(-B*A+P*N)/D,ye=Y-C,se=K-I,G=te-C,ie=ue-I;return ye*ye+se*se>G*G+ie*ie&&(Y=te,K=ue),{cx:Y,cy:K,x01:-f,y01:-g,x11:Y*(n/L-1),y11:K*(n/L-1)}}function EKe(){var t=_Ke,e=xKe,i=zf(0),r=null,n=SKe,s=TKe,o=$Ke,a=null,l=wKe(h);function h(){var f,g,v=+t.apply(this,arguments),w=+e.apply(this,arguments),S=n.apply(this,arguments)-uP,T=s.apply(this,arguments)-uP,C=_te(T-S),I=T>S;if(a||(a=f=l()),w<v&&(g=w,w=v,v=g),!(w>ta))a.moveTo(0,0);else if(C>mKe-ta)a.moveTo(w*Zg(S),w*Gu(S)),a.arc(0,0,w,S,T,!I),v>ta&&(a.moveTo(v*Zg(T),v*Gu(T)),a.arc(0,0,v,T,S,I));else{var A=S,P=T,D=S,L=T,B=C,N=C,Y=o.apply(this,arguments)/2,K=Y>ta&&(r?+r.apply(this,arguments):Rw(v*v+w*w)),te=xN(_te(w-v)/2,+i.apply(this,arguments)),ue=te,ye=te,se,G;if(K>ta){var ie=xte(K/v*Gu(Y)),J=xte(K/w*Gu(Y));(B-=ie*2)>ta?(ie*=I?1:-1,D+=ie,L-=ie):(B=0,D=L=(S+T)/2),(N-=J*2)>ta?(J*=I?1:-1,A+=J,P-=J):(N=0,A=P=(S+T)/2)}var le=w*Zg(A),ve=w*Gu(A),Me=v*Zg(L),Ne=v*Gu(L);if(te>ta){var X=w*Zg(P),fe=w*Gu(P),Pe=v*Zg(D),Be=v*Gu(D),Je;if(C<_$)if(Je=kKe(le,ve,Pe,Be,X,fe,Me,Ne)){var lt=le-Je[0],St=ve-Je[1],si=X-Je[0],qe=fe-Je[1],fo=1/Gu(gKe((lt*si+St*qe)/(Rw(lt*lt+St*St)*Rw(si*si+qe*qe)))/2),qn=Rw(Je[0]*Je[0]+Je[1]*Je[1]);ue=xN(te,(v-qn)/(fo-1)),ye=xN(te,(w-qn)/(fo+1))}else ue=ye=0}N>ta?ye>ta?(se=pC(Pe,Be,le,ve,w,ye,I),G=pC(X,fe,Me,Ne,w,ye,I),a.moveTo(se.cx+se.x01,se.cy+se.y01),ye<te?a.arc(se.cx,se.cy,ye,Ys(se.y01,se.x01),Ys(G.y01,G.x01),!I):(a.arc(se.cx,se.cy,ye,Ys(se.y01,se.x01),Ys(se.y11,se.x11),!I),a.arc(0,0,w,Ys(se.cy+se.y11,se.cx+se.x11),Ys(G.cy+G.y11,G.cx+G.x11),!I),a.arc(G.cx,G.cy,ye,Ys(G.y11,G.x11),Ys(G.y01,G.x01),!I))):(a.moveTo(le,ve),a.arc(0,0,w,A,P,!I)):a.moveTo(le,ve),!(v>ta)||!(B>ta)?a.lineTo(Me,Ne):ue>ta?(se=pC(Me,Ne,X,fe,v,-ue,I),G=pC(le,ve,Pe,Be,v,-ue,I),a.lineTo(se.cx+se.x01,se.cy+se.y01),ue<te?a.arc(se.cx,se.cy,ue,Ys(se.y01,se.x01),Ys(G.y01,G.x01),!I):(a.arc(se.cx,se.cy,ue,Ys(se.y01,se.x01),Ys(se.y11,se.x11),!I),a.arc(0,0,v,Ys(se.cy+se.y11,se.cx+se.x11),Ys(G.cy+G.y11,G.cx+G.x11),I),a.arc(G.cx,G.cy,ue,Ys(G.y11,G.x11),Ys(G.y01,G.x01),!I))):a.arc(0,0,v,L,D,I)}if(a.closePath(),f)return a=null,f+""||null}return h.centroid=function(){var f=(+t.apply(this,arguments)+ +e.apply(this,arguments))/2,g=(+n.apply(this,arguments)+ +s.apply(this,arguments))/2-_$/2;return[Zg(g)*f,Gu(g)*f]},h.innerRadius=function(f){return arguments.length?(t=typeof f=="function"?f:zf(+f),h):t},h.outerRadius=function(f){return arguments.length?(e=typeof f=="function"?f:zf(+f),h):e},h.cornerRadius=function(f){return arguments.length?(i=typeof f=="function"?f:zf(+f),h):i},h.padRadius=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:zf(+f),h):r},h.startAngle=function(f){return arguments.length?(n=typeof f=="function"?f:zf(+f),h):n},h.endAngle=function(f){return arguments.length?(s=typeof f=="function"?f:zf(+f),h):s},h.padAngle=function(f){return arguments.length?(o=typeof f=="function"?f:zf(+f),h):o},h.context=function(f){return arguments.length?(a=f??null,h):a},h}class dP extends bl{constructor(){super(...arguments),Object.defineProperty(this,"ix",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"iy",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"_generator",{enumerable:!0,configurable:!0,writable:!0,value:EKe()})}_getTooltipPoint(){let e=this.get("tooltipX"),i=this.get("tooltipY"),r=0,n=0;pt(e)&&(r=e),pt(i)&&(n=i);let s=this.get("radius",0),o=this.get("innerRadius",0),a=this.get("dRadius",0),l=this.get("dInnerRadius",0);return s+=a,o+=l,o<0&&(o=s+o),e instanceof ti&&(r=this.ix*(o+(s-o)*e.value)),i instanceof ti&&(n=this.iy*(o+(s-o)*i.value)),this.get("arc")>=360&&o==0&&(r=0,n=0),{x:r,y:n}}_beforeChanged(){super._beforeChanged(),(this.isDirty("radius")||this.isDirty("arc")||this.isDirty("innerRadius")||this.isDirty("startAngle")||this.isDirty("dRadius")||this.isDirty("dInnerRadius")||this.isDirty("cornerRadius")||this.isDirty("shiftRadius"))&&(this._clear=!0)}_changed(){if(super._changed(),this._clear){let e=this.get("startAngle",0),i=this.get("arc",0);const r=this._generator;i<0&&(e=e+i,i=i*-1),i>.1&&r.cornerRadius(this.get("cornerRadius",0)),r.context(this._display);let n=this.get("radius",0),s=this.get("innerRadius",0),o=this.get("dRadius",0),a=this.get("dInnerRadius",0);n+=o,s+=a,s<0&&(s=n+s),r({innerRadius:s,outerRadius:n,startAngle:(e+90)*p$,endAngle:(e+i+90)*p$});let l=e+i/2;this.ix=Ad(l),this.iy=ic(l);const h=this.get("shiftRadius",0);this.setRaw("dx",this.ix*h),this.setRaw("dy",this.iy*h),this.markDirtyPosition()}}}Object.defineProperty(dP,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Slice"});Object.defineProperty(dP,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:bl.classNames.concat([dP.className])});class x$ extends qi{constructor(){super(...arguments),Object.defineProperty(this,"chartContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.children.push(qi.new(this._root,{width:Qt,height:Qt,interactiveChildren:!1}))}),Object.defineProperty(this,"bulletsContainer",{enumerable:!0,configurable:!0,writable:!0,value:qi.new(this._root,{interactiveChildren:!1,isMeasured:!1,position:"absolute",width:Qt,height:Qt})})}}Object.defineProperty(x$,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Chart"});Object.defineProperty(x$,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:qi.classNames.concat([x$.className])});class S$ extends x${constructor(){super(...arguments),Object.defineProperty(this,"seriesContainer",{enumerable:!0,configurable:!0,writable:!0,value:qi.new(this._root,{width:Qt,height:Qt,isMeasured:!1})}),Object.defineProperty(this,"series",{enumerable:!0,configurable:!0,writable:!0,value:new yge})}_afterNew(){super._afterNew(),this._disposers.push(this.series);const e=this.seriesContainer.children;this._disposers.push(this.series.events.onAll(i=>{if(i.type==="clear"){Ce(i.oldValues,s=>{this._removeSeries(s)});const r=this.get("colors");r&&r.reset();const n=this.get("patterns");n&&n.reset()}else if(i.type==="push")e.moveValue(i.newValue),this._processSeries(i.newValue);else if(i.type==="setIndex")e.setIndex(i.index,i.newValue),this._processSeries(i.newValue);else if(i.type==="insertIndex")e.insertIndex(i.index,i.newValue),this._processSeries(i.newValue);else if(i.type==="removeIndex")this._removeSeries(i.oldValue);else if(i.type==="moveIndex")e.moveValue(i.value,i.newIndex),this._processSeries(i.value);else if(i.type==="swap"){const r=i.a,n=i.b,s=this.series.indexOf(r),o=this.series.indexOf(n);e.moveValue(r,o),e.moveValue(n,s),this.series.each(a=>{this._processSeries(a),a.markDirtyValues()})}else throw new Error("Unknown IListEvent type")}))}_processSeries(e){e.chart=this,e._placeBulletsContainer(this)}_removeSeries(e){e._handleRemoved(),e.isDisposed()||(this.seriesContainer.children.removeValue(e),e._removeBulletsContainer())}}Object.defineProperty(S$,"className",{enumerable:!0,configurable:!0,writable:!0,value:"SerialChart"});Object.defineProperty(S$,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:x$.classNames.concat([S$.className])});class hP extends w${}Object.defineProperty(hP,"className",{enumerable:!0,configurable:!0,writable:!0,value:"Tick"});Object.defineProperty(hP,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:w$.classNames.concat([hP.className])});class pP extends po{_afterNew(){super._afterNewApplyThemes(),this._dirty.colors=!1}_beforeChanged(){this.isDirty("colors")&&this.reset()}generateColors(){this.setPrivate("currentPass",this.getPrivate("currentPass",0)+1);const e=this.getPrivate("currentPass"),i=this.get("colors",[this.get("baseColor",Rt.fromHex(16711680))]);this.getPrivate("numColors")||this.setPrivate("numColors",i.length);const r=this.getPrivate("numColors"),n=0,s=this.get("passOptions"),o=this.get("reuse");for(let a=n;a<r;a++)if(o)i.push(i[a]);else{const l=i[a].toHSL();let h=l.h+(s.hue||0)*e;for(;h>1;)h-=1;let f=l.s+(s.saturation||0)*e;f>1&&(f=1),f<0&&(f=0);let g=l.l+(s.lightness||0)*e;for(;g>1;)g-=1;i.push(Rt.fromHSL(h,f,g))}}getIndex(e){const i=this.get("colors",[]),r=this.get("saturation");return e>=i.length?(this.generateColors(),this.getIndex(e)):r!=null?Rt.saturate(i[e],r):i[e]}next(){let e=this.getPrivate("currentStep",this.get("startIndex",0));return this.setPrivate("currentStep",e+this.get("step",1)),this.getIndex(e)}reset(){this.setPrivate("currentStep",this.get("startIndex",0)),this.setPrivate("currentPass",0)}}Object.defineProperty(pP,"className",{enumerable:!0,configurable:!0,writable:!0,value:"ColorSet"});Object.defineProperty(pP,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:po.classNames.concat([pP.className])});class IKe extends V3{setupDefaultRules(){super.setupDefaultRules();const e=this._root.interfaceColors,i=this.rule.bind(this);i("PercentSeries").setAll({legendLabelText:"{category}",legendValueText:"{valuePercentTotal.formatNumber('0.00p')}",colors:pP.new(this._root,{}),width:Qt,height:Qt}),i("PieChart").setAll({radius:lo(80),startAngle:-90,endAngle:270}),i("PieSeries").setAll({alignLabels:!0,startAngle:-90,endAngle:270}),i("PieSeries").states.create("hidden",{endAngle:-90,opacity:0}),i("Slice",["pie"]).setAll({position:"absolute",isMeasured:!1,x:0,y:0,toggleKey:"active",tooltipText:"{category}: {valuePercentTotal.formatNumber('0.00p')}",strokeWidth:1,strokeOpacity:1,role:"figure",lineJoin:"round"}),i("Slice",["pie"]).states.create("active",{shiftRadius:20,scale:1}),i("Slice",["pie"]).states.create("hoverActive",{scale:1.04}),i("Slice",["pie"]).states.create("hover",{scale:1.04}),i("RadialLabel",["pie"]).setAll({textType:"aligned",radius:10,text:"{category}: {valuePercentTotal.formatNumber('0.00p')}",paddingTop:5,paddingBottom:5,populateText:!0}),i("Tick",["pie"]).setAll({location:1}),i("SlicedChart").setAll({paddingLeft:10,paddingRight:10,paddingTop:10,paddingBottom:10}),i("FunnelSeries").setAll({startLocation:0,endLocation:1,orientation:"vertical",alignLabels:!0,sequencedInterpolation:!0}),i("FunnelSlice").setAll({interactive:!0,expandDistance:0}),i("FunnelSlice").states.create("hover",{expandDistance:.15}),i("Label",["funnel"]).setAll({populateText:!0,text:"{category}: {valuePercentTotal.formatNumber('0.00p')}",centerY:Bt}),i("Label",["funnel","horizontal"]).setAll({centerX:0,centerY:Bt,rotation:-90}),i("Label",["funnel","vertical"]).setAll({centerY:Bt,centerX:0}),i("Tick",["funnel"]).setAll({location:1}),i("FunnelSlice",["funnel","link"]).setAll({fillOpacity:.5,strokeOpacity:0,expandDistance:-.1}),i("FunnelSlice",["funnel","link","vertical"]).setAll({height:10}),i("FunnelSlice",["funnel","link","horizontal"]).setAll({width:10}),i("PyramidSeries").setAll({valueIs:"area"}),i("FunnelSlice",["pyramid","link"]).setAll({fillOpacity:.5}),i("FunnelSlice",["pyramid","link","vertical"]).setAll({height:0}),i("FunnelSlice",["pyramid","link","horizontal"]).setAll({width:0}),i("FunnelSlice",["pyramid"]).setAll({interactive:!0,expandDistance:0}),i("FunnelSlice",["pyramid"]).states.create("hover",{expandDistance:.15}),i("Label",["pyramid"]).setAll({populateText:!0,text:"{category}: {valuePercentTotal.formatNumber('0.00p')}",centerY:Bt}),i("Label",["pyramid","horizontal"]).setAll({centerX:0,centerY:Bt,rotation:-90}),i("Label",["pyramid","vertical"]).setAll({centerY:Bt,centerX:0}),i("Tick",["pyramid"]).setAll({location:1}),i("FunnelSlice",["pictorial"]).setAll({interactive:!0,tooltipText:"{category}: {valuePercentTotal.formatNumber('0.00p')}"}),i("Label",["pictorial"]).setAll({populateText:!0,text:"{category}: {valuePercentTotal.formatNumber('0.00p')}",centerY:Bt}),i("Label",["pictorial","horizontal"]).setAll({centerX:0,centerY:Bt,rotation:-90}),i("Label",["pictorial","vertical"]).setAll({centerY:Bt,centerX:0}),i("FunnelSlice",["pictorial","link"]).setAll({fillOpacity:.5,width:0,height:0}),i("Tick",["pictorial"]).setAll({location:.5});{const r=i("Graphics",["pictorial","background"]);r.setAll({fillOpacity:.2}),bt(r,"fill",e,"alternativeBackground")}}}class T$ extends S${_afterNew(){this._defaultThemes.push(IKe.new(this._root)),super._afterNew(),this.chartContainer.children.push(this.seriesContainer),this.seriesContainer.children.push(this.bulletsContainer)}_processSeries(e){super._processSeries(e),this.seriesContainer.children.moveValue(this.bulletsContainer,this.seriesContainer.children.length-1)}}Object.defineProperty(T$,"className",{enumerable:!0,configurable:!0,writable:!0,value:"PercentChart"});Object.defineProperty(T$,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:S$.classNames.concat([T$.className])});class $$ extends jv{constructor(){super(...arguments),Object.defineProperty(this,"slicesContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.children.push(qi.new(this._root,{position:"absolute",isMeasured:!1}))}),Object.defineProperty(this,"labelsContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.children.push(qi.new(this._root,{position:"absolute",isMeasured:!1}))}),Object.defineProperty(this,"ticksContainer",{enumerable:!0,configurable:!0,writable:!0,value:this.children.push(qi.new(this._root,{position:"absolute",isMeasured:!1}))}),Object.defineProperty(this,"_lLabels",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_rLabels",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"_hLabels",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"slices",{enumerable:!0,configurable:!0,writable:!0,value:this.addDisposer(this._makeSlices())}),Object.defineProperty(this,"labels",{enumerable:!0,configurable:!0,writable:!0,value:this.addDisposer(this._makeLabels())}),Object.defineProperty(this,"ticks",{enumerable:!0,configurable:!0,writable:!0,value:this.addDisposer(this._makeTicks())})}makeSlice(e){const i=this.slicesContainer.children.push(this.slices.make());return i.on("fill",()=>{this.updateLegendMarker(e)}),i.on("fillPattern",()=>{this.updateLegendMarker(e)}),i.on("stroke",()=>{this.updateLegendMarker(e)}),i._setDataItem(e),e.set("slice",i),this.slices.push(i),i}makeLabel(e){const i=this.labelsContainer.children.push(this.labels.make());return i._setDataItem(e),e.set("label",i),this.labels.push(i),i}_shouldMakeBullet(e){return e.get("value")!=null}makeTick(e){const i=this.ticksContainer.children.push(this.ticks.make());return i._setDataItem(e),e.set("tick",i),this.ticks.push(i),i}_afterNew(){this.fields.push("category","fill"),super._afterNew()}_onDataClear(){const e=this.get("colors");e&&e.reset();const i=this.get("patterns");i&&i.reset()}_prepareChildren(){if(super._prepareChildren(),this._lLabels=[],this._rLabels=[],this._hLabels=[],this._valuesDirty){let e=0,i=0,r=0,n=1/0,s=0;Ce(this._dataItems,o=>{let a=o.get("valueWorking",0);e+=a,i+=Math.abs(a)}),Ce(this._dataItems,o=>{let a=o.get("valueWorking",0);a>r&&(r=a),a<n&&(n=a),s++;let l=a/i;i==0&&(l=0),o.setRaw("valuePercentTotal",l*100)}),this.setPrivateRaw("valueLow",n),this.setPrivateRaw("valueHigh",r),this.setPrivateRaw("valueSum",e),this.setPrivateRaw("valueAverage",e/s),this.setPrivateRaw("valueAbsoluteSum",i)}}show(e){const i=Object.create(null,{show:{get:()=>super.show}});return fa(this,void 0,void 0,function*(){let r=[];r.push(i.show.call(this,e)),r.push(this._sequencedShowHide(!0,e)),yield Promise.all(r)})}hide(e){const i=Object.create(null,{hide:{get:()=>super.hide}});return fa(this,void 0,void 0,function*(){let r=[];r.push(i.hide.call(this,e)),r.push(this._sequencedShowHide(!1,e)),yield Promise.all(r)})}_updateChildren(){super._updateChildren(),this._valuesDirty&&Ce(this._dataItems,e=>{e.get("label").text.markDirtyText()}),(this.isDirty("legendLabelText")||this.isDirty("legendValueText"))&&Ce(this._dataItems,e=>{this.updateLegendValue(e)}),this._arrange()}_arrange(){this._arrangeDown(this._lLabels),this._arrangeUp(this._lLabels),this._arrangeDown(this._rLabels),this._arrangeUp(this._rLabels),this._arrangeLeft(this._hLabels),this._arrangeRight(this._hLabels),Ce(this.dataItems,e=>{this._updateTick(e)})}_afterChanged(){super._afterChanged(),this._arrange()}processDataItem(e){if(super.processDataItem(e),e.get("fill")==null){let i=this.get("colors");i&&e.setRaw("fill",i.next())}if(e.get("fillPattern")==null){let i=this.get("patterns");i&&e.setRaw("fillPattern",i.next())}}showDataItem(e,i){const r=Object.create(null,{showDataItem:{get:()=>super.showDataItem}});return fa(this,void 0,void 0,function*(){const n=[r.showDataItem.call(this,e,i)];pt(i)||(i=this.get("stateAnimationDuration",0));const s=this.get("stateAnimationEasing");let o=e.get("value");const a=e.animate({key:"valueWorking",to:o,duration:i,easing:s});a&&n.push(a.waitForStop());const l=e.get("tick");l&&n.push(l.show(i));const h=e.get("label");h&&n.push(h.show(i));const f=e.get("slice");f&&n.push(f.show(i)),f.get("active")&&f.states.applyAnimate("active"),yield Promise.all(n)})}hideDataItem(e,i){const r=Object.create(null,{hideDataItem:{get:()=>super.hideDataItem}});return fa(this,void 0,void 0,function*(){const n=[r.hideDataItem.call(this,e,i)],s=this.states.create("hidden",{});pt(i)||(i=s.get("stateAnimationDuration",this.get("stateAnimationDuration",0)));const o=s.get("stateAnimationEasing",this.get("stateAnimationEasing")),a=e.animate({key:"valueWorking",to:0,duration:i,easing:o});a&&n.push(a.waitForStop());const l=e.get("tick");l&&n.push(l.hide(i));const h=e.get("label");h&&n.push(h.hide(i));const f=e.get("slice");f.hideTooltip(),f&&n.push(f.hide(i)),yield Promise.all(n)})}disposeDataItem(e){super.disposeDataItem(e);let i=e.get("label");i&&(this.labels.removeValue(i),i.dispose());let r=e.get("tick");r&&(this.ticks.removeValue(r),r.dispose());let n=e.get("slice");n&&(this.slices.removeValue(n),n.dispose())}hoverDataItem(e){const i=e.get("slice");i&&!i.isHidden()&&i.hover()}unhoverDataItem(e){const i=e.get("slice");i&&i.unhover()}updateLegendMarker(e){if(e){const i=e.get("slice");if(i){const r=e.get("legendDataItem");if(r){const n=r.get("markerRectangle");Ce(bXe,s=>{i.get(s)!=null&&n.set(s,i.get(s))})}}}}_arrangeDown(e){if(e){let i=this._getNextDown();e.sort((r,n)=>r.y>n.y?1:r.y<n.y?-1:0),Ce(e,r=>{const n=r.label.adjustedLocalBounds();let s=n.top;r.y+s<i&&(r.y=i-s),r.label.set("y",r.y),i=r.y+n.bottom})}}_getNextUp(){return this.labelsContainer.maxHeight()}_getNextDown(){return 0}_arrangeUp(e){if(e){let i=this._getNextUp();e.sort((r,n)=>r.y<n.y?1:r.y>n.y?-1:0),Ce(e,r=>{const n=r.label.adjustedLocalBounds();let s=n.bottom;r.y+s>i&&(r.y=i-s),r.label.set("y",r.y),i=r.y+n.top})}}_arrangeRight(e){if(e){let i=0;e.sort((r,n)=>r.y>n.y?1:r.y<n.y?-1:0),Ce(e,r=>{const n=r.label.adjustedLocalBounds();let s=n.left;r.y+s<i&&(r.y=i-s),r.label.set("x",r.y),i=r.y+n.right})}}_arrangeLeft(e){if(e){let i=this.labelsContainer.maxWidth();e.sort((r,n)=>r.y<n.y?1:r.y>n.y?-1:0),Ce(e,r=>{const n=r.label.adjustedLocalBounds();let s=n.right;r.y+s>i&&(r.y=i-s),r.label.set("x",r.y),i=r.y+n.left})}}_updateSize(){super._updateSize(),this.markDirty()}_updateTick(e){}_dispose(){super._dispose();const e=this.chart;e&&e.series.removeValue(this)}}Object.defineProperty($$,"className",{enumerable:!0,configurable:!0,writable:!0,value:"PercentSeries"});Object.defineProperty($$,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:jv.classNames.concat([$$.className])});class k$ extends T${constructor(){super(...arguments),Object.defineProperty(this,"_maxRadius",{enumerable:!0,configurable:!0,writable:!0,value:1})}_afterNew(){super._afterNew(),this.seriesContainer.setAll({x:Bt,y:Bt})}_prepareChildren(){super._prepareChildren();const e=this.chartContainer,i=e.innerWidth(),r=e.innerHeight(),n=this.get("startAngle",0),s=this.get("endAngle",0),o=this.get("innerRadius");let a=EV(0,0,n,s,1);const l=i/(a.right-a.left),h=r/(a.bottom-a.top);let f={left:0,right:0,top:0,bottom:0};if(o instanceof ti){let w=o.value,S=Math.min(l,h);w=Math.max(S*w,S-Math.min(r,i))/S,f=EV(0,0,n,s,w),this.setPrivateRaw("irModifyer",w/o.value)}a=cXe([a,f]);const g=this._maxRadius;this._maxRadius=Math.min(l,h);const v=zn(this.get("radius",0),this._maxRadius);this.seriesContainer.setAll({dy:-v*(a.bottom+a.top)/2,dx:-v*(a.right+a.left)/2}),(this.isDirty("startAngle")||this.isDirty("endAngle")||g!=this._maxRadius)&&this.series.each(w=>{w._markDirtyKey("startAngle")}),(this.isDirty("innerRadius")||this.isDirty("radius"))&&this.series.each(w=>{w._markDirtyKey("innerRadius")})}radius(e){let i=zn(this.get("radius",0),this._maxRadius),r=zn(this.get("innerRadius",0),i);if(e){let n=this.series.indexOf(e),s=this.series.length,o=e.get("radius");return o!=null?r+zn(o,i-r):r+(i-r)/s*(n+1)}return i}innerRadius(e){const i=this.radius();let r=zn(this.get("innerRadius",0),i);if(r<0&&(r=i+r),e){let n=this.series.indexOf(e),s=this.series.length,o=e.get("innerRadius");return o!=null?r+zn(o,i-r):r+(i-r)/s*n}return r}_updateSize(){super._updateSize(),this.markDirtyKey("radius")}}Object.defineProperty(k$,"className",{enumerable:!0,configurable:!0,writable:!0,value:"PieChart"});Object.defineProperty(k$,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:T$.classNames.concat([k$.className])});class E$ extends $${_makeSlices(){return new bm(al.new({}),()=>dP._new(this._root,{themeTags:tl(this.slices.template.get("themeTags",[]),["pie","series"])},[this.slices.template]))}_makeLabels(){return new bm(al.new({}),()=>cP._new(this._root,{themeTags:tl(this.labels.template.get("themeTags",[]),["pie","series"])},[this.labels.template]))}_makeTicks(){return new bm(al.new({}),()=>hP._new(this._root,{themeTags:tl(this.ticks.template.get("themeTags",[]),["pie","series"])},[this.ticks.template]))}processDataItem(e){super.processDataItem(e);const i=this.makeSlice(e);i.on("scale",()=>{this._updateTick(e)}),i.on("shiftRadius",()=>{this._updateTick(e)}),i.events.on("positionchanged",()=>{this._updateTick(e)});const r=this.makeLabel(e);r.events.on("positionchanged",()=>{this._updateTick(e)}),this.makeTick(e),i.events.on("positionchanged",()=>{r.markDirty()})}_getNextUp(){const e=this.chart;return e?e._maxRadius:this.labelsContainer.maxHeight()/2}_getNextDown(){const e=this.chart;return e?-e._maxRadius:-this.labelsContainer.maxHeight()/2}_prepareChildren(){super._prepareChildren();const e=this.chart;if(e){if(this.isDirty("alignLabels")){let i=this.labels.template;if(this.get("alignLabels"))i.set("textType","aligned");else{let r=i.get("textType");(r==null||r=="aligned")&&i.set("textType","adjusted")}}if(this._valuesDirty||this.isDirty("radius")||this.isDirty("innerRadius")||this.isDirty("startAngle")||this.isDirty("endAngle")||this.isDirty("alignLabels")){this.markDirtyBounds();const i=this.get("startAngle",e.get("startAngle",-90)),n=this.get("endAngle",e.get("endAngle",270))-i;let s=i;const o=e.radius(this);this.setPrivateRaw("radius",o);let a=e.innerRadius(this)*e.getPrivate("irModifyer",1);a<0&&(a=o+a),Ce(this._dataItems,l=>{this.updateLegendValue(l);let h=n*l.get("valuePercentTotal")/100;const f=l.get("slice");if(f){f.set("radius",o),f.set("innerRadius",a),f.set("startAngle",s),f.set("arc",h);const w=l.get("fill");f._setDefault("fill",w),f._setDefault("stroke",w);const S=l.get("fillPattern");f._setDefault("fillPattern",S)}let g=y7(s+h/2);const v=l.get("label");if(v&&(v.setPrivate("radius",o),v.setPrivate("innerRadius",a),v.set("labelAngle",g),v.get("textType")=="aligned")){let w=o+v.get("radius",0),S=o*ic(g);g>90&&g<=270?(!v.isHidden()&&!v.isHiding()&&this._lLabels.push({label:v,y:S}),w*=-1,w-=this.labelsContainer.get("paddingLeft",0),v.set("centerX",Qt),v.setPrivateRaw("left",!0)):(!v.isHidden()&&!v.isHiding()&&this._rLabels.push({label:v,y:S}),w+=this.labelsContainer.get("paddingRight",0),v.set("centerX",0),v.setPrivateRaw("left",!1)),v.set("x",w),v.set("y",o*ic(g))}s+=h,this._updateTick(l)})}}}_updateTick(e){const i=e.get("tick"),r=e.get("label"),n=e.get("slice"),s=i.get("location",1);if(i&&r&&n){const o=(n.get("shiftRadius",0)+n.get("radius",0))*n.get("scale",1)*s,a=r.get("labelAngle",0),l=Ad(a),h=ic(a),f=this.labelsContainer,g=f.get("paddingLeft",0),v=f.get("paddingRight",0);let w=0,S=0;w=r.x(),S=r.y();let T=[];if(w!=0||S!=0){if(r.get("textType")=="circular"){const I=r.radius()-r.get("paddingBottom",0),A=r.get("labelAngle",0);w=I*Ad(A),S=I*ic(A)}let C=-v;r.getPrivate("left")&&(C=g),T=[{x:n.x()+o*l,y:n.y()+o*h},{x:w+C,y:S},{x:w,y:S}]}i.set("points",T)}}_positionBullet(e){const i=e.get("sprite");if(i){const n=i.dataItem.get("slice");if(n){const s=n.get("innerRadius",0),o=n.get("radius",0),a=n.get("startAngle",0),l=n.get("arc",0),h=e.get("locationX",.5),f=e.get("locationY",.5),g=a+l*h,v=s+(o-s)*f;i.setAll({x:Ad(g)*v,y:ic(g)*v})}}}}Object.defineProperty(E$,"className",{enumerable:!0,configurable:!0,writable:!0,value:"PieSeries"});Object.defineProperty(E$,"classNames",{enumerable:!0,configurable:!0,writable:!0,value:$$.classNames.concat([E$.className])});class CKe extends V3{setupDefaultRules(){super.setupDefaultRules(),this.rule("Component").setAll({interpolationDuration:600}),this.rule("Hierarchy").set("animationDuration",600),this.rule("Scrollbar").set("animationDuration",600),this.rule("Tooltip").set("animationDuration",300),this.rule("MapChart").set("animationDuration",1e3),this.rule("MapChart").set("wheelDuration",300),this.rule("Entity").setAll({stateAnimationDuration:600}),this.rule("Sprite").states.create("default",{stateAnimationDuration:600}),this.rule("Tooltip",["axis"]).setAll({animationDuration:200}),this.rule("WordCloud").set("animationDuration",500),this.rule("Polygon").set("animationDuration",600),this.rule("ArcDiagram").set("animationDuration",600)}}class Ue extends V3{constructor(e,i){super(e,i),Object.defineProperty(this,"_dp",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"responsiveRules",{enumerable:!0,configurable:!0,writable:!0,value:[]}),this._dp=new da([this._root._rootContainer.onPrivate("width",r=>{this._isUsed()&&this._maybeApplyRules()}),this._root._rootContainer.onPrivate("height",r=>{this._isUsed()&&this._maybeApplyRules()})])}static widthXXS(e,i){return e<=Ue.XXS}static widthXS(e,i){return e<=Ue.XS}static widthS(e,i){return e<=Ue.S}static widthM(e,i){return e<=Ue.M}static widthL(e,i){return e<=Ue.L}static widthXL(e,i){return e<=Ue.XL}static widthXXL(e,i){return e<=Ue.XXL}static heightXXS(e,i){return i<=Ue.XXS}static heightXS(e,i){return i<=Ue.XS}static heightS(e,i){return i<=Ue.S}static heightM(e,i){return i<=Ue.M}static heightL(e,i){return i<=Ue.L}static heightXL(e,i){return i<=Ue.XL}static heightXXL(e,i){return i<=Ue.XXL}static isXXS(e,i){return e<=Ue.XXS&&i<=Ue.XXS}static isXS(e,i){return e<=Ue.XS&&i<=Ue.XS}static isS(e,i){return e<=Ue.S&&i<=Ue.S}static isM(e,i){return e<=Ue.M&&i<=Ue.M}static isL(e,i){return e<=Ue.L&&i<=Ue.L}static isXL(e,i){return e<=Ue.XL&&i<=Ue.XL}static isXXL(e,i){return e<=Ue.XXL&&i<=Ue.XXL}static maybeXXS(e,i){return e<=Ue.XXS||i<=Ue.XXS}static maybeXS(e,i){return e<=Ue.XS||i<=Ue.XS}static maybeS(e,i){return e<=Ue.S||i<=Ue.S}static maybeM(e,i){return e<=Ue.M||i<=Ue.M}static maybeL(e,i){return e<=Ue.L||i<=Ue.L}static maybeXL(e,i){return e<=Ue.XL||i<=Ue.XL}static maybeXXL(e,i){return e<=Ue.XXL||i<=Ue.XXL}static newEmpty(e){return new this(e,!0)}addRule(e){return e.name&&!e.template&&(e.template=this.rule(e.name,e.tags)),this.responsiveRules.push(e),this._maybeApplyRule(e),e}removeRule(e){gp(this.responsiveRules,e)}dispose(){this._dp&&this._dp.dispose()}_isUsed(){return this._root._rootContainer.get("themes").indexOf(this)!==-1}_maybeApplyRules(){Ce(this.responsiveRules,e=>{this._maybeUnapplyRule(e)}),Ce(this.responsiveRules,e=>{this._maybeApplyRule(e)})}_maybeApplyRule(e){if(e.applied)return;const i=this._root._rootContainer.getPrivate("width"),r=this._root._rootContainer.getPrivate("height");e.relevant.call(e,i,r)&&(e.applied=!0,e.template&&e.settings&&e.template.setAll(e.settings),e.applying&&e.applying.call(e))}_maybeUnapplyRule(e){if(!e.applied)return;const i=this._root._rootContainer.getPrivate("width"),r=this._root._rootContainer.getPrivate("height");e.relevant.call(e,i,r)||(e.applied=!1,e.template&&e.template.removeAll(),e.removing&&e.removing.call(e))}setupDefaultRules(){super.setupDefaultRules();const e=i=>this.addRule(i);e({name:"Chart",relevant:Ue.widthXXS,settings:{paddingLeft:0,paddingRight:0}}),e({name:"Chart",relevant:Ue.heightXXS,settings:{paddingTop:0,paddingBottom:0}}),e({name:"Bullet",relevant:Ue.isXS,settings:{forceHidden:!0}}),e({name:"Legend",relevant:Ue.isXS,settings:{forceHidden:!0}}),e({name:"HeatLegend",tags:["vertical"],relevant:Ue.widthXS,settings:{forceHidden:!0}}),e({name:"HeatLegend",tags:["horizontal"],relevant:Ue.heightXS,settings:{forceHidden:!0}}),e({name:"Label",tags:["heatlegend","start"],relevant:Ue.maybeXS,settings:{forceHidden:!0}}),e({name:"Label",tags:["heatlegend","end"],relevant:Ue.maybeXS,settings:{forceHidden:!0}}),e({name:"Button",tags:["resize"],relevant:Ue.maybeXS,settings:{forceHidden:!0}}),e({name:"AxisRendererX",relevant:Ue.heightXS,settings:{inside:!0}}),e({name:"AxisRendererY",relevant:Ue.widthXS,settings:{inside:!0}}),e({name:"AxisRendererXLabel",relevant:Ue.heightXS,settings:{minPosition:.1,maxPosition:.9}}),e({name:"AxisLabel",tags:["y"],relevant:Ue.widthXS,settings:{centerY:Qt,maxPosition:.9}}),e({name:"AxisLabel",tags:["x"],relevant:Ue.heightXXS,settings:{forceHidden:!0}}),e({name:"AxisLabel",tags:["x","minor"],relevant:Ue.widthXXL,settings:{forceHidden:!0}}),e({name:"AxisLabel",tags:["y"],relevant:Ue.widthXXS,settings:{forceHidden:!0}}),e({name:"AxisLabel",tags:["y","minor"],relevant:Ue.heightXXL,settings:{forceHidden:!0}}),e({name:"AxisTick",tags:["x"],relevant:Ue.heightXS,settings:{inside:!0,minPosition:.1,maxPosition:.9}}),e({name:"AxisTick",tags:["y"],relevant:Ue.widthXXS,settings:{inside:!0,minPosition:.1,maxPosition:.9}}),e({name:"Grid",relevant:Ue.maybeXXS,settings:{forceHidden:!0}}),e({name:"RadialLabel",tags:["radial"],relevant:Ue.maybeXS,settings:{forceHidden:!0}}),e({name:"RadialLabel",tags:["circular"],relevant:Ue.maybeS,settings:{inside:!0}}),e({name:"AxisTick",relevant:Ue.maybeS,settings:{inside:!0}}),e({name:"RadialLabel",tags:["circular"],relevant:Ue.maybeXS,settings:{forceHidden:!0}}),e({name:"AxisTick",tags:["circular"],relevant:Ue.maybeXS,settings:{inside:!0}}),e({name:"PieChart",relevant:Ue.maybeXS,settings:{radius:lo(99)}}),e({name:"PieChart",relevant:Ue.widthM,settings:{radius:lo(99)}}),e({name:"RadialLabel",tags:["pie"],relevant:Ue.maybeXS,settings:{forceHidden:!0}}),e({name:"RadialLabel",tags:["pie"],relevant:Ue.widthM,settings:{forceHidden:!0}}),e({name:"Tick",tags:["pie"],relevant:Ue.maybeXS,settings:{forceHidden:!0}}),e({name:"Tick",tags:["pie"],relevant:Ue.widthM,settings:{forceHidden:!0}}),e({name:"FunnelSeries",relevant:Ue.widthM,settings:{alignLabels:!1}}),e({name:"Label",tags:["funnel","vertical"],relevant:Ue.widthL,settings:{forceHidden:!0}}),e({name:"Tick",tags:["funnel","vertical"],relevant:Ue.widthL,settings:{forceHidden:!0}}),e({name:"Label",tags:["funnel","horizontal"],relevant:Ue.heightS,settings:{forceHidden:!0}}),e({name:"Tick",tags:["funnel","horizontal"],relevant:Ue.heightS,settings:{forceHidden:!0}}),e({name:"PyramidSeries",relevant:Ue.widthM,settings:{alignLabels:!1}}),e({name:"Label",tags:["pyramid","vertical"],relevant:Ue.widthL,settings:{forceHidden:!0}}),e({name:"Tick",tags:["pyramid","vertical"],relevant:Ue.widthL,settings:{forceHidden:!0}}),e({name:"Label",tags:["pyramid","horizontal"],relevant:Ue.heightS,settings:{forceHidden:!0}}),e({name:"Tick",tags:["pyramid","horizontal"],relevant:Ue.heightS,settings:{forceHidden:!0}}),e({name:"PictorialStackedSeries",relevant:Ue.widthM,settings:{alignLabels:!1}}),e({name:"Label",tags:["pictorial","vertical"],relevant:Ue.widthL,settings:{forceHidden:!0}}),e({name:"Tick",tags:["pictorial","vertical"],relevant:Ue.widthL,settings:{forceHidden:!0}}),e({name:"Label",tags:["pictorial","horizontal"],relevant:Ue.heightS,settings:{forceHidden:!0}}),e({name:"Tick",tags:["pictorial","horizontal"],relevant:Ue.heightS,settings:{forceHidden:!0}}),e({name:"Label",tags:["flow","horizontal"],relevant:Ue.widthS,settings:{forceHidden:!0}}),e({name:"Label",tags:["flow","vertical"],relevant:Ue.heightS,settings:{forceHidden:!0}}),e({name:"Chord",relevant:Ue.maybeXS,settings:{radius:lo(99)}}),e({name:"Label",tags:["hierarchy","node"],relevant:Ue.maybeXS,settings:{forceHidden:!0}})}}Object.defineProperty(Ue,"XXS",{enumerable:!0,configurable:!0,writable:!0,value:100});Object.defineProperty(Ue,"XS",{enumerable:!0,configurable:!0,writable:!0,value:200});Object.defineProperty(Ue,"S",{enumerable:!0,configurable:!0,writable:!0,value:300});Object.defineProperty(Ue,"M",{enumerable:!0,configurable:!0,writable:!0,value:400});Object.defineProperty(Ue,"L",{enumerable:!0,configurable:!0,writable:!0,value:600});Object.defineProperty(Ue,"XL",{enumerable:!0,configurable:!0,writable:!0,value:800});Object.defineProperty(Ue,"XXL",{enumerable:!0,configurable:!0,writable:!0,value:1e3});function MKe(t){Ce(lu.rootElements,function(e){e.dom.id===t&&e.dispose()})}function AKe(){const t="lotPiechart",e=document.querySelector("arcgis-map"),{municipals:i,barangays:r}=Re.use(P3),[n,s]=Re.useState(),[o,a]=Re.useState([]);Re.useEffect(()=>{Ree().then(f=>{s(f)}),Lee().then(f=>{a(f[1])})},[]);const l=`Municipality = '${i}'`,h=`Barangay = '${r}'`;return i?i&&!r?As.definitionExpression=l:i&&r&&(As.definitionExpression=l+" AND "+h):As.definitionExpression="1=1",Re.useEffect(()=>{bZe(As,e),Ree(i,r).then(f=>{s(f)}),Lee(i,r).then(f=>{a(f[1])})},[i,r]),Re.useEffect(()=>{MKe(t);var f=v7.new(t);f.container.children.clear(),f._logo.dispose(),f.setThemes([CKe.new(f),Ue.new(f)]);var g=f.container.children.push(k$.new(f,{layout:f.verticalLayout})),v=g.series.push(E$.new(f,{name:"Series",categoryField:"category",valueField:"value",legendValueText:"{valuePercentTotal.formatNumber('#.')}% ({value})",radius:lo(45),innerRadius:lo(28),scale:1.8}));v.slices.template.events.on("click",S=>{var T=S.target.dataItem?.dataContext.category;const C=vZe.find(P=>P.category===T)?.value;console.log(T,": ",C);var I;const A=As.createQuery();e?.whenLayerView(As).then(P=>{As.queryFeatures(A).then(D=>{const B=D.features.length;let N=[];for(var Y=0;Y<B;Y++){var K=D.features[Y].attributes.OBJECTID;N.push(K)}var te=new ot({objectIds:N});As.queryExtent(te).then(ue=>{ue.extent&&e?.goTo(ue.extent)}),I&&I.remove(),I=P.highlight(N),e?.view.on("click",function(){P.filter=new t8({where:void 0}),I.remove()})}),P.filter=new t8({where:"StatusLA = "+C})})}),g.series.push(v),v.data.setAll(o),v.slices.template.setAll({toggleKey:"none",fillOpacity:.9,stroke:yp("#ffffff"),strokeWidth:.5,strokeOpacity:1,templateField:"sliceSettings",tooltipText:'{category}: {valuePercentTotal.formatNumber("#.")}%'}),v.labels.template.set("visible",!1),v.ticks.template.set("visible",!1);var w=g.children.push(aP.new(f,{centerX:lo(50),x:lo(50),scale:.9}));return w.data.setAll(v.dataItems),w.markers.template.setAll({width:18,height:18}),w.markerRectangles.template.setAll({cornerRadiusTL:10,cornerRadiusTR:10,cornerRadiusBL:10,cornerRadiusBR:10}),w.labels.template.setAll({oversizedBehavior:"truncate",fill:yp("#ffffff"),width:250,maxWidth:270}),w.valueLabels.template.setAll({textAlign:"right",fill:yp("#ffffff")}),w.itemContainers.template.setAll({paddingTop:3,paddingBottom:1}),()=>{f.dispose()}},[t,o]),ii.jsxs(ii.Fragment,{children:[ii.jsx("div",{style:{fontSize:"50px",color:"white"},children:n}),ii.jsx("div",{id:t,style:{height:"60vh",backgroundColor:"rgb(0,0,0,0)",color:"white"}})]})}const h0={container:"container",actionsStart:"actions-start",contentStart:"content-start",content:"content",contentEnd:"content-end",actionsEnd:"actions-end"},Lw={actionsStart:"actions-start",contentStart:"content-start",contentEnd:"content-end",actionsEnd:"actions-end"};const OKe=vi`:host{--calcite-internal-color-focus: var( --calcite-color-focus, var(--calcite-ui-focus-color, var(--calcite-color-brand)) )}:host([disabled]) .content{cursor:default;-webkit-user-select:none;user-select:none;opacity:var(--calcite-opacity-disabled)}:host([disabled]) .content *,:host([disabled]) .content ::slotted(*){pointer-events:none}:host{display:flex;flex:1 1 0%;flex-direction:column}.container{display:flex;flex:1 1 auto;align-items:stretch;font-weight:var(--calcite-font-weight-normal);color:var(--calcite-color-text-2)}.content{display:flex;flex:1 1 auto;flex-direction:column;justify-content:center;font-size:var(--calcite-font-size--2);line-height:1.375;padding-inline:var(--calcite-stack-padding-inline, .75rem);padding-block:var(--calcite-stack-padding-block, .5rem)}.content-start{justify-content:flex-start}.content-end{justify-content:flex-end}.content-start,.content-end{flex:0 1 auto}.content-start ::slotted(calcite-icon),.content-end ::slotted(calcite-icon){margin-inline:.75rem;align-self:center}.actions-start,.actions-end,.content-start,.content-end{display:flex;align-items:center}.actions-start ::slotted(calcite-action),.actions-start ::slotted(calcite-action-menu),.actions-start ::slotted(calcite-handle),.actions-start ::slotted(calcite-dropdown),.actions-end ::slotted(calcite-action),.actions-end ::slotted(calcite-action-menu),.actions-end ::slotted(calcite-handle),.actions-end ::slotted(calcite-dropdown){align-self:stretch;color:inherit}:host([hidden]){display:none}[hidden]{display:none}`,GP=class GP extends wi{constructor(){super(...arguments),this.hasActionsEnd=!1,this.hasActionsStart=!1,this.hasContentEnd=!1,this.hasContentStart=!1,this.disabled=!1}handleActionsStartSlotChange(e){this.hasActionsStart=ri(e)}handleActionsEndSlotChange(e){this.hasActionsEnd=ri(e)}handleContentStartSlotChange(e){this.hasContentStart=ri(e)}handleContentEndSlotChange(e){this.hasContentEnd=ri(e)}renderActionsStart(){const{hasActionsStart:e}=this;return vt("actions-start-container",de`<div class=${ce(h0.actionsStart)} .hidden=${!e}><slot name=${Lw.actionsStart} @slotchange=${this.handleActionsStartSlotChange}></slot></div>`)}renderActionsEnd(){const{hasActionsEnd:e}=this;return vt("actions-end-container",de`<div class=${ce(h0.actionsEnd)} .hidden=${!e}><slot name=${Lw.actionsEnd} @slotchange=${this.handleActionsEndSlotChange}></slot></div>`)}renderContentStart(){const{hasContentStart:e}=this;return de`<div class=${ce(h0.contentStart)} .hidden=${!e}><slot name=${Lw.contentStart} @slotchange=${this.handleContentStartSlotChange}></slot></div>`}renderDefaultContent(){return de`<div class=${ce(h0.content)}><slot></slot></div>`}renderContentEnd(){const{hasContentEnd:e}=this;return de`<div class=${ce(h0.contentEnd)} .hidden=${!e}><slot name=${Lw.contentEnd} @slotchange=${this.handleContentEndSlotChange}></slot></div>`}render(){return de`<div class=${ce(h0.container)}>${this.renderActionsStart()}${this.renderContentStart()}${this.renderDefaultContent()}${this.renderContentEnd()}${this.renderActionsEnd()}</div>`}};GP.properties={hasActionsEnd:[16,{},{state:!0}],hasActionsStart:[16,{},{state:!0}],hasContentEnd:[16,{},{state:!0}],hasContentStart:[16,{},{state:!0}],disabled:[7,{},{reflect:!0,type:Boolean}]},GP.styles=OKe;let OV=GP;Pi("calcite-stack",OV);const Ste={valid:"check-circle",invalid:"exclamation-mark-triangle",idle:"information"},PKe=vi`:host{--calcite-internal-color-focus: var( --calcite-color-focus, var(--calcite-ui-focus-color, var(--calcite-color-brand)) )}:host{box-sizing:border-box;display:flex;block-size:auto;inline-size:100%;align-items:center;font-weight:var(--calcite-font-weight-medium);color:var(--calcite-color-text-1);opacity:1;transition-property:background-color,block-size,border-color,box-shadow,color,inset-block-end,inset-block-start,inset-inline-end,inset-inline-start,inset-size,opacity,outline-color,transform;transition-duration:var(--calcite-animation-timing);transition-timing-function:ease-in-out;margin-block-start:var(--calcite-input-message-spacing, var(--calcite-input-message-spacing-value, var(--calcite-spacing-xxs)))}.calcite-input-message-icon{pointer-events:none;display:inline-flex;flex-shrink:0;transition-property:background-color,block-size,border-color,box-shadow,color,inset-block-end,inset-block-start,inset-inline-end,inset-inline-start,inset-size,opacity,outline-color,transform;transition-duration:var(--calcite-animation-timing);transition-timing-function:ease-in-out;margin-inline-end:var(--calcite-spacing-sm)}:host([status=invalid]) .calcite-input-message-icon{color:var(--calcite-input-message-icon-color, var(--calcite-icon-color, var(--calcite-color-status-danger)))}:host([status=valid]) .calcite-input-message-icon{color:var(--calcite-input-message-icon-color, var(--calcite-icon-color, var(--calcite-color-status-success)))}:host([status=idle]) .calcite-input-message-icon{color:var(--calcite-input-message-icon-color, var(--calcite-icon-color, var(--calcite-color-brand)))}:host([scale=s]){font-size:var(--calcite-font-size--3);line-height:.75rem}:host([scale=m]){font-size:var(--calcite-font-size--2);line-height:1rem}:host([scale=l]){font-size:var(--calcite-font-size--1);line-height:1rem}:host([hidden]){display:none}[hidden]{display:none}`,DKe={inputMessageIcon:"calcite-input-message-icon"},WP=class WP extends wi{constructor(){super(...arguments),this.iconFlipRtl=!1,this.scale="m",this.status="idle"}connectedCallback(){super.connectedCallback(),this.requestedIcon=L2(Ste,this.icon,this.status)}willUpdate(e){(e.has("status")&&(this.hasUpdated||this.status!=="idle")||e.has("icon"))&&(this.requestedIcon=L2(Ste,this.icon,this.status))}render(){const e=this.el.hidden;return $p(this.el,"calcite-hydrated-hidden",e),de`${this.renderIcon(this.requestedIcon)}<slot></slot>`}renderIcon(e){if(e)return de`<calcite-icon class=${ce(DKe.inputMessageIcon)} .flipRtl=${this.iconFlipRtl} .icon=${e} scale=s></calcite-icon>`}};WP.properties={icon:[3,{converter:B_},{reflect:!0}],iconFlipRtl:[7,{},{reflect:!0,type:Boolean}],scale:[3,{},{reflect:!0}],status:[3,{},{reflect:!0}]},WP.styles=PKe;let fP=WP;Pi("calcite-input-message",fP);const jft=Object.freeze(Object.defineProperty({__proto__:null,InputMessage:fP},Symbol.toStringTag,{value:"Module"}));const RKe=vi`:host{--calcite-internal-color-focus: var( --calcite-color-focus, var(--calcite-ui-focus-color, var(--calcite-color-brand)) )}:host{position:relative;display:block;inline-size:100%}.track,.bar{position:absolute;inset-block-start:0px;block-size:2px}.track{z-index:var(--calcite-z-index);inline-size:100%;overflow:hidden;background-color:var(--calcite-progress-background-color, var(--calcite-color-border-3))}.bar{z-index:var(--calcite-z-index);background-color:var(--calcite-progress-fill-color, var(--calcite-color-brand))}@media (forced-colors: active){.track{background-color:highlightText}.bar{background-color:linkText}}.indeterminate{inline-size:20%;animation:looping-progress-bar-ani calc(var(--calcite-internal-animation-timing-medium) / var(--calcite-internal-duration-factor) * 11 / var(--calcite-internal-duration-factor)) linear infinite}.indeterminate.calcite--rtl{animation-name:looping-progress-bar-ani-rtl}.reversed{animation-direction:reverse}.text{padding-inline:0px;padding-block:1rem 0px;text-align:center;font-size:var(--calcite-font-size--2);line-height:1rem;font-weight:var(--calcite-font-weight-medium);color:var(--calcite-progress-text-color, var(--calcite-color-text-2))}@keyframes looping-progress-bar-ani{0%{transform:translate3d(-100%,0,0)}50%{inline-size:40%}to{transform:translate3d(600%,0,0)}}@keyframes looping-progress-bar-ani-rtl{0%{transform:translate3d(100%,0,0)}50%{inline-size:40%}to{transform:translate3d(-600%,0,0)}}:host([hidden]){display:none}[hidden]{display:none}`,SN={track:"track",bar:"bar",text:"text"},YP=class YP extends wi{constructor(){super(...arguments),this.reversed=!1,this.type="determinate",this.value=0}render(){const e=this.type==="determinate",i=e?{width:`${this.value}%`}:{},r=pl(this.el);return de`<div .ariaLabel=${this.label||this.text} .ariaValueMax=${e?"100":void 0} .ariaValueMin=${e?"0":void 0} .ariaValueNow=${e?this.value:void 0} role=progressbar><div class=${ce(SN.track)}><div class=${ce({[SN.bar]:!0,indeterminate:this.type==="indeterminate",[sl.rtl]:r==="rtl",reversed:this.reversed})} style=${lU(i)}></div></div>${this.text?de`<div class=${ce(SN.text)}>${this.text}</div>`:null}</div>`}};YP.properties={label:1,reversed:[7,{},{reflect:!0,type:Boolean}],text:1,type:[3,{},{reflect:!0}],value:[9,{},{type:Number}]},YP.styles=RKe;let PV=YP;Pi("calcite-progress",PV);const Nf={alignmentCenter:"internal-label-alignment--center",alignmentEnd:"internal-label-alignment--end",container:"internal-label--container",requiredIndicator:"internal-label-required--indicator",spacingBottom:"internal-label-spacing--bottom",spacingInlineEnd:"internal-label-spacing-inline--end",spacingInlineStart:"internal-label-spacing-inline--start",text:"internal-label--text"},LKe=({alignmentCenter:t,bottomSpacingDisabled:e,labelText:i,onClick:r,required:n,spacingInlineEnd:s,spacingInlineStart:o,tooltipText:a})=>de`<div class=${ce({[Nf.alignmentCenter]:t,[Nf.alignmentEnd]:!t,[Nf.container]:!0,[Nf.spacingBottom]:!e,[Nf.spacingInlineEnd]:s,[Nf.spacingInlineStart]:o})} @click=${r}><div class=${ce(Nf.text)}>${i}${n&&de`<span aria-hidden=true class=${ce(Nf.requiredIndicator)} title=${a??Ye}>*</span>`||""}</div><slot name=label-content></slot></div>`;const zKe={validationContainer:"validation-container"},NKe=()=>{},jKe=({scale:t,status:e,id:i,icon:r,message:n,ref:s})=>de`<div class=${ce(zKe.validationContainer)} ${Ut(s||NKe)}><calcite-input-message aria-live=polite .icon=${r} id=${i} .scale=${t} .status=${e}>${n}</calcite-input-message></div>`;const FKe=["date","datetime-local","month","number","range","time","week"],VKe=["email","password","search","tel","text","url"],UKe=["email","password","search","tel","text","textarea","url"];function p0(t,e,i,r){const n=i.toLowerCase(),s=t[i];r&&s!=null?e.setAttribute(n,`${s}`):e.removeAttribute(n)}function BKe(t,e,i){i.type=t==="textarea"?"text":t;const r=FKe.includes(t),n=e;p0(n,i,"min",r),p0(n,i,"max",r),p0(n,i,"step",r);const s=UKe.includes(t),o=e;p0(o,i,"minLength",s),p0(o,i,"maxLength",s);const a=VKe.includes(t);p0(o,i,"pattern",a)}const xs={loader:"loader",clearButton:"clear-button",editingEnabled:"editing-enabled",inlineChild:"inline-child",inputIcon:"icon",prefix:"prefix",suffix:"suffix",numberButtonWrapper:"number-button-wrapper",buttonItemHorizontal:"number-button-item--horizontal",wrapper:"element-wrapper",inputWrapper:"wrapper",actionWrapper:"action-wrapper",numberButtonItem:"number-button-item",hasSuffix:"has-suffix",hasPrefix:"has-prefix"},TN={validationMessage:"inputValidationMessage"},Tte={tel:"phone",password:"lock",email:"email-address",date:"calendar",time:"clock",search:"search"},HKe={action:"action"},$te={up:"up",down:"down"},$N={chevronUp:"chevron-up",chevronDown:"chevron-down",close:"x"},qKe=vi`:host{--calcite-internal-color-focus: var( --calcite-color-focus, var(--calcite-ui-focus-color, var(--calcite-color-brand)) )}:host([disabled]){cursor:default;-webkit-user-select:none;user-select:none;opacity:var(--calcite-opacity-disabled)}:host([disabled]) *,:host([disabled]) ::slotted(*){pointer-events:none}:host{display:block}:host([scale=s]) input,:host([scale=s]) .prefix,:host([scale=s]) .suffix{block-size:1.5rem;padding-inline:.5rem;font-size:var(--calcite-font-size--2);line-height:1rem}:host([scale=s]) input[type=file],:host([scale=s]) textarea{min-block-size:1.5rem}:host([scale=s]) .number-button-wrapper,:host([scale=s]) .action-wrapper{block-size:1.5rem}:host([scale=s]) .clear-button{min-block-size:1.5rem;min-inline-size:1.5rem}:host([scale=s]) textarea{block-size:auto;padding-block:.25rem;padding-inline:.5rem;font-size:var(--calcite-font-size--2);line-height:1rem}:host([scale=m]) input,:host([scale=m]) .prefix,:host([scale=m]) .suffix{block-size:2rem;padding-inline:.75rem;font-size:var(--calcite-font-size--1);line-height:1rem}:host([scale=m]) textarea,:host([scale=m]) input[type=file]{min-block-size:2rem}:host([scale=m]) .number-button-wrapper,:host([scale=m]) .action-wrapper{block-size:2rem}:host([scale=m]) .clear-button{min-block-size:2rem;min-inline-size:2rem}:host([scale=m]) textarea{block-size:auto;padding-block:.5rem;padding-inline:.75rem;font-size:var(--calcite-font-size--1);line-height:1rem}:host([scale=l]) input,:host([scale=l]) .prefix,:host([scale=l]) .suffix{block-size:2.75rem;padding-inline:1rem;font-size:var(--calcite-font-size-0);line-height:1.25rem}:host([scale=l]) textarea,:host([scale=l]) input[type=file]{min-block-size:2.75rem}:host([scale=l]) .number-button-wrapper,:host([scale=l]) .action-wrapper{block-size:2.75rem}:host([scale=l]) .clear-button{min-block-size:2.75rem;min-inline-size:2.75rem}:host([scale=l]) textarea{block-size:auto;padding-block:.75rem;padding-inline:1rem;font-size:var(--calcite-font-size-0);line-height:1.25rem}:host([disabled]) textarea{resize:none}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}.interaction-container{display:contents}textarea,input{position:relative;margin:0;box-sizing:border-box;display:flex;max-block-size:100%;inline-size:100%;max-inline-size:100%;flex:1 1 0%;text-overflow:ellipsis;border-width:1px;border-style:solid;font-family:inherit;font-weight:var(--calcite-font-weight-normal);border-color:var(--calcite-input-border-color, var(--calcite-color-border-input));background-color:var(--calcite-input-background-color, var(--calcite-color-foreground-1));color:var(--calcite-input-text-color, var(--calcite-color-text-1));transition:var(--calcite-animation-timing),block-size 0,outline-offset 0s;-webkit-appearance:none}textarea:placeholder-shown,input:placeholder-shown{text-overflow:ellipsis}textarea{border-radius:var(--calcite-input-corner-radius, var(--calcite-corner-radius-sharp))}input{border-start-start-radius:var(--calcite-input-corner-radius, var(--calcite-corner-radius-sharp));border-start-end-radius:var(--calcite-input-corner-radius, var(--calcite-corner-radius-sharp));border-end-start-radius:var(--calcite-input-corner-radius, var(--calcite-corner-radius-sharp));border-end-end-radius:var(--calcite-input-corner-radius, var(--calcite-corner-radius-sharp))}.has-prefix input{border-start-start-radius:0;border-end-start-radius:0}.has-suffix input,.element-wrapper:has(.clear-button) input,:host([number-button-type=vertical][type=number]) input,:host([number-button-type=horizontal]) .has-suffix .suffix,:host([number-button-type=vertical][type=number]) .has-suffix .suffix,:host([number-button-type=vertical][type=number]) .clear-button,:host([number-button-type=horizontal][type=number]) .clear-button{border-start-end-radius:0;border-end-end-radius:0}:host([number-button-type=horizontal]) input{border-start-start-radius:0;border-start-end-radius:0;border-end-start-radius:0;border-end-end-radius:0}.has-prefix .prefix:first-child,:host([number-button-type=horizontal]) .number-button-item[data-adjustment=down]{border-start-start-radius:var(--calcite-input-corner-radius, var(--calcite-corner-radius-sharp));border-end-start-radius:var(--calcite-input-corner-radius, var(--calcite-corner-radius-sharp))}.has-suffix .suffix,:host([number-button-type=vertical][type=number][read-only]) .has-suffix .suffix,:host([clearable]) .clear-button,:host([number-button-type=horizontal]) .number-button-item[data-adjustment=up]{border-end-end-radius:var(--calcite-input-corner-radius, var(--calcite-corner-radius-sharp));border-start-end-radius:var(--calcite-input-corner-radius, var(--calcite-corner-radius-sharp))}:host([clearable]) .has-suffix .clear-button{border-end-end-radius:0;border-start-end-radius:0}:host([number-button-type=vertical]) .number-button-item[data-adjustment=down]{border-block-start-width:0px;border-end-end-radius:var(--calcite-input-corner-radius, var(--calcite-corner-radius-sharp))}:host([number-button-type=vertical]) .number-button-item[data-adjustment=up]{border-start-end-radius:var(--calcite-input-corner-radius, var(--calcite-corner-radius-sharp))}input[type=search]::-webkit-search-decoration{-webkit-appearance:none}input:focus,textarea:focus{border-color:var(--calcite-color-brand);color:var(--calcite-input-text-color, var(--calcite-color-text-1))}input[readonly],textarea[readonly]{font-weight:var(--calcite-font-weight-medium);background-color:var(--calcite-input-background-color, var(--calcite-color-background))}input[readonly]:focus,textarea[readonly]:focus{color:var(--calcite-input-text-color, var(--calcite-color-text-1))}textarea,input{outline-color:transparent}textarea:focus,input:focus{outline:var(--calcite-border-width-md) solid var(--calcite-color-focus, var(--calcite-ui-focus-color, var(--calcite-color-brand)));outline:var(--calcite-border-width-md) solid var(--calcite-internal-color-focus);outline-offset:calc(calc(-1 * var(--calcite-spacing-base)) * calc(1 - (2*clamp(0,var(--calcite-offset-invert-focus),1))))}:host([status=invalid]) input,:host([status=invalid]) textarea{border-color:var(--calcite-color-status-danger)}:host([status=invalid]) input:focus,:host([status=invalid]) textarea:focus{outline:var(--calcite-border-width-md) solid var(--calcite-color-status-danger);outline-offset:calc(calc(-1 * var(--calcite-spacing-base)) * calc(1 - (2*clamp(0,var(--calcite-offset-invert-focus),1))))}:host([scale=s]) .icon{inset-inline-start:.5rem}:host([scale=m]) .icon{inset-inline-start:.75rem}:host([scale=l]) .icon{inset-inline-start:1rem}:host([icon][scale=s]) input{padding-inline-start:2rem}:host([icon][scale=m]) input{padding-inline-start:2.5rem}:host([icon][scale=l]) input{padding-inline-start:3.5rem}.element-wrapper{position:relative;order:3;display:inline-flex;flex:1 1 0%;align-items:center;isolation:isolate}.icon{pointer-events:none;position:absolute;display:block;transition-property:background-color,block-size,border-color,box-shadow,color,inset-block-end,inset-block-start,inset-inline-end,inset-inline-start,inset-size,opacity,outline-color,transform;transition-duration:var(--calcite-animation-timing);transition-timing-function:ease-in-out;color:var(--calcite-input-icon-color, var(--calcite-color-text-3));z-index:var(--calcite-z-index)}input[type=text]::-ms-clear,input[type=text]::-ms-reveal{display:none;block-size:0px;inline-size:0px}input[type=search]::-webkit-search-decoration,input[type=search]::-webkit-search-cancel-button,input[type=search]::-webkit-search-results-button,input[type=search]::-webkit-search-results-decoration,input[type=date]::-webkit-clear-button,input[type=time]::-webkit-clear-button{display:none}.clear-button{pointer-events:initial;order:4;margin:0;box-sizing:border-box;display:flex;min-block-size:100%;cursor:pointer;align-items:center;justify-content:center;align-self:stretch;border-width:1px;border-style:solid;transition-property:background-color,block-size,border-color,box-shadow,color,inset-block-end,inset-block-start,inset-inline-end,inset-inline-start,inset-size,opacity,outline-color,transform;transition-duration:var(--calcite-animation-timing);transition-timing-function:ease-in-out;outline-color:transparent;border-color:var(--calcite-input-border-color, var(--calcite-color-border-input));background-color:var(--calcite-input-actions-background-color, var(--calcite-color-foreground-1));border-inline-start-width:0px}.clear-button calcite-icon{transition-property:background-color,block-size,border-color,box-shadow,color,inset-block-end,inset-block-start,inset-inline-end,inset-inline-start,inset-size,opacity,outline-color,transform;transition-duration:var(--calcite-animation-timing);transition-timing-function:ease-in-out;color:var(--calcite-input-actions-icon-color, var(--calcite-color-text-3))}.clear-button:hover{background-color:var(--calcite-input-actions-background-color-hover, var(--calcite-color-foreground-2))}.clear-button:hover calcite-icon{color:var(--calcite-input-actions-icon-color-hover, var(--calcite-color-text-1))}.clear-button:active{background-color:var(--calcite-input-actions-background-color-press, var(--calcite-color-foreground-3))}.clear-button:active calcite-icon{color:var(--calcite-input-actions-icon-color-press, var(--calcite-color-text-1))}.clear-button:focus{outline:var(--calcite-border-width-md) solid var(--calcite-color-focus, var(--calcite-ui-focus-color, var(--calcite-color-brand)));outline:var(--calcite-border-width-md) solid var(--calcite-internal-color-focus);outline-offset:calc(calc(-1 * var(--calcite-spacing-base)) * calc(1 - (2*clamp(0,var(--calcite-offset-invert-focus),1))))}.clear-button:disabled{opacity:var(--calcite-opacity-disabled)}.loader{inset-block-start:1px;inset-inline:1px;pointer-events:none;position:absolute;display:block;--calcite-progress-background-color: var(--calcite-input-loading-background-color);--calcite-progress-fill-color: var(--calcite-input-loading-fill-color)}.action-wrapper{order:7;display:flex}.prefix,.suffix{box-sizing:border-box;display:flex;block-size:auto;min-block-size:100%;-webkit-user-select:none;user-select:none;align-content:center;align-items:center;overflow-wrap:break-word;border-width:1px;border-style:solid;font-weight:var(--calcite-font-weight-medium);line-height:1;border-color:var(--calcite-input-border-color, var(--calcite-color-border-input))}.prefix{order:2;border-inline-end-width:0px;inline-size:var(--calcite-input-prefix-size, auto);background-color:var(--calcite-input-prefix-background-color, var(--calcite-color-background));color:var(--calcite-input-prefix-text-color, var(--calcite-color-text-2))}.suffix{order:5;border-inline-start-width:0px;inline-size:var(--calcite-input-suffix-size, auto);background-color:var(--calcite-input-suffix-background-color, var(--calcite-color-background));color:var(--calcite-input-suffix-text-color, var(--calcite-color-text-2))}:host([alignment=start]) textarea,:host([alignment=start]) input{text-align:start}:host([alignment=end]) textarea,:host([alignment=end]) input{text-align:end}input[type=number]{-moz-appearance:textfield}input[type=number]::-webkit-inner-spin-button,input[type=number]::-webkit-outer-spin-button{-webkit-appearance:none;-moz-appearance:textfield;margin:0}.number-button-wrapper{pointer-events:none;order:6;box-sizing:border-box;display:flex;flex-direction:column;transition-property:background-color,block-size,border-color,box-shadow,color,inset-block-end,inset-block-start,inset-inline-end,inset-inline-start,inset-size,opacity,outline-color,transform;transition-duration:var(--calcite-animation-timing);transition-timing-function:ease-in-out}:host([number-button-type=vertical]) .wrapper{flex-direction:row;display:flex}:host([number-button-type=vertical]) input,:host([number-button-type=vertical]) textarea{order:2}:host([number-button-type=horizontal]) .calcite--rtl .number-button-item[data-adjustment=down] calcite-icon{transform:rotate(-90deg)}:host([number-button-type=horizontal]) .calcite--rtl .number-button-item[data-adjustment=up] calcite-icon{transform:rotate(-90deg)}.number-button-item.number-button-item--horizontal{border-color:var(--calcite-input-border-color, var(--calcite-color-border-input));order:1;max-block-size:100%;min-block-size:100%;align-self:stretch;border-width:1px;border-style:solid}.number-button-item.number-button-item--horizontal[data-adjustment=down] calcite-icon,.number-button-item.number-button-item--horizontal[data-adjustment=up] calcite-icon{transform:rotate(90deg)}.number-button-item.number-button-item--horizontal[data-adjustment=down]{border-inline-end-width:0px}.number-button-item.number-button-item--horizontal[data-adjustment=up]{border-inline-start-width:0px;order:5}.number-button-item{max-block-size:50%;min-block-size:50%;pointer-events:initial;margin:0;box-sizing:border-box;display:flex;cursor:pointer;align-items:center;align-self:center;border-width:1px;border-style:solid;background-color:var(--calcite-color-foreground-1);padding-block:0px;padding-inline:.5rem;transition-property:background-color,block-size,border-color,box-shadow,color,inset-block-end,inset-block-start,inset-inline-end,inset-inline-start,inset-size,opacity,outline-color,transform;transition-duration:var(--calcite-animation-timing);transition-timing-function:ease-in-out;border-color:var(--calcite-input-border-color, var(--calcite-color-border-input));background-color:var(--calcite-input-actions-background-color, var(--calcite-color-foreground-1));border-inline-start-width:0px}.number-button-item calcite-icon{pointer-events:none;transition-property:background-color,block-size,border-color,box-shadow,color,inset-block-end,inset-block-start,inset-inline-end,inset-inline-start,inset-size,opacity,outline-color,transform;transition-duration:var(--calcite-animation-timing);transition-timing-function:ease-in-out;color:var(--calcite-input-actions-icon-color, var(--calcite-color-text-3))}.number-button-item:hover{background-color:var(--calcite-input-actions-background-color-hover, var(--calcite-color-foreground-2))}.number-button-item:hover calcite-icon{color:var(--calcite-input-actions-icon-color-hover, var(--calcite-color-text-1))}.number-button-item:active{background-color:var(--calcite-input-actions-background-color-press, var(--calcite-color-foreground-3))}.number-button-item:active calcite-icon{color:var(--calcite-input-actions-icon-color-press, var(--calcite-color-text-1))}.number-button-item:disabled{pointer-events:none}.wrapper{position:relative;display:flex;flex-direction:row;align-items:center;border-radius:var(--calcite-input-corner-radius, var(--calcite-corner-radius-sharp));box-shadow:var(--calcite-input-shadow, var(--calcite-shadow-none))}input[type=date]::-webkit-input-placeholder{visibility:hidden!important}:host([type=color]) input{padding:.25rem}:host([type=file]) input{cursor:pointer;border-width:1px;border-style:dashed;background-color:var(--calcite-color-foreground-1);text-align:center;border-color:var(--calcite-input-border-color, var(--calcite-color-border-input));block-size:initial}:host([type=file][scale=s]) input{padding-block:1px;padding-inline:.5rem}:host([type=file][scale=m]) input{padding-block:.25rem;padding-inline:.75rem}:host([type=file][scale=l]) input{padding-block:.5rem;padding-inline:1rem}:host(.no-bottom-border) input{border-block-end-width:0px}:host(.border-top-color-one) input{border-block-start-color:var(--calcite-color-border-1)}input.inline-child{background-color:transparent;transition-property:background-color,block-size,border-color,box-shadow,color,inset-block-end,inset-block-start,inset-inline-end,inset-inline-start,inset-size,opacity,outline-color,transform;transition-duration:var(--calcite-animation-timing);transition-timing-function:ease-in-out}input.inline-child .editing-enabled{background-color:inherit}input.inline-child:not(.editing-enabled){display:flex;cursor:pointer;text-overflow:ellipsis;border-color:transparent;padding-inline-start:0}:host([type=datetime-local]) .element-wrapper{inline-size:100%}:host([type=datetime-local]) .element-wrapper input{display:inline-block;min-inline-size:0}.internal-label-alignment--center{align-items:center}.internal-label-alignment--end{align-items:end}.internal-label--container{display:flex;justify-content:space-between;color:var(--calcite-color-text-1)}.internal-label-required--indicator{font-weight:var(--calcite-font-weight-medium);color:var(--calcite-color-status-danger);padding-inline:var(--calcite-spacing-base)}.internal-label-required--indicator:hover{cursor:help}.internal-label--text{line-height:1}:host([scale=s]) .internal-label-spacing--bottom{margin-block-end:var(--calcite-spacing-xxs)}:host([scale=s]) .internal-label-spacing-inline--end{margin-inline-end:var(--calcite-spacing-sm)}:host([scale=s]) .internal-label-spacing-inline--start{margin-inline-start:var(--calcite-spacing-sm)}:host([scale=s]) .internal-label--text{font-size:var(--calcite-font-size--2)}:host([scale=m]) .internal-label-spacing--bottom{margin-block-end:var(--calcite-spacing-sm)}:host([scale=m]) .internal-label-spacing-inline--end{margin-inline-end:var(--calcite-spacing-sm)}:host([scale=m]) .internal-label-spacing-inline--start{margin-inline-start:var(--calcite-spacing-sm)}:host([scale=m]) .internal-label--text{font-size:var(--calcite-font-size--1)}:host([scale=l]) .internal-label-spacing--bottom{margin-block-end:var(--calcite-spacing-sm)}:host([scale=l]) .internal-label-spacing-inline--end{margin-inline-end:var(--calcite-spacing-md)}:host([scale=l]) .internal-label-spacing-inline--start{margin-inline-start:var(--calcite-spacing-md)}:host([scale=l]) .internal-label--text{font-size:var(--calcite-font-size-0)}.validation-container{display:flex;flex-direction:column;align-items:flex-start;align-self:stretch}:host([scale=m]) .validation-container,:host([scale=l]) .validation-container{padding-block-start:.5rem}:host([scale=s]) .validation-container{padding-block-start:.25rem}::slotted(input[slot=hidden-form-input]){margin:0!important;opacity:0!important;outline:none!important;padding:0!important;position:absolute!important;inset:0!important;transform:none!important;-webkit-appearance:none!important;z-index:-1!important}:host([hidden]){display:none}[hidden]{display:none}::placeholder{font-weight:var(--calcite-font-weight-normal);color:var(--calcite-input-placeholder-text-color, var(--calcite-color-text-3))}`,ZP=class ZP extends wi{constructor(){super(),this.actionWrapperRef=kr(),this.attributeWatch=gae(["autofocus","enterkeyhint","inputmode","spellcheck"],this.handleGlobalAttributesChanged),this.childRef=kr(),this.childElType="input",this.childNumberRef=kr(),this.inputWrapperRef=kr(),this.onHiddenFormInputInput=e=>{e.target.name===this.name&&this.setValue({value:e.target.value,origin:"direct"}),this.setFocus(),e.stopPropagation()},this.previousValueOrigin="initial",this.userChangedValue=!1,this._value="",this.messages=ds(),this.focusSetter=Ns()(this),this.slottedActionElDisabledInternally=!1,this.alignment="start",this.clearable=!1,this.disabled=!1,this.editingEnabled=!1,this.groupSeparator=!1,this.iconFlipRtl=!1,this.loading=!1,this.localeFormat=!1,this.multiple=!1,this.numberButtonType="vertical",this.readOnly=!1,this.required=!1,this.scale="m",this.status="idle",this.type="text",this.validity={valid:!1,badInput:!1,customError:!1,patternMismatch:!1,rangeOverflow:!1,rangeUnderflow:!1,stepMismatch:!1,tooLong:!1,tooShort:!1,typeMismatch:!1,valueMissing:!1},this.calciteInputChange=Ge({cancelable:!1}),this.calciteInputInput=Ge(),this.calciteInternalInputBlur=Ge({cancelable:!1}),this.calciteInternalInputFocus=Ge({cancelable:!1}),this.listen("click",this.clickHandler),this.listen("keydown",this.keyDownHandler)}get value(){return this._value}set value(e){const i=this._value;e!==i&&(this._value=e,this.valueWatcher(e,i),e&&this._value===""&&this.setValue({origin:"reset",value:i}))}async selectText(){(this.type==="number"?this.childNumberRef:this.childRef).value?.select()}async setFocus(e){return this.focusSetter(()=>this.type==="number"?this.childNumberRef.value:this.childRef.value,e)}connectedCallback(){super.connectedCallback(),this.inlineEditableEl=this.el.closest("calcite-inline-editable"),this.inlineEditableEl&&(this.editingEnabled=this.inlineEditableEl.editingEnabled||!1),D3(this),QYe(this),this.el.addEventListener(dV,this.onHiddenFormInputInput)}async load(){this.childElType=this.type==="textarea"?"textarea":"input",this.maxString=this.max?.toString(),this.minString=this.min?.toString(),this.requestedIcon=L2(Tte,this.icon,this.type),this.setPreviousEmittedValue(this.value),this.setPreviousValue(this.value),this.type==="number"&&(this.value==="Infinity"||this.value==="-Infinity"?(this.displayedValue=this.value,this.previousEmittedValue=this.value):(this.warnAboutInvalidNumberValue(this.value),this.setValue({origin:"connected",value:op(this.value)?this.value:""})))}willUpdate(e){e.has("max")&&(this.maxString=this.max?.toString()||null),e.has("min")&&(this.minString=this.min?.toString()||null),(e.has("icon")||e.has("type")&&(this.hasUpdated||this.type!=="text"))&&(this.requestedIcon=L2(Tte,this.icon,this.type))}updated(){wl(this)}disconnectedCallback(){super.disconnectedCallback(),Gme(this),tZe(this),this.el.removeEventListener(dV,this.onHiddenFormInputInput)}get isClearable(){return!this.isTextarea&&(this.clearable||this.type==="search")&&this.value?.length>0}get isTextarea(){return this.childElType==="textarea"}handleGlobalAttributesChanged(){this.requestUpdate()}valueWatcher(e,i){if(!this.userChangedValue){if(this.type==="number"&&(e==="Infinity"||e==="-Infinity")){this.displayedValue=e,this.previousEmittedValue=e;return}this.setValue({origin:"direct",previousValue:i,value:e==null||e==""?"":this.type==="number"?op(e)?e:this.previousValue||"":e}),this.warnAboutInvalidNumberValue(e)}this.userChangedValue=!1}keyDownHandler(e){this.readOnly||this.disabled||e.defaultPrevented||(this.isClearable&&e.key==="Escape"&&(this.clearInputValue(e),e.preventDefault()),e.key==="Enter"&&l7(this)&&e.preventDefault())}onLabelClick(){this.setFocus()}incrementOrDecrementNumberValue(e,i,r,n){const{value:s}=this;if(s==="Infinity"||s==="-Infinity")return;const o=e==="up"?1:-1,a=this.step==="any"?1:Math.abs(this.step||1),h=new Z_(s!==""?s:"0").add(`${a*o}`),f=()=>typeof r=="number"&&!isNaN(r)&&h.subtract(`${r}`).isNegative,g=()=>typeof i=="number"&&!isNaN(i)&&!h.subtract(`${i}`).isNegative,v=f()?`${r}`:g()?`${i}`:h.toString();this.setValue({committing:!0,nativeEvent:n,origin:"user",value:v})}clearInputValue(e){this.setValue({committing:!0,nativeEvent:e,origin:"user",value:""})}emitChangeIfUserModified(){this.previousValueOrigin==="user"&&this.value!==this.previousEmittedValue&&(this.calciteInputChange.emit(),this.setPreviousEmittedValue(this.value))}inputBlurHandler(){window.clearInterval(this.nudgeNumberValueIntervalId),this.calciteInternalInputBlur.emit(),this.emitChangeIfUserModified()}clickHandler(e){if(this.disabled)return;const i=e.composedPath();!i.includes(this.inputWrapperRef.value)||i.includes(this.actionWrapperRef.value)||this.setFocus()}inputFocusHandler(){this.calciteInternalInputFocus.emit()}inputInputHandler(e){this.disabled||this.readOnly||(this.type==="file"&&(this.files=this.childRef.value.files),this.setValue({nativeEvent:e,origin:"user",value:e.target.value}))}inputKeyDownHandler(e){this.disabled||this.readOnly||e.key==="Enter"&&this.emitChangeIfUserModified()}inputNumberInputHandler(e){if(this.disabled||this.readOnly||this.value==="Infinity"||this.value==="-Infinity")return;const i=e.target.value;ql.numberFormatOptions={locale:this.messages._lang,numberingSystem:this.numberingSystem,useGrouping:this.groupSeparator};const r=ql.delocalize(i);e.inputType==="insertFromPaste"?(op(r)||e.preventDefault(),this.setValue({nativeEvent:e,origin:"user",value:rEe(r)}),this.childNumberRef.value.value=this.displayedValue):this.setValue({nativeEvent:e,origin:"user",value:r})}inputNumberKeyDownHandler(e){if(this.type!=="number"||this.disabled||this.readOnly)return;if(this.value==="Infinity"||this.value==="-Infinity"){e.preventDefault(),(e.key==="Backspace"||e.key==="Delete")&&this.clearInputValue(e);return}if(e.key==="ArrowUp"){e.preventDefault(),this.nudgeNumberValue("up",e);return}if(e.key==="ArrowDown"){this.nudgeNumberValue("down",e);return}const i=[...zD,"ArrowLeft","ArrowRight","Backspace","Delete","Enter","Escape","Tab"];if(e.altKey||e.ctrlKey||e.metaKey)return;const r=e.shiftKey&&e.key==="Tab";if(i.includes(e.key)||r){e.key==="Enter"&&this.emitChangeIfUserModified();return}ql.numberFormatOptions={locale:this.messages._lang,numberingSystem:this.numberingSystem,useGrouping:this.groupSeparator},!(e.key===ql.decimal&&(!this.value&&!this.childNumberRef.value.value||this.value&&this.childNumberRef.value.value.indexOf(ql.decimal)===-1))&&(/[eE]/.test(e.key)&&(!this.value&&!this.childNumberRef.value.value||this.value&&!/[eE]/.test(this.childNumberRef.value.value))||e.key==="-"&&(!this.value&&!this.childNumberRef.value.value||this.value&&this.childNumberRef.value.value.split("-").length<=2)||e.preventDefault())}nudgeNumberValue(e,i){if(i instanceof KeyboardEvent&&i.repeat||this.type!=="number")return;const r=this.maxString?parseFloat(this.maxString):null,n=this.minString?parseFloat(this.minString):null,s=150;this.incrementOrDecrementNumberValue(e,r,n,i),this.nudgeNumberValueIntervalId&&window.clearInterval(this.nudgeNumberValueIntervalId);let o=!0;this.nudgeNumberValueIntervalId=window.setInterval(()=>{if(o){o=!1;return}this.incrementOrDecrementNumberValue(e,r,n,i)},s)}numberButtonPointerUpAndOutHandler(){window.clearInterval(this.nudgeNumberValueIntervalId)}numberButtonPointerDownHandler(e){if(!eae(e))return;e.preventDefault();const i=e.target.dataset.adjustment;this.disabled||this.nudgeNumberValue(i,e)}syncHiddenFormInput(e){BKe(this.type,this,e)}setInputValue(e){const i=this.type==="number"?this.childNumberRef:this.childRef;i.value&&(i.value.value=e)}setPreviousEmittedValue(e){this.previousEmittedValue=this.normalizeValue(e)}normalizeValue(e){return this.type==="number"?op(e)?e:"":e}setPreviousValue(e){this.previousValue=this.normalizeValue(e)}setValue({committing:e=!1,nativeEvent:i,origin:r,previousValue:n,value:s}){if(this.setPreviousValue(n??this.value),this.previousValueOrigin=r,this.type==="number"){ql.numberFormatOptions={locale:this.messages._lang,numberingSystem:this.numberingSystem,useGrouping:this.groupSeparator,signDisplay:"never"};const o=this.previousValue?.length>s.length||this.value?.length>s.length,a=s.charAt(s.length-1)===".",l=a&&o?s:cEe(s),h=s&&!l?op(this.previousValue)?this.previousValue:"":l;let f=ql.localize(h);r!=="connected"&&!a&&(f=pEe(f,h,ql)),this.displayedValue=a&&o?`${f}${ql.decimal}`:f,this.userChangedValue=r==="user"&&this.value!==h,this.value=["-","."].includes(h)?"":h}else this.userChangedValue=r==="user"&&this.value!==s,this.value=s;r==="direct"&&(this.setInputValue(s),this.previousEmittedValue=s),i&&(this.calciteInputInput.emit().defaultPrevented?(this.value=this.previousValue,this.displayedValue=this.type==="number"?ql.localize(this.previousValue):this.previousValue):e&&this.emitChangeIfUserModified())}inputKeyUpHandler(){window.clearInterval(this.nudgeNumberValueIntervalId)}warnAboutInvalidNumberValue(e){this.type==="number"&&e&&!op(e)&&console.warn(`The specified value "${e}" cannot be parsed, or is out of range.`)}render(){const e=pl(this.el),i=de`<div class=${ce(xs.loader)}><calcite-progress .label=${this.messages.loading} type=indeterminate></calcite-progress></div>`,r=de`<button .ariaLabel=${this.messages.clear} class=${ce(xs.clearButton)} .disabled=${this.disabled||this.readOnly} @click=${this.clearInputValue} tabindex=-1 title=${this.messages.clear??Ye} type=button><calcite-icon .icon=${$N.close} .scale=${Er(this.scale)}></calcite-icon></button>`,n=de`<calcite-icon class=${ce(xs.inputIcon)} .flipRtl=${this.iconFlipRtl} .icon=${this.requestedIcon} .scale=${Er(this.scale)}></calcite-icon>`,s=this.numberButtonType==="horizontal",o=de`<button aria-hidden=true class=${ce({[xs.numberButtonItem]:!0,[xs.buttonItemHorizontal]:s})} data-adjustment=${$te.up} .disabled=${this.disabled||this.readOnly} @pointerdown=${this.numberButtonPointerDownHandler} @pointerout=${this.numberButtonPointerUpAndOutHandler} @pointerup=${this.numberButtonPointerUpAndOutHandler} tabindex=-1 type=button><calcite-icon .icon=${$N.chevronUp} .scale=${Er(this.scale)}></calcite-icon></button>`,a=de`<button aria-hidden=true class=${ce({[xs.numberButtonItem]:!0,[xs.buttonItemHorizontal]:s})} data-adjustment=${$te.down} .disabled=${this.disabled||this.readOnly} @pointerdown=${this.numberButtonPointerDownHandler} @pointerout=${this.numberButtonPointerUpAndOutHandler} @pointerup=${this.numberButtonPointerUpAndOutHandler} tabindex=-1 type=button><calcite-icon .icon=${$N.chevronDown} .scale=${Er(this.scale)}></calcite-icon></button>`,l=de`<div class=${ce(xs.numberButtonWrapper)}>${o}${a}</div>`,h=de`<div class=${ce(xs.prefix)}>${this.prefixText}</div>`,f=de`<div class=${ce(xs.suffix)}>${this.suffixText}</div>`,g=this.el.autofocus,v=this.el.enterKeyHint,w=this.el.inputMode,S=this.type==="number"?vt("localized-input",de`<input accept=${this.accept??Ye} aria-errormessage=${TN.validationMessage} .ariaInvalid=${this.status==="invalid"} .ariaLabel=${pV(this)} autocomplete=${this.autocomplete??Ye} .autofocus=${g} value=${this.defaultValue??Ye} .disabled=${this.disabled?!0:null} enterkeyhint=${v??Ye} inputmode=${w??Ye} maxlength=${this.maxLength??Ye} minlength=${this.minLength??Ye} .multiple=${this.multiple} name=${Ye} @blur=${this.inputBlurHandler} @focus=${this.inputFocusHandler} @input=${this.inputNumberInputHandler} @keydown=${this.inputNumberKeyDownHandler} @keyup=${this.inputKeyUpHandler} pattern=${this.pattern??Ye} placeholder=${(this.placeholder||"")??Ye} .readOnly=${this.readOnly} .required=${this.required} type=text .value=${VY(this.displayedValue??"")} ${Ut(this.childNumberRef)}>`):null,T=this.childElType==="input"?Cv`input`:Cv`textarea`,C=this.type!=="number"?ND`<${T} accept=${this.accept??Ye} aria-errormessage=${TN.validationMessage} .ariaInvalid=${this.status==="invalid"} .ariaLabel=${pV(this)} autocomplete=${this.autocomplete??Ye} .autofocus=${g} class=${ce({[xs.editingEnabled]:this.editingEnabled,[xs.inlineChild]:!!this.inlineEditableEl})} .defaultValue=${this.defaultValue??""} .disabled=${this.disabled?!0:null} enterkeyhint=${v??Ye} inputmode=${w??Ye} max=${this.maxString??Ye} maxlength=${this.maxLength??Ye} min=${this.minString??Ye} minlength=${this.minLength??Ye} .multiple=${this.multiple} name=${this.name??Ye} @blur=${this.inputBlurHandler} @focus=${this.inputFocusHandler} @input=${this.inputInputHandler} @keydown=${this.inputKeyDownHandler} @keyup=${this.inputKeyUpHandler} pattern=${this.pattern??Ye} placeholder=${(this.placeholder||"")??Ye} .readOnly=${this.readOnly} .required=${this.required?!0:null} spellcheck=${this.el.spellcheck??Ye} step=${this.step??Ye} tabindex=${(this.disabled||this.inlineEditableEl&&!this.editingEnabled?-1:null)??Ye} type=${this.type??Ye} .value=${VY(this.value??"")} ${Ut(this.childRef)}></${T}>`:null;return _l({disabled:this.disabled,children:de`${this.labelText&&LKe({labelText:this.labelText,onClick:this.onLabelClick,required:this.required,tooltipText:this.messages.required})||""}<div class=${ce({[xs.inputWrapper]:!0,[sl.rtl]:e==="rtl",[xs.hasSuffix]:this.suffixText,[xs.hasPrefix]:this.prefixText})} ${Ut(this.inputWrapperRef)}>${this.type==="number"&&this.numberButtonType==="horizontal"&&!this.readOnly?a:null}${this.prefixText?h:null}<div class=${ce(xs.wrapper)}>${S}${C}${this.isClearable?r:null}${this.requestedIcon?n:null}${this.loading?i:null}</div><div class=${ce(xs.actionWrapper)} ${Ut(this.actionWrapperRef)}><slot name=${HKe.action}></slot></div>${this.type==="number"&&this.numberButtonType==="vertical"&&!this.readOnly?l:null}${this.suffixText?f:null}${this.type==="number"&&this.numberButtonType==="horizontal"&&!this.readOnly?o:null}${rZe({component:this})}</div>${this.validationMessage&&this.status==="invalid"?jKe({icon:this.validationIcon,id:TN.validationMessage,message:this.validationMessage,scale:this.scale,status:this.status}):null}`})}};ZP.properties={displayedValue:[16,{},{state:!0}],slottedActionElDisabledInternally:[16,{},{state:!0}],accept:1,alignment:[3,{},{reflect:!0}],autocomplete:[0,{},{attribute:!1}],clearable:[7,{},{reflect:!0,type:Boolean}],disabled:[7,{},{reflect:!0,type:Boolean}],editingEnabled:[7,{},{reflect:!0,type:Boolean}],files:[0,{},{attribute:!1}],form:[3,{},{reflect:!0}],groupSeparator:[7,{},{reflect:!0,type:Boolean}],icon:[3,{converter:B_},{reflect:!0}],iconFlipRtl:[7,{},{reflect:!0,type:Boolean}],label:1,labelText:1,loading:[7,{},{reflect:!0,type:Boolean}],localeFormat:[5,{},{type:Boolean}],max:[11,{},{reflect:!0,type:Number}],maxLength:[11,{},{reflect:!0,type:Number}],messageOverrides:[0,{},{attribute:!1}],min:[11,{},{reflect:!0,type:Number}],minLength:[11,{},{reflect:!0,type:Number}],multiple:[5,{},{type:Boolean}],name:[3,{},{reflect:!0}],numberButtonType:[3,{},{reflect:!0}],numberingSystem:[3,{},{reflect:!0}],pattern:1,placeholder:1,prefixText:1,readOnly:[7,{},{reflect:!0,type:Boolean}],required:[7,{},{reflect:!0,type:Boolean}],scale:[3,{},{reflect:!0}],status:[3,{},{reflect:!0}],step:[3,{},{reflect:!0}],suffixText:1,type:[3,{},{reflect:!0}],validationIcon:[3,{converter:B_},{reflect:!0}],validationMessage:1,validity:[0,{},{attribute:!1}],value:1},ZP.styles=qKe;let mP=ZP;Pi("calcite-input",mP);const GKe=Object.freeze(Object.defineProperty({__proto__:null,Input:mP},Symbol.toStringTag,{value:"Module"}));function $ge(t){if(t==null)return"";if(typeof t=="string")return t;if(Array.isArray(t))return t.map($ge).join(",");const e=String(t);return e==="0"&&Object.is(Number(t),-0)?"-0":e}function WKe(t,e=SZe){if(t==null)return t;for(const i in t)if(e(t[i],i,t)===!1)break;return t}function YKe(t){return TZe($ge(t))}const kN=(t,e,i)=>{const r=YKe(e),n=new RegExp(r,"i");t.length===0&&console.warn(`No data was passed to the filter function.
    The data argument should be an array of objects`);const s=(o,a,l)=>{if(o?.constant||o?.filterDisabled)return!0;let h=!1;return WKe(o,(f,g)=>{typeof f=="function"||f==null||l&&!l.includes(g)||(Array.isArray(f)||typeof f=="object"&&f!==null?s(f,a)&&(h=!0):a.test(f)&&(h=!0))}),h};return t.filter(o=>s(o,n,i))};const b7=()=>J$((t,e)=>{const i=new Set;return e.onDisconnected(()=>{i.forEach(r=>r.cancel())}),{add:r=>{[r].flat().forEach(n=>i.add(n))},resources:i}});const ZKe={container:"container"},JKe={search:"search"},XKe=vi`:host{--calcite-internal-color-focus: var( --calcite-color-focus, var(--calcite-ui-focus-color, var(--calcite-color-brand)) )}:host{box-sizing:border-box;background-color:var(--calcite-color-foreground-1);color:var(--calcite-color-text-2);font-size:var(--calcite-font-size--1)}:host *{box-sizing:border-box}:host([disabled]){cursor:default;-webkit-user-select:none;user-select:none;opacity:var(--calcite-opacity-disabled)}:host([disabled]) *,:host([disabled]) ::slotted(*){pointer-events:none}:host{display:flex;inline-size:100%}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}.interaction-container{display:contents}.container{display:flex;inline-size:100%}:host([scale=s]) .container{padding:var(--calcite-filter-content-space, var(--calcite-spacing-sm))}:host([scale=m]) .container{padding:var(--calcite-filter-content-space, var(--calcite-spacing-md))}:host([scale=l]) .container{padding:var(--calcite-filter-content-space, var(--calcite-spacing-lg))}label{position:relative;margin-block:0px;display:flex;inline-size:100%;align-items:center;overflow:hidden}calcite-input{inline-size:100%;--calcite-input-background-color: var(--calcite-filter-input-background-color);--calcite-input-border-color: var(--calcite-filter-input-border-color);--calcite-input-corner-radius: var(--calcite-filter-input-corner-radius);--calcite-input-shadow: var(--calcite-filter-input-shadow);--calcite-input-icon-color: var(--calcite-filter-input-icon-color);--calcite-input-text-color: var(--calcite-filter-input-text-color);--calcite-input-placeholder-text-color: var(--calcite-filter-input-placeholder-text-color);--calcite-input-actions-background-color: var(--calcite-filter-input-actions-background-color);--calcite-input-actions-background-color-hover: var(--calcite-filter-input-actions-background-color-hover);--calcite-input-actions-background-color-press: var(--calcite-filter-input-actions-background-color-press);--calcite-input-actions-icon-color: var(--calcite-filter-input-actions-icon-color);--calcite-input-actions-icon-color-hover: var(--calcite-filter-input-actions-icon-color-hover);--calcite-input-actions-icon-color-press: var(--calcite-filter-input-actions-icon-color-press)}:host([hidden]){display:none}[hidden]{display:none}`,b2=class b2 extends wi{constructor(){super(...arguments),this.cancelable=b7()(this),this.filterDebounced=L3((e,i=!1,r)=>this.updateFiltered(kN(this.items??[],e,this.filterProps),i,r),ED.filter),this.textInput=kr(),this._value="",this.messages=ds(),this.focusSetter=Ns()(this),this.disabled=!1,this.filteredItems=[],this.items=[],this.scale="m",this.calciteFilterChange=Ge({cancelable:!1})}get value(){return this._value}set value(e){const i=this._value;e!==i&&(this._value=e,this.valueHandler(e))}async filter(e=this.value){return new Promise(i=>{this.value=e,this.updateFiltered(kN(this.items??[],e,this.filterProps),!1,i)})}async setFocus(e){return this.focusSetter(()=>this.textInput.value,e)}connectedCallback(){super.connectedCallback(),this.cancelable.add(this.filterDebounced)}async load(){this.updateFiltered(kN(this.items??[],this.value,this.filterProps))}willUpdate(e){(e.has("items")&&(this.hasUpdated||this.items?.length>0)||e.has("filterProps"))&&this.filterDebounced(this.value)}updated(){wl(this)}valueHandler(e){this.filterDebounced(e)}inputHandler(e){const i=e.target;this.value=i.value,this.filterDebounced(i.value,!0)}keyDownHandler(e){e.defaultPrevented||(e.key==="Escape"&&(this.clear(),e.preventDefault()),e.key==="Enter"&&e.preventDefault())}clear(){this.value="",this.filterDebounced("",!0),this.setFocus()}updateFiltered(e,i=!1,r){this.filteredItems=e,i&&this.calciteFilterChange.emit(),r?.()}render(){const{disabled:e,scale:i}=this;return _l({disabled:e,children:de`<div class=${ce(ZKe.container)}><label><calcite-input clearable .disabled=${e} .icon=${JKe.search} .label=${this.label??this.messages.label} .messageOverrides=${{clear:this.messages.clear}} @keydown=${this.keyDownHandler} @calciteInputInput=${this.inputHandler} .placeholder=${this.placeholder} .scale=${i} type=text .value=${this.value} ${Ut(this.textInput)}></calcite-input></label></div>`})}};b2.properties={disabled:[7,{},{reflect:!0,type:Boolean}],filterProps:[0,{},{attribute:!1}],filteredItems:[0,{},{attribute:!1}],items:[0,{},{attribute:!1}],label:1,messageOverrides:[0,{},{attribute:!1}],placeholder:1,scale:[3,{},{reflect:!0}],value:1},b2.shadowRootOptions={mode:"open",delegatesFocus:!0},b2.styles=XKe;let DV=b2;Pi("calcite-filter",DV);const d2="calcite-list",gP="calcite-list-item-group",xp="calcite-list-item";function RV(t){const e=t.parentElement?.closest(xp);e&&(e.open=!0,RV(e))}function KKe(t){const e=t.assignedElements({flatten:!0}),i=e.filter(s=>s?.matches(gP)).map(s=>Array.from(s.querySelectorAll(xp))).flat(),r=e.filter(s=>s?.matches(xp));return{lists:e.filter(s=>s?.matches(d2)),items:i.concat(r)}}function QKe(t){const e=t.assignedElements({flatten:!0}).filter(r=>r.matches(xp)),i=e.filter(r=>!r.filterHidden);e.forEach(r=>{const n=i.indexOf(r);r.setPosition=n===-1?void 0:n+1,r.setSize=n===-1?void 0:i.length})}function eQe(t,e=!1){const i=e?"ancestor::calcite-list-item | ancestor::calcite-list-item-group":"ancestor::calcite-list-item";return document.evaluate(i,t,null,XPathResult.UNORDERED_NODE_SNAPSHOT_TYPE,null).snapshotLength}function fC(t){return t.tagName==="CALCITE-LIST-ITEM"}function kte(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),i.push.apply(i,r)}return i}function Ud(t){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?kte(Object(i),!0).forEach(function(r){tQe(t,r,i[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):kte(Object(i)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(i,r))})}return t}function cA(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?cA=function(e){return typeof e}:cA=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cA(t)}function tQe(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function Lp(){return Lp=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t},Lp.apply(this,arguments)}function iQe(t,e){if(t==null)return{};var i={},r=Object.keys(t),n,s;for(s=0;s<r.length;s++)n=r[s],!(e.indexOf(n)>=0)&&(i[n]=t[n]);return i}function rQe(t,e){if(t==null)return{};var i=iQe(t,e),r,n;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}var nQe="1.15.6";function Ap(t){if(typeof window<"u"&&window.navigator)return!!navigator.userAgent.match(t)}var qp=Ap(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),vk=Ap(/Edge/i),Ete=Ap(/firefox/i),h2=Ap(/safari/i)&&!Ap(/chrome/i)&&!Ap(/android/i),w7=Ap(/iP(ad|od|hone)/i),kge=Ap(/chrome/i)&&Ap(/android/i),Ege={capture:!1,passive:!1};function yi(t,e,i){t.addEventListener(e,i,!qp&&Ege)}function fi(t,e,i){t.removeEventListener(e,i,!qp&&Ege)}function yP(t,e){if(e){if(e[0]===">"&&(e=e.substring(1)),t)try{if(t.matches)return t.matches(e);if(t.msMatchesSelector)return t.msMatchesSelector(e);if(t.webkitMatchesSelector)return t.webkitMatchesSelector(e)}catch{return!1}return!1}}function Ige(t){return t.host&&t!==document&&t.host.nodeType?t.host:t.parentNode}function ou(t,e,i,r){if(t){i=i||document;do{if(e!=null&&(e[0]===">"?t.parentNode===i&&yP(t,e):yP(t,e))||r&&t===i)return t;if(t===i)break}while(t=Ige(t))}return null}var Ite=/\s+/g;function Ka(t,e,i){if(t&&e)if(t.classList)t.classList[i?"add":"remove"](e);else{var r=(" "+t.className+" ").replace(Ite," ").replace(" "+e+" "," ");t.className=(r+(i?" "+e:"")).replace(Ite," ")}}function Lt(t,e,i){var r=t&&t.style;if(r){if(i===void 0)return document.defaultView&&document.defaultView.getComputedStyle?i=document.defaultView.getComputedStyle(t,""):t.currentStyle&&(i=t.currentStyle),e===void 0?i:i[e];!(e in r)&&e.indexOf("webkit")===-1&&(e="-webkit-"+e),r[e]=i+(typeof i=="string"?"":"px")}}function a_(t,e){var i="";if(typeof t=="string")i=t;else do{var r=Lt(t,"transform");r&&r!=="none"&&(i=r+" "+i)}while(!e&&(t=t.parentNode));var n=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return n&&new n(i)}function Cge(t,e,i){if(t){var r=t.getElementsByTagName(e),n=0,s=r.length;if(i)for(;n<s;n++)i(r[n],n);return r}return[]}function Od(){var t=document.scrollingElement;return t||document.documentElement}function Tn(t,e,i,r,n){if(!(!t.getBoundingClientRect&&t!==window)){var s,o,a,l,h,f,g;if(t!==window&&t.parentNode&&t!==Od()?(s=t.getBoundingClientRect(),o=s.top,a=s.left,l=s.bottom,h=s.right,f=s.height,g=s.width):(o=0,a=0,l=window.innerHeight,h=window.innerWidth,f=window.innerHeight,g=window.innerWidth),(e||i)&&t!==window&&(n=n||t.parentNode,!qp))do if(n&&n.getBoundingClientRect&&(Lt(n,"transform")!=="none"||i&&Lt(n,"position")!=="static")){var v=n.getBoundingClientRect();o-=v.top+parseInt(Lt(n,"border-top-width")),a-=v.left+parseInt(Lt(n,"border-left-width")),l=o+s.height,h=a+s.width;break}while(n=n.parentNode);if(r&&t!==window){var w=a_(n||t),S=w&&w.a,T=w&&w.d;w&&(o/=T,a/=S,g/=S,f/=T,l=o+f,h=a+g)}return{top:o,left:a,bottom:l,right:h,width:g,height:f}}}function Cte(t,e,i){for(var r=Pm(t,!0),n=Tn(t)[e];r;){var s=Tn(r)[i],o=void 0;if(o=n>=s,!o)return r;if(r===Od())break;r=Pm(r,!1)}return!1}function m1(t,e,i,r){for(var n=0,s=0,o=t.children;s<o.length;){if(o[s].style.display!=="none"&&o[s]!==zt.ghost&&(r||o[s]!==zt.dragged)&&ou(o[s],i.draggable,t,!1)){if(n===e)return o[s];n++}s++}return null}function _7(t,e){for(var i=t.lastElementChild;i&&(i===zt.ghost||Lt(i,"display")==="none"||e&&!yP(i,e));)i=i.previousElementSibling;return i||null}function Wl(t,e){var i=0;if(!t||!t.parentNode)return-1;for(;t=t.previousElementSibling;)t.nodeName.toUpperCase()!=="TEMPLATE"&&t!==zt.clone&&(!e||yP(t,e))&&i++;return i}function Mte(t){var e=0,i=0,r=Od();if(t)do{var n=a_(t),s=n.a,o=n.d;e+=t.scrollLeft*s,i+=t.scrollTop*o}while(t!==r&&(t=t.parentNode));return[e,i]}function sQe(t,e){for(var i in t)if(t.hasOwnProperty(i)){for(var r in e)if(e.hasOwnProperty(r)&&e[r]===t[i][r])return Number(i)}return-1}function Pm(t,e){if(!t||!t.getBoundingClientRect)return Od();var i=t,r=!1;do if(i.clientWidth<i.scrollWidth||i.clientHeight<i.scrollHeight){var n=Lt(i);if(i.clientWidth<i.scrollWidth&&(n.overflowX=="auto"||n.overflowX=="scroll")||i.clientHeight<i.scrollHeight&&(n.overflowY=="auto"||n.overflowY=="scroll")){if(!i.getBoundingClientRect||i===document.body)return Od();if(r||e)return i;r=!0}}while(i=i.parentNode);return Od()}function oQe(t,e){if(t&&e)for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);return t}function EN(t,e){return Math.round(t.top)===Math.round(e.top)&&Math.round(t.left)===Math.round(e.left)&&Math.round(t.height)===Math.round(e.height)&&Math.round(t.width)===Math.round(e.width)}var p2;function Mge(t,e){return function(){if(!p2){var i=arguments,r=this;i.length===1?t.call(r,i[0]):t.apply(r,i),p2=setTimeout(function(){p2=void 0},e)}}}function aQe(){clearTimeout(p2),p2=void 0}function Age(t,e,i){t.scrollLeft+=e,t.scrollTop+=i}function Oge(t){var e=window.Polymer,i=window.jQuery||window.Zepto;return e&&e.dom?e.dom(t).cloneNode(!0):i?i(t).clone(!0)[0]:t.cloneNode(!0)}function Pge(t,e,i){var r={};return Array.from(t.children).forEach(function(n){var s,o,a,l;if(!(!ou(n,e.draggable,t,!1)||n.animated||n===i)){var h=Tn(n);r.left=Math.min((s=r.left)!==null&&s!==void 0?s:1/0,h.left),r.top=Math.min((o=r.top)!==null&&o!==void 0?o:1/0,h.top),r.right=Math.max((a=r.right)!==null&&a!==void 0?a:-1/0,h.right),r.bottom=Math.max((l=r.bottom)!==null&&l!==void 0?l:-1/0,h.bottom)}}),r.width=r.right-r.left,r.height=r.bottom-r.top,r.x=r.left,r.y=r.top,r}var pa="Sortable"+new Date().getTime();function lQe(){var t=[],e;return{captureAnimationState:function(){if(t=[],!!this.options.animation){var r=[].slice.call(this.el.children);r.forEach(function(n){if(!(Lt(n,"display")==="none"||n===zt.ghost)){t.push({target:n,rect:Tn(n)});var s=Ud({},t[t.length-1].rect);if(n.thisAnimationDuration){var o=a_(n,!0);o&&(s.top-=o.f,s.left-=o.e)}n.fromRect=s}})}},addAnimationState:function(r){t.push(r)},removeAnimationState:function(r){t.splice(sQe(t,{target:r}),1)},animateAll:function(r){var n=this;if(!this.options.animation){clearTimeout(e),typeof r=="function"&&r();return}var s=!1,o=0;t.forEach(function(a){var l=0,h=a.target,f=h.fromRect,g=Tn(h),v=h.prevFromRect,w=h.prevToRect,S=a.rect,T=a_(h,!0);T&&(g.top-=T.f,g.left-=T.e),h.toRect=g,h.thisAnimationDuration&&EN(v,g)&&!EN(f,g)&&(S.top-g.top)/(S.left-g.left)===(f.top-g.top)/(f.left-g.left)&&(l=uQe(S,v,w,n.options)),EN(g,f)||(h.prevFromRect=f,h.prevToRect=g,l||(l=n.options.animation),n.animate(h,S,g,l)),l&&(s=!0,o=Math.max(o,l),clearTimeout(h.animationResetTimer),h.animationResetTimer=setTimeout(function(){h.animationTime=0,h.prevFromRect=null,h.fromRect=null,h.prevToRect=null,h.thisAnimationDuration=null},l),h.thisAnimationDuration=l)}),clearTimeout(e),s?e=setTimeout(function(){typeof r=="function"&&r()},o):typeof r=="function"&&r(),t=[]},animate:function(r,n,s,o){if(o){Lt(r,"transition",""),Lt(r,"transform","");var a=a_(this.el),l=a&&a.a,h=a&&a.d,f=(n.left-s.left)/(l||1),g=(n.top-s.top)/(h||1);r.animatingX=!!f,r.animatingY=!!g,Lt(r,"transform","translate3d("+f+"px,"+g+"px,0)"),this.forRepaintDummy=cQe(r),Lt(r,"transition","transform "+o+"ms"+(this.options.easing?" "+this.options.easing:"")),Lt(r,"transform","translate3d(0,0,0)"),typeof r.animated=="number"&&clearTimeout(r.animated),r.animated=setTimeout(function(){Lt(r,"transition",""),Lt(r,"transform",""),r.animated=!1,r.animatingX=!1,r.animatingY=!1},o)}}}}function cQe(t){return t.offsetWidth}function uQe(t,e,i,r){return Math.sqrt(Math.pow(e.top-t.top,2)+Math.pow(e.left-t.left,2))/Math.sqrt(Math.pow(e.top-i.top,2)+Math.pow(e.left-i.left,2))*r.animation}var f0=[],IN={initializeByDefault:!0},bk={mount:function(e){for(var i in IN)IN.hasOwnProperty(i)&&!(i in e)&&(e[i]=IN[i]);f0.forEach(function(r){if(r.pluginName===e.pluginName)throw"Sortable: Cannot mount plugin ".concat(e.pluginName," more than once")}),f0.push(e)},pluginEvent:function(e,i,r){var n=this;this.eventCanceled=!1,r.cancel=function(){n.eventCanceled=!0};var s=e+"Global";f0.forEach(function(o){i[o.pluginName]&&(i[o.pluginName][s]&&i[o.pluginName][s](Ud({sortable:i},r)),i.options[o.pluginName]&&i[o.pluginName][e]&&i[o.pluginName][e](Ud({sortable:i},r)))})},initializePlugins:function(e,i,r,n){f0.forEach(function(a){var l=a.pluginName;if(!(!e.options[l]&&!a.initializeByDefault)){var h=new a(e,i,e.options);h.sortable=e,h.options=e.options,e[l]=h,Lp(r,h.defaults)}});for(var s in e.options)if(e.options.hasOwnProperty(s)){var o=this.modifyOption(e,s,e.options[s]);typeof o<"u"&&(e.options[s]=o)}},getEventProperties:function(e,i){var r={};return f0.forEach(function(n){typeof n.eventProperties=="function"&&Lp(r,n.eventProperties.call(i[n.pluginName],e))}),r},modifyOption:function(e,i,r){var n;return f0.forEach(function(s){e[s.pluginName]&&s.optionListeners&&typeof s.optionListeners[i]=="function"&&(n=s.optionListeners[i].call(e[s.pluginName],r))}),n}};function dQe(t){var e=t.sortable,i=t.rootEl,r=t.name,n=t.targetEl,s=t.cloneEl,o=t.toEl,a=t.fromEl,l=t.oldIndex,h=t.newIndex,f=t.oldDraggableIndex,g=t.newDraggableIndex,v=t.originalEvent,w=t.putSortable,S=t.extraEventProperties;if(e=e||i&&i[pa],!!e){var T,C=e.options,I="on"+r.charAt(0).toUpperCase()+r.substr(1);window.CustomEvent&&!qp&&!vk?T=new CustomEvent(r,{bubbles:!0,cancelable:!0}):(T=document.createEvent("Event"),T.initEvent(r,!0,!0)),T.to=o||i,T.from=a||i,T.item=n||i,T.clone=s,T.oldIndex=l,T.newIndex=h,T.oldDraggableIndex=f,T.newDraggableIndex=g,T.originalEvent=v,T.pullMode=w?w.lastPutMode:void 0;var A=Ud(Ud({},S),bk.getEventProperties(r,e));for(var P in A)T[P]=A[P];i&&i.dispatchEvent(T),C[I]&&C[I].call(e,T)}}var hQe=["evt"],Go=function(e,i){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},n=r.evt,s=rQe(r,hQe);bk.pluginEvent.bind(zt)(e,i,Ud({dragEl:Ze,parentEl:Br,ghostEl:Yt,rootEl:$r,nextEl:Ay,lastDownEl:uA,cloneEl:Ar,cloneHidden:wm,dragStarted:wT,putSortable:ks,activeSortable:zt.active,originalEvent:n,oldIndex:zw,oldDraggableIndex:f2,newIndex:el,newDraggableIndex:hm,hideGhostForTarget:zge,unhideGhostForTarget:Nge,cloneNowHidden:function(){wm=!0},cloneNowShown:function(){wm=!1},dispatchSortableEvent:function(a){_o({sortable:i,name:a,originalEvent:n})}},s))};function _o(t){dQe(Ud({putSortable:ks,cloneEl:Ar,targetEl:Ze,rootEl:$r,oldIndex:zw,oldDraggableIndex:f2,newIndex:el,newDraggableIndex:hm},t))}var Ze,Br,Yt,$r,Ay,uA,Ar,wm,zw,el,f2,hm,mC,ks,ww=!1,vP=!1,bP=[],Jg,Vc,CN,MN,Ate,Ote,wT,m0,m2,g2=!1,gC=!1,dA,Zs,AN=[],LV=!1,wP=[],B3=typeof document<"u",yC=w7,Pte=vk||qp?"cssFloat":"float",pQe=B3&&!kge&&!w7&&"draggable"in document.createElement("div"),Dge=(function(){if(B3){if(qp)return!1;var t=document.createElement("x");return t.style.cssText="pointer-events:auto",t.style.pointerEvents==="auto"}})(),Rge=function(e,i){var r=Lt(e),n=parseInt(r.width)-parseInt(r.paddingLeft)-parseInt(r.paddingRight)-parseInt(r.borderLeftWidth)-parseInt(r.borderRightWidth),s=m1(e,0,i),o=m1(e,1,i),a=s&&Lt(s),l=o&&Lt(o),h=a&&parseInt(a.marginLeft)+parseInt(a.marginRight)+Tn(s).width,f=l&&parseInt(l.marginLeft)+parseInt(l.marginRight)+Tn(o).width;if(r.display==="flex")return r.flexDirection==="column"||r.flexDirection==="column-reverse"?"vertical":"horizontal";if(r.display==="grid")return r.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(s&&a.float&&a.float!=="none"){var g=a.float==="left"?"left":"right";return o&&(l.clear==="both"||l.clear===g)?"vertical":"horizontal"}return s&&(a.display==="block"||a.display==="flex"||a.display==="table"||a.display==="grid"||h>=n&&r[Pte]==="none"||o&&r[Pte]==="none"&&h+f>n)?"vertical":"horizontal"},fQe=function(e,i,r){var n=r?e.left:e.top,s=r?e.right:e.bottom,o=r?e.width:e.height,a=r?i.left:i.top,l=r?i.right:i.bottom,h=r?i.width:i.height;return n===a||s===l||n+o/2===a+h/2},mQe=function(e,i){var r;return bP.some(function(n){var s=n[pa].options.emptyInsertThreshold;if(!(!s||_7(n))){var o=Tn(n),a=e>=o.left-s&&e<=o.right+s,l=i>=o.top-s&&i<=o.bottom+s;if(a&&l)return r=n}}),r},Lge=function(e){function i(s,o){return function(a,l,h,f){var g=a.options.group.name&&l.options.group.name&&a.options.group.name===l.options.group.name;if(s==null&&(o||g))return!0;if(s==null||s===!1)return!1;if(o&&s==="clone")return s;if(typeof s=="function")return i(s(a,l,h,f),o)(a,l,h,f);var v=(o?a:l).options.group.name;return s===!0||typeof s=="string"&&s===v||s.join&&s.indexOf(v)>-1}}var r={},n=e.group;(!n||cA(n)!="object")&&(n={name:n}),r.name=n.name,r.checkPull=i(n.pull,!0),r.checkPut=i(n.put),r.revertClone=n.revertClone,e.group=r},zge=function(){!Dge&&Yt&&Lt(Yt,"display","none")},Nge=function(){!Dge&&Yt&&Lt(Yt,"display","")};B3&&!kge&&document.addEventListener("click",function(t){if(vP)return t.preventDefault(),t.stopPropagation&&t.stopPropagation(),t.stopImmediatePropagation&&t.stopImmediatePropagation(),vP=!1,!1},!0);var Xg=function(e){if(Ze){e=e.touches?e.touches[0]:e;var i=mQe(e.clientX,e.clientY);if(i){var r={};for(var n in e)e.hasOwnProperty(n)&&(r[n]=e[n]);r.target=r.rootEl=i,r.preventDefault=void 0,r.stopPropagation=void 0,i[pa]._onDragOver(r)}}},gQe=function(e){Ze&&Ze.parentNode[pa]._isOutsideThisEl(e.target)};function zt(t,e){if(!(t&&t.nodeType&&t.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(t));this.el=t,this.options=e=Lp({},e),t[pa]=this;var i={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(t.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return Rge(t,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(o,a){o.setData("Text",a.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:zt.supportPointer!==!1&&"PointerEvent"in window&&(!h2||w7),emptyInsertThreshold:5};bk.initializePlugins(this,t,i);for(var r in i)!(r in e)&&(e[r]=i[r]);Lge(e);for(var n in this)n.charAt(0)==="_"&&typeof this[n]=="function"&&(this[n]=this[n].bind(this));this.nativeDraggable=e.forceFallback?!1:pQe,this.nativeDraggable&&(this.options.touchStartThreshold=1),e.supportPointer?yi(t,"pointerdown",this._onTapStart):(yi(t,"mousedown",this._onTapStart),yi(t,"touchstart",this._onTapStart)),this.nativeDraggable&&(yi(t,"dragover",this),yi(t,"dragenter",this)),bP.push(this.el),e.store&&e.store.get&&this.sort(e.store.get(this)||[]),Lp(this,lQe())}zt.prototype={constructor:zt,_isOutsideThisEl:function(e){!this.el.contains(e)&&e!==this.el&&(m0=null)},_getDirection:function(e,i){return typeof this.options.direction=="function"?this.options.direction.call(this,e,i,Ze):this.options.direction},_onTapStart:function(e){if(e.cancelable){var i=this,r=this.el,n=this.options,s=n.preventOnFilter,o=e.type,a=e.touches&&e.touches[0]||e.pointerType&&e.pointerType==="touch"&&e,l=(a||e).target,h=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||l,f=n.filter;if(TQe(r),!Ze&&!(/mousedown|pointerdown/.test(o)&&e.button!==0||n.disabled)&&!h.isContentEditable&&!(!this.nativeDraggable&&h2&&l&&l.tagName.toUpperCase()==="SELECT")&&(l=ou(l,n.draggable,r,!1),!(l&&l.animated)&&uA!==l)){if(zw=Wl(l),f2=Wl(l,n.draggable),typeof f=="function"){if(f.call(this,e,l,this)){_o({sortable:i,rootEl:h,name:"filter",targetEl:l,toEl:r,fromEl:r}),Go("filter",i,{evt:e}),s&&e.preventDefault();return}}else if(f&&(f=f.split(",").some(function(g){if(g=ou(h,g.trim(),r,!1),g)return _o({sortable:i,rootEl:g,name:"filter",targetEl:l,fromEl:r,toEl:r}),Go("filter",i,{evt:e}),!0}),f)){s&&e.preventDefault();return}n.handle&&!ou(h,n.handle,r,!1)||this._prepareDragStart(e,a,l)}}},_prepareDragStart:function(e,i,r){var n=this,s=n.el,o=n.options,a=s.ownerDocument,l;if(r&&!Ze&&r.parentNode===s){var h=Tn(r);if($r=s,Ze=r,Br=Ze.parentNode,Ay=Ze.nextSibling,uA=r,mC=o.group,zt.dragged=Ze,Jg={target:Ze,clientX:(i||e).clientX,clientY:(i||e).clientY},Ate=Jg.clientX-h.left,Ote=Jg.clientY-h.top,this._lastX=(i||e).clientX,this._lastY=(i||e).clientY,Ze.style["will-change"]="all",l=function(){if(Go("delayEnded",n,{evt:e}),zt.eventCanceled){n._onDrop();return}n._disableDelayedDragEvents(),!Ete&&n.nativeDraggable&&(Ze.draggable=!0),n._triggerDragStart(e,i),_o({sortable:n,name:"choose",originalEvent:e}),Ka(Ze,o.chosenClass,!0)},o.ignore.split(",").forEach(function(f){Cge(Ze,f.trim(),ON)}),yi(a,"dragover",Xg),yi(a,"mousemove",Xg),yi(a,"touchmove",Xg),o.supportPointer?(yi(a,"pointerup",n._onDrop),!this.nativeDraggable&&yi(a,"pointercancel",n._onDrop)):(yi(a,"mouseup",n._onDrop),yi(a,"touchend",n._onDrop),yi(a,"touchcancel",n._onDrop)),Ete&&this.nativeDraggable&&(this.options.touchStartThreshold=4,Ze.draggable=!0),Go("delayStart",this,{evt:e}),o.delay&&(!o.delayOnTouchOnly||i)&&(!this.nativeDraggable||!(vk||qp))){if(zt.eventCanceled){this._onDrop();return}o.supportPointer?(yi(a,"pointerup",n._disableDelayedDrag),yi(a,"pointercancel",n._disableDelayedDrag)):(yi(a,"mouseup",n._disableDelayedDrag),yi(a,"touchend",n._disableDelayedDrag),yi(a,"touchcancel",n._disableDelayedDrag)),yi(a,"mousemove",n._delayedDragTouchMoveHandler),yi(a,"touchmove",n._delayedDragTouchMoveHandler),o.supportPointer&&yi(a,"pointermove",n._delayedDragTouchMoveHandler),n._dragStartTimer=setTimeout(l,o.delay)}else l()}},_delayedDragTouchMoveHandler:function(e){var i=e.touches?e.touches[0]:e;Math.max(Math.abs(i.clientX-this._lastX),Math.abs(i.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){Ze&&ON(Ze),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;fi(e,"mouseup",this._disableDelayedDrag),fi(e,"touchend",this._disableDelayedDrag),fi(e,"touchcancel",this._disableDelayedDrag),fi(e,"pointerup",this._disableDelayedDrag),fi(e,"pointercancel",this._disableDelayedDrag),fi(e,"mousemove",this._delayedDragTouchMoveHandler),fi(e,"touchmove",this._delayedDragTouchMoveHandler),fi(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,i){i=i||e.pointerType=="touch"&&e,!this.nativeDraggable||i?this.options.supportPointer?yi(document,"pointermove",this._onTouchMove):i?yi(document,"touchmove",this._onTouchMove):yi(document,"mousemove",this._onTouchMove):(yi(Ze,"dragend",this),yi($r,"dragstart",this._onDragStart));try{document.selection?hA(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(e,i){if(ww=!1,$r&&Ze){Go("dragStarted",this,{evt:i}),this.nativeDraggable&&yi(document,"dragover",gQe);var r=this.options;!e&&Ka(Ze,r.dragClass,!1),Ka(Ze,r.ghostClass,!0),zt.active=this,e&&this._appendGhost(),_o({sortable:this,name:"start",originalEvent:i})}else this._nulling()},_emulateDragOver:function(){if(Vc){this._lastX=Vc.clientX,this._lastY=Vc.clientY,zge();for(var e=document.elementFromPoint(Vc.clientX,Vc.clientY),i=e;e&&e.shadowRoot&&(e=e.shadowRoot.elementFromPoint(Vc.clientX,Vc.clientY),e!==i);)i=e;if(Ze.parentNode[pa]._isOutsideThisEl(e),i)do{if(i[pa]){var r=void 0;if(r=i[pa]._onDragOver({clientX:Vc.clientX,clientY:Vc.clientY,target:e,rootEl:i}),r&&!this.options.dragoverBubble)break}e=i}while(i=Ige(i));Nge()}},_onTouchMove:function(e){if(Jg){var i=this.options,r=i.fallbackTolerance,n=i.fallbackOffset,s=e.touches?e.touches[0]:e,o=Yt&&a_(Yt,!0),a=Yt&&o&&o.a,l=Yt&&o&&o.d,h=yC&&Zs&&Mte(Zs),f=(s.clientX-Jg.clientX+n.x)/(a||1)+(h?h[0]-AN[0]:0)/(a||1),g=(s.clientY-Jg.clientY+n.y)/(l||1)+(h?h[1]-AN[1]:0)/(l||1);if(!zt.active&&!ww){if(r&&Math.max(Math.abs(s.clientX-this._lastX),Math.abs(s.clientY-this._lastY))<r)return;this._onDragStart(e,!0)}if(Yt){o?(o.e+=f-(CN||0),o.f+=g-(MN||0)):o={a:1,b:0,c:0,d:1,e:f,f:g};var v="matrix(".concat(o.a,",").concat(o.b,",").concat(o.c,",").concat(o.d,",").concat(o.e,",").concat(o.f,")");Lt(Yt,"webkitTransform",v),Lt(Yt,"mozTransform",v),Lt(Yt,"msTransform",v),Lt(Yt,"transform",v),CN=f,MN=g,Vc=s}e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!Yt){var e=this.options.fallbackOnBody?document.body:$r,i=Tn(Ze,!0,yC,!0,e),r=this.options;if(yC){for(Zs=e;Lt(Zs,"position")==="static"&&Lt(Zs,"transform")==="none"&&Zs!==document;)Zs=Zs.parentNode;Zs!==document.body&&Zs!==document.documentElement?(Zs===document&&(Zs=Od()),i.top+=Zs.scrollTop,i.left+=Zs.scrollLeft):Zs=Od(),AN=Mte(Zs)}Yt=Ze.cloneNode(!0),Ka(Yt,r.ghostClass,!1),Ka(Yt,r.fallbackClass,!0),Ka(Yt,r.dragClass,!0),Lt(Yt,"transition",""),Lt(Yt,"transform",""),Lt(Yt,"box-sizing","border-box"),Lt(Yt,"margin",0),Lt(Yt,"top",i.top),Lt(Yt,"left",i.left),Lt(Yt,"width",i.width),Lt(Yt,"height",i.height),Lt(Yt,"opacity","0.8"),Lt(Yt,"position",yC?"absolute":"fixed"),Lt(Yt,"zIndex","100000"),Lt(Yt,"pointerEvents","none"),zt.ghost=Yt,e.appendChild(Yt),Lt(Yt,"transform-origin",Ate/parseInt(Yt.style.width)*100+"% "+Ote/parseInt(Yt.style.height)*100+"%")}},_onDragStart:function(e,i){var r=this,n=e.dataTransfer,s=r.options;if(Go("dragStart",this,{evt:e}),zt.eventCanceled){this._onDrop();return}Go("setupClone",this),zt.eventCanceled||(Ar=Oge(Ze),Ar.removeAttribute("id"),Ar.draggable=!1,Ar.style["will-change"]="",this._hideClone(),Ka(Ar,this.options.chosenClass,!1),zt.clone=Ar),r.cloneId=hA(function(){Go("clone",r),!zt.eventCanceled&&(r.options.removeCloneOnHide||$r.insertBefore(Ar,Ze),r._hideClone(),_o({sortable:r,name:"clone"}))}),!i&&Ka(Ze,s.dragClass,!0),i?(vP=!0,r._loopId=setInterval(r._emulateDragOver,50)):(fi(document,"mouseup",r._onDrop),fi(document,"touchend",r._onDrop),fi(document,"touchcancel",r._onDrop),n&&(n.effectAllowed="move",s.setData&&s.setData.call(r,n,Ze)),yi(document,"drop",r),Lt(Ze,"transform","translateZ(0)")),ww=!0,r._dragStartId=hA(r._dragStarted.bind(r,i,e)),yi(document,"selectstart",r),wT=!0,window.getSelection().removeAllRanges(),h2&&Lt(document.body,"user-select","none")},_onDragOver:function(e){var i=this.el,r=e.target,n,s,o,a=this.options,l=a.group,h=zt.active,f=mC===l,g=a.sort,v=ks||h,w,S=this,T=!1;if(LV)return;function C(ve,Me){Go(ve,S,Ud({evt:e,isOwner:f,axis:w?"vertical":"horizontal",revert:o,dragRect:n,targetRect:s,canSort:g,fromSortable:v,target:r,completed:A,onMove:function(X,fe){return vC($r,i,Ze,n,X,Tn(X),e,fe)},changed:P},Me))}function I(){C("dragOverAnimationCapture"),S.captureAnimationState(),S!==v&&v.captureAnimationState()}function A(ve){return C("dragOverCompleted",{insertion:ve}),ve&&(f?h._hideClone():h._showClone(S),S!==v&&(Ka(Ze,ks?ks.options.ghostClass:h.options.ghostClass,!1),Ka(Ze,a.ghostClass,!0)),ks!==S&&S!==zt.active?ks=S:S===zt.active&&ks&&(ks=null),v===S&&(S._ignoreWhileAnimating=r),S.animateAll(function(){C("dragOverAnimationComplete"),S._ignoreWhileAnimating=null}),S!==v&&(v.animateAll(),v._ignoreWhileAnimating=null)),(r===Ze&&!Ze.animated||r===i&&!r.animated)&&(m0=null),!a.dragoverBubble&&!e.rootEl&&r!==document&&(Ze.parentNode[pa]._isOutsideThisEl(e.target),!ve&&Xg(e)),!a.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),T=!0}function P(){el=Wl(Ze),hm=Wl(Ze,a.draggable),_o({sortable:S,name:"change",toEl:i,newIndex:el,newDraggableIndex:hm,originalEvent:e})}if(e.preventDefault!==void 0&&e.cancelable&&e.preventDefault(),r=ou(r,a.draggable,i,!0),C("dragOver"),zt.eventCanceled)return T;if(Ze.contains(e.target)||r.animated&&r.animatingX&&r.animatingY||S._ignoreWhileAnimating===r)return A(!1);if(vP=!1,h&&!a.disabled&&(f?g||(o=Br!==$r):ks===this||(this.lastPutMode=mC.checkPull(this,h,Ze,e))&&l.checkPut(this,h,Ze,e))){if(w=this._getDirection(e,r)==="vertical",n=Tn(Ze),C("dragOverValid"),zt.eventCanceled)return T;if(o)return Br=$r,I(),this._hideClone(),C("revert"),zt.eventCanceled||(Ay?$r.insertBefore(Ze,Ay):$r.appendChild(Ze)),A(!0);var D=_7(i,a.draggable);if(!D||wQe(e,w,this)&&!D.animated){if(D===Ze)return A(!1);if(D&&i===e.target&&(r=D),r&&(s=Tn(r)),vC($r,i,Ze,n,r,s,e,!!r)!==!1)return I(),D&&D.nextSibling?i.insertBefore(Ze,D.nextSibling):i.appendChild(Ze),Br=i,P(),A(!0)}else if(D&&bQe(e,w,this)){var L=m1(i,0,a,!0);if(L===Ze)return A(!1);if(r=L,s=Tn(r),vC($r,i,Ze,n,r,s,e,!1)!==!1)return I(),i.insertBefore(Ze,L),Br=i,P(),A(!0)}else if(r.parentNode===i){s=Tn(r);var B=0,N,Y=Ze.parentNode!==i,K=!fQe(Ze.animated&&Ze.toRect||n,r.animated&&r.toRect||s,w),te=w?"top":"left",ue=Cte(r,"top","top")||Cte(Ze,"top","top"),ye=ue?ue.scrollTop:void 0;m0!==r&&(N=s[te],g2=!1,gC=!K&&a.invertSwap||Y),B=_Qe(e,r,s,w,K?1:a.swapThreshold,a.invertedSwapThreshold==null?a.swapThreshold:a.invertedSwapThreshold,gC,m0===r);var se;if(B!==0){var G=Wl(Ze);do G-=B,se=Br.children[G];while(se&&(Lt(se,"display")==="none"||se===Yt))}if(B===0||se===r)return A(!1);m0=r,m2=B;var ie=r.nextElementSibling,J=!1;J=B===1;var le=vC($r,i,Ze,n,r,s,e,J);if(le!==!1)return(le===1||le===-1)&&(J=le===1),LV=!0,setTimeout(vQe,30),I(),J&&!ie?i.appendChild(Ze):r.parentNode.insertBefore(Ze,J?ie:r),ue&&Age(ue,0,ye-ue.scrollTop),Br=Ze.parentNode,N!==void 0&&!gC&&(dA=Math.abs(N-Tn(r)[te])),P(),A(!0)}if(i.contains(Ze))return A(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){fi(document,"mousemove",this._onTouchMove),fi(document,"touchmove",this._onTouchMove),fi(document,"pointermove",this._onTouchMove),fi(document,"dragover",Xg),fi(document,"mousemove",Xg),fi(document,"touchmove",Xg)},_offUpEvents:function(){var e=this.el.ownerDocument;fi(e,"mouseup",this._onDrop),fi(e,"touchend",this._onDrop),fi(e,"pointerup",this._onDrop),fi(e,"pointercancel",this._onDrop),fi(e,"touchcancel",this._onDrop),fi(document,"selectstart",this)},_onDrop:function(e){var i=this.el,r=this.options;if(el=Wl(Ze),hm=Wl(Ze,r.draggable),Go("drop",this,{evt:e}),Br=Ze&&Ze.parentNode,el=Wl(Ze),hm=Wl(Ze,r.draggable),zt.eventCanceled){this._nulling();return}ww=!1,gC=!1,g2=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),zV(this.cloneId),zV(this._dragStartId),this.nativeDraggable&&(fi(document,"drop",this),fi(i,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),h2&&Lt(document.body,"user-select",""),Lt(Ze,"transform",""),e&&(wT&&(e.cancelable&&e.preventDefault(),!r.dropBubble&&e.stopPropagation()),Yt&&Yt.parentNode&&Yt.parentNode.removeChild(Yt),($r===Br||ks&&ks.lastPutMode!=="clone")&&Ar&&Ar.parentNode&&Ar.parentNode.removeChild(Ar),Ze&&(this.nativeDraggable&&fi(Ze,"dragend",this),ON(Ze),Ze.style["will-change"]="",wT&&!ww&&Ka(Ze,ks?ks.options.ghostClass:this.options.ghostClass,!1),Ka(Ze,this.options.chosenClass,!1),_o({sortable:this,name:"unchoose",toEl:Br,newIndex:null,newDraggableIndex:null,originalEvent:e}),$r!==Br?(el>=0&&(_o({rootEl:Br,name:"add",toEl:Br,fromEl:$r,originalEvent:e}),_o({sortable:this,name:"remove",toEl:Br,originalEvent:e}),_o({rootEl:Br,name:"sort",toEl:Br,fromEl:$r,originalEvent:e}),_o({sortable:this,name:"sort",toEl:Br,originalEvent:e})),ks&&ks.save()):el!==zw&&el>=0&&(_o({sortable:this,name:"update",toEl:Br,originalEvent:e}),_o({sortable:this,name:"sort",toEl:Br,originalEvent:e})),zt.active&&((el==null||el===-1)&&(el=zw,hm=f2),_o({sortable:this,name:"end",toEl:Br,originalEvent:e}),this.save()))),this._nulling()},_nulling:function(){Go("nulling",this),$r=Ze=Br=Yt=Ay=Ar=uA=wm=Jg=Vc=wT=el=hm=zw=f2=m0=m2=ks=mC=zt.dragged=zt.ghost=zt.clone=zt.active=null,wP.forEach(function(e){e.checked=!0}),wP.length=CN=MN=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":Ze&&(this._onDragOver(e),yQe(e));break;case"selectstart":e.preventDefault();break}},toArray:function(){for(var e=[],i,r=this.el.children,n=0,s=r.length,o=this.options;n<s;n++)i=r[n],ou(i,o.draggable,this.el,!1)&&e.push(i.getAttribute(o.dataIdAttr)||SQe(i));return e},sort:function(e,i){var r={},n=this.el;this.toArray().forEach(function(s,o){var a=n.children[o];ou(a,this.options.draggable,n,!1)&&(r[s]=a)},this),i&&this.captureAnimationState(),e.forEach(function(s){r[s]&&(n.removeChild(r[s]),n.appendChild(r[s]))}),i&&this.animateAll()},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,i){return ou(e,i||this.options.draggable,this.el,!1)},option:function(e,i){var r=this.options;if(i===void 0)return r[e];var n=bk.modifyOption(this,e,i);typeof n<"u"?r[e]=n:r[e]=i,e==="group"&&Lge(r)},destroy:function(){Go("destroy",this);var e=this.el;e[pa]=null,fi(e,"mousedown",this._onTapStart),fi(e,"touchstart",this._onTapStart),fi(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(fi(e,"dragover",this),fi(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),function(i){i.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),bP.splice(bP.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!wm){if(Go("hideClone",this),zt.eventCanceled)return;Lt(Ar,"display","none"),this.options.removeCloneOnHide&&Ar.parentNode&&Ar.parentNode.removeChild(Ar),wm=!0}},_showClone:function(e){if(e.lastPutMode!=="clone"){this._hideClone();return}if(wm){if(Go("showClone",this),zt.eventCanceled)return;Ze.parentNode==$r&&!this.options.group.revertClone?$r.insertBefore(Ar,Ze):Ay?$r.insertBefore(Ar,Ay):$r.appendChild(Ar),this.options.group.revertClone&&this.animate(Ze,Ar),Lt(Ar,"display",""),wm=!1}}};function yQe(t){t.dataTransfer&&(t.dataTransfer.dropEffect="move"),t.cancelable&&t.preventDefault()}function vC(t,e,i,r,n,s,o,a){var l,h=t[pa],f=h.options.onMove,g;return window.CustomEvent&&!qp&&!vk?l=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(l=document.createEvent("Event"),l.initEvent("move",!0,!0)),l.to=e,l.from=t,l.dragged=i,l.draggedRect=r,l.related=n||e,l.relatedRect=s||Tn(e),l.willInsertAfter=a,l.originalEvent=o,t.dispatchEvent(l),f&&(g=f.call(h,l,o)),g}function ON(t){t.draggable=!1}function vQe(){LV=!1}function bQe(t,e,i){var r=Tn(m1(i.el,0,i.options,!0)),n=Pge(i.el,i.options,Yt),s=10;return e?t.clientX<n.left-s||t.clientY<r.top&&t.clientX<r.right:t.clientY<n.top-s||t.clientY<r.bottom&&t.clientX<r.left}function wQe(t,e,i){var r=Tn(_7(i.el,i.options.draggable)),n=Pge(i.el,i.options,Yt),s=10;return e?t.clientX>n.right+s||t.clientY>r.bottom&&t.clientX>r.left:t.clientY>n.bottom+s||t.clientX>r.right&&t.clientY>r.top}function _Qe(t,e,i,r,n,s,o,a){var l=r?t.clientY:t.clientX,h=r?i.height:i.width,f=r?i.top:i.left,g=r?i.bottom:i.right,v=!1;if(!o){if(a&&dA<h*n){if(!g2&&(m2===1?l>f+h*s/2:l<g-h*s/2)&&(g2=!0),g2)v=!0;else if(m2===1?l<f+dA:l>g-dA)return-m2}else if(l>f+h*(1-n)/2&&l<g-h*(1-n)/2)return xQe(e)}return v=v||o,v&&(l<f+h*s/2||l>g-h*s/2)?l>f+h/2?1:-1:0}function xQe(t){return Wl(Ze)<Wl(t)?1:-1}function SQe(t){for(var e=t.tagName+t.className+t.src+t.href+t.textContent,i=e.length,r=0;i--;)r+=e.charCodeAt(i);return r.toString(36)}function TQe(t){wP.length=0;for(var e=t.getElementsByTagName("input"),i=e.length;i--;){var r=e[i];r.checked&&wP.push(r)}}function hA(t){return setTimeout(t,0)}function zV(t){return clearTimeout(t)}B3&&yi(document,"touchmove",function(t){(zt.active||ww)&&t.cancelable&&t.preventDefault()});zt.utils={on:yi,off:fi,css:Lt,find:Cge,is:function(e,i){return!!ou(e,i,e,!1)},extend:oQe,throttle:Mge,closest:ou,toggleClass:Ka,clone:Oge,index:Wl,nextTick:hA,cancelNextTick:zV,detectDirection:Rge,getChild:m1,expando:pa};zt.get=function(t){return t[pa]};zt.mount=function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];e[0].constructor===Array&&(e=e[0]),e.forEach(function(r){if(!r.prototype||!r.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(r));r.utils&&(zt.utils=Ud(Ud({},zt.utils),r.utils)),bk.mount(r)})};zt.create=function(t,e){return new zt(t,e)};zt.version=nQe;var wn=[],_T,NV,jV=!1,PN,DN,_P,xT;function $Qe(){function t(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var e in this)e.charAt(0)==="_"&&typeof this[e]=="function"&&(this[e]=this[e].bind(this))}return t.prototype={dragStarted:function(i){var r=i.originalEvent;this.sortable.nativeDraggable?yi(document,"dragover",this._handleAutoScroll):this.options.supportPointer?yi(document,"pointermove",this._handleFallbackAutoScroll):r.touches?yi(document,"touchmove",this._handleFallbackAutoScroll):yi(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(i){var r=i.originalEvent;!this.options.dragOverBubble&&!r.rootEl&&this._handleAutoScroll(r)},drop:function(){this.sortable.nativeDraggable?fi(document,"dragover",this._handleAutoScroll):(fi(document,"pointermove",this._handleFallbackAutoScroll),fi(document,"touchmove",this._handleFallbackAutoScroll),fi(document,"mousemove",this._handleFallbackAutoScroll)),Dte(),pA(),aQe()},nulling:function(){_P=NV=_T=jV=xT=PN=DN=null,wn.length=0},_handleFallbackAutoScroll:function(i){this._handleAutoScroll(i,!0)},_handleAutoScroll:function(i,r){var n=this,s=(i.touches?i.touches[0]:i).clientX,o=(i.touches?i.touches[0]:i).clientY,a=document.elementFromPoint(s,o);if(_P=i,r||this.options.forceAutoScrollFallback||vk||qp||h2){RN(i,this.options,a,r);var l=Pm(a,!0);jV&&(!xT||s!==PN||o!==DN)&&(xT&&Dte(),xT=setInterval(function(){var h=Pm(document.elementFromPoint(s,o),!0);h!==l&&(l=h,pA()),RN(i,n.options,h,r)},10),PN=s,DN=o)}else{if(!this.options.bubbleScroll||Pm(a,!0)===Od()){pA();return}RN(i,this.options,Pm(a,!1),!1)}}},Lp(t,{pluginName:"scroll",initializeByDefault:!0})}function pA(){wn.forEach(function(t){clearInterval(t.pid)}),wn=[]}function Dte(){clearInterval(xT)}var RN=Mge(function(t,e,i,r){if(e.scroll){var n=(t.touches?t.touches[0]:t).clientX,s=(t.touches?t.touches[0]:t).clientY,o=e.scrollSensitivity,a=e.scrollSpeed,l=Od(),h=!1,f;NV!==i&&(NV=i,pA(),_T=e.scroll,f=e.scrollFn,_T===!0&&(_T=Pm(i,!0)));var g=0,v=_T;do{var w=v,S=Tn(w),T=S.top,C=S.bottom,I=S.left,A=S.right,P=S.width,D=S.height,L=void 0,B=void 0,N=w.scrollWidth,Y=w.scrollHeight,K=Lt(w),te=w.scrollLeft,ue=w.scrollTop;w===l?(L=P<N&&(K.overflowX==="auto"||K.overflowX==="scroll"||K.overflowX==="visible"),B=D<Y&&(K.overflowY==="auto"||K.overflowY==="scroll"||K.overflowY==="visible")):(L=P<N&&(K.overflowX==="auto"||K.overflowX==="scroll"),B=D<Y&&(K.overflowY==="auto"||K.overflowY==="scroll"));var ye=L&&(Math.abs(A-n)<=o&&te+P<N)-(Math.abs(I-n)<=o&&!!te),se=B&&(Math.abs(C-s)<=o&&ue+D<Y)-(Math.abs(T-s)<=o&&!!ue);if(!wn[g])for(var G=0;G<=g;G++)wn[G]||(wn[G]={});(wn[g].vx!=ye||wn[g].vy!=se||wn[g].el!==w)&&(wn[g].el=w,wn[g].vx=ye,wn[g].vy=se,clearInterval(wn[g].pid),(ye!=0||se!=0)&&(h=!0,wn[g].pid=setInterval((function(){r&&this.layer===0&&zt.active._onTouchMove(_P);var ie=wn[this.layer].vy?wn[this.layer].vy*a:0,J=wn[this.layer].vx?wn[this.layer].vx*a:0;typeof f=="function"&&f.call(zt.dragged.parentNode[pa],J,ie,t,_P,wn[this.layer].el)!=="continue"||Age(wn[this.layer].el,J,ie)}).bind({layer:g}),24))),g++}while(e.bubbleScroll&&v!==l&&(v=Pm(v,!1)));jV=h}},30),jge=function(e){var i=e.originalEvent,r=e.putSortable,n=e.dragEl,s=e.activeSortable,o=e.dispatchSortableEvent,a=e.hideGhostForTarget,l=e.unhideGhostForTarget;if(i){var h=r||s;a();var f=i.changedTouches&&i.changedTouches.length?i.changedTouches[0]:i,g=document.elementFromPoint(f.clientX,f.clientY);l(),h&&!h.el.contains(g)&&(o("spill"),this.onSpill({dragEl:n,putSortable:r}))}};function x7(){}x7.prototype={startIndex:null,dragStart:function(e){var i=e.oldDraggableIndex;this.startIndex=i},onSpill:function(e){var i=e.dragEl,r=e.putSortable;this.sortable.captureAnimationState(),r&&r.captureAnimationState();var n=m1(this.sortable.el,this.startIndex,this.options);n?this.sortable.el.insertBefore(i,n):this.sortable.el.appendChild(i),this.sortable.animateAll(),r&&r.animateAll()},drop:jge};Lp(x7,{pluginName:"revertOnSpill"});function S7(){}S7.prototype={onSpill:function(e){var i=e.dragEl,r=e.putSortable,n=r||this.sortable;n.captureAnimationState(),i.parentNode&&i.parentNode.removeChild(i),n.animateAll()},drop:jge};Lp(S7,{pluginName:"removeOnSpill"});zt.mount(new $Qe);zt.mount(S7,x7);const H3=new Set,kQe={ghostClass:"calcite-sortable--ghost",chosenClass:"calcite-sortable--chosen",dragClass:"calcite-sortable--drag",fallbackClass:"calcite-sortable--fallback"};function EQe(t){if(Vge(t))return;Fge(t),H3.add(t);const e="id",{group:i,handleSelector:r,dragSelector:n,sortDisabled:s}=t;t.sortable=zt.create(t.el,{dataIdAttr:e,swapThreshold:.5,...kQe,...!!n&&{draggable:n},...!!i&&{sort:!s,group:{name:i,...!!t.canPull&&{pull:(o,a,l,{newDraggableIndex:h,oldDraggableIndex:f})=>t.canPull({toEl:o.el,fromEl:a.el,dragEl:l,newIndex:h,oldIndex:f})},...!!t.canPut&&{put:(o,a,l,{newDraggableIndex:h,oldDraggableIndex:f})=>t.canPut({toEl:o.el,fromEl:a.el,dragEl:l,newIndex:h,oldIndex:f})}}},onMove:({from:o,dragged:a,to:l,related:h})=>{t.onDragMove&&t.onDragMove({fromEl:o,dragEl:a,toEl:l,relatedEl:h})},handle:r,filter:`${r}[disabled]`,onStart:({from:o,item:a,to:l,newDraggableIndex:h,oldDraggableIndex:f})=>{FV.active=!0,IQe(),t.onDragStart({fromEl:o,dragEl:a,toEl:l,newIndex:h,oldIndex:f})},onEnd:({from:o,item:a,to:l,newDraggableIndex:h,oldDraggableIndex:f})=>{FV.active=!1,CQe(),t.onDragEnd({fromEl:o,dragEl:a,toEl:l,newIndex:h,oldIndex:f})},onSort:({from:o,item:a,to:l,newDraggableIndex:h,oldDraggableIndex:f})=>{t.onDragSort({fromEl:o,dragEl:a,toEl:l,newIndex:h,oldIndex:f})}})}function Fge(t){Vge(t)||(H3.delete(t),t.sortable?.destroy(),t.sortable=null)}const FV={active:!1};function Vge(t){return t.dragEnabled&&FV.active}function IQe(){Array.from(H3).forEach(t=>t.onGlobalDragStart())}function CQe(){Array.from(H3).forEach(t=>t.onGlobalDragEnd())}const Sh={container:"container",table:"table",scrim:"scrim",stack:"stack",tableContainer:"table-container",sticky:"sticky-pos",assistiveText:"assistive-text",containerHeight:"container-height"},LN={filterNoResults:"filter-no-results",filterActionsStart:"filter-actions-start",filterActionsEnd:"filter-actions-end"},MQe=vi`:host{--calcite-internal-color-focus: var( --calcite-color-focus, var(--calcite-ui-focus-color, var(--calcite-color-brand)) )}:host([disabled]){cursor:default;-webkit-user-select:none;user-select:none;opacity:var(--calcite-opacity-disabled)}:host([disabled]) *,:host([disabled]) ::slotted(*){pointer-events:none}:host{display:block}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}.interaction-container{display:contents}.container{position:relative;background-color:var(--calcite-list-background-color, var(--calcite-color-foreground-1))}.container-height{block-size:100%}.table-container{box-sizing:border-box;display:flex;inline-size:100%;flex-direction:column;background-color:transparent}.table-container *{box-sizing:border-box}.table{inline-size:100%}.stack{--calcite-stack-padding-inline: 0;--calcite-stack-padding-block: 0}.sticky-pos{position:sticky;inset-block-start:0px;z-index:var(--calcite-z-index-sticky);background-color:var(--calcite-list-background-color, var(--calcite-color-foreground-1))}.assistive-text{position:absolute;inline-size:1px;block-size:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border-width:0}:host([hidden]){display:none}[hidden]{display:none}`,AQe=`${gP}, ${xp}`,JP=class JP extends wi{constructor(){super(),this.dragSelector=xp,this.focusableItems=[],this.handleSelector="calcite-sort-handle",this.listItems=[],this.listItemGroups=[],this.mutationObserver=zs("mutation",()=>{this.willPerformFilter=!0,this.updateListItemsDebounced()}),this.cancelable=b7()(this),this.updateListItemsDebounced=L3(this.updateListItems,ED.nextTick),this.visibleItems=[],this.willFilterEmit=!1,this.willPerformFilter=!1,this.messages=ds({blocking:!0}),this.focusSetter=Ns()(this),this.dataForFilter=[],this.hasFilterActionsEnd=!1,this.hasFilterActionsStart=!1,this.hasFilterNoResults=!1,this.sortHandleMenuItems=[],this.disabled=!1,this.dragEnabled=!1,this.filterEnabled=!1,this.filteredData=[],this.filteredItems=[],this.interactionMode="interactive",this.loading=!1,this.displayMode="flat",this.scale="m",this.selectedItems=[],this.selectionAppearance="icon",this.selectionMode="none",this.sortDisabled=!1,this.calciteInternalListDefaultSlotChange=Ge({cancelable:!1}),this.calciteListChange=Ge({cancelable:!1}),this.calciteListDragEnd=Ge({cancelable:!1}),this.calciteListDragStart=Ge({cancelable:!1}),this.calciteListFilter=Ge({cancelable:!1}),this.calciteListMoveHalt=Ge({cancelable:!1}),this.calciteListOrderChange=Ge({cancelable:!1}),this.listen("calciteInternalListItemToggle",this.handleCalciteListItemToggle),this.listen("calciteInternalFocusPreviousItem",this.handleCalciteInternalFocusPreviousItem),this.listen("calciteInternalListItemActive",this.handleCalciteInternalListItemActive),this.listen("calciteListItemSelect",this.handleCalciteListItemSelect),this.listen("calciteInternalAssistiveTextChange",this.handleCalciteInternalAssistiveTextChange),this.listen("calciteListItemSortHandleBeforeOpen",this.updateListItemsDebounced),this.listen("calciteSortHandleReorder",this.handleSortReorder),this.listen("calciteSortHandleMove",this.handleSortMove),this.listen("calciteSortHandleAdd",this.handleSortAdd),this.listen("calciteInternalListItemSelect",this.handleCalciteInternalListItemSelect),this.listen("calciteInternalListItemSelectMultiple",this.handleCalciteInternalListItemSelectMultiple),this.listen("calciteInternalListItemChange",this.handleCalciteInternalListItemChange),this.listen("calciteInternalListItemGroupDefaultSlotChange",this.handleCalciteInternalListItemGroupDefaultSlotChange)}get hasActiveFilter(){return this.filterEnabled&&this.filterText&&this.filteredItems.length!==this.visibleItems.length}get showNoResultsContainer(){return this.filterEnabled&&this.filterText&&this.hasFilterNoResults&&this.visibleItems.length&&!this.filteredItems.length}async setFocus(e){return this.focusSetter(()=>this.filterEnabled?this.filterEl:this.focusableItems.find(i=>i.active),e)}emitOrderChangeEvent(e){this.calciteListOrderChange.emit(e)}connectedCallback(){super.connectedCallback(),this.connectObserver(),this.willPerformFilter=!0,this.updateListItemsDebounced(),this.setUpSorting(),this.setParentList(),this.setListItemGroups(),this.cancelable.add(this.updateListItemsDebounced)}async load(){this.handleInteractionModeWarning()}willUpdate(e){(e.has("filterText")||e.has("filterProps")||e.has("filterPredicate"))&&this.performFilter(),(e.has("filterEnabled")&&(this.hasUpdated||this.filterEnabled!==!1)||e.has("group")||e.has("sortDisabled")&&(this.hasUpdated||this.sortDisabled!==!1)||e.has("dragEnabled")&&(this.hasUpdated||this.dragEnabled!==!1)||e.has("selectionMode")&&(this.hasUpdated||this.selectionMode!=="none")||e.has("selectionAppearance")&&(this.hasUpdated||this.selectionAppearance!=="icon")||e.has("displayMode")&&this.hasUpdated||e.has("scale")&&this.hasUpdated||e.has("canPull")&&this.hasUpdated||e.has("canPut")&&this.hasUpdated||e.has("filterPredicate")&&this.hasUpdated)&&this.handleListItemChange()}updated(){wl(this)}disconnectedCallback(){super.disconnectedCallback(),this.disconnectObserver(),Fge(this)}updateListItems(){this.updateGroupItems();const{selectionAppearance:e,selectionMode:i,interactionMode:r,dragEnabled:n,el:s,filterEl:o,displayMode:a,scale:l,sortDisabled:h,sortHandleMenuItems:f}=this,g=Array.from(this.el.querySelectorAll(xp)),v=s,w=Array.from(v.children).filter(fC);if(g.forEach(S=>{S.scale=l,S.selectionAppearance=e,S.selectionMode=i,S.interactionMode=r,S.closest(d2)===s&&(S.moveToItems=f.filter(T=>this.validateSortMenuItem({type:"move",fromEl:v,toEl:T.element,dragEl:S,newIndex:0,oldIndex:w.indexOf(S)})),S.addToItems=this.sortHandleMenuItems.filter(T=>this.validateSortMenuItem({type:"add",fromEl:v,toEl:T.element,dragEl:S,newIndex:0,oldIndex:w.indexOf(S)})),S.dragHandle=n,S.displayMode=a,S.sortDisabled=h)}),this.parentListEl){this.setUpSorting();return}this.listItems=g,this.filterEnabled&&this.willPerformFilter&&(this.willPerformFilter=!1,this.dataForFilter=this.getItemData(),o&&(o.items=this.dataForFilter,this.filterAndUpdateData())),this.visibleItems=this.listItems.filter(S=>!S.closed&&!S.hidden),this.updateFilteredItems(),this.borderItems(),this.focusableItems=this.filteredItems.filter(S=>!S.disabled),this.setActiveListItem(),this.updateSelectedItems(),this.setUpSorting()}handleListItemChange(){this.willPerformFilter=!0,this.updateListItemsDebounced()}handleCalciteListItemToggle(e){this.parentListEl||(e.stopPropagation(),this.borderItems())}handleCalciteInternalFocusPreviousItem(e){if(this.parentListEl)return;e.stopPropagation();const{focusableItems:i}=this,n=i.findIndex(s=>s.active)-1;i[n]&&this.focusRow(i[n])}handleCalciteInternalListItemActive(e){if(this.parentListEl)return;e.stopPropagation();const i=e.target,{listItems:r}=this;r.forEach(n=>{n.active=n===i})}handleCalciteListItemSelect(){this.parentListEl||this.updateSelectedItems(!0)}handleCalciteInternalAssistiveTextChange(e){this.assistiveText=e.detail.message,e.stopPropagation()}handleSortReorder(e){this.parentListEl||e.defaultPrevented||(e.preventDefault(),this.handleReorder(e))}handleSortAdd(e){this.parentListEl||e.defaultPrevented||(e.preventDefault(),this.handleAdd(e))}handleSortMove(e){this.parentListEl||e.defaultPrevented||(e.preventDefault(),this.handleMove(e))}handleCalciteInternalListItemSelect(e){if(this.parentListEl)return;e.stopPropagation();const i=e.target,{listItems:r,selectionMode:n}=this;i.selected&&(n==="single"||n==="single-persist")&&r.forEach(s=>s.selected=s===i),this.updateSelectedItems()}handleCalciteInternalListItemSelectMultiple(e){if(this.parentListEl)return;e.stopPropagation();const{target:i,detail:r}=e,{focusableItems:n,lastSelectedInfo:s}=this,o=i;if(r.selectMultiple&&s){const a=n.indexOf(o),l=n.indexOf(s.selectedItem),h=Math.min(l,a),f=Math.max(l,a);n.slice(h,f+1).forEach(g=>g.selected=s.selected)}else this.lastSelectedInfo={selectedItem:o,selected:o.selected}}handleCalciteInternalListItemChange(e){this.parentListEl||(e.stopPropagation(),this.updateListItemsDebounced())}handleCalciteInternalListItemGroupDefaultSlotChange(e){e.stopPropagation()}connectObserver(){this.mutationObserver?.observe(this.el,{childList:!0,subtree:!0})}disconnectObserver(){this.mutationObserver?.disconnect()}setUpSorting(){const{dragEnabled:e,defaultSlotEl:i}=this;e&&(i&&QKe(i),EQe(this))}onGlobalDragStart(){this.disconnectObserver()}onGlobalDragEnd(){this.connectObserver()}onDragEnd(e){this.calciteListDragEnd.emit(e)}onDragStart(e){e.dragEl.sortHandleOpen=!1,this.calciteListDragStart.emit(e)}onDragSort(e){this.setParentList(),this.updateListItemsDebounced(),this.calciteListOrderChange.emit(e)}setParentList(){this.parentListEl=this.el.parentElement?.closest(d2)}handleDefaultSlotChange(){this.parentListEl&&this.calciteInternalListDefaultSlotChange.emit()}setListItemGroups(){this.listItemGroups=Array.from(this.el.querySelectorAll(gP))}handleFilterActionsStartSlotChange(e){this.hasFilterActionsStart=ri(e)}handleFilterActionsEndSlotChange(e){this.hasFilterActionsEnd=ri(e)}handleFilterNoResultsSlotChange(e){this.hasFilterNoResults=ri(e)}setActiveListItem(){const{focusableItems:e}=this;e.some(i=>i.active)||e[0]&&(e[0].active=!0)}async updateSelectedItems(e=!1){await this.updateComplete,this.selectedItems=this.visibleItems.filter(i=>i.selected),e&&this.calciteListChange.emit()}filterElements({el:e,filteredItems:i,visibleParents:r}){const n=!r.has(e)&&!i.includes(e);e.filterHidden=n;const s=e.parentElement.closest(AQe);s&&(n||r.add(s),this.filterElements({el:s,filteredItems:i,visibleParents:r}))}allParentListItemsExpanded(e){const i=e.parentElement?.closest(xp);if(i){if(!i.expanded)return!1}else return!0;return this.allParentListItemsExpanded(i)}borderItems(){const e=this.visibleItems.filter(i=>!i.filterHidden&&this.allParentListItemsExpanded(i));e.forEach(i=>i.bordered=i!==e[e.length-1])}updateFilteredItems(){const{visibleItems:e,filteredData:i,filterText:r,filterPredicate:n}=this,s=e?.filter(l=>e.every(h=>h===l||!l.contains(h))),o=n?e.filter(n):r?i.map(l=>l.el):e||[],a=new WeakSet;s.forEach(l=>this.filterElements({el:l,filteredItems:o,visibleParents:a})),this.filteredItems=o,this.willFilterEmit&&(this.willFilterEmit=!1,this.calciteListFilter.emit())}updateFilteredData(){const{filterEl:e}=this;e&&(e.filteredItems&&(this.filteredData=e.filteredItems),this.updateListItemsDebounced())}async filterAndUpdateData(){await this.filterEl?.filter(this.filterText),this.updateFilteredData()}get effectiveFilterProps(){return this.filterProps?this.filterProps.filter(e=>e!=="el"):["description","label","metadata","heading"]}performFilter(){const{filterEl:e,filterText:i,effectiveFilterProps:r}=this;e&&(e.value=i,e.filterProps=r,this.filterAndUpdateData())}setDefaultSlotEl(e){this.defaultSlotEl=e}setFilterEl(e){this.filterEl=e,this.performFilter()}handleFilterChange(e){e.stopPropagation();const{value:i}=e.currentTarget;this.filterText=i,this.willFilterEmit=!0,this.updateFilteredData()}getItemData(){return this.listItems.map(e=>({label:e.label,description:e.description,metadata:e.metadata,heading:this.getGroupHeading(e),el:e}))}getGroupHeading(e){return this.listItemGroups.filter(r=>r.contains(e)).map(r=>r.heading)}updateGroupItems(){const{el:e,group:i,scale:r}=this,n=Y$(e),s=i?Array.from(n.querySelectorAll(`${d2}[group="${i}"]`)).filter(a=>!a.disabled&&a.dragEnabled):[];this.sortHandleMenuItems=s.map(a=>({element:a,label:a.label??a.id,id:tg()})),Array.from(this.el.querySelectorAll(gP)).forEach(a=>{a.scale=r})}focusRow(e){const{focusableItems:i}=this;e&&(i.forEach(r=>r.active=r===e),e.setFocus())}isNavigable(e){const i=e.parentElement?.closest(xp);return i?i.expanded&&this.isNavigable(i):!0}handleListKeydown(e){if(e.defaultPrevented||this.parentListEl)return;const{key:i}=e,r=this.focusableItems.filter(s=>this.isNavigable(s)),n=r.findIndex(s=>s.active);if(i==="ArrowDown"){e.preventDefault();const s=e.target===this.filterEl?0:n+1;r[s]&&this.focusRow(r[s])}else if(i==="ArrowUp"){if(e.preventDefault(),n===0&&this.filterEnabled){this.filterEl.setFocus();return}const s=n-1;r[s]&&this.focusRow(r[s])}else if(i==="Home"){e.preventDefault();const s=r[0];s&&this.focusRow(s)}else if(i==="End"){e.preventDefault();const s=r[r.length-1];s&&this.focusRow(s)}}handleInteractionModeWarning(){this.interactionMode==="static"&&this.selectionMode!=="none"&&this.selectionAppearance==="border"&&console.warn('selection-appearance="border" requires interaction-mode="interactive"')}validateSortMenuItem({fromEl:e,toEl:i,dragEl:r,newIndex:n,oldIndex:s,type:o}){if(!e||!i||i===e||r.contains(i))return!1;const a=e.canPull?.({toEl:i,fromEl:e,dragEl:r,newIndex:n,oldIndex:s})??!0,l=i.canPut?.({toEl:i,fromEl:e,dragEl:r,newIndex:n,oldIndex:s})??!0;return(o==="add"?a==="clone":a===!0)&&l}handleAdd(e){const{addTo:i}=e.detail,r=e.target,n=r?.parentElement,s=i.element,a=Array.from(n.children).filter(fC).indexOf(r),l=0;if(!this.validateSortMenuItem({type:"add",fromEl:n,toEl:s,dragEl:r,newIndex:l,oldIndex:a}))return;r.sortHandleOpen=!1,this.disconnectObserver();const h=r.cloneNode();s.prepend(h),RV(r),this.updateListItemsDebounced(),this.connectObserver();const f={dragEl:r,fromEl:n,toEl:s,newIndex:l,oldIndex:a};this.calciteListOrderChange.emit(f),s.emitOrderChangeEvent(f)}handleMove(e){const{moveTo:i}=e.detail,r=e.target,n=r?.parentElement,s=i.element,a=Array.from(n.children).filter(fC).indexOf(r),l=0;if(!this.validateSortMenuItem({type:"move",fromEl:n,toEl:s,dragEl:r,newIndex:l,oldIndex:a}))return;r.sortHandleOpen=!1,this.disconnectObserver(),s.prepend(r),RV(r),this.updateListItemsDebounced(),this.connectObserver();const h={dragEl:r,fromEl:n,toEl:s,newIndex:l,oldIndex:a};this.calciteListOrderChange.emit(h),s.emitOrderChangeEvent(h)}handleReorder(e){const{reorder:i}=e.detail,r=e.target,n=r?.parentElement;if(!n)return;r.sortHandleOpen=!1;const s=Array.from(n.children).filter(fC),o=s.length-1,a=s.indexOf(r);let l=a;switch(i){case"top":l=0;break;case"bottom":l=o;break;case"up":l=a===0?0:a-1;break;case"down":l=a===o?o:a+1;break}this.disconnectObserver();const h=i==="up"||i==="top"?s[l]:s[l].nextSibling;n.insertBefore(r,h),this.updateListItemsDebounced(),this.connectObserver(),this.calciteListOrderChange.emit({dragEl:r,fromEl:n,toEl:n,newIndex:l,oldIndex:a})}render(){const{loading:e,label:i,disabled:r,dataForFilter:n,filterEnabled:s,filterPlaceholder:o,filterText:a,filterLabel:l,hasFilterActionsStart:h,hasFilterActionsEnd:f,effectiveFilterProps:g}=this;return _l({disabled:this.disabled,children:de`<div class=${ce({[Sh.container]:!0,[Sh.containerHeight]:this.listItems.length<1&&e})}>${this.dragEnabled?de`<span aria-live=assertive class=${ce(Sh.assistiveText)}>${this.assistiveText}</span>`:null}${this.renderItemAriaLive()}${e?de`<calcite-scrim class=${ce(Sh.scrim)} .loading=${e}></calcite-scrim>`:null}<div .ariaBusy=${e} .ariaLabel=${i||""} class=${ce(Sh.table)} @keydown=${this.handleListKeydown} role=treegrid>${s||h||f?de`<div class=${ce(Sh.sticky)} role=rowgroup><div role=row><div role=columnheader><calcite-stack class=${ce(Sh.stack)}><slot name=${LN.filterActionsStart} @slotchange=${this.handleFilterActionsStartSlotChange} slot=${Lw.actionsStart}></slot><calcite-filter .ariaLabel=${o} .disabled=${r} .filterProps=${g} .items=${n} .label=${l} @calciteFilterChange=${this.handleFilterChange} .placeholder=${o} .scale=${this.scale} .value=${a} ${Ut(this.setFilterEl)}></calcite-filter><slot name=${LN.filterActionsEnd} @slotchange=${this.handleFilterActionsEndSlotChange} slot=${Lw.actionsEnd}></slot></calcite-stack></div></div></div>`:null}<div class=${ce(Sh.tableContainer)} role=rowgroup><slot @slotchange=${this.handleDefaultSlotChange} ${Ut(this.setDefaultSlotEl)}></slot></div></div><div aria-live=polite data-test-id=no-results-container .hidden=${!this.showNoResultsContainer}><slot name=${LN.filterNoResults} @slotchange=${this.handleFilterNoResultsSlotChange}></slot></div></div>`})}renderItemAriaLive(){const{messages:e,filteredItems:i,parentListEl:r,messages:{_lang:n},numberingSystem:s}=this;return ql.numberFormatOptions={locale:n,numberingSystem:s},r?null:de`<div aria-live=polite class=${ce(Sh.assistiveText)}>${this.hasActiveFilter?vt("aria-filter-enabled",de`<div>${e.filterEnabled}</div>`):null}${vt("aria-item-count",de`<div>${e.total.replace("{count}",ql.localize(i.length.toString()))}</div>`)}${i.length?vt("aria-item-list",de`<ol>${i.map(o=>de`<li>${o.label}</li>`)}</ol>`):null}</div>`}};JP.properties={assistiveText:[16,{},{state:!0}],dataForFilter:[16,{},{state:!0}],hasFilterActionsEnd:[16,{},{state:!0}],hasFilterActionsStart:[16,{},{state:!0}],hasFilterNoResults:[16,{},{state:!0}],sortHandleMenuItems:[16,{},{state:!0}],canPull:[0,{},{attribute:!1}],canPut:[0,{},{attribute:!1}],disabled:[7,{},{reflect:!0,type:Boolean}],dragEnabled:[7,{},{reflect:!0,type:Boolean}],filterEnabled:[7,{},{reflect:!0,type:Boolean}],filterPredicate:[0,{},{attribute:!1}],filterLabel:[3,{},{reflect:!0}],filterPlaceholder:[3,{},{reflect:!0}],filterProps:[0,{},{attribute:!1}],filterText:[3,{},{reflect:!0}],filteredData:[0,{},{attribute:!1}],filteredItems:[0,{},{attribute:!1}],group:[3,{},{reflect:!0}],interactionMode:[3,{},{reflect:!0}],label:1,loading:[7,{},{reflect:!0,type:Boolean}],messageOverrides:[0,{},{attribute:!1}],displayMode:[3,{},{reflect:!0}],numberingSystem:1,scale:[3,{},{reflect:!0}],selectedItems:[0,{},{attribute:!1}],selectionAppearance:[3,{},{reflect:!0}],selectionMode:[3,{},{reflect:!0}],sortDisabled:[7,{},{reflect:!0,type:Boolean}]},JP.styles=MQe;let xP=JP;Pi("calcite-list",xP);const Fft=Object.freeze(Object.defineProperty({__proto__:null,List:xP},Symbol.toStringTag,{value:"Module"}));function VV(t,e,i){return e?`${t}-${e}`:i?`${t}-${i}`:`${t}-m`}const OQe={trigger:"trigger"},zN={content:"content",wrapper:"wrapper",triggerContainer:"trigger-container"},Rte="calcite-dropdown",bC={menuButton:t=>`${Rte}-${t}-menubutton`,menu:t=>`${Rte}-${t}-menu`},PQe=vi`:host{--calcite-internal-color-focus: var( --calcite-color-focus, var(--calcite-ui-focus-color, var(--calcite-color-brand)) )}:host([disabled]){cursor:default;-webkit-user-select:none;user-select:none;opacity:var(--calcite-opacity-disabled)}:host([disabled]) *,:host([disabled]) ::slotted(*){pointer-events:none}:host{display:inline-block}.wrapper{--calcite-floating-ui-z-index: var(--calcite-z-index-dropdown);inline-size:max-content;display:none;max-inline-size:100vw;max-block-size:100vh;inset-block-start:0;left:0;z-index:var(--calcite-floating-ui-z-index)}@starting-style{.wrapper{opacity:0;inset-block-start:0;left:0}}.wrapper .calcite-floating-ui-anim{position:relative;transition-duration:var(--calcite-floating-ui-transition);transition-property:inset-block-start,left,opacity,display;transition-behavior:allow-discrete;opacity:0;box-shadow:0 0 16px #00000029;z-index:var(--calcite-z-index);border-radius:.25rem}.wrapper[data-placement^=bottom] .calcite-floating-ui-anim{inset-block-start:-5px}.wrapper[data-placement^=top] .calcite-floating-ui-anim{inset-block-start:5px}.wrapper[data-placement^=left] .calcite-floating-ui-anim{left:5px}.wrapper[data-placement^=right] .calcite-floating-ui-anim{left:-5px}.wrapper[data-placement] .calcite-floating-ui-anim--active{opacity:1;inset-block-start:0;left:0}@starting-style{.wrapper[data-placement] .calcite-floating-ui-anim--active{opacity:0}}.content{max-height:45vh;width:auto;overflow-y:auto;overflow-x:hidden;inline-size:var(--calcite-dropdown-width, var(--calcite-internal-dropdown-width));background-color:var(--calcite-dropdown-background-color, var(--calcite-color-foreground-1))}.trigger-container{position:relative;display:flex;height:100%;flex:1 1 auto;word-wrap:break-word;word-break:break-word}.width-s{--calcite-internal-dropdown-width: 12rem}.width-m{--calcite-internal-dropdown-width: 14rem}.width-l{--calcite-internal-dropdown-width: 16rem}@media (forced-colors: active){:host([open]) .wrapper{border:var(--calcite-border-width-sm) solid canvasText}}:host([hidden]){display:none}[hidden]{display:none}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}.interaction-container{display:contents}`,w2=class w2 extends wi{constructor(){super(),this.focusLastDropdownItem=!1,this.groups=[],this.guid=tg(),this.items=[],this.mutationObserver=zs("mutation",()=>this.updateItems()),this.transitionProp="opacity",this.resizeObserver=zs("resize",e=>this.resizeObserverCallback(e)),this.focusSetter=Ns()(this),this.closeOnSelectDisabled=!1,this.disabled=!1,this.maxItems=0,this.offsetDistance=0,this.offsetSkidding=0,this.open=!1,this.overlayPositioning="absolute",this.placement=gV,this.scale="m",this.selectedItems=[],this.type="click",this.calciteDropdownBeforeClose=Ge({cancelable:!1}),this.calciteDropdownBeforeOpen=Ge({cancelable:!1}),this.calciteDropdownClose=Ge({cancelable:!1}),this.calciteDropdownOpen=Ge({cancelable:!1}),this.calciteDropdownSelect=Ge({cancelable:!1}),this.listenOn(window,"click",this.closeCalciteDropdownOnClick),this.listen("calciteInternalDropdownCloseRequest",this.closeCalciteDropdownOnEvent),this.listenOn(window,"calciteDropdownOpen",this.closeCalciteDropdownOnOpenEvent),this.listen("pointerenter",this.pointerEnterHandler),this.listen("pointerleave",this.pointerLeaveHandler),this.listen("calciteInternalDropdownItemKeyEvent",this.calciteInternalDropdownItemKeyEvent),this.listen("calciteInternalDropdownItemSelect",this.handleItemSelect)}async reposition(e=!1){const{filteredFlipPlacements:i,floatingEl:r,offsetDistance:n,offsetSkidding:s,overlayPositioning:o,placement:a,referenceEl:l}=this;return Kme(this,{floatingEl:r,referenceEl:l,offsetDistance:n,offsetSkidding:s,overlayPositioning:o,placement:a,flipPlacements:i,type:"menu"},e)}async setFocus(e){return this.focusSetter(()=>this.referenceEl,e)}connectedCallback(){super.connectedCallback(),this.mutationObserver?.observe(this.el,{childList:!0,subtree:!0}),this.setFilteredPlacements(),this.updateItems(),yT(this)}willUpdate(e){e.has("open")&&(this.hasUpdated||this.open!==!1)&&this.openHandler(),e.has("disabled")&&(this.hasUpdated||this.disabled!==!1)&&this.handleDisabledChange(this.disabled),e.has("flipPlacements")&&this.flipPlacementsHandler(),e.has("maxItems")&&this.hasUpdated&&this.setMaxScrollerHeight(),this.hasUpdated&&(e.has("offsetDistance")&&this.offsetDistance!==0||e.has("offsetSkidding")&&this.offsetSkidding!==0||e.has("overlayPositioning")&&this.overlayPositioning!=="absolute"||e.has("placement")&&this.placement!==gV)&&this.reposition(!0),e.has("scale")&&(this.hasUpdated||this.scale!=="m")&&this.handlePropsChange()}updated(){wl(this)}loaded(){this.updateSelectedItems(),yT(this)}disconnectedCallback(){super.disconnectedCallback(),this.mutationObserver?.disconnect(),this.resizeObserver?.disconnect(),h7(this)}openHandler(){bU(this),!this.disabled&&this.reposition(!0)}handleDisabledChange(e){e||(this.open=!1)}flipPlacementsHandler(){this.setFilteredPlacements(),this.reposition(!0)}handlePropsChange(){this.updateItems(),this.updateGroupProps()}closeCalciteDropdownOnClick(e){this.disabled||!this.open||e.composedPath().includes(this.el)||this.closeCalciteDropdown(!1)}closeCalciteDropdownOnEvent(e){this.closeCalciteDropdown(),e.stopPropagation()}closeCalciteDropdownOnOpenEvent(e){e.composedPath().includes(this.el)||(this.open=!1)}pointerEnterHandler(){this.disabled||this.type!=="hover"||this.toggleDropdown()}pointerLeaveHandler(){this.disabled||this.type!=="hover"||this.closeCalciteDropdown()}getTraversableItems(){return this.items.filter(e=>!e.disabled&&!e.hidden)}calciteInternalDropdownItemKeyEvent(e){const{keyboardEvent:i}=e.detail,r=i.target,n=this.getTraversableItems();switch(i.key){case"Tab":this.open=!1,this.updateTabIndexOfItems(r);break;case"ArrowDown":$S(n,r,"next");break;case"ArrowUp":$S(n,r,"previous");break;case"Home":$S(n,r,"first");break;case"End":$S(n,r,"last");break}e.stopPropagation()}handleItemSelect(e){this.updateSelectedItems(),e.stopPropagation(),this.calciteDropdownSelect.emit(),(!this.closeOnSelectDisabled||e.detail.requestedDropdownGroup.selectionMode==="none")&&this.closeCalciteDropdown(),e.stopPropagation()}setFilteredPlacements(){const{el:e,flipPlacements:i}=this;this.filteredFlipPlacements=i?Xme(i,e):null}updateTriggers(e){this.triggers=e.target.assignedElements({flatten:!0}),this.reposition(!0)}updateItems(){this.items=this.groups.map(e=>Array.from(e?.querySelectorAll("calcite-dropdown-item"))).reduce((e,i)=>[...e,...i],[]),this.updateSelectedItems(),this.reposition(!0),this.items.forEach(e=>e.scale=this.scale)}updateGroups(e){const i=e.target.assignedElements({flatten:!0}).filter(r=>r?.matches("calcite-dropdown-group"));this.groups=i,this.updateItems(),this.updateGroupProps()}updateGroupProps(){this.groups.forEach((e,i)=>{e.scale=this.scale,e.position=i})}resizeObserverCallback(e){e.forEach(({target:i})=>{i===this.referenceEl?this.setDropdownWidth():i===this.scrollerEl&&this.setMaxScrollerHeight()})}setDropdownWidth(){const{referenceEl:e,scrollerEl:i}=this;!i||!e||(i.style.minWidth=`${e.clientWidth}px`)}setMaxScrollerHeight(){const{maxItems:e,items:i,scrollerEl:r}=this;if(!r)return;const n=i.length>=e&&e>0?this.getYDistanceFromScroller(i.at(e-1)):0;r.style.maxBlockSize=n>0?`${n}px`:"",this.reposition(!0)}setScrollerAndTransitionEl(e){z2(this.resizeObserver,this.scrollerEl,e),this.scrollerEl=e,this.transitionEl=e}onBeforeOpen(){this.focusOnFirstActiveOrDefaultItem(),this.calciteDropdownBeforeOpen.emit()}onOpen(){this.calciteDropdownOpen.emit()}onBeforeClose(){this.calciteDropdownBeforeClose.emit()}onClose(){this.calciteDropdownClose.emit(),d7(this)}setReferenceEl(e){z2(this.resizeObserver,this.referenceEl,e),this.referenceEl=e,yT(this)}setFloatingEl(e){this.floatingEl=e,yT(this)}keyDownHandler(e){if(!e.composedPath().includes(this.referenceEl))return;const{defaultPrevented:i,key:r}=e;if(!i){if(r==="Escape"){this.closeCalciteDropdown(),e.preventDefault();return}if(this.open&&e.shiftKey&&r==="Tab"){this.closeCalciteDropdown(),e.preventDefault();return}LD(r)?(this.toggleDropdown(),e.preventDefault()):(r==="ArrowDown"||r==="ArrowUp")&&(e.preventDefault(),this.focusLastDropdownItem=r==="ArrowUp",this.open=!0)}}updateSelectedItems(){this.selectedItems=this.items.filter(e=>e.selected)}getYDistanceFromScroller(e){const i=e.getBoundingClientRect();return e.offsetTop+i.height}closeCalciteDropdown(e=!0){this.open=!1,e&&Y_(this.triggers[0])}async focusOnFirstActiveOrDefaultItem(){const i=this.getTraversableItems().find(r=>r.selected)||(this.focusLastDropdownItem?this.items.at(-1):this.items[0]);this.focusLastDropdownItem=!1,i&&(await this.updateComplete,await Kj(),await Kj(),await Y_(i),i.scrollIntoView({block:"nearest"}))}toggleDropdown(){this.open=!this.open}updateTabIndexOfItems(e){this.items.forEach(i=>{i.tabIndex=e!==i?-1:0})}render(){const{open:e,guid:i}=this;return _l({disabled:this.disabled,children:de`<div class=${ce(zN.triggerContainer)} id=${bC.menuButton(i)??Ye} @click=${this.toggleDropdown} @keydown=${this.keyDownHandler} ${Ut(this.setReferenceEl)}><slot aria-controls=${bC.menu(i)??Ye} .ariaExpanded=${e} aria-haspopup=menu name=${OQe.trigger} @slotchange=${this.updateTriggers}></slot></div><div .ariaHidden=${!e} class=${ce({[zN.wrapper]:!0,[VV("width",this.width,this.widthScale)]:!!(this.width||this.widthScale)})} ${Ut(this.setFloatingEl)}><div aria-labelledby=${bC.menuButton(i)??Ye} class=${ce({[zN.content]:!0,[KO.animation]:!0,[KO.animationActive]:e})} id=${bC.menu(i)??Ye} role=menu ${Ut(this.setScrollerAndTransitionEl)}><slot @slotchange=${this.updateGroups}></slot></div></div>`})}};w2.properties={closeOnSelectDisabled:[7,{},{reflect:!0,type:Boolean}],disabled:[7,{},{reflect:!0,type:Boolean}],flipPlacements:[0,{},{attribute:!1}],maxItems:[11,{},{reflect:!0,type:Number}],offsetDistance:[11,{},{type:Number,reflect:!0}],offsetSkidding:[11,{},{reflect:!0,type:Number}],open:[7,{},{reflect:!0,type:Boolean}],overlayPositioning:[3,{},{reflect:!0}],placement:[3,{},{reflect:!0}],scale:[3,{},{reflect:!0}],selectedItems:[0,{},{attribute:!1}],type:[3,{},{reflect:!0}],widthScale:[3,{},{reflect:!0}],width:[3,{},{reflect:!0}]},w2.shadowRootOptions={mode:"open",delegatesFocus:!0},w2.styles=PQe;let SP=w2;Pi("calcite-dropdown",SP);const Vft=Object.freeze(Object.defineProperty({__proto__:null,Dropdown:SP},Symbol.toStringTag,{value:"Module"}));const tm={container:"container",containerNone:"container--none-selection",icon:"dropdown-item-icon",iconEnd:"dropdown-item-icon--end",iconStart:"dropdown-item-icon--start",itemContent:"dropdown-item-content",link:"dropdown-link"},Lte={check:"check",bulletPoint:"bullet-point"};const DQe=vi`:host{--calcite-internal-color-focus: var( --calcite-color-focus, var(--calcite-ui-focus-color, var(--calcite-color-brand)) )}:host([disabled]){cursor:default;-webkit-user-select:none;user-select:none;opacity:var(--calcite-opacity-disabled)}:host([disabled]) *,:host([disabled]) ::slotted(*){pointer-events:none}:host{position:relative;display:flex;flex-grow:1;align-items:center;outline-color:transparent}.container{position:relative;display:flex;flex-grow:1;cursor:pointer;align-items:center;text-decoration-line:none;color:var(--calcite-dropdown-item-text-color, var(--calcite-color-text-3));text-align:start;outline-color:transparent}.container a{outline:none;position:relative;display:flex;flex-grow:1;cursor:pointer;align-items:center;text-decoration-line:none;color:var(--calcite-dropdown-item-text-color, var(--calcite-color-text-3))}.dropdown-item-content{flex:1 1 auto;padding-block:.125rem}.dropdown-item-icon{position:relative;opacity:0;transition-timing-function:cubic-bezier(.4,0,.2,1);transform:scale(.9)}:host([scale=s]) .container{padding-block:.25rem;padding-inline:.5rem;font-size:var(--calcite-font-size--2);line-height:1rem}:host([scale=s]) .dropdown-item-icon,:host([scale=s]) .dropdown-item-icon--start{padding-inline-end:var(--calcite-spacing-sm)}:host([scale=s]) .dropdown-item-icon--end{padding-inline-start:var(--calcite-spacing-sm)}:host([scale=m]) .container{padding-block:.5rem;padding-inline:.75rem;font-size:var(--calcite-font-size--1);line-height:1rem}:host([scale=m]) .dropdown-item-icon,:host([scale=m]) .dropdown-item-icon--start{padding-inline-end:var(--calcite-spacing-md)}:host([scale=m]) .dropdown-item-icon--end{padding-inline-start:var(--calcite-spacing-md)}:host([scale=l]) .container{padding-block:.625rem;padding-inline:1rem;font-size:var(--calcite-font-size-0);line-height:1.25rem}:host([scale=l]) .dropdown-item-icon,:host([scale=l]) .dropdown-item-icon--start{padding-inline-end:var(--calcite-spacing-lg)}:host([scale=l]) .dropdown-item-icon--end{padding-inline-start:var(--calcite-spacing-lg)}:host(:focus) .container{text-decoration-line:none;outline:var(--calcite-border-width-md) solid var(--calcite-color-focus, var(--calcite-ui-focus-color, var(--calcite-color-brand)));outline:var(--calcite-border-width-md) solid var(--calcite-internal-color-focus);outline-offset:calc(calc(-1 * var(--calcite-spacing-base)) * calc(1 - (2*clamp(0,var(--calcite-offset-invert-focus),1))))}:host(:hover:not([disabled])) .container{background-color:var(--calcite-dropdown-item-background-color-hover, var(--calcite-color-foreground-2))}:host(:active:not([disabled])) .container{background-color:var(--calcite-dropdown-item-background-color-press, var(--calcite-color-foreground-3))}:host(:hover:not([disabled])) .container,:host(:active:not([disabled])) .container{text-decoration-line:none;color:var(--calcite-dropdown-item-text-color-press, var(--calcite-color-text-1))}:host(:hover:not([disabled])) .dropdown-link,:host(:active:not([disabled])) .dropdown-link{color:var(--calcite-dropdown-item-text-color-press, var(--calcite-color-text-1))}:host([selected]) .container:not(.container--none-selection),:host([selected]) .dropdown-link{font-weight:var(--calcite-font-weight-medium);color:var(--calcite-dropdown-item-text-color-press, var(--calcite-color-text-1))}:host([selected]) .container:not(.container--none-selection) calcite-icon,:host([selected]) .dropdown-link calcite-icon{color:var(--calcite-dropdown-item-icon-color-press, var(--calcite-color-brand))}:host(:hover:not([disabled])) .dropdown-item-icon{color:var(--calcite-dropdown-item-icon-color-hover)}:host([selected]) .dropdown-item-icon{opacity:1}:host([hidden]){display:none}[hidden]{display:none}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}.interaction-container{display:contents}`,XP=class XP extends wi{constructor(){super(),this.childLink=kr(),this.focusSetter=Ns()(this),this.disabled=!1,this.scale="m",this.selected=!1,this.selectionMode="single",this.calciteDropdownItemSelect=Ge({cancelable:!1}),this.calciteInternalDropdownCloseRequest=Ge({cancelable:!1}),this.calciteInternalDropdownItemKeyEvent=Ge({cancelable:!1}),this.calciteInternalDropdownItemSelect=Ge({cancelable:!1}),this.listen("click",this.onClick),this.listen("keydown",this.keyDownHandler),this.listenOn(document.body,"calciteInternalDropdownItemChange",this.updateActiveItemOnChange)}async setFocus(e){return this.focusSetter(()=>this.el,e)}connectedCallback(){super.connectedCallback(),this.initialize()}load(){this.initialize()}updated(){wl(this)}onClick(){this.emitRequestedItem()}keyDownHandler(e){switch(e.key){case" ":case"Enter":this.emitRequestedItem(),this.href&&this.childLink.value.click(),e.preventDefault();break;case"Escape":this.calciteInternalDropdownCloseRequest.emit(),e.preventDefault();break;case"Tab":this.calciteInternalDropdownItemKeyEvent.emit({keyboardEvent:e});break;case"ArrowUp":case"ArrowDown":case"Home":case"End":e.preventDefault(),this.calciteInternalDropdownItemKeyEvent.emit({keyboardEvent:e});break}}updateActiveItemOnChange(e){e.composedPath().includes(this.parentDropdownGroupEl)&&(this.requestedDropdownGroup=e.detail.requestedDropdownGroup,this.requestedDropdownItem=e.detail.requestedDropdownItem,this.determineActiveItem()),e.stopPropagation()}initialize(){this.parentDropdownGroupEl=this.el.closest("calcite-dropdown-group"),this.selectionMode==="none"&&(this.selected=!1)}determineActiveItem(){switch(this.selectionMode){case"multiple":this.el===this.requestedDropdownItem&&(this.selected=!this.selected);break;case"single":this.el===this.requestedDropdownItem?this.selected=!0:this.requestedDropdownGroup===this.parentDropdownGroupEl&&(this.selected=!1);break;case"none":this.selected=!1;break}}emitRequestedItem(){this.calciteDropdownItemSelect.emit(),this.calciteInternalDropdownItemSelect.emit({requestedDropdownItem:this.el,requestedDropdownGroup:this.parentDropdownGroupEl})}render(){const{href:e,selectionMode:i,label:r,iconFlipRtl:n}=this,s=de`<calcite-icon class=${ce(tm.iconStart)} .flipRtl=${n==="start"||n==="both"} .icon=${this.iconStart} .scale=${Er(this.scale)}></calcite-icon>`,o=de`<span class=${ce(tm.itemContent)}><slot></slot></span>`,a=de`<calcite-icon class=${ce(tm.iconEnd)} .flipRtl=${n==="end"||n==="both"} .icon=${this.iconEnd} .scale=${Er(this.scale)}></calcite-icon>`,l=this.iconStart&&this.iconEnd?[s,o,a]:this.iconStart?[s,o]:this.iconEnd?[o,a]:o,h=e?de`<a .ariaLabel=${r} class=${ce(tm.link)} href=${e??oc} rel=${this.rel??oc} tabindex=-1 target=${this.target??oc} ${Ut(this.childLink)}>${l}</a>`:l,f=e?null:i==="single"?"menuitemradio":i==="multiple"?"menuitemcheckbox":"menuitem",g=i!=="none"?Z$(this.selected):null,{disabled:v}=this;return this.el.ariaChecked=g,this.el.ariaLabel=e?"":r,this.el.role=f,$p(this.el,"tabIndex",v?-1:0),_l({disabled:v,children:de`<div class=${ce({[tm.container]:!0,[tm.containerNone]:i==="none"})}>${i!=="none"?de`<calcite-icon class=${ce(tm.icon)} .icon=${i==="multiple"?Lte.check:Lte.bulletPoint} .scale=${Er(this.scale)}></calcite-icon>`:null}${h}</div>`})}};XP.properties={disabled:[7,{},{reflect:!0,type:Boolean}],href:[3,{},{reflect:!0}],iconEnd:[3,{},{reflect:!0}],iconFlipRtl:[3,{},{reflect:!0}],iconStart:[3,{},{reflect:!0}],label:1,rel:[3,{},{reflect:!0}],scale:[3,{},{reflect:!0}],selected:[7,{},{reflect:!0,type:Boolean}],selectionMode:1,target:[3,{},{reflect:!0}]},XP.styles=DQe;let TP=XP;Pi("calcite-dropdown-item",TP);const Uft=Object.freeze(Object.defineProperty({__proto__:null,DropdownItem:TP},Symbol.toStringTag,{value:"Module"}));const zte={title:"dropdown-title",separator:"dropdown-separator"},RQe=vi`:host{--calcite-internal-color-focus: var( --calcite-color-focus, var(--calcite-ui-focus-color, var(--calcite-color-brand)) )}:host{display:block}.container{text-align:start}.dropdown-title{margin-block-end:-1px;display:block;cursor:default;overflow-wrap:break-word;border-width:0px;border-block-end-width:1px;border-style:solid;font-weight:var(--calcite-font-weight-bold);border-color:var(--calcite-dropdown-group-border-color, var(--calcite-color-border-3));color:var(--calcite-dropdown-group-title-text-color, var(--calcite-color-text-2))}.dropdown-separator{display:block;block-size:1px;background-color:var(--calcite-dropdown-group-border-color, var(--calcite-color-border-3))}:host([scale=s]){font-size:var(--calcite-font-size--2);line-height:1rem}:host([scale=s]) .dropdown-title{padding:.5rem}:host([scale=m]){font-size:var(--calcite-font-size--1);line-height:1rem}:host([scale=m]) .dropdown-title{padding:.75rem}:host([scale=l]){font-size:var(--calcite-font-size-0);line-height:1.25rem}:host([scale=l]) .dropdown-title{padding:1rem}:host([hidden]){display:none}[hidden]{display:none}`,_2=class _2 extends wi{constructor(){super(),this.mutationObserver=zs("mutation",()=>this.updateItems()),this.position=-1,this.scale="m",this.selectionMode="single",this.calciteInternalDropdownItemChange=Ge({cancelable:!1}),this.listen("calciteInternalDropdownItemSelect",this.updateActiveItemOnChange)}connectedCallback(){super.connectedCallback(),this.updateItems(),this.mutationObserver?.observe(this.el,{childList:!0})}willUpdate(e){e.has("selectionMode")&&(this.hasUpdated||this.selectionMode!=="single")&&this.updateItems()}disconnectedCallback(){super.disconnectedCallback(),this.mutationObserver?.disconnect()}updateActiveItemOnChange(e){this.requestedDropdownGroup=e.detail.requestedDropdownGroup,this.requestedDropdownItem=e.detail.requestedDropdownItem,this.calciteInternalDropdownItemChange.emit({requestedDropdownGroup:this.requestedDropdownGroup,requestedDropdownItem:this.requestedDropdownItem})}updateItems(){Array.from(this.el.querySelectorAll("calcite-dropdown-item")).forEach(e=>e.selectionMode=this.selectionMode)}render(){const e=this.groupTitle?de`<span aria-hidden=true class=${ce(zte.title)}>${this.groupTitle}</span>`:null,i=this.position>0?de`<div class=${ce(zte.separator)} role=separator></div>`:null;return this.el.ariaLabel=this.groupTitle,this.el.role="group",de`<div class=${ce({[tm.container]:!0})}>${i}${e}<slot></slot></div>`}};_2.properties={groupTitle:[3,{},{reflect:!0}],position:[9,{},{type:Number}],scale:[3,{},{reflect:!0}],selectionMode:[3,{},{reflect:!0}]},_2.shadowRootOptions={mode:"open",delegatesFocus:!0},_2.styles=RQe;let $P=_2;Pi("calcite-dropdown-group",$P);const Bft=Object.freeze(Object.defineProperty({__proto__:null,DropdownGroup:$P},Symbol.toStringTag,{value:"Module"}));const Nte={handle:"handle",dropdown:"dropdown"},jte={drag:"drag",blank:"blank"},NN={label:"{label}",position:"{position}",total:"{total}"},Fte=["top","up","down","bottom"],LQe={trigger:"trigger"},jN={add:"add",move:"move",reorder:"reorder"},zQe=vi`:host{--calcite-internal-color-focus: var( --calcite-color-focus, var(--calcite-ui-focus-color, var(--calcite-color-brand)) )}:host([disabled]){cursor:default;-webkit-user-select:none;user-select:none;opacity:var(--calcite-opacity-disabled)}:host([disabled]) *,:host([disabled]) ::slotted(*){pointer-events:none}:host{display:flex}.dropdown{block-size:100%}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}.interaction-container{display:contents}:host([hidden]){display:none}[hidden]{display:none}`,KP=class KP extends wi{constructor(){super(...arguments),this.focusSetter=Ns()(this),this.disabled=!1,this.messages=ds({blocking:!0}),this.addToItems=[],this.moveToItems=[],this.open=!1,this.overlayPositioning="absolute",this.placement=gV,this.scale="m",this.sortDisabled=!1,this.calciteSortHandleBeforeClose=Ge({cancelable:!1}),this.calciteSortHandleBeforeOpen=Ge({cancelable:!1}),this.calciteSortHandleClose=Ge({cancelable:!1}),this.calciteSortHandleMove=Ge({cancelable:!0}),this.calciteSortHandleAdd=Ge({cancelable:!0}),this.calciteSortHandleOpen=Ge({cancelable:!1}),this.calciteSortHandleReorder=Ge({cancelable:!0})}get hasSetInfo(){return typeof this.setPosition=="number"&&typeof this.setSize=="number"}get hasValidSetInfo(){return this.hasSetInfo?this.setPosition>0&&this.setSize>1:!0}get hasReorderItems(){return!this.sortDisabled&&this.hasValidSetInfo}get hasNoItems(){return!this.hasReorderItems&&this.moveToItems.length<1&&this.addToItems.length<1}async setFocus(e){return this.focusSetter(()=>this.dropdownEl,e)}willUpdate(e){e.has("open")&&(this.hasUpdated||this.open!==!1)&&this.openHandler()}updated(){wl(this)}openHandler(){if(this.disabled){this.open=!1;return}this.dropdownEl&&(this.dropdownEl.open=this.open)}setDropdownEl(e){e&&(this.dropdownEl=e,this.openHandler())}getLabel(){const{label:e,messages:i,setPosition:r,setSize:n,hasSetInfo:s}=this;if(!s)return e??"";let o=e?i.repositionLabel.replace(NN.label,e):i.reposition;return o=o.replace(NN.position,r?r.toString():""),o.replace(NN.total,n?n.toString():"")}handleBeforeOpen(e){e.stopPropagation(),this.calciteSortHandleBeforeOpen.emit()}handleOpen(e){e.stopPropagation(),this.calciteSortHandleOpen.emit(),this.open=!0}handleBeforeClose(e){e.stopPropagation(),this.calciteSortHandleBeforeClose.emit()}handleClose(e){e.stopPropagation(),this.calciteSortHandleClose.emit(),this.open=!1}handleReorder(e){this.calciteSortHandleReorder.emit({reorder:e.target.dataset.value})}handleMoveTo(e){const i=e.target.dataset.id,r=this.moveToItems.find(n=>n.id===i);this.calciteSortHandleMove.emit({moveTo:r})}handleAddTo(e){const i=e.target.dataset.id,r=this.addToItems.find(n=>n.id===i);this.calciteSortHandleAdd.emit({addTo:r})}render(){const{disabled:e,flipPlacements:i,open:r,overlayPositioning:n,placement:s,scale:o,widthScale:a,hasNoItems:l}=this,h=this.getLabel(),f=e||l;return _l({disabled:e,children:de`<calcite-dropdown class=${ce(Nte.dropdown)} .disabled=${f} .flipPlacements=${i} @calciteDropdownBeforeClose=${this.handleBeforeClose} @calciteDropdownBeforeOpen=${this.handleBeforeOpen} @calciteDropdownClose=${this.handleClose} @calciteDropdownOpen=${this.handleOpen} .overlayPositioning=${n} .placement=${s} .scale=${o} .widthScale=${a} ${Ut(this.setDropdownEl)}><calcite-action .active=${r} appearance=transparent .aria=${{expanded:r}} class=${ce(Nte.handle)} .dragHandle=${!0} .icon=${e?jte.blank:jte.drag} .label=${h} .scale=${o} slot=${LQe.trigger} .text=${h} title=${h??Ye}></calcite-action>${this.renderReorderGroup()}${this.renderMoveToGroup()}${this.renderAddToGroup()}</calcite-dropdown>`})}renderAddToItem(e){return vt(e.id,de`<calcite-dropdown-item data-id=${e.id??Ye} .label=${e.label} @calciteDropdownItemSelect=${this.handleAddTo}>${e.label}</calcite-dropdown-item>`)}renderMoveToItem(e){return vt(e.id,de`<calcite-dropdown-item data-id=${e.id??Ye} .label=${e.label} @calciteDropdownItemSelect=${this.handleMoveTo}>${e.label}</calcite-dropdown-item>`)}renderReorderGroup(){return this.hasReorderItems?vt("reorder",de`<calcite-dropdown-group .groupTitle=${this.messages.reorder} id=${jN.reorder} .scale=${this.scale} selection-mode=none>${this.renderTop()}${this.renderUp()}${this.renderDown()}${this.renderBottom()}</calcite-dropdown-group>`):null}renderAddToGroup(){const{messages:e,addToItems:i,scale:r}=this;return i.length?vt("add-to-items",de`<calcite-dropdown-group .groupTitle=${e.addTo} id=${jN.add} .scale=${r} selection-mode=none>${i.map(n=>this.renderAddToItem(n))}</calcite-dropdown-group>`):null}renderMoveToGroup(){const{messages:e,moveToItems:i,scale:r}=this;return i.length?vt("move-to-items",de`<calcite-dropdown-group .groupTitle=${e.moveTo} id=${jN.move} .scale=${r} selection-mode=none>${i.map(n=>this.renderMoveToItem(n))}</calcite-dropdown-group>`):null}renderDropdownItem(e,i){return vt(Fte[e],de`<calcite-dropdown-item data-value=${Fte[e]??Ye} .label=${i} @calciteDropdownItemSelect=${this.handleReorder}>${i}</calcite-dropdown-item>`)}renderTop(){const{setPosition:e}=this;return e!==1&&e!==2?this.renderDropdownItem(0,this.messages.moveToTop):null}renderUp(){return this.setPosition!==1?this.renderDropdownItem(1,this.messages.moveUp):null}renderDown(){return this.setPosition!==this.setSize?this.renderDropdownItem(2,this.messages.moveDown):null}renderBottom(){const{setPosition:e,setSize:i}=this;return e!==i&&e!==i-1?this.renderDropdownItem(3,this.messages.moveToBottom):null}};KP.properties={disabled:[7,{},{reflect:!0,type:Boolean}],flipPlacements:[0,{},{attribute:!1}],label:1,messageOverrides:[0,{},{attribute:!1}],messages:[0,{},{attribute:!1}],addToItems:[0,{},{attribute:!1}],moveToItems:[0,{},{attribute:!1}],open:[7,{},{reflect:!0,type:Boolean}],overlayPositioning:[3,{},{reflect:!0}],placement:[3,{},{reflect:!0}],scale:[3,{},{reflect:!0}],setPosition:[9,{},{type:Number}],setSize:[9,{},{type:Number}],sortDisabled:[7,{},{reflect:!0,type:Boolean}],widthScale:[3,{},{reflect:!0}]},KP.styles=zQe;let UV=KP;Pi("calcite-sort-handle",UV);const NQe=vi`:host{--calcite-internal-color-focus: var( --calcite-color-focus, var(--calcite-ui-focus-color, var(--calcite-color-brand)) )}:host(.calcite-sortable--chosen),:host(.calcite-sortable--drag),:host(.calcite-sortable--fallback),:host(.calcite-sortable--ghost){position:relative;overflow:hidden}:host(.calcite-sortable--ghost):before{content:"";position:absolute;inset-block:0px;inset-inline-start:0px;inset-inline-end:0px;z-index:var(--calcite-z-index);box-sizing:border-box;border-width:1px;border-style:dashed;border-color:var(--calcite-color-brand);background-color:var(--calcite-color-foreground-2)}:host(.calcite-sortable--drag){--tw-shadow: 0 6px 20px -4px rgba(0, 0, 0, .1), 0 4px 12px -2px rgba(0, 0, 0, .08);--tw-shadow-colored: 0 6px 20px -4px var(--tw-shadow-color), 0 4px 12px -2px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}`;const pi={actionsEnd:"actions-end",actionsStart:"actions-start",description:"description",close:"close",container:"container",containerHover:"container--hover",containerBorder:"container--border",containerBorderSelected:"container--border-selected",containerBorderUnselected:"container--border-unselected",content:"content",contentBottom:"content-bottom",contentContainer:"content-container",contentContainerHasCenterContent:"content-container--has-center-content",contentContainerSelectable:"content-container--selectable",contentContainerUnavailable:"content-container--unavailable",contentContainerWrapper:"content-container-wrapper",contentContainerWrapperBordered:"content-container-wrapper--bordered",contentEnd:"content-end",contentStart:"content-start",customContent:"custom-content",expandedContainer:"expanded-container",dragContainer:"drag-container",gridCell:"grid-cell",icon:"icon",nestedContainer:"nested-container",nestedContainerExpanded:"nested-container--expanded",label:"label",row:"row",selectionContainer:"selection-container",selectionContainerSingle:"selection-container--single",wrapper:"wrapper",wrapperBordered:"wrapper--bordered"},g0={actionsStart:"actions-start",contentStart:"content-start",content:"content",contentBottom:"content-bottom",contentEnd:"content-end",actionsEnd:"actions-end"},Hft=0,Th={selectedMultiple:"check-square-f",selectedSingle:"circle-inset-large",unselectedMultiple:"square",unselectedSingle:"circle",collapsedLTR:"chevron-right",collapsedRTL:"chevron-left",open:"chevron-down",blank:"blank",close:"x"},Vte="data-test-active";const jQe=vi`:host{--calcite-internal-color-focus: var( --calcite-color-focus, var(--calcite-ui-focus-color, var(--calcite-color-brand)) )}:host([disabled]){cursor:default;-webkit-user-select:none;user-select:none;opacity:var(--calcite-opacity-disabled)}:host([disabled]) *,:host([disabled]) ::slotted(*){pointer-events:none}:host{display:flex;flex-direction:column}:host([filter-hidden]),:host([closed]){display:none}.wrapper--bordered{border-block-end:1px solid var(--calcite-list-border-color, var(--calcite-color-border-3))}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}.interaction-container{display:contents}.container{box-sizing:border-box;display:flex;flex:1 1 0%;overflow:hidden;background-color:var(--calcite-list-background-color, var(--calcite-color-foreground-1))}.container *{box-sizing:border-box}.container--hover:hover{cursor:pointer;background-color:var(--calcite-list-background-color-hover, var(--calcite-color-foreground-2))}.container:active{background-color:var(--calcite-list-background-color-press, var(--calcite-color-foreground-3))}.container--border{position:relative}.container--border:before{position:absolute;inline-size:var(--calcite-border-width-lg);inset-block:0;inset-inline-start:0;background-color:transparent;content:""}.container--border-selected:before{background-color:var(--calcite-list-selection-border-color, var(--calcite-color-brand))}.container--border-selected:focus{box-shadow:inset var(--calcite-border-width-lg) 0 0 0 var(--calcite-list-selection-border-color, var(--calcite-color-brand))}.nested-container{display:none;flex-direction:column;border-width:0px;border-style:solid;border-color:1px solid var(--calcite-list-border-color, var(--calcite-color-border-3));margin-inline-start:var(--calcite-list-spacing-indent, 1.5rem)}.nested-container--expanded{display:flex}.selection-container{display:flex;padding-block:0px;color:var(--calcite-list-icon-color, var(--calcite-color-border-input))}:host(:not([disabled]):not([selected])) .container:hover .selection-container--single{color:var(--calcite-list-icon-color, var(--calcite-color-border-input))}:host([selected]:hover) .selection-container,:host([selected]:hover) .selection-container--single,:host([selected]) .selection-container{color:var(--calcite-list-icon-color, var(--calcite-color-brand))}.content-container-wrapper{display:flex;flex:1 1 auto}.content-container-wrapper--bordered{border-block-end:1px solid var(--calcite-list-border-color, var(--calcite-color-border-3))}.content-container{display:flex;flex:1 1 auto;-webkit-user-select:none;user-select:none;align-items:stretch;font-weight:var(--calcite-font-weight-normal);color:var(--calcite-list-content-text-color, var(--calcite-color-text-2))}.content-container--unavailable{opacity:var(--calcite-opacity-disabled)}.row,.grid-cell{outline-color:transparent}.row{position:relative}.row:focus,.grid-cell:focus{outline:var(--calcite-border-width-md) solid var(--calcite-color-focus, var(--calcite-ui-focus-color, var(--calcite-color-brand)));outline:var(--calcite-border-width-md) solid var(--calcite-internal-color-focus);outline-offset:calc(calc(-1 * var(--calcite-spacing-base)) * calc(1 - (2*clamp(0,var(--calcite-offset-invert-focus),1))))}.content,.custom-content{display:flex;flex:1 1 auto;flex-direction:column;justify-content:center;line-height:var(--calcite-font-line-height-relative-snug)}.label{color:var(--calcite-list-label-text-color, var(--calcite-color-text-1))}.description{color:var(--calcite-list-description-text-color, var(--calcite-color-text-3))}.icon{align-self:center;color:var(--calcite-list-icon-color, var(--calcite-color-text-3))}.icon:hover,.icon:active{color:var(--calcite-color-text-1)}:host([display-mode=flat][drag-handle]:is([selection-mode=none],[selection-appearance=border])) .drag-container{padding-inline-end:var(--calcite-spacing-xxs)}:host([scale=s]) .actions-start{padding-inline-end:var(--calcite-spacing-sm)}:host([scale=s]) .content-container{gap:var(--calcite-spacing-sm);min-block-size:32px;padding-block:var(--calcite-spacing-xxs);padding-inline-end:var(--calcite-spacing-sm)}:host([scale=s]) .content,:host([scale=s]) .custom-content,:host([scale=s]) .label{font-size:var(--calcite-font-size--2)}:host([scale=s]) .description{font-size:var(--calcite-font-size--3)}:host([scale=s][display-mode=flat]:not([drag-handle])) .container{padding-inline-start:var(--calcite-spacing-sm)}:host([scale=s][display-mode=flat]:not([drag-handle])) .selection-container{padding-inline-end:var(--calcite-spacing-sm)}:host([scale=s][display-mode=flat][drag-handle]) .selection-container{padding-inline:var(--calcite-spacing-xxs) var(--calcite-spacing-sm)}:host([scale=s][display-mode=nested]) .selection-container{padding-inline-end:var(--calcite-spacing-xxs)}:host([scale=s][display-mode=nested][selection-appearance=icon]:not([selection-mode=none]):not([drag-handle])) .container{padding-inline-start:var(--calcite-spacing-sm)}:host([scale=s][display-mode=nested][selection-appearance=icon]:not([selection-mode=none]):not([drag-handle])) .selection-container{padding-inline-end:var(--calcite-spacing-xxs)}:host([scale=s][display-mode=nested][drag-handle]) .selection-container{padding-inline:var(--calcite-spacing-xxs)}:host([scale=m]) .actions-start{padding-inline-end:var(--calcite-spacing-sm)}:host([scale=m]) .content-container{gap:var(--calcite-spacing-sm);min-block-size:40px;padding-block:var(--calcite-spacing-sm);padding-inline-end:var(--calcite-spacing-md)}:host([scale=m]) .content,:host([scale=m]) .custom-content{font-size:var(--calcite-font-size--2)}:host([scale=m]) .label{font-size:var(--calcite-font-size--1)}:host([scale=m]) .description{font-size:var(--calcite-font-size--2)}:host([scale=m][display-mode=flat]) .container{padding-inline-start:var(--calcite-spacing-md)}:host([scale=m][display-mode=flat]) .selection-container{padding-inline-end:var(--calcite-spacing-sm)}:host([scale=m][display-mode=flat][drag-handle]) .container{padding-inline-start:0}:host([scale=m][display-mode=flat][drag-handle]) .selection-container{padding-inline:var(--calcite-spacing-xxs) var(--calcite-spacing-sm)}:host([scale=m][display-mode=nested]) .container{padding-inline-start:var(--calcite-spacing-xxs)}:host([scale=m][display-mode=nested]) .selection-container{padding-inline-end:var(--calcite-spacing-xxs)}:host([scale=m][display-mode=nested][selection-appearance=icon]:not([selection-mode=none]):not([drag-handle])) .container{padding-inline-start:var(--calcite-spacing-md)}:host([scale=m][display-mode=nested][drag-handle]) .container{padding-inline-start:0}:host([scale=m][display-mode=nested][drag-handle]) .selection-container{padding-inline:var(--calcite-spacing-xxs)}:host([scale=l]) .actions-start{padding-inline-end:var(--calcite-spacing-md)}:host([scale=l]) .content-container{gap:var(--calcite-spacing-md);min-block-size:56px;padding-block:.625rem;padding-inline-end:var(--calcite-spacing-lg)}:host([scale=l]) .content,:host([scale=l]) .custom-content,:host([scale=l]) .label{font-size:var(--calcite-font-size-0)}:host([scale=l]) .description{font-size:var(--calcite-font-size--1)}:host([scale=l]) .nested-container{margin-inline-start:1.75rem}:host([scale=l][display-mode=flat]) .container{padding-inline-start:var(--calcite-spacing-lg)}:host([scale=l][display-mode=flat]) .selection-container{padding-inline-end:var(--calcite-spacing-md)}:host([scale=l][display-mode=flat][drag-handle]) .container{padding-inline-start:0}:host([scale=l][display-mode=flat][drag-handle]) .selection-container{padding-inline-end:var(--calcite-spacing-md)}:host([scale=l][display-mode=nested]) .container{padding-inline-start:var(--calcite-spacing-xxs)}:host([scale=l][display-mode=nested][drag-handle]) .container{padding-inline-start:0}:host([scale=l][display-mode=nested][selection-appearance=icon]:not([selection-mode=none]):not([drag-handle])) .container{padding-inline-start:var(--calcite-spacing-lg)}.label,.description,.content-bottom{font-family:var(--calcite-font-family);font-weight:var(--calcite-font-weight-normal);word-wrap:break-word;word-break:break-word}:host([selected]) .label{font-weight:var(--calcite-font-weight-medium)}:host([selected]) .icon{color:var(--calcite-list-icon-color, var(--calcite-color-text-1))}:host([selected]) .description{color:var(--calcite-list-description-text-color, var(--calcite-color-text-2))}.content-start{justify-content:flex-start}.content-end{justify-content:flex-end}.content-start,.content-end{flex:1 1 auto}.content-start ::slotted(calcite-icon),.content-end ::slotted(calcite-icon){align-self:center}.content-bottom{display:flex;flex-direction:column}.content-container--has-center-content .content-start,.content-container--has-center-content .content-end{flex:0 1 auto}.expanded-container{color:var(--calcite-list-icon-color, var(--calcite-color-text-3));padding-inline:var(--calcite-spacing-xxs)}:host(:not([disabled])) .expanded-container:hover{color:var(--calcite-list-icon-color, var(--calcite-color-text-1))}.actions-start,.actions-end,.content-start,.content-end,.selection-container,.drag-container,.expanded-container{display:flex;align-items:center}.actions-start calcite-action,.actions-start calcite-sort-handle,.actions-end calcite-action,.actions-end calcite-sort-handle,.content-start calcite-action,.content-start calcite-sort-handle,.content-end calcite-action,.content-end calcite-sort-handle,.selection-container calcite-action,.selection-container calcite-sort-handle,.drag-container calcite-action,.drag-container calcite-sort-handle,.expanded-container calcite-action,.expanded-container calcite-sort-handle{align-self:stretch}.drag-container,.selection-container,.expanded-container{padding-block-end:var(--calcite-spacing-px)}.expanded-container,.selection-container{cursor:pointer}.actions-start,.actions-end{position:relative;padding:0}.actions-start ::slotted(calcite-action),.actions-start ::slotted(calcite-action-menu),.actions-start ::slotted(calcite-sort-handle),.actions-start ::slotted(calcite-dropdown),.actions-end ::slotted(calcite-action),.actions-end ::slotted(calcite-action-menu),.actions-end ::slotted(calcite-sort-handle),.actions-end ::slotted(calcite-dropdown){align-self:stretch;color:inherit}.row:focus .actions-start,.row:focus .actions-end{inset-block:.125rem}.row:focus .actions-start .close,.row:focus .actions-start ::slotted(calcite-action),.row:focus .actions-start ::slotted(calcite-action-menu),.row:focus .actions-start ::slotted(calcite-sort-handle),.row:focus .actions-start ::slotted(calcite-dropdown),.row:focus .actions-end .close,.row:focus .actions-end ::slotted(calcite-action),.row:focus .actions-end ::slotted(calcite-action-menu),.row:focus .actions-end ::slotted(calcite-sort-handle),.row:focus .actions-end ::slotted(calcite-dropdown){block-size:calc(100% - .25rem)}.row:focus:after,.row:focus:before{position:absolute;content:"";inline-size:.125rem;z-index:var(--calcite-z-index-header);background-color:var(--calcite-color-focus, var(--calcite-ui-focus-color, var(--calcite-color-brand)));inset-block:0}.row:focus:before{inset-inline-start:0}.row:focus:after{inset-inline-end:0}.container--border:focus:before{display:none}::slotted(calcite-list:empty){border-block-start-width:0px}:host([hidden]){display:none}[hidden]{display:none}`,wC=new Map,QP=class QP extends wi{constructor(){super(),this.actionsEndRef=kr(),this.actionsStartRef=kr(),this.containerRef=kr(),this.contentRef=kr(),this.defaultSlotRef=kr(),this.handleGridRef=kr(),this.messages=ds(),this.focusSetter=Ns()(this),this.hasActionsEnd=!1,this.hasActionsStart=!1,this.hasContentBottom=!1,this.hasContentEnd=!1,this.hasContentStart=!1,this.hasCustomContent=!1,this.level=null,this.expandable=!1,this.active=!1,this.bordered=!1,this.sortDisabled=!1,this.closable=!1,this.closed=!1,this.disabled=!1,this.dragDisabled=!1,this.dragHandle=!1,this.expanded=!1,this.filterHidden=!1,this.interactionMode=null,this.displayMode="flat",this.addToItems=[],this.moveToItems=[],this.scale="m",this.selected=!1,this.selectionAppearance=null,this.selectionMode=null,this.sortHandleOpen=!1,this.unavailable=!1,this.calciteInternalFocusPreviousItem=Ge({cancelable:!1}),this.calciteInternalListItemActive=Ge({cancelable:!1}),this.calciteInternalListItemChange=Ge({cancelable:!1}),this.calciteInternalListItemSelect=Ge({cancelable:!1}),this.calciteInternalListItemSelectMultiple=Ge({cancelable:!1}),this.calciteInternalListItemToggle=Ge({cancelable:!1}),this.calciteListItemClose=Ge({cancelable:!1}),this.calciteListItemCollapse=Ge({cancelable:!1}),this.calciteListItemExpand=Ge({cancelable:!1}),this.calciteListItemSelect=Ge({cancelable:!1}),this.calciteListItemSortHandleBeforeClose=Ge({cancelable:!1}),this.calciteListItemSortHandleBeforeOpen=Ge({cancelable:!1}),this.calciteListItemSortHandleClose=Ge({cancelable:!1}),this.calciteListItemSortHandleOpen=Ge({cancelable:!1}),this.calciteListItemToggle=Ge({cancelable:!1}),this.listen("calciteInternalListItemGroupDefaultSlotChange",this.handleCalciteInternalListDefaultSlotChanges),this.listen("calciteInternalListDefaultSlotChange",this.handleCalciteInternalListDefaultSlotChanges)}get open(){return this.expanded}set open(e){iae.deprecated("property",{name:"open",removalVersion:4,suggested:"expanded"}),this.expanded=e}async setFocus(e){return this.focusSetter(()=>{const{containerRef:i,parentListEl:r}=this,n=wC.get(r);if(typeof n=="number"){const s=this.getGridCells()[n];if(s){this.focusCell(s);return}}return{target:i.value,includeContainer:!0,strategy:"focusable"}},e)}connectedCallback(){super.connectedCallback();const{el:e}=this;this.parentListEl=e.closest(d2),this.level=eQe(e)+1,this.setSelectionDefaults()}disconnectedCallback(){super.disconnectedCallback(),wC.clear()}willUpdate(e){e.has("active")&&(this.hasUpdated||this.active!==!1)&&this.activeHandler(this.active),e.has("closed")&&(this.hasUpdated||this.closed!==!1)&&this.handleClosedChange(),e.has("disabled")&&(this.hasUpdated||this.disabled!==!1)&&this.handleDisabledChange(),e.has("selected")&&(this.hasUpdated||this.selected!==!1)&&this.handleSelectedChange(),e.has("sortHandleOpen")&&(this.hasUpdated||this.sortHandleOpen!==!1)&&this.sortHandleOpenHandler(),e.has("displayMode")&&this.hasUpdated&&this.handleExpandableChange(this.defaultSlotRef.value),e.has("expanded")&&this.hasUpdated&&(this.expanded?(this.handleExpandedChange(),this.calciteListItemExpand.emit()):this.calciteListItemCollapse.emit())}updated(){wl(this)}activeHandler(e){e||this.focusCell(null,!1)}handleClosedChange(){this.emitCalciteInternalListItemChange()}handleDisabledChange(){this.emitCalciteInternalListItemChange()}handleExpandedChange(){this.emitCalciteInternalListItemToggle()}handleSelectedChange(){this.calciteInternalListItemSelect.emit()}sortHandleOpenHandler(){this.sortHandleEl&&(this.sortHandleEl.open=this.sortHandleOpen)}handleCalciteInternalListDefaultSlotChanges(e){e.stopPropagation(),this.handleExpandableChange(this.defaultSlotRef.value)}setSortHandleEl(e){this.sortHandleEl=e,this.sortHandleOpenHandler()}handleSortHandleBeforeOpen(e){e.stopPropagation(),this.calciteListItemSortHandleBeforeOpen.emit()}handleSortHandleBeforeClose(e){e.stopPropagation(),this.calciteListItemSortHandleBeforeClose.emit()}handleSortHandleClose(e){e.stopPropagation(),this.sortHandleOpen=!1,this.calciteListItemSortHandleClose.emit()}handleSortHandleOpen(e){e.stopPropagation(),this.sortHandleOpen=!0,this.calciteListItemSortHandleOpen.emit()}emitInternalListItemActive(){this.calciteInternalListItemActive.emit()}emitCalciteInternalListItemToggle(){this.calciteInternalListItemToggle.emit()}emitCalciteInternalListItemChange(){this.calciteInternalListItemChange.emit()}handleCloseClick(){this.closed=!0,this.calciteListItemClose.emit()}handleContentSlotChange(e){this.hasCustomContent=ri(e)}handleActionsStartSlotChange(e){this.hasActionsStart=ri(e)}handleActionsEndSlotChange(e){this.hasActionsEnd=ri(e)}handleContentStartSlotChange(e){this.hasContentStart=ri(e)}handleContentEndSlotChange(e){this.hasContentEnd=ri(e)}handleContentBottomSlotChange(e){this.hasContentBottom=ri(e)}setSelectionDefaults(){const{parentListEl:e,selectionMode:i,selectionAppearance:r}=this;e&&(i||(this.selectionMode=e.selectionMode),r||(this.selectionAppearance=e.selectionAppearance))}handleExpandableChange(e){if(!e)return;const i=KKe(e);i.lists.forEach(r=>{r.displayMode=this.displayMode}),this.expandable=this.displayMode==="nested"&&(i.lists.length>0||i.items.length>0)}handleDefaultSlotChange(e){this.handleExpandableChange(e.target)}handleToggleClick(){this.toggle()}toggle(e=!this.expanded){this.expanded=e,this.calciteListItemToggle.emit()}handleItemClick(e){e.defaultPrevented||this.toggleSelected(e.shiftKey)}async toggleSelected(e){const{selectionMode:i,selected:r}=this;this.disabled||(i==="multiple"||i==="single"?this.selected=!r:i==="single-persist"&&(this.selected=!0),this.calciteInternalListItemSelectMultiple.emit({selectMultiple:e&&i==="multiple"}),await this.updateComplete,this.calciteListItemSelect.emit())}getGridCells(){return[this.handleGridRef.value,this.actionsStartRef.value,this.contentRef.value,this.actionsEndRef.value].filter(e=>e&&!e.hidden)}handleItemKeyDown(e){if(e.defaultPrevented)return;const{key:i}=e,r=e.composedPath(),{containerRef:n,actionsStartRef:{value:s},actionsEndRef:{value:o},expanded:a,expandable:l}=this,h=this.getGridCells(),f=h.findIndex(g=>r.includes(g));if(i==="Enter"&&!r.includes(s)&&!r.includes(o))e.preventDefault(),this.toggleSelected(e.shiftKey);else if(i==="ArrowRight"){e.preventDefault();const g=f+1;f===-1?!a&&l?(this.toggle(!0),this.focusCell(null)):h[0]&&this.focusCell(h[0]):h[f]&&h[g]&&this.focusCell(h[g])}else if(i==="ArrowLeft"){e.preventDefault();const g=f-1;f===-1?(this.focusCell(null),a&&l?this.toggle(!1):this.calciteInternalFocusPreviousItem.emit()):f===0?(this.focusCell(null),n.value.focus()):h[f]&&h[g]&&this.focusCell(h[g])}}focusCellNull(){this.focusCell(null)}setFocusCell(e,i,r){const{parentListEl:n}=this;r&&wC.set(n,null);const s=this.getGridCells();s.forEach(o=>{o.removeAttribute("tabindex"),o.removeAttribute(Vte)}),e&&(e===i?e.tabIndex=0:e.removeAttribute("tabindex"),e.setAttribute(Vte,""),r&&wC.set(n,s.indexOf(e)))}focusCell(e,i=!0){const r=Koe(e);this.setFocusCell(e,r,i),r?.focus()}renderSelected(){const{selected:e,selectionMode:i,selectionAppearance:r}=this;return i==="none"||r==="border"?null:vt("selection-container",de`<div class=${ce({[pi.selectionContainer]:!0,[pi.selectionContainerSingle]:i==="single"||i==="single-persist"})} @click=${this.handleItemClick}><calcite-icon .icon=${e?i==="multiple"?Th.selectedMultiple:Th.selectedSingle:i==="multiple"?Th.unselectedMultiple:Th.unselectedSingle} .scale=${Er(this.scale)}></calcite-icon></div>`)}renderDragHandle(){const{label:e,dragHandle:i,dragDisabled:r,setPosition:n,setSize:s,moveToItems:o,sortDisabled:a,addToItems:l}=this;return i?vt("drag-handle-container",de`<div .ariaLabel=${e} class=${ce({[pi.dragContainer]:!0,[pi.gridCell]:!0})} role=gridcell ${Ut(this.handleGridRef)}><calcite-sort-handle .addToItems=${l} .disabled=${r} .label=${e} .moveToItems=${o} @calciteSortHandleBeforeClose=${this.handleSortHandleBeforeClose} @calciteSortHandleBeforeOpen=${this.handleSortHandleBeforeOpen} @calciteSortHandleClose=${this.handleSortHandleClose} @calciteSortHandleOpen=${this.handleSortHandleOpen} overlay-positioning=fixed .scale=${this.scale} .setPosition=${n} .setSize=${s} .sortDisabled=${a} ${Ut(this.setSortHandleEl)}></calcite-sort-handle></div>`):null}renderExpanded(){const{el:e,expanded:i,expandable:r,messages:n,displayMode:s,scale:o}=this;if(s!=="nested")return null;const a=pl(e),l=r?i?Th.open:a==="rtl"?Th.collapsedRTL:Th.collapsedLTR:Th.blank,h=Er(o),f=r?i?n.collapse:n.expand:void 0,g=r?this.handleToggleClick:void 0;return vt("expanded-container",de`<div class=${ce(pi.expandedContainer)} @click=${g} title=${f??Ye}>${vt(l,de`<calcite-icon .icon=${l} .scale=${h}></calcite-icon>`)}</div>`)}renderActionsStart(){const{label:e,hasActionsStart:i}=this;return vt("actions-start-container",de`<div .ariaLabel=${e} class=${ce({[pi.actionsStart]:!0,[pi.gridCell]:!0})} .hidden=${!i} role=gridcell ${Ut(this.actionsStartRef)}><slot name=${g0.actionsStart} @slotchange=${this.handleActionsStartSlotChange}></slot></div>`)}renderActionsEnd(){const{label:e,hasActionsEnd:i,closable:r,messages:n}=this;return vt("actions-end-container",de`<div .ariaLabel=${e} class=${ce({[pi.actionsEnd]:!0,[pi.gridCell]:!0})} .hidden=${!(i||r)} role=gridcell ${Ut(this.actionsEndRef)}><slot name=${g0.actionsEnd} @slotchange=${this.handleActionsEndSlotChange}></slot>${r?vt("close-action",de`<calcite-action appearance=transparent class=${ce(pi.close)} .icon=${Th.close} .label=${n.close} @click=${this.handleCloseClick} .scale=${this.scale} .text=${n.close}></calcite-action>`):null}</div>`)}renderContentStart(){const{hasContentStart:e}=this;return de`<div class=${ce(pi.contentStart)} .hidden=${!e}><slot name=${g0.contentStart} @slotchange=${this.handleContentStartSlotChange}></slot></div>`}renderCustomContent(){const{hasCustomContent:e}=this;return de`<div class=${ce(pi.customContent)} .hidden=${!e}><slot name=${g0.content} @slotchange=${this.handleContentSlotChange}></slot></div>`}renderIconStart(){const{iconStart:e,iconFlipRtl:i,scale:r}=this;return e?vt("icon-start",de`<calcite-icon class=${ce(pi.icon)} .flipRtl=${i==="both"||i==="start"} .icon=${e} .scale=${Er(r)}></calcite-icon>`):null}renderIconEnd(){const{iconEnd:e,iconFlipRtl:i,scale:r}=this;return e?vt("icon-end",de`<calcite-icon class=${ce(pi.icon)} .flipRtl=${i==="both"||i==="end"} .icon=${e} .scale=${Er(r)}></calcite-icon>`):null}renderContentEnd(){const{hasContentEnd:e}=this;return de`<div class=${ce(pi.contentEnd)} .hidden=${!e}><slot name=${g0.contentEnd} @slotchange=${this.handleContentEndSlotChange}></slot></div>`}renderContentBottom(){const{hasContentBottom:e}=this;return de`<div class=${ce(pi.contentBottom)} .hidden=${!e}><slot name=${g0.contentBottom} @slotchange=${this.handleContentBottomSlotChange}></slot></div>`}renderDefaultContainer(){return de`<div class=${ce({[pi.nestedContainer]:!0,[pi.nestedContainerExpanded]:this.expandable&&this.expanded})}><slot @slotchange=${this.handleDefaultSlotChange} ${Ut(this.defaultSlotRef)}></slot></div>`}renderContentProperties(){const{label:e,description:i,hasCustomContent:r}=this;return!r&&(e||i)?vt("content",de`<div class=${ce(pi.content)}>${e?vt("label",de`<div class=${ce(pi.label)}>${e}</div>`):null}${i?vt("description",de`<div class=${ce(pi.description)}>${i}</div>`):null}</div>`):null}renderContentContainer(){const{description:e,label:i,selectionMode:r,hasCustomContent:n,unavailable:s}=this,o=n||!!i||!!e,a=[this.renderContentStart(),this.renderCustomContent(),this.renderIconStart(),this.renderContentProperties(),this.renderIconEnd(),this.renderContentEnd()];return vt("content-container",de`<div .ariaLabel=${i} class=${ce({[pi.gridCell]:!0,[pi.contentContainer]:!0,[pi.contentContainerUnavailable]:s,[pi.contentContainerSelectable]:r!=="none",[pi.contentContainerHasCenterContent]:o})} @click=${this.handleItemClick} role=gridcell ${Ut(this.contentRef)}>${a}</div>`)}render(){const{expandable:e,expanded:i,level:r,active:n,label:s,selected:o,selectionAppearance:a,selectionMode:l,interactionMode:h,closed:f,filterHidden:g,bordered:v,disabled:w,hasContentBottom:S}=this,T=v&&S,C=v&&!S,I=l!=="none"&&a==="border",A=I&&o,P=I&&!o,D=h==="interactive"||h==="static"&&l!=="none"&&a==="border";return _l({disabled:w,children:de`<div class=${ce({[pi.wrapper]:!0,[pi.wrapperBordered]:T})}><div .ariaExpanded=${e?i:null} .ariaLabel=${s} .ariaLevel=${r} .ariaSelected=${o} class=${ce({[pi.row]:!0,[pi.container]:!0,[pi.containerHover]:D,[pi.containerBorder]:I,[pi.containerBorderSelected]:A,[pi.containerBorderUnselected]:P})} .hidden=${f||g} @focus=${this.focusCellNull} @focusin=${this.emitInternalListItemActive} @keydown=${this.handleItemKeyDown} role=row .tabIndex=${n?0:-1} ${Ut(this.containerRef)}>${this.renderDragHandle()}${this.renderSelected()}${this.renderExpanded()}<div class=${ce({[pi.contentContainerWrapper]:!0,[pi.contentContainerWrapperBordered]:C})}>${this.renderActionsStart()}${this.renderContentContainer()}${this.renderActionsEnd()}</div></div>${this.renderContentBottom()}</div>${this.renderDefaultContainer()}`})}};QP.properties={hasActionsEnd:[16,{},{state:!0}],hasActionsStart:[16,{},{state:!0}],hasContentBottom:[16,{},{state:!0}],hasContentEnd:[16,{},{state:!0}],hasContentStart:[16,{},{state:!0}],hasCustomContent:[16,{},{state:!0}],level:[16,{},{state:!0}],expandable:[16,{},{state:!0}],parentListEl:[16,{},{state:!0}],active:[5,{},{type:Boolean}],bordered:[5,{},{type:Boolean}],sortDisabled:[5,{},{type:Boolean}],closable:[7,{},{reflect:!0,type:Boolean}],closed:[7,{},{reflect:!0,type:Boolean}],description:1,disabled:[7,{},{reflect:!0,type:Boolean}],dragDisabled:[7,{},{reflect:!0,type:Boolean}],dragHandle:[7,{},{reflect:!0,type:Boolean}],expanded:[7,{},{reflect:!0,type:Boolean}],filterHidden:[7,{},{reflect:!0,type:Boolean}],interactionMode:1,label:1,messageOverrides:[0,{},{attribute:!1}],metadata:[0,{},{attribute:!1}],displayMode:[3,{},{reflect:!0}],addToItems:[0,{},{attribute:!1}],moveToItems:[0,{},{attribute:!1}],open:[7,{},{reflect:!0,type:Boolean}],scale:[3,{},{reflect:!0}],selected:[7,{},{reflect:!0,type:Boolean}],selectionAppearance:[3,{},{reflect:!0}],selectionMode:[3,{},{reflect:!0}],setPosition:[9,{},{type:Number}],setSize:[9,{},{type:Number}],sortHandleOpen:[7,{},{reflect:!0,type:Boolean}],unavailable:[7,{},{reflect:!0,type:Boolean}],value:1,iconStart:[3,{},{reflect:!0}],iconEnd:[3,{},{reflect:!0}],iconFlipRtl:[3,{},{reflect:!0}]},QP.styles=[jQe,NQe];let kP=QP;Pi("calcite-list-item",kP);const qft=Object.freeze(Object.defineProperty({__proto__:null,ListItem:kP},Symbol.toStringTag,{value:"Module"}));function FQe(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var ST={exports:{}},VQe=ST.exports,Ute;function UQe(){return Ute||(Ute=1,(function(t,e){(function(i,r){t.exports=r()})(VQe,function(){function i(x,_){var E=Object.keys(x);if(Object.getOwnPropertySymbols){var M=Object.getOwnPropertySymbols(x);_&&(M=M.filter(function(O){return Object.getOwnPropertyDescriptor(x,O).enumerable})),E.push.apply(E,M)}return E}function r(x){for(var _=1;_<arguments.length;_++){var E=arguments[_]!=null?arguments[_]:{};_%2?i(Object(E),!0).forEach(function(M){l(x,M,E[M])}):Object.getOwnPropertyDescriptors?Object.defineProperties(x,Object.getOwnPropertyDescriptors(E)):i(Object(E)).forEach(function(M){Object.defineProperty(x,M,Object.getOwnPropertyDescriptor(E,M))})}return x}function n(x){return n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},n(x)}function s(x,_){if(!(x instanceof _))throw new TypeError("Cannot call a class as a function")}function o(x,_){for(var E=0;E<_.length;E++){var M=_[E];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(x,T(M.key),M)}}function a(x,_,E){return _&&o(x.prototype,_),Object.defineProperty(x,"prototype",{writable:!1}),x}function l(x,_,E){return(_=T(_))in x?Object.defineProperty(x,_,{value:E,enumerable:!0,configurable:!0,writable:!0}):x[_]=E,x}function h(x,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function");x.prototype=Object.create(_&&_.prototype,{constructor:{value:x,writable:!0,configurable:!0}}),Object.defineProperty(x,"prototype",{writable:!1}),_&&g(x,_)}function f(x){return f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(_){return _.__proto__||Object.getPrototypeOf(_)},f(x)}function g(x,_){return g=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(E,M){return E.__proto__=M,E},g(x,_)}function v(x){if(x===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x}function w(x){var _=(function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}})();return function(){var E,M=f(x);if(_){var O=f(this).constructor;E=Reflect.construct(M,arguments,O)}else E=M.apply(this,arguments);return(function(z,V){if(V&&(typeof V=="object"||typeof V=="function"))return V;if(V!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return v(z)})(this,E)}}function S(){return S=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(x,_,E){var M=(function(z,V){for(;!Object.prototype.hasOwnProperty.call(z,V)&&(z=f(z))!==null;);return z})(x,_);if(M){var O=Object.getOwnPropertyDescriptor(M,_);return O.get?O.get.call(arguments.length<3?x:E):O.value}},S.apply(this,arguments)}function T(x){var _=(function(E,M){if(typeof E!="object"||E===null)return E;var O=E[Symbol.toPrimitive];if(O!==void 0){var z=O.call(E,M);if(typeof z!="object")return z;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(E)})(x,"string");return typeof _=="symbol"?_:_+""}var C=function(x){return!(!x||!x.Window)&&x instanceof x.Window},I=void 0,A=void 0;function P(x){I=x;var _=x.document.createTextNode("");_.ownerDocument!==x.document&&typeof x.wrap=="function"&&x.wrap(_)===_&&(x=x.wrap(x)),A=x}function D(x){return C(x)?x:(x.ownerDocument||x).defaultView||A.window}typeof window<"u"&&window&&P(window);var L=function(x){return!!x&&n(x)==="object"},B=function(x){return typeof x=="function"},N={window:function(x){return x===A||C(x)},docFrag:function(x){return L(x)&&x.nodeType===11},object:L,func:B,number:function(x){return typeof x=="number"},bool:function(x){return typeof x=="boolean"},string:function(x){return typeof x=="string"},element:function(x){if(!x||n(x)!=="object")return!1;var _=D(x)||A;return/object|function/.test(typeof Element>"u"?"undefined":n(Element))?x instanceof Element||x instanceof _.Element:x.nodeType===1&&typeof x.nodeName=="string"},plainObject:function(x){return L(x)&&!!x.constructor&&/function Object\b/.test(x.constructor.toString())},array:function(x){return L(x)&&x.length!==void 0&&B(x.splice)}};function Y(x){var _=x.interaction;if(_.prepared.name==="drag"){var E=_.prepared.axis;E==="x"?(_.coords.cur.page.y=_.coords.start.page.y,_.coords.cur.client.y=_.coords.start.client.y,_.coords.velocity.client.y=0,_.coords.velocity.page.y=0):E==="y"&&(_.coords.cur.page.x=_.coords.start.page.x,_.coords.cur.client.x=_.coords.start.client.x,_.coords.velocity.client.x=0,_.coords.velocity.page.x=0)}}function K(x){var _=x.iEvent,E=x.interaction;if(E.prepared.name==="drag"){var M=E.prepared.axis;if(M==="x"||M==="y"){var O=M==="x"?"y":"x";_.page[O]=E.coords.start.page[O],_.client[O]=E.coords.start.client[O],_.delta[O]=0}}}var te={id:"actions/drag",install:function(x){var _=x.actions,E=x.Interactable,M=x.defaults;E.prototype.draggable=te.draggable,_.map.drag=te,_.methodDict.drag="draggable",M.actions.drag=te.defaults},listeners:{"interactions:before-action-move":Y,"interactions:action-resume":Y,"interactions:action-move":K,"auto-start:check":function(x){var _=x.interaction,E=x.interactable,M=x.buttons,O=E.options.drag;if(O&&O.enabled&&(!_.pointerIsDown||!/mouse|pointer/.test(_.pointerType)||(M&E.options.drag.mouseButtons)!=0))return x.action={name:"drag",axis:O.lockAxis==="start"?O.startAxis:O.lockAxis},!1}},draggable:function(x){return N.object(x)?(this.options.drag.enabled=x.enabled!==!1,this.setPerAction("drag",x),this.setOnEvents("drag",x),/^(xy|x|y|start)$/.test(x.lockAxis)&&(this.options.drag.lockAxis=x.lockAxis),/^(xy|x|y)$/.test(x.startAxis)&&(this.options.drag.startAxis=x.startAxis),this):N.bool(x)?(this.options.drag.enabled=x,this):this.options.drag},beforeMove:Y,move:K,defaults:{startAxis:"xy",lockAxis:"xy"},getCursor:function(){return"move"},filterEventType:function(x){return x.search("drag")===0}},ue=te,ye={init:function(x){var _=x;ye.document=_.document,ye.DocumentFragment=_.DocumentFragment||se,ye.SVGElement=_.SVGElement||se,ye.SVGSVGElement=_.SVGSVGElement||se,ye.SVGElementInstance=_.SVGElementInstance||se,ye.Element=_.Element||se,ye.HTMLElement=_.HTMLElement||ye.Element,ye.Event=_.Event,ye.Touch=_.Touch||se,ye.PointerEvent=_.PointerEvent||_.MSPointerEvent},document:null,DocumentFragment:null,SVGElement:null,SVGSVGElement:null,SVGElementInstance:null,Element:null,HTMLElement:null,Event:null,Touch:null,PointerEvent:null};function se(){}var G=ye,ie={init:function(x){var _=G.Element,E=x.navigator||{};ie.supportsTouch="ontouchstart"in x||N.func(x.DocumentTouch)&&G.document instanceof x.DocumentTouch,ie.supportsPointerEvent=E.pointerEnabled!==!1&&!!G.PointerEvent,ie.isIOS=/iP(hone|od|ad)/.test(E.platform),ie.isIOS7=/iP(hone|od|ad)/.test(E.platform)&&/OS 7[^\d]/.test(E.appVersion),ie.isIe9=/MSIE 9/.test(E.userAgent),ie.isOperaMobile=E.appName==="Opera"&&ie.supportsTouch&&/Presto/.test(E.userAgent),ie.prefixedMatchesSelector="matches"in _.prototype?"matches":"webkitMatchesSelector"in _.prototype?"webkitMatchesSelector":"mozMatchesSelector"in _.prototype?"mozMatchesSelector":"oMatchesSelector"in _.prototype?"oMatchesSelector":"msMatchesSelector",ie.pEventTypes=ie.supportsPointerEvent?G.PointerEvent===x.MSPointerEvent?{up:"MSPointerUp",down:"MSPointerDown",over:"mouseover",out:"mouseout",move:"MSPointerMove",cancel:"MSPointerCancel"}:{up:"pointerup",down:"pointerdown",over:"pointerover",out:"pointerout",move:"pointermove",cancel:"pointercancel"}:null,ie.wheelEvent=G.document&&"onmousewheel"in G.document?"mousewheel":"wheel"},supportsTouch:null,supportsPointerEvent:null,isIOS7:null,isIOS:null,isIe9:null,isOperaMobile:null,prefixedMatchesSelector:null,pEventTypes:null,wheelEvent:null},J=ie;function le(x,_){if(x.contains)return x.contains(_);for(;_;){if(_===x)return!0;_=_.parentNode}return!1}function ve(x,_){for(;N.element(x);){if(Ne(x,_))return x;x=Me(x)}return null}function Me(x){var _=x.parentNode;if(N.docFrag(_)){for(;(_=_.host)&&N.docFrag(_););return _}return _}function Ne(x,_){return A!==I&&(_=_.replace(/\/deep\//g," ")),x[J.prefixedMatchesSelector](_)}var X=function(x){return x.parentNode||x.host};function fe(x,_){for(var E,M=[],O=x;(E=X(O))&&O!==_&&E!==O.ownerDocument;)M.unshift(O),O=E;return M}function Pe(x,_,E){for(;N.element(x);){if(Ne(x,_))return!0;if((x=Me(x))===E)return Ne(x,_)}return!1}function Be(x){return x.correspondingUseElement||x}function Je(x){var _=x instanceof G.SVGElement?x.getBoundingClientRect():x.getClientRects()[0];return _&&{left:_.left,right:_.right,top:_.top,bottom:_.bottom,width:_.width||_.right-_.left,height:_.height||_.bottom-_.top}}function lt(x){var _,E=Je(x);if(!J.isIOS7&&E){var M={x:(_=(_=D(x))||A).scrollX||_.document.documentElement.scrollLeft,y:_.scrollY||_.document.documentElement.scrollTop};E.left+=M.x,E.right+=M.x,E.top+=M.y,E.bottom+=M.y}return E}function St(x){for(var _=[];x;)_.push(x),x=Me(x);return _}function si(x){return!!N.string(x)&&(G.document.querySelector(x),!0)}function qe(x,_){for(var E in _)x[E]=_[E];return x}function fo(x,_,E){return x==="parent"?Me(E):x==="self"?_.getRect(E):ve(E,x)}function qn(x,_,E,M){var O=x;return N.string(O)?O=fo(O,_,E):N.func(O)&&(O=O.apply(void 0,M)),N.element(O)&&(O=lt(O)),O}function xa(x){return x&&{x:"x"in x?x.x:x.left,y:"y"in x?x.y:x.top}}function $u(x){return!x||"x"in x&&"y"in x||((x=qe({},x)).x=x.left||0,x.y=x.top||0,x.width=x.width||(x.right||0)-x.x,x.height=x.height||(x.bottom||0)-x.y),x}function hs(x,_,E){x.left&&(_.left+=E.x),x.right&&(_.right+=E.x),x.top&&(_.top+=E.y),x.bottom&&(_.bottom+=E.y),_.width=_.right-_.left,_.height=_.bottom-_.top}function Sa(x,_,E){var M=E&&x.options[E];return xa(qn(M&&M.origin||x.options.origin,x,_,[x&&_]))||{x:0,y:0}}function Ta(x,_){var E=arguments.length>2&&arguments[2]!==void 0?arguments[2]:function(q){return!0},M=arguments.length>3?arguments[3]:void 0;if(M=M||{},N.string(x)&&x.search(" ")!==-1&&(x=Qv(x)),N.array(x))return x.forEach(function(q){return Ta(q,_,E,M)}),M;if(N.object(x)&&(_=x,x=""),N.func(_)&&E(x))M[x]=M[x]||[],M[x].push(_);else if(N.array(_))for(var O=0,z=_;O<z.length;O++){var V=z[O];Ta(x,V,E,M)}else if(N.object(_))for(var H in _)Ta(Qv(H).map(function(q){return"".concat(x).concat(q)}),_[H],E,M);return M}function Qv(x){return x.trim().split(/ +/)}var ku=function(x,_){return Math.sqrt(x*x+_*_)},Gp=["webkit","moz"];function fc(x,_){x.__set||(x.__set={});var E=function(O){if(Gp.some(function(z){return O.indexOf(z)===0}))return 1;typeof x[O]!="function"&&O!=="__set"&&Object.defineProperty(x,O,{get:function(){return O in x.__set?x.__set[O]:x.__set[O]=_[O]},set:function(z){x.__set[O]=z},configurable:!0})};for(var M in _)E(M);return x}function ps(x,_){x.page=x.page||{},x.page.x=_.page.x,x.page.y=_.page.y,x.client=x.client||{},x.client.x=_.client.x,x.client.y=_.client.y,x.timeStamp=_.timeStamp}function eb(x){x.page.x=0,x.page.y=0,x.client.x=0,x.client.y=0}function tb(x){return x instanceof G.Event||x instanceof G.Touch}function hn(x,_,E){return x=x||"page",(E=E||{}).x=_[x+"X"],E.y=_[x+"Y"],E}function ib(x,_){return _=_||{x:0,y:0},J.isOperaMobile&&tb(x)?(hn("screen",x,_),_.x+=window.scrollX,_.y+=window.scrollY):hn("page",x,_),_}function Eu(x){return N.number(x.pointerId)?x.pointerId:x.identifier}function rb(x,_,E){var M=_.length>1?G1(_):_[0];ib(M,x.page),(function(O,z){z=z||{},J.isOperaMobile&&tb(O)?hn("screen",O,z):hn("client",O,z)})(M,x.client),x.timeStamp=E}function Iu(x){var _=[];return N.array(x)?(_[0]=x[0],_[1]=x[1]):x.type==="touchend"?x.touches.length===1?(_[0]=x.touches[0],_[1]=x.changedTouches[0]):x.touches.length===0&&(_[0]=x.changedTouches[0],_[1]=x.changedTouches[1]):(_[0]=x.touches[0],_[1]=x.touches[1]),_}function G1(x){for(var _={pageX:0,pageY:0,clientX:0,clientY:0,screenX:0,screenY:0},E=0;E<x.length;E++){var M=x[E];for(var O in _)_[O]+=M[O]}for(var z in _)_[z]/=x.length;return _}function Wp(x){if(!x.length)return null;var _=Iu(x),E=Math.min(_[0].pageX,_[1].pageX),M=Math.min(_[0].pageY,_[1].pageY),O=Math.max(_[0].pageX,_[1].pageX),z=Math.max(_[0].pageY,_[1].pageY);return{x:E,y:M,left:E,top:M,right:O,bottom:z,width:O-E,height:z-M}}function lg(x,_){var E=_+"X",M=_+"Y",O=Iu(x),z=O[0][E]-O[1][E],V=O[0][M]-O[1][M];return ku(z,V)}function cg(x,_){var E=_+"X",M=_+"Y",O=Iu(x),z=O[1][E]-O[0][E],V=O[1][M]-O[0][M];return 180*Math.atan2(V,z)/Math.PI}function Cu(x){return N.string(x.pointerType)?x.pointerType:N.number(x.pointerType)?[void 0,void 0,"touch","pen","mouse"][x.pointerType]:/touch/.test(x.type||"")||x instanceof G.Touch?"touch":"mouse"}function Gn(x){var _=N.func(x.composedPath)?x.composedPath():x.path;return[Be(_?_[0]:x.target),Be(x.currentTarget)]}var mo=(function(){function x(_){s(this,x),this.immediatePropagationStopped=!1,this.propagationStopped=!1,this._interaction=_}return a(x,[{key:"preventDefault",value:function(){}},{key:"stopPropagation",value:function(){this.propagationStopped=!0}},{key:"stopImmediatePropagation",value:function(){this.immediatePropagationStopped=this.propagationStopped=!0}}]),x})();Object.defineProperty(mo.prototype,"interaction",{get:function(){return this._interaction._proxy},set:function(){}});var Wn=function(x,_){for(var E=0;E<_.length;E++){var M=_[E];x.push(M)}return x},nb=function(x){return Wn([],x)},Hd=function(x,_){for(var E=0;E<x.length;E++)if(_(x[E],E,x))return E;return-1},qd=function(x,_){return x[Hd(x,_)]},$a=(function(x){h(E,x);var _=w(E);function E(M,O,z){var V;s(this,E),(V=_.call(this,O._interaction)).dropzone=void 0,V.dragEvent=void 0,V.relatedTarget=void 0,V.draggable=void 0,V.propagationStopped=!1,V.immediatePropagationStopped=!1;var H=z==="dragleave"?M.prev:M.cur,q=H.element,re=H.dropzone;return V.type=z,V.target=q,V.currentTarget=q,V.dropzone=re,V.dragEvent=O,V.relatedTarget=O.target,V.draggable=O.interactable,V.timeStamp=O.timeStamp,V}return a(E,[{key:"reject",value:function(){var M=this,O=this._interaction.dropState;if(this.type==="dropactivate"||this.dropzone&&O.cur.dropzone===this.dropzone&&O.cur.element===this.target)if(O.prev.dropzone=this.dropzone,O.prev.element=this.target,O.rejected=!0,O.events.enter=null,this.stopImmediatePropagation(),this.type==="dropactivate"){var z=O.activeDrops,V=Hd(z,function(q){var re=q.dropzone,W=q.element;return re===M.dropzone&&W===M.target});O.activeDrops.splice(V,1);var H=new E(O,this.dragEvent,"dropdeactivate");H.dropzone=this.dropzone,H.target=this.target,this.dropzone.fire(H)}else this.dropzone.fire(new E(O,this.dragEvent,"dragleave"))}},{key:"preventDefault",value:function(){}},{key:"stopPropagation",value:function(){this.propagationStopped=!0}},{key:"stopImmediatePropagation",value:function(){this.immediatePropagationStopped=this.propagationStopped=!0}}]),E})(mo);function Gd(x,_){for(var E=0,M=x.slice();E<M.length;E++){var O=M[E],z=O.dropzone,V=O.element;_.dropzone=z,_.target=V,z.fire(_),_.propagationStopped=_.immediatePropagationStopped=!1}}function Mu(x,_){for(var E=(function(z,V){for(var H=[],q=0,re=z.interactables.list;q<re.length;q++){var W=re[q];if(W.options.drop.enabled){var pe=W.options.drop.accept;if(!(N.element(pe)&&pe!==V||N.string(pe)&&!Ne(V,pe)||N.func(pe)&&!pe({dropzone:W,draggableElement:V})))for(var $e=0,Ve=W.getAllElements();$e<Ve.length;$e++){var je=Ve[$e];je!==V&&H.push({dropzone:W,element:je,rect:W.getRect(je)})}}}return H})(x,_),M=0;M<E.length;M++){var O=E[M];O.rect=O.dropzone.getRect(O.element)}return E}function xl(x,_,E){for(var M=x.dropState,O=x.interactable,z=x.element,V=[],H=0,q=M.activeDrops;H<q.length;H++){var re=q[H],W=re.dropzone,pe=re.element,$e=re.rect,Ve=W.dropCheck(_,E,O,z,pe,$e);V.push(Ve?pe:null)}var je=(function(He){for(var st,it,mt,Ft=[],Jt=0;Jt<He.length;Jt++){var Ct=He[Jt],qt=He[st];if(Ct&&Jt!==st)if(qt){var Cr=X(Ct),Ei=X(qt);if(Cr!==Ct.ownerDocument)if(Ei!==Ct.ownerDocument)if(Cr!==Ei){Ft=Ft.length?Ft:fe(qt);var ms=void 0;if(qt instanceof G.HTMLElement&&Ct instanceof G.SVGElement&&!(Ct instanceof G.SVGSVGElement)){if(Ct===Ei)continue;ms=Ct.ownerSVGElement}else ms=Ct;for(var jo=fe(ms,qt.ownerDocument),gs=0;jo[gs]&&jo[gs]===Ft[gs];)gs++;var Tg=[jo[gs-1],jo[gs],Ft[gs]];if(Tg[0])for(var nf=Tg[0].lastChild;nf;){if(nf===Tg[1]){st=Jt,Ft=jo;break}if(nf===Tg[2])break;nf=nf.previousSibling}}else mt=qt,(parseInt(D(it=Ct).getComputedStyle(it).zIndex,10)||0)>=(parseInt(D(mt).getComputedStyle(mt).zIndex,10)||0)&&(st=Jt);else st=Jt}else st=Jt}return st})(V);return M.activeDrops[je]||null}function Au(x,_,E){var M=x.dropState,O={enter:null,leave:null,activate:null,deactivate:null,move:null,drop:null};return E.type==="dragstart"&&(O.activate=new $a(M,E,"dropactivate"),O.activate.target=null,O.activate.dropzone=null),E.type==="dragend"&&(O.deactivate=new $a(M,E,"dropdeactivate"),O.deactivate.target=null,O.deactivate.dropzone=null),M.rejected||(M.cur.element!==M.prev.element&&(M.prev.dropzone&&(O.leave=new $a(M,E,"dragleave"),E.dragLeave=O.leave.target=M.prev.element,E.prevDropzone=O.leave.dropzone=M.prev.dropzone),M.cur.dropzone&&(O.enter=new $a(M,E,"dragenter"),E.dragEnter=M.cur.element,E.dropzone=M.cur.dropzone)),E.type==="dragend"&&M.cur.dropzone&&(O.drop=new $a(M,E,"drop"),E.dropzone=M.cur.dropzone,E.relatedTarget=M.cur.element),E.type==="dragmove"&&M.cur.dropzone&&(O.move=new $a(M,E,"dropmove"),E.dropzone=M.cur.dropzone)),O}function mc(x,_){var E=x.dropState,M=E.activeDrops,O=E.cur,z=E.prev;_.leave&&z.dropzone.fire(_.leave),_.enter&&O.dropzone.fire(_.enter),_.move&&O.dropzone.fire(_.move),_.drop&&O.dropzone.fire(_.drop),_.deactivate&&Gd(M,_.deactivate),E.prev.dropzone=O.dropzone,E.prev.element=O.element}function sb(x,_){var E=x.interaction,M=x.iEvent,O=x.event;if(M.type==="dragmove"||M.type==="dragend"){var z=E.dropState;_.dynamicDrop&&(z.activeDrops=Mu(_,E.element));var V=M,H=xl(E,V,O);z.rejected=z.rejected&&!!H&&H.dropzone===z.cur.dropzone&&H.element===z.cur.element,z.cur.dropzone=H&&H.dropzone,z.cur.element=H&&H.element,z.events=Au(E,0,V)}}var Se={id:"actions/drop",install:function(x){var _=x.actions,E=x.interactStatic,M=x.Interactable,O=x.defaults;x.usePlugin(ue),M.prototype.dropzone=function(z){return(function(V,H){if(N.object(H)){if(V.options.drop.enabled=H.enabled!==!1,H.listeners){var q=Ta(H.listeners),re=Object.keys(q).reduce(function(pe,$e){return pe[/^(enter|leave)/.test($e)?"drag".concat($e):/^(activate|deactivate|move)/.test($e)?"drop".concat($e):$e]=q[$e],pe},{}),W=V.options.drop.listeners;W&&V.off(W),V.on(re),V.options.drop.listeners=re}return N.func(H.ondrop)&&V.on("drop",H.ondrop),N.func(H.ondropactivate)&&V.on("dropactivate",H.ondropactivate),N.func(H.ondropdeactivate)&&V.on("dropdeactivate",H.ondropdeactivate),N.func(H.ondragenter)&&V.on("dragenter",H.ondragenter),N.func(H.ondragleave)&&V.on("dragleave",H.ondragleave),N.func(H.ondropmove)&&V.on("dropmove",H.ondropmove),/^(pointer|center)$/.test(H.overlap)?V.options.drop.overlap=H.overlap:N.number(H.overlap)&&(V.options.drop.overlap=Math.max(Math.min(1,H.overlap),0)),"accept"in H&&(V.options.drop.accept=H.accept),"checker"in H&&(V.options.drop.checker=H.checker),V}return N.bool(H)?(V.options.drop.enabled=H,V):V.options.drop})(this,z)},M.prototype.dropCheck=function(z,V,H,q,re,W){return(function(pe,$e,Ve,je,He,st,it){var mt=!1;if(!(it=it||pe.getRect(st)))return!!pe.options.drop.checker&&pe.options.drop.checker($e,Ve,mt,pe,st,je,He);var Ft=pe.options.drop.overlap;if(Ft==="pointer"){var Jt=Sa(je,He,"drag"),Ct=ib($e);Ct.x+=Jt.x,Ct.y+=Jt.y;var qt=Ct.x>it.left&&Ct.x<it.right,Cr=Ct.y>it.top&&Ct.y<it.bottom;mt=qt&&Cr}var Ei=je.getRect(He);if(Ei&&Ft==="center"){var ms=Ei.left+Ei.width/2,jo=Ei.top+Ei.height/2;mt=ms>=it.left&&ms<=it.right&&jo>=it.top&&jo<=it.bottom}return Ei&&N.number(Ft)&&(mt=Math.max(0,Math.min(it.right,Ei.right)-Math.max(it.left,Ei.left))*Math.max(0,Math.min(it.bottom,Ei.bottom)-Math.max(it.top,Ei.top))/(Ei.width*Ei.height)>=Ft),pe.options.drop.checker&&(mt=pe.options.drop.checker($e,Ve,mt,pe,st,je,He)),mt})(this,z,V,H,q,re,W)},E.dynamicDrop=function(z){return N.bool(z)?(x.dynamicDrop=z,E):x.dynamicDrop},qe(_.phaselessTypes,{dragenter:!0,dragleave:!0,dropactivate:!0,dropdeactivate:!0,dropmove:!0,drop:!0}),_.methodDict.drop="dropzone",x.dynamicDrop=!1,O.actions.drop=Se.defaults},listeners:{"interactions:before-action-start":function(x){var _=x.interaction;_.prepared.name==="drag"&&(_.dropState={cur:{dropzone:null,element:null},prev:{dropzone:null,element:null},rejected:null,events:null,activeDrops:[]})},"interactions:after-action-start":function(x,_){var E=x.interaction,M=(x.event,x.iEvent);if(E.prepared.name==="drag"){var O=E.dropState;O.activeDrops=[],O.events={},O.activeDrops=Mu(_,E.element),O.events=Au(E,0,M),O.events.activate&&(Gd(O.activeDrops,O.events.activate),_.fire("actions/drop:start",{interaction:E,dragEvent:M}))}},"interactions:action-move":sb,"interactions:after-action-move":function(x,_){var E=x.interaction,M=x.iEvent;if(E.prepared.name==="drag"){var O=E.dropState;mc(E,O.events),_.fire("actions/drop:move",{interaction:E,dragEvent:M}),O.events={}}},"interactions:action-end":function(x,_){if(x.interaction.prepared.name==="drag"){var E=x.interaction,M=x.iEvent;sb(x,_),mc(E,E.dropState.events),_.fire("actions/drop:end",{interaction:E,dragEvent:M})}},"interactions:stop":function(x){var _=x.interaction;if(_.prepared.name==="drag"){var E=_.dropState;E&&(E.activeDrops=null,E.events=null,E.cur.dropzone=null,E.cur.element=null,E.prev.dropzone=null,E.prev.element=null,E.rejected=!1)}}},getActiveDrops:Mu,getDrop:xl,getDropEvents:Au,fireDropEvents:mc,filterEventType:function(x){return x.search("drag")===0||x.search("drop")===0},defaults:{enabled:!1,accept:null,overlap:"pointer"}},Di=Se;function js(x){var _=x.interaction,E=x.iEvent,M=x.phase;if(_.prepared.name==="gesture"){var O=_.pointers.map(function(re){return re.pointer}),z=M==="start",V=M==="end",H=_.interactable.options.deltaSource;if(E.touches=[O[0],O[1]],z)E.distance=lg(O,H),E.box=Wp(O),E.scale=1,E.ds=0,E.angle=cg(O,H),E.da=0,_.gesture.startDistance=E.distance,_.gesture.startAngle=E.angle;else if(V||_.pointers.length<2){var q=_.prevEvent;E.distance=q.distance,E.box=q.box,E.scale=q.scale,E.ds=0,E.angle=q.angle,E.da=0}else E.distance=lg(O,H),E.box=Wp(O),E.scale=E.distance/_.gesture.startDistance,E.angle=cg(O,H),E.ds=E.scale-_.gesture.scale,E.da=E.angle-_.gesture.angle;_.gesture.distance=E.distance,_.gesture.angle=E.angle,N.number(E.scale)&&E.scale!==1/0&&!isNaN(E.scale)&&(_.gesture.scale=E.scale)}}var gc={id:"actions/gesture",before:["actions/drag","actions/resize"],install:function(x){var _=x.actions,E=x.Interactable,M=x.defaults;E.prototype.gesturable=function(O){return N.object(O)?(this.options.gesture.enabled=O.enabled!==!1,this.setPerAction("gesture",O),this.setOnEvents("gesture",O),this):N.bool(O)?(this.options.gesture.enabled=O,this):this.options.gesture},_.map.gesture=gc,_.methodDict.gesture="gesturable",M.actions.gesture=gc.defaults},listeners:{"interactions:action-start":js,"interactions:action-move":js,"interactions:action-end":js,"interactions:new":function(x){x.interaction.gesture={angle:0,distance:0,scale:1,startAngle:0,startDistance:0}},"auto-start:check":function(x){if(!(x.interaction.pointers.length<2)){var _=x.interactable.options.gesture;if(_&&_.enabled)return x.action={name:"gesture"},!1}}},defaults:{},getCursor:function(){return""},filterEventType:function(x){return x.search("gesture")===0}},Fs=gc;function Wd(x,_,E,M,O,z,V){if(!_)return!1;if(_===!0){var H=N.number(z.width)?z.width:z.right-z.left,q=N.number(z.height)?z.height:z.bottom-z.top;if(V=Math.min(V,Math.abs((x==="left"||x==="right"?H:q)/2)),H<0&&(x==="left"?x="right":x==="right"&&(x="left")),q<0&&(x==="top"?x="bottom":x==="bottom"&&(x="top")),x==="left"){var re=H>=0?z.left:z.right;return E.x<re+V}if(x==="top"){var W=q>=0?z.top:z.bottom;return E.y<W+V}if(x==="right")return E.x>(H>=0?z.right:z.left)-V;if(x==="bottom")return E.y>(q>=0?z.bottom:z.top)-V}return!!N.element(M)&&(N.element(_)?_===M:Pe(M,_,O))}function ct(x){var _=x.iEvent,E=x.interaction;if(E.prepared.name==="resize"&&E.resizeAxes){var M=_;E.interactable.options.resize.square?(E.resizeAxes==="y"?M.delta.x=M.delta.y:M.delta.y=M.delta.x,M.axes="xy"):(M.axes=E.resizeAxes,E.resizeAxes==="x"?M.delta.y=0:E.resizeAxes==="y"&&(M.delta.x=0))}}var Yn,ka,ki={id:"actions/resize",before:["actions/drag"],install:function(x){var _=x.actions,E=x.browser,M=x.Interactable,O=x.defaults;ki.cursors=(function(z){return z.isIe9?{x:"e-resize",y:"s-resize",xy:"se-resize",top:"n-resize",left:"w-resize",bottom:"s-resize",right:"e-resize",topleft:"se-resize",bottomright:"se-resize",topright:"ne-resize",bottomleft:"ne-resize"}:{x:"ew-resize",y:"ns-resize",xy:"nwse-resize",top:"ns-resize",left:"ew-resize",bottom:"ns-resize",right:"ew-resize",topleft:"nwse-resize",bottomright:"nwse-resize",topright:"nesw-resize",bottomleft:"nesw-resize"}})(E),ki.defaultMargin=E.supportsTouch||E.supportsPointerEvent?20:10,M.prototype.resizable=function(z){return(function(V,H,q){return N.object(H)?(V.options.resize.enabled=H.enabled!==!1,V.setPerAction("resize",H),V.setOnEvents("resize",H),N.string(H.axis)&&/^x$|^y$|^xy$/.test(H.axis)?V.options.resize.axis=H.axis:H.axis===null&&(V.options.resize.axis=q.defaults.actions.resize.axis),N.bool(H.preserveAspectRatio)?V.options.resize.preserveAspectRatio=H.preserveAspectRatio:N.bool(H.square)&&(V.options.resize.square=H.square),V):N.bool(H)?(V.options.resize.enabled=H,V):V.options.resize})(this,z,x)},_.map.resize=ki,_.methodDict.resize="resizable",O.actions.resize=ki.defaults},listeners:{"interactions:new":function(x){x.interaction.resizeAxes="xy"},"interactions:action-start":function(x){(function(_){var E=_.iEvent,M=_.interaction;if(M.prepared.name==="resize"&&M.prepared.edges){var O=E,z=M.rect;M._rects={start:qe({},z),corrected:qe({},z),previous:qe({},z),delta:{left:0,right:0,width:0,top:0,bottom:0,height:0}},O.edges=M.prepared.edges,O.rect=M._rects.corrected,O.deltaRect=M._rects.delta}})(x),ct(x)},"interactions:action-move":function(x){(function(_){var E=_.iEvent,M=_.interaction;if(M.prepared.name==="resize"&&M.prepared.edges){var O=E,z=M.interactable.options.resize.invert,V=z==="reposition"||z==="negate",H=M.rect,q=M._rects,re=q.start,W=q.corrected,pe=q.delta,$e=q.previous;if(qe($e,W),V){if(qe(W,H),z==="reposition"){if(W.top>W.bottom){var Ve=W.top;W.top=W.bottom,W.bottom=Ve}if(W.left>W.right){var je=W.left;W.left=W.right,W.right=je}}}else W.top=Math.min(H.top,re.bottom),W.bottom=Math.max(H.bottom,re.top),W.left=Math.min(H.left,re.right),W.right=Math.max(H.right,re.left);for(var He in W.width=W.right-W.left,W.height=W.bottom-W.top,W)pe[He]=W[He]-$e[He];O.edges=M.prepared.edges,O.rect=W,O.deltaRect=pe}})(x),ct(x)},"interactions:action-end":function(x){var _=x.iEvent,E=x.interaction;if(E.prepared.name==="resize"&&E.prepared.edges){var M=_;M.edges=E.prepared.edges,M.rect=E._rects.corrected,M.deltaRect=E._rects.delta}},"auto-start:check":function(x){var _=x.interaction,E=x.interactable,M=x.element,O=x.rect,z=x.buttons;if(O){var V=qe({},_.coords.cur.page),H=E.options.resize;if(H&&H.enabled&&(!_.pointerIsDown||!/mouse|pointer/.test(_.pointerType)||(z&H.mouseButtons)!=0)){if(N.object(H.edges)){var q={left:!1,right:!1,top:!1,bottom:!1};for(var re in q)q[re]=Wd(re,H.edges[re],V,_._latestPointer.eventTarget,M,O,H.margin||ki.defaultMargin);q.left=q.left&&!q.right,q.top=q.top&&!q.bottom,(q.left||q.right||q.top||q.bottom)&&(x.action={name:"resize",edges:q})}else{var W=H.axis!=="y"&&V.x>O.right-ki.defaultMargin,pe=H.axis!=="x"&&V.y>O.bottom-ki.defaultMargin;(W||pe)&&(x.action={name:"resize",axes:(W?"x":"")+(pe?"y":"")})}return!x.action&&void 0}}}},defaults:{square:!1,preserveAspectRatio:!1,axis:"xy",margin:NaN,edges:null,invert:"none"},cursors:null,getCursor:function(x){var _=x.edges,E=x.axis,M=x.name,O=ki.cursors,z=null;if(E)z=O[M+E];else if(_){for(var V="",H=0,q=["top","bottom","left","right"];H<q.length;H++){var re=q[H];_[re]&&(V+=re)}z=O[V]}return z},filterEventType:function(x){return x.search("resize")===0},defaultMargin:null},Ou=ki,Sl={id:"actions",install:function(x){x.usePlugin(Fs),x.usePlugin(Ou),x.usePlugin(ue),x.usePlugin(Di)}},Fi=0,sr={request:function(x){return Yn(x)},cancel:function(x){return ka(x)},init:function(x){if(Yn=x.requestAnimationFrame,ka=x.cancelAnimationFrame,!Yn)for(var _=["ms","moz","webkit","o"],E=0;E<_.length;E++){var M=_[E];Yn=x["".concat(M,"RequestAnimationFrame")],ka=x["".concat(M,"CancelAnimationFrame")]||x["".concat(M,"CancelRequestAnimationFrame")]}Yn=Yn&&Yn.bind(x),ka=ka&&ka.bind(x),Yn||(Yn=function(O){var z=Date.now(),V=Math.max(0,16-(z-Fi)),H=x.setTimeout(function(){O(z+V)},V);return Fi=z+V,H},ka=function(O){return clearTimeout(O)})}},Tt={defaults:{enabled:!1,margin:60,container:null,speed:300},now:Date.now,interaction:null,i:0,x:0,y:0,isScrolling:!1,prevTime:0,margin:0,speed:0,start:function(x){Tt.isScrolling=!0,sr.cancel(Tt.i),x.autoScroll=Tt,Tt.interaction=x,Tt.prevTime=Tt.now(),Tt.i=sr.request(Tt.scroll)},stop:function(){Tt.isScrolling=!1,Tt.interaction&&(Tt.interaction.autoScroll=null),sr.cancel(Tt.i)},scroll:function(){var x=Tt.interaction,_=x.interactable,E=x.element,M=x.prepared.name,O=_.options[M].autoScroll,z=Ot(O.container,_,E),V=Tt.now(),H=(V-Tt.prevTime)/1e3,q=O.speed*H;if(q>=1){var re={x:Tt.x*q,y:Tt.y*q};if(re.x||re.y){var W=ob(z);N.window(z)?z.scrollBy(re.x,re.y):z&&(z.scrollLeft+=re.x,z.scrollTop+=re.y);var pe=ob(z),$e={x:pe.x-W.x,y:pe.y-W.y};($e.x||$e.y)&&_.fire({type:"autoscroll",target:E,interactable:_,delta:$e,interaction:x,container:z})}Tt.prevTime=V}Tt.isScrolling&&(sr.cancel(Tt.i),Tt.i=sr.request(Tt.scroll))},check:function(x,_){var E;return(E=x.options[_].autoScroll)==null?void 0:E.enabled},onInteractionMove:function(x){var _=x.interaction,E=x.pointer;if(_.interacting()&&Tt.check(_.interactable,_.prepared.name))if(_.simulation)Tt.x=Tt.y=0;else{var M,O,z,V,H=_.interactable,q=_.element,re=_.prepared.name,W=H.options[re].autoScroll,pe=Ot(W.container,H,q);if(N.window(pe))V=E.clientX<Tt.margin,M=E.clientY<Tt.margin,O=E.clientX>pe.innerWidth-Tt.margin,z=E.clientY>pe.innerHeight-Tt.margin;else{var $e=Je(pe);V=E.clientX<$e.left+Tt.margin,M=E.clientY<$e.top+Tt.margin,O=E.clientX>$e.right-Tt.margin,z=E.clientY>$e.bottom-Tt.margin}Tt.x=O?1:V?-1:0,Tt.y=z?1:M?-1:0,Tt.isScrolling||(Tt.margin=W.margin,Tt.speed=W.speed,Tt.start(_))}}};function Ot(x,_,E){return(N.string(x)?fo(x,_,E):x)||D(E)}function ob(x){return N.window(x)&&(x=window.document.body),{x:x.scrollLeft,y:x.scrollTop}}var ab={id:"auto-scroll",install:function(x){var _=x.defaults,E=x.actions;x.autoScroll=Tt,Tt.now=function(){return x.now()},E.phaselessTypes.autoscroll=!0,_.perAction.autoScroll=Tt.defaults},listeners:{"interactions:new":function(x){x.interaction.autoScroll=null},"interactions:destroy":function(x){x.interaction.autoScroll=null,Tt.stop(),Tt.interaction&&(Tt.interaction=null)},"interactions:stop":Tt.stop,"interactions:action-move":function(x){return Tt.onInteractionMove(x)}}},lb=ab;function Ea(x,_){var E=!1;return function(){return E||(A.console.warn(_),E=!0),x.apply(this,arguments)}}function yc(x,_){return x.name=_.name,x.axis=_.axis,x.edges=_.edges,x}function Pu(x){return N.bool(x)?(this.options.styleCursor=x,this):x===null?(delete this.options.styleCursor,this):this.options.styleCursor}function Tl(x){return N.func(x)?(this.options.actionChecker=x,this):x===null?(delete this.options.actionChecker,this):this.options.actionChecker}var or={id:"auto-start/interactableMethods",install:function(x){var _=x.Interactable;_.prototype.getAction=function(E,M,O,z){var V=(function(H,q,re,W,pe){var $e=H.getRect(W),Ve=q.buttons||{0:1,1:4,3:8,4:16}[q.button],je={action:null,interactable:H,interaction:re,element:W,rect:$e,buttons:Ve};return pe.fire("auto-start:check",je),je.action})(this,M,O,z,x);return this.options.actionChecker?this.options.actionChecker(E,M,V,this,z,O):V},_.prototype.ignoreFrom=Ea(function(E){return this._backCompatOption("ignoreFrom",E)},"Interactable.ignoreFrom() has been deprecated. Use Interactble.draggable({ignoreFrom: newValue})."),_.prototype.allowFrom=Ea(function(E){return this._backCompatOption("allowFrom",E)},"Interactable.allowFrom() has been deprecated. Use Interactble.draggable({allowFrom: newValue})."),_.prototype.actionChecker=Tl,_.prototype.styleCursor=Pu}};function vc(x,_,E,M,O){return _.testIgnoreAllow(_.options[x.name],E,M)&&_.options[x.name].enabled&&No(_,E,x,O)?x:null}function Ir(x,_,E,M,O,z,V){for(var H=0,q=M.length;H<q;H++){var re=M[H],W=O[H],pe=re.getAction(_,E,x,W);if(pe){var $e=vc(pe,re,W,z,V);if($e)return{action:$e,interactable:re,element:W}}}return{action:null,interactable:null,element:null}}function ug(x,_,E,M,O){var z=[],V=[],H=M;function q(W){z.push(W),V.push(H)}for(;N.element(H);){z=[],V=[],O.interactables.forEachMatch(H,q);var re=Ir(x,_,E,z,V,M,O);if(re.action&&!re.interactable.options[re.action.name].manualStart)return re;H=Me(H)}return{action:null,interactable:null,element:null}}function dg(x,_,E){var M=_.action,O=_.interactable,z=_.element;M=M||{name:null},x.interactable=O,x.element=z,yc(x.prepared,M),x.rect=O&&M.name?O.getRect(z):null,Zn(x,E),E.fire("autoStart:prepared",{interaction:x})}function No(x,_,E,M){var O=x.options,z=O[E.name].max,V=O[E.name].maxPerElement,H=M.autoStart.maxInteractions,q=0,re=0,W=0;if(!(z&&V&&H))return!1;for(var pe=0,$e=M.interactions.list;pe<$e.length;pe++){var Ve=$e[pe],je=Ve.prepared.name;if(Ve.interacting()&&(++q>=H||Ve.interactable===x&&((re+=je===E.name?1:0)>=z||Ve.element===_&&(W++,je===E.name&&W>=V))))return!1}return H>0}function bc(x,_){return N.number(x)?(_.autoStart.maxInteractions=x,this):_.autoStart.maxInteractions}function hg(x,_,E){var M=E.autoStart.cursorElement;M&&M!==x&&(M.style.cursor=""),x.ownerDocument.documentElement.style.cursor=_,x.style.cursor=_,E.autoStart.cursorElement=_?x:null}function Zn(x,_){var E=x.interactable,M=x.element,O=x.prepared;if(x.pointerType==="mouse"&&E&&E.options.styleCursor){var z="";if(O.name){var V=E.options[O.name].cursorChecker;z=N.func(V)?V(O,E,M,x._interacting):_.actions.map[O.name].getCursor(O)}hg(x.element,z||"",_)}else _.autoStart.cursorElement&&hg(_.autoStart.cursorElement,"",_)}var cb={id:"auto-start/base",before:["actions"],install:function(x){var _=x.interactStatic,E=x.defaults;x.usePlugin(or),E.base.actionChecker=null,E.base.styleCursor=!0,qe(E.perAction,{manualStart:!1,max:1/0,maxPerElement:1,allowFrom:null,ignoreFrom:null,mouseButtons:1}),_.maxInteractions=function(M){return bc(M,x)},x.autoStart={maxInteractions:1/0,withinInteractionLimit:No,cursorElement:null}},listeners:{"interactions:down":function(x,_){var E=x.interaction,M=x.pointer,O=x.event,z=x.eventTarget;E.interacting()||dg(E,ug(E,M,O,z,_),_)},"interactions:move":function(x,_){(function(E,M){var O=E.interaction,z=E.pointer,V=E.event,H=E.eventTarget;O.pointerType!=="mouse"||O.pointerIsDown||O.interacting()||dg(O,ug(O,z,V,H,M),M)})(x,_),(function(E,M){var O=E.interaction;if(O.pointerIsDown&&!O.interacting()&&O.pointerWasMoved&&O.prepared.name){M.fire("autoStart:before-start",E);var z=O.interactable,V=O.prepared.name;V&&z&&(z.options[V].manualStart||!No(z,O.element,O.prepared,M)?O.stop():(O.start(O.prepared,z,O.element),Zn(O,M)))}})(x,_)},"interactions:stop":function(x,_){var E=x.interaction,M=E.interactable;M&&M.options.styleCursor&&hg(E.element,"",_)}},maxInteractions:bc,withinInteractionLimit:No,validateAction:vc},pg=cb,Du={id:"auto-start/dragAxis",listeners:{"autoStart:before-start":function(x,_){var E=x.interaction,M=x.eventTarget,O=x.dx,z=x.dy;if(E.prepared.name==="drag"){var V=Math.abs(O),H=Math.abs(z),q=E.interactable.options.drag,re=q.startAxis,W=V>H?"x":V<H?"y":"xy";if(E.prepared.axis=q.lockAxis==="start"?W[0]:q.lockAxis,W!=="xy"&&re!=="xy"&&re!==W){E.prepared.name=null;for(var pe=M,$e=function(je){if(je!==E.interactable){var He=E.interactable.options.drag;if(!He.manualStart&&je.testIgnoreAllow(He,pe,M)){var st=je.getAction(E.downPointer,E.downEvent,E,pe);if(st&&st.name==="drag"&&(function(it,mt){if(!mt)return!1;var Ft=mt.options.drag.startAxis;return it==="xy"||Ft==="xy"||Ft===it})(W,je)&&pg.validateAction(st,je,pe,M,_))return je}}};N.element(pe);){var Ve=_.interactables.forEachMatch(pe,$e);if(Ve){E.prepared.name="drag",E.interactable=Ve,E.element=pe;break}pe=Me(pe)}}}}}};function wc(x){var _=x.prepared&&x.prepared.name;if(!_)return null;var E=x.interactable.options;return E[_].hold||E[_].delay}var Z={id:"auto-start/hold",install:function(x){var _=x.defaults;x.usePlugin(pg),_.perAction.hold=0,_.perAction.delay=0},listeners:{"interactions:new":function(x){x.interaction.autoStartHoldTimer=null},"autoStart:prepared":function(x){var _=x.interaction,E=wc(_);E>0&&(_.autoStartHoldTimer=setTimeout(function(){_.start(_.prepared,_.interactable,_.element)},E))},"interactions:move":function(x){var _=x.interaction,E=x.duplicate;_.autoStartHoldTimer&&_.pointerWasMoved&&!E&&(clearTimeout(_.autoStartHoldTimer),_.autoStartHoldTimer=null)},"autoStart:before-start":function(x){var _=x.interaction;wc(_)>0&&(_.prepared.name=null)}},getHoldDuration:wc},be=Z,Fe={id:"auto-start",install:function(x){x.usePlugin(pg),x.usePlugin(be),x.usePlugin(Du)}},$t=function(x){return/^(always|never|auto)$/.test(x)?(this.options.preventDefault=x,this):N.bool(x)?(this.options.preventDefault=x?"always":"never",this):this.options.preventDefault};function ui(x){var _=x.interaction,E=x.event;_.interactable&&_.interactable.checkAndPreventDefault(E)}var Gi={id:"core/interactablePreventDefault",install:function(x){var _=x.Interactable;_.prototype.preventDefault=$t,_.prototype.checkAndPreventDefault=function(E){return(function(M,O,z){var V=M.options.preventDefault;if(V!=="never")if(V!=="always"){if(O.events.supportsPassive&&/^touch(start|move)$/.test(z.type)){var H=D(z.target).document,q=O.getDocOptions(H);if(!q||!q.events||q.events.passive!==!1)return}/^(mouse|pointer|touch)*(down|start)/i.test(z.type)||N.element(z.target)&&Ne(z.target,"input,select,textarea,[contenteditable=true],[contenteditable=true] *")||z.preventDefault()}else z.preventDefault()})(this,x,E)},x.interactions.docEvents.push({type:"dragstart",listener:function(E){for(var M=0,O=x.interactions.list;M<O.length;M++){var z=O[M];if(z.element&&(z.element===E.target||le(z.element,E.target)))return void z.interactable.checkAndPreventDefault(E)}}})},listeners:["down","move","up","cancel"].reduce(function(x,_){return x["interactions:".concat(_)]=ui,x},{})};function Vi(x,_){if(_.phaselessTypes[x])return!0;for(var E in _.map)if(x.indexOf(E)===0&&x.substr(E.length)in _.phases)return!0;return!1}function fr(x){var _={};for(var E in x){var M=x[E];N.plainObject(M)?_[E]=fr(M):N.array(M)?_[E]=nb(M):_[E]=M}return _}var Vs=(function(){function x(_){s(this,x),this.states=[],this.startOffset={left:0,right:0,top:0,bottom:0},this.startDelta=void 0,this.result=void 0,this.endResult=void 0,this.startEdges=void 0,this.edges=void 0,this.interaction=void 0,this.interaction=_,this.result=Yp(),this.edges={left:!1,right:!1,top:!1,bottom:!1}}return a(x,[{key:"start",value:function(_,E){var M,O,z=_.phase,V=this.interaction,H=(function(re){var W=re.interactable.options[re.prepared.name],pe=W.modifiers;return pe&&pe.length?pe:["snap","snapSize","snapEdges","restrict","restrictEdges","restrictSize"].map(function($e){var Ve=W[$e];return Ve&&Ve.enabled&&{options:Ve,methods:Ve._methods}}).filter(function($e){return!!$e})})(V);this.prepareStates(H),this.startEdges=qe({},V.edges),this.edges=qe({},this.startEdges),this.startOffset=(M=V.rect,O=E,M?{left:O.x-M.left,top:O.y-M.top,right:M.right-O.x,bottom:M.bottom-O.y}:{left:0,top:0,right:0,bottom:0}),this.startDelta={x:0,y:0};var q=this.fillArg({phase:z,pageCoords:E,preEnd:!1});return this.result=Yp(),this.startAll(q),this.result=this.setAll(q)}},{key:"fillArg",value:function(_){var E=this.interaction;return _.interaction=E,_.interactable=E.interactable,_.element=E.element,_.rect||(_.rect=E.rect),_.edges||(_.edges=this.startEdges),_.startOffset=this.startOffset,_}},{key:"startAll",value:function(_){for(var E=0,M=this.states;E<M.length;E++){var O=M[E];O.methods.start&&(_.state=O,O.methods.start(_))}}},{key:"setAll",value:function(_){var E=_.phase,M=_.preEnd,O=_.skipModifiers,z=_.rect,V=_.edges;_.coords=qe({},_.pageCoords),_.rect=qe({},z),_.edges=qe({},V);for(var H=O?this.states.slice(O):this.states,q=Yp(_.coords,_.rect),re=0;re<H.length;re++){var W,pe=H[re],$e=pe.options,Ve=qe({},_.coords),je=null;(W=pe.methods)!=null&&W.set&&this.shouldDo($e,M,E)&&(_.state=pe,je=pe.methods.set(_),hs(_.edges,_.rect,{x:_.coords.x-Ve.x,y:_.coords.y-Ve.y})),q.eventProps.push(je)}qe(this.edges,_.edges),q.delta.x=_.coords.x-_.pageCoords.x,q.delta.y=_.coords.y-_.pageCoords.y,q.rectDelta.left=_.rect.left-z.left,q.rectDelta.right=_.rect.right-z.right,q.rectDelta.top=_.rect.top-z.top,q.rectDelta.bottom=_.rect.bottom-z.bottom;var He=this.result.coords,st=this.result.rect;if(He&&st){var it=q.rect.left!==st.left||q.rect.right!==st.right||q.rect.top!==st.top||q.rect.bottom!==st.bottom;q.changed=it||He.x!==q.coords.x||He.y!==q.coords.y}return q}},{key:"applyToInteraction",value:function(_){var E=this.interaction,M=_.phase,O=E.coords.cur,z=E.coords.start,V=this.result,H=this.startDelta,q=V.delta;M==="start"&&qe(this.startDelta,V.delta);for(var re=0,W=[[z,H],[O,q]];re<W.length;re++){var pe=W[re],$e=pe[0],Ve=pe[1];$e.page.x+=Ve.x,$e.page.y+=Ve.y,$e.client.x+=Ve.x,$e.client.y+=Ve.y}var je=this.result.rectDelta,He=_.rect||E.rect;He.left+=je.left,He.right+=je.right,He.top+=je.top,He.bottom+=je.bottom,He.width=He.right-He.left,He.height=He.bottom-He.top}},{key:"setAndApply",value:function(_){var E=this.interaction,M=_.phase,O=_.preEnd,z=_.skipModifiers,V=this.setAll(this.fillArg({preEnd:O,phase:M,pageCoords:_.modifiedCoords||E.coords.cur.page}));if(this.result=V,!V.changed&&(!z||z<this.states.length)&&E.interacting())return!1;if(_.modifiedCoords){var H=E.coords.cur.page,q={x:_.modifiedCoords.x-H.x,y:_.modifiedCoords.y-H.y};V.coords.x+=q.x,V.coords.y+=q.y,V.delta.x+=q.x,V.delta.y+=q.y}this.applyToInteraction(_)}},{key:"beforeEnd",value:function(_){var E=_.interaction,M=_.event,O=this.states;if(O&&O.length){for(var z=!1,V=0;V<O.length;V++){var H=O[V];_.state=H;var q=H.options,re=H.methods,W=re.beforeEnd&&re.beforeEnd(_);if(W)return this.endResult=W,!1;z=z||!z&&this.shouldDo(q,!0,_.phase,!0)}z&&E.move({event:M,preEnd:!0})}}},{key:"stop",value:function(_){var E=_.interaction;if(this.states&&this.states.length){var M=qe({states:this.states,interactable:E.interactable,element:E.element,rect:null},_);this.fillArg(M);for(var O=0,z=this.states;O<z.length;O++){var V=z[O];M.state=V,V.methods.stop&&V.methods.stop(M)}this.states=null,this.endResult=null}}},{key:"prepareStates",value:function(_){this.states=[];for(var E=0;E<_.length;E++){var M=_[E],O=M.options,z=M.methods,V=M.name;this.states.push({options:O,methods:z,index:E,name:V})}return this.states}},{key:"restoreInteractionCoords",value:function(_){var E=_.interaction,M=E.coords,O=E.rect,z=E.modification;if(z.result){for(var V=z.startDelta,H=z.result,q=H.delta,re=H.rectDelta,W=0,pe=[[M.start,V],[M.cur,q]];W<pe.length;W++){var $e=pe[W],Ve=$e[0],je=$e[1];Ve.page.x-=je.x,Ve.page.y-=je.y,Ve.client.x-=je.x,Ve.client.y-=je.y}O.left-=re.left,O.right-=re.right,O.top-=re.top,O.bottom-=re.bottom}}},{key:"shouldDo",value:function(_,E,M,O){return!(!_||_.enabled===!1||O&&!_.endOnly||_.endOnly&&!E||M==="start"&&!_.setStart)}},{key:"copyFrom",value:function(_){this.startOffset=_.startOffset,this.startDelta=_.startDelta,this.startEdges=_.startEdges,this.edges=_.edges,this.states=_.states.map(function(E){return fr(E)}),this.result=Yp(qe({},_.result.coords),qe({},_.result.rect))}},{key:"destroy",value:function(){for(var _ in this)this[_]=null}}]),x})();function Yp(x,_){return{rect:_,coords:x,delta:{x:0,y:0},rectDelta:{left:0,right:0,top:0,bottom:0},eventProps:[],changed:!0}}function _c(x,_){var E=x.defaults,M={start:x.start,set:x.set,beforeEnd:x.beforeEnd,stop:x.stop},O=function(z){var V=z||{};for(var H in V.enabled=V.enabled!==!1,E)H in V||(V[H]=E[H]);var q={options:V,methods:M,name:_,enable:function(){return V.enabled=!0,q},disable:function(){return V.enabled=!1,q}};return q};return _&&typeof _=="string"&&(O._defaults=E,O._methods=M),O}function Yd(x){var _=x.iEvent,E=x.interaction.modification.result;E&&(_.modifiers=E.eventProps)}var Zp={id:"modifiers/base",before:["actions"],install:function(x){x.defaults.perAction.modifiers=[]},listeners:{"interactions:new":function(x){var _=x.interaction;_.modification=new Vs(_)},"interactions:before-action-start":function(x){var _=x.interaction,E=x.interaction.modification;E.start(x,_.coords.start.page),_.edges=E.edges,E.applyToInteraction(x)},"interactions:before-action-move":function(x){var _=x.interaction,E=_.modification,M=E.setAndApply(x);return _.edges=E.edges,M},"interactions:before-action-end":function(x){var _=x.interaction,E=_.modification,M=E.beforeEnd(x);return _.edges=E.startEdges,M},"interactions:action-start":Yd,"interactions:action-move":Yd,"interactions:action-end":Yd,"interactions:after-action-start":function(x){return x.interaction.modification.restoreInteractionCoords(x)},"interactions:after-action-move":function(x){return x.interaction.modification.restoreInteractionCoords(x)},"interactions:stop":function(x){return x.interaction.modification.stop(x)}}},W1=Zp,Y1={base:{preventDefault:"auto",deltaSource:"page"},perAction:{enabled:!1,origin:{x:0,y:0}},actions:{}},Ru=(function(x){h(E,x);var _=w(E);function E(M,O,z,V,H,q,re){var W;s(this,E),(W=_.call(this,M)).relatedTarget=null,W.screenX=void 0,W.screenY=void 0,W.button=void 0,W.buttons=void 0,W.ctrlKey=void 0,W.shiftKey=void 0,W.altKey=void 0,W.metaKey=void 0,W.page=void 0,W.client=void 0,W.delta=void 0,W.rect=void 0,W.x0=void 0,W.y0=void 0,W.t0=void 0,W.dt=void 0,W.duration=void 0,W.clientX0=void 0,W.clientY0=void 0,W.velocity=void 0,W.speed=void 0,W.swipe=void 0,W.axes=void 0,W.preEnd=void 0,H=H||M.element;var pe=M.interactable,$e=(pe&&pe.options||Y1).deltaSource,Ve=Sa(pe,H,z),je=V==="start",He=V==="end",st=je?v(W):M.prevEvent,it=je?M.coords.start:He?{page:st.page,client:st.client,timeStamp:M.coords.cur.timeStamp}:M.coords.cur;return W.page=qe({},it.page),W.client=qe({},it.client),W.rect=qe({},M.rect),W.timeStamp=it.timeStamp,He||(W.page.x-=Ve.x,W.page.y-=Ve.y,W.client.x-=Ve.x,W.client.y-=Ve.y),W.ctrlKey=O.ctrlKey,W.altKey=O.altKey,W.shiftKey=O.shiftKey,W.metaKey=O.metaKey,W.button=O.button,W.buttons=O.buttons,W.target=H,W.currentTarget=H,W.preEnd=q,W.type=re||z+(V||""),W.interactable=pe,W.t0=je?M.pointers[M.pointers.length-1].downTime:st.t0,W.x0=M.coords.start.page.x-Ve.x,W.y0=M.coords.start.page.y-Ve.y,W.clientX0=M.coords.start.client.x-Ve.x,W.clientY0=M.coords.start.client.y-Ve.y,W.delta=je||He?{x:0,y:0}:{x:W[$e].x-st[$e].x,y:W[$e].y-st[$e].y},W.dt=M.coords.delta.timeStamp,W.duration=W.timeStamp-W.t0,W.velocity=qe({},M.coords.velocity[$e]),W.speed=ku(W.velocity.x,W.velocity.y),W.swipe=He||V==="inertiastart"?W.getSwipe():null,W}return a(E,[{key:"getSwipe",value:function(){var M=this._interaction;if(M.prevEvent.speed<600||this.timeStamp-M.prevEvent.timeStamp>150)return null;var O=180*Math.atan2(M.prevEvent.velocityY,M.prevEvent.velocityX)/Math.PI;O<0&&(O+=360);var z=112.5<=O&&O<247.5,V=202.5<=O&&O<337.5;return{up:V,down:!V&&22.5<=O&&O<157.5,left:z,right:!z&&(292.5<=O||O<67.5),angle:O,speed:M.prevEvent.speed,velocity:{x:M.prevEvent.velocityX,y:M.prevEvent.velocityY}}}},{key:"preventDefault",value:function(){}},{key:"stopImmediatePropagation",value:function(){this.immediatePropagationStopped=this.propagationStopped=!0}},{key:"stopPropagation",value:function(){this.propagationStopped=!0}}]),E})(mo);Object.defineProperties(Ru.prototype,{pageX:{get:function(){return this.page.x},set:function(x){this.page.x=x}},pageY:{get:function(){return this.page.y},set:function(x){this.page.y=x}},clientX:{get:function(){return this.client.x},set:function(x){this.client.x=x}},clientY:{get:function(){return this.client.y},set:function(x){this.client.y=x}},dx:{get:function(){return this.delta.x},set:function(x){this.delta.x=x}},dy:{get:function(){return this.delta.y},set:function(x){this.delta.y=x}},velocityX:{get:function(){return this.velocity.x},set:function(x){this.velocity.x=x}},velocityY:{get:function(){return this.velocity.y},set:function(x){this.velocity.y=x}}});var q3=a(function x(_,E,M,O,z){s(this,x),this.id=void 0,this.pointer=void 0,this.event=void 0,this.downTime=void 0,this.downTarget=void 0,this.id=_,this.pointer=E,this.event=M,this.downTime=O,this.downTarget=z}),wk=(function(x){return x.interactable="",x.element="",x.prepared="",x.pointerIsDown="",x.pointerWasMoved="",x._proxy="",x})({}),Z1=(function(x){return x.start="",x.move="",x.end="",x.stop="",x.interacting="",x})({}),J1=0,G3=(function(){function x(_){var E=this,M=_.pointerType,O=_.scopeFire;s(this,x),this.interactable=null,this.element=null,this.rect=null,this._rects=void 0,this.edges=null,this._scopeFire=void 0,this.prepared={name:null,axis:null,edges:null},this.pointerType=void 0,this.pointers=[],this.downEvent=null,this.downPointer={},this._latestPointer={pointer:null,event:null,eventTarget:null},this.prevEvent=null,this.pointerIsDown=!1,this.pointerWasMoved=!1,this._interacting=!1,this._ending=!1,this._stopped=!0,this._proxy=void 0,this.simulation=null,this.doMove=Ea(function(W){this.move(W)},"The interaction.doMove() method has been renamed to interaction.move()"),this.coords={start:{page:{x:0,y:0},client:{x:0,y:0},timeStamp:0},prev:{page:{x:0,y:0},client:{x:0,y:0},timeStamp:0},cur:{page:{x:0,y:0},client:{x:0,y:0},timeStamp:0},delta:{page:{x:0,y:0},client:{x:0,y:0},timeStamp:0},velocity:{page:{x:0,y:0},client:{x:0,y:0},timeStamp:0}},this._id=J1++,this._scopeFire=O,this.pointerType=M;var z=this;this._proxy={};var V=function(W){Object.defineProperty(E._proxy,W,{get:function(){return z[W]}})};for(var H in wk)V(H);var q=function(W){Object.defineProperty(E._proxy,W,{value:function(){return z[W].apply(z,arguments)}})};for(var re in Z1)q(re);this._scopeFire("interactions:new",{interaction:this})}return a(x,[{key:"pointerMoveTolerance",get:function(){return 1}},{key:"pointerDown",value:function(_,E,M){var O=this.updatePointer(_,E,M,!0),z=this.pointers[O];this._scopeFire("interactions:down",{pointer:_,event:E,eventTarget:M,pointerIndex:O,pointerInfo:z,type:"down",interaction:this})}},{key:"start",value:function(_,E,M){return!(this.interacting()||!this.pointerIsDown||this.pointers.length<(_.name==="gesture"?2:1)||!E.options[_.name].enabled)&&(yc(this.prepared,_),this.interactable=E,this.element=M,this.rect=E.getRect(M),this.edges=this.prepared.edges?qe({},this.prepared.edges):{left:!0,right:!0,top:!0,bottom:!0},this._stopped=!1,this._interacting=this._doPhase({interaction:this,event:this.downEvent,phase:"start"})&&!this._stopped,this._interacting)}},{key:"pointerMove",value:function(_,E,M){this.simulation||this.modification&&this.modification.endResult||this.updatePointer(_,E,M,!1);var O,z,V=this.coords.cur.page.x===this.coords.prev.page.x&&this.coords.cur.page.y===this.coords.prev.page.y&&this.coords.cur.client.x===this.coords.prev.client.x&&this.coords.cur.client.y===this.coords.prev.client.y;this.pointerIsDown&&!this.pointerWasMoved&&(O=this.coords.cur.client.x-this.coords.start.client.x,z=this.coords.cur.client.y-this.coords.start.client.y,this.pointerWasMoved=ku(O,z)>this.pointerMoveTolerance);var H,q,re,W=this.getPointerIndex(_),pe={pointer:_,pointerIndex:W,pointerInfo:this.pointers[W],event:E,type:"move",eventTarget:M,dx:O,dy:z,duplicate:V,interaction:this};V||(H=this.coords.velocity,q=this.coords.delta,re=Math.max(q.timeStamp/1e3,.001),H.page.x=q.page.x/re,H.page.y=q.page.y/re,H.client.x=q.client.x/re,H.client.y=q.client.y/re,H.timeStamp=re),this._scopeFire("interactions:move",pe),V||this.simulation||(this.interacting()&&(pe.type=null,this.move(pe)),this.pointerWasMoved&&ps(this.coords.prev,this.coords.cur))}},{key:"move",value:function(_){_&&_.event||eb(this.coords.delta),(_=qe({pointer:this._latestPointer.pointer,event:this._latestPointer.event,eventTarget:this._latestPointer.eventTarget,interaction:this},_||{})).phase="move",this._doPhase(_)}},{key:"pointerUp",value:function(_,E,M,O){var z=this.getPointerIndex(_);z===-1&&(z=this.updatePointer(_,E,M,!1));var V=/cancel$/i.test(E.type)?"cancel":"up";this._scopeFire("interactions:".concat(V),{pointer:_,pointerIndex:z,pointerInfo:this.pointers[z],event:E,eventTarget:M,type:V,curEventTarget:O,interaction:this}),this.simulation||this.end(E),this.removePointer(_,E)}},{key:"documentBlur",value:function(_){this.end(_),this._scopeFire("interactions:blur",{event:_,type:"blur",interaction:this})}},{key:"end",value:function(_){var E;this._ending=!0,_=_||this._latestPointer.event,this.interacting()&&(E=this._doPhase({event:_,interaction:this,phase:"end"})),this._ending=!1,E===!0&&this.stop()}},{key:"currentAction",value:function(){return this._interacting?this.prepared.name:null}},{key:"interacting",value:function(){return this._interacting}},{key:"stop",value:function(){this._scopeFire("interactions:stop",{interaction:this}),this.interactable=this.element=null,this._interacting=!1,this._stopped=!0,this.prepared.name=this.prevEvent=null}},{key:"getPointerIndex",value:function(_){var E=Eu(_);return this.pointerType==="mouse"||this.pointerType==="pen"?this.pointers.length-1:Hd(this.pointers,function(M){return M.id===E})}},{key:"getPointerInfo",value:function(_){return this.pointers[this.getPointerIndex(_)]}},{key:"updatePointer",value:function(_,E,M,O){var z,V,H,q=Eu(_),re=this.getPointerIndex(_),W=this.pointers[re];return O=O!==!1&&(O||/(down|start)$/i.test(E.type)),W?W.pointer=_:(W=new q3(q,_,E,null,null),re=this.pointers.length,this.pointers.push(W)),rb(this.coords.cur,this.pointers.map(function(pe){return pe.pointer}),this._now()),z=this.coords.delta,V=this.coords.prev,H=this.coords.cur,z.page.x=H.page.x-V.page.x,z.page.y=H.page.y-V.page.y,z.client.x=H.client.x-V.client.x,z.client.y=H.client.y-V.client.y,z.timeStamp=H.timeStamp-V.timeStamp,O&&(this.pointerIsDown=!0,W.downTime=this.coords.cur.timeStamp,W.downTarget=M,fc(this.downPointer,_),this.interacting()||(ps(this.coords.start,this.coords.cur),ps(this.coords.prev,this.coords.cur),this.downEvent=E,this.pointerWasMoved=!1)),this._updateLatestPointer(_,E,M),this._scopeFire("interactions:update-pointer",{pointer:_,event:E,eventTarget:M,down:O,pointerInfo:W,pointerIndex:re,interaction:this}),re}},{key:"removePointer",value:function(_,E){var M=this.getPointerIndex(_);if(M!==-1){var O=this.pointers[M];this._scopeFire("interactions:remove-pointer",{pointer:_,event:E,eventTarget:null,pointerIndex:M,pointerInfo:O,interaction:this}),this.pointers.splice(M,1),this.pointerIsDown=!1}}},{key:"_updateLatestPointer",value:function(_,E,M){this._latestPointer.pointer=_,this._latestPointer.event=E,this._latestPointer.eventTarget=M}},{key:"destroy",value:function(){this._latestPointer.pointer=null,this._latestPointer.event=null,this._latestPointer.eventTarget=null}},{key:"_createPreparedEvent",value:function(_,E,M,O){return new Ru(this,_,this.prepared.name,E,this.element,M,O)}},{key:"_fireEvent",value:function(_){var E;(E=this.interactable)==null||E.fire(_),(!this.prevEvent||_.timeStamp>=this.prevEvent.timeStamp)&&(this.prevEvent=_)}},{key:"_doPhase",value:function(_){var E=_.event,M=_.phase,O=_.preEnd,z=_.type,V=this.rect;if(V&&M==="move"&&(hs(this.edges,V,this.coords.delta[this.interactable.options.deltaSource]),V.width=V.right-V.left,V.height=V.bottom-V.top),this._scopeFire("interactions:before-action-".concat(M),_)===!1)return!1;var H=_.iEvent=this._createPreparedEvent(E,M,O,z);return this._scopeFire("interactions:action-".concat(M),_),M==="start"&&(this.prevEvent=H),this._fireEvent(H),this._scopeFire("interactions:after-action-".concat(M),_),!0}},{key:"_now",value:function(){return Date.now()}}]),x})();function _k(x){fg(x.interaction)}function fg(x){if(!(function(E){return!(!E.offset.pending.x&&!E.offset.pending.y)})(x))return!1;var _=x.offset.pending;return mg(x.coords.cur,_),mg(x.coords.delta,_),hs(x.edges,x.rect,_),_.x=0,_.y=0,!0}function xc(x){var _=x.x,E=x.y;this.offset.pending.x+=_,this.offset.pending.y+=E,this.offset.total.x+=_,this.offset.total.y+=E}function mg(x,_){var E=x.page,M=x.client,O=_.x,z=_.y;E.x+=O,E.y+=z,M.x+=O,M.y+=z}Z1.offsetBy="";var X1={id:"offset",before:["modifiers","pointer-events","actions","inertia"],install:function(x){x.Interaction.prototype.offsetBy=xc},listeners:{"interactions:new":function(x){x.interaction.offset={total:{x:0,y:0},pending:{x:0,y:0}}},"interactions:update-pointer":function(x){return(function(_){_.pointerIsDown&&(mg(_.coords.cur,_.offset.total),_.offset.pending.x=0,_.offset.pending.y=0)})(x.interaction)},"interactions:before-action-start":_k,"interactions:before-action-move":_k,"interactions:before-action-end":function(x){var _=x.interaction;if(fg(_))return _.move({offset:!0}),_.end(),!1},"interactions:stop":function(x){var _=x.interaction;_.offset.total.x=0,_.offset.total.y=0,_.offset.pending.x=0,_.offset.pending.y=0}}},Zd=X1,Jp=(function(){function x(_){s(this,x),this.active=!1,this.isModified=!1,this.smoothEnd=!1,this.allowResume=!1,this.modification=void 0,this.modifierCount=0,this.modifierArg=void 0,this.startCoords=void 0,this.t0=0,this.v0=0,this.te=0,this.targetOffset=void 0,this.modifiedOffset=void 0,this.currentOffset=void 0,this.lambda_v0=0,this.one_ve_v0=0,this.timeout=void 0,this.interaction=void 0,this.interaction=_}return a(x,[{key:"start",value:function(_){var E=this.interaction,M=gg(E);if(!M||!M.enabled)return!1;var O=E.coords.velocity.client,z=ku(O.x,O.y),V=this.modification||(this.modification=new Vs(E));if(V.copyFrom(E.modification),this.t0=E._now(),this.allowResume=M.allowResume,this.v0=z,this.currentOffset={x:0,y:0},this.startCoords=E.coords.cur.page,this.modifierArg=V.fillArg({pageCoords:this.startCoords,preEnd:!0,phase:"inertiastart"}),this.t0-E.coords.cur.timeStamp<50&&z>M.minSpeed&&z>M.endSpeed)this.startInertia();else{if(V.result=V.setAll(this.modifierArg),!V.result.changed)return!1;this.startSmoothEnd()}return E.modification.result.rect=null,E.offsetBy(this.targetOffset),E._doPhase({interaction:E,event:_,phase:"inertiastart"}),E.offsetBy({x:-this.targetOffset.x,y:-this.targetOffset.y}),E.modification.result.rect=null,this.active=!0,E.simulation=this,!0}},{key:"startInertia",value:function(){var _=this,E=this.interaction.coords.velocity.client,M=gg(this.interaction),O=M.resistance,z=-Math.log(M.endSpeed/this.v0)/O;this.targetOffset={x:(E.x-z)/O,y:(E.y-z)/O},this.te=z,this.lambda_v0=O/this.v0,this.one_ve_v0=1-M.endSpeed/this.v0;var V=this.modification,H=this.modifierArg;H.pageCoords={x:this.startCoords.x+this.targetOffset.x,y:this.startCoords.y+this.targetOffset.y},V.result=V.setAll(H),V.result.changed&&(this.isModified=!0,this.modifiedOffset={x:this.targetOffset.x+V.result.delta.x,y:this.targetOffset.y+V.result.delta.y}),this.onNextFrame(function(){return _.inertiaTick()})}},{key:"startSmoothEnd",value:function(){var _=this;this.smoothEnd=!0,this.isModified=!0,this.targetOffset={x:this.modification.result.delta.x,y:this.modification.result.delta.y},this.onNextFrame(function(){return _.smoothEndTick()})}},{key:"onNextFrame",value:function(_){var E=this;this.timeout=sr.request(function(){E.active&&_()})}},{key:"inertiaTick",value:function(){var _,E,M,O,z,V,H,q=this,re=this.interaction,W=gg(re).resistance,pe=(re._now()-this.t0)/1e3;if(pe<this.te){var $e,Ve=1-(Math.exp(-W*pe)-this.lambda_v0)/this.one_ve_v0;this.isModified?(_=0,E=0,M=this.targetOffset.x,O=this.targetOffset.y,z=this.modifiedOffset.x,V=this.modifiedOffset.y,$e={x:Q1(H=Ve,_,M,z),y:Q1(H,E,O,V)}):$e={x:this.targetOffset.x*Ve,y:this.targetOffset.y*Ve};var je={x:$e.x-this.currentOffset.x,y:$e.y-this.currentOffset.y};this.currentOffset.x+=je.x,this.currentOffset.y+=je.y,re.offsetBy(je),re.move(),this.onNextFrame(function(){return q.inertiaTick()})}else re.offsetBy({x:this.modifiedOffset.x-this.currentOffset.x,y:this.modifiedOffset.y-this.currentOffset.y}),this.end()}},{key:"smoothEndTick",value:function(){var _=this,E=this.interaction,M=E._now()-this.t0,O=gg(E).smoothEndDuration;if(M<O){var z={x:Xp(M,0,this.targetOffset.x,O),y:Xp(M,0,this.targetOffset.y,O)},V={x:z.x-this.currentOffset.x,y:z.y-this.currentOffset.y};this.currentOffset.x+=V.x,this.currentOffset.y+=V.y,E.offsetBy(V),E.move({skipModifiers:this.modifierCount}),this.onNextFrame(function(){return _.smoothEndTick()})}else E.offsetBy({x:this.targetOffset.x-this.currentOffset.x,y:this.targetOffset.y-this.currentOffset.y}),this.end()}},{key:"resume",value:function(_){var E=_.pointer,M=_.event,O=_.eventTarget,z=this.interaction;z.offsetBy({x:-this.currentOffset.x,y:-this.currentOffset.y}),z.updatePointer(E,M,O,!0),z._doPhase({interaction:z,event:M,phase:"resume"}),ps(z.coords.prev,z.coords.cur),this.stop()}},{key:"end",value:function(){this.interaction.move(),this.interaction.end(),this.stop()}},{key:"stop",value:function(){this.active=this.smoothEnd=!1,this.interaction.simulation=null,sr.cancel(this.timeout)}}]),x})();function gg(x){var _=x.interactable,E=x.prepared;return _&&_.options&&E.name&&_.options[E.name].inertia}var K1={id:"inertia",before:["modifiers","actions"],install:function(x){var _=x.defaults;x.usePlugin(Zd),x.usePlugin(W1),x.actions.phases.inertiastart=!0,x.actions.phases.resume=!0,_.perAction.inertia={enabled:!1,resistance:10,minSpeed:100,endSpeed:10,allowResume:!0,smoothEndDuration:300}},listeners:{"interactions:new":function(x){var _=x.interaction;_.inertia=new Jp(_)},"interactions:before-action-end":function(x){var _=x.interaction,E=x.event;return(!_._interacting||_.simulation||!_.inertia.start(E))&&null},"interactions:down":function(x){var _=x.interaction,E=x.eventTarget,M=_.inertia;if(M.active)for(var O=E;N.element(O);){if(O===_.element){M.resume(x);break}O=Me(O)}},"interactions:stop":function(x){var _=x.interaction.inertia;_.active&&_.stop()},"interactions:before-action-resume":function(x){var _=x.interaction.modification;_.stop(x),_.start(x,x.interaction.coords.cur.page),_.applyToInteraction(x)},"interactions:before-action-inertiastart":function(x){return x.interaction.modification.setAndApply(x)},"interactions:action-resume":Yd,"interactions:action-inertiastart":Yd,"interactions:after-action-inertiastart":function(x){return x.interaction.modification.restoreInteractionCoords(x)},"interactions:after-action-resume":function(x){return x.interaction.modification.restoreInteractionCoords(x)}}};function Q1(x,_,E,M){var O=1-x;return O*O*_+2*O*x*E+x*x*M}function Xp(x,_,E,M){return-E*(x/=M)*(x-2)+_}var Sc=K1;function ub(x,_){for(var E=0;E<_.length;E++){var M=_[E];if(x.immediatePropagationStopped)break;M(x)}}var Kp=(function(){function x(_){s(this,x),this.options=void 0,this.types={},this.propagationStopped=!1,this.immediatePropagationStopped=!1,this.global=void 0,this.options=qe({},_||{})}return a(x,[{key:"fire",value:function(_){var E,M=this.global;(E=this.types[_.type])&&ub(_,E),!_.propagationStopped&&M&&(E=M[_.type])&&ub(_,E)}},{key:"on",value:function(_,E){var M=Ta(_,E);for(_ in M)this.types[_]=Wn(this.types[_]||[],M[_])}},{key:"off",value:function(_,E){var M=Ta(_,E);for(_ in M){var O=this.types[_];if(O&&O.length)for(var z=0,V=M[_];z<V.length;z++){var H=V[z],q=O.indexOf(H);q!==-1&&O.splice(q,1)}}}},{key:"getRect",value:function(_){return null}}]),x})(),Lu=(function(){function x(_){s(this,x),this.currentTarget=void 0,this.originalEvent=void 0,this.type=void 0,this.originalEvent=_,fc(this,_)}return a(x,[{key:"preventOriginalDefault",value:function(){this.originalEvent.preventDefault()}},{key:"stopPropagation",value:function(){this.originalEvent.stopPropagation()}},{key:"stopImmediatePropagation",value:function(){this.originalEvent.stopImmediatePropagation()}}]),x})();function Jd(x){return N.object(x)?{capture:!!x.capture,passive:!!x.passive}:{capture:!!x,passive:!1}}function Xd(x,_){return x===_||(typeof x=="boolean"?!!_.capture===x&&!_.passive:!!x.capture==!!_.capture&&!!x.passive==!!_.passive)}var xk={id:"events",install:function(x){var _,E=[],M={},O=[],z={add:V,remove:H,addDelegate:function(W,pe,$e,Ve,je){var He=Jd(je);if(!M[$e]){M[$e]=[];for(var st=0;st<O.length;st++){var it=O[st];V(it,$e,q),V(it,$e,re,!0)}}var mt=M[$e],Ft=qd(mt,function(Jt){return Jt.selector===W&&Jt.context===pe});Ft||(Ft={selector:W,context:pe,listeners:[]},mt.push(Ft)),Ft.listeners.push({func:Ve,options:He})},removeDelegate:function(W,pe,$e,Ve,je){var He,st=Jd(je),it=M[$e],mt=!1;if(it)for(He=it.length-1;He>=0;He--){var Ft=it[He];if(Ft.selector===W&&Ft.context===pe){for(var Jt=Ft.listeners,Ct=Jt.length-1;Ct>=0;Ct--){var qt=Jt[Ct];if(qt.func===Ve&&Xd(qt.options,st)){Jt.splice(Ct,1),Jt.length||(it.splice(He,1),H(pe,$e,q),H(pe,$e,re,!0)),mt=!0;break}}if(mt)break}}},delegateListener:q,delegateUseCapture:re,delegatedEvents:M,documents:O,targets:E,supportsOptions:!1,supportsPassive:!1};function V(W,pe,$e,Ve){if(W.addEventListener){var je=Jd(Ve),He=qd(E,function(st){return st.eventTarget===W});He||(He={eventTarget:W,events:{}},E.push(He)),He.events[pe]||(He.events[pe]=[]),qd(He.events[pe],function(st){return st.func===$e&&Xd(st.options,je)})||(W.addEventListener(pe,$e,z.supportsOptions?je:je.capture),He.events[pe].push({func:$e,options:je}))}}function H(W,pe,$e,Ve){if(W.addEventListener&&W.removeEventListener){var je=Hd(E,function(Cr){return Cr.eventTarget===W}),He=E[je];if(He&&He.events)if(pe!=="all"){var st=!1,it=He.events[pe];if(it){if($e==="all"){for(var mt=it.length-1;mt>=0;mt--){var Ft=it[mt];H(W,pe,Ft.func,Ft.options)}return}for(var Jt=Jd(Ve),Ct=0;Ct<it.length;Ct++){var qt=it[Ct];if(qt.func===$e&&Xd(qt.options,Jt)){W.removeEventListener(pe,$e,z.supportsOptions?Jt:Jt.capture),it.splice(Ct,1),it.length===0&&(delete He.events[pe],st=!0);break}}}st&&!Object.keys(He.events).length&&E.splice(je,1)}else for(pe in He.events)He.events.hasOwnProperty(pe)&&H(W,pe,"all")}}function q(W,pe){for(var $e=Jd(pe),Ve=new Lu(W),je=M[W.type],He=Gn(W)[0],st=He;N.element(st);){for(var it=0;it<je.length;it++){var mt=je[it],Ft=mt.selector,Jt=mt.context;if(Ne(st,Ft)&&le(Jt,He)&&le(Jt,st)){var Ct=mt.listeners;Ve.currentTarget=st;for(var qt=0;qt<Ct.length;qt++){var Cr=Ct[qt];Xd(Cr.options,$e)&&Cr.func(Ve)}}}st=Me(st)}}function re(W){return q(W,!0)}return(_=x.document)==null||_.createElement("div").addEventListener("test",null,{get capture(){return z.supportsOptions=!0},get passive(){return z.supportsPassive=!0}}),x.events=z,z}},Qp={methodOrder:["simulationResume","mouseOrPen","hasPointer","idle"],search:function(x){for(var _=0,E=Qp.methodOrder;_<E.length;_++){var M=E[_],O=Qp[M](x);if(O)return O}return null},simulationResume:function(x){var _=x.pointerType,E=x.eventType,M=x.eventTarget,O=x.scope;if(!/down|start/i.test(E))return null;for(var z=0,V=O.interactions.list;z<V.length;z++){var H=V[z],q=M;if(H.simulation&&H.simulation.allowResume&&H.pointerType===_)for(;q;){if(q===H.element)return H;q=Me(q)}}return null},mouseOrPen:function(x){var _,E=x.pointerId,M=x.pointerType,O=x.eventType,z=x.scope;if(M!=="mouse"&&M!=="pen")return null;for(var V=0,H=z.interactions.list;V<H.length;V++){var q=H[V];if(q.pointerType===M){if(q.simulation&&!yg(q,E))continue;if(q.interacting())return q;_||(_=q)}}if(_)return _;for(var re=0,W=z.interactions.list;re<W.length;re++){var pe=W[re];if(!(pe.pointerType!==M||/down/i.test(O)&&pe.simulation))return pe}return null},hasPointer:function(x){for(var _=x.pointerId,E=0,M=x.scope.interactions.list;E<M.length;E++){var O=M[E];if(yg(O,_))return O}return null},idle:function(x){for(var _=x.pointerType,E=0,M=x.scope.interactions.list;E<M.length;E++){var O=M[E];if(O.pointers.length===1){var z=O.interactable;if(z&&(!z.options.gesture||!z.options.gesture.enabled))continue}else if(O.pointers.length>=2)continue;if(!O.interacting()&&_===O.pointerType)return O}return null}};function yg(x,_){return x.pointers.some(function(E){return E.id===_})}var Sk=Qp,Jn=["pointerDown","pointerMove","pointerUp","updatePointer","removePointer","windowBlur"];function zu(x,_){return function(E){var M=_.interactions.list,O=Cu(E),z=Gn(E),V=z[0],H=z[1],q=[];if(/^touch/.test(E.type)){_.prevTouchTime=_.now();for(var re=0,W=E.changedTouches;re<W.length;re++){var pe=W[re],$e={pointer:pe,pointerId:Eu(pe),pointerType:O,eventType:E.type,eventTarget:V,curEventTarget:H,scope:_},Ve=vg($e);q.push([$e.pointer,$e.eventTarget,$e.curEventTarget,Ve])}}else{var je=!1;if(!J.supportsPointerEvent&&/mouse/.test(E.type)){for(var He=0;He<M.length&&!je;He++)je=M[He].pointerType!=="mouse"&&M[He].pointerIsDown;je=je||_.now()-_.prevTouchTime<500||E.timeStamp===0}if(!je){var st={pointer:E,pointerId:Eu(E),pointerType:O,eventType:E.type,curEventTarget:H,eventTarget:V,scope:_},it=vg(st);q.push([st.pointer,st.eventTarget,st.curEventTarget,it])}}for(var mt=0;mt<q.length;mt++){var Ft=q[mt],Jt=Ft[0],Ct=Ft[1],qt=Ft[2];Ft[3][x](Jt,E,Ct,qt)}}}function vg(x){var _=x.pointerType,E=x.scope,M={interaction:Sk.search(x),searchDetails:x};return E.fire("interactions:find",M),M.interaction||E.interactions.new({pointerType:_})}function Kd(x,_){var E=x.doc,M=x.scope,O=x.options,z=M.interactions.docEvents,V=M.events,H=V[_];for(var q in M.browser.isIOS&&!O.events&&(O.events={passive:!1}),V.delegatedEvents)H(E,q,V.delegateListener),H(E,q,V.delegateUseCapture,!0);for(var re=O&&O.events,W=0;W<z.length;W++){var pe=z[W];H(E,pe.type,pe.listener,re)}}var W3={id:"core/interactions",install:function(x){for(var _={},E=0;E<Jn.length;E++){var M=Jn[E];_[M]=zu(M,x)}var O,z=J.pEventTypes;function V(){for(var H=0,q=x.interactions.list;H<q.length;H++){var re=q[H];if(re.pointerIsDown&&re.pointerType==="touch"&&!re._interacting)for(var W=function(){var Ve=$e[pe];x.documents.some(function(je){return le(je.doc,Ve.downTarget)})||re.removePointer(Ve.pointer,Ve.event)},pe=0,$e=re.pointers;pe<$e.length;pe++)W()}}(O=G.PointerEvent?[{type:z.down,listener:V},{type:z.down,listener:_.pointerDown},{type:z.move,listener:_.pointerMove},{type:z.up,listener:_.pointerUp},{type:z.cancel,listener:_.pointerUp}]:[{type:"mousedown",listener:_.pointerDown},{type:"mousemove",listener:_.pointerMove},{type:"mouseup",listener:_.pointerUp},{type:"touchstart",listener:V},{type:"touchstart",listener:_.pointerDown},{type:"touchmove",listener:_.pointerMove},{type:"touchend",listener:_.pointerUp},{type:"touchcancel",listener:_.pointerUp}]).push({type:"blur",listener:function(H){for(var q=0,re=x.interactions.list;q<re.length;q++)re[q].documentBlur(H)}}),x.prevTouchTime=0,x.Interaction=(function(H){h(re,H);var q=w(re);function re(){return s(this,re),q.apply(this,arguments)}return a(re,[{key:"pointerMoveTolerance",get:function(){return x.interactions.pointerMoveTolerance},set:function(W){x.interactions.pointerMoveTolerance=W}},{key:"_now",value:function(){return x.now()}}]),re})(G3),x.interactions={list:[],new:function(H){H.scopeFire=function(re,W){return x.fire(re,W)};var q=new x.Interaction(H);return x.interactions.list.push(q),q},listeners:_,docEvents:O,pointerMoveTolerance:1},x.usePlugin(Gi)},listeners:{"scope:add-document":function(x){return Kd(x,"add")},"scope:remove-document":function(x){return Kd(x,"remove")},"interactable:unset":function(x,_){for(var E=x.interactable,M=_.interactions.list.length-1;M>=0;M--){var O=_.interactions.list[M];O.interactable===E&&(O.stop(),_.fire("interactions:destroy",{interaction:O}),O.destroy(),_.interactions.list.length>2&&_.interactions.list.splice(M,1))}}},onDocSignal:Kd,doOnInteractions:zu,methodNames:Jn},ex=W3,$l=(function(x){return x[x.On=0]="On",x[x.Off=1]="Off",x})($l||{}),bg=(function(){function x(_,E,M,O){s(this,x),this.target=void 0,this.options=void 0,this._actions=void 0,this.events=new Kp,this._context=void 0,this._win=void 0,this._doc=void 0,this._scopeEvents=void 0,this._actions=E.actions,this.target=_,this._context=E.context||M,this._win=D(si(_)?this._context:_),this._doc=this._win.document,this._scopeEvents=O,this.set(E)}return a(x,[{key:"_defaults",get:function(){return{base:{},perAction:{},actions:{}}}},{key:"setOnEvents",value:function(_,E){return N.func(E.onstart)&&this.on("".concat(_,"start"),E.onstart),N.func(E.onmove)&&this.on("".concat(_,"move"),E.onmove),N.func(E.onend)&&this.on("".concat(_,"end"),E.onend),N.func(E.oninertiastart)&&this.on("".concat(_,"inertiastart"),E.oninertiastart),this}},{key:"updatePerActionListeners",value:function(_,E,M){var O,z=this,V=(O=this._actions.map[_])==null?void 0:O.filterEventType,H=function(q){return(V==null||V(q))&&Vi(q,z._actions)};(N.array(E)||N.object(E))&&this._onOff($l.Off,_,E,void 0,H),(N.array(M)||N.object(M))&&this._onOff($l.On,_,M,void 0,H)}},{key:"setPerAction",value:function(_,E){var M=this._defaults;for(var O in E){var z=O,V=this.options[_],H=E[z];z==="listeners"&&this.updatePerActionListeners(_,V.listeners,H),N.array(H)?V[z]=nb(H):N.plainObject(H)?(V[z]=qe(V[z]||{},fr(H)),N.object(M.perAction[z])&&"enabled"in M.perAction[z]&&(V[z].enabled=H.enabled!==!1)):N.bool(H)&&N.object(M.perAction[z])?V[z].enabled=H:V[z]=H}}},{key:"getRect",value:function(_){return _=_||(N.element(this.target)?this.target:null),N.string(this.target)&&(_=_||this._context.querySelector(this.target)),lt(_)}},{key:"rectChecker",value:function(_){var E=this;return N.func(_)?(this.getRect=function(M){var O=qe({},_.apply(E,M));return"width"in O||(O.width=O.right-O.left,O.height=O.bottom-O.top),O},this):_===null?(delete this.getRect,this):this.getRect}},{key:"_backCompatOption",value:function(_,E){if(si(E)||N.object(E)){for(var M in this.options[_]=E,this._actions.map)this.options[M][_]=E;return this}return this.options[_]}},{key:"origin",value:function(_){return this._backCompatOption("origin",_)}},{key:"deltaSource",value:function(_){return _==="page"||_==="client"?(this.options.deltaSource=_,this):this.options.deltaSource}},{key:"getAllElements",value:function(){var _=this.target;return N.string(_)?Array.from(this._context.querySelectorAll(_)):N.func(_)&&_.getAllElements?_.getAllElements():N.element(_)?[_]:[]}},{key:"context",value:function(){return this._context}},{key:"inContext",value:function(_){return this._context===_.ownerDocument||le(this._context,_)}},{key:"testIgnoreAllow",value:function(_,E,M){return!this.testIgnore(_.ignoreFrom,E,M)&&this.testAllow(_.allowFrom,E,M)}},{key:"testAllow",value:function(_,E,M){return!_||!!N.element(M)&&(N.string(_)?Pe(M,_,E):!!N.element(_)&&le(_,M))}},{key:"testIgnore",value:function(_,E,M){return!(!_||!N.element(M))&&(N.string(_)?Pe(M,_,E):!!N.element(_)&&le(_,M))}},{key:"fire",value:function(_){return this.events.fire(_),this}},{key:"_onOff",value:function(_,E,M,O,z){N.object(E)&&!N.array(E)&&(O=M,M=null);var V=Ta(E,M,z);for(var H in V){H==="wheel"&&(H=J.wheelEvent);for(var q=0,re=V[H];q<re.length;q++){var W=re[q];Vi(H,this._actions)?this.events[_===$l.On?"on":"off"](H,W):N.string(this.target)?this._scopeEvents[_===$l.On?"addDelegate":"removeDelegate"](this.target,this._context,H,W,O):this._scopeEvents[_===$l.On?"add":"remove"](this.target,H,W,O)}}return this}},{key:"on",value:function(_,E,M){return this._onOff($l.On,_,E,M)}},{key:"off",value:function(_,E,M){return this._onOff($l.Off,_,E,M)}},{key:"set",value:function(_){var E=this._defaults;for(var M in N.object(_)||(_={}),this.options=fr(E.base),this._actions.methodDict){var O=M,z=this._actions.methodDict[O];this.options[O]={},this.setPerAction(O,qe(qe({},E.perAction),E.actions[O])),this[z](_[O])}for(var V in _)V!=="getRect"?N.func(this[V])&&this[V](_[V]):this.rectChecker(_.getRect);return this}},{key:"unset",value:function(){if(N.string(this.target))for(var _ in this._scopeEvents.delegatedEvents)for(var E=this._scopeEvents.delegatedEvents[_],M=E.length-1;M>=0;M--){var O=E[M],z=O.selector,V=O.context,H=O.listeners;z===this.target&&V===this._context&&E.splice(M,1);for(var q=H.length-1;q>=0;q--)this._scopeEvents.removeDelegate(this.target,this._context,_,H[q][0],H[q][1])}else this._scopeEvents.remove(this.target,"all")}}]),x})(),db=(function(){function x(_){var E=this;s(this,x),this.list=[],this.selectorMap={},this.scope=void 0,this.scope=_,_.addListeners({"interactable:unset":function(M){var O=M.interactable,z=O.target,V=N.string(z)?E.selectorMap[z]:z[E.scope.id],H=Hd(V,function(q){return q===O});V.splice(H,1)}})}return a(x,[{key:"new",value:function(_,E){E=qe(E||{},{actions:this.scope.actions});var M=new this.scope.Interactable(_,E,this.scope.document,this.scope.events);return this.scope.addDocument(M._doc),this.list.push(M),N.string(_)?(this.selectorMap[_]||(this.selectorMap[_]=[]),this.selectorMap[_].push(M)):(M.target[this.scope.id]||Object.defineProperty(_,this.scope.id,{value:[],configurable:!0}),_[this.scope.id].push(M)),this.scope.fire("interactable:new",{target:_,options:E,interactable:M,win:this.scope._win}),M}},{key:"getExisting",value:function(_,E){var M=E&&E.context||this.scope.document,O=N.string(_),z=O?this.selectorMap[_]:_[this.scope.id];if(z)return qd(z,function(V){return V._context===M&&(O||V.inContext(_))})}},{key:"forEachMatch",value:function(_,E){for(var M=0,O=this.list;M<O.length;M++){var z=O[M],V=void 0;if((N.string(z.target)?N.element(_)&&Ne(_,z.target):_===z.target)&&z.inContext(_)&&(V=E(z)),V!==void 0)return V}}}]),x})(),Tk=(function(){function x(){var _=this;s(this,x),this.id="__interact_scope_".concat(Math.floor(100*Math.random())),this.isInitialized=!1,this.listenerMaps=[],this.browser=J,this.defaults=fr(Y1),this.Eventable=Kp,this.actions={map:{},phases:{start:!0,move:!0,end:!0},methodDict:{},phaselessTypes:{}},this.interactStatic=(function(M){var O=function z(V,H){var q=M.interactables.getExisting(V,H);return q||((q=M.interactables.new(V,H)).events.global=z.globalEvents),q};return O.getPointerAverage=G1,O.getTouchBBox=Wp,O.getTouchDistance=lg,O.getTouchAngle=cg,O.getElementRect=lt,O.getElementClientRect=Je,O.matchesSelector=Ne,O.closest=ve,O.globalEvents={},O.version="1.10.27",O.scope=M,O.use=function(z,V){return this.scope.usePlugin(z,V),this},O.isSet=function(z,V){return!!this.scope.interactables.get(z,V&&V.context)},O.on=Ea(function(z,V,H){if(N.string(z)&&z.search(" ")!==-1&&(z=z.trim().split(/ +/)),N.array(z)){for(var q=0,re=z;q<re.length;q++){var W=re[q];this.on(W,V,H)}return this}if(N.object(z)){for(var pe in z)this.on(pe,z[pe],V);return this}return Vi(z,this.scope.actions)?this.globalEvents[z]?this.globalEvents[z].push(V):this.globalEvents[z]=[V]:this.scope.events.add(this.scope.document,z,V,{options:H}),this},"The interact.on() method is being deprecated"),O.off=Ea(function(z,V,H){if(N.string(z)&&z.search(" ")!==-1&&(z=z.trim().split(/ +/)),N.array(z)){for(var q=0,re=z;q<re.length;q++){var W=re[q];this.off(W,V,H)}return this}if(N.object(z)){for(var pe in z)this.off(pe,z[pe],V);return this}var $e;return Vi(z,this.scope.actions)?z in this.globalEvents&&($e=this.globalEvents[z].indexOf(V))!==-1&&this.globalEvents[z].splice($e,1):this.scope.events.remove(this.scope.document,z,V,H),this},"The interact.off() method is being deprecated"),O.debug=function(){return this.scope},O.supportsTouch=function(){return J.supportsTouch},O.supportsPointerEvent=function(){return J.supportsPointerEvent},O.stop=function(){for(var z=0,V=this.scope.interactions.list;z<V.length;z++)V[z].stop();return this},O.pointerMoveTolerance=function(z){return N.number(z)?(this.scope.interactions.pointerMoveTolerance=z,this):this.scope.interactions.pointerMoveTolerance},O.addDocument=function(z,V){this.scope.addDocument(z,V)},O.removeDocument=function(z){this.scope.removeDocument(z)},O})(this),this.InteractEvent=Ru,this.Interactable=void 0,this.interactables=new db(this),this._win=void 0,this.document=void 0,this.window=void 0,this.documents=[],this._plugins={list:[],map:{}},this.onWindowUnload=function(M){return _.removeDocument(M.target)};var E=this;this.Interactable=(function(M){h(z,M);var O=w(z);function z(){return s(this,z),O.apply(this,arguments)}return a(z,[{key:"_defaults",get:function(){return E.defaults}},{key:"set",value:function(V){return S(f(z.prototype),"set",this).call(this,V),E.fire("interactable:set",{options:V,interactable:this}),this}},{key:"unset",value:function(){S(f(z.prototype),"unset",this).call(this);var V=E.interactables.list.indexOf(this);V<0||(E.interactables.list.splice(V,1),E.fire("interactable:unset",{interactable:this}))}}]),z})(bg)}return a(x,[{key:"addListeners",value:function(_,E){this.listenerMaps.push({id:E,map:_})}},{key:"fire",value:function(_,E){for(var M=0,O=this.listenerMaps;M<O.length;M++){var z=O[M].map[_];if(z&&z(E,this,_)===!1)return!1}}},{key:"init",value:function(_){return this.isInitialized?this:(function(E,M){return E.isInitialized=!0,N.window(M)&&P(M),G.init(M),J.init(M),sr.init(M),E.window=M,E.document=M.document,E.usePlugin(ex),E.usePlugin(xk),E})(this,_)}},{key:"pluginIsInstalled",value:function(_){var E=_.id;return E?!!this._plugins.map[E]:this._plugins.list.indexOf(_)!==-1}},{key:"usePlugin",value:function(_,E){if(!this.isInitialized)return this;if(this.pluginIsInstalled(_))return this;if(_.id&&(this._plugins.map[_.id]=_),this._plugins.list.push(_),_.install&&_.install(this,E),_.listeners&&_.before){for(var M=0,O=this.listenerMaps.length,z=_.before.reduce(function(H,q){return H[q]=!0,H[$k(q)]=!0,H},{});M<O;M++){var V=this.listenerMaps[M].id;if(V&&(z[V]||z[$k(V)]))break}this.listenerMaps.splice(M,0,{id:_.id,map:_.listeners})}else _.listeners&&this.listenerMaps.push({id:_.id,map:_.listeners});return this}},{key:"addDocument",value:function(_,E){if(this.getDocIndex(_)!==-1)return!1;var M=D(_);E=E?qe({},E):{},this.documents.push({doc:_,options:E}),this.events.documents.push(_),_!==this.document&&this.events.add(M,"unload",this.onWindowUnload),this.fire("scope:add-document",{doc:_,window:M,scope:this,options:E})}},{key:"removeDocument",value:function(_){var E=this.getDocIndex(_),M=D(_),O=this.documents[E].options;this.events.remove(M,"unload",this.onWindowUnload),this.documents.splice(E,1),this.events.documents.splice(E,1),this.fire("scope:remove-document",{doc:_,window:M,scope:this,options:O})}},{key:"getDocIndex",value:function(_){for(var E=0;E<this.documents.length;E++)if(this.documents[E].doc===_)return E;return-1}},{key:"getDocOptions",value:function(_){var E=this.getDocIndex(_);return E===-1?null:this.documents[E].options}},{key:"now",value:function(){return(this.window.Date||Date).now()}}]),x})();function $k(x){return x&&x.replace(/\/.*$/,"")}var kk=new Tk,fs=kk.interactStatic,tx=typeof globalThis<"u"?globalThis:window;kk.init(tx);var Y3=Object.freeze({__proto__:null,edgeTarget:function(){},elements:function(){},grid:function(x){var _=[["x","y"],["left","top"],["right","bottom"],["width","height"]].filter(function(M){var O=M[0],z=M[1];return O in x||z in x}),E=function(M,O){for(var z=x.range,V=x.limits,H=V===void 0?{left:-1/0,right:1/0,top:-1/0,bottom:1/0}:V,q=x.offset,re=q===void 0?{x:0,y:0}:q,W={range:z,grid:x,x:null,y:null},pe=0;pe<_.length;pe++){var $e=_[pe],Ve=$e[0],je=$e[1],He=Math.round((M-re.x)/x[Ve]),st=Math.round((O-re.y)/x[je]);W[Ve]=Math.max(H.left,Math.min(H.right,He*x[Ve]+re.x)),W[je]=Math.max(H.top,Math.min(H.bottom,st*x[je]+re.y))}return W};return E.grid=x,E.coordFields=_,E}}),Z3={id:"snappers",install:function(x){var _=x.interactStatic;_.snappers=qe(_.snappers||{},Y3),_.createSnapGrid=_.snappers.grid}},J3=Z3,X3={start:function(x){var _=x.state,E=x.rect,M=x.edges,O=x.pageCoords,z=_.options,V=z.ratio,H=z.enabled,q=_.options,re=q.equalDelta,W=q.modifiers;V==="preserve"&&(V=E.width/E.height),_.startCoords=qe({},O),_.startRect=qe({},E),_.ratio=V,_.equalDelta=re;var pe=_.linkedEdges={top:M.top||M.left&&!M.bottom,left:M.left||M.top&&!M.right,bottom:M.bottom||M.right&&!M.top,right:M.right||M.bottom&&!M.left};if(_.xIsPrimaryAxis=!(!M.left&&!M.right),_.equalDelta){var $e=(pe.left?1:-1)*(pe.top?1:-1);_.edgeSign={x:$e,y:$e}}else _.edgeSign={x:pe.left?-1:1,y:pe.top?-1:1};if(H!==!1&&qe(M,pe),W!=null&&W.length){var Ve=new Vs(x.interaction);Ve.copyFrom(x.interaction.modification),Ve.prepareStates(W),_.subModification=Ve,Ve.startAll(r({},x))}},set:function(x){var _=x.state,E=x.rect,M=x.coords,O=_.linkedEdges,z=qe({},M),V=_.equalDelta?K3:Ek;if(qe(x.edges,O),V(_,_.xIsPrimaryAxis,M,E),!_.subModification)return null;var H=qe({},E);hs(O,H,{x:M.x-z.x,y:M.y-z.y});var q=_.subModification.setAll(r(r({},x),{},{rect:H,edges:O,pageCoords:M,prevCoords:M,prevRect:H})),re=q.delta;return q.changed&&(V(_,Math.abs(re.x)>Math.abs(re.y),q.coords,q.rect),qe(M,q.coords)),q.eventProps},defaults:{ratio:"preserve",equalDelta:!1,modifiers:[],enabled:!1}};function K3(x,_,E){var M=x.startCoords,O=x.edgeSign;_?E.y=M.y+(E.x-M.x)*O.y:E.x=M.x+(E.y-M.y)*O.x}function Ek(x,_,E,M){var O=x.startRect,z=x.startCoords,V=x.ratio,H=x.edgeSign;if(_){var q=M.width/V;E.y=z.y+(q-O.height)*H.y}else{var re=M.height*V;E.x=z.x+(re-O.width)*H.x}}var Q3=_c(X3,"aspectRatio"),Ik=function(){};Ik._defaults={};var hb=Ik;function Qd(x,_,E){return N.func(x)?qn(x,_.interactable,_.element,[E.x,E.y,_]):qn(x,_.interactable,_.element)}var ef={start:function(x){var _=x.rect,E=x.startOffset,M=x.state,O=x.interaction,z=x.pageCoords,V=M.options,H=V.elementRect,q=qe({left:0,top:0,right:0,bottom:0},V.offset||{});if(_&&H){var re=Qd(V.restriction,O,z);if(re){var W=re.right-re.left-_.width,pe=re.bottom-re.top-_.height;W<0&&(q.left+=W,q.right+=W),pe<0&&(q.top+=pe,q.bottom+=pe)}q.left+=E.left-_.width*H.left,q.top+=E.top-_.height*H.top,q.right+=E.right-_.width*(1-H.right),q.bottom+=E.bottom-_.height*(1-H.bottom)}M.offset=q},set:function(x){var _=x.coords,E=x.interaction,M=x.state,O=M.options,z=M.offset,V=Qd(O.restriction,E,_);if(V){var H=(function(q){return!q||"left"in q&&"top"in q||((q=qe({},q)).left=q.x||0,q.top=q.y||0,q.right=q.right||q.left+q.width,q.bottom=q.bottom||q.top+q.height),q})(V);_.x=Math.max(Math.min(H.right-z.right,_.x),H.left+z.left),_.y=Math.max(Math.min(H.bottom-z.bottom,_.y),H.top+z.top)}},defaults:{restriction:null,elementRect:null,offset:null,endOnly:!1,enabled:!1}},eR=_c(ef,"restrict"),Ck={top:1/0,left:1/0,bottom:-1/0,right:-1/0},Mk={top:-1/0,left:-1/0,bottom:1/0,right:1/0};function ix(x,_){for(var E=0,M=["top","left","bottom","right"];E<M.length;E++){var O=M[E];O in x||(x[O]=_[O])}return x}var wg={noInner:Ck,noOuter:Mk,start:function(x){var _,E=x.interaction,M=x.startOffset,O=x.state,z=O.options;z&&(_=xa(Qd(z.offset,E,E.coords.start.page))),_=_||{x:0,y:0},O.offset={top:_.y+M.top,left:_.x+M.left,bottom:_.y-M.bottom,right:_.x-M.right}},set:function(x){var _=x.coords,E=x.edges,M=x.interaction,O=x.state,z=O.offset,V=O.options;if(E){var H=qe({},_),q=Qd(V.inner,M,H)||{},re=Qd(V.outer,M,H)||{};ix(q,Ck),ix(re,Mk),E.top?_.y=Math.min(Math.max(re.top+z.top,H.y),q.top+z.top):E.bottom&&(_.y=Math.max(Math.min(re.bottom+z.bottom,H.y),q.bottom+z.bottom)),E.left?_.x=Math.min(Math.max(re.left+z.left,H.x),q.left+z.left):E.right&&(_.x=Math.max(Math.min(re.right+z.right,H.x),q.right+z.right))}},defaults:{inner:null,outer:null,offset:null,endOnly:!1,enabled:!1}},tR=_c(wg,"restrictEdges"),iR=qe({get elementRect(){return{top:0,left:0,bottom:1,right:1}},set elementRect(x){}},ef.defaults),rR=_c({start:ef.start,set:ef.set,defaults:iR},"restrictRect"),nR={width:-1/0,height:-1/0},sR={width:1/0,height:1/0},oR=_c({start:function(x){return wg.start(x)},set:function(x){var _=x.interaction,E=x.state,M=x.rect,O=x.edges,z=E.options;if(O){var V=$u(Qd(z.min,_,x.coords))||nR,H=$u(Qd(z.max,_,x.coords))||sR;E.options={endOnly:z.endOnly,inner:qe({},wg.noInner),outer:qe({},wg.noOuter)},O.top?(E.options.inner.top=M.bottom-V.height,E.options.outer.top=M.bottom-H.height):O.bottom&&(E.options.inner.bottom=M.top+V.height,E.options.outer.bottom=M.top+H.height),O.left?(E.options.inner.left=M.right-V.width,E.options.outer.left=M.right-H.width):O.right&&(E.options.inner.right=M.left+V.width,E.options.outer.right=M.left+H.width),wg.set(x),E.options=z}},defaults:{min:null,max:null,endOnly:!1,enabled:!1}},"restrictSize"),rx={start:function(x){var _,E=x.interaction,M=x.interactable,O=x.element,z=x.rect,V=x.state,H=x.startOffset,q=V.options,re=q.offsetWithOrigin?(function($e){var Ve=$e.interaction.element,je=xa(qn($e.state.options.origin,null,null,[Ve])),He=je||Sa($e.interactable,Ve,$e.interaction.prepared.name);return He})(x):{x:0,y:0};if(q.offset==="startCoords")_={x:E.coords.start.page.x,y:E.coords.start.page.y};else{var W=qn(q.offset,M,O,[E]);(_=xa(W)||{x:0,y:0}).x+=re.x,_.y+=re.y}var pe=q.relativePoints;V.offsets=z&&pe&&pe.length?pe.map(function($e,Ve){return{index:Ve,relativePoint:$e,x:H.left-z.width*$e.x+_.x,y:H.top-z.height*$e.y+_.y}}):[{index:0,relativePoint:null,x:_.x,y:_.y}]},set:function(x){var _=x.interaction,E=x.coords,M=x.state,O=M.options,z=M.offsets,V=Sa(_.interactable,_.element,_.prepared.name),H=qe({},E),q=[];O.offsetWithOrigin||(H.x-=V.x,H.y-=V.y);for(var re=0,W=z;re<W.length;re++)for(var pe=W[re],$e=H.x-pe.x,Ve=H.y-pe.y,je=0,He=O.targets.length;je<He;je++){var st=O.targets[je],it=void 0;(it=N.func(st)?st($e,Ve,_._proxy,pe,je):st)&&q.push({x:(N.number(it.x)?it.x:$e)+pe.x,y:(N.number(it.y)?it.y:Ve)+pe.y,range:N.number(it.range)?it.range:O.range,source:st,index:je,offset:pe})}for(var mt={target:null,inRange:!1,distance:0,range:0,delta:{x:0,y:0}},Ft=0;Ft<q.length;Ft++){var Jt=q[Ft],Ct=Jt.range,qt=Jt.x-H.x,Cr=Jt.y-H.y,Ei=ku(qt,Cr),ms=Ei<=Ct;Ct===1/0&&mt.inRange&&mt.range!==1/0&&(ms=!1),mt.target&&!(ms?mt.inRange&&Ct!==1/0?Ei/Ct<mt.distance/mt.range:Ct===1/0&&mt.range!==1/0||Ei<mt.distance:!mt.inRange&&Ei<mt.distance)||(mt.target=Jt,mt.distance=Ei,mt.range=Ct,mt.inRange=ms,mt.delta.x=qt,mt.delta.y=Cr)}return mt.inRange&&(E.x=mt.target.x,E.y=mt.target.y),M.closest=mt,mt},defaults:{range:1/0,targets:null,offset:null,offsetWithOrigin:!0,origin:null,relativePoints:null,endOnly:!1,enabled:!1}},aR=_c(rx,"snap"),tf={start:function(x){var _=x.state,E=x.edges,M=_.options;if(!E)return null;x.state={options:{targets:null,relativePoints:[{x:E.left?0:1,y:E.top?0:1}],offset:M.offset||"self",origin:{x:0,y:0},range:M.range}},_.targetFields=_.targetFields||[["width","height"],["x","y"]],rx.start(x),_.offsets=x.state.offsets,x.state=_},set:function(x){var _=x.interaction,E=x.state,M=x.coords,O=E.options,z=E.offsets,V={x:M.x-z[0].x,y:M.y-z[0].y};E.options=qe({},O),E.options.targets=[];for(var H=0,q=O.targets||[];H<q.length;H++){var re=q[H],W=void 0;if(W=N.func(re)?re(V.x,V.y,_):re){for(var pe=0,$e=E.targetFields;pe<$e.length;pe++){var Ve=$e[pe],je=Ve[0],He=Ve[1];if(je in W||He in W){W.x=W[je],W.y=W[He];break}}E.options.targets.push(W)}}var st=rx.set(x);return E.options=O,st},defaults:{range:1/0,targets:null,offset:null,endOnly:!1,enabled:!1}},_g=_c(tf,"snapSize"),nx={aspectRatio:Q3,restrictEdges:tR,restrict:eR,restrictRect:rR,restrictSize:oR,snapEdges:_c({start:function(x){var _=x.edges;return _?(x.state.targetFields=x.state.targetFields||[[_.left?"left":"right",_.top?"top":"bottom"]],tf.start(x)):null},set:tf.set,defaults:qe(fr(tf.defaults),{targets:void 0,range:void 0,offset:{x:0,y:0}})},"snapEdges"),snap:aR,snapSize:_g,spring:hb,avoid:hb,transform:hb,rubberband:hb},Ak={id:"modifiers",install:function(x){var _=x.interactStatic;for(var E in x.usePlugin(W1),x.usePlugin(J3),_.modifiers=nx,nx){var M=nx[E],O=M._defaults,z=M._methods;O._methods=z,x.defaults.perAction[E]=O}}},Ok=Ak,sx=(function(x){h(E,x);var _=w(E);function E(M,O,z,V,H,q){var re;if(s(this,E),fc(v(re=_.call(this,H)),z),z!==O&&fc(v(re),O),re.timeStamp=q,re.originalEvent=z,re.type=M,re.pointerId=Eu(O),re.pointerType=Cu(O),re.target=V,re.currentTarget=null,M==="tap"){var W=H.getPointerIndex(O);re.dt=re.timeStamp-H.pointers[W].downTime;var pe=re.timeStamp-H.tapTime;re.double=!!H.prevTap&&H.prevTap.type!=="doubletap"&&H.prevTap.target===re.target&&pe<500}else M==="doubletap"&&(re.dt=O.timeStamp-H.tapTime,re.double=!0);return re}return a(E,[{key:"_subtractOrigin",value:function(M){var O=M.x,z=M.y;return this.pageX-=O,this.pageY-=z,this.clientX-=O,this.clientY-=z,this}},{key:"_addOrigin",value:function(M){var O=M.x,z=M.y;return this.pageX+=O,this.pageY+=z,this.clientX+=O,this.clientY+=z,this}},{key:"preventDefault",value:function(){this.originalEvent.preventDefault()}}]),E})(mo),rf={id:"pointer-events/base",before:["inertia","modifiers","auto-start","actions"],install:function(x){x.pointerEvents=rf,x.defaults.actions.pointerEvents=rf.defaults,qe(x.actions.phaselessTypes,rf.types)},listeners:{"interactions:new":function(x){var _=x.interaction;_.prevTap=null,_.tapTime=0},"interactions:update-pointer":function(x){var _=x.down,E=x.pointerInfo;!_&&E.hold||(E.hold={duration:1/0,timeout:null})},"interactions:move":function(x,_){var E=x.interaction,M=x.pointer,O=x.event,z=x.eventTarget;x.duplicate||E.pointerIsDown&&!E.pointerWasMoved||(E.pointerIsDown&&ox(x),Tc({interaction:E,pointer:M,event:O,eventTarget:z,type:"move"},_))},"interactions:down":function(x,_){(function(E,M){for(var O=E.interaction,z=E.pointer,V=E.event,H=E.eventTarget,q=E.pointerIndex,re=O.pointers[q].hold,W=St(H),pe={interaction:O,pointer:z,event:V,eventTarget:H,type:"hold",targets:[],path:W,node:null},$e=0;$e<W.length;$e++){var Ve=W[$e];pe.node=Ve,M.fire("pointerEvents:collect-targets",pe)}if(pe.targets.length){for(var je=1/0,He=0,st=pe.targets;He<st.length;He++){var it=st[He].eventable.options.holdDuration;it<je&&(je=it)}re.duration=je,re.timeout=setTimeout(function(){Tc({interaction:O,eventTarget:H,pointer:z,event:V,type:"hold"},M)},je)}})(x,_),Tc(x,_)},"interactions:up":function(x,_){ox(x),Tc(x,_),(function(E,M){var O=E.interaction,z=E.pointer,V=E.event,H=E.eventTarget;O.pointerWasMoved||Tc({interaction:O,eventTarget:H,pointer:z,event:V,type:"tap"},M)})(x,_)},"interactions:cancel":function(x,_){ox(x),Tc(x,_)}},PointerEvent:sx,fire:Tc,collectEventTargets:eh,defaults:{holdDuration:600,ignoreFrom:null,allowFrom:null,origin:{x:0,y:0}},types:{down:!0,move:!0,up:!0,cancel:!0,tap:!0,doubletap:!0,hold:!0}};function Tc(x,_){var E=x.interaction,M=x.pointer,O=x.event,z=x.eventTarget,V=x.type,H=x.targets,q=H===void 0?eh(x,_):H,re=new sx(V,M,O,z,E,_.now());_.fire("pointerEvents:new",{pointerEvent:re});for(var W={interaction:E,pointer:M,event:O,eventTarget:z,targets:q,type:V,pointerEvent:re},pe=0;pe<q.length;pe++){var $e=q[pe];for(var Ve in $e.props||{})re[Ve]=$e.props[Ve];var je=Sa($e.eventable,$e.node);if(re._subtractOrigin(je),re.eventable=$e.eventable,re.currentTarget=$e.node,$e.eventable.fire(re),re._addOrigin(je),re.immediatePropagationStopped||re.propagationStopped&&pe+1<q.length&&q[pe+1].node!==re.currentTarget)break}if(_.fire("pointerEvents:fired",W),V==="tap"){var He=re.double?Tc({interaction:E,pointer:M,event:O,eventTarget:z,type:"doubletap"},_):re;E.prevTap=He,E.tapTime=He.timeStamp}return re}function eh(x,_){var E=x.interaction,M=x.pointer,O=x.event,z=x.eventTarget,V=x.type,H=E.getPointerIndex(M),q=E.pointers[H];if(V==="tap"&&(E.pointerWasMoved||!q||q.downTarget!==z))return[];for(var re=St(z),W={interaction:E,pointer:M,event:O,eventTarget:z,type:V,path:re,targets:[],node:null},pe=0;pe<re.length;pe++){var $e=re[pe];W.node=$e,_.fire("pointerEvents:collect-targets",W)}return V==="hold"&&(W.targets=W.targets.filter(function(Ve){var je,He;return Ve.eventable.options.holdDuration===((je=E.pointers[H])==null||(He=je.hold)==null?void 0:He.duration)})),W.targets}function ox(x){var _=x.interaction,E=x.pointerIndex,M=_.pointers[E].hold;M&&M.timeout&&(clearTimeout(M.timeout),M.timeout=null)}var lR=Object.freeze({__proto__:null,default:rf});function cR(x){var _=x.interaction;_.holdIntervalHandle&&(clearInterval(_.holdIntervalHandle),_.holdIntervalHandle=null)}var Pk={id:"pointer-events/holdRepeat",install:function(x){x.usePlugin(rf);var _=x.pointerEvents;_.defaults.holdRepeatInterval=0,_.types.holdrepeat=x.actions.phaselessTypes.holdrepeat=!0},listeners:["move","up","cancel","endall"].reduce(function(x,_){return x["pointerEvents:".concat(_)]=cR,x},{"pointerEvents:new":function(x){var _=x.pointerEvent;_.type==="hold"&&(_.count=(_.count||0)+1)},"pointerEvents:fired":function(x,_){var E=x.interaction,M=x.pointerEvent,O=x.eventTarget,z=x.targets;if(M.type==="hold"&&z.length){var V=z[0].eventable.options.holdRepeatInterval;V<=0||(E.holdIntervalHandle=setTimeout(function(){_.pointerEvents.fire({interaction:E,eventTarget:O,type:"hold",pointer:M,event:M},_)},V))}}})},Dk=Pk,xg={id:"pointer-events/interactableTargets",install:function(x){var _=x.Interactable;_.prototype.pointerEvents=function(M){return qe(this.events.options,M),this};var E=_.prototype._backCompatOption;_.prototype._backCompatOption=function(M,O){var z=E.call(this,M,O);return z===this&&(this.events.options[M]=O),z}},listeners:{"pointerEvents:collect-targets":function(x,_){var E=x.targets,M=x.node,O=x.type,z=x.eventTarget;_.interactables.forEachMatch(M,function(V){var H=V.events,q=H.options;H.types[O]&&H.types[O].length&&V.testIgnoreAllow(q,M,z)&&E.push({node:M,eventable:H,props:{interactable:V}})})},"interactable:new":function(x){var _=x.interactable;_.events.getRect=function(E){return _.getRect(E)}},"interactable:set":function(x,_){var E=x.interactable,M=x.options;qe(E.events.options,_.pointerEvents.defaults),qe(E.events.options,M.pointerEvents||{})}}},Sg=xg,uR={id:"pointer-events",install:function(x){x.usePlugin(lR),x.usePlugin(Dk),x.usePlugin(Sg)}},pb=uR,Rk={id:"reflow",install:function(x){var _=x.Interactable;x.actions.phases.reflow=!0,_.prototype.reflow=function(E){return(function(M,O,z){for(var V=M.getAllElements(),H=z.window.Promise,q=H?[]:null,re=function(){var pe=V[W],$e=M.getRect(pe);if(!$e)return 1;var Ve,je=qd(z.interactions.list,function(it){return it.interacting()&&it.interactable===M&&it.element===pe&&it.prepared.name===O.name});if(je)je.move(),q&&(Ve=je._reflowPromise||new H(function(it){je._reflowResolve=it}));else{var He=$u($e),st=(function(it){return{coords:it,get page(){return this.coords.page},get client(){return this.coords.client},get timeStamp(){return this.coords.timeStamp},get pageX(){return this.coords.page.x},get pageY(){return this.coords.page.y},get clientX(){return this.coords.client.x},get clientY(){return this.coords.client.y},get pointerId(){return this.coords.pointerId},get target(){return this.coords.target},get type(){return this.coords.type},get pointerType(){return this.coords.pointerType},get buttons(){return this.coords.buttons},preventDefault:function(){}}})({page:{x:He.x,y:He.y},client:{x:He.x,y:He.y},timeStamp:z.now()});Ve=(function(it,mt,Ft,Jt,Ct){var qt=it.interactions.new({pointerType:"reflow"}),Cr={interaction:qt,event:Ct,pointer:Ct,eventTarget:Ft,phase:"reflow"};qt.interactable=mt,qt.element=Ft,qt.prevEvent=Ct,qt.updatePointer(Ct,Ct,Ft,!0),eb(qt.coords.delta),yc(qt.prepared,Jt),qt._doPhase(Cr);var Ei=it.window,ms=Ei.Promise,jo=ms?new ms(function(gs){qt._reflowResolve=gs}):void 0;return qt._reflowPromise=jo,qt.start(Jt,mt,Ft),qt._interacting?(qt.move(Cr),qt.end(Ct)):(qt.stop(),qt._reflowResolve()),qt.removePointer(Ct,Ct),jo})(z,M,pe,O,st)}q&&q.push(Ve)},W=0;W<V.length&&!re();W++);return q&&H.all(q).then(function(){return M})})(this,E,x)}},listeners:{"interactions:stop":function(x,_){var E=x.interaction;E.pointerType==="reflow"&&(E._reflowResolve&&E._reflowResolve(),(function(M,O){M.splice(M.indexOf(O),1)})(_.interactions.list,E))}}},Lk=Rk;if(fs.use(Gi),fs.use(Zd),fs.use(pb),fs.use(Sc),fs.use(Ok),fs.use(Fe),fs.use(Sl),fs.use(lb),fs.use(Lk),fs.default=fs,n(t)==="object"&&t)try{t.exports=fs}catch{}return fs.default=fs,fs})})(ST,ST.exports)),ST.exports}var BQe=UQe();const Bte=FQe(BQe);const HQe=(t,e,i)=>Math.max(e,Math.min(t,i));const Uc={container:"container",actionBarContainer:"action-bar-container",contentContainer:"content-container",content:"content",contentHeader:"content__header",contentBody:"content__body",contentOverlay:"content--overlay",floatAll:"float-all",floatContent:"float--content",resizeHandle:"resize-handle",resizeHandleBar:"resize-handle-bar"},Hte={actionBar:"action-bar",header:"header"},qte={dragVertical:"drag-resize-vertical",dragHorizontal:"drag-resize-horizontal"},qQe=vi`:host{--calcite-internal-color-focus: var( --calcite-color-focus, var(--calcite-ui-focus-color, var(--calcite-color-brand)) )}:host{pointer-events:none;position:relative;display:flex;flex:0 1 auto;align-items:stretch;z-index:var(--calcite-shell-panel-z-index, var(--calcite-z-index));--calcite-shell-panel-max-height: unset;--calcite-internal-shell-panel-shadow-block-start: 0 4px 8px -1px rgba(0, 0, 0, .08), 0 2px 4px -1px rgba(0, 0, 0, .04);--calcite-internal-shell-panel-shadow-block-end: 0 -4px 8px -1px rgba(0, 0, 0, .08), 0 -2px 4px -1px rgba(0, 0, 0, .04);--calcite-internal-shell-panel-shadow-inline-start: 4px 0 8px -1px rgba(0, 0, 0, .08), 2px 0 4px -1px rgba(0, 0, 0, .04);--calcite-internal-shell-panel-shadow-inline-end: -4px 0 8px -1px rgba(0, 0, 0, .08), -2px 0 4px -1px rgba(0, 0, 0, .04)}.calcite--rtl.content--overlay{--calcite-internal-shell-panel-shadow-inline-start: -4px 0 8px -1px rgba(0, 0, 0, .08), -2px 0 4px -1px rgba(0, 0, 0, .04);--calcite-internal-shell-panel-shadow-inline-end: 4px 0 8px -1px rgba(0, 0, 0, .08), 2px 0 4px -1px rgba(0, 0, 0, .04)}:host([layout=vertical]){z-index:var(--calcite-shell-panel-z-index, calc(var(--calcite-z-index) + 1))}:host([layout=vertical][display-mode=overlay]){z-index:var(--calcite-shell-panel-z-index, calc(var(--calcite-z-index-header) + 1))}:host([layout=vertical][display-mode=float-all]) .content{flex:2}:host([layout=vertical]:not([display-mode=float-all])) .width-s{--calcite-internal-shell-panel-width: var(--calcite-shell-panel-width, 12vw);--calcite-internal-shell-panel-max-width: var(--calcite-shell-panel-max-width, 300px);--calcite-internal-shell-panel-min-width: var(--calcite-shell-panel-min-width, 150px)}:host([layout=vertical][display-mode=float-all]) .width-s{--calcite-internal-shell-panel-width: var(--calcite-shell-panel-width, 12vw);--calcite-internal-shell-panel-min-width: var(--calcite-shell-panel-min-width, 150px)}:host([layout=vertical]:not([display-mode=float-all])) .width-m{--calcite-internal-shell-panel-width: var(--calcite-shell-panel-width, 20vw);--calcite-internal-shell-panel-max-width: var(--calcite-shell-panel-max-width, 420px);--calcite-internal-shell-panel-min-width: var(--calcite-shell-panel-min-width, 240px)}:host([layout=vertical][display-mode=float-all]) .width-m{--calcite-internal-shell-panel-width: var(--calcite-shell-panel-width, 20vw);--calcite-internal-shell-panel-min-width: var(--calcite-shell-panel-min-width, 240px)}:host([layout=vertical]:not([display-mode=float-all])) .width-l{--calcite-internal-shell-panel-width: var(--calcite-shell-panel-width, 45vw);--calcite-internal-shell-panel-max-width: var(--calcite-shell-panel-max-width, 680px);--calcite-internal-shell-panel-min-width: var(--calcite-shell-panel-min-width, 340px)}:host([layout=vertical][display-mode=float-all]) .width-l{--calcite-internal-shell-panel-width: var(--calcite-shell-panel-width, 45vw);--calcite-internal-shell-panel-min-width: var(--calcite-shell-panel-min-width, 340px)}:host([layout=horizontal]) .content{--calcite-internal-shell-panel-height: var(--calcite-shell-panel-height);--calcite-internal-shell-panel-min-height: var(--calcite-shell-panel-min-height, 5vh);--calcite-internal-shell-panel-max-height: var(--calcite-shell-panel-max-height, 30vh)}:host([layout=horizontal]) .height-s{--calcite-internal-shell-panel-height: var(--calcite-shell-panel-height);--calcite-internal-shell-panel-min-height: var(--calcite-shell-panel-min-height, 5vh);--calcite-internal-shell-panel-max-height: var(--calcite-shell-panel-max-height, 20vh)}:host([layout=horizontal]) .height-l{--calcite-internal-shell-panel-height: var(--calcite-shell-panel-height);--calcite-internal-shell-panel-min-height: var(--calcite-shell-panel-min-height, 5vh);--calcite-internal-shell-panel-max-height: var(--calcite-shell-panel-max-height, 40vh)}.container{pointer-events:none;box-sizing:border-box;display:flex;block-size:100%;flex:1 1 auto;align-items:stretch;background-color:transparent;font-size:var(--calcite-font-size--1);color:var(--calcite-shell-panel-text-color, var(--calcite-color-text-2))}.container *{box-sizing:border-box}.container.float-all{margin-block:var(--calcite-spacing-sm);margin-inline:var(--calcite-spacing-sm)}.float-all{max-block-size:var(--calcite-internal-shell-panel-max-height, calc(100% - 1rem) );box-shadow:var(--calcite-shell-panel-shadow, var(--calcite-shadow-sm));border-radius:var(--calcite-shell-panel-corner-radius, var(--calcite-corner-radius-round));overflow:hidden}:host([layout=vertical][position=start]) .float-all{border-inline-start:var(--calcite-border-width-sm) solid var(--calcite-shell-panel-border-color, var(--calcite-color-border-3))}:host([layout=vertical][position=end]) .float-all{border-inline-end:var(--calcite-border-width-sm) solid var(--calcite-shell-border-color, var(--calcite-shell-panel-border-color, var(--calcite-color-border-3)))}:host([layout=horizontal]) .float-all{border-inline:var(--calcite-border-width-sm) solid var(--calcite-shell-border-color, var(--calcite-shell-panel-border-color, var(--calcite-color-border-3)))}:host([layout=horizontal]) .container{block-size:auto;inline-size:100%;flex-direction:column}.resize-handle{position:absolute;box-sizing:border-box;display:flex;-webkit-user-select:none;user-select:none;align-items:center;justify-content:center;outline:2px solid transparent;outline-offset:2px;--calcite-internal-shell-panel-resize-handle-offset: calc( (var(--calcite-size-fixed-xxl) - var(--calcite-size-fixed-sm-plus)) / 2 * -1 );z-index:var(--calcite-z-index-header)}.resize-handle:active .resize-handle-bar,.resize-handle:hover .resize-handle-bar{color:var(--calcite-shell-panel-resize-icon-color, var(--calcite-color-text-1));background-color:var(--calcite-shell-panel-resize-background-color, var(--calcite-color-foreground-3))}.resize-handle-bar{pointer-events:none;display:flex;align-items:center;justify-content:center;color:var(--calcite-shell-panel-resize-icon-color, var(--calcite-color-border-input));background-color:var(--calcite-shell-panel-resize-background-color, var(--calcite-color-background))}.resize-handle:focus .resize-handle-bar{outline:var(--calcite-border-width-md) solid var(--calcite-color-focus, var(--calcite-ui-focus-color, var(--calcite-color-brand)));outline-color:transparent;outline:var(--calcite-border-width-md) solid var(--calcite-internal-color-focus)}:host([position=start][layout=vertical]) .resize-handle{inline-size:var(--calcite-size-fixed-xxl);inset-inline-end:var(--calcite-internal-shell-panel-resize-handle-offset);block-size:100%}:host([position=start][layout=vertical]) .resize-handle-bar{block-size:100%;inline-size:var(--calcite-size-fixed-sm-plus);border-inline-start:var(--calcite-border-width-sm) solid var(--calcite-shell-border-color, var(--calcite-color-border-3))}:host([position=start][layout=vertical]):host([display-mode^=float]) .resize-handle-bar{border-start-end-radius:var(--calcite-shell-panel-corner-radius, var(--calcite-corner-radius-round));border-end-end-radius:var(--calcite-shell-panel-corner-radius, var(--calcite-corner-radius-round))}:host([position=end][layout=vertical]) .resize-handle{inline-size:var(--calcite-size-fixed-xxl);inset-inline-start:var(--calcite-internal-shell-panel-resize-handle-offset);block-size:100%}:host([position=end][layout=vertical]) .resize-handle-bar{block-size:100%;inline-size:var(--calcite-size-fixed-sm-plus);border-inline-end:var(--calcite-border-width-sm) solid var(--calcite-shell-border-color, var(--calcite-color-border-3))}:host([position=end][layout=vertical]):host([display-mode^=float]) .resize-handle-bar{border-start-start-radius:var(--calcite-shell-panel-corner-radius, var(--calcite-corner-radius-round));border-end-start-radius:var(--calcite-shell-panel-corner-radius, var(--calcite-corner-radius-round))}:host([position=start][layout=horizontal]) .resize-handle{block-size:var(--calcite-size-fixed-xxl);inline-size:100%;inset-block-end:var(--calcite-internal-shell-panel-resize-handle-offset)}:host([position=start][layout=horizontal]) .resize-handle-bar{inline-size:100%;block-size:var(--calcite-size-fixed-sm-plus);border-block-start:var(--calcite-border-width-sm) solid var(--calcite-shell-border-color, var(--calcite-color-border-3))}:host([position=start][layout=horizontal]):host([display-mode^=float]) .resize-handle-bar{border-end-end-radius:var(--calcite-shell-panel-corner-radius, var(--calcite-corner-radius-round));border-end-start-radius:var(--calcite-shell-panel-corner-radius, var(--calcite-corner-radius-round))}:host([position=end][layout=horizontal]) .resize-handle{block-size:var(--calcite-size-fixed-xxl);inline-size:100%;inset-block-start:var(--calcite-internal-shell-panel-resize-handle-offset)}:host([position=end][layout=horizontal]) .resize-handle-bar{inline-size:100%;block-size:var(--calcite-size-fixed-sm-plus);border-block-end:var(--calcite-border-width-sm) solid var(--calcite-shell-border-color, var(--calcite-color-border-3))}:host([position=end][layout=horizontal]):host([display-mode^=float]) .resize-handle-bar{border-start-start-radius:var(--calcite-shell-panel-corner-radius, var(--calcite-corner-radius-round));border-start-end-radius:var(--calcite-shell-panel-corner-radius, var(--calcite-corner-radius-round))}::slotted(calcite-panel),::slotted(calcite-flow){block-size:100%;inline-size:100%;flex:1 1 auto;max-block-size:unset;max-inline-size:unset}::slotted(.calcite-match-height){display:flex;flex:1 1 auto;overflow:hidden}.action-bar-container{pointer-events:auto;box-sizing:border-box;display:flex;flex:1 1 auto}.content-container{position:relative;box-sizing:border-box;display:flex;block-size:100%;inline-size:100%;flex:1 1 auto;align-items:stretch;align-self:stretch}:host([layout=horizontal]) .action-bar-container,:host([layout=horizontal]) .content-container{flex-direction:column}.content{pointer-events:auto;position:relative;box-sizing:border-box;display:flex;flex:1 1 auto;flex-direction:column;flex-wrap:nowrap;align-items:stretch;align-self:stretch;padding:0;background-color:var(--calcite-shell-panel-background-color, var(--calcite-color-background));transition:max-block-size var(--calcite-animation-timing),max-inline-size var(--calcite-animation-timing)}:host([layout=vertical]:not([display-mode=float-all])) .content{inline-size:var(--calcite-internal-shell-panel-width);max-inline-size:var(--calcite-internal-shell-panel-max-width);min-inline-size:var(--calcite-internal-shell-panel-min-width)}:host([layout=vertical][display-mode=float-all]) .content{inline-size:var(--calcite-internal-shell-panel-width);min-inline-size:var(--calcite-internal-shell-panel-min-width)}:host([layout=horizontal]) .content{block-size:var(--calcite-internal-shell-panel-height);max-block-size:var(--calcite-internal-shell-panel-max-height);min-block-size:var(--calcite-internal-shell-panel-min-height)}:host([resizable][layout=vertical][position=start]) .content{padding-inline-end:var(--calcite-size-fixed-sm-plus)}:host([resizable][layout=vertical][position=end]) .content{padding-inline-start:var(--calcite-size-fixed-sm-plus)}:host([resizable][layout=horizontal][position=start]) .content{padding-block-end:var(--calcite-size-fixed-sm-plus)}:host([resizable][layout=horizontal][position=end]) .content{padding-block-start:var(--calcite-size-fixed-sm-plus)}.content__header{display:flex;flex:0 1 auto;flex-direction:column;flex-wrap:nowrap;align-items:stretch}.content__body{display:flex;flex:1 1 auto;flex-direction:column;overflow:hidden}.content--overlay{position:absolute;--tw-shadow: 0 4px 8px -1px rgba(0, 0, 0, .08), 0 2px 4px -1px rgba(0, 0, 0, .04);--tw-shadow-colored: 0 4px 8px -1px var(--tw-shadow-color), 0 2px 4px -1px var(--tw-shadow-color);box-shadow:var(--calcite-shell-panel-shadow, var(--tw-ring-offset-shadow, 0 0 rgba(0, 0, 0, 0)), var(--tw-ring-shadow, 0 0 rgba(0, 0, 0, 0)), var(--tw-shadow))}:host([layout=vertical]) .content--overlay{inset-block-start:0px;block-size:100%}:host([layout=horizontal]) .content--overlay{inset-inline-start:0px;inline-size:100%}:host([layout=vertical][position=start]) .content--overlay{inset-inline-start:100%;box-shadow:var(--calcite-internal-shell-panel-shadow-inline-start)}:host([layout=vertical][position=end]) .content--overlay{inset-inline-end:100%;box-shadow:var(--calcite-internal-shell-panel-shadow-inline-end)}:host([layout=horizontal][position=start]) .content--overlay{inset-block-start:100%;box-shadow:var(--calcite-internal-shell-panel-shadow-block-start)}:host([layout=horizontal][position=end]) .content--overlay{inset-block-end:100%;box-shadow:var(--calcite-internal-shell-panel-shadow-block-end)}.float--content{margin-block-end:auto;block-size:auto;overflow:hidden;--tw-shadow: 0 4px 8px -1px rgba(0, 0, 0, .08), 0 2px 4px -1px rgba(0, 0, 0, .04);--tw-shadow-colored: 0 4px 8px -1px var(--tw-shadow-color), 0 2px 4px -1px var(--tw-shadow-color);box-shadow:var(--calcite-shell-panel-shadow, var(--tw-ring-offset-shadow, 0 0 rgba(0, 0, 0, 0)), var(--tw-ring-shadow, 0 0 rgba(0, 0, 0, 0)), var(--tw-shadow));border-radius:var(--calcite-shell-panel-corner-radius, var(--calcite-corner-radius-round));margin-inline:var(--calcite-spacing-sm);margin-block-start:var(--calcite-spacing-sm);max-block-size:var(--calcite-internal-shell-panel-max-height, calc(100% - 1rem) )}.float--content ::slotted(calcite-panel),.float--content ::slotted(calcite-flow){max-block-size:unset}:host([layout=horizontal]) .float--content{margin-block:var(--calcite-spacing-sm)}:host([position=start]) .float--content ::slotted(calcite-panel),:host([position=start]) .float--content ::slotted(calcite-flow),:host([position=end]) .float--content ::slotted(calcite-panel),:host([position=end]) .float--content ::slotted(calcite-flow){border-style:none}slot[name=action-bar]::slotted(calcite-action-bar),.content ::slotted(calcite-flow),.content ::slotted(calcite-panel:not([closed])){border:var(--calcite-border-width-sm) solid var(--calcite-shell-border-color, var(--calcite-color-border-3))}:host([position=start]:not([slot=panel-end])) slot[name=action-bar]::slotted(calcite-action-bar),:host([position=start]:not([slot=panel-end])) .content ::slotted(calcite-flow),:host([position=start]:not([slot=panel-end])) .content ::slotted(calcite-panel),:host([position=end][slot=panel-start]) slot[name=action-bar]::slotted(calcite-action-bar),:host([position=end][slot=panel-start]) .content ::slotted(calcite-flow),:host([position=end][slot=panel-start]) .content ::slotted(calcite-panel){border-inline-start:none}:host([resizable][layout=vertical]) .content ::slotted(calcite-flow),:host([resizable][layout=vertical]) .content ::slotted(calcite-panel){border-inline-start:none;border-inline-end:none}:host([resizable][layout=horizontal]) .content ::slotted(calcite-flow),:host([resizable][layout=horizontal]) .content ::slotted(calcite-panel){border-block-start:none;border-block-end:none}:host([position=end]:not([slot=panel-start])) slot[name=action-bar]::slotted(calcite-action-bar),:host([position=end]:not([slot=panel-start])) .content ::slotted(calcite-flow),:host([position=end]:not([slot=panel-start])) .content ::slotted(calcite-panel),:host([position=start][slot=panel-end]) slot[name=action-bar]::slotted(calcite-action-bar),:host([position=start][slot=panel-end]) .content ::slotted(calcite-flow),:host([position=start][slot=panel-end]) .content ::slotted(calcite-panel){border-inline-end:none}:host([layout=horizontal]) slot[name=action-bar]::slotted(calcite-action-bar){border-inline:0}:host([layout=horizontal][position=start]) .content ::slotted(calcite-flow),:host([layout=horizontal][position=start]) .content ::slotted(calcite-panel){border-inline:0;border-block-start:0}:host([layout=horizontal][position=end]) .content ::slotted(calcite-flow),:host([layout=horizontal][position=end]) .content ::slotted(calcite-panel){border-inline:0;border-block-end:0}:host([hidden]){display:none}[hidden]{display:none}`,eD=class eD extends wi{constructor(){super(...arguments),this.actionBars=[],this.contentRef=kr(),this.messages=ds(),this.resizeValues={inlineSize:null,blockSize:null,minInlineSize:null,minBlockSize:null,maxInlineSize:null,maxBlockSize:null},this.hasHeader=!1,this.collapsed=!1,this.displayMode="dock",this.layout="vertical",this.position="start",this.resizable=!1,this.widthScale="m",this.calciteInternalShellPanelResizeEnd=Ge({cancelable:!1}),this.calciteInternalShellPanelResizeStart=Ge({cancelable:!1}),this.calciteShellPanelCollapse=Ge({cancelable:!1}),this.calciteShellPanelExpand=Ge({cancelable:!1})}willUpdate(e){e.has("layout")&&(this.hasUpdated||this.layout!=="vertical")&&this.setActionBarsLayout(this.actionBars),e.has("collapsed")&&this.hasUpdated&&(this.collapsed?this.calciteShellPanelCollapse.emit():this.calciteShellPanelExpand.emit())}disconnectedCallback(){super.disconnectedCallback(),this.cleanupInteractions()}getContentElDOMRect(){return this.contentRef.value.getBoundingClientRect()}handleKeyDown(e){const{key:i,defaultPrevented:r,shiftKey:n}=e,{position:s,layout:o,resizable:a,contentRef:l,el:h,resizeValues:{maxBlockSize:f,maxInlineSize:g,minBlockSize:v,minInlineSize:w}}=this,T=[...o==="horizontal"?["ArrowUp","ArrowDown"]:["ArrowLeft","ArrowRight"],"Home","End"];if(!a||!l.value||r||!T.includes(i))return;const C=this.getContentElDOMRect(),I=pl(h)==="rtl"?-1:1,A=n?KTe:XTe;switch(i){case"ArrowUp":this.updateSize({size:C.height+(o==="horizontal"&&s==="end"?A:-A),type:"blockSize"}),e.preventDefault();break;case"ArrowDown":this.updateSize({size:C.height+(o==="horizontal"&&s==="end"?-A:A),type:"blockSize"}),e.preventDefault();break;case"ArrowLeft":this.updateSize({size:C.width+(o==="vertical"&&s==="end"?A:-A)*I,type:"inlineSize"}),e.preventDefault();break;case"ArrowRight":this.updateSize({size:C.width+(o==="vertical"&&s==="end"?-A:A)*I,type:"inlineSize"}),e.preventDefault();break;case"Home":this.updateSize({size:o==="horizontal"?v:w,type:o==="horizontal"?"blockSize":"inlineSize"}),e.preventDefault();break;case"End":this.updateSize({size:o==="horizontal"?f:g,type:o==="horizontal"?"blockSize":"inlineSize"}),e.preventDefault();break}}updateSize({type:e,size:i}){const{contentRef:r,resizeValues:n}=this;if(!r.value)return;const s=e==="blockSize"?"minBlockSize":"minInlineSize",o=e==="blockSize"?"maxBlockSize":"maxInlineSize",a=n[s]&&n[o]?HQe(i,n[s],n[o]):i,l=Math.round(a);this.resizeValues={...n,[e]:l},r.value.style[e]=i!==null?`${l}px`:null}cleanupInteractions(){this.interaction?.unset()}async setupInteractions(){this.cleanupInteractions();const{el:e,contentRef:i,resizable:r,position:n,collapsed:s,resizeHandleEl:o,layout:a}=this;if(!i.value||s||!r||!o)return;await this.el.componentOnReady();const{inlineSize:l,minInlineSize:h,blockSize:f,minBlockSize:g,maxInlineSize:v,maxBlockSize:w}=window.getComputedStyle(i.value),S={inlineSize:qb(l),blockSize:qb(f),minInlineSize:qb(h),minBlockSize:qb(g),maxInlineSize:qb(v)||window.innerWidth,maxBlockSize:qb(w)||window.innerHeight};this.resizeValues=S;const T=pl(e)==="rtl";this.interaction=Bte(i.value,{context:e.ownerDocument}).resizable({edges:{top:n==="end"&&a==="horizontal"?o:!1,right:n===(T?"end":"start")&&a==="vertical"?o:!1,bottom:n==="start"&&a==="horizontal"?o:!1,left:n===(T?"start":"end")&&a==="vertical"?o:!1},modifiers:[Bte.modifiers.restrictSize({min:{width:S.minInlineSize,height:S.minBlockSize},max:{width:S.maxInlineSize,height:S.maxBlockSize}})],listeners:{resizestart:()=>{this.calciteInternalShellPanelResizeStart.emit()},resizeend:()=>{this.calciteInternalShellPanelResizeEnd.emit()},move:({rect:C})=>{const I=a==="horizontal";this.updateSize({size:I?C.height:C.width,type:I?"blockSize":"inlineSize"})}}})}setResizeHandleEl(e){this.resizeHandleEl=e,this.setupInteractions()}setActionBarsLayout(e){e.forEach(i=>i.layout=this.layout)}handleActionBarSlotChange(e){const i=xd(e).filter(r=>r?.matches("calcite-action-bar"));this.actionBars=i,this.setActionBarsLayout(i)}handleHeaderSlotChange(e){this.hasHeader=ri(e)}getResizeIcon(){const{layout:e}=this;return e==="horizontal"?qte.dragVertical:qte.dragHorizontal}renderHeader(){return vt("header",de`<div class=${ce(Uc.contentHeader)} .hidden=${!this.hasHeader}><slot name=${Hte.header} @slotchange=${this.handleHeaderSlotChange}></slot></div>`)}render(){const{collapsed:e,position:i,resizable:r,layout:n,displayMode:s,resizeValues:o}=this,a=pl(this.el),l=!e&&r?vt("resize-handle",de`<div .ariaLabel=${this.messages.resize} .ariaOrientation=${n==="horizontal"?"vertical":"horizontal"} .ariaValueMax=${n=="horizontal"?o.maxBlockSize:o.maxInlineSize} .ariaValueMin=${n=="horizontal"?o.minBlockSize:o.minInlineSize} .ariaValueNow=${n=="horizontal"?o.blockSize:o.inlineSize} class=${ce(Uc.resizeHandle)} @keydown=${this.handleKeyDown} role=separator tabindex=0 touch-action=none ${Ut(this.setResizeHandleEl)}><div class=${ce(Uc.resizeHandleBar)}><calcite-icon .icon=${this.getResizeIcon()} scale=s></calcite-icon></div></div>`):null,h=()=>n==="horizontal"?i==="start"?sl.calciteAnimateInDown:sl.calciteAnimateInUp:a==="ltr"&&i==="end"||a==="rtl"&&i==="start"?sl.calciteAnimateInLeft:sl.calciteAnimateInRight,f=de`<div class=${ce(Uc.contentContainer)}>${vt("content",de`<div class=${ce({[sl.rtl]:a==="rtl",[Uc.content]:!0,[Uc.contentOverlay]:s==="overlay",[Uc.floatContent]:s==="float-content"||s==="float",[sl.calciteAnimate]:s==="overlay",[h()]:s==="overlay",[VV("width",this.width,this.widthScale)]:!!(this.width||this.widthScale),[VV("height",this.height,this.heightScale)]:!!(this.height||this.heightScale)})} .hidden=${e} ${Ut(this.contentRef)}>${this.renderHeader()}<div class=${ce(Uc.contentBody)}><slot></slot></div>${l}</div>`)}</div>`,v=[vt("action-bar-container",de`<div class=${ce(Uc.actionBarContainer)}><slot name=${Hte.actionBar} @slotchange=${this.handleActionBarSlotChange}></slot></div>`),f];return i==="end"&&v.reverse(),de`<div class=${ce({[Uc.container]:!0,[Uc.floatAll]:s==="float-all"})}>${v}</div>`}};eD.properties={resizeValues:[16,{},{state:!0}],hasHeader:[16,{},{state:!0}],collapsed:[7,{},{reflect:!0,type:Boolean}],displayMode:[3,{},{reflect:!0}],heightScale:[3,{},{reflect:!0}],layout:[3,{},{reflect:!0}],messageOverrides:[0,{},{attribute:!1}],position:[3,{},{reflect:!0}],resizable:[7,{},{reflect:!0,type:Boolean}],height:[3,{},{reflect:!0}],widthScale:[3,{},{reflect:!0}],width:[3,{},{reflect:!0}]},eD.styles=qQe;let BV=eD;Pi("calcite-shell-panel",BV);const HV={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]};for(const t in HV)Object.freeze(HV[t]);const y2=Object.freeze(HV),Uge=Object.create(null);for(const t in y2)Object.hasOwn(y2,t)&&(Uge[y2[t]]=t);const jn={to:{},get:{}};jn.get=function(t){const e=t.slice(0,3).toLowerCase();let i,r;switch(e){case"hsl":{i=jn.get.hsl(t),r="hsl";break}case"hwb":{i=jn.get.hwb(t),r="hwb";break}default:{i=jn.get.rgb(t),r="rgb";break}}return i?{model:r,value:i}:null};jn.get.rgb=function(t){if(!t)return null;const e=/^#([a-f\d]{3,4})$/i,i=/^#([a-f\d]{6})([a-f\d]{2})?$/i,r=/^rgba?\(\s*([+-]?(?:\d*\.)?\d+(?:e\d+)?)(?=[\s,])\s*(?:,\s*)?([+-]?(?:\d*\.)?\d+(?:e\d+)?)(?=[\s,])\s*(?:,\s*)?([+-]?(?:\d*\.)?\d+(?:e\d+)?)\s*(?:[\s,|/]\s*([+-]?(?:\d*\.)?\d+(?:e\d+)?)(%?)\s*)?\)$/i,n=/^rgba?\(\s*([+-]?[\d.]+)%\s*,?\s*([+-]?[\d.]+)%\s*,?\s*([+-]?[\d.]+)%\s*(?:[\s,|/]\s*([+-]?[\d.]+)(%?)\s*)?\)$/i,s=/^(\w+)$/;let o=[0,0,0,1],a,l,h;if(a=t.match(i)){for(h=a[2],a=a[1],l=0;l<3;l++){const f=l*2;o[l]=Number.parseInt(a.slice(f,f+2),16)}h&&(o[3]=Number.parseInt(h,16)/255)}else if(a=t.match(e)){for(a=a[1],h=a[3],l=0;l<3;l++)o[l]=Number.parseInt(a[l]+a[l],16);h&&(o[3]=Number.parseInt(h+h,16)/255)}else if(a=t.match(r)){for(l=0;l<3;l++)o[l]=Number.parseFloat(a[l+1]);a[4]&&(o[3]=a[5]?Number.parseFloat(a[4])*.01:Number.parseFloat(a[4]))}else if(a=t.match(n)){for(l=0;l<3;l++)o[l]=Math.round(Number.parseFloat(a[l+1])*2.55);a[4]&&(o[3]=a[5]?Number.parseFloat(a[4])*.01:Number.parseFloat(a[4]))}else return(a=t.toLowerCase().match(s))?a[1]==="transparent"?[0,0,0,0]:Object.hasOwn(y2,a[1])?(o=y2[a[1]].slice(),o[3]=1,o):null:null;for(l=0;l<3;l++)o[l]=Nm(o[l],0,255);return o[3]=Nm(o[3],0,1),o};jn.get.hsl=function(t){if(!t)return null;const e=/^hsla?\(\s*([+-]?(?:\d{0,3}\.)?\d+)(?:deg)?\s*,?\s*([+-]?[\d.]+)%\s*,?\s*([+-]?[\d.]+)%\s*(?:[,|/]\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:e[+-]?\d+)?)\s*)?\)$/i,i=t.match(e);if(i){const r=Number.parseFloat(i[4]),n=(Number.parseFloat(i[1])%360+360)%360,s=Nm(Number.parseFloat(i[2]),0,100),o=Nm(Number.parseFloat(i[3]),0,100),a=Nm(Number.isNaN(r)?1:r,0,1);return[n,s,o,a]}return null};jn.get.hwb=function(t){if(!t)return null;const e=/^hwb\(\s*([+-]?\d{0,3}(?:\.\d+)?)(?:deg)?\s*[\s,]\s*([+-]?[\d.]+)%\s*[\s,]\s*([+-]?[\d.]+)%\s*(?:[\s,]\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:e[+-]?\d+)?)\s*)?\)$/i,i=t.match(e);if(i){const r=Number.parseFloat(i[4]),n=(Number.parseFloat(i[1])%360+360)%360,s=Nm(Number.parseFloat(i[2]),0,100),o=Nm(Number.parseFloat(i[3]),0,100),a=Nm(Number.isNaN(r)?1:r,0,1);return[n,s,o,a]}return null};jn.to.hex=function(...t){return"#"+_C(t[0])+_C(t[1])+_C(t[2])+(t[3]<1?_C(Math.round(t[3]*255)):"")};jn.to.rgb=function(...t){return t.length<4||t[3]===1?"rgb("+Math.round(t[0])+", "+Math.round(t[1])+", "+Math.round(t[2])+")":"rgba("+Math.round(t[0])+", "+Math.round(t[1])+", "+Math.round(t[2])+", "+t[3]+")"};jn.to.rgb.percent=function(...t){const e=Math.round(t[0]/255*100),i=Math.round(t[1]/255*100),r=Math.round(t[2]/255*100);return t.length<4||t[3]===1?"rgb("+e+"%, "+i+"%, "+r+"%)":"rgba("+e+"%, "+i+"%, "+r+"%, "+t[3]+")"};jn.to.hsl=function(...t){return t.length<4||t[3]===1?"hsl("+t[0]+", "+t[1]+"%, "+t[2]+"%)":"hsla("+t[0]+", "+t[1]+"%, "+t[2]+"%, "+t[3]+")"};jn.to.hwb=function(...t){let e="";return t.length>=4&&t[3]!==1&&(e=", "+t[3]),"hwb("+t[0]+", "+t[1]+"%, "+t[2]+"%"+e+")"};jn.to.keyword=function(...t){return Uge[t.slice(0,3)]};function Nm(t,e,i){return Math.min(Math.max(e,t),i)}function _C(t){const e=Math.round(t).toString(16).toUpperCase();return e.length<2?"0"+e:e}const qV={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]};for(const t in qV)Object.freeze(qV[t]);const I$=Object.freeze(qV),Bge={};for(const t of Object.keys(I$))Bge[I$[t]]=t;const et={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},oklab:{channels:3,labels:["okl","oka","okb"]},lch:{channels:3,labels:"lch"},oklch:{channels:3,labels:["okl","okc","okh"]},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}},Op=(6/29)**3;function l_(t){const e=t>.0031308?1.055*t**.4166666666666667-.055:t*12.92;return Math.min(Math.max(0,e),1)}function c_(t){return t>.04045?((t+.055)/1.055)**2.4:t/12.92}for(const t of Object.keys(et)){if(!("channels"in et[t]))throw new Error("missing channels property: "+t);if(!("labels"in et[t]))throw new Error("missing channel labels property: "+t);if(et[t].labels.length!==et[t].channels)throw new Error("channel and label counts mismatch: "+t);const{channels:e,labels:i}=et[t];delete et[t].channels,delete et[t].labels,Object.defineProperty(et[t],"channels",{value:e}),Object.defineProperty(et[t],"labels",{value:i})}et.rgb.hsl=function(t){const e=t[0]/255,i=t[1]/255,r=t[2]/255,n=Math.min(e,i,r),s=Math.max(e,i,r),o=s-n;let a,l;switch(s){case n:{a=0;break}case e:{a=(i-r)/o;break}case i:{a=2+(r-e)/o;break}case r:{a=4+(e-i)/o;break}}a=Math.min(a*60,360),a<0&&(a+=360);const h=(n+s)/2;return s===n?l=0:h<=.5?l=o/(s+n):l=o/(2-s-n),[a,l*100,h*100]};et.rgb.hsv=function(t){let e,i,r,n,s;const o=t[0]/255,a=t[1]/255,l=t[2]/255,h=Math.max(o,a,l),f=h-Math.min(o,a,l),g=function(v){return(h-v)/6/f+1/2};if(f===0)n=0,s=0;else{switch(s=f/h,e=g(o),i=g(a),r=g(l),h){case o:{n=r-i;break}case a:{n=1/3+e-r;break}case l:{n=2/3+i-e;break}}n<0?n+=1:n>1&&(n-=1)}return[n*360,s*100,h*100]};et.rgb.hwb=function(t){const e=t[0],i=t[1];let r=t[2];const n=et.rgb.hsl(t)[0],s=1/255*Math.min(e,Math.min(i,r));return r=1-1/255*Math.max(e,Math.max(i,r)),[n,s*100,r*100]};et.rgb.oklab=function(t){const e=c_(t[0]/255),i=c_(t[1]/255),r=c_(t[2]/255),n=Math.cbrt(.4122214708*e+.5363325363*i+.0514459929*r),s=Math.cbrt(.2119034982*e+.6806995451*i+.1073969566*r),o=Math.cbrt(.0883024619*e+.2817188376*i+.6299787005*r),a=.2104542553*n+.793617785*s-.0040720468*o,l=1.9779984951*n-2.428592205*s+.4505937099*o,h=.0259040371*n+.7827717662*s-.808675766*o;return[a*100,l*100,h*100]};et.rgb.cmyk=function(t){const e=t[0]/255,i=t[1]/255,r=t[2]/255,n=Math.min(1-e,1-i,1-r),s=(1-e-n)/(1-n)||0,o=(1-i-n)/(1-n)||0,a=(1-r-n)/(1-n)||0;return[s*100,o*100,a*100,n*100]};function GQe(t,e){return(t[0]-e[0])**2+(t[1]-e[1])**2+(t[2]-e[2])**2}et.rgb.keyword=function(t){const e=Bge[t];if(e)return e;let i=Number.POSITIVE_INFINITY,r;for(const n of Object.keys(I$)){const s=I$[n],o=GQe(t,s);o<i&&(i=o,r=n)}return r};et.keyword.rgb=function(t){return[...I$[t]]};et.rgb.xyz=function(t){const e=c_(t[0]/255),i=c_(t[1]/255),r=c_(t[2]/255),n=e*.4124564+i*.3575761+r*.1804375,s=e*.2126729+i*.7151522+r*.072175,o=e*.0193339+i*.119192+r*.9503041;return[n*100,s*100,o*100]};et.rgb.lab=function(t){const e=et.rgb.xyz(t);let i=e[0],r=e[1],n=e[2];i/=95.047,r/=100,n/=108.883,i=i>Op?i**(1/3):7.787*i+16/116,r=r>Op?r**(1/3):7.787*r+16/116,n=n>Op?n**(1/3):7.787*n+16/116;const s=116*r-16,o=500*(i-r),a=200*(r-n);return[s,o,a]};et.hsl.rgb=function(t){const e=t[0]/360,i=t[1]/100,r=t[2]/100;let n,s;if(i===0)return s=r*255,[s,s,s];const o=r<.5?r*(1+i):r+i-r*i,a=2*r-o,l=[0,0,0];for(let h=0;h<3;h++)n=e+1/3*-(h-1),n<0&&n++,n>1&&n--,6*n<1?s=a+(o-a)*6*n:2*n<1?s=o:3*n<2?s=a+(o-a)*(2/3-n)*6:s=a,l[h]=s*255;return l};et.hsl.hsv=function(t){const e=t[0];let i=t[1]/100,r=t[2]/100,n=i;const s=Math.max(r,.01);r*=2,i*=r<=1?r:2-r,n*=s<=1?s:2-s;const o=(r+i)/2,a=r===0?2*n/(s+n):2*i/(r+i);return[e,a*100,o*100]};et.hsv.rgb=function(t){const e=t[0]/60,i=t[1]/100;let r=t[2]/100;const n=Math.floor(e)%6,s=e-Math.floor(e),o=255*r*(1-i),a=255*r*(1-i*s),l=255*r*(1-i*(1-s));switch(r*=255,n){case 0:return[r,l,o];case 1:return[a,r,o];case 2:return[o,r,l];case 3:return[o,a,r];case 4:return[l,o,r];case 5:return[r,o,a]}};et.hsv.hsl=function(t){const e=t[0],i=t[1]/100,r=t[2]/100,n=Math.max(r,.01);let s,o;o=(2-i)*r;const a=(2-i)*n;return s=i*n,s/=a<=1?a:2-a,s=s||0,o/=2,[e,s*100,o*100]};et.hwb.rgb=function(t){const e=t[0]/360;let i=t[1]/100,r=t[2]/100;const n=i+r;let s;n>1&&(i/=n,r/=n);const o=Math.floor(6*e),a=1-r;s=6*e-o,(o&1)!==0&&(s=1-s);const l=i+s*(a-i);let h,f,g;switch(o){default:case 6:case 0:{h=a,f=l,g=i;break}case 1:{h=l,f=a,g=i;break}case 2:{h=i,f=a,g=l;break}case 3:{h=i,f=l,g=a;break}case 4:{h=l,f=i,g=a;break}case 5:{h=a,f=i,g=l;break}}return[h*255,f*255,g*255]};et.cmyk.rgb=function(t){const e=t[0]/100,i=t[1]/100,r=t[2]/100,n=t[3]/100,s=1-Math.min(1,e*(1-n)+n),o=1-Math.min(1,i*(1-n)+n),a=1-Math.min(1,r*(1-n)+n);return[s*255,o*255,a*255]};et.xyz.rgb=function(t){const e=t[0]/100,i=t[1]/100,r=t[2]/100;let n,s,o;return n=e*3.2404542+i*-1.5371385+r*-.4985314,s=e*-.969266+i*1.8760108+r*.041556,o=e*.0556434+i*-.2040259+r*1.0572252,n=l_(n),s=l_(s),o=l_(o),[n*255,s*255,o*255]};et.xyz.lab=function(t){let e=t[0],i=t[1],r=t[2];e/=95.047,i/=100,r/=108.883,e=e>Op?e**(1/3):7.787*e+16/116,i=i>Op?i**(1/3):7.787*i+16/116,r=r>Op?r**(1/3):7.787*r+16/116;const n=116*i-16,s=500*(e-i),o=200*(i-r);return[n,s,o]};et.xyz.oklab=function(t){const e=t[0]/100,i=t[1]/100,r=t[2]/100,n=Math.cbrt(.8189330101*e+.3618667424*i-.1288597137*r),s=Math.cbrt(.0329845436*e+.9293118715*i+.0361456387*r),o=Math.cbrt(.0482003018*e+.2643662691*i+.633851707*r),a=.2104542553*n+.793617785*s-.0040720468*o,l=1.9779984951*n-2.428592205*s+.4505937099*o,h=.0259040371*n+.7827717662*s-.808675766*o;return[a*100,l*100,h*100]};et.oklab.oklch=function(t){return et.lab.lch(t)};et.oklab.xyz=function(t){const e=t[0]/100,i=t[1]/100,r=t[2]/100,n=(.999999998*e+.396337792*i+.215803758*r)**3,s=(1.000000008*e-.105561342*i-.063854175*r)**3,o=(1.000000055*e-.089484182*i-1.291485538*r)**3,a=1.227013851*n-.55779998*s+.281256149*o,l=-.040580178*n+1.11225687*s-.071676679*o,h=-.076381285*n-.421481978*s+1.58616322*o;return[a*100,l*100,h*100]};et.oklab.rgb=function(t){const e=t[0]/100,i=t[1]/100,r=t[2]/100,n=(e+.3963377774*i+.2158037573*r)**3,s=(e-.1055613458*i-.0638541728*r)**3,o=(e-.0894841775*i-1.291485548*r)**3,a=l_(4.0767416621*n-3.3077115913*s+.2309699292*o),l=l_(-1.2684380046*n+2.6097574011*s-.3413193965*o),h=l_(-.0041960863*n-.7034186147*s+1.707614701*o);return[a*255,l*255,h*255]};et.oklch.oklab=function(t){return et.lch.lab(t)};et.lab.xyz=function(t){const e=t[0],i=t[1],r=t[2];let n,s,o;s=(e+16)/116,n=i/500+s,o=s-r/200;const a=s**3,l=n**3,h=o**3;return s=a>Op?a:(s-16/116)/7.787,n=l>Op?l:(n-16/116)/7.787,o=h>Op?h:(o-16/116)/7.787,n*=95.047,s*=100,o*=108.883,[n,s,o]};et.lab.lch=function(t){const e=t[0],i=t[1],r=t[2];let n;n=Math.atan2(r,i)*360/2/Math.PI,n<0&&(n+=360);const o=Math.sqrt(i*i+r*r);return[e,o,n]};et.lch.lab=function(t){const e=t[0],i=t[1],n=t[2]/360*2*Math.PI,s=i*Math.cos(n),o=i*Math.sin(n);return[e,s,o]};et.rgb.ansi16=function(t,e=null){const[i,r,n]=t;let s=e===null?et.rgb.hsv(t)[2]:e;if(s=Math.round(s/50),s===0)return 30;let o=30+(Math.round(n/255)<<2|Math.round(r/255)<<1|Math.round(i/255));return s===2&&(o+=60),o};et.hsv.ansi16=function(t){return et.rgb.ansi16(et.hsv.rgb(t),t[2])};et.rgb.ansi256=function(t){const e=t[0],i=t[1],r=t[2];return e>>4===i>>4&&i>>4===r>>4?e<8?16:e>248?231:Math.round((e-8)/247*24)+232:16+36*Math.round(e/255*5)+6*Math.round(i/255*5)+Math.round(r/255*5)};et.ansi16.rgb=function(t){t=t[0];let e=t%10;if(e===0||e===7)return t>50&&(e+=3.5),e=e/10.5*255,[e,e,e];const i=(Math.trunc(t>50)+1)*.5,r=(e&1)*i*255,n=(e>>1&1)*i*255,s=(e>>2&1)*i*255;return[r,n,s]};et.ansi256.rgb=function(t){if(t=t[0],t>=232){const s=(t-232)*10+8;return[s,s,s]}t-=16;let e;const i=Math.floor(t/36)/5*255,r=Math.floor((e=t%36)/6)/5*255,n=e%6/5*255;return[i,r,n]};et.rgb.hex=function(t){const i=(((Math.round(t[0])&255)<<16)+((Math.round(t[1])&255)<<8)+(Math.round(t[2])&255)).toString(16).toUpperCase();return"000000".slice(i.length)+i};et.hex.rgb=function(t){const e=t.toString(16).match(/[a-f\d]{6}|[a-f\d]{3}/i);if(!e)return[0,0,0];let i=e[0];e[0].length===3&&(i=[...i].map(a=>a+a).join(""));const r=Number.parseInt(i,16),n=r>>16&255,s=r>>8&255,o=r&255;return[n,s,o]};et.rgb.hcg=function(t){const e=t[0]/255,i=t[1]/255,r=t[2]/255,n=Math.max(Math.max(e,i),r),s=Math.min(Math.min(e,i),r),o=n-s;let a;const l=o<1?s/(1-o):0;return o<=0?a=0:n===e?a=(i-r)/o%6:n===i?a=2+(r-e)/o:a=4+(e-i)/o,a/=6,a%=1,[a*360,o*100,l*100]};et.hsl.hcg=function(t){const e=t[1]/100,i=t[2]/100,r=i<.5?2*e*i:2*e*(1-i);let n=0;return r<1&&(n=(i-.5*r)/(1-r)),[t[0],r*100,n*100]};et.hsv.hcg=function(t){const e=t[1]/100,i=t[2]/100,r=e*i;let n=0;return r<1&&(n=(i-r)/(1-r)),[t[0],r*100,n*100]};et.hcg.rgb=function(t){const e=t[0]/360,i=t[1]/100,r=t[2]/100;if(i===0)return[r*255,r*255,r*255];const n=[0,0,0],s=e%1*6,o=s%1,a=1-o;let l=0;switch(Math.floor(s)){case 0:{n[0]=1,n[1]=o,n[2]=0;break}case 1:{n[0]=a,n[1]=1,n[2]=0;break}case 2:{n[0]=0,n[1]=1,n[2]=o;break}case 3:{n[0]=0,n[1]=a,n[2]=1;break}case 4:{n[0]=o,n[1]=0,n[2]=1;break}default:n[0]=1,n[1]=0,n[2]=a}return l=(1-i)*r,[(i*n[0]+l)*255,(i*n[1]+l)*255,(i*n[2]+l)*255]};et.hcg.hsv=function(t){const e=t[1]/100,i=t[2]/100,r=e+i*(1-e);let n=0;return r>0&&(n=e/r),[t[0],n*100,r*100]};et.hcg.hsl=function(t){const e=t[1]/100,r=t[2]/100*(1-e)+.5*e;let n=0;return r>0&&r<.5?n=e/(2*r):r>=.5&&r<1&&(n=e/(2*(1-r))),[t[0],n*100,r*100]};et.hcg.hwb=function(t){const e=t[1]/100,i=t[2]/100,r=e+i*(1-e);return[t[0],(r-e)*100,(1-r)*100]};et.hwb.hcg=function(t){const e=t[1]/100,r=1-t[2]/100,n=r-e;let s=0;return n<1&&(s=(r-n)/(1-n)),[t[0],n*100,s*100]};et.apple.rgb=function(t){return[t[0]/65535*255,t[1]/65535*255,t[2]/65535*255]};et.rgb.apple=function(t){return[t[0]/255*65535,t[1]/255*65535,t[2]/255*65535]};et.gray.rgb=function(t){return[t[0]/100*255,t[0]/100*255,t[0]/100*255]};et.gray.hsl=function(t){return[0,0,t[0]]};et.gray.hsv=et.gray.hsl;et.gray.hwb=function(t){return[0,100,t[0]]};et.gray.cmyk=function(t){return[0,0,0,t[0]]};et.gray.lab=function(t){return[t[0],0,0]};et.gray.hex=function(t){const e=Math.round(t[0]/100*255)&255,r=((e<<16)+(e<<8)+e).toString(16).toUpperCase();return"000000".slice(r.length)+r};et.rgb.gray=function(t){return[(t[0]+t[1]+t[2])/3/255*100]};function WQe(){const t={},e=Object.keys(et);for(let{length:i}=e,r=0;r<i;r++)t[e[r]]={distance:-1,parent:null};return t}function YQe(t){const e=WQe(),i=[t];for(e[t].distance=0;i.length>0;){const r=i.pop(),n=Object.keys(et[r]);for(let{length:s}=n,o=0;o<s;o++){const a=n[o],l=e[a];l.distance===-1&&(l.distance=e[r].distance+1,l.parent=r,i.unshift(a))}}return e}function ZQe(t,e){return function(i){return e(t(i))}}function JQe(t,e){const i=[e[t].parent,t];let r=et[e[t].parent][t],n=e[t].parent;for(;e[n].parent;)i.unshift(e[n].parent),r=ZQe(et[e[n].parent][n],r),n=e[n].parent;return r.conversion=i,r}function XQe(t){const e=YQe(t),i={},r=Object.keys(e);for(let{length:n}=r,s=0;s<n;s++){const o=r[s];e[o].parent!==null&&(i[o]=JQe(o,e))}return i}const ls={},KQe=Object.keys(et);function QQe(t){const e=function(...i){const r=i[0];return r==null?r:(r.length>1&&(i=r),t(i))};return"conversion"in t&&(e.conversion=t.conversion),e}function eet(t){const e=function(...i){const r=i[0];if(r==null)return r;r.length>1&&(i=r);const n=t(i);if(typeof n=="object")for(let{length:s}=n,o=0;o<s;o++)n[o]=Math.round(n[o]);return n};return"conversion"in t&&(e.conversion=t.conversion),e}for(const t of KQe){ls[t]={},Object.defineProperty(ls[t],"channels",{value:et[t].channels}),Object.defineProperty(ls[t],"labels",{value:et[t].labels});const e=XQe(t),i=Object.keys(e);for(const r of i){const n=e[r];ls[t][r]=eet(n),ls[t][r].raw=QQe(n)}}const Hge=["keyword","gray","hex"],GV={};for(const t of Object.keys(ls))GV[[...ls[t].labels].sort().join("")]=t;const WV={};function as(t,e){if(!(this instanceof as))return new as(t,e);if(e&&e in Hge&&(e=null),e&&!(e in ls))throw new Error("Unknown model: "+e);let i,r;if(t==null)this.model="rgb",this.color=[0,0,0],this.valpha=1;else if(t instanceof as)this.model=t.model,this.color=[...t.color],this.valpha=t.valpha;else if(typeof t=="string"){const n=jn.get(t);if(n===null)throw new Error("Unable to parse color from string: "+t);this.model=n.model,r=ls[this.model].channels,this.color=n.value.slice(0,r),this.valpha=typeof n.value[r]=="number"?n.value[r]:1}else if(t.length>0){this.model=e||"rgb",r=ls[this.model].channels;const n=Array.prototype.slice.call(t,0,r);this.color=YV(n,r),this.valpha=typeof t[r]=="number"?t[r]:1}else if(typeof t=="number")this.model="rgb",this.color=[t>>16&255,t>>8&255,t&255],this.valpha=1;else{this.valpha=1;const n=Object.keys(t);"alpha"in t&&(n.splice(n.indexOf("alpha"),1),this.valpha=typeof t.alpha=="number"?t.alpha:0);const s=n.sort().join("");if(!(s in GV))throw new Error("Unable to parse color from object: "+JSON.stringify(t));this.model=GV[s];const{labels:o}=ls[this.model],a=[];for(i=0;i<o.length;i++)a.push(t[o[i]]);this.color=YV(a)}if(WV[this.model])for(r=ls[this.model].channels,i=0;i<r;i++){const n=WV[this.model][i];n&&(this.color[i]=n(this.color[i]))}this.valpha=Math.max(0,Math.min(1,this.valpha)),Object.freeze&&Object.freeze(this)}as.prototype={toString(){return this.string()},toJSON(){return this[this.model]()},string(t){let e=this.model in jn.to?this:this.rgb();e=e.round(typeof t=="number"?t:1);const i=e.valpha===1?e.color:[...e.color,this.valpha];return jn.to[e.model](...i)},percentString(t){const e=this.rgb().round(typeof t=="number"?t:1),i=e.valpha===1?e.color:[...e.color,this.valpha];return jn.to.rgb.percent(...i)},array(){return this.valpha===1?[...this.color]:[...this.color,this.valpha]},object(){const t={},{channels:e}=ls[this.model],{labels:i}=ls[this.model];for(let r=0;r<e;r++)t[i[r]]=this.color[r];return this.valpha!==1&&(t.alpha=this.valpha),t},unitArray(){const t=this.rgb().color;return t[0]/=255,t[1]/=255,t[2]/=255,this.valpha!==1&&t.push(this.valpha),t},unitObject(){const t=this.rgb().object();return t.r/=255,t.g/=255,t.b/=255,this.valpha!==1&&(t.alpha=this.valpha),t},round(t){return t=Math.max(t||0,0),new as([...this.color.map(iet(t)),this.valpha],this.model)},alpha(t){return t!==void 0?new as([...this.color,Math.max(0,Math.min(1,t))],this.model):this.valpha},red:Vr("rgb",0,Cn(255)),green:Vr("rgb",1,Cn(255)),blue:Vr("rgb",2,Cn(255)),hue:Vr(["hsl","hsv","hsl","hwb","hcg"],0,t=>(t%360+360)%360),saturationl:Vr("hsl",1,Cn(100)),lightness:Vr("hsl",2,Cn(100)),saturationv:Vr("hsv",1,Cn(100)),value:Vr("hsv",2,Cn(100)),chroma:Vr("hcg",1,Cn(100)),gray:Vr("hcg",2,Cn(100)),white:Vr("hwb",1,Cn(100)),wblack:Vr("hwb",2,Cn(100)),cyan:Vr("cmyk",0,Cn(100)),magenta:Vr("cmyk",1,Cn(100)),yellow:Vr("cmyk",2,Cn(100)),black:Vr("cmyk",3,Cn(100)),x:Vr("xyz",0,Cn(95.047)),y:Vr("xyz",1,Cn(100)),z:Vr("xyz",2,Cn(108.833)),l:Vr("lab",0,Cn(100)),a:Vr("lab",1),b:Vr("lab",2),keyword(t){return t!==void 0?new as(t):ls[this.model].keyword(this.color)},hex(t){return t!==void 0?new as(t):jn.to.hex(...this.rgb().round().color)},hexa(t){if(t!==void 0)return new as(t);const e=this.rgb().round().color;let i=Math.round(this.valpha*255).toString(16).toUpperCase();return i.length===1&&(i="0"+i),jn.to.hex(...e)+i},rgbNumber(){const t=this.rgb().color;return(t[0]&255)<<16|(t[1]&255)<<8|t[2]&255},luminosity(){const t=this.rgb().color,e=[];for(const[i,r]of t.entries()){const n=r/255;e[i]=n<=.04045?n/12.92:((n+.055)/1.055)**2.4}return .2126*e[0]+.7152*e[1]+.0722*e[2]},contrast(t){const e=this.luminosity(),i=t.luminosity();return e>i?(e+.05)/(i+.05):(i+.05)/(e+.05)},level(t){const e=this.contrast(t);return e>=7?"AAA":e>=4.5?"AA":""},isDark(){const t=this.rgb().color;return(t[0]*2126+t[1]*7152+t[2]*722)/1e4<128},isLight(){return!this.isDark()},negate(){const t=this.rgb();for(let e=0;e<3;e++)t.color[e]=255-t.color[e];return t},lighten(t){const e=this.hsl();return e.color[2]+=e.color[2]*t,e},darken(t){const e=this.hsl();return e.color[2]-=e.color[2]*t,e},saturate(t){const e=this.hsl();return e.color[1]+=e.color[1]*t,e},desaturate(t){const e=this.hsl();return e.color[1]-=e.color[1]*t,e},whiten(t){const e=this.hwb();return e.color[1]+=e.color[1]*t,e},blacken(t){const e=this.hwb();return e.color[2]+=e.color[2]*t,e},grayscale(){const t=this.rgb().color,e=t[0]*.3+t[1]*.59+t[2]*.11;return as.rgb(e,e,e)},fade(t){return this.alpha(this.valpha-this.valpha*t)},opaquer(t){return this.alpha(this.valpha+this.valpha*t)},rotate(t){const e=this.hsl();let i=e.color[0];return i=(i+t)%360,i=i<0?360+i:i,e.color[0]=i,e},mix(t,e){if(!t||!t.rgb)throw new Error('Argument to "mix" was not a Color instance, but rather an instance of '+typeof t);const i=t.rgb(),r=this.rgb(),n=e===void 0?.5:e,s=2*n-1,o=i.alpha()-r.alpha(),a=((s*o===-1?s:(s+o)/(1+s*o))+1)/2,l=1-a;return as.rgb(a*i.red()+l*r.red(),a*i.green()+l*r.green(),a*i.blue()+l*r.blue(),i.alpha()*n+r.alpha()*(1-n))}};for(const t of Object.keys(ls)){if(Hge.includes(t))continue;const{channels:e}=ls[t];as.prototype[t]=function(...i){return this.model===t?new as(this):i.length>0?new as(i,t):new as([...ret(ls[this.model][t].raw(this.color)),this.valpha],t)},as[t]=function(...i){let r=i[0];return typeof r=="number"&&(r=YV(i,e)),new as(r,t)}}function tet(t,e){return Number(t.toFixed(e))}function iet(t){return function(e){return tet(e,t)}}function Vr(t,e,i){t=Array.isArray(t)?t:[t];for(const r of t)(WV[r]||=[])[e]=i;return t=t[0],function(r){let n;return r!==void 0?(i&&(r=i(r)),n=this[t](),n.color[e]=r,n):(n=this[t]().color[e],i&&(n=i(n)),n)}}function Cn(t){return function(e){return Math.max(0,Math.min(t,e))}}function ret(t){return Array.isArray(t)?t:[t]}function YV(t,e){for(let i=0;i<e;i++)typeof t[i]!="number"&&(t[i]=0);return t}as("#007AC2");const net=/^#[0-9A-F]{3}$/i,set=/^#[0-9A-F]{6}$/i,oet=/^#[0-9A-F]{4}$/i,aet=/^#[0-9A-F]{8}$/i;function ZV(t,e=!1){return cet(t,e)||uet(t,e)}function qge(t,e,i){return t?t.length===e&&i.test(t):!1}function cet(t,e=!1){return qge(t,e?5:4,e?oet:net)}function uet(t,e=!1){return qge(t,e?9:7,e?aet:set)}function det(t,e=!1){if(!ZV(t,e))return null;t=t.replace("#","");let i,r,n,s;if(t.length===3||t.length===4){const[a,l,h,f]=t.split("");i=parseInt(`${a}${a}`,16),r=parseInt(`${l}${l}`,16),n=parseInt(`${h}${h}`,16),s=parseInt(`${f}${f}`,16)/255}else i=parseInt(t.slice(0,2),16),r=parseInt(t.slice(2,4),16),n=parseInt(t.slice(4,6),16),s=parseInt(t.slice(6,8),16)/255;return isNaN(s)?{r:i,g:r,b:n}:{r:i,g:r,b:n,a:s}}const xC={thumbnail:"thumbnail",background:"background",initials:"initials",icon:"icon"};function het(t){t=pet(t);let e=0;for(let r=0;r<t.length;r++)e=t.charCodeAt(r)+((e<<5)-e);let i="#";for(let r=0;r<3;r++){const n=e>>r*8&255;i+=("00"+n.toString(16)).substr(-2)}return i}function pet(t){const e=Math.floor(t.length/2),i=t.split("").reverse().join("");return i.substring(e)+i.slice(0,e)}function fet(t){let{r:e,g:i,b:r}=t;e/=255,i/=255,r/=255;const n=Math.max(e,i,r),s=Math.min(e,i,r),o=n-s;if(n===s)return 0;let a=(n+s)/2;switch(n){case e:a=(i-r)/o+(i<r?6:0);break;case i:a=(r-e)/o+2;break;case r:a=(e-i)/o+4;break}return Math.round(a*60)}function met(t){return fet(det(t))}const get=vi`:host{--calcite-internal-color-focus: var( --calcite-color-focus, var(--calcite-ui-focus-color, var(--calcite-color-brand)) )}:host{display:inline-block;overflow:hidden;border-radius:var(--calcite-avatar-corner-radius, 50%);color:var(--calcite-avatar-color, var(--calcite-color-text-2))}:host([scale=s]){block-size:1.5rem;inline-size:1.5rem;font-size:var(--calcite-font-size--3)}:host([scale=m]){block-size:2rem;inline-size:2rem;font-size:var(--calcite-font-size--2)}:host([scale=l]){block-size:2.75rem;inline-size:2.75rem;font-size:var(--calcite-font-size-0)}.icon{display:flex}.background{display:flex;block-size:100%;inline-size:100%;align-items:center;justify-content:center;border-radius:var(--calcite-avatar-corner-radius, 50%)}.initials{font-weight:var(--calcite-font-weight-bold);text-transform:uppercase}.thumbnail{block-size:100%;inline-size:100%;border-radius:var(--calcite-avatar-corner-radius, 50%)}:host([hidden]){display:none}[hidden]{display:none}`,tD=class tD extends wi{constructor(){super(...arguments),this.thumbnailFailedToLoad=!1,this.scale="m"}determineContent(){if(this.thumbnail&&!this.thumbnailFailedToLoad)return de`<img alt=${(this.label||"")??oc} class=${ce(xC.thumbnail)} @error=${()=>this.thumbnailFailedToLoad=!0} src=${this.thumbnail??oc}>`;const e=this.generateInitials(),i=this.generateFillColor();return de`<span .ariaLabel=${this.label||this.fullName} class=${ce(xC.background)} role=figure style=${lU({backgroundColor:i})}>${e?de`<span aria-hidden=true class=${ce(xC.initials)}>${e}</span>`:de`<calcite-icon class=${ce(xC.icon)} icon=user .scale=${this.scale}></calcite-icon>`}</span>`}generateFillColor(){const{userId:e,username:i,fullName:r,el:n}=this,s=dke(n),o=e&&`#${e.substr(e.length-6)}`,a=i||r||"",l=o&&ZV(o)?o:het(a);return!e&&!a||!ZV(l)?"var(--calcite-avatar-background-color, var(--calcite-color-foreground-2))":`var(--calcite-avatar-background-color, hsl(${met(l)}, 60%, ${s==="dark"?20:90}%))`}generateInitials(){const{fullName:e,username:i}=this;return e?e.trim().split(" ").map(r=>r.substring(0,1)).join(""):i?i.substring(0,2):!1}render(){return this.determineContent()}};tD.properties={thumbnailFailedToLoad:[16,{},{state:!0}],fullName:[3,{},{reflect:!0}],label:1,scale:[3,{},{reflect:!0}],thumbnail:[3,{},{reflect:!0}],userId:[3,{},{reflect:!0}],username:[3,{},{reflect:!0}]},tD.styles=get;let JV=tD;Pi("calcite-avatar",JV);const C$={menuActions:"menu-actions",menuTooltip:"menu-tooltip"},yet={menu:"ellipsis"},vet={container:"container"};const bet=vi`:host{--calcite-internal-color-focus: var( --calcite-color-focus, var(--calcite-ui-focus-color, var(--calcite-color-brand)) )}:host{box-sizing:border-box;background-color:var(--calcite-color-foreground-1);color:var(--calcite-color-text-2);font-size:var(--calcite-font-size--1)}:host *{box-sizing:border-box}:host{display:flex;flex-direction:column;padding:0;background-color:transparent;border-color:var(--calcite-action-group-border-color, var(--calcite-color-border-3));border-style:solid;border-width:0}.container{display:flex;flex-grow:1;flex-direction:column}:host([columns="1"]){--calcite-internal-action-group-columns: 1}:host([columns="2"]){--calcite-internal-action-group-columns: 2}:host([columns="3"]){--calcite-internal-action-group-columns: 3}:host([columns="4"]){--calcite-internal-action-group-columns: 4}:host([columns="5"]){--calcite-internal-action-group-columns: 5}:host([columns="6"]){--calcite-internal-action-group-columns: 6}:host(:first-child){padding-block-start:0px}:host([layout=horizontal]),:host([layout=horizontal]) .container{flex-direction:row}:host([layout=grid]){display:grid}:host([layout=grid]) .container{display:grid;place-content:stretch;background-color:transparent;grid-template-columns:repeat(var(--calcite-action-group-columns, var(--calcite-internal-action-group-columns, 3)),auto);gap:var(--calcite-action-group-gap, 1px);padding:var(--calcite-action-group-gap, 1px)}:host([layout=horizontal]) ::slotted(calcite-action-group){border-inline-end:var(--calcite-size-px)}:host([hidden]){display:none}[hidden]{display:none}`,x2=class x2 extends wi{constructor(){super(...arguments),this.messages=ds(),this.focusSetter=Ns()(this),this.hasMenuActions=!1,this.expanded=!1,this.layout="vertical",this.menuOpen=!1,this.overlayPositioning="absolute",this.scale="m",this.calciteActionGroupCollapse=Ge({cancelable:!1}),this.calciteActionGroupExpand=Ge({cancelable:!1})}async setFocus(e){return this.focusSetter(()=>this.el,e)}willUpdate(e){e.has("expanded")&&((this.hasUpdated||this.expanded!==!1)&&(this.menuOpen=!1),this.hasUpdated&&(this.expanded?this.calciteActionGroupExpand.emit():this.calciteActionGroupCollapse.emit()))}setMenuOpen(e){this.menuOpen=!!e.currentTarget.open}handleMenuActionsSlotChange(e){this.hasMenuActions=ri(e)}renderMenu(){const{expanded:e,menuOpen:i,scale:r,layout:n,messages:s,overlayPositioning:o,hasMenuActions:a,menuFlipPlacements:l,menuPlacement:h}=this;return de`<calcite-action-menu .expanded=${e} .flipPlacements=${l??(n==="horizontal"?["top","bottom"]:["left","right"])} .hidden=${!a} .label=${s.more} @calciteActionMenuOpen=${this.setMenuOpen} .open=${i} .overlayPositioning=${o} .placement=${h??(n==="horizontal"?"bottom-start":"leading-start")} .scale=${r}><calcite-action .aria=${{expanded:e}} .icon=${yet.menu} .scale=${r} slot=${h1.trigger} .text=${s.more} .textEnabled=${e}></calcite-action><slot name=${C$.menuActions} @slotchange=${this.handleMenuActionsSlotChange}></slot><slot name=${C$.menuTooltip} slot=${h1.tooltip}></slot></calcite-action-menu>`}render(){return de`<div .ariaLabel=${this.label} class=${ce(vet.container)} role=group><slot></slot>${this.renderMenu()}</div>`}};x2.properties={hasMenuActions:[16,{},{state:!0}],columns:[11,{},{type:Number,reflect:!0}],expanded:[7,{},{reflect:!0,type:Boolean}],label:1,layout:[3,{},{reflect:!0}],menuFlipPlacements:[0,{},{attribute:!1}],menuOpen:[7,{},{reflect:!0,type:Boolean}],menuPlacement:[3,{},{reflect:!0}],messageOverrides:[0,{},{attribute:!1}],overlayPositioning:[3,{},{reflect:!0}],scale:[3,{},{reflect:!0}]},x2.shadowRootOptions={mode:"open",delegatesFocus:!0},x2.styles=bet;let EP=x2;Pi("calcite-action-group",EP);const Gft=Object.freeze(Object.defineProperty({__proto__:null,ActionGroup:EP},Symbol.toStringTag,{value:"Module"}));const T7=t=>Array.from(t.querySelectorAll("calcite-action")).filter(e=>e.closest("calcite-action-menu")?e.slot===h1.trigger:!0),wet=({actionGroups:t,expanded:e,overflowCount:i})=>{let r=i;t.reverse().forEach(n=>{let s=0;const o=T7(n).reverse();o.forEach(a=>{a.slot===C$.menuActions&&(a.removeAttribute("slot"),a.textEnabled=e)}),r>0&&o.some(a=>(o.filter(h=>!h.slot).length>1&&o.length>2&&!a.closest("calcite-action-menu")&&(a.textEnabled=!0,a.setAttribute("slot",C$.menuActions),s++,s>1&&r--),r<1)),n.manager.component.requestUpdate()})},Gte={chevronsLeft:"chevrons-left",chevronsRight:"chevrons-right"};function _et(t,e){return t||e.closest("calcite-shell-panel")?.position||"start"}function xet({el:t,expanded:e}){T7(t).filter(i=>i.slot!==C$.menuActions).forEach(i=>i.textEnabled=e),t.querySelectorAll("calcite-action-group, calcite-action-menu").forEach(i=>i.expanded=e)}const Tet=({tooltip:t,referenceElement:e,expanded:i,ref:r})=>(t&&(t.referenceElement=!i&&e?e:null),r&&r(e),e),$et=({expanded:t,expandText:e,collapseText:i,expandLabel:r,collapseLabel:n,toggle:s,el:o,position:a,tooltip:l,ref:h,scale:f})=>{const g=pl(o)==="rtl",v=t?i:e,w=t?n:r,S=[Gte.chevronsLeft,Gte.chevronsRight];g&&S.reverse();const T=_et(a,o)==="end",C=T?S[1]:S[0],I=T?S[0]:S[1];return de`<calcite-action .aria=${{expanded:t}} .icon=${t?C:I} id=expand-toggle .label=${w} @click=${s} .scale=${f} .text=${v} .textEnabled=${t} title=${(!t&&!l?v:null)??Ye} ${Ut(P=>Tet({tooltip:l,referenceElement:P,expanded:t,ref:h}))}></calcite-action>`};const ket=({bufferSize:t=0,containerSize:e,itemSizes:i})=>{const r=e-t;let n=i.length,s=0;for(const[o,a]of i.entries())if(s=s+a,s>r){n=o;break}else continue;return n},Eet=({bufferSize:t=0,containerSize:e,itemSizes:i})=>Math.max(i.length-ket({bufferSize:t,itemSizes:i,containerSize:e}),0),Wte={container:"container",actionGroupEnd:"action-group--end"},FN={actionsEnd:"actions-end",bottomActions:"bottom-actions",expandTooltip:"expand-tooltip"},Iet=vi`:host{--calcite-internal-color-focus: var( --calcite-color-focus, var(--calcite-ui-focus-color, var(--calcite-color-brand)) )}:host{box-sizing:border-box;background-color:var(--calcite-color-foreground-1);color:var(--calcite-color-text-2);font-size:var(--calcite-font-size--1)}:host *{box-sizing:border-box}:host{display:inline-flex;align-self:stretch;background:transparent}.container{display:inline-flex;flex:1 1 auto;flex-direction:column;gap:var(--calcite-action-bar-items-space, 0);background-color:var(--calcite-action-bar-background-color, var(--calcite-color-foreground-1))}@keyframes in{0%{opacity:0}to{opacity:1}}:host([floating]) .container{animation:in var(--calcite-internal-animation-timing-slow) ease-in-out;overflow:hidden;border-radius:var(--calcite-action-bar-corner-radius, var(--calcite-corner-radius-round));--tw-shadow: 0 6px 20px -4px rgba(0, 0, 0, .1), 0 4px 12px -2px rgba(0, 0, 0, .08);--tw-shadow-colored: 0 6px 20px -4px var(--tw-shadow-color), 0 4px 12px -2px var(--tw-shadow-color);box-shadow:var(--calcite-action-bar-shadow, var(--tw-ring-offset-shadow, 0 0 rgba(0, 0, 0, 0)), var(--tw-ring-shadow, 0 0 rgba(0, 0, 0, 0)), var(--tw-shadow))}:host([layout=vertical]){flex-direction:column}:host([layout=vertical]):host([overflow-actions-disabled]) .container{overflow-y:auto}:host([layout=vertical]):host([expanded]) .container{max-inline-size:var(--calcite-action-bar-expanded-max-width, auto)}:host([layout=vertical]) .action-group--end{margin-block-start:auto}:host([layout=vertical]) ::slotted(calcite-action-group:not(:last-of-type)){border-block-end-width:var(--calcite-border-width-sm)}:host([layout=horizontal]){flex-direction:row}:host([layout=horizontal]) .container{flex-direction:row}:host([layout=horizontal]):host([overflow-actions-disabled]) .container{overflow-x:auto}:host([layout=horizontal]) .action-group--end{margin-inline-start:auto}:host([layout=horizontal]) ::slotted(calcite-action-group:not(:last-of-type)){border-inline-end-width:var(--calcite-border-width-sm)}.action-group--end{justify-content:flex-end}:host([hidden]){display:none}[hidden]{display:none}`,iD=class iD extends wi{constructor(){super(),this.mutationObserver=zs("mutation",()=>this.mutationObserverHandler()),this.cancelable=b7()(this),this.resize=L3(({width:e,height:i})=>{const{expanded:r,expandDisabled:n,layout:s,overflowActionsDisabled:o,actionGroups:a}=this;if(o||s==="vertical"&&!i||s==="horizontal"&&!e)return;const l=this.getItemSizes();this.updateGroups();const h=this.hasActionsEnd||this.hasBottomActions||!n?a.length+1:a.length,f=Eet({bufferSize:h,containerSize:s==="horizontal"?e:i,itemSizes:l});wet({actionGroups:a,expanded:r,overflowCount:f})},ED.resize),this.resizeHandler=e=>{const{width:i,height:r}=e.contentRect;this.resize({width:i,height:r})},this.resizeObserver=zs("resize",e=>this.resizeHandlerEntries(e)),this.toggleExpand=()=>{this.expanded=!this.expanded,this.calciteActionBarToggle.emit()},this.messages=ds(),this.focusSetter=Ns()(this),this.hasActionsEnd=!1,this.hasBottomActions=!1,this.floating=!1,this.expandDisabled=!1,this.expanded=!1,this.layout="vertical",this.overflowActionsDisabled=!1,this.overlayPositioning="absolute",this.scale="m",this.calciteActionBarCollapse=Ge({cancelable:!1}),this.calciteActionBarExpand=Ge({cancelable:!1}),this.calciteActionBarToggle=Ge({cancelable:!1}),this.listen("calciteActionMenuOpen",this.actionMenuOpenHandler)}async overflowActions(){this.resize({width:this.el.clientWidth,height:this.el.clientHeight})}async setFocus(e){return this.focusSetter(()=>this.el,e)}connectedCallback(){super.connectedCallback(),this.updateGroups(),this.overflowActions(),this.mutationObserver?.observe(this.el,{childList:!0,subtree:!0}),this.overflowActionsDisabledHandler(this.overflowActionsDisabled),this.cancelable.add(this.resize)}willUpdate(e){e.has("expandDisabled")&&(this.hasUpdated||this.expandDisabled!==!1)&&this.overflowActions(),e.has("layout")&&(this.hasUpdated||this.layout!=="vertical")&&this.updateGroups(),e.has("overflowActionsDisabled")&&(this.hasUpdated||this.overflowActionsDisabled!==!1)&&this.overflowActionsDisabledHandler(this.overflowActionsDisabled),e.has("expanded")&&this.hasUpdated&&(this.expandedHandler(),this.expanded?this.calciteActionBarExpand.emit():this.calciteActionBarCollapse.emit())}loaded(){this.overflowActions()}disconnectedCallback(){super.disconnectedCallback(),this.mutationObserver?.disconnect(),this.resizeObserver?.disconnect()}getItemSizes(){const{el:e,layout:i,expandToggleEl:r}=this,n=T7(e);r&&n.push(r);const s=i==="horizontal"?"clientWidth":"clientHeight",o=Math.max(...n.map(a=>a[s]||0));return n.map(a=>a[s]||o)}expandedHandler(){const{el:e,expanded:i}=this;xet({el:e,expanded:i}),this.overflowActions()}overflowActionsDisabledHandler(e){if(e){this.resizeObserver?.disconnect();return}this.resizeObserver?.observe(this.el),this.overflowActions()}actionMenuOpenHandler(e){if(e.target.menuOpen){const i=e.composedPath();this.actionGroups?.forEach(r=>{i.includes(r)||(r.menuOpen=!1)})}}mutationObserverHandler(){this.updateGroups(),this.overflowActions()}resizeHandlerEntries(e){e.forEach(this.resizeHandler)}updateGroups(){const e=Array.from(this.el.querySelectorAll("calcite-action-group"));this.actionGroups=e,e.forEach(i=>{i.layout=this.layout,i.scale=this.scale})}handleDefaultSlotChange(){this.updateGroups()}handleActionsEndSlotChange(e){this.hasActionsEnd=ri(e)}handleBottomActionsSlotChange(e){this.hasBottomActions=ri(e)}handleTooltipSlotChange(e){const i=xd(e).filter(r=>r?.matches("calcite-tooltip"));this.expandTooltip=i[0]}renderBottomActionGroup(){const{expanded:e,expandDisabled:i,el:r,position:n,toggleExpand:s,scale:o,layout:a,messages:l,actionsEndGroupLabel:h,overlayPositioning:f}=this,g=i?null:$et({collapseLabel:l.collapseLabel,collapseText:l.collapse,el:r,expandLabel:l.expandLabel,expandText:l.expand,expanded:e,position:n,ref:v=>this.expandToggleEl=v,scale:o,toggle:s,tooltip:this.expandTooltip});return de`<calcite-action-group class=${ce(Wte.actionGroupEnd)} .hidden=${this.expandDisabled&&!(this.hasActionsEnd||this.hasBottomActions)} .label=${h} .layout=${a} .overlayPositioning=${f} .scale=${o}><slot name=${FN.actionsEnd} @slotchange=${this.handleActionsEndSlotChange}></slot><slot name=${FN.bottomActions} @slotchange=${this.handleBottomActionsSlotChange}></slot><slot name=${FN.expandTooltip} @slotchange=${this.handleTooltipSlotChange}></slot>${g}</calcite-action-group>`}render(){return de`<div class=${ce(Wte.container)}><slot @slotchange=${this.handleDefaultSlotChange}></slot>${this.renderBottomActionGroup()}</div>`}};iD.properties={expandTooltip:[16,{},{state:!0}],hasActionsEnd:[16,{},{state:!0}],hasBottomActions:[16,{},{state:!0}],actionsEndGroupLabel:1,floating:[7,{},{reflect:!0,type:Boolean}],expandDisabled:[7,{},{reflect:!0,type:Boolean}],expanded:[7,{},{reflect:!0,type:Boolean}],layout:[3,{},{reflect:!0}],messageOverrides:[0,{},{attribute:!1}],overflowActionsDisabled:[7,{},{reflect:!0,type:Boolean}],overlayPositioning:[3,{},{reflect:!0}],position:[3,{},{reflect:!0}],scale:[3,{},{reflect:!0}]},iD.styles=Iet;let IP=iD;Pi("calcite-action-bar",IP);const Wft=Object.freeze(Object.defineProperty({__proto__:null,ActionBar:IP},Symbol.toStringTag,{value:"Module"}));let SC;function Cet(t){const e=document.querySelector("arcgis-map"),i=new ot({objectIds:[t.target.value]});As.queryExtent(i).then(r=>{r.extent&&e?.goTo({target:r.extent,speedFactor:2,zoom:17})}),e?.whenLayerView(As).then(r=>{SC&&SC.remove(),SC=r.highlight([t.target.value]),e?.view.on("click",()=>{r.filter=null,SC.remove()})})}function Met(){const{municipals:t,barangays:e}=Re.use(P3),[i,r]=Re.useState(),n=`"Municipality" = '`+t+"'",s=`"Barangay" = '`+e+"'",o=n+" AND "+s,a='"StatusLA" = 7';return Re.useEffect(()=>{const l=As.createQuery();t?t&&!e?l.where=n+" AND "+a:e&&(l.where=o+" AND "+a):l.where=a,As.queryFeatures(l).then(h=>{h.features.map((f,g)=>{const v=f.attributes,w=v.LotID,S=v.CP,T=v.Municipality,C=v.LandOwner,I=v.OBJECTID,A=g;r([]),r(P=>[...P,{id:A,lotid:w,landowner:C,municipality:T,cp:S,objectid:I}])})})},[t,e]),ii.jsx(ii.Fragment,{children:ii.jsx(LYe,{id:"result-list",label:"exproListLabel",displayMode:"nested",style:{width:"26vw"},children:i&&i.filter((l,h)=>h===i.findIndex(f=>f.objectid===l.objectid)).map(l=>ii.jsx(zYe,{expanded:!0,label:l.lotid,description:l.landowner,value:l.objectid,selected:void 0,onCalciteListItemSelect:h=>Cet(h),children:ii.jsxs(RYe,{value:l.cp,slot:"content-end",scale:"s",id:"exproListChip",children:[ii.jsx(DYe,{"full-name":l.municipality,scale:"s"}),l.cp]})},l.id))})})}function Aet(){return ii.jsx(ii.Fragment,{children:ii.jsxs(FYe,{slot:"panel-end",layout:"center",scale:"m",style:{borderStyle:"solid",borderRightWidth:5,borderLeftWidth:5,borderBottomWidth:5,borderColor:"#555555",width:"30%"},children:[ii.jsxs(jYe,{slot:"title-group",id:"thetabs",children:[ii.jsx(Eee,{class:"Land",children:"Land"}),ii.jsx(Eee,{class:"Structure",children:"ExproList"})]}),ii.jsx(kee,{children:ii.jsx(AKe,{})}),ii.jsx(kee,{children:ii.jsx(Met,{})})]})})}function Oet(){const[t,e]=Re.useState(!1);Re.useEffect(()=>{const l=new nj({appId:"YlAakIC8jtNDONG4",popup:!1,portalUrl:"https://gis.railway-sector.com/portal"});PT.registerOAuthInfos([l]);async function h(){try{await PT.checkSignInStatus(l.portalUrl+"/sharing");const f=new Le({url:l.portalUrl,authMode:"no-prompt"});f.load().then(()=>{e(!0),console.log("Logged in as: ",f.user.username)})}catch(f){console.error("Authentication error:",f),PT.getCredential(l.portalUrl)}}h()},[]);const[i,r]=Re.useState(),n=l=>{r(l)},[s,o]=Re.useState(),a=l=>{o(l)};return ii.jsx(ii.Fragment,{children:t===!0?ii.jsx(NYe,{children:ii.jsxs(P3,{value:{municipals:i,updateMunicipals:n,barangays:s,updateBarangays:a},children:[ii.jsx(tHe,{}),ii.jsx(Aet,{}),ii.jsx(AYe,{})]})}):ii.jsx("div",{})})}Tve.createRoot(document.getElementById("root")).render(ii.jsx(Re.StrictMode,{children:ii.jsx(Oet,{})}));const Yft=Object.freeze(Object.defineProperty({__proto__:null,PieChartAm5:k$,PieSeriesAm5:E$},Symbol.toStringTag,{value:"Module"}));export{EK as $,_D as A,Un as B,kt as C,DFe as D,SB as E,OFe as F,am as G,Ke as H,Qr as I,ZFe as J,vEe as K,wi as L,Le as M,vu as N,Ist as O,YD as P,sit as Q,ge as R,kw as S,awe as T,ft as U,Qe as V,bn as W,VM as X,Q6 as Y,kK as Z,ke as _,Cft as a,wt as a$,u as a0,p as a1,Ufe as a2,j as a3,N$ as a4,jt as a5,ze as a6,$de as a7,$5e as a8,k5e as a9,U2 as aA,rr as aB,Ds as aC,o9 as aD,cs as aE,Si as aF,_1 as aG,co as aH,cOe as aI,Mst as aJ,Gv as aK,cD as aL,he as aM,CVe as aN,J4e as aO,Edt as aP,At as aQ,Oi as aR,DA as aS,yv as aT,ni as aU,Rie as aV,Kr as aW,md as aX,_it as aY,wht as aZ,ot as a_,Vt as aa,Xa as ab,LQ as ac,a7e as ad,ZI as ae,BAe as af,Mwe as ag,Qtt as ah,kst as ai,WFe as aj,FBe as ak,Ost as al,Ast as am,xF as an,Ae as ao,yo as ap,aW as aq,us as ar,lMe as as,Ee as at,oi as au,KV as av,nr as aw,Fve as ax,e_ as ay,J_ as az,hV as b,vle as b$,cze as b0,FVe as b1,_3 as b2,qMe as b3,wu as b4,eM as b5,irt as b6,tit as b7,Pr as b8,jd as b9,Lo as bA,cUe as bB,she as bC,wUe as bD,ZLe as bE,yze as bF,u6 as bG,Afe as bH,gUe as bI,Ofe as bJ,Mfe as bK,EUe as bL,_Ue as bM,aUe as bN,uUe as bO,Zv as bP,FD as bQ,RLe as bR,$ae as bS,K$ as bT,GOe as bU,mMe as bV,gMe as bW,yMe as bX,aze as bY,yle as bZ,qw as b_,L8e as ba,z8e as bb,N8e as bc,ne as bd,Pn as be,dt as bf,ig as bg,hMe as bh,L1 as bi,uMe as bj,rB as bk,WOe as bl,wce as bm,aPe as bn,Idt as bo,We as bp,L5e as bq,UAe as br,FAe as bs,vv as bt,yht as bu,rot as bv,O1 as bw,Tv as bx,Nd as by,kUe as bz,Ge as c,mhe as c$,gle as c0,IJ as c1,Qot as c2,NEe as c3,_ot as c4,fie as c5,b1 as c6,iRe as c7,cxe as c8,nt as c9,Jet as cA,tie as cB,mle as cC,Oct as cD,tje as cE,Wr as cF,Hnt as cG,Unt as cH,Bnt as cI,Dr as cJ,hr as cK,Tut as cL,a1 as cM,Fde as cN,pie as cO,L2e as cP,qit as cQ,voe as cR,Ro as cS,E2 as cT,vI as cU,pnt as cV,Tde as cW,ma as cX,Gy as cY,fCe as cZ,Att as c_,R1 as ca,sa as cb,rRe as cc,tn as cd,FX as ce,qg as cf,Gg as cg,iie as ch,nie as ci,sie as cj,Get as ck,Vet as cl,utt as cm,dut as cn,xut as co,gpt as cp,bpt as cq,vpt as cr,hpt as cs,LO as ct,Fht as cu,qht as cv,Wht as cw,x3 as cx,xt as cy,U1 as cz,ce as d,WD as d$,ha as d0,Ao as d1,A1 as d2,Itt as d3,a9 as d4,$re as d5,s7e as d6,ra as d7,tc as d8,n7e as d9,P1 as dA,_t as dB,Zht as dC,Xht as dD,Jht as dE,K9e as dF,X9e as dG,rs as dH,rt as dI,B9e as dJ,_p as dK,U9e as dL,LEe as dM,h$e as dN,f$e as dO,p$e as dP,m$e as dQ,ert as dR,trt as dS,vl as dT,Hj as dU,JT as dV,zNe as dW,Klt as dX,Wt as dY,ect as dZ,N1 as d_,I9e as da,Zt as db,cit as dc,uit as dd,_v as de,Cst as df,RDe as dg,git as dh,mit as di,UA as dj,NDe as dk,PDe as dl,eg as dm,eue as dn,Mv as dp,dit as dq,fit as dr,pit as ds,hit as dt,Qce as du,TDe as dv,$De as dw,Hm as dx,RT as dy,x0 as dz,de as e,G2 as e$,wD as e0,k1 as e1,ev as e2,pr as e3,qm as e4,ade as e5,Qst as e6,QD as e7,QPe as e8,wa as e9,cu as eA,to as eB,En as eC,Aie as eD,UN as eE,HNe as eF,Qte as eG,k6e as eH,_Be as eI,wr as eJ,Vh as eK,fF as eL,_U as eM,mtt as eN,ik as eO,Rs as eP,T2 as eQ,ftt as eR,ort as eS,zU as eT,Xl as eU,rg as eV,Kde as eW,Xde as eX,Ret as eY,Let as eZ,tk as e_,Ove as ea,Mrt as eb,dc as ec,v0 as ed,Rr as ee,Soe as ef,BC as eg,N2e as eh,gt as ei,bhe as ej,g6 as ek,fje as el,CC as em,sk as en,u4 as eo,mnt as ep,Rot as eq,tat as er,Mpt as es,Xv as et,Td as eu,Ele as ev,at as ew,oM as ex,xdt as ey,Ls as ez,Pi as f,ght as f$,nhe as f0,zLe as f1,the as f2,rhe as f3,K2e as f4,pU as f5,fU as f6,X2e as f7,AD as f8,OD as f9,ll as fA,not as fB,Kce as fC,Irt as fD,PD as fE,XLe as fF,zPe as fG,yl as fH,Mve as fI,Net as fJ,wre as fK,os as fL,S9 as fM,rit as fN,DCe as fO,LUe as fP,sg as fQ,tze as fR,NOe as fS,LLe as fT,ihe as fU,dze as fV,krt as fW,nD as fX,sD as fY,Pie as fZ,bi as f_,JBe as fa,qpt as fb,N9e as fc,ya as fd,ott as fe,Mtt as ff,Vv as fg,Z2e as fh,Ept as fi,eJ as fj,kpt as fk,fAe as fl,Vre as fm,Kot as fn,Wrt as fo,_rt as fp,oie as fq,hce as fr,Coe as fs,aB as ft,pDe as fu,iot as fv,D1 as fw,WU as fx,kDe as fy,sot as fz,kr as g,Jve as g$,Xtt as g0,iit as g1,wK as g2,JA as g3,Zit as g4,Yit as g5,NO as g6,t6e as g7,lBe as g8,pBe as g9,wdt as gA,Aoe as gB,GD as gC,jBe as gD,VA as gE,Ht as gF,Cs as gG,gv as gH,zs as gI,frt as gJ,wl as gK,pl as gL,vt as gM,Ye as gN,_l as gO,za as gP,Hft as gQ,v7 as gR,M9 as gS,Lft as gT,qi as gU,tl as gV,v$ as gW,Uot as gX,rat as gY,Um as gZ,Ep as g_,d3 as ga,E6e as gb,e6e as gc,Z6e as gd,X6e as ge,ULe as gf,BLe as gg,hze as gh,So as gi,wBe as gj,Q6e as gk,J6e as gl,un as gm,Xr as gn,Ln as go,To as gp,ol as gq,Uv as gr,wst as gs,zd as gt,pOe as gu,S2 as gv,bp as gw,bv as gx,ga as gy,TBe as gz,Ns as h,D5e as h$,N2 as h0,Lr as h1,zae as h2,no as h3,uc as h4,vnt as h5,X_ as h6,Vrt as h7,HL as h8,nnt as h9,tg as hA,Vee as hB,Kme as hC,h7 as hD,d7 as hE,yT as hF,$p as hG,DZe as hH,KO as hI,RD as hJ,prt as hK,Die as hL,Ebe as hM,BN as hN,fpt as hO,J$ as hP,hJe as hQ,KTe as hR,qb as hS,Bte as hT,VV as hU,qC as hV,vF as hW,$w as hX,DD as hY,gnt as hZ,Wv as h_,BD as ha,EU as hb,IU as hc,rnt as hd,hnt as he,jD as hf,aIe as hg,c5e as hh,zle as hi,hB as hj,_dt as hk,oze as hl,Nce as hm,Ust as hn,Pht as ho,rk as hp,Rn as hq,Bst as hr,Rht as hs,JM as ht,Vst as hu,zht as hv,Fp as hw,Zm as hx,Hst as hy,Rm as hz,vi as i,LOe as i$,bnt as i0,ynt as i1,fnt as i2,rCe as i3,knt as i4,pCe as i5,Gj as i6,Gr as i7,Tct as i8,Jot as i9,Io as iA,gwe as iB,oVe as iC,sht as iD,eht as iE,ZT as iF,cp as iG,sVe as iH,oht as iI,aht as iJ,ize as iK,crt as iL,RIe as iM,Crt as iN,TIe as iO,KY as iP,Eoe as iQ,Ioe as iR,zr as iS,Ert as iT,AOe as iU,bce as iV,g3e as iW,WLe as iX,_ce as iY,W2e as iZ,wMe as i_,Not as ia,Nrt as ib,VN as ic,Yue as id,yat as ie,cl as ig,Xnt as ih,fMe as ii,KL as ij,$dt as ik,jEe as il,Fv as im,bZ as io,t8 as ip,y1 as iq,Sp as ir,Fn as is,km as it,Mdt as iu,nrt as iv,y$e as iw,r$e as ix,Noe as iy,l7e as iz,B_ as j,Lct as j$,bMe as j0,KD as j1,Rle as j2,Fet as j3,EC as j4,Ket as j5,rze as j6,GLe as j7,SUe as j8,Mue as j9,oIe as jA,rJ as jB,ice as jC,j2 as jD,G_ as jE,Nht as jF,dtt as jG,Lbe as jH,om as jI,oje as jJ,nut as jK,vhe as jL,uut as jM,IO as jN,lut as jO,e2 as jP,cut as jQ,EM as jR,eut as jS,elt as jT,Bae as jU,F2 as jV,lF as jW,EIe as jX,Gae as jY,L8 as jZ,Srt as j_,Lot as ja,GU as jb,KA as jc,Cot as jd,Iot as je,y3e as jf,hle as jg,cr as jh,APe as ji,CPe as jj,EPe as jk,iM as jl,zo as jm,JMe as jn,zet as jo,zVe as jp,Awe as jq,k9 as jr,NVe as js,zUe as jt,zp as ju,Hle as jv,bCe as jw,ywe as jx,Rd as jy,lc as jz,L2 as k,y$ as k$,TY as k0,$1 as k1,K2 as k2,W4e as k3,Mo as k4,Gtt as k5,kFe as k6,fv as k7,jy as k8,Cre as k9,Ple as kA,Y2e as kB,VLe as kC,Qde as kD,Aot as kE,Mot as kF,Ks as kG,SU as kH,nF as kI,xU as kJ,Ni as kK,zrt as kL,Yrt as kM,_Z as kN,Wve as kO,Nle as kP,kn as kQ,nit as kR,_se as kS,G0e as kT,bl as kU,UJe as kV,pt as kW,V3 as kX,Rt as kY,yp as kZ,pP as k_,Lrt as ka,UMe as kb,ss as kc,Hae as kd,kIe as ke,Hw as kf,Det as kg,Dde as kh,$U as ki,F as kj,g$e as kk,t$e as kl,kd as km,x5e as kn,uB as ko,gCe as kp,Snt as kq,bA as kr,S3 as ks,YIe as kt,pMe as ku,dMe as kv,FLe as kw,gze as kx,vze as ky,PIe as kz,u7 as l,g3 as l$,CKe as l0,Ue as l1,qIe as l2,Zdt as l3,sst as l4,est as l5,Ku as l6,ett as l7,ttt as l8,Qet as l9,rtt as lA,uk as lB,Bw as lC,o5e as lD,zwe as lE,hut as lF,Cbe as lG,Ott as lH,bht as lI,vht as lJ,Qpe as lK,Xpe as lL,nk as lM,tB as lN,wv as lO,dD as lP,hBe as lQ,R6e as lR,oBe as lS,F6e as lT,kBe as lU,fJ as lV,Bce as lW,VBe as lX,LVe as lY,i8e as lZ,OBe as l_,cwe as la,Np as lb,qD as lc,tu as ld,UVe as le,mpe as lf,_Pe as lg,xPe as lh,C9 as li,yct as lj,gct as lk,mct as ll,fct as lm,bct as ln,vct as lo,pct as lp,hct as lq,IIe as lr,oW as ls,dct as lt,yU as lu,N$e as lv,OEe as lw,e9 as lx,itt as ly,t9 as lz,ri as m,W6e as m$,AQ as m0,ur as m1,s8 as m2,m3,YUe as m4,fk as m5,Y6e as m6,pd as m7,Owe as m8,pD as m9,Oxe as mA,Ube as mB,Vbe as mC,Hrt as mD,Frt as mE,zy as mF,n0e as mG,Yc as mH,o9e as mI,N6e as mJ,hVe as mK,Jpe as mL,xVe as mM,AA as mN,vre as mO,Sut as mP,ci as mQ,S1 as mR,on as mS,tr as mT,ul as mU,bo as mV,SVe as mW,EVe as mX,Upe as mY,PB as mZ,OO as m_,att as ma,nB as mb,zot as mc,Dot as md,CZ as me,dd as mf,i$ as mg,NB as mh,t8e as mi,e8e as mj,K6e as mk,aLe as ml,lLe as mm,Ghe as mn,ehe as mo,Rst as mp,a5e as mq,Qct as mr,R$e as ms,U$e as mt,W$ as mu,urt as mv,aAe as mw,c9 as mx,Ntt as my,ztt as mz,Ut as n,CRe as n$,Ki as n0,OVe as n1,uVe as n2,dVe as n3,fVe as n4,mVe as n5,kVe as n6,gVe as n7,yVe as n8,vVe as n9,Ant as nA,cnt as nB,ant as nC,int as nD,_Ie as nE,ont as nF,XIe as nG,wit as nH,xnt as nI,Int as nJ,Aat as nK,Ky as nL,jX as nM,wCe as nN,vCe as nO,EO as nP,Mae as nQ,Ect as nR,$ct as nS,kct as nT,eje as nU,Xdt as nV,Kdt as nW,Jdt as nX,cc as nY,Bm as nZ,Av as n_,bVe as na,wVe as nb,_Ve as nc,ts as nd,Wit as ne,vp as nf,G$ as ng,ID as nh,dr as ni,yxe as nj,H_ as nk,Lit as nl,Ed as nm,lW as nn,mm as no,$st as np,Zae as nq,Yae as nr,QIe as ns,ZC as nt,dle as nu,Jrt as nv,CU as nw,_0 as nx,Cnt as ny,Mnt as nz,Er as o,Moe as o$,Rve as o0,UEe as o1,lle as o2,$nt as o3,yz as o4,R$ as o5,oit as o6,_ht as o7,$6e as o8,PO as o9,jOe as oA,f3e as oB,MOe as oC,OOe as oD,kS as oE,Co as oF,Xh as oG,gm as oH,xn as oI,N3e as oJ,pLe as oK,lct as oL,mu as oM,FT as oN,$Ve as oO,Gst as oP,DVe as oQ,mht as oR,Fle as oS,fht as oT,n2 as oU,zm as oV,W2 as oW,SBe as oX,rie as oY,Jtt as oZ,_re as o_,VD as oa,Drt as ob,Prt as oc,Lae as od,Dae as oe,eIe as of,iIe as og,Lm as oh,kje as oi,Ije as oj,Cje as ok,Xte as ol,hd as om,Wut as on,rfe as oo,d9 as op,C0 as oq,On as or,jpt as os,lw as ot,cBe as ou,Ya as ov,lht as ow,nLe as ox,Sct as oy,stt as oz,Ld as p,rp as p$,_W as p0,Ore as p1,Kje as p2,Cht as p3,Hv as p4,yd as p5,O9e as p6,Art as p7,Pot as p8,Oot as p9,Uj as pA,iut as pB,Xje as pC,rut as pD,tut as pE,ghe as pF,_B as pG,eVe as pH,tht as pI,Eo as pJ,CIe as pK,nS as pL,Pst as pM,ZNe as pN,zce as pO,qst as pP,h9e as pQ,Ght as pR,Gct as pS,jht as pT,zct as pU,hQ as pV,Ndt as pW,IAe as pX,Iue as pY,jdt as pZ,Qa as p_,_9 as pa,YOe as pb,qOe as pc,YLe as pd,HOe as pe,cU as pf,_3e as pg,qae as ph,Trt as pi,FU as pj,Mre as pk,Ktt as pl,$F as pm,j$ as pn,YDe as po,Jle as pp,oF as pq,Rat as pr,Dat as ps,l5e as pt,LB as pu,f8e as pv,Git as pw,HU as px,Zb as py,Lve as pz,Zut as q,sv as q$,Q_ as q0,T6e as q1,L6e as q2,z6e as q3,j6e as q4,eBe as q5,dBe as q6,vat as q7,bat as q8,wat as q9,gi as qA,um as qB,C8e as qC,jpe as qD,nu as qE,tp as qF,au as qG,wKe as qH,zf as qI,bt as qJ,Qt as qK,Bt as qL,PJe as qM,EJe as qN,Nft as qO,Dft as qP,lo as qQ,S$ as qR,yge as qS,Qm as qT,gp as qU,Ps as qV,ir as qW,Ce as qX,kJe as qY,zft as qZ,ti as q_,du as qa,qy as qb,Im as qc,F9 as qd,Ctt as qe,Zet as qf,Pde as qg,mpt as qh,Yct as qi,Wct as qj,oct as qk,act as ql,Btt as qm,_de as qn,Nde as qo,o1 as qp,gd as qq,kU as qr,Aae as qs,Q$ as qt,bde as qu,dk as qv,V1 as qw,br as qx,u8e as qy,c8e as qz,tdt as r,rlt as r$,Jr as r0,ate as r1,aC as r2,jv as r3,N3 as r4,_N as r5,Do as r6,Aft as r7,zn as r8,fa as r9,NUe as rA,nat as rB,aat as rC,iat as rD,jUe as rE,zbe as rF,gtt as rG,ng as rH,Foe as rI,s5e as rJ,uIe as rK,dIe as rL,YC as rM,Tnt as rN,Uie as rO,XEe as rP,KEe as rQ,gFe as rR,Vn as rS,l3 as rT,ALe as rU,Ptt as rV,Ode as rW,Rde as rX,V5e as rY,ilt as rZ,J5e as r_,bXe as ra,p7 as rb,b$ as rc,da as rd,qJe as re,Ms as rf,Rft as rg,g$ as rh,Tu as ri,hP as rj,bm as rk,al as rl,Oft as rm,Oat as rn,Az as ro,xst as rp,cO as rq,fl as rr,uze as rs,cIe as rt,XA as ru,rrt as rv,WEe as rw,_st as rx,ns as ry,is as rz,ee as s,npt as s$,SOe as s0,Tst as s1,srt as s2,wp as s3,ko as s4,Est as s5,htt as s6,jNe as s7,yCe as s8,Wet as s9,Nbe as sA,y2e as sB,C2e as sC,Qnt as sD,f3 as sE,$pt as sF,sct as sG,wy as sH,Ypt as sI,Tdt as sJ,OF as sK,DPe as sL,uht as sM,r3e as sN,tot as sO,Yst as sP,Xst as sQ,Zst as sR,Kst as sS,Jst as sT,eot as sU,uo as sV,wut as sW,dht as sX,JG as sY,Wst as sZ,dCe as s_,Het as sa,uie as sb,Qit as sc,Kit as sd,Lst as se,gie as sf,kRe as sg,d5e as sh,wde as si,khe as sj,ntt as sk,Uct as sl,Bct as sm,Hct as sn,qct as so,Cct as sp,Act as sq,Mct as sr,Eje as ss,V2e as st,yit as su,Pat as sv,Xit as sw,Jit as sx,d$e as sy,g2e as sz,bU as t,Grt as t$,wnt as t0,xCe as t1,Ent as t2,lat as t3,rLe as t4,Kht as t5,ypt as t6,Qht as t7,ppt as t8,ec as t9,z8 as tA,Rct as tB,eUe as tC,rUe as tD,Dct as tE,Yht as tF,hje as tG,Pct as tH,cct as tI,uct as tJ,jct as tK,Fct as tL,Zct as tM,Jct as tN,wct as tO,Xct as tP,Kct as tQ,QNe as tR,rje as tS,Nhe as tT,j_ as tU,Vct as tV,BNe as tW,eit as tX,MIe as tY,SMe as tZ,mIe as t_,xpt as ta,Urt as tb,Ict as tc,lpt as td,apt as te,upt as tf,dpt as tg,fQ as th,mQ as ti,gQ as tj,opt as tk,spt as tl,Yl as tm,Nct as tn,T$e as to,S$e as tp,art as tq,l0e as tr,wpt as ts,_pt as tt,ept as tu,Hht as tv,cpt as tw,ipt as tx,tUe as ty,tpt as tz,ds as u,Ile as u$,jat as u0,ePe as u1,Rae as u2,Cle as u3,jie as u4,QT as u5,Vtt as u6,QOe as u7,Lnt as u8,G9e as u9,aut as uA,xrt as uB,sut as uC,_ut as uD,vut as uE,but as uF,yut as uG,gut as uH,Tje as uI,$he as uJ,xct as uK,_ct as uL,_je as uM,nct as uN,snt as uO,ap as uP,aF as uQ,Zrt as uR,Po as uS,jve as uT,mze as uU,qet as uV,Yot as uW,Zot as uX,DIe as uY,uPe as uZ,cPe as u_,qrt as ua,YCe as ub,NX as uc,Pve as ud,Bet as ue,Uet as uf,ZIe as ug,LDe as uh,Dit as ui,Rit as uj,t3 as uk,Cm as ul,BDe as um,zit as un,Y2 as uo,J2 as up,s1 as uq,zDe as ur,ltt as us,Ape as ut,JDe as uu,XDe as uv,eB as uw,bFe as ux,soe as uy,out as uz,Yut as v,Cw as v$,Dfe as v0,NPe as v1,ROe as v2,POe as v3,DOe as v4,JOe as v5,lPe as v6,Cfe as v7,tst as v8,r5e as v9,J8e as vA,eat as vB,Vot as vC,qot as vD,Bot as vE,ctt as vF,pat as vG,hat as vH,Xet as vI,jot as vJ,jrt as vK,Xot as vL,xAe as vM,fLe as vN,qde as vO,Utt as vP,zI as vQ,YZ as vR,wot as vS,eu as vT,Qdt as vU,Is as vV,R8 as vW,Wat as vX,Hot as vY,EOe as vZ,Bht as v_,VOe as va,tlt as vb,Qat as vc,Aht as vd,SIe as ve,Xrt as vf,ent as vg,unt as vh,Krt as vi,tnt as vj,dnt as vk,KIe as vl,xA as vm,Oht as vn,Dht as vo,RUe as vp,GMe as vq,_nt as vr,ok as vs,ak as vt,lk as vu,Cdt as vv,HRe as vw,Gat as vx,I8e as vy,r0 as vz,xB as w,b3e as w0,Dst as w1,Tot as w2,Fot as w3,$rt as w4,nIe as w5,v3e as w6,qre as w7,tse as w8,nst as w9,Bft as wA,qft as wB,Gft as wC,Wft as wD,Yft as wE,Got as wa,rst as wb,ist as wc,Brt as wd,RU as we,ptt as wf,Wot as wg,zOe as wh,m3e as wi,ZOe as wj,Oke as wk,mrt as wl,qnt as wm,Wnt as wn,$ut as wo,Wdt as wp,cht as wq,Fpt as wr,Ift as ws,R3 as wt,Mft as wu,jft as wv,GKe as ww,Fft as wx,Vft as wy,Uft as wz,RFe as x,rD as y,WG as z};

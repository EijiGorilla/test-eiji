import{H as _,a5 as d,bS as M,bi as u,eW as k,f1 as m,fR as A,bR as v,e_ as U,f4 as V,gf as z,gg as $,bg as R,gh as x,gi as S}from"./index-tyY3opuW.js";function b(n,y){if(!Array.isArray(n)||n.length<y)return!1;for(const g of n)if(typeof g!="number")return!1;return!0}const I=7645211,G={xmin:-180,ymin:-90,zmin:-450,xmax:180,ymax:90,zmax:8850};new S({heightModel:"gravity-related-height",heightUnit:"meters",vertCRS:"EGM96_Geoid"}),new S({heightModel:"gravity-related-height",heightUnit:"meters",vertCRS:"EGM2008_Geoid"}),new S({heightModel:"ellipsoidal",heightUnit:"meters",vertCRS:"WGS_1984"}),new S({heightModel:"ellipsoidal",heightUnit:"meters",vertCRS:"ETRS_1989"}),new S({heightModel:"gravity-related-height",heightUnit:"us-feet",vertCRS:"NAVD88_height_(ftUS)"}),new S({heightModel:"gravity-related-height",heightUnit:"meters",vertCRS:"DHHN2016_(height) "});function W(n){return!(!(n.extensions?.ESRI_crs?.wkid||n.extensions?.ESRI_crs?.latestWkid||n.extensions?.ESRI_crs?.wkt)||!n.root?.extensions?.ESRI_crs?.boundingVolume?.box&&!n.root?.extensions?.ESRI_crs?.boundingVolume?.sphere)}function C(n,y=!1){let g=new _({wkid:4326,vcsWkid:115700}),o=n.root?.boundingVolume,E=!1,f=n?.root?.transform;if(y&&(n.extensions?.ESRI_crs?.wkid||n.extensions?.ESRI_crs?.latestWkid||n.extensions?.ESRI_crs?.wkt)&&(n.root?.extensions?.ESRI_crs?.boundingVolume?.box||n.root?.extensions?.ESRI_crs?.boundingVolume?.sphere))g=new _(n.extensions?.ESRI_crs),o=n.root?.extensions?.ESRI_crs?.boundingVolume,f=n.root?.transform,E=!0;else if(!o)return new d(-180,-90,180,90,g);if(o.box){const t=o?.box;if(t[3]>I&&t[7]>I&&t[11]>I)return new d({...G,spatialReference:g})}const w=R();if(!E&&o.region&&b(o.region,6)){const t=o.region,a=M(t[0]),s=M(t[1]),r=t[4],i=M(t[2]),e=M(t[3]),h=t[5];return new d({xmin:a,ymin:s,zmin:r,xmax:i,ymax:e,zmax:h,spatialReference:g})}if(o.sphere&&b(o.sphere,4)){const t=o.sphere,a=u(t[0],t[1],t[2]),s=t[3]/Math.sqrt(3),r=R();k(r,a,u(s,s,s));const i=R();if(m(i,a,u(s,s,s)),f&&b(f,16)){const c=f;A(w,r,c),v(r,w),A(w,i,c),v(i,w)}E||(U(r,V,0,r,_.WGS84,0),U(i,V,0,i,_.WGS84,0));const e=R(),h=R();return z(e,r,i),$(h,r,i),new d({xmin:e[0],ymin:e[1],zmin:e[2],xmax:h[0],ymax:h[1],zmax:h[2],spatialReference:g})}if(o.box&&b(o.box,12)){const t=o.box,a=u(t[0],t[1],t[2]),s=u(t[3],t[4],t[5]),r=u(t[6],t[7],t[8]),i=u(t[9],t[10],t[11]),e=[];for(let l=0;l<8;++l)e.push(R());if(m(e[0],a,s),m(e[0],e[0],r),m(e[0],e[0],i),x(e[1],a,s),m(e[1],e[1],r),m(e[1],e[1],i),m(e[2],a,s),x(e[2],e[2],r),m(e[2],e[2],i),x(e[3],a,s),x(e[3],e[3],r),m(e[3],e[3],i),m(e[4],a,s),m(e[4],e[4],r),x(e[4],e[4],i),x(e[5],a,s),m(e[5],e[5],r),x(e[5],e[5],i),m(e[6],a,s),x(e[6],e[6],r),x(e[6],e[6],i),x(e[7],a,s),x(e[7],e[7],r),x(e[7],e[7],i),f&&b(f,16)){const l=f;for(let p=0;p<8;++p)A(e[p],e[p],l)}const h=u(-Number.MAX_VALUE,-Number.MAX_VALUE,-Number.MAX_VALUE),c=u(Number.MAX_VALUE,Number.MAX_VALUE,Number.MAX_VALUE);for(let l=0;l<8;++l)E||U(e[l],V,0,e[l],_.WGS84,0),z(c,c,e[l]),$(h,h,e[l]);return new d({xmin:c[0],ymin:c[1],zmin:c[2],xmax:h[0],ymax:h[1],zmax:h[2],spatialReference:g})}return new d(-180,-90,180,90,g)}export{C as E,W as R};
